{"version":3,"sources":["redux/user/types.js","redux/user/reducer.js","redux/default/types.js","redux/default/reducer.js","redux/order/types.js","redux/order/reducer.js","redux/category/types.js","redux/category/reducer.js","redux/rootReducers.js","redux/sagas/api.js","redux/sagas/user/loggin_user.js","redux/sagas/user/notify_user.js","redux/sagas/user/notify_user_read.js","redux/sagas/user/checkLoging.js","redux/sagas/user/index.js","redux/order/actions.js","redux/sagas/order/getList.js","redux/sagas/order/deleteOrder.js","redux/sagas/order/saveOrder.js","redux/sagas/order/index.js","redux/sagas/category/getList.js","redux/sagas/category/index.js","redux/sagas/index.js","redux/store.js","redux/user/actions.js","components/Layouts/notify.jsx","components/Layouts/navtop.jsx","components/Layouts/menu.jsx","components/Layouts/breadcrumb.jsx","components/Layouts/footer.jsx","components/Layouts/headerTable.jsx","components/Layouts/pagination.jsx","components/Users/index_filter.jsx","components/Layouts/actionsTable.jsx","components/Users/index.jsx","components/Users/userNameInput.jsx","components/Users/userEmailInput.jsx","components/Users/add.jsx","components/Store/index_filter.jsx","components/Store/index.jsx","components/Store/add_lote.jsx","components/Store/input_category.jsx","components/Store/input_suppliers.jsx","components/Store/input_brand.jsx","components/Layouts/codeLentString.jsx","components/Store/add.jsx","components/Store/category_list.jsx","components/Store/categories.jsx","components/Store/brands.jsx","components/Store/inventory.jsx","components/Contacts/index_filter.jsx","components/Contacts/index.jsx","components/Contacts/mapa.jsx","components/Exam/graduacionExam.jsx","components/Exam/recomendaciones.jsx","components/Exam/listsExams.jsx","components/Contacts/nameInput.jsx","components/Contacts/emailInput.jsx","components/Contacts/add_personal.jsx","components/Contacts/add_domicilio.jsx","components/Contacts/add_telefonos.jsx","components/Contacts/add.jsx","components/Contacts/addByContact.jsx","components/Layouts/tools_category.jsx","components/Layouts/tools.jsx","components/Exam/index_filter.jsx","components/Exam/index.jsx","components/Contacts/easyContact.jsx","components/Contacts/searchContactCard.jsx","components/Exam/generalesExam.jsx","components/Exam/interrogatoriosExam.jsx","components/Exam/keraRetExam.jsx","components/Exam/diabetesExam.jsx","components/Exam/agudezaExam.jsx","components/Exam/diagnosticoExam.jsx","components/Exam/observacionesExam.jsx","components/Layouts/messenger.jsx","components/Contacts/contactDataVertical.jsx","components/Exam/print_exam.jsx","components/Exam/add.jsx","components/Order/status_span.jsx","components/Order/inbox_list.jsx","components/Order/inbox.jsx","components/Contacts/searchContactLine.jsx","components/Exam/listExamsCustomer.jsx","components/Exam/examCustomer.jsx","components/Order/itemsOrder.jsx","components/Order/asistent.jsx","components/Order/labOrder.jsx","components/Order/bicelacionOrder.jsx","components/Order/addOrder.jsx","components/Order/index.jsx","redux/category/actions.js","components/Sales/index_filter.jsx","components/Sales/index.jsx","components/Sales/abonoAdd.jsx","components/Sales/print_pay.jsx","components/Sales/abonos.jsx","components/Sales/print_sale.jsx","components/Sales/edoCuenta.jsx","components/Sales/add.jsx","components/Sales/reportPaymentsDetails.jsx","components/Sales/reportPays.jsx","components/Sales/reportBank.jsx","components/Dashboard/cash.jsx","components/Dashboard/dateUser.jsx","components/Dashboard/boxCut.jsx","components/Dashboard/index.jsx","components/Layouts/notifyAll.jsx","Routers.jsx","components/Layouts/login.jsx","redux/default/actions.js","App.jsx","index.js"],"names":["TYPE","LS","localStorage","getItem","JSON","parse","isLogged","IS_LOGGED","idUser","ID_USER","username","USERNAME","name","NAME","rol","ROL","email","EMAIL","token","DEFAULT_STATE","errors","notifications","loggin_state","state","action","type","payload","data","ls","id","setItem","stringify","console","log","port","PORT","window","location","protocol","toString","replace","host","HOST","hostname","company","success","undefined","default_reducer","orders","ORDER","orderBy","OBY","order","ORD","search","SEARCH","page","PAGE","status","STATUS","itemsPage","list","metaList","orderId","orderby","messages","loading","localstorage","storage","options","result","key","val","rootReducers","combineReducers","logging","default","default_state","order_state","category","category_state","api","url","method","body","TOKEN","fetch","headers","Accept","Authorization","then","res","a","back","json","getUrl","node","param","paramString","Object","keys","length","URLSearchParams","handleLoggin","credenciales","password","call","message","put","error","errornum","handleNotify","NOTIFYS","unreadNotifications","handleNotifyRead","count","parseInt","user","index","takeLatest","loggin","checkLoging","notify","readNotify","getListOrder","setListOrder","setMessageOrder","handleGetOrder","meta","text","handledDeleteOrder","ID","OPTIONS","indexOf","errnum","handleSaveOrder","OPT","getList","deleteOrder","saveOrder","rootSaga","all","saga","createSagaMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","run","NotifyComponent","props","handleClickRead","e","readNotifyUser","preventDefault","timerNotify","this","getNotifyUser","setInterval","clearInterval","countNotify","className","data-toggle","href","map","notiFyType","split","title","icon","time","moment","created_at","fromNow","to","onClick","Fragment","Component","mapDispatchToProps","connect","NavtopComponent","data-widget","role","$","toggleClass","companyName","active","useLocation","pathname","avatar","src","alt","style","opacity","data-accordion","_LOGOUT","Swal","fire","showCancelButton","confirmButtonColor","confirmButtonText","cancelButtonText","dismiss","value","BreadcrumbComponent","date","format","setState","TITLE","INC","USER_NAME","Footer","HeaderTable","handleOrder","item","actions","col","filter","scope","cursor","Pagination","handleChangePage","total","current_page","Math","ceil","per_page","toFixed","last_page","Filter","onKeyPressSearch","setFilters","onClickClean","changeFilters","modal","target","data-target","tabIndex","data-dismiss","aria-label","aria-hidden","placeholder","onChange","onKeyPress","ActionsTable","handleDelete","delete","edit","Users","load","toUpperCase","showLoaderOnConfirm","preConfirm","confirm","signal","response","ok","Error","catch","showConfirmButton","timer","getUsers","statusText","users","sdd","controller","AbortController","abort","colSpan","session","last_activity","updated_at","UserName","handleChange","x","toLowerCase","test","validUser","bgColor","validate","varLocalStorage","timeFetch","clearTimeout","setTimeout","searchUser","alert","autoComplete","autoFocus","required","minLength","maxLength","pattern","validEmail","UserAdd","changePage","catchInputs","handleSave","validUserName","validUserEmail","history","goBack","getUser","match","params","send","onSubmit","disabled","ip_address","user_agent","user_data","Store","onchangeSearch","getItems","items","codigo","marca","producto","unidad","cantidades","precio","proveedor","nombre","lotes","ordenar","buscar","pagina","StoreLote","tr","parentNode","classList","add","deleteColor","remove","loteNew","handelGetLots","refresh","bill","cost","price","amount","lote","handleNewLote","bind","pages","i","push","width","lot","factura","costo","min","validInputs","store_items_id","InputCategory","handleChangeCategory","categoryData","find","categoryName","textSelect","categoryRef","ref","cat","categoria","SuppliersInput","getSuppliers","suppliers_data","supplier","handleChangeSupplier","supplierRef","sp","InputBrand","handleChangeBrand","getBrands","brands","brandsName","brand","brandRef","codeLentString","string","StoreAdd","handleNameLent","grad","stringcode","category2","current","selectedIndex","trim","category3","category4","handleCodeLent","Codestring","handleCodeString","code","setNew","codebar","brand_id","unit","cant","category_id","category_id1","category_id2","category_id3","category_id4","category_list2","category_list3","category_list4","getCategory","category_list1","codeRef","nameRef","contact_id","depende_de","hijos","c_barra","graduacion","category_data","category1","React","createRef","next","codeValue","nameValue","CategoryList","handleClickDelete","category_raiz","indexCat","splice","handleClickSave","nameInput","focus","getCategoriesMain","CategoryData","categoryid","ppage","handleClickAdd","categoryDataName","categorySelect","last","input","Categories","handleChangeState","category_hijos1","category_hijos2","category_hijos3","category_hijos4","Brands","deleteBrand","indexItem","saveBrand","changeInput","Inventory","catid","handleClickCat","catData_1","catData_2","sons","catid_1","catid_2","catid_3","catData_3","getCategories","header","parseFloat","cil","rangoInf","rangoSup","row","zero","children","h","business","Contacts","getContacts","contacts","contact","rfc","tipo","telefonos","t_movil","enUso","negocio","Mapa","eventLoadMap","request","query","calle","colonia","municipio","estado","cp","fields","service","google","maps","places","PlacesService","findPlaceFromQuery","results","markers","setMap","place","marker","Marker","position","geometry","formatted_address","addListener","address","changeAddress","setCenter","googlePlaceAPILoad1","mapCenter","LatLng","Map","document","getElementById","center","zoom","height","GraduacionExam","checked","onChangeInput","readOnly","cilindrod","cilindroi","esferaod","esferaoi","ejeod","ejeoi","adiciond","adicioni","adicion_media_od","adicion_media_oi","dpod","dpoi","alturaod","alturaoi","lcmarca","lcgod","lcgoi","max","step","Recomendaciones","handleCodeName","handleClickCategory","nameCategory","category_id_2","category_id_3","category_list_2","category_list_3","handleCategoryChange","gradod","gradoi","category_list","codesItems","od","oi","handleCodesItems","update","ListsExams","handleSaveExam","paciente","edad","handleDataExam","exam","handleChangeInput","ChangeInput","handleClickDeleteExam","handleClickSelect","handleNewOrder","exam_id","getExams","handleNewExam","client","examEdit","select","datos","utc","local","observaciones","category_ii","Date","isSame","examToday","newExam","NameInput","eraseTilde","RegExp","stringOk","contacto","validName","EmailInput","emailOriginal","emailContact","AddPersonal","birthday","AddDomicilio","AddTelefonos","t_casa","t_oficina","verify","ContactsAdd","domicilio","telnumbers","empresa","f_nacimiento","timeSave","AddContact","ToolsCategory","category_select","category_hijos","category_hijos_3","newItem","padre","clickSave","server","clickSaveUser","Exam","handleFilter","exams","order_id","fecha","easyContact","changeValue","setContac","searchContactLine","getContact","dataContact","handleClickChange","getIdContact","handleClickContact","word","handleSearcContact","contactInput","exec","GeneralesExam","aria-expanded","aria-controls","aria-labelledby","data-parent","pc","htmlFor","pc_time","tablet","tablet_time","movil","movil_time","lap","lap_time","frontal","occipital","generality","cefalea","temporaod","temporaoi","c_frecuencia","c_intensidad","InterrogatorioExam","interrogatorio","coa","rows","aopp","aopf","KeraRetExam","keratometriaod","keratometriaoi","rsod","rsoi","DiabetesExam","d_fclod","d_fcloi","d_time","d_media","d_test","d_fclod_time","d_fcloi_time","oftalmoscopia","AgudezaExam","cvod","cvoi","avslod","avsloi","avcgaod","avcgaoi","avfod","avfoi","avf2o","DiagnosticoExam","diagnostico","presbicie","piod","pioi","txoftalmico","ObservacionesExam","messenger","handleMessege","sendMessenger","table","idRow","getMessengers","pagado","created_user","mensaje","contactDataVertical","printExam","ExamAdd","handleStatus","getExam","pantalleooi","pantalleood","temporal","txoptico","item1","item2","hoy","now","registro","toDay","nameItem","obj","print","StatusToString","listInbox","pedidos","editId","_handleDeleteOrder","handleDeleteOrder","_handleSelectOrder","handleSelectOrder","pedido","nota","laboratorio","folio_lab","caja","examen","inboxOrderComponent","handleSearchErase","_handleSearchOrdes","handleSearchOrdes","handleSearchOrder","timeSearch","handleChangeSearchInput","LOADING","_handlePageOrder","handlePageOrder","top","left","color","searchContact","listExamsCustomer","addExam","examCustomer","handelChangeExam","handelChangeCode","codes","Items","handelClickItemDb","subtotal","cantidad","inStorage","out","itemsDb","deleteItem","addItem","itemNew","handleNewItem","descripcion","inputCant","inputItem","db","maxWidth","addCancel","Asistent","_handleGetCategories","handleGetCategories","_handleSaveOrder","random","substring","categories","_handleChangeInput","labOrder","supplies","lab_id","s","npedidolab","bicelacionOrder","ncaja","AddOrder","handleWhachExam","examShow","productos","DORDER","rel","indexOrderComponent","handleSetSelectOptions","_getListOrder","_saveOrder","cat_id","_getListCategories","getListCategories","_setStateVar","setStateVar","_deleteOrder","handleShowPanel","panel","ORDERBY","IP","ORDERS","ERRS","MSGS","forEach","ord","msg","ORDERS_LIST","META","CATEGORY_LIST","showpanel","mapActionsToProps","getPedidos","ventas","venta","cliente","AddAbono","getBaks","listBank","handlePay","metodopago","bank_id","auth","details","sale_id","saleId","contactId","banco","onChangeValue","pay","bank","printPay","ListAbonos","getPayments","content","pri","contentWindow","open","write","innerHTML","close","handleLoad","SetMethodPayment","sale","abonos","abono","metodo","Autorizacion","aria-disabled","folio","printSale","descuento","saldo","abonado","totalItems","fontSize","fontFamily","edoCuenta","SaleAdd","getSales","usuario","created","chat","ReportPaymentsDetails","getSaleDay","saleDay","saleUser","payments","metodoname","ReportPay","changeState","donutChartCanvas","get","getContext","donutOptions","maintainAspectRatio","responsive","labels","values","efectivo","donutData","char","destroy","mp","datasets","backgroundColor","Chart","ReportBank","bankname","Cash","deleteAtm","getAtms","sendAtm","atmDate","atmUser","atm","atms","DateUser","BoxCut","Dashboard","NotifyAll","handleClickViewNotify","seccion","checkNotify","read_at","Routers","handlePage","handleTitleSection","locations","logOut","path","render","extric","Order","LogginComponent","pressEnter","txtHost","_CHANGE_HOST","changeHost","VALUE","KEY","showTools","hostShow","handleLogin","U","P","_LOGGINGPROCESS","BODY","toLocaleLowerCase","DATA_VALID","isValid","E_VIEJO","H_STATUS_VIEJO","changeHostStatus","E_NEW","H_STATUS_NEW","LOADDING","H_TXT","HSHOW","E","COMPANY","ERRORS","H_STATUS","H_NAME","App","_checkLogging","checkLogging","IS_LOGGING","Index"],"mappings":"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","file":"static/js/main.f3cc18b5.chunk.js","sourcesContent":["export const TYPE = {\n    SAGA_TRY_LOGING: \"SAGA_TRY_LOGING\",\n    SAGA_CHECK_LOGING: \"SAGA_CHECK_LOGING\",\n    LOGING_SUCCESS: \"LOGING_SUCCESS\",\n    LOGING_ERROR: \"LOGING_ERROR\",\n    LOGING_DELETE: \"LOGING_DELETE\",\n\n    SAGA_GET_NOTIFY: \"SAGA_GET_NOTIFY\",\n    SAGA_READ_NOTIFYS: \"SAGA_READ_NOTIFYS\",\n    GET_NOTIFYS: \"GET_NOTIFYS\",\n};","import { TYPE } from \"./types\";\n\nconst LS = localStorage.getItem(\"OrusSystem\"),\n  {\n    isLogged: IS_LOGGED = false,\n    idUser: ID_USER = 0,\n    username: USERNAME = null,\n    name: NAME = null,\n    rol: ROL = null,\n    email: EMAIL = null,\n    token: TOKEN = null,\n  } = JSON.parse(LS ? LS : \"{}\"),\n  DEFAULT_STATE = {\n    isLogged: IS_LOGGED,\n    idUser: ID_USER,\n    username: USERNAME,\n    name: NAME,\n    rol: ROL,\n    email: EMAIL,\n    token: TOKEN,\n    errors: {},\n    notifications: [],\n  };\n\nconst loggin_state = (state = DEFAULT_STATE, action) => {\n  switch (action.type) {\n    case TYPE.LOGING_SUCCESS: {\n      const LS = localStorage.getItem(\"OrusSystem\"),\n        { data, token } = action.payload,\n        { ls = {} } = {\n          ls: JSON.parse(LS ? LS : \"{}\"),\n        };\n      ls.isLogged = true;\n      ls.idUser = data.id;\n      ls.username = data.username;\n      ls.name = data.name;\n      ls.rol = data.rol;\n      ls.email = data.email;\n      ls.token = token;\n      localStorage.setItem(\"OrusSystem\", JSON.stringify(ls));\n      console.log(\"[Orus System] Acceso a sistema exitoso\");\n      return {\n        ...state,\n        isLogged: true,\n        idUser: data.id,\n        username: data.username,\n        name: data.name,\n        rol: data.rol,\n        email: data.email,\n        token: token,\n        errors: {},\n      };\n    }\n    case TYPE.LOGING_DELETE: {\n      const LS = localStorage.getItem(\"OrusSystem\"),\n        { ls = {} } = {\n          ls: JSON.parse(LS ? LS : \"{}\"),\n        };\n      delete ls.isLogged;\n      delete ls.idUser;\n      delete ls.username;\n      delete ls.name;\n      delete ls.rol;\n      delete ls.email;\n      delete ls.token;\n      localStorage.setItem(\"OrusSystem\", JSON.stringify(ls));\n      console.log(\"[Orus System] Cierre de sistema exitoso\");\n      return {\n        ...state,\n        isLogged: false,\n        idUser: 0,\n        username: null,\n        name: null,\n        rol: null,\n        email: null,\n        token: null,\n        errors: {},\n      };\n    }\n    case TYPE.LOGING_ERROR: {\n      const errors = action.payload;\n      return {\n        ...state,\n        errors,\n      };\n    }\n    case TYPE.GET_NOTIFYS: {\n      const notifications = action.payload;\n      return {\n        ...state,\n        notifications,\n      };\n    }\n\n    default:\n      return {\n        ...state,\n        errors: {},\n      };\n  }\n};\n\nexport default loggin_state;\n","export const TYPE = {\n    CHANGE_HOST: \"CHANGE_HOST\",\n};","import { TYPE } from \"./types\";\n\nconst LS = localStorage.getItem(\"OrusSystem\"),\n  {\n    port: PORT = window.location.protocol.toString().replace(\":\", \"\"),\n    host: HOST = window.location.hostname,\n    company: COMPANY = \"optica madero\",\n  } = JSON.parse(LS ? LS : \"{}\"),\n  DEFAULT_STATE = {\n    port: PORT,\n    host: HOST,\n    company: COMPANY,\n    success: undefined,\n  };\n\nconst default_reducer = (state = DEFAULT_STATE, action) => {\n  switch (action.type) {\n    case TYPE.CHANGE_HOST: {\n      const LS = localStorage.getItem(\"OrusSystem\"),\n        {\n          host: HOST = window.location.hostname,\n          port: PORT = window.location.protocol.toString().replace(\":\", \"\"),\n        } = action.payload,\n        { ls = {} } = {\n          ls: JSON.parse(LS ? LS : \"{}\"),\n        };\n      console.log(\"[Orus System] cambiando datos de host:\", PORT, HOST);\n      ls.port = PORT;\n      ls.host = HOST;\n      localStorage.setItem(\"OrusSystem\", JSON.stringify(ls));\n      return {\n        ...state,\n        port: PORT,\n        host: HOST,\n        success: true,\n      };\n    }\n    default:\n      const LS = localStorage.getItem(\"OrusSystem\"),\n        { ls = {} } = {\n          ls: JSON.parse(LS ? LS : \"{}\"),\n        };\n      ls.port = state.port;\n      ls.host = state.host;\n      ls.company = state.company;\n      localStorage.setItem(\"OrusSystem\", JSON.stringify(ls));\n      return {\n        ...state,\n        success: undefined,\n      };\n  }\n};\n\nexport default default_reducer;\n","export const TYPE = {\n  SAGA_GET_LIST: \"SAGA_GET_LIST\",\n  SAGA_DELETE_ORDER: \"DELETE_ORDER\",\n  SAGA_SAVE_ORDER: \"SAGA_SAVE_ORDER\",\n\n  SET_LIST: \"SET_LIST\",\n  SET_STATE_VAR: \"SET_STATE_VAR\",\n  SET_ERROR: \"SET_ERROR\",\n  SET_MESSAGE: \"SET_MESSAGE\",\n};\n","import { TYPE } from \"./types\";\n\nconst LS = localStorage.getItem(\"OrusSystem\"),\n  { orders: ORDER = {} } = JSON.parse(LS ? LS : \"{}\"),\n  {\n    orderBy: OBY = \"updated_at\",\n    order: ORD = \"desc\",\n    search: SEARCH = \"\",\n    page: PAGE = 1,\n    status: STATUS = \"\",\n    itemsPage: IP = 10,\n  } = ORDER,\n  DEFAULT_STATE = {\n    list: [],\n    metaList: {},\n    orderId: 0,\n    orderby: OBY,\n    order: ORD,\n    search: SEARCH,\n    page: PAGE,\n    status: STATUS,\n    itemsPage: IP,\n    errors: [],\n    messages: [],\n    loading: false,\n  };\n\nconst default_reducer = (state = DEFAULT_STATE, action) => {\n  switch (action.type) {\n    case TYPE.SAGA_GET_LIST: {\n      return {\n        ...state,\n        loading: true,\n      };\n    }\n    case TYPE.SAGA_DELETE_ORDER: {\n      return {\n        ...state,\n        loading: true,\n      };\n    }\n    case TYPE.SAGA_SAVE_ORDER: {\n      return {\n        ...state,\n        loading: true,\n      };\n    }\n    case TYPE.SET_LIST: {\n      const { payload } = action,\n        LS = localStorage.getItem(\"OrusSystem\"),\n        localstorage = JSON.parse(LS ? LS : \"{}\"),\n        storage = {\n          ...localstorage,\n          orders: {\n            ...payload.options,\n          },\n        };\n\n      localStorage.setItem(\"OrusSystem\", JSON.stringify(storage));\n\n      return {\n        ...state,\n        ...payload.result,\n        ...payload.options,\n        orderId: 0,\n        messages: [],\n        loading: false,\n      };\n    }\n    case TYPE.SET_STATE_VAR: {\n      const { payload } = action;\n      return {\n        ...state,\n        [payload.key]: payload.val,\n      };\n    }\n    case TYPE.SET_ERROR: {\n      const { payload } = action;\n      return {\n        ...state,\n        loading: false,\n        errors: payload,\n      };\n    }\n    case TYPE.SET_MESSAGE: {\n      const { payload } = action;\n      return {\n        ...state,\n        loading: false,\n        messages: payload,\n      };\n    }\n    default:\n      return {\n        ...state,\n      };\n  }\n};\n\nexport default default_reducer;\n","export const TYPE = {\n  SAGA_GET_LIST_CATEGORIES: \"SAGA_GET_LIST_CATEGORIES\",\n  SAGE_DELETE_CATEGORY: \"SAGE_DELETE_CATEGORY\",\n\n  SET_LIST_CATEGORY: \"SET_LIST_CATEGORIES\",\n  SET_ERROR_CATEGORY: \"SET_ERROR_CATEGORY\",\n};","import { TYPE } from \"./types\";\n\nconst DEFAULT_STATE = {\n    list: [],\n    metaList: {},\n    orderId: 0,\n    orderby: \"created_at\",\n    order: \"name\",\n    search: \"\",\n    page: 1,\n    loading: false,\n  };\n\nconst default_reducer = (state = DEFAULT_STATE, action) => {\n  switch (action.type) {\n    case TYPE.SAGA_GET_LIST_CATEGORIES: {\n      \n      return {\n        ...state,\n        loading: true,\n      }\n    }\n    case TYPE.SAGE_DELETE_CATEGORY: {\n\n      return {\n        ...state,\n        loading: true,\n      }\n    }\n    case TYPE.SET_LIST_CATEGORY: {\n      const { payload } = action;\n      return {\n        ...state,\n        ...payload.result,\n        ...payload.options,\n        loading: false,\n      };\n    }\n    case TYPE.SET_ERROR_CATEGORY: {\n      const {payload} = action;\n      return {\n        ...state,\n        loading: false,\n        errors: payload,\n      }\n    }\n    default:\n      return {\n        ...state,\n      };\n  }\n};\n\nexport default default_reducer;\n","import { combineReducers } from \"redux\";\nimport loggin_state from \"./user/reducer\";\nimport default_state from \"./default/reducer\";\nimport order_state from \"./order/reducer\";\nimport category_state from \"./category/reducer\";\n\nconst rootReducers = combineReducers({\n    logging: loggin_state,\n    default: default_state,\n    order: order_state,\n    category: category_state,\n});\n\nexport default rootReducers;","export function api(url, method = \"GET\", body) {\n  const LS = localStorage.getItem(\"OrusSystem\"),\n    {\n      port: PORT = window.location.protocol.toString().replace(\":\", \"\"),\n      host: HOST = window.location.hostname.toString(),\n      token: TOKEN = \"\",\n    } = JSON.parse(LS ? LS : \"{}\");\n\n  return fetch(`${PORT}://${HOST}/api/${url}`, {\n    method,\n    body: JSON.stringify(body),\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + TOKEN,\n    },\n  }).then(async (res) => {\n    let back = null;\n    if (res.status !== 204) back = await res.json();\n    return back;\n  });\n}\n\nexport function getUrl(node, id, param = {}) {\n  let url = node,\n    paramString = null;\n\n  if (id) {\n    url += `/${id}`;\n  }\n\n  if (Object.keys(param).length) {\n    paramString = param = new URLSearchParams(param);\n    url += `?${paramString}`;\n  }\n\n  return url;\n}\n","import { call, put } from \"redux-saga/effects\";\nimport {\n    TYPE,\n} from \"../../user/types\";\nimport {api} from \"../api\";\n\nexport default function* handleLoggin(credenciales) {\n    try {\n        console.log(\"[Orus System] Consultando credenciales en la API\");\n        if (credenciales.payload.email && credenciales.payload.password) {\n            const result = yield call(\n                api,\n                \"users/login\",\n                \"POST\",\n                credenciales.payload\n            );\n            if (result.data) {\n                console.log(\"[Orus System] Servidor:\", result.message);\n                yield put({\n                    type: TYPE.LOGING_SUCCESS,\n                    payload: result,\n                });\n            } else {\n                console.error(\n                    \"[Orus System] Fallo la validacion de credenciales en servidor\",\n                    result\n                );\n                yield put({\n                    type: TYPE.LOGING_ERROR,\n                    payload: {\n                        errors: \"Error de procesamiento, llame al administrador\",\n                        result,\n                    },\n                });\n            }\n        } else {\n            yield put({\n                type: TYPE.LOGING_DELETE,\n                payload: null,\n            });\n        }\n    } catch (e) {\n        console.error(\"[Orus System] Error in handle loggin\", e);\n        yield put({\n            type: TYPE.LOGING_ERROR,\n            payload: {\n                errors: \"Error al conectarse al servidor, compruebe que tiene internet\",\n                errornum: 500,\n            },\n        });\n    }\n}","import { call, put } from \"redux-saga/effects\";\nimport { TYPE } from \"../../user/types\";\nimport {api} from \"../api\";\n\nexport default function* handleNotify() {\n  try {\n    console.log(\"[Orus System] Consultando notificaciones en la API\");\n    const result = yield call(api, \"user\", \"GET\");\n    if (result.data && result.data.id) {\n      const { unreadNotifications: NOTIFYS } = result.data;\n\n      console.log(\"[Orus System] Notificaciones encontradas:\", NOTIFYS.length);\n      yield put({\n        type: TYPE.GET_NOTIFYS,\n        payload: NOTIFYS,\n      });\n    } else if(result.message === \"Unauthenticated.\"){\n      yield put({\n        type: TYPE.LOGING_DELETE,\n        payload: null,\n      });\n    } else {\n      console.error(\"[Orus System] Error en notificaciones\", result);\n    }\n  } catch (e) {\n    console.error(\"[Orus System] Error in handle notify user\", e);\n  }\n}\n","import { call, put } from \"redux-saga/effects\";\nimport { TYPE } from \"../../user/types\";\nimport {api} from \"../api\";\n\nexport default function* handleNotifyRead({ payload }) {\n  try {\n    console.log(\"[Orus System] Enviando notificaciones a la API\");\n    const result = yield call(\n        api,\n        \"user/readAllNotifications\",\n        \"POST\",\n        payload\n      ),\n      count = parseInt(payload.id) < 0 ? \"Todas\" : 1;\n    if (result.success) {\n      console.log(\"[Orus System] Notificaciones marcadas leidas:\", count);\n      yield put({\n        type: TYPE.SAGA_GET_NOTIFY,\n        payload: {},\n      });\n    }\n  } catch (e) {\n    console.error(\"[Orus System] Error in handle read notify user\", e);\n  }\n}\n","import { call, put } from \"redux-saga/effects\";\nimport {\n    TYPE,\n} from \"../../user/types\";\nimport {api} from \"../api\";\n\nexport default function* handleLoggin(user) {\n    try {\n        console.log(\"[Orus System] Consultando loggin en la API\");\n        if (user.payload) {\n            const result = yield call(\n                api,\n                \"user\",\n            );\n            if (result.message && result.message === \"Unauthenticated.\") {\n                console.log(\"[Orus System] Token de usuario no valido\");\n                yield put({\n                    type: TYPE.LOGING_DELETE,\n                    payload: null,\n                });\n            } else {\n                console.log(\"[Orus System] Verificacion de usuario correcta\", result.data.username);\n            }\n        } else {\n            console.error(\"[Orus System] Error en el token de usuario:\", user.payload);\n            yield put({\n                type: TYPE.LOGING_DELETE,\n                payload: null,\n            });\n        }\n    } catch (e) {\n        console.error(\"[Orus System] Error in handle check loggin\", e);\n    }\n}","import { takeLatest } from \"redux-saga/effects\";\nimport { TYPE } from \"../../user/types\";\nimport loggin from \"./loggin_user\";\nimport notify from \"./notify_user\";\nimport readNotify from \"./notify_user_read\";\nimport checkLoging from \"./checkLoging\";\n\nexport default function* index() {\n  //watchers\n  console.log(\"[Orus System] Escuchando eventos de usuario\");\n  yield takeLatest(TYPE.SAGA_TRY_LOGING, loggin);\n  yield takeLatest(TYPE.SAGA_CHECK_LOGING, checkLoging);\n  yield takeLatest(TYPE.SAGA_GET_NOTIFY, notify);\n  yield takeLatest(TYPE.SAGA_READ_NOTIFYS, readNotify);\n}\n","import { TYPE } from \"./types\";\n//SAGAS\nexport const getListOrder = (payload = {}) => ({\n  type: TYPE.SAGA_GET_LIST,\n  payload,\n});\nexport const deleteOrder = (payload = {}) => ({\n  type: TYPE.SAGA_DELETE_ORDER,\n  payload,\n});\nexport const saveOrder = (payload = {}) => ({\n  type: TYPE.SAGA_SAVE_ORDER,\n  payload,\n});\n\n//SETS\nexport const setListOrder = (payload = {}) => ({\n  type: TYPE.SET_LIST,\n  payload,\n});\nexport const setStateVar = (payload = {}) => {\n  return {\n    type: TYPE.SET_STATE_VAR,\n    payload,\n  };\n};\nexport const setErrorOrder = (payload = []) => ({\n  type: TYPE.SET_ERROR,\n  payload,\n});\nexport const setMessageOrder = (payload = []) => ({\n  type: TYPE.SET_MESSAGE,\n  payload,\n});\n","import { call, put } from \"redux-saga/effects\";\nimport { api, getUrl } from \"../api\";\nimport { setListOrder, setMessageOrder } from \"../../order/actions\";\n\nexport default function* handleGetOrder({ payload }) {\n  try {\n    const url = getUrl(\"orders\", null, payload),\n      result = yield call(api, url, \"GET\");\n\n    yield put(\n      setListOrder({\n        result: {\n          list: result.data,\n          metaList: result.meta,\n        },\n        options: payload,\n      })\n    );\n  } catch (e) {\n    console.error(\"[Orus System] Error in handle getListOrder\", e);\n    yield put(\n      setMessageOrder([\n        {\n          type: \"error\",\n          text: \"al traer datos de pedidos, intentelo mas tarde\",\n        },\n      ])\n    );\n  }\n}\n","import { call, put } from \"redux-saga/effects\";\nimport { api } from \"../api\";\nimport { getListOrder, setMessageOrder } from \"../../order/actions\";\n\nexport default function* handledDeleteOrder({ payload }) {\n  try {\n    const { id: ID, options: OPTIONS } = payload,\n      url = `orders/${ID}`,\n      result = yield call(api, url, \"DELETE\");\n\n    if (!result) {\n      console.log(\"[Orus System] Pedido eliminado con exito\", ID);\n      yield put(\n        setMessageOrder([\n          {\n            type: \"success\",\n            text: \"Pedido eliminado con exito\",\n          },\n        ])\n      );\n      yield put(getListOrder(OPTIONS));\n    } else {\n      console.error(\"[Orus System] Fallo al eliminar ordern\", result.message);\n\n      if (result.message.indexOf(\"[SQLSTATE[23000]]\")) {\n        yield put(\n          setMessageOrder([\n            {\n              type: \"error\",\n              text: \"No se puede eliminar un pedido que tiene asignada una nota de venta\",\n              errnum: \"SQL23000\",\n            },\n          ])\n        );\n      } else {\n        yield put(\n          setMessageOrder([\n            {\n              type: \"error\",\n              text: \"No se puede eliminar el pedido\",\n            },\n          ])\n        );\n      }\n    }\n  } catch (e) {\n    console.error(\"[Orus System] Error in handle deleteOrder\", e);\n    yield put(\n      setMessageOrder([\n        {\n          type: \"error\",\n          text: \"al eliminar el pedidos, intentelo mas tarde\",\n        },\n      ])\n    );\n  }\n}\n","import { call, put } from \"redux-saga/effects\";\nimport { api, getUrl } from \"../api\";\nimport { getListOrder, setMessageOrder } from \"../../order/actions\";\n\nexport default function* handleSaveOrder({ payload }) {\n  try {\n    const { order: ORDER = {}, id: ID = null, options: OPT = {} } = payload,\n      url = getUrl(\"orders\", ID),\n      method = ID ? \"PUT\" : \"POST\";\n\n    yield call(api, url, method, ORDER);\n    yield put(\n      setMessageOrder([\n        {\n          type: \"success\",\n          text: ID\n            ? \"Pedido actualizado con exito\"\n            : \"Pedido almacenado con exito\",\n        },\n      ])\n    );\n    yield put(getListOrder(OPT));\n  } catch (e) {\n    console.error(\"[Orus System] Error in handle save order\", e);\n    yield put(\n      setMessageOrder([\n        {\n          type: \"error\",\n          text: \"al almacenar el pedido, intentelo mas tarde\",\n        },\n      ])\n    );\n  }\n}\n","import { takeLatest } from \"redux-saga/effects\";\nimport { TYPE } from \"../../order/types\";\nimport getList from \"./getList\";\nimport deleteOrder from \"./deleteOrder\";\nimport saveOrder from \"./saveOrder\";\n\nexport default function* index() {\n  //watchers\n  console.log(\"[Orus System] Escuchando eventos de ordenes\");\n  yield takeLatest(TYPE.SAGA_GET_LIST, getList);\n  yield takeLatest(TYPE.SAGA_DELETE_ORDER, deleteOrder);\n  yield takeLatest(TYPE.SAGA_SAVE_ORDER, saveOrder);\n}\n","import { call, put } from \"redux-saga/effects\";\nimport {api, getUrl} from \"../api\";\nimport {\n    TYPE,\n} from \"../../category/types\";\n\nexport default function* handleLoggin({payload}) {\n    try {\n        const {options, id} = payload,\n            url = getUrl('categories', id, options),\n            result = yield call(\n                api,\n                url,\n                \"GET\"\n            );\n        \n        if (result.data) {\n            yield put({\n                type: TYPE.SET_LIST_CATEGORY,\n                payload: {\n                    result: {\n                        list: result.data,\n                        metaList: result.meta,\n                    },\n                    options: payload,\n                }\n            });\n        } else {\n            console.error(\"[Orus System] Fallo traer categorias\", result);\n            yield put({\n                type: TYPE.SET_ERROR_CATEGORY,\n                payload: [],\n            });\n        }\n    } catch (e) {\n        console.error(\"[Orus System] Error en saga/category getList:\", e);\n        yield put({\n            type: TYPE.SET_ERROR_CATEGORY,\n            payload: [],\n        });\n    }\n}","import { takeLatest } from \"redux-saga/effects\";\nimport { TYPE } from \"../../category/types\";\nimport getList from \"./getList\";\n\nexport default function* index() {\n  //watchers\n  console.log(\"[Orus System] Escuchando eventos de categorias\");\n  yield takeLatest(TYPE.SAGA_GET_LIST_CATEGORIES, getList);\n}\n","import { all } from \"redux-saga/effects\";\nimport user from \"./user\";\nimport order from \"./order\";\nimport category from \"./category\";\n\nexport default function* rootSaga() {\n    yield all([\n        user(),\n        order(),\n        category(),\n    ]);\n}","import { createStore, applyMiddleware, compose } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootReducers from \"./rootReducers\";\nimport rootSaga from \"./sagas\";\n\nconst saga = createSagaMiddleware(),\n    composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose,\n    store = createStore(rootReducers, composeEnhancers(applyMiddleware(saga)));\nsaga.run(rootSaga);\n\nexport default store;","import {TYPE} from \"./types\";\n\nexport const loggin = (payload) => ({\n    type: TYPE.SAGA_TRY_LOGING,\n    payload,\n});\nexport const checkLogging = (payload) => ({\n    type: TYPE.SAGA_CHECK_LOGING,\n    payload,\n});\n\nexport const getNotifyUser = (payload) => ({\n    type: TYPE.SAGA_GET_NOTIFY,\n    payload,\n});\nexport const readNotifyUser = (payload) => ({\n    type: TYPE.SAGA_READ_NOTIFYS,\n    payload,\n});","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { getNotifyUser, readNotifyUser } from \"../../redux/user/actions\";\n\nclass NotifyComponent extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      rol: ls.rol,\n    };\n    this.timerNotify = null;\n  }\n\n  componentDidMount() {\n    const { isLogged } = this.props;\n\n    if (isLogged) {\n      this.props.getNotifyUser();\n      this.timerNotify = setInterval(() => {\n        this.props.getNotifyUser();\n      }, 60000);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.timerNotify) clearInterval(this.timerNotify);\n  }\n\n  render() {\n    const { notifications } = this.props,\n      { rol } = this.state,\n      countNotify = notifications ? notifications.length : 0;\n\n    return (\n      <li className=\"nav-item dropdown\">\n        <a className=\"nav-link\" data-toggle=\"dropdown\" href=\"#end\">\n          <i className=\"far fa-bell\"></i>\n          {countNotify ? (\n            <span className=\"badge badge-warning navbar-badge\">\n              {countNotify}\n            </span>\n          ) : null}\n        </a>\n        <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n          <span className=\"dropdown-header\">{countNotify} Notificaciones</span>\n          <div className=\"dropdown-divider\"></div>\n          {notifications.map((notify, index) => {\n            const notiFyType = notify.type.split(\"\\\\\", 3);\n            let title = \"general\",\n              icon = \"fa-file\",\n              time = moment(notify.created_at).fromNow(),\n              url = \"#end\";\n            //page = \"/\";\n\n            //Cortamos si son más de 10 notificaciones\n            if (index > 10) return false;\n\n            if (notiFyType[2] === \"ExamNotification\") {\n              if (rol === 2) {\n                title = \"Examen creado\";\n                url = \"/consultorio/registro/\" + notify.data.id;\n                //page = \"/consultorio\";\n              } else {\n                title = \"Examen actualizado\";\n                url = \"/pedidos/registro\";\n                //page = \"/pedidos\";\n              }\n              icon = \"fa-file-alt\";\n            }\n\n            return (\n              <Link\n                to={url}\n                className=\"dropdown-item\"\n                key={notify.id}\n                onClick={(e) => {\n                  //this.props.page(page);\n                  this.handleClickRead(e, notify.id);\n                }}\n              >\n                <i className={\"fas \" + icon + \" mr-1\"}></i> {title}\n                <span className=\"float-right text-sm text-muted\">{time}</span>\n              </Link>\n            );\n          })}\n          {countNotify ? (\n            <React.Fragment>\n              <div className=\"dropdown-divider\"></div>\n              <a\n                href=\"#end\"\n                className=\"dropdown-item dropdown-footer\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  this.handleClickRead(e, -1);\n                }}\n              >\n                Marcar como leído.\n              </a>\n            </React.Fragment>\n          ) : null}\n          <Link\n            to=\"/notificaciones\"\n            className=\"dropdown-item dropdown-footer\"\n            onClick={(e) => {\n              //this.props.page(\"/notificaciones\");\n            }}\n          >\n            Ver todas\n          </Link>\n        </div>\n      </li>\n    );\n  }\n\n  handleClickRead = (e, id) => {\n    const { readNotifyUser } = this.props;\n    if (id === -1) e.preventDefault();\n    readNotifyUser({ id });\n  };\n}\nconst mapStateToProps = (state) => {\n    return {\n      notifications: state.logging.notifications,\n      isLogged: state.logging.isLogged,\n    };\n  },\n  mapDispatchToProps = {\n    getNotifyUser,\n    readNotifyUser,\n  };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NotifyComponent);\n","import React, { Component } from \"react\";\nimport Notify from \"./notify\";\n\nexport default class NavtopComponent extends Component {\n  render() {\n    return (\n      <nav className=\"main-header navbar navbar-expand navbar-dark navbar-lightblue\">\n        <ul className=\"navbar-nav\">\n          <li className=\"nav-item\">\n            <a\n              className=\"nav-link\"\n              data-widget=\"pushmenu\"\n              href=\"#navbar\"\n              role=\"button\"\n              onClick={(e) => {\n                e.preventDefault();\n                window.$(\"#body\").toggleClass(\"sidebar-open\");\n                window.$(\"#body\").toggleClass(\"sidebar-collapse\");\n              }}\n            >\n              <i className=\"fas fa-bars\"></i>\n            </a>\n          </li>\n        </ul>\n        <ul className=\"navbar-nav ml-auto\">\n          <li className=\"nav-item dropdown\">\n            <a href=\"#end\" className=\"nav-link\" data-toggle=\"dropdown\">\n              <i className=\"far fa-comments\"></i>\n            </a>\n            <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n              <span className=\"dropdown-header\">Sin comentarios</span>\n              <div className=\"dropdown-divider\"></div>\n            </div>\n          </li>\n          <Notify />\n        </ul>\n      </nav>\n    );\n  }\n}\n\n","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { loggin } from \"../../redux/user/actions\";\n\nconst MenuComponent = (props) => {\n  const handleLogOut = (e) => {\n    e.preventDefault();\n    const { loggin: _LOGOUT } = props;\n    window.Swal.fire({\n      title: \"Session\",\n      text: \"¿Esta seguro de cerrar la sesion?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Si\",\n      cancelButtonText: \"Cancelar\",\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        _LOGOUT({});\n      }\n    });\n  };\n\n  const { companyName, user } = props,\n    active = useLocation().pathname.replace(\"/\", \"\");\n\n  let avatar = \"/img/avatars/avatar5.png\";\n  if (user.rol === 1) avatar = \"/img/avatars/avatar2.png\";\n  if (!user.rol) avatar = \"/img/avatars/avatar3.png\";\n  if (user.idUser === 2) avatar = \"/img/avatars/avatar4.png\";\n\n  return (\n    <aside className=\"main-sidebar sidebar-dark-primary\">\n      <Link to=\"/\" className=\"brand-link\">\n        <img\n          src=\"/img/AdminLTELogo.png\"\n          alt={companyName + \" logo \"}\n          className=\"brand-image img-circle elevation-3\"\n          style={{ opacity: 0.8 }}\n        />\n        <span className=\"brand-text font-weight-light text-uppercase\">\n          {companyName}\n        </span>\n      </Link>\n      <div className=\"sidebar\">\n        <div className=\"pb-3 mt-3 mb-3 user-panel d-flex\">\n          <div className=\"image\">\n            <img\n              src={avatar}\n              className=\"img-circle elevation-2\"\n              alt={user.name}\n            />\n          </div>\n          <div className=\"info\">\n            <a href=\"#end\" className=\"d-block text-capitalize\">\n              {user.name}\n              <small className=\"text-lowercase\">({user.username})</small>\n              <br />\n              <span className=\"badge badge-light\">\n                {user.rol > 0\n                  ? user.rol === 1\n                    ? \"Ventas\"\n                    : \"Optometrista\"\n                  : \"Administrador\"}\n              </span>\n            </a>\n          </div>\n        </div>\n        <nav className=\"mt-2\">\n          <ul\n            className=\"nav nav-pills nav-sidebar flex-column\"\n            data-widget=\"treeview\"\n            role=\"menu\"\n            data-accordion=\"false\"\n          >\n            {user.rol !== 2 ? (\n              <li className=\"nav-item\">\n                <Link\n                  to=\"/\"\n                  className={active === \"\" ? \"nav-link active\" : \"nav-link\"}\n                >\n                  <i className=\"nav-icon fas fa-tachometer-alt\"></i>\n                  <p>\n                    Dashboard\n                    <i className=\"right fas fa-angle-left\"></i>\n                  </p>\n                </Link>\n              </li>\n            ) : null}\n            <li className=\"nav-item\">\n              <Link\n                to=\"/contactos\"\n                className={\n                  active === \"contactos\" ? \"nav-link active\" : \"nav-link\"\n                }\n              >\n                <i className=\"nav-icon fas fa-address-book\"></i>\n                <p>\n                  Contactos\n                  <i className=\"right fas fa-angle-left\"></i>\n                </p>\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link\n                to=\"/consultorio\"\n                className={\n                  active === \"consultorio\" ? \"nav-link active\" : \"nav-link\"\n                }\n              >\n                <i className=\"nav-icon fas fa-notes-medical\"></i>\n                <p>\n                  Examenes\n                  <i className=\"right fas fa-angle-left\"></i>\n                </p>\n              </Link>\n            </li>\n\n            {user.rol <= 1 ? (\n              <React.Fragment>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/pedidos\"\n                    className={\n                      active === \"pedidos\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-clipboard-list\"></i>\n                    <p>\n                      Pedidos\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/notas\"\n                    className={\n                      active === \"notas\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-cash-register\"></i>\n                    <p>\n                      Ventas\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n              </React.Fragment>\n            ) : null}\n\n            {!user.rol ? (\n              <React.Fragment>\n                <li\n                  className={\n                    active === \"almacen\"\n                      ? \"nav-item has-treeview menu-open\"\n                      : \"nav-item has-treeview \"\n                  }\n                >\n                  <Link\n                    to=\"/almacen\"\n                    className={\n                      active === \"almacen\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-database\"></i>\n                    <p>\n                      Almacen\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/usuarios\"\n                    className={\n                      active === \"usuarios\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-user\"></i>\n                    <p>\n                      Usuarios\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/configuraciones\"\n                    className={\n                      active === \"configuraciones\"\n                        ? \"nav-link active\"\n                        : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-tools\"></i>\n                    <p>\n                      Configuraciones\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n              </React.Fragment>\n            ) : null}\n\n            <li className=\"nav-item\">\n              <Link to=\"/\" className=\"nav-link\" onClick={handleLogOut}>\n                <i className=\"nav-icon fas fa-sign-out-alt\"></i>\n                <p>Cerrar sesion</p>\n              </Link>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </aside>\n  );\n};\n\nconst mapStateToProps = (state) => {\n    return {\n      user: {\n        rol: state.logging.rol,\n        name: state.logging.name,\n        username: state.logging.username,\n      },\n      companyName: state.default.company,\n      active: \"\",\n    };\n  },\n  mapDispatchToProps = {\n    loggin,\n  };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuComponent);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\n\nclass BreadcrumbComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: moment().format(\"LLLL\"),\n    };\n    this.timerNotify = null;\n  }\n  componentDidMount() {\n    this.timerNotify = setInterval(() => {\n      console.log(\"[Orus System] Actualizando hora de sistema\");\n      this.setState({\n        date: moment().format(\"LLLL\"),\n      });\n    }, 60000);\n  }\n  componentWillUnmount() {\n    if (this.timerNotify) clearInterval(this.timerNotify);\n  }\n\n  render() {\n    const {\n        title: TITLE,\n        host: HOST,\n        company: INC,\n        name: USER_NAME,\n      } = this.props,\n      { date } = this.state;\n    return (\n      <div className=\"content-header\">\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <h1 className=\"m-0 text-dark text-capitalize\">\n                <i className=\"mr-1 fas fa-file\"></i> {TITLE}\n              </h1>\n            </div>\n            <div className=\"text-center col\">\n              <small\n                className=\"p-2 badge badge-secondary text-capitalize\"\n                alt=\"conectado a\"\n                title=\"conectado a\"\n              >\n                <i className=\"mr-1 fas fa-wifi text-success\"></i>\n                {HOST}\n              </small>\n              <small\n                className=\"p-2 mt-1 ml-1 badge badge-secondary text-capitalize\"\n                alt=\"Almacenando en\"\n                title=\"Almacenando en\"\n              >\n                <i className=\"mr-1 fas fa-server text-success\"></i> {INC}\n              </small>\n              <small\n                className=\"p-2 mt-1 ml-2 badge badge-secondary text-capitalize\"\n                alt=\"Usuario conectado\"\n                title=\"Usuario conectado\"\n              >\n                <i className=\"mr-1 fas fa-user text-info\"></i> {USER_NAME}\n              </small>\n            </div>\n            <div className=\"col\">\n              <h6 className=\"text-right text-muted\">\n                <i className=\"mr-1 fas fa-calendar\"></i> {date}\n              </h6>\n            </div>\n          </div>\n        </div>\n        <hr />\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    company: state.default.company,\n    host: state.default.host,\n    name: state.logging.username,\n  };\n};\nexport default connect(mapStateToProps)(BreadcrumbComponent);\n","import React, { Component } from \"react\";\n\nclass Footer extends Component {\n  render() {\n    return (\n      <footer className=\"main-footer d-print-none\">\n        <div className=\"float-right d-none d-sm-inline\">V2.0</div>\n        <strong>\n          Copyright &copy; 2015-2020 <a href=\"#end\">Orus</a>.\n        </strong>{\" \"}\n        Todos los derechos reservados.\n      </footer>\n    );\n  }\n}\n\nexport default Footer;\n","import React, { Component } from \"react\";\n\nexport default class HeaderTable extends Component {\n  render() {\n    let { data, order, orderby, actions } = this.props;\n\n    if (data.length) {\n      return (\n        <thead className=\"thead-light\">\n          <tr>\n            {data.map((col, index) => {\n              if (col.filter) {\n                return (\n                  <th\n                    scope=\"col\"\n                    key={index}\n                    onClick={() => {\n                      this.handleOrder(col.type);\n                    }}\n                    style={{\n                      cursor: order === \"desc\" ? \"n-resize\" : \"s-resize\",\n                    }}\n                  >\n                    {col.name}\n                    {orderby === col.type ? (\n                      <span className=\"ml-2\">\n                        <i className=\"fas fa-sort text-primary\"></i>\n                      </span>\n                    ) : (\n                      \"\"\n                    )}\n                  </th>\n                );\n              } else {\n                return (\n                  <th scope=\"col\" key={index}>\n                    {col.name}\n                  </th>\n                );\n              }\n            })}\n            {actions ? <th className=\"text-center\">Acciones</th> : \"\"}\n          </tr>\n        </thead>\n      );\n    } else {\n      return (\n        <thead>\n          <tr>\n            <th scope=\"col\" className=\"text-center\">\n              No hay datos de columnas\n            </th>\n          </tr>\n        </thead>\n      );\n    }\n  }\n\n  handleOrder = (item) => {\n    this.props.handleOrder(item);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class Pagination extends Component {\n  render() {\n    let { meta } = this.props;\n    if (meta.total > 10) {\n      return (\n        <div className=\"btn-group\">\n          <ul className=\"pagination pagination-sm\">\n            <li\n              className={\n                meta.current_page === 1 ? \"page-item disabled\" : \"page-item\"\n              }\n            >\n              <a\n                className={\n                  meta.current_page === 1\n                    ? \"page-link text-dark\"\n                    : \"page-link text-primary\"\n                }\n                href=\"#pageBefore\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  this.handleChangePage(1);\n                }}\n              >\n                Primero\n              </a>\n            </li>\n\n            <li\n              className={\n                meta.current_page === 1 ? \"page-item disabled\" : \"page-item\"\n              }\n            >\n              <a\n                className={\n                  meta.current_page === 1\n                    ? \"page-link text-dark\"\n                    : \"page-link text-primary\"\n                }\n                href=\"#pageBefore\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  this.handleChangePage(meta.current_page - 1);\n                }}\n              >\n                <i className=\"fas fa-step-backward\"></i>\n              </a>\n            </li>\n\n            <li className=\"page-item\">\n              <span className=\"page-link\">\n                {meta.current_page} /{\" \"}\n                {Math.ceil(meta.total / meta.per_page).toFixed(0)}\n              </span>\n            </li>\n\n            <li\n              className={\n                meta.current_page === meta.last_page\n                  ? \"page-item disabled\"\n                  : \"page-item\"\n              }\n            >\n              <a\n                className={\n                  meta.current_page === meta.last_page\n                    ? \"page-link text-dark\"\n                    : \"page-link text-primary\"\n                }\n                href=\"#pageBefore\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  this.handleChangePage(meta.current_page + 1);\n                }}\n              >\n                <i className=\"fas fa-step-forward\"></i>\n              </a>\n            </li>\n\n            <li\n              className={\n                meta.current_page === meta.last_page\n                  ? \"page-item disabled\"\n                  : \"page-item\"\n              }\n            >\n              <a\n                className={\n                  meta.current_page === meta.last_page\n                    ? \"page-link text-dark\"\n                    : \"page-link text-primary\"\n                }\n                href=\"#pageBefore\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  this.handleChangePage(meta.last_page);\n                }}\n              >\n                Ultimo\n              </a>\n            </li>\n          </ul>\n        </div>\n      );\n    } else {\n      return false;\n    }\n  }\n\n  handleChangePage = (page) => {\n    this.props.handleChangePage(page);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class Filter extends Component {\n  render() {\n    const { search, rol } = this.props;\n    return (\n      <React.Fragment>\n        <div className=\"btn-group\">\n          <a\n            href=\"#Filters\"\n            className=\"btn btn-tool text-dark\"\n            data-toggle=\"modal\"\n            data-target=\"#filters\"\n          >\n            <i className=\"fas fa-filter\"></i>\n          </a>\n        </div>\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\n          <div className=\"modal-dialog\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\">Busquedas</h5>\n                <button\n                  type=\"button\"\n                  className=\"close\"\n                  data-dismiss=\"modal\"\n                  aria-label=\"Close\"\n                >\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n\n              <form className=\"modal-body\">\n                <div className=\"input-group mb-3\">\n                  <div className=\"input-group-prepend\">\n                    <span className=\"input-group-text\">\n                      <i className=\"fas fa-search\"></i>\n                    </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    name=\"search\"\n                    className=\"form-control\"\n                    placeholder=\"Por: nombre, usuario o email\"\n                    value={search}\n                    onChange={this.changeFilters}\n                    onKeyPress={this.onKeyPressSearch}\n                  />\n                </div>\n\n                <div className=\"input-group mb-3\">\n                  <label>Rol</label>\n                  <div className=\"input-group-prepend ml-4\">\n                    <span className=\"input-group-text\">\n                      <i className=\"fas fa-address-book\"></i>\n                    </span>\n                  </div>\n                  <select\n                    className=\"form-control\"\n                    name=\"rol\"\n                    value={rol}\n                    onChange={this.changeFilters}\n                  >\n                    <option value=\"\">Todos</option>\n                    <option value=\"0\">Administrador</option>\n                    <option value=\"1\">Ventas</option>\n                    <option value=\"2\">Optometrista</option>\n                  </select>\n                </div>\n              </form>\n\n              <div className=\"modal-footer\">\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-dark\"\n                    data-dismiss=\"modal\"\n                  >\n                    <i className=\"fas fa-window-close mr-2\"></i>\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={\n                      this.props.search || this.props.rol\n                        ? \"btn btn-outline-dark\"\n                        : \"btn btn-outline-dark disabled\"\n                    }\n                    onClick={this.onClickClean}\n                  >\n                    <i className=\"fas fa-eraser mr-2\"></i>\n                    Limpiar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-dark\"\n                    onClick={this.setFilters}\n                    data-dismiss=\"modal\"\n                  >\n                    <i className=\"fas fa-search mr-2\"></i>\n                    Buscar\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  onKeyPressSearch = (e) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      this.setFilters();\n    }\n  };\n  onClickClean = () => {\n    this.props.changeFilters(\"search\", \"\");\n    this.props.changeFilters(\"rol\", \"\");\n    this.setFilters();\n  };\n  setFilters = () => {\n    this.props.handleChangePage(1);\n    window.$(\"#filters\").modal(\"hide\");\n  };\n  changeFilters = (e) => {\n    const { name, value } = e.target;\n    this.props.changeFilters(name, value);\n  };\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class ActionsTable extends Component {\n  render() {\n    const { item, edit, id } = this.props;\n    return (\n      <td className=\"text-right\">\n        {this.props.delete ? (\n          <a\n            className=\"btn-flat text-dark mr-4\"\n            href=\"#delete\"\n            onClick={(e) => {\n              e.preventDefault();\n              this.handleDelete(id, item);\n            }}\n          >\n            <i className=\"fas fa-trash\"></i>\n          </a>\n        ) : (\n          \"\"\n        )}\n        {edit ? (\n          <Link className=\"btn-flat text-dark\" to={edit + id}>\n            <i className=\"fas fa-pencil-alt\"></i>\n          </Link>\n        ) : (\n          \"\"\n        )}\n      </td>\n    );\n  }\n\n  handleDelete = (id, item) => {\n    this.props.delete(id, item);\n  };\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport Header from \"../Layouts/headerTable\";\nimport Pagination from \"../Layouts/pagination\";\nimport Filters from \"./index_filter\";\nimport Actions from \"../Layouts/actionsTable\";\n\nexport default class Users extends Component {\n  constructor(props) {\n    super(props);\n    //Variables en localStorage\n    const sdd = JSON.parse(localStorage.getItem(\"OrusUsers\"));\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      users: {\n        data: [],\n        meta: {},\n      },\n      load: true,\n      page: sdd ? sdd.page : 1,\n      orderby: sdd ? sdd.orderby : \"created_at\",\n      order: sdd ? sdd.order : \"asc\",\n      search: sdd ? sdd.search : \"\",\n      rol: sdd ? sdd.rol : \"\",\n      host: ls.host,\n      token: ls.token,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    this.getUsers();\n    localStorage.setItem(\n      \"OrusUsers\",\n      JSON.stringify({\n        page: this.state.page,\n        orderby: this.state.orderby,\n        order: this.state.order,\n        search: this.state.search,\n        rol: this.state.rol,\n      })\n    );\n    console.log(\"[Users] Eliminando datos de contacto en uso\");\n    localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\n  }\n  componentDidUpdate(props, state) {\n    if (state.load === false && this.state.load === true) {\n      console.log(\"Recargando usuarios y almacenando configuracion\");\n      localStorage.setItem(\n        \"OrusUsers\",\n        JSON.stringify({\n          page: this.state.page,\n          orderby: this.state.orderby,\n          order: this.state.order,\n          search: this.state.search,\n          rol: this.state.rol,\n        })\n      );\n      this.getUsers();\n    }\n  }\n\n  render() {\n    let { users, load } = this.state,\n      dataHeaders = [\n        { name: \"usuario\", type: \"username\", filter: true },\n        { name: \"nombre\", type: \"name\", filter: true },\n        { name: \"e-mail\", type: \"email\", filter: true },\n        { name: \"Rol\", type: \"rol\", filter: true },\n        { name: \"Actividad\", type: \"session\" },\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\n        { name: \"Registrado\", type: \"created_at\", filter: true },\n      ];\n\n    return (\n      <div className=\"card card-primary card-outline\">\n        <div className=\"card-header\">\n          <h2 className=\"card-title text-primary\">\n            <i className=\"fas fa-user mr-1\"></i>\n            Usuarios registrados\n          </h2>\n          <div className=\"card-tools\">\n            <Filters\n              search={this.state.search}\n              rol={this.state.rol}\n              changeFilters={this.changeFilters}\n              handleChangePage={this.handleChangePage}\n            />\n            <Pagination\n              meta={users.meta}\n              handleChangePage={this.handleChangePage}\n            />\n          </div>\n        </div>\n        <div className=\"card-body table-responsive p-0\">\n          <table className=\"table table-sm table-bordered table-hover\">\n            <Header\n              orderby={this.state.orderby}\n              order={this.state.order}\n              data={dataHeaders}\n              actions={true}\n              handleOrder={this.handleOrder}\n            />\n            <tbody>\n              {load ? (\n                <tr>\n                  <td colSpan=\"9\" className=\"alert alert-light text-center p-4\">\n                    <div className=\"spinner-border text-primary\" role=\"status\">\n                      <span className=\"sr-only\">Loading...</span>\n                    </div>\n                  </td>\n                </tr>\n              ) : Object.keys(users.data).length ? (\n                users.data.map((user) => {\n                  return (\n                    <tr key={user.id}>\n                      <th scope=\"row\">\n                        <span className=\"text-capitalize text-primary\">\n                          {user.username}\n                        </span>\n                      </th>\n                      <td>\n                        <Link to={\"/usuarios/registro/\" + user.id}>\n                          <span className=\"badge badge-primary text-capitalize p-1\">\n                            {user.name}\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\n                          </span>\n                        </Link>\n                      </td>\n                      <td>{user.email}</td>\n                      <td>\n                        {user.rol > 0 ? (\n                          user.rol === 1 ? (\n                            <span className=\"text-capitalize text-success\">\n                              <i className=\"fas fa-user-tag mr-2\"></i>\n                              Ventas\n                            </span>\n                          ) : (\n                            <span className=\"text-capitalize text-primary\">\n                              <i className=\"fas fa-user-tie mr-2\"></i>\n                              Optometrista\n                            </span>\n                          )\n                        ) : (\n                          <span className=\"text-capitalize text-danger\">\n                            <i className=\"fas fa-user-shield mr-2\"></i>\n                            Administrador\n                          </span>\n                        )}\n                      </td>\n                      <td>\n                        {user.session\n                          ? moment(user.session.last_activity).fromNow()\n                          : \"--\"}\n                      </td>\n                      <td>{moment(user.updated_at).fromNow()}</td>\n                      <td className=\"text-right\">\n                        {moment(user.created_at).format(\"ll\")}\n                      </td>\n                      <Actions\n                        id={user.id}\n                        item={user.username}\n                        delete={this.handleDelete}\n                        edit={\"/usuarios/registro/\"}\n                      />\n                    </tr>\n                  );\n                })\n              ) : (\n                <tr>\n                  <th colSpan=\"8\" className=\"alert alert-info text-center\">\n                    <i className=\"fas fa-info mr-2\"></i>\n                    No hay datos para mostrar\n                  </th>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n        <div className=\"card-footer text-right\">\n          <Link\n            to=\"/usuarios/registro\"\n            className=\"btn btn-outline-primary btn-lg\"\n          >\n            <i className=\"fas fa-plus mr-2\"></i>\n            Nuevo usuario\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  changeFilters = (key, value) => {\n    this.setState({\n      [key]: value,\n    });\n  };\n  handleOrder = (item) => {\n    this.setState({\n      orderby: item,\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\n      load: true,\n    });\n  };\n  handleChangePage = (page) => {\n    this.setState({\n      page,\n      load: true,\n    });\n  };\n  handleDelete = (id, item) => {\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar el usuario \" + item.toUpperCase() + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          let { host, token } = this.state;\n\n          //Inicio de proceso de eliminción por API\n          console.log(\"Solicitud de eliminación de usuario por API\");\n          return fetch(\"http://\" + host + \"/api/users/\" + id, {\n            method: \"DELETE\",\n            signal: this.signal,\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        console.log(\"Usuario eliminado\");\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Usuario eliminado con exito\",\n          showConfirmButton: false,\n          timer: 1500,\n        }).then((res) => this.getUsers());\n      } else if (result && !result.dismiss) {\n        console.log(\"Orus res: \", result);\n        window.Swal.fire(\n          \"Error\",\n          \"Se perdio la conexion con el servidor\",\n          \"error\"\n        );\n      }\n    });\n  };\n  getUsers = () => {\n    let { load, host, token } = this.state,\n      url = \"http://\" + host + \"/api/users\",\n      orderby = `&orderby=${this.state.orderby}&order=${this.state.order}`,\n      search = this.state.search ? `&search=${this.state.search}` : \"\",\n      rol = this.state.rol.length > 0 ? `&rol=${this.state.rol}` : \"\",\n      page = this.state.page > 0 ? \"?page=\" + this.state.page : \"?page=1\";\n\n    //Mandamos señal de carga si no lo he hecho\n    if (!load) {\n      this.setState({\n        load: true,\n      });\n    }\n\n    //Realiza la peticion de los usuarios\n    console.log(\"Solicitando usuarios a la API\");\n    fetch(url + page + orderby + search + rol, {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then((data) => {\n        if (data.data) {\n          console.log(\"Descargando usuarios\");\n          this.setState({\n            users: data,\n            load: false,\n          });\n        } else {\n          console.error(\"Orus: \", data.message);\n          window.Swal.fire(\"Error\", \"Al descargar usuarios\", \"error\");\n          this.setState({\n            load: false,\n          });\n        }\n      })\n      .catch((e) => {\n        console.error(\"Orus: \" + e);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n        this.setState({\n          load: false,\n        });\n      });\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class UserName extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bgColor: \"bg-blue\",\n      validate: \"\",\n      text: \"Debe de tener al menos 4 caracteres.\",\n      searchUser: false,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n    this.timeFetch = null;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n\n  render() {\n    let { col, username } = this.props;\n    let { bgColor, validate, text, searchUser } = this.state;\n\n    return (\n      <div className={\"col-\" + col}>\n        {username.length ? (\n          <small>\n            <label>Usuario</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group\">\n          <div className=\"input-group-prepend\">\n            <span className={\"input-group-text \" + bgColor}>\n              {searchUser ? (\n                <i className=\"fas fa-spinner\"></i>\n              ) : (\n                <i className=\"fas fa-user-check\"></i>\n              )}\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className={\"form-control\" + validate}\n            placeholder=\"Usuario\"\n            name=\"username\"\n            autoComplete=\"off\"\n            autoFocus=\"autofocus\"\n            value={username}\n            onChange={this.handleChange}\n            required=\"required\"\n            minLength=\"4\"\n            maxLength=\"16\"\n            pattern=\"^[\\w]{4,16}$\"\n          />\n        </div>\n        {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n      </div>\n    );\n  }\n\n  handleChange = (e) => {\n    const { value } = e.target;\n    let regex = /^[\\w]{4,16}$/,\n      x = {\n        target: {\n          name: \"validUserName\",\n          value: \"\",\n        },\n      };\n    e.target.value = value.replace(/ /g, \"\").toLowerCase();\n\n    if (regex.test(value)) {\n      this.validUser(e.target.value, x);\n    } else {\n      if (value.length > 4) {\n        this.setState({\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"No tiene el formato de usuario\",\n        });\n        x.target.value = false;\n        this.props.onChange(x);\n      } else if (!value.length) {\n        this.setState({\n          bgColor: \"bg-blue\",\n          validate: \" border border-danger\",\n          text: \"Debe de tener de 4 a 16 caracteres alfanumericos.\",\n        });\n        x.target.value = false;\n        this.props.onChange(x);\n      }\n    }\n    this.props.onChange(e);\n  };\n  validUser = (name, x) => {\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n      url = \"http://\" + varLocalStorage.host + \"/api/users\",\n      username = \"?username=\" + name;\n\n    if (this.timeFetch) clearTimeout(this.timeFetch);\n    this.timeFetch = setTimeout(() => {\n      //Realiza la peticion de los usuarios\n      this.setState({\n        searchUser: true,\n      });\n      fetch(url + username, {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + varLocalStorage.token,\n        },\n      })\n        .then((res) => {\n          if (!res.ok) {\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\n            console.error(res);\n          }\n          return res.json();\n        })\n        .then((data) => {\n          if (!data.message) {\n            if (\n              data.data.length &&\n              data.data[0].username.toLowerCase() === name\n            ) {\n              this.setState({\n                bgColor: \"bg-red\",\n                validate: \" border border-danger\",\n                text: \"El usuario ya esta registrado.\",\n                searchUser: false,\n              });\n              x.target.value = false;\n              this.props.onChange(x);\n            } else {\n              this.setState({\n                bgColor: \"bg-blue\",\n                validate: \"\",\n                searchUser: false,\n              });\n              x.target.value = true;\n              this.props.onChange(x);\n            }\n          } else {\n            console.error(\"Error en la descarga de usuarios\", data.message);\n          }\n        })\n        .catch((e) => {\n          console.error(e);\n        });\n    }, 1000);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class UserName extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bgColor: \"bg-blue\",\n      validate: \"\",\n      text: \"No tiene el formato de un email\",\n      searchUser: false,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n    this.timeFetch = null;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n\n  render() {\n    let { col, email } = this.props;\n    let { bgColor, validate, text } = this.state;\n\n    return (\n      <div className={\"col-\" + col}>\n        {email.length ? (\n          <small>\n            <label>Usuario</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group\">\n          <div className=\"input-group-prepend\">\n            <span className={\"input-group-text \" + bgColor}>\n              <i className=\"fas fa-at\"></i>\n            </span>\n          </div>\n          <input\n            type=\"email\"\n            className={\"form-control\" + validate}\n            placeholder=\"email\"\n            name=\"email\"\n            autoComplete=\"off\"\n            value={email}\n            onChange={this.handleChange}\n            required=\"required\"\n          />\n        </div>\n        {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n      </div>\n    );\n  }\n\n  handleChange = (e) => {\n    const { value } = e.target;\n    let regex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n      x = {\n        target: {\n          name: \"validUserEmail\",\n          value: true,\n        },\n      };\n    e.target.value = value.replace(/\\s/g, \"\").toLowerCase();\n    if (regex.test(value)) {\n      this.validEmail(e.target.value, x);\n    } else {\n      if (value.length > 8) {\n        this.setState({\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"No tiene el formato de un email\",\n        });\n        x.target.value = false;\n        this.props.onChange(x);\n      } else if (!value.length) {\n        this.setState({\n          bgColor: \"bg-blue\",\n          validate: \"\",\n          text: \"No tiene el formato de un email\",\n        });\n        x.target.value = false;\n        this.props.onChange(x);\n      }\n    }\n    this.props.onChange(e);\n  };\n  validEmail = (search, x) => {\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n      url = \"http://\" + varLocalStorage.host + \"/api/users\",\n      email = \"?email=\" + search;\n\n    if (this.timeFetch) clearTimeout(this.timeFetch);\n    this.timeFetch = setTimeout(() => {\n      //Realiza la peticion de los usuarios\n      this.setState({\n        searchUser: true,\n      });\n      //Realiza la peticion de los usuarios\n      fetch(url + email, {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + varLocalStorage.token,\n        },\n      })\n        .then((res) => {\n          if (!res.ok) {\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\n            console.error(res);\n          }\n          return res.json();\n        })\n        .then((data) => {\n          if (!data.message) {\n            if (\n              data.data.length &&\n              data.data[0].email.toLowerCase() === search\n            ) {\n              this.setState({\n                bgColor: \"bg-red\",\n                validate: \" border border-danger\",\n                text: \"El email ya esta registrado.\",\n                searchUser: false,\n              });\n              x.target.value = false;\n              this.props.onChange(x);\n            } else {\n              this.setState({\n                bgColor: \"bg-blue\",\n                validate: \"\",\n                searchUser: false,\n              });\n              x.target.value = true;\n              this.props.onChange(x);\n            }\n          } else {\n            console.error(\"Error en la descarga de usuarios\", data.message);\n            this.setState({\n              bgColor: \"bg-red\",\n              validate: \" border border-danger\",\n              text: \"Error en la consulta\",\n              searchUser: false,\n            });\n          }\n        })\n        .catch((e) => {\n          console.error(e);\n        });\n    }, 1000);\n  };\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport UserName from \"./userNameInput\";\nimport UserEmail from \"./userEmailInput\";\n\nexport default class UserAdd extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      id: 0,\n      rol: 1,\n      username: \"\",\n      validUserName: false,\n      name: \"\",\n      email: \"\",\n      validUserEmail: false,\n      password: \"\",\n      updated_at: \"\",\n      created_at: \"\",\n      session: {},\n      load: false,\n      host: ls.host,\n      token: ls.token,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    let id = this.props.match.params.id;\n    if (id) {\n      this.getUser(id);\n    }\n  }\n\n  render() {\n    let {\n        load,\n        id,\n        rol,\n        username,\n        name,\n        email,\n        password,\n        updated_at,\n        created_at,\n        session,\n        validUserName,\n        validUserEmail,\n      } = this.state,\n      send =\n        !load && validUserName && name.length && validUserEmail ? false : true;\n    return (\n      <div className=\"row\">\n        <div className=\"col\">\n          <form\n            className=\"card card-primary card-outline\"\n            onSubmit={this.handleSave}\n          >\n            <div className=\"card-header\">\n              <h1 className=\"card-title text-primary\">\n                <i className=\"fas fa-user mr-2\"></i>\n                {id ? \"Editar usuario\" : \"Registrar nuevo usuario\"}\n              </h1>\n            </div>\n            <div className=\"card-body was-validated\">\n              {load ? (\n                <div className=\"alert alert-light text-center p-4\">\n                  <div className=\"spinner-border text-primary\" role=\"status\">\n                    <span className=\"sr-only\">Loading...</span>\n                  </div>\n                </div>\n              ) : (\n                <React.Fragment>\n                  <div className=\"row mb-3\">\n                    <UserName\n                      username={username}\n                      col={6}\n                      onChange={this.catchInputs}\n                    />\n                    <div className=\"col-6\">\n                      {name.length ? (\n                        <small>\n                          <label>Nombre completo</label>\n                        </small>\n                      ) : (\n                        <br />\n                      )}\n                      <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                          <span className=\"input-group-text bg-blue\">\n                            <i className=\"fas fa-user-tag\"></i>\n                          </span>\n                        </div>\n                        <input\n                          type=\"text\"\n                          className=\"form-control text-capitalize\"\n                          placeholder=\"Nombre completo\"\n                          name=\"name\"\n                          autoComplete=\"off\"\n                          value={name}\n                          onChange={this.catchInputs}\n                          required=\"required\"\n                          minLength=\"8\"\n                          pattern=\"^[a-zA-Z]{2,20}[\\s]{1}[a-zA-Z]{2,20}.*\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-md-6\">\n                      {password.length || id ? (\n                        <small>\n                          <label>Contraseña</label>\n                          {id ? (\n                            \"\"\n                          ) : (\n                            <span className=\"ml-2\">\n                              De 8 a 16 caracteres, por lo menos una mayuscula,\n                              un numero y un caracter especial\n                            </span>\n                          )}\n                        </small>\n                      ) : (\n                        <br />\n                      )}\n                      <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                          <span className=\"input-group-text bg-blue\">\n                            <i className=\"fas fa-lock\"></i>\n                          </span>\n                        </div>\n                        <input\n                          type=\"password\"\n                          className=\"form-control\"\n                          placeholder=\"Contraseña\"\n                          name=\"password\"\n                          autoComplete=\"off\"\n                          value={password}\n                          onChange={this.catchInputs}\n                          required={id ? false : true}\n                          minLength=\"8\"\n                          maxLength=\"16\"\n                          pattern=\"^(?=.*[A-Z])(?=.*[!@#$&.*])(?=.*[0-9])(?=.*[a-z]).{8,16}$\"\n                        />\n                      </div>\n                    </div>\n                    <UserEmail\n                      email={email}\n                      col={6}\n                      onChange={this.catchInputs}\n                    />\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-md-6\">\n                      <small>\n                        <label>Rol</label>\n                      </small>\n                      <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                          <span className=\"input-group-text bg-blue\">\n                            <i className=\"fas fa-id-card\"></i>\n                          </span>\n                        </div>\n                        <select\n                          className=\"custom-select\"\n                          name=\"rol\"\n                          value={rol}\n                          onChange={this.catchInputs}\n                        >\n                          <option value=\"0\">Administrador</option>\n                          <option value=\"1\">Ventas</option>\n                          <option value=\"2\">Optometrista</option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n                </React.Fragment>\n              )}\n            </div>\n            <div className=\"card-footer\">\n              <div className=\"row\">\n                <div className=\"col-md-12 text-right\">\n                  <div className=\"btn-group btn-group-lg\" role=\"group\">\n                    <Link\n                      to=\"/usuarios\"\n                      className=\"btn btn-dark\"\n                      onClick={this.changePage}\n                      id=\"/usuarios\"\n                    >\n                      <i className=\"fas fa-ban mr-1\"></i>\n                      Cancelar\n                    </Link>\n                    <button\n                      type=\"submit\"\n                      className={\n                        load ? \"btn btn-primary disabled\" : \"btn btn-primary\"\n                      }\n                      disabled={send ? true : false}\n                    >\n                      <i className=\"fas fa-save mr-1\"></i>\n                      Guardar\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n        {id ? (\n          <div className=\"col\">\n            <div className=\"card card-primary card-outline\">\n              <div className=\"card-header\">\n                <h3 className=\"card-title text-primary\">\n                  <i className=\"fas fa-database mr-2\"></i>\n                  Metadata\n                </h3>\n              </div>\n              <div className=\"card-body\">\n                {session ? (\n                  <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                      <h6>Datos del usuario</h6>\n                      <div className=\"row\">\n                        <div className=\"col\">\n                          <span className=\"text-primary\">Registrado</span>\n                          <p>{moment(created_at).fromNow()}</p>\n                        </div>\n                        <div className=\"col\">\n                          <span className=\"text-primary\">\n                            Ultima actualizacion\n                          </span>\n                          <p>{moment(updated_at).fromNow()}</p>\n                        </div>\n                      </div>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <h6>Actividad</h6>\n                      <div className=\"row\">\n                        <div className=\"col\">\n                          <span className=\"text-primary\">IP</span>\n                          <p>{session.ip_address}</p>\n                        </div>\n                        <div className=\"col\">\n                          <span className=\"text-primary\">Ultima actividad</span>\n                          <p>{moment(session.last_activity).fromNow()}</p>\n                        </div>\n                      </div>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <span className=\"text-primary\">Navegador y OS</span>\n                      <p>{session.user_agent}</p>\n                    </li>\n                    <li className=\"list-group-item\">\n                      <span className=\"text-primary\">Token</span>\n                      <p>{session.user_data}</p>\n                    </li>\n                  </ul>\n                ) : (\n                  <p>Usuario no ha registrado actividad.</p>\n                )}\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n\n  changePage = (e) => {\n    this.props.page(e.target.id);\n  };\n  catchInputs = (e) => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n  handleSave = (e) => {\n    e.preventDefault();\n\n    let { id, validUserName, validUserEmail } = this.state;\n\n    //Verificamos campos validos\n    if (!validUserName) {\n      window.Swal.fire({\n        icon: \"error\",\n        title: \"El nombre de usuario ya esta en uso\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return false;\n    }\n    if (!validUserEmail) {\n      window.Swal.fire({\n        icon: \"error\",\n        title: \"El correo ya esta en uso\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: id\n        ? \"¿Esta seguro de actualizar el usuario?\"\n        : \"¿Esta seguro de crear un nuevo usuario?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          let { host, token, id, name, username, rol, password, email } =\n              this.state,\n            body = {\n              name,\n              username,\n              rol,\n              email,\n            },\n            url = id\n              ? \"http://\" + host + \"/api/users/\" + id\n              : \"http://\" + host + \"/api/users\",\n            method = id ? \"PUT\" : \"POST\";\n\n          //Agregamos el password si no esta vacio\n          if (password.length > 8) body.password = password;\n\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\n          console.log(\"Enviando datos del usuario a API\");\n          return fetch(url, {\n            method: method,\n            body: JSON.stringify(body),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then((response) => {\n              if (!response.ok) {\n                throw new Error(response.statusText);\n              }\n              return response.json();\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n\n        if (data.data) {\n          console.log(\"Usuario almacenado\");\n          window.Swal.fire({\n            icon: \"success\",\n            title: id\n              ? \"Usuario actualizado con exito\"\n              : \"Usuario almacenado con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          }).then((res) => this.props.history.goBack());\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar el usuario\", \"error\");\n          console.error(\"Orus res: \", data.message);\n        }\n      }\n    });\n  };\n  getUser = (id) => {\n    //Variables en localStorage\n    let { host, token } = this.state;\n    if (id > 0) {\n      fetch(\"http://\" + host + \"/api/users/\" + id, {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(response.statusText);\n          }\n          return response.json();\n        })\n        .then((data) => {\n          if (data.data) {\n            console.log(\"Cargando datos de usuario\");\n            this.setState({\n              id: data.data.id,\n              rol: data.data.rol,\n              username: data.data.username,\n              name: data.data.name,\n              email: data.data.email,\n              updated_at: data.data.updated_at,\n              created_at: data.data.created_at,\n              session: data.data.session,\n              load: false,\n              validUserName: true,\n              validUserEmail: true,\n            });\n          } else {\n            console.error(\"Orus: \", data.message);\n            window.Swal.fire(\n              \"Error\",\n              \"Error en el sistema, comuniquese con el administrador de sistema\",\n              \"error\"\n            );\n            this.setState({\n              load: false,\n            });\n          }\n        })\n        .catch((error) => {\n          console.log(\"Orus:\", error);\n          window.Swal.fire(\n            \"Fallo de conexion\",\n            \"Verifique la conexion al servidor\",\n            \"error\"\n          );\n          this.setState({\n            load: false,\n          });\n        });\n    } else {\n      this.setState({\n        load: false,\n      });\n    }\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class Filter extends Component {\n  render() {\n    const { search } = this.props;\n    return (\n      <React.Fragment>\n        <div className=\"btn-group\">\n          <a\n            href=\"#Filters\"\n            className=\"btn btn-tool text-dark\"\n            data-toggle=\"modal\"\n            data-target=\"#filters\"\n          >\n            <i className=\"fas fa-filter\"></i>\n          </a>\n        </div>\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\n          <div className=\"modal-dialog\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\">Busquedas</h5>\n                <button\n                  type=\"button\"\n                  className=\"close\"\n                  data-dismiss=\"modal\"\n                  aria-label=\"Close\"\n                >\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n\n              <form className=\"modal-body\">\n                <div className=\"input-group mb-3\">\n                  <div className=\"input-group-prepend\">\n                    <span className=\"input-group-text\">\n                      <i className=\"fas fa-search\"></i>\n                    </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    name=\"search\"\n                    className=\"form-control\"\n                    placeholder=\"Por: codigo o producto\"\n                    value={search}\n                    onChange={this.changeFilters}\n                    onKeyPress={this.onKeyPressSearch}\n                  />\n                </div>\n              </form>\n\n              <div className=\"modal-footer\">\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-dark\"\n                    data-dismiss=\"modal\"\n                  >\n                    <i className=\"fas fa-window-close mr-2\"></i>\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={\n                      search\n                        ? \"btn btn-outline-dark\"\n                        : \"btn btn-outline-dark disabled\"\n                    }\n                    onClick={this.onClickClean}\n                  >\n                    <i className=\"fas fa-eraser mr-2\"></i>\n                    Limpiar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-dark\"\n                    onClick={this.setFilters}\n                    data-dismiss=\"modal\"\n                  >\n                    <i className=\"fas fa-search mr-2\"></i>\n                    Buscar\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  onKeyPressSearch = (e) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      this.setFilters();\n    }\n  };\n  onClickClean = () => {\n    this.props.changeFilters(\"search\", \"\");\n    this.setFilters();\n  };\n  setFilters = () => {\n    this.props.handleChangePage(1);\n    window.$(\"#filters\").modal(\"hide\");\n  };\n  changeFilters = (e) => {\n    const { name, value } = e.target;\n    this.props.changeFilters(name, value);\n  };\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport Header from \"../Layouts/headerTable\";\nimport Filter from \"./index_filter\";\nimport Pagination from \"../Layouts/pagination\";\nimport Actions from \"../Layouts/actionsTable\";\n\nexport default class Store extends Component {\n  constructor(props) {\n    super(props);\n    //Variables en localStorage\n    let sdd = JSON.parse(localStorage.getItem(\"OrusStore\"));\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      items: {\n        data: [],\n        meta: {},\n      },\n      load: true,\n      page: sdd ? sdd.page : 1,\n      orderby: sdd ? sdd.orderby : \"created_at\",\n      order: sdd ? sdd.order : \"desc\",\n      search: sdd ? sdd.search : \"\",\n      host: ls.host,\n      token: ls.token,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    this.getItems();\n    localStorage.setItem(\n      \"OrusStore\",\n      JSON.stringify({\n        page: this.state.page,\n        orderby: this.state.orderby,\n        order: this.state.order,\n        search: this.state.search,\n      })\n    );\n    console.log(\"[Store] Eliminando datos de contacto en uso\");\n    localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\n  }\n  componentDidUpdate(props, state) {\n    if (state.load === false && this.state.load === true) {\n      console.log(\"Recargando productos\");\n      this.getItems();\n      localStorage.setItem(\n        \"OrusStore\",\n        JSON.stringify({\n          page: this.state.page,\n          orderby: this.state.orderby,\n          order: this.state.order,\n          search: this.state.search,\n        })\n      );\n    }\n  }\n\n  render() {\n    let { items, load } = this.state,\n      dataHeaders = [\n        { name: \"Codigo\" },\n        { name: \"Marca\", type: \"brand\", filter: true },\n        { name: \"Producto\", type: \"name\", filter: true },\n        { name: \"PS\" },\n        { name: \"UND\" },\n        { name: \"Precio\", type: \"price\", filter: true },\n        { name: \"Proveedor\", type: \"contact_id \", filter: true },\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\n        { name: \"Registrado\", type: \"created_at\", filter: true },\n      ];\n\n    return (\n      <div className=\"card card-primary card-outline\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title text-primary\">\n            <i className=\"fas fa-database mr-1\"></i>\n            Productos en almacen\n          </h3>\n          <div className=\"card-tools\">\n            <Link\n              to=\"/almacen/registro\"\n              className=\"btn btn-outline-dark\"\n              onClick={this.changePage}\n              id=\"/almacen/registro\"\n            >\n              <i className=\"fas fa-plus\"></i>\n            </Link>\n            <Filter\n              search={this.state.search}\n              changeFilters={this.onchangeSearch}\n              handleChangePage={this.handleChangePage}\n            />\n            <Pagination\n              meta={items.meta}\n              handleChangePage={this.handleChangePage}\n            />\n          </div>\n        </div>\n        <div className=\"card-body table-responsive p-0\">\n          <table className=\"table table-sm table-bordered table-hover\">\n            <Header\n              orderby={this.state.orderby}\n              order={this.state.order}\n              data={dataHeaders}\n              actions={true}\n              handleOrder={this.handleOrder}\n            />\n            <tbody>\n              {load ? (\n                <tr>\n                  <td colSpan=\"10\" className=\"text-center\">\n                    <span className=\"text-primary\">Cargando productos</span>\n                    <div\n                      className=\"spinner-border text-primary ml-4\"\n                      role=\"status\"\n                    >\n                      <span className=\"sr-only\">Loading...</span>\n                    </div>\n                  </td>\n                </tr>\n              ) : Object.keys(items.data).length ? (\n                items.data.map((item) => {\n                  return (\n                    <tr key={item.id}>\n                      <td>\n                        <span className=\"text-primary text-uppercase\">\n                          {item.codigo}\n                        </span>\n                      </td>\n                      <td className=\"text-uppercase\">\n                        {item.marca !== null ? item.marca.marca : \"--\"}\n                      </td>\n                      <td>\n                        <Link to={\"/almacen/registro/\" + item.id}>\n                          <span className=\"badge badge-primary text-capitalize p-1\">\n                            {item.producto}\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\n                          </span>\n                        </Link>\n                      </td>\n                      <td className=\"text-right\">{item.unidad}</td>\n                      <td>\n                        <span\n                          className={\n                            item.cantidades > 0 ? \"text-success\" : \"text-danger\"\n                          }\n                        >\n                          {item.cantidades > 0 ? item.cantidades : 0}\n                        </span>\n                      </td>\n                      <td className=\"text-right\">\n                        $ {item.precio ? item.precio.toFixed(2) : \"\"}\n                      </td>\n                      <td className=\"text-capitalize\">\n                        {item.proveedor !== null\n                          ? item.proveedor.nombre.split(\" \").length\n                            ? item.proveedor.nombre.split(\" \")[0]\n                            : item.proveedor.nombre\n                          : \"--\"}\n                      </td>\n                      <td className=\"text-capitalize\">\n                        {moment(item.updated_at).fromNow()}\n                      </td>\n                      <td className=\"text-capitalize\">\n                        {moment(item.created_at).format(\"LL\")}\n                      </td>\n                      <Actions\n                        id={item.id}\n                        item={item.producto}\n                        delete={\n                          item.lotes || item.cantidades\n                            ? null\n                            : this.handleDelete\n                        }\n                        edit={\"/almacen/registro/\"}\n                      />\n                    </tr>\n                  );\n                })\n              ) : (\n                <tr>\n                  <th colSpan=\"10\" className=\"text-center\">\n                    No hay datos para mostrar\n                  </th>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n        <div className=\"card-footer text-right\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"btn-group\" role=\"group\">\n                <Link\n                  to=\"/almacen/registro\"\n                  className=\"btn btn-outline-primary\"\n                  onClick={this.changePage}\n                  id=\"/almacen/registro\"\n                >\n                  <i className=\"fas fa-plus mr-1\"></i>\n                  Nuevo producto\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onchangeSearch = (key, value) => {\n    this.setState({\n      [key]: value,\n    });\n  };\n  handleOrder = (item) => {\n    this.setState({\n      orderby: item,\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\n      load: true,\n    });\n  };\n  handleChangePage = (id) => {\n    this.setState({\n      page: id,\n      load: true,\n    });\n  };\n  changePage = (e) => {\n    this.props.page(e.target.id);\n  };\n  handleDelete = (id, item) => {\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar el producto \" + item.toUpperCase() + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          const { host, token } = this.state;\n\n          //Inicio de proceso de eliminción por API\n          console.log(\"Solicitud de eliminación de producto por API\");\n          return fetch(\"http://\" + host + \"/api/store/\" + id, {\n            method: \"DELETE\",\n            signal: this.signal,\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        console.log(\"Producto eliminado\");\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Producto eliminado con exito\",\n          showConfirmButton: false,\n          timer: 1500,\n        }).then((res) => this.getItems());\n      } else if (result && !result.dismiss) {\n        console.log(\"Orus res: \", result);\n        window.Swal.fire(\n          \"Error\",\n          \"Se perdio la conexion con el servidor\",\n          \"error\"\n        );\n      }\n    });\n  };\n  getItems() {\n    //Variables\n    const { load, orderby, order, search, page, host, token } = this.state,\n      url = \"http://\" + host + \"/api/store\",\n      ordenar = `&orderby=${orderby}&order=${order}`,\n      buscar = search ? `&search=${search.replace(\"+\", \"%2b\")}` : \"\",\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\";\n\n    //Mandamos señal de carga si no lo he hecho\n    if (!load) {\n      this.setState({\n        load: true,\n      });\n    }\n\n    //Realiza la peticion de los contactos\n    console.log(\"Descargando productos de API\");\n    fetch(url + pagina + ordenar + buscar, {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then((data) => {\n        if (data.data) {\n          console.log(\"Almacenando productos\");\n          this.setState({\n            items: data,\n            load: false,\n          });\n        } else {\n          console.error(\"Orus: \", data.message, data.errors);\n          this.setState({\n            load: false,\n          });\n        }\n      })\n      .catch((e) => {\n        console.error(\"Orus: \" + e);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n        this.setState({\n          load: false,\n        });\n      });\n  }\n}\n","import React, { Component } from \"react\";\n\nclass StoreLote extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      id: 0,\n      bill: \"\",\n      cost: 0,\n      price: this.props.price,\n      amount: 0,\n      lote: {\n        data: [],\n        meta: {},\n      },\n      loteNew: false,\n      load: true,\n      page: 1,\n    };\n    this.handleNewLote = this.handleNewLote.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n    this.catchInputs = this.catchInputs.bind(this);\n    this.handelGetLots = this.handelGetLots.bind(this);\n  }\n\n  componentDidMount() {\n    this.handelGetLots(this.state.page);\n  }\n\n  render() {\n    let { lote, load } = this.state,\n      pages = [];\n    if (this.state.lote.meta.total > 10) {\n      for (var i = 1; i <= this.state.lote.meta.last_page; i++) {\n        pages.push(\n          <li\n            key={i}\n            className={\n              this.state.lote.meta.current_page === i\n                ? \"page-item disabled\"\n                : \"page-item\"\n            }\n          >\n            <a\n              href=\"#e\"\n              id={i}\n              className=\"page-link\"\n              onClick={this.handleChangePage.bind(this)}\n            >\n              {i}\n            </a>\n          </li>\n        );\n      }\n    }\n    return (\n      <div className=\"card card-primary card-outline\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title text-primary\">\n            <i className=\"fas fa-list\"></i>\n            Listado de lotes\n          </h3>\n          <div className=\"card-tools\">\n            {this.state.lote.meta.total > 10 ? (\n              <div className=\"btn-group\">\n                <ul className=\"pagination pagination-sm\">{pages}</ul>\n              </div>\n            ) : (\n              \"\"\n            )}\n          </div>\n        </div>\n        <div className=\"card-body table-responsive p-0\">\n          <table className=\"table table-hover table-nowrap\">\n            <thead>\n              <tr>\n                <th>Registrado</th>\n                <th style={{ width: 140 }}>Factura</th>\n                <th className=\"text-right\" style={{ width: 90 }}>\n                  Unidades\n                </th>\n                <th className=\"text-right\" style={{ width: 110 }}>\n                  Costo\n                </th>\n                <th className=\"text-right\" style={{ width: 110 }}>\n                  Precio\n                </th>\n                <th>Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {load ? (\n                <tr>\n                  <td colSpan=\"6\" className=\"text-center\">\n                    <span className=\"text-primary mr-4\">Cargando lotes</span>\n                    <div className=\"spinner-border text-primary\" role=\"status\">\n                      <span className=\"sr-only\">Loading...</span>\n                    </div>\n                  </td>\n                </tr>\n              ) : Object.keys(lote.data).length ? (\n                lote.data.map((lot) => {\n                  return (\n                    <tr key={lot.id}>\n                      <td>{lot.created_at}</td>\n                      <td className=\"text-uppercase\">\n                        {lot.factura ? lot.factura : \"XXXX\"}\n                      </td>\n                      <td className=\"text-right\">{lot.cantidades}</td>\n                      <td className=\"text-right\">\n                        $ {lot.costo ? lot.costo : 0}\n                      </td>\n                      <td className=\"text-right\">\n                        $ {lot.precio ? lot.precio : 0}\n                      </td>\n                      <td className=\"text-right\">\n                        <a\n                          className=\"btn-flat text-dark\"\n                          href=\"#delete\"\n                          onClick={(e) => {\n                            this.handleDelete(e, lot.id, lot.factura);\n                          }}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </a>\n                      </td>\n                    </tr>\n                  );\n                })\n              ) : (\n                <tr>\n                  <th colSpan=\"6\" className=\"text-center\">\n                    No hay datos para mostrar\n                  </th>\n                </tr>\n              )}\n              {this.state.loteNew ? (\n                <tr>\n                  <th>Nuevo</th>\n                  <td>\n                    <input\n                      className=\"form-control text-uppercase\"\n                      type=\"text\"\n                      name=\"bill\"\n                      value={this.state.bill}\n                      onChange={this.catchInputs}\n                    />\n                  </td>\n                  <td>\n                    <input\n                      className=\"form-control text-right\"\n                      type=\"number\"\n                      name=\"amount\"\n                      min=\"1\"\n                      value={this.state.amount}\n                      onChange={this.catchInputs}\n                    />\n                  </td>\n                  <td>\n                    <input\n                      className=\"form-control text-right\"\n                      type=\"number\"\n                      name=\"cost\"\n                      value={this.state.cost}\n                      onChange={this.catchInputs}\n                    />\n                  </td>\n                  <td>\n                    <input\n                      className=\"form-control text-right\"\n                      type=\"number\"\n                      name=\"price\"\n                      value={this.state.price}\n                      onChange={this.catchInputs}\n                    />\n                  </td>\n                  <td className=\"text-right\">\n                    <div className=\"btn-group\" role=\"group\">\n                      <button\n                        className=\"btn btn-outline-primary btn-sm\"\n                        onClick={this.handleSave}\n                      >\n                        <i className=\"fas fa-save\"></i>\n                      </button>\n                      <button\n                        className=\"btn btn-outline-dark btn-sm\"\n                        onClick={this.handleNewLote}\n                      >\n                        <i className=\"fas fa-undo\"></i>\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ) : (\n                <tr></tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n        <div className=\"card-footer\">\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <div className=\"btn-group float-right\" role=\"group\">\n                <button\n                  className=\"btn btn-primary\"\n                  onClick={this.handleNewLote}\n                >\n                  Nuevo lote\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  handleChangePage(e) {\n    e.preventDefault();\n    this.setState({\n      page: e.target.id,\n    });\n    this.handelGetLots(e.target.id);\n  }\n  handleNewLote() {\n    this.setState({\n      loteNew: !this.state.loteNew,\n    });\n  }\n  catchInputs(e) {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value.toLowerCase(),\n    });\n  }\n  validInputs() {\n    //Datos del formulario\n    let { bill, price, amount } = this.state;\n    if (!bill.length) {\n      bill = \"XXXX\";\n    }\n    if (!price) {\n      price = 1000;\n    }\n    if (!amount) {\n      window.alert(\"La cantidad de articulos no puede ser cero\");\n      return false;\n    }\n    return true;\n  }\n  handleSave(e) {\n    e.preventDefault();\n\n    //Verificamos campos validos\n    if (!this.validInputs()) {\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de almacenar un nuevo lote?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Guardar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          const ls = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n            { id, bill, cost, price, amount } = this.state,\n            body = {\n              bill,\n              cost,\n              price,\n              amount,\n              store_items_id: id,\n            };\n\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\n          console.log(\"Enviando datos del producto a API\");\n          return fetch(\"http://\" + ls.host + \"/api/items\", {\n            method: \"POST\",\n            body: JSON.stringify(body),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + ls.token,\n            },\n          })\n            .then((response) => {\n              if (!response.ok) {\n                throw new Error(response.statusText);\n              }\n              return response.json();\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n\n        if (data.data) {\n          console.log(\"Lote almacenada\");\n          this.setState({\n            load: true,\n            loteNew: false,\n          });\n          window.Swal.fire(\"Lote guardado con exito\", \"\", \"success\").then(\n            (res) => {\n              this.handelGetLots(this.state.page);\n              this.props.refresh();\n            }\n          );\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar el lote\", \"error\");\n          console.error(\"Orus res: \", data.message);\n        }\n      }\n    });\n  }\n  handelGetLots(page) {\n    //Variables\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n      id = this.props.id,\n      url =\n        \"http://\" + varLocalStorage.host + \"/api/items?store_items_id=\" + id;\n    fetch(url + \"&page=\" + page, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + varLocalStorage.token,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then((data) => {\n        console.log(\"Descargando lotes\");\n        this.setState({\n          id,\n          lote: data,\n          load: false,\n        });\n      })\n      .catch((error) => {\n        console.log(\"Orus:\", error);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n        this.setState({\n          load: false,\n        });\n      });\n  }\n  handleDelete = (e, id, item) => {\n    e.preventDefault();\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar el lote \" + item.toUpperCase() + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm && id) {\n          const tr = e.target.parentNode.parentNode.parentNode;\n          tr.classList.add(\"bg-danger\");\n\n          let ls = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n            deleteColor = setInterval(() => {\n              clearInterval(deleteColor);\n              tr.classList.remove(\"bg-danger\");\n            }, 6500);\n\n          //Inicio de proceso de eliminción por API\n          console.log(\"Solicitud de eliminación de lote por API\");\n          return fetch(\"http://\" + ls.host + \"/api/items/\" + id, {\n            method: \"DELETE\",\n            signal: this.signal,\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + ls.token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        console.log(\"Producto eliminado\");\n        this.setState({\n          load: true,\n          loteNew: false,\n        });\n        window.Swal.fire(\"Lote eliminado con exito\", \"\", \"success\").then(\n          (res) => {\n            this.handelGetLots(this.state.page);\n            this.props.refresh();\n          }\n        );\n      } else if (result && !result.dismiss) {\n        console.log(\"Orus res: \", result);\n        window.Swal.fire(\n          \"Error\",\n          \"Se perdio la conexion con el servidor\",\n          \"error\"\n        );\n      }\n    });\n  };\n}\n\nexport default StoreLote;\n","import React, { Component } from \"react\";\n\nexport default class InputCategory extends Component {\n  render() {\n    const {\n      categoryData,\n      categoryName,\n      category,\n      textSelect,\n      categoryRef,\n    } = this.props;\n    return (\n      <div className=\"input-group mb-3\">\n        <div className=\"input-group-prepend\">\n          <span\n            className={\n              category\n                ? \"input-group-text bg-primary\"\n                : \"input-group-text bg-warning\"\n            }\n          >\n            <i className=\"fas fa-sort-amount-down\"></i>\n          </span>\n        </div>\n        <select\n          className=\"custom-select text-uppercase\"\n          name={categoryName}\n          value={category}\n          onChange={this.handleChangeCategory}\n          ref={categoryRef}\n        >\n          <option value=\"0\">{textSelect}</option>\n          {categoryData.map((cat) => {\n            return (\n              <option value={cat.id} key={cat.id}>\n                {cat.categoria ? cat.categoria : cat.name}\n              </option>\n            );\n          })}\n        </select>\n      </div>\n    );\n  }\n\n  handleChangeCategory = (e) => {\n    const { value } = e.target,\n      { categoryData, handleChangeCategory } = this.props;\n    let search = parseInt(value),\n      category = categoryData.find((i) => i.id === search);\n    if (!search) {\n      category = {\n        id: 0,\n      };\n    }\n\n    handleChangeCategory(category);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class SuppliersInput extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      suppliers_data: [],\n      text: \"\",\n      load: false,\n      host: ls.host,\n      token: ls.token,\n    };\n  }\n  componentDidMount() {\n    this.setState({\n      suppliers_data: [],\n    });\n    this.getSuppliers();\n  }\n  render() {\n    const { suppliers_data } = this.state,\n      { supplier, handleChangeSupplier, supplierRef } = this.props;\n    return (\n      <div className=\"row\">\n        <div className=\"col\">\n          <small>\n            <label>Proveedor</label>\n          </small>\n          {suppliers_data.length ? (\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span\n                  className={\n                    supplier\n                      ? \"input-group-text bg-primary\"\n                      : \"input-group-text bg-warning\"\n                  }\n                >\n                  <i className=\"fas fa-address-book\"></i>\n                </span>\n              </div>\n              <select\n                className=\"custom-select text-uppercase\"\n                name=\"supplier\"\n                value={supplier}\n                ref={supplierRef}\n                onChange={(e) => {\n                  const { value } = e.target;\n                  handleChangeSupplier(parseInt(value));\n                }}\n              >\n                <option value=\"0\">Seleccione un Proveedor</option>\n                {suppliers_data.map((sp) => {\n                  return (\n                    <option value={sp.id} key={sp.id}>\n                      {sp.nombre}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n          ) : (\n            <div className=\"text-left\">\n              <span className=\"text-dark\">Descargando proveedores</span>\n              <div className=\"spinner-border text-primary ml-4\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  getSuppliers = () => {\n    //Variables\n    let { host, token } = this.state;\n\n    console.log(\"solicitando proveedores al API\");\n    fetch(\"http://\" + host + \"/api/contacts?type=1\", {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then((data) => {\n        if (data.data !== null) {\n          console.log(\"Cargando proveedores\");\n          this.setState({\n            suppliers_data: data.data,\n          });\n        } else {\n          console.error(\"Orus: \", data.message);\n          window.Swal.fire(\n            \"Error\",\n            \"Error al descargar los proveedores\",\n            \"error\"\n          );\n        }\n      })\n      .catch((error) => {\n        console.log(\"Orus:\", error);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n        this.setState({\n          load: false,\n        });\n      });\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class InputBrand extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      brands: [],\n      host: ls.host,\n      token: ls.token,\n    };\n  }\n  componentDidMount() {\n    this.getBrands();\n  }\n  componentDidUpdate(props, state) {\n    if (props.supplier !== this.props.supplier) {\n      this.setState({\n        brands: [],\n      });\n      this.getBrands();\n    }\n  }\n\n  render() {\n    const { brandsName, brand, textSelect, brandRef } = this.props,\n      { brands } = this.state;\n    return (\n      <div className=\"row\">\n        <div className=\"col\">\n          <small>\n            <label>Marca</label>\n          </small>\n          {brands.length ? (\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span\n                  className={\n                    brand\n                      ? \"input-group-text bg-primary\"\n                      : \"input-group-text bg-warning\"\n                  }\n                >\n                  <i className=\"fas fa-copyright\"></i>\n                </span>\n              </div>\n              <select\n                className=\"custom-select text-uppercase\"\n                name={brandsName}\n                value={brand}\n                ref={brandRef}\n                onChange={this.handleChangeCategory}\n              >\n                <option value=\"0\">{textSelect}</option>\n                {brands.map((brand) => {\n                  return (\n                    <option value={brand.id} key={brand.id}>\n                      {brand.nombre}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n          ) : (\n            <div className=\"text-left\">\n              <span className=\"text-dark\">Descargando marcas</span>\n              <div className=\"spinner-border text-primary ml-4\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  handleChangeCategory = (e) => {\n    const { value } = e.target,\n      { handleChangeBrand } = this.props;\n    handleChangeBrand(parseInt(value));\n  };\n  getBrands = () => {\n    //Constantes\n    const { host, token } = this.state,\n      { supplier } = this.props;\n\n    console.log(\"solicitando marcas al API\");\n    fetch(\"http://\" + host + \"/api/brands?supplier=\" + supplier, {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then(async (response) => {\n        let back = {};\n        if (response.status !== 204) back = await response.json();\n        if (!response.ok) {\n          throw new Error(back.message);\n        }\n        return back;\n      })\n      .then((data) => {\n        if (data.data !== null) {\n          console.log(\"descargando marcas\");\n          this.setState({\n            brands: data.data,\n          });\n        } else {\n          console.error(\"Orus: \", data.message);\n          window.Swal.fire(\"Error\", \"Error al descargar las marcas\", \"error\");\n        }\n      })\n      .catch((error) => {\n        console.error(\"Orus:\", error);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n        this.setState({\n          load: false,\n        });\n      });\n  };\n}\n","export default function codeLentString(string) {\n  switch (string) {\n    case \"monofocales\":\n      return \"MF\";\n    case \"bifocales\":\n      return \"BF\";\n    case \"progresivo basico\":\n    case \"progresivo-basico\":\n      return \"PB\";\n    case \"progresivo digital\":\n    case \"progresivo-digital\":\n      return \"PD\";\n    case \"plastico\":\n      return \"CR\";\n    case \"policarbonato\":\n      return \"PL\";\n    case \"hi-index\":\n    case \"hi index\":\n      return \"HI\";\n    case \"antirreflejantes\":\n      return \"AR\";\n    case \"photo\":\n      return \"PH\";\n    case \"ar & photo\":\n    case \"antirreflejante-photo\":\n      return \"ARPH\";\n    case \"blanco\":\n      return \"BL\";\n    case \"polarizado\":\n      return \"PO\";\n    case \"bifocal invisible\":\n    case \"bifocal-invisible\":\n      return \"BI\";\n    case \"monofocal drivesafe\":\n    case \"monofocal-drivesafe\":\n    case \"monofocal digital drivesafe\":\n    case \"monofocal digital DriveSafe\":\n      return \"MDSF\";\n    case \"monofocal superb\":\n    case \"monofocal-superb\":\n    case \"monofocal digital superb\":\n      return \"MDSU\";\n    case \"monofocal individual\":\n    case \"monofocal-individual\":\n    case \"monofocal digital individual\":\n      return \"MDIN\";\n    default:\n      return \"XX\";\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport StoreLote from \"./add_lote\";\nimport InputCategory from \"./input_category\";\nimport Suppliers from \"./input_suppliers\";\nimport Brands from \"./input_brand\";\nimport Codestring from \"../Layouts/codeLentString\";\n\nexport default class StoreAdd extends Component {\n  constructor(props) {\n    super(props);\n    const id = this.props.match.params.id;\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      id: id ? id : 0,\n      code: \"\",\n      codebar: \"\",\n      grad: \"\",\n      brand_id: 0,\n      name: \"\",\n      unit: \"PZ\",\n      cant: 1,\n      price: 1,\n      supplier: 0,\n      category_id: 0,\n      category_data: {},\n      category_id1: 0,\n      category_id2: 0,\n      category_id3: 0,\n      category_id4: 0,\n      category_list1: [],\n      category_list2: [],\n      category_list3: [],\n      category_list4: [],\n      load: false,\n      host: ls.host,\n      token: ls.token,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n    this.category1 = React.createRef(); //Primera categoria\n    this.category2 = React.createRef(); //Segunda categoria\n    this.category3 = React.createRef(); //Tercera categoria\n    this.category4 = React.createRef(); //Cuarta categoria\n    this.supplierRef = React.createRef(); //Referencia de proveedor\n    this.brandRef = React.createRef(); //Referencia de proveedor\n    this.codeRef = React.createRef(); //Referencia del codigo\n    this.nameRef = React.createRef(); //REferencia del nombre del producto\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    const { id } = this.state;\n    this.getItem(id);\n    this.getCategory();\n  }\n  componentDidUpdate(props, state) {\n    const {\n      category_list1,\n      category_id,\n      category_id1,\n      category_id2,\n      category_id3,\n    } = this.state;\n\n    if (state.category_id !== category_id) {\n      if (state.category_id1 !== category_id1 && category_id1 !== 0) {\n        const next = category_list1.find((e) => e.id === category_id1);\n        if (next) {\n          this.setState({\n            category_list2: next.hijos,\n          });\n        }\n      }\n      if (state.category_id2 !== category_id2 && category_id2 !== 0) {\n        const next = category_list1.find((e) => e.id === category_id2);\n        if (next) {\n          this.setState({\n            category_list3: next.hijos,\n          });\n        }\n      }\n      if (state.category_id3 !== category_id3 && category_id3 !== 0) {\n        const next = category_list1.find((e) => e.id === category_id3);\n        if (next) {\n          this.setState({\n            category_list4: next.hijos,\n          });\n        }\n      }\n    }\n  }\n\n  render() {\n    const {\n      id,\n      load,\n      supplier,\n      category_id,\n      category_id1,\n      category_id2,\n      category_id3,\n      category_id4,\n      category_list1,\n      category_list2,\n      category_list3,\n      category_list4,\n      brand_id,\n      code,\n      name,\n      grad,\n      unit,\n      cant,\n      price,\n    } = this.state;\n    let codeValue = code,\n      nameValue = name;\n\n    if (\n      this.category1.current !== null &&\n      parseInt(this.category1.current.value) === 2\n    ) {\n      if (name.length <= 3) {\n        nameValue = this.handleCodeString(codeValue);\n      }\n    } else if (\n      this.category1.current !== null &&\n      parseInt(this.category1.current.value) === 1\n    ) {\n      if (code.length <= 3) {\n        codeValue = this.handleCodeLent(grad);\n      }\n      if (name.length <= 3) {\n        nameValue = this.handleNameLent(grad);\n      }\n    }\n\n    return (\n      <div className=\"row\">\n        <div className={id ? \"col-5\" : \"col-6\"}>\n          <form\n            className=\"card card-primary card-outline\"\n            onSubmit={this.handleSave}\n          >\n            <div className=\"card-header\">\n              <h3 className=\"card-title text-primary\">\n                <i className=\"fas fa-database mr-1\"></i>\n                {id ? \"Editar producto\" : \"Registrar nuevo producto\"}\n              </h3>\n            </div>\n            <div className=\"card-body\">\n              {category_list1 && category_list1.length && !load ? (\n                <React.Fragment>\n                  <div className=\"row\">\n                    <div className=\"col\">\n                      <fieldset>\n                        <small className=\"mr-2\">\n                          <label>Categoria</label>\n                        </small>\n\n                        <InputCategory\n                          data={this.props.data}\n                          category={category_id1}\n                          categoryName=\"category_id1\"\n                          categoryData={category_list1}\n                          textSelect=\"Seleciona la categoria\"\n                          categoryRef={this.category1}\n                          handleChangeCategory={(data) => {\n                            this.setState({\n                              category_id: data.id,\n                              category_id1: data.id,\n                              category_id2: 0,\n                              category_list2: data.hijos,\n                              category_id3: 0,\n                              category_list3: [],\n                              category_id4: 0,\n                              category_list4: [],\n                              supplier: 0,\n                            });\n                          }}\n                        />\n\n                        {category_id1 &&\n                        category_list2 &&\n                        category_list2.length ? (\n                          <InputCategory\n                            data={this.props.data}\n                            category={category_id2}\n                            categoryName=\"category_id2\"\n                            categoryData={category_list2}\n                            textSelect=\"Seleciona el tipo\"\n                            categoryRef={this.category2}\n                            handleChangeCategory={(data) => {\n                              this.setState({\n                                category_id: data.id,\n                                category_id2: data.id,\n                                category_id3: 0,\n                                category_list3: data.hijos,\n                                category_id4: 0,\n                                category_list4: [],\n                              });\n                            }}\n                          />\n                        ) : null}\n\n                        {category_id2 &&\n                        category_list3 &&\n                        category_list3.length ? (\n                          <InputCategory\n                            data={this.props.data}\n                            category={category_id3}\n                            categoryName=\"category_id3\"\n                            categoryData={category_list3}\n                            textSelect=\"Seleciona el material\"\n                            categoryRef={this.category3}\n                            handleChangeCategory={(data) => {\n                              this.setState({\n                                category_id: data.id,\n                                category_id3: data.id,\n                                category_id4: 0,\n                                category_list4: data.hijos,\n                              });\n                            }}\n                          />\n                        ) : null}\n\n                        {category_id3 &&\n                        category_list4 &&\n                        category_list4.length ? (\n                          <InputCategory\n                            data={this.props.data}\n                            category={category_id4}\n                            categoryName=\"category_id4\"\n                            categoryData={category_list4}\n                            textSelect=\"Seleciona el tratamiento\"\n                            categoryRef={this.category4}\n                            handleChangeCategory={(data) => {\n                              this.setState({\n                                category_id: data.id,\n                                category_id4: data.id,\n                              });\n                            }}\n                          />\n                        ) : null}\n                      </fieldset>\n                    </div>\n                  </div>\n\n                  {category_id1 && category_id1 !== 1 ? (\n                    <Suppliers\n                      data={this.props.data}\n                      supplier={supplier}\n                      textSelect=\"Selecione el proveedor\"\n                      supplierRef={this.supplierRef}\n                      handleChangeSupplier={(e) => {\n                        this.setState({\n                          supplier: e,\n                        });\n                      }}\n                    />\n                  ) : null}\n\n                  {category_id1 && category_id1 !== 1 && supplier ? (\n                    <Brands\n                      data={this.props.data}\n                      brand={brand_id}\n                      supplier={supplier}\n                      textSelect=\"Selecione la marca\"\n                      brandRef={this.brandRef}\n                      handleChangeBrand={(e) => {\n                        this.setState({\n                          brand_id: e,\n                        });\n                      }}\n                    />\n                  ) : null}\n\n                  {category_id ? (\n                    <React.Fragment>\n                      <div className=\"row\">\n                        <div className=\"col-5\">\n                          {codeValue ? (\n                            <small>\n                              <label>Codigo</label>\n                            </small>\n                          ) : (\n                            <br />\n                          )}\n                          <div className=\"input-group mb-3\">\n                            <div className=\"input-group-prepend\">\n                              <span\n                                className={\n                                  codeValue\n                                    ? \"input-group-text bg-primary\"\n                                    : \"input-group-text bg-warning\"\n                                }\n                              >\n                                <i className=\"fas fa-code\"></i>\n                              </span>\n                            </div>\n                            <input\n                              type=\"text\"\n                              className=\"form-control text-uppercase\"\n                              placeholder=\"Codigo\"\n                              name=\"code\"\n                              ref={this.codeRef}\n                              value={codeValue}\n                              onChange={this.catchInputs}\n                              autoComplete=\"off\"\n                            />\n                          </div>\n                        </div>\n                        <div className=\"col\">\n                          <small>\n                            <label>Codigo de barras</label>\n                          </small>\n                          <div className=\"input-group mb-3\">\n                            <div className=\"input-group-prepend\">\n                              <span className=\"input-group-text bg-primary\">\n                                <i className=\"fas fa-barcode\"></i>\n                              </span>\n                            </div>\n                            <input\n                              type=\"text\"\n                              className=\"form-control\"\n                              placeholder=\"Codigo de barras\"\n                              name=\"codebar\"\n                              value={this.state.codebar}\n                              onChange={this.catchInputs}\n                              autoComplete=\"off\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        {category_id1 === 1 ? (\n                          <div className=\"col-3\">\n                            <small>\n                              <label>Graduacion</label>\n                            </small>\n                            <div className=\"input-group mb-3\">\n                              <div className=\"input-group-prepend\">\n                                <span\n                                  className={\n                                    grad\n                                      ? \"input-group-text bg-primary\"\n                                      : \"input-group-text bg-warning\"\n                                  }\n                                >\n                                  <i className=\"fas fa-glasses\"></i>\n                                </span>\n                              </div>\n                              <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                placeholder=\"+100100\"\n                                name=\"grad\"\n                                value={grad}\n                                onChange={this.catchInputs}\n                                autoComplete=\"off\"\n                              />\n                            </div>\n                          </div>\n                        ) : null}\n                        <div className=\"col\">\n                          {nameValue ? (\n                            <small>\n                              <label>Nombre del producto</label>\n                            </small>\n                          ) : (\n                            <br />\n                          )}\n                          <div className=\"input-group mb-3\">\n                            <div className=\"input-group-prepend\">\n                              <span\n                                className={\n                                  nameValue\n                                    ? \"input-group-text bg-primary\"\n                                    : \"input-group-text bg-warning\"\n                                }\n                              >\n                                <i className=\"fas fa-archive\"></i>\n                              </span>\n                            </div>\n                            <input\n                              type=\"text\"\n                              className=\"form-control text-uppercase\"\n                              placeholder=\"Nombre del producto\"\n                              name=\"name\"\n                              ref={this.nameRef}\n                              value={nameValue}\n                              onChange={this.catchInputs}\n                              autoComplete=\"off\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"row\">\n                        <div className=\"col\">\n                          {this.state.unit ? (\n                            <small>\n                              <label>Unidad de presentacion</label>\n                            </small>\n                          ) : (\n                            <br />\n                          )}\n                          <div className=\"input-group mb-3\">\n                            <div className=\"input-group-prepend\">\n                              <span\n                                className={\n                                  unit\n                                    ? \"input-group-text bg-primary\"\n                                    : \"input-group-text bg-warning\"\n                                }\n                              >\n                                <i className=\"fas fa-balance-scale\"></i>\n                              </span>\n                            </div>\n                            <input\n                              type=\"text\"\n                              className=\"form-control\"\n                              placeholder=\"Unidad de presentación\"\n                              name=\"unit\"\n                              value={unit}\n                              onChange={this.catchInputs}\n                            />\n                          </div>\n                        </div>\n                        <div className=\"col\">\n                          <small>\n                            <label>Cantidad en existencia</label>\n                          </small>\n                          <div className=\"input-group mb-3\">\n                            <div className=\"input-group-prepend\">\n                              <span\n                                className={\n                                  cant\n                                    ? \"input-group-text bg-primary\"\n                                    : \"input-group-text\"\n                                }\n                              >\n                                <i className=\"fas fa-database\"></i>\n                              </span>\n                            </div>\n                            <input\n                              type=\"number\"\n                              className=\"form-control text-right\"\n                              placeholder=\"Cantidades en existencia\"\n                              name=\"cant\"\n                              value={cant}\n                              onChange={this.catchInputs}\n                            />\n                          </div>\n                        </div>\n                        <div className=\"col\">\n                          <small>\n                            <label>Precio</label>\n                          </small>\n                          <div className=\"input-group mb-3\">\n                            <div className=\"input-group-prepend\">\n                              <span\n                                className={\n                                  price\n                                    ? \"input-group-text bg-primary\"\n                                    : \"input-group-text bg-warning\"\n                                }\n                              >\n                                <i className=\"fas fa-money-bill\"></i>\n                              </span>\n                            </div>\n                            <input\n                              type=\"number\"\n                              className=\"form-control text-right\"\n                              placeholder=\"Precio\"\n                              name=\"price\"\n                              value={price}\n                              onChange={this.catchInputs}\n                            />\n                          </div>\n                        </div>\n                      </div>\n                    </React.Fragment>\n                  ) : (\n                    <div className=\"row\">\n                      <div className=\"col\">\n                        <h6 className=\"text-warning\">\n                          Seleccione primero una categoría.\n                        </h6>\n                      </div>\n                    </div>\n                  )}\n                </React.Fragment>\n              ) : (\n                <div className=\"text-center\">\n                  <span className=\"text-primary\">Cargando formulario</span>\n                  <div\n                    className=\"spinner-border text-primary ml-4\"\n                    role=\"status\"\n                  >\n                    <span className=\"sr-only\">Loading...</span>\n                  </div>\n                </div>\n              )}\n            </div>\n            <div className=\"card-footer text-right\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <div className=\"btn-group\" role=\"group\">\n                    <Link\n                      to=\"/almacen/registro\"\n                      className=\"btn btn-dark\"\n                      onClick={this.setNew}\n                    >\n                      <i className=\"fas fa-plus mr-1\"></i>\n                      Nuevo\n                    </Link>\n                    <Link\n                      to=\"/almacen\"\n                      className=\"btn btn-dark\"\n                      onClick={(e) => {\n                        this.changePage(\"/almacen\");\n                      }}\n                    >\n                      <i\n                        className={id ? \"fas fa-ban mr-1\" : \"fas fa-undo mr-1\"}\n                      ></i>\n                      {id ? \"Cerrar\" : \"Cancelar\"}\n                    </Link>\n                    <button type=\"submit\" className=\"btn btn-primary\">\n                      <i className=\"fas fa-save mr-1\"></i>\n                      Guardar\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n        {id ? (\n          <div className=\"col\">\n            <StoreLote\n              id={id}\n              price={this.state.price}\n              refresh={this.getItem}\n            />\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n\n  handleNameLent = (grad) => {\n    let stringcode = \"\";\n    stringcode +=\n      this.category2.current !== null\n        ? this.category2.current.options[\n            this.category2.current.selectedIndex\n          ].text.trim()\n        : \"\";\n    stringcode +=\n      this.category3.current !== null\n        ? \" \" +\n          this.category3.current.options[\n            this.category3.current.selectedIndex\n          ].text.trim()\n        : \"\";\n    stringcode +=\n      this.category4.current !== null\n        ? \" \" +\n          this.category4.current.options[\n            this.category4.current.selectedIndex\n          ].text.trim()\n        : \"\";\n\n    stringcode += \" \" + grad.toString();\n    return stringcode.toLowerCase();\n  };\n  handleCodeLent = (grad) => {\n    let stringcode =\n      this.category2.current !== null\n        ? Codestring(\n            this.category2.current.options[this.category2.current.selectedIndex]\n              .text\n          )\n        : \"\";\n    stringcode +=\n      this.category3.current !== null\n        ? Codestring(\n            this.category3.current.options[this.category3.current.selectedIndex]\n              .text\n          )\n        : \"\";\n    stringcode +=\n      this.category4.current !== null\n        ? Codestring(\n            this.category4.current.options[this.category4.current.selectedIndex]\n              .text\n          )\n        : \"\";\n    return stringcode + grad.toString();\n  };\n  handleCodeString = (code) => {\n    let stringcode = \"armazon\";\n    stringcode +=\n      this.category2.current !== null\n        ? \" \" +\n          this.category2.current.options[\n            this.category2.current.selectedIndex\n          ].text.trim()\n        : \"\";\n    stringcode +=\n      this.brandRef.current !== null\n        ? \" \" +\n          this.brandRef.current.options[\n            this.brandRef.current.selectedIndex\n          ].text.trim()\n        : \"\";\n    stringcode +=\n      this.supplierRef.current !== null\n        ? \" \" +\n          this.supplierRef.current.options[\n            this.supplierRef.current.selectedIndex\n          ].text\n            .trim()\n            .split(\" \")[0]\n        : \"\";\n\n    stringcode += \" \" + code.toString();\n    return stringcode.toLowerCase();\n  };\n  setNew = (e) => {\n    this.setState({\n      id: 0,\n      code: \"\",\n      codebar: \"\",\n      grad: \"\",\n      brand_id: 0,\n      name: \"\",\n      unit: \"PZ\",\n      cant: 1,\n      price: 1,\n      supplier: 0,\n      brand: 0,\n      category_id: 0,\n      category_id1: 0,\n      category_id2: 0,\n      category_id3: 0,\n      category_id4: 0,\n      category_list2: [],\n      category_list3: [],\n      category_list4: [],\n      load: false,\n    });\n  };\n  changePage = (e) => {\n    this.props.page(e);\n  };\n  catchInputs = (e) => {\n    const { name, type } = e.target;\n    let { value } = e.target;\n\n    if (type === \"text\") value = value.toLowerCase();\n    if (type === \"number\") value = parseInt(value);\n\n    this.setState({\n      [name]: value,\n    });\n  };\n  getCategory = () => {\n    //Variables\n    let { host, token } = this.state;\n\n    console.log(\"solicitando categorias al API\");\n    fetch(\"http://\" + host + \"/api/categories?categoryid=raiz\", {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then((cat) => {\n        if (cat.data !== null) {\n          console.log(\"Almacenando categorias\");\n          this.setState({\n            category_list1: cat.data,\n          });\n        } else {\n          console.error(\"Orus: \", cat.message);\n          window.Swal.fire(\n            \"Error\",\n            \"Error al descargar las categorias\",\n            \"error\"\n          );\n        }\n      })\n      .catch((error) => {\n        console.log(\"Orus:\", error);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n      });\n  };\n  handleSave = async (e) => {\n    e.preventDefault();\n    const {\n      id,\n      category_id,\n      category_id1,\n      category_id2,\n      category_id4,\n      supplier,\n      brand_id,\n      code,\n    } = this.state;\n    //Verificamos campos validos\n    if (!category_id) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Selecione una categoria primero\",\n        \"warning\"\n      );\n      return false;\n    } else {\n      if (category_id1 === 1 && category_id4 !== category_id) {\n        window.Swal.fire(\n          \"Verificación\",\n          \"Selecione una categoria valida para lentes\",\n          \"warning\"\n        );\n        return false;\n      } else if (category_id1 === 2 && category_id2 !== category_id) {\n        window.Swal.fire(\n          \"Verificación\",\n          \"Selecione una categoria valida para armazones\",\n          \"warning\"\n        );\n        return false;\n      }\n    }\n    if (category_id1 === 2 && !supplier) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Selecione un PROVEEDOR valido primero\",\n        \"warning\"\n      );\n      return false;\n    }\n    if (category_id1 === 2 && !brand_id) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Selecione una MARCA valida primero\",\n        \"warning\"\n      );\n      return false;\n    }\n    if (!code && !this.codeRef.current.value) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Escriba una CODIGO para este producto\",\n        \"warning\"\n      );\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: id\n        ? \"¿Esta seguro de actualizar el producto?\"\n        : \"¿Esta seguro de crear un nuevo producto?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          const {\n              id,\n              code,\n              codebar,\n              brand_id,\n              name,\n              unit,\n              cant,\n              price,\n              category_id,\n              token,\n              host,\n              supplier,\n              grad,\n            } = this.state,\n            url = id\n              ? \"http://\" + host + \"/api/store/\" + id\n              : \"http://\" + host + \"/api/store\",\n            method = id ? \"PUT\" : \"POST\";\n          let body = {\n            code: code ? code : this.codeRef.current.value,\n            codebar,\n            name: name ? name : this.nameRef.current.value,\n            unit,\n            cant,\n            price,\n            category_id,\n            grad: grad ? grad : \"+000000\",\n            brand_id: brand_id ? brand_id : \"\",\n            contact_id: supplier ? supplier : \"\",\n          };\n\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\n          console.log(\"Enviando datos del producto a API\");\n          return fetch(url, {\n            method: method,\n            body: JSON.stringify(body),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          }).then(async (response) => {\n            let back = {};\n            if (response.status !== 204) back = await response.json();\n            if (!response.ok) {\n              console.error(\"Orus res: \", back.message, back.errors);\n              if (back.errors && back.errors.code) {\n                window.Swal.fire(\n                  \"Validacion\",\n                  \"El CODIGO ya esta registrado\",\n                  \"warning\"\n                );\n              } else if (back.errors && back.errors.name) {\n                window.Swal.fire(\n                  \"Validacion\",\n                  \"El nombre del PRODUCTO ya esta registrado\",\n                  \"warning\"\n                );\n              } else\n                window.Swal.fire(\"Error\", \"al almacenar el producto\", \"error\");\n            }\n            return back;\n          });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n\n        if (data.data) {\n          console.log(\"Producto almacenado\", data.data);\n          window.Swal.fire({\n            icon: \"success\",\n            title: id\n              ? \"Producto actualizado con exito\"\n              : \"Producto almacenado con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          }).then((res) => {\n            if (id) {\n              this.props.history.push(`/almacen`);\n            } else {\n              this.setState({\n                id: data.data.id,\n              });\n              this.props.history.push(`/almacen/registro/${data.data.id}`);\n            }\n          });\n        }\n      }\n    });\n  };\n  getItem = (id) => {\n    if (id > 0) {\n      //Variables\n      let { host, token } = this.state;\n      //Realiza la peticion al API\n      console.log(\"Solicitando datos de producto a la API\");\n      fetch(\"http://\" + host + \"/api/store/\" + id, {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(response.statusText);\n          }\n          return response.json();\n        })\n        .then(async (data) => {\n          if (data.data) {\n            let category_id1 = 0,\n              category_list2 = [],\n              category_list3 = [],\n              category_list4 = [],\n              category_id2 = 0,\n              category_id3 = 0,\n              category_id4 = 0;\n\n            if (data.data.categoria && data.data.categoria.depende_de) {\n              if (\n                data.data.categoria.depende_de &&\n                data.data.categoria.depende_de.depende_de\n              ) {\n                if (\n                  data.data.categoria.depende_de.depende_de &&\n                  data.data.categoria.depende_de.depende_de.depende_de\n                ) {\n                  category_id1 =\n                    data.data.categoria.depende_de.depende_de.depende_de.id;\n                  category_id2 = data.data.categoria.depende_de.depende_de.id;\n                  category_id3 = data.data.categoria.depende_de.id;\n                  category_id4 = data.data.categoria.id;\n                  //Listas\n                  category_list2 =\n                    data.data.categoria.depende_de.depende_de.depende_de.hijos;\n                  category_list3 =\n                    data.data.categoria.depende_de.depende_de.hijos;\n                  category_list4 = data.data.categoria.depende_de.hijos;\n                } else {\n                  category_id1 = data.data.categoria.depende_de.depende_de.id;\n                  category_id2 = data.data.categoria.depende_de.id;\n                  category_id3 = data.data.categoria.id;\n                  //Lista\n                  category_list2 =\n                    data.data.categoria.depende_de.depende_de.hijos;\n                  category_list3 = data.data.categoria.depende_de.hijos;\n                }\n              } else {\n                category_id1 = data.data.categoria.depende_de.id;\n                category_id2 = data.data.categoria.id;\n                //Lista\n                category_list2 = data.data.categoria.depende_de.hijos;\n              }\n            } else {\n              category_id1 = data.data.categoria.id;\n              //Lista\n              category_list2 = data.data.categoria.hijos;\n            }\n            /*console.log(\n              \"CAT principal\",\n              \"Nombre: \" + data.data.categoria.categoria,\n              \"Hijos: \" + data.data.categoria.hijos.length,\n              \"Padre: \",\n              data.data.categoria.depende_de\n            );*/\n\n            this.setState({\n              id: data.data.id,\n              code: data.data.codigo,\n              codebar: data.data.c_barra,\n              brand_id: data.data.marca ? data.data.marca.id : 0,\n              grad: data.data.graduacion ? data.data.graduacion : \"\",\n              name: data.data.producto,\n              unit: data.data.unidad,\n              cant: data.data.cantidades,\n              price: data.data.precio,\n              category_id: data.data.categoria.id,\n              category_id1,\n              category_list2,\n              category_list3,\n              category_list4,\n              category_id2,\n              category_id3,\n              category_id4,\n              category_data: data.data.categoria,\n              supplier: data.data.proveedor ? data.data.proveedor.id : 0,\n              load: false,\n            });\n          } else {\n            console.error(\"[Store] add - \", data.message);\n            window.Swal.fire(\n              \"Error\",\n              \"Error en el sistema, comuniquese con el administrador de sistema\",\n              \"error\"\n            );\n            this.setState({\n              load: false,\n            });\n          }\n        })\n        .catch((error) => {\n          console.log(\"Orus:\", error);\n          window.Swal.fire(\n            \"Fallo de conexion\",\n            \"Verifique la conexion al servidor\",\n            \"error\"\n          );\n          this.setState({\n            load: false,\n          });\n        });\n    } else {\n      this.setState({\n        load: false,\n      });\n    }\n  };\n}\n","import React, { Component } from \"react\";\nimport Pagination from \"../Layouts/pagination\";\n\nexport default class CategoryList extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      meta: {},\n      add: false,\n      name: \"\",\n      category_raiz: [],\n      category_id: props.category,\n      page: 1,\n      host: ls.host,\n      token: ls.token,\n      load: true,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    this.getCategoriesMain();\n  }\n  componentDidUpdate(props, state) {\n    const { category } = this.props;\n    if (props.category !== category) {\n      this.getCategoriesMain();\n    }\n  }\n\n  render() {\n    const { category_raiz, category_id, name, add, meta, load } = this.state,\n      { categoryName, categoryDataName, categorySelect, category, last } =\n        this.props;\n\n    return (\n      <div className=\"card card-primary card-outline\">\n        <div className=\"card-body\">\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>Nombre</th>\n                <th style={{ width: 16 }} className=\"text-center\">\n                  E\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {!load && category_raiz ? (\n                <React.Fragment>\n                  <tr\n                    className={category_id === category ? \"table-success\" : \"\"}\n                    onClick={(e) => {\n                      this.setState({\n                        category_id: parseInt(category) ? category : 0,\n                      });\n                      categorySelect({\n                        [categoryName]: 0,\n                        [categoryDataName]: [],\n                        category_id: category,\n                      });\n                    }}\n                  >\n                    <td\n                      colSpan=\"2\"\n                      className=\"text-capitalize\"\n                      style={{ cursor: \"pointer\" }}\n                    >\n                      Raiz\n                    </td>\n                  </tr>\n                  {category_raiz.map((cat) => {\n                    return (\n                      <tr\n                        key={cat.id}\n                        className={\n                          cat.id === category_id ? \"table-success\" : \"\"\n                        }\n                        style={{ cursor: \"pointer\" }}\n                        onClick={(e) => {\n                          if (last) {\n                            this.setState({\n                              category_id: parseInt(category) ? category : 0,\n                            });\n                            categorySelect({\n                              [categoryName]: 0,\n                              [categoryDataName]: [],\n                              category_id: category,\n                            });\n                          } else {\n                            categorySelect({\n                              [categoryName]: cat.id,\n                              [categoryDataName]: cat.hijos,\n                              category_id: cat.id,\n                            });\n                            this.setState({\n                              category_id: cat.id,\n                            });\n                          }\n                        }}\n                      >\n                        <td className=\"text-capitalize\">\n                          <a\n                            href={\"#select!\" + cat.id}\n                            onClick={(e) => {\n                              e.preventDefault();\n                              this.setState({\n                                category_id: cat.id,\n                              });\n                            }}\n                          >\n                            {cat.categoria}\n                          </a>\n                        </td>\n                        <td>\n                          {!cat.hijos.length ? (\n                            <button\n                              className=\"btn btn-outline-dark btn-sm\"\n                              onClick={(e) => {\n                                this.handleClickDelete(cat.id, cat.categoria);\n                              }}\n                            >\n                              <i className=\"fas fa-trash\"></i>\n                            </button>\n                          ) : null}\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </React.Fragment>\n              ) : (\n                <tr>\n                  <td colSpan=\"8\" className=\"text-center\">\n                    <div className=\"spinner-border text-primary\" role=\"status\">\n                      <span className=\"sr-only\">Loading...</span>\n                    </div>\n                  </td>\n                </tr>\n              )}\n            </tbody>\n            {add && !load ? (\n              <tfoot>\n                <tr>\n                  <td>\n                    <input\n                      type=\"text\"\n                      name=\"name\"\n                      className=\"form-control text-capitalize\"\n                      autoComplete=\"off\"\n                      value={name}\n                      onChange={this.catchInputs}\n                      ref={(input) => {\n                        this.nameInput = input;\n                      }}\n                    />\n                  </td>\n                  <td>\n                    <button\n                      className=\"btn btn-dark btn-sm\"\n                      onClick={this.handleClickSave}\n                    >\n                      <i className=\"fas fa-save\"></i>\n                    </button>\n                  </td>\n                </tr>\n              </tfoot>\n            ) : (\n              <tfoot>\n                <tr>\n                  <td colSpan=\"3\">\n                    <Pagination\n                      meta={meta}\n                      handleChangePage={this.handleChangePage}\n                    />\n                  </td>\n                </tr>\n              </tfoot>\n            )}\n          </table>\n        </div>\n        <div className=\"card-footer text-right\">\n          <button\n            className=\"btn btn-primary btn-sm\"\n            onClick={this.handleClickAdd}\n          >\n            {this.state.add ? (\n              <i className=\"fas fa-undo\"></i>\n            ) : (\n              <i className=\"fas fa-plus\"></i>\n            )}\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  handleChangePage = (id) => {\n    this.setState({\n      page: id,\n    });\n  };\n  handleClickDelete = (id, name) => {\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar la categoria \" + name.toUpperCase() + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm && id) {\n          const { host, token } = this.state;\n\n          //Inicio de proceso de eliminción por API\n          console.log(\"Solicitud de eliminación de categoria por API\");\n          return fetch(\"http://\" + host + \"/api/categories/\" + id, {\n            method: \"DELETE\",\n            signal: this.signal,\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        console.log(\"Categoria eliminado\");\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Categoria eliminada con exito\",\n          showConfirmButton: false,\n          timer: 1500,\n        }).then((res) => {\n          //Proceso de eliminacion de categoria del array\n          const { category } = this.props;\n          let { category_raiz } = this.state,\n            indexCat = 0;\n\n          if (category_raiz.length) {\n            category_raiz.filter((cat, i) => {\n              if (cat.id === id) indexCat = i;\n              return false;\n            });\n            category_raiz.splice(indexCat, 1);\n            this.setState({\n              category_raiz,\n              category_id: category,\n            });\n          }\n          //fin del proceso\n        });\n      } else if (result && !result.dismiss) {\n        console.log(\"Orus res: \", result);\n        window.Swal.fire(\n          \"Error\",\n          \"Se perdio la conexion con el servidor\",\n          \"error\"\n        );\n      }\n    });\n  };\n  handleClickSave = () => {\n    //Verificamos campos validos\n    if (this.state.name.length < 4) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Debe de escribir el nombre de la categoria\",\n        \"warning\"\n      );\n      this.nameInput.focus();\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de crear una nueva categoria?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          //Variables\n          const { host, token, category_id, name } = this.state,\n            { category } = this.props,\n            body = {\n              name,\n              category_id: parseInt(category_id)\n                ? parseInt(category_id)\n                : parseInt(category)\n                ? parseInt(category)\n                : \"\",\n            };\n\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\n          console.log(\"Enviando datos a API para almacenar\");\n          return fetch(\"http://\" + host + \"/api/categories\", {\n            method: \"POST\",\n            body: JSON.stringify(body),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        const data = result.value,\n          { category_raiz, category_id } = this.state,\n          { category } = this.props;\n\n        if (data.data) {\n          console.log(\"Categoria almacenada\");\n          window.Swal.fire({\n            icon: \"success\",\n            title: \"Categoria almacenada con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          }).then(async (res) => {\n            //Resultado actualizando datos\n            if (parseInt(category) === category_id) {\n              category_raiz.push(data.data);\n            } else {\n              await category_raiz.find((cat) => {\n                if (cat.id === category_id) {\n                  cat.hijos.push(data.data);\n                  return cat;\n                } else return false;\n              });\n            }\n\n            this.setState({\n              category_raiz,\n              name: \"\",\n              add: !this.state.add,\n              category_id: data.data.id,\n            });\n            //Fin de resultado\n          });\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar la categoria\", \"error\");\n          console.error(\"Orus res: \", data.message);\n        }\n      }\n    });\n  };\n  getCategoriesMain = () => {\n    //Variables props\n    const { category, CategoryData } = this.props;\n\n    if (CategoryData === undefined || !CategoryData.length) {\n      //Variables en localStorage\n      const { host, token, page, load } = this.state,\n        url = \"http://\" + host + \"/api/categories\",\n        categoryid = category ? \"&categoryid=\" + category : \"&categoryid=raiz\",\n        ppage = page > 0 ? \"?page=\" + page : \"?page=1\";\n\n      //Mandamos señal de carga si no lo he hecho\n      if (!load) {\n        this.setState({\n          load: true,\n        });\n      }\n      //Categories main\n      fetch(url + ppage + categoryid, {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(response.statusText);\n          }\n          return response.json();\n        })\n        .then((cat) => {\n          this.setState({\n            category_raiz: cat.data !== null ? cat.data : [],\n            category_id: category,\n            load: false,\n          });\n        })\n        .catch((e) => {\n          console.error(\"Orus: \" + e);\n          window.Swal.fire(\n            \"Fallo de conexion\",\n            \"Verifique la conexion al servidor\",\n            \"error\"\n          );\n        });\n    } else {\n      this.setState({\n        category_raiz: CategoryData ? CategoryData : [],\n        category_id: category,\n        load: false,\n      });\n    }\n  };\n  handleClickAdd = () => {\n    this.setState({\n      add: !this.state.add,\n      name: \"\",\n    });\n  };\n  catchInputs = (e) => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value.toLowerCase(),\n    });\n  };\n}\n","import React, { Component } from \"react\";\nimport Catalogo from \"./category_list\";\n\nexport default class Categories extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      category_id: 0,\n      category_id1: 0,\n      category_hijos1: [],\n      category_id2: 0,\n      category_hijos2: [],\n      category_id3: 0,\n      category_hijos3: [],\n      category_id4: 0,\n      category_hijos4: [],\n    };\n  }\n\n  render() {\n    const {\n      category_id1,\n      category_hijos1,\n      category_id2,\n      category_hijos2,\n      category_id3,\n      category_hijos3,\n    } = this.state;\n    return (\n      <React.Fragment>\n        <h5>Categorias de productos</h5>\n        <div className=\"row\">\n          <div className=\"col\">\n            <Catalogo\n              data={this.props.data}\n              category={0}\n              categoryName=\"category_id1\"\n              categoryDataName=\"category_hijos1\"\n              categorySelect={this.handleChangeState}\n            />\n          </div>\n          {category_id1 && category_hijos1.length ? (\n            <div className=\"col\">\n              <Catalogo\n                data={this.props.data}\n                category={category_id1}\n                CategoryData={category_hijos1}\n                categoryName=\"category_id2\"\n                categoryDataName=\"category_hijos2\"\n                categorySelect={this.handleChangeState}\n                last={category_id1 === 2 ? true : false}\n              />\n            </div>\n          ) : null}\n          {category_id2 && category_hijos2.length ? (\n            <div className=\"col\">\n              <Catalogo\n                data={this.props.data}\n                category={category_id2}\n                CategoryData={category_hijos2}\n                categoryName=\"category_id3\"\n                categoryDataName=\"category_hijos3\"\n                categorySelect={this.handleChangeState}\n              />\n            </div>\n          ) : null}\n          {category_id3 && category_hijos3.length ? (\n            <div className=\"col\">\n              <Catalogo\n                data={this.props.data}\n                category={category_id3}\n                CategoryData={category_hijos3}\n                categoryName=\"category_id4\"\n                categoryDataName=\"category_hijos4\"\n                categorySelect={this.handleChangeState}\n                last={true}\n              />\n            </div>\n          ) : null}\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  handleChangeState = (data) => {\n    if (data.category_id1 !== undefined && data.category_id1) {\n      data.category_id2 = 0;\n      data.category_id3 = 0;\n      data.category_id4 = 0;\n    } else if (data.category_id2 !== undefined && data.category_id2) {\n      data.category_id3 = 0;\n      data.category_id4 = 0;\n    } else if (data.category_id3 !== undefined && data.category_id3) {\n      data.category_id4 = 0;\n    }\n    this.setState(data);\n  };\n}\n","import React, { Component } from \"react\";\nimport Suppliers from \"./input_suppliers\";\n\nexport default class Brands extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      supplier: 0,\n      brands: [],\n      name: \"\",\n      load: false,\n      host: ls.host,\n      token: ls.token,\n    };\n  }\n\n  componentDidUpdate(props, state) {\n    if (state.supplier !== this.state.supplier && this.state.supplier) {\n      this.getBrands();\n    }\n  }\n  render() {\n    const { supplier, name, brands } = this.state;\n    return (\n      <React.Fragment>\n        <h5>Marcas para productos</h5>\n        <div className=\"row\">\n          <div className=\"col\">\n            <div className=\"card card-primary card-outline\">\n              <div className=\"card-body\">\n                <Suppliers\n                  data={this.props.data}\n                  supplier={supplier}\n                  handleChangeSupplier={(e) => {\n                    this.setState({\n                      supplier: e,\n                    });\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"col\">\n            <div className=\"card card-primary card-outline\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title text-primary mb-4\">\n                  {supplier\n                    ? \"Listado de marcas\"\n                    : \"Primero seleccione a un proveedor\"}\n                </h5>\n                {supplier ? (\n                  <ul className=\"card-text list-group\">\n                    {!brands.length ? (\n                      <li className=\"list-group-item\">\n                        No hay marcas registradas para este proveedor\n                      </li>\n                    ) : (\n                      brands.map((brand) => {\n                        return (\n                          <li\n                            className=\"list-group-item d-flex justify-content-between align-items-center\"\n                            key={brand.id}\n                          >\n                            <span className=\"text-primary\">{brand.nombre}</span>\n                            <span\n                              className=\"badge badge-dark badge-pill\"\n                              style={{ cursor: \"pointer\" }}\n                              onClick={(e) => {\n                                this.deleteBrand(brand.id, brand.nombre);\n                              }}\n                            >\n                              <i className=\"fas fa-trash\"></i>\n                            </span>\n                          </li>\n                        );\n                      })\n                    )}\n                  </ul>\n                ) : null}\n              </div>\n              {supplier ? (\n                <div className=\"card-footer\">\n                  <form onSubmit={this.saveBrand}>\n                    <div className=\"input-group\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control mr-1\"\n                        name=\"name\"\n                        value={name}\n                        onChange={this.changeInput}\n                      />\n                      <button className=\"btn btn-dark\">\n                        <i className=\"fas fa-save\"></i>\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  deleteBrand = (id, item) => {\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar el producto \" + item.toUpperCase() + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          const { host, token } = this.state;\n\n          //Inicio de proceso de eliminción por API\n          console.log(\"Solicitud de eliminación de marca por API\");\n          return fetch(\"http://\" + host + \"/api/brands/\" + id, {\n            method: \"DELETE\",\n            signal: this.signal,\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        console.log(\"Marca eliminada\");\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Marca eliminada con exito\",\n          showConfirmButton: false,\n          timer: 1500,\n        }).then((res) => {\n          //Eliminar el item del array\n          let { brands } = this.state,\n            indexItem = 0;\n\n          if (brands.length) {\n            brands.filter((item, i) => {\n              if (item.id === id) indexItem = i;\n              return false;\n            });\n            brands.splice(indexItem, 1);\n            this.setState({\n              brands,\n            });\n          }\n        });\n      } else if (result && !result.dismiss) {\n        console.log(\"Orus res: \", result);\n        window.Swal.fire(\n          \"Error\",\n          \"Se perdio la conexion con el servidor\",\n          \"error\"\n        );\n      }\n    });\n  };\n  saveBrand = (e) => {\n    e.preventDefault();\n    const { name, supplier } = this.state;\n\n    if (name.length < 3) {\n      window.Swal.fire(\n        \"Error\",\n        \"El nombre de la marca debe de tener por lo menos 3 caracteres\",\n        \"error\"\n      );\n      return false;\n    } else if (!supplier) {\n      window.Swal.fire(\n        \"Error\",\n        \"Debe de elegir a un proveedor primero\",\n        \"error\"\n      );\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de crear una nueva marca?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          const { name, supplier, token, host } = this.state;\n          let body = {\n            name,\n            contact_id: supplier,\n          };\n\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\n          console.log(\"Enviando datos de la marca a API\");\n          return fetch(\"http://\" + host + \"/api/brands\", {\n            method: \"POST\",\n            body: JSON.stringify(body),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n\n        if (data.data) {\n          console.log(\"Marca almacenada\");\n          window.Swal.fire({\n            icon: \"success\",\n            title: \"Marca almacenada con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          }).then((res) => {\n            //Actualizando con la nueva marca\n            let { brands } = this.state;\n\n            brands.push(data.data);\n            this.setState({\n              brands,\n              name: \"\",\n            });\n          });\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar la marca\", \"error\");\n          console.error(\"Orus res: \", data.message);\n        }\n      }\n    });\n  };\n  changeInput = (e) => {\n    const { name, value } = e.target;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n  getBrands = () => {\n    //Constantes\n    const { supplier, host, token } = this.state;\n\n    console.log(\"solicitando marcas al API\");\n    fetch(\"http://\" + host + \"/api/brands?supplier=\" + supplier, {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then(async (response) => {\n        let back = {};\n        if (response.status !== 204) back = await response.json();\n        if (!response.ok) {\n          throw new Error(back.message);\n        }\n        return back;\n      })\n      .then((data) => {\n        if (data.data !== null) {\n          console.log(\"descargando marcas\");\n          this.setState({\n            brands: data.data,\n          });\n        } else {\n          console.error(\"Orus: \", data.message);\n          window.Swal.fire(\"Error\", \"Error al descargar las marcas\", \"error\");\n        }\n      })\n      .catch((error) => {\n        console.error(\"Orus:\", error);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n        this.setState({\n          load: false,\n        });\n      });\n  };\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class Inventory extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      catData_1: [],\n      catData_2: [],\n      catData_3: [],\n      catid_1: 0,\n      catid_2: 0,\n      catid_3: 0,\n      load: false,\n      items: [],\n      meta: {},\n    };\n  }\n  componentDidMount() {\n    this.getCategories();\n  }\n  componentDidUpdate(props, state) {\n    if (state.catid_3 !== this.state.catid_3) {\n      this.getItems(this.state.catid_3);\n    }\n  }\n\n  render() {\n    const {\n      catid_1,\n      catData_1,\n      catid_2,\n      catData_2,\n      catid_3,\n      catData_3,\n      load,\n      items,\n      meta,\n    } = this.state;\n    let header = [],\n      body = [],\n      i = 0;\n\n    do {\n      header.push(<th key={i}>{i.toFixed(2)}</th>);\n      i = i - 0.25;\n    } while (i > parseFloat(meta.cil) - 0.25);\n\n    i = parseFloat(meta.rangoInf);\n    do {\n      if (i === 0)\n        body.push(\n          <td>\n            <label>0.00</label>\n          </td>\n        );\n      else body.push(<td>{i.toFixed(2)}</td>);\n      i = i + 0.25;\n    } while (i < parseFloat(meta.rangoSup) + 0.25);\n\n    return (\n      <div className=\"row\">\n        <div className=\"col\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <div className=\"row\">\n                <div className=\"col\">\n                  <select\n                    className=\"custom-select\"\n                    name=\"catid_1\"\n                    value={catid_1}\n                    onChange={this.handleClickCat}\n                  >\n                    <option value=\"0\">Seleccione un tipo</option>\n                    {catData_1.map((cat) => {\n                      return (\n                        <option key={cat.id} value={cat.id}>\n                          {cat.categoria}\n                        </option>\n                      );\n                    })}\n                  </select>\n                </div>\n\n                {catid_1 && catData_2.length ? (\n                  <div className=\"col\">\n                    <select\n                      className=\"custom-select\"\n                      name=\"catid_2\"\n                      value={catid_2}\n                      onChange={this.handleClickCat}\n                    >\n                      <option value=\"0\">Seleccione un material</option>\n                      {catData_2.map((cat) => {\n                        return (\n                          <option key={cat.id} value={cat.id}>\n                            {cat.categoria}\n                          </option>\n                        );\n                      })}\n                    </select>\n                  </div>\n                ) : null}\n\n                {catid_2 && catData_3.length ? (\n                  <div className=\"col\">\n                    <div\n                      className=\"btn-group\"\n                      role=\"group\"\n                      aria-label=\"Basic example\"\n                    >\n                      {catData_3.map((cat) => {\n                        return (\n                          <button\n                            key={cat.id}\n                            className={\n                              catid_3 === cat.id\n                                ? \"btn btn-primary\"\n                                : \"btn btn-secondary\"\n                            }\n                            onClick={(e) => {\n                              this.setState({\n                                catid_3: cat.id,\n                                load: true,\n                              });\n                            }}\n                          >\n                            {cat.categoria}\n                          </button>\n                        );\n                      })}\n                    </div>\n                  </div>\n                ) : null}\n              </div>\n            </div>\n            <div className=\"card-body\">\n              {catid_3 ? (\n                <React.Fragment>\n                  {load ? (\n                    <div className=\"text-center\">\n                      <span className=\"text-primary\">Cargando productos</span>\n                      <div\n                        className=\"spinner-border text-primary ml-4\"\n                        role=\"status\"\n                      >\n                        <span className=\"sr-only\">Loading...</span>\n                      </div>\n                    </div>\n                  ) : (\n                    <React.Fragment>\n                      <div className=\"text-center\">\n                        Productos: {items.length}\n                      </div>\n                      <div className=\"table-responsive\">\n                        <table className=\"table table-sm table-bordered table-hover\">\n                          <thead>\n                            <tr>\n                              <th>/</th>\n                              {header}\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {body.map((row, i) => {\n                              const zero =\n                                row.props.children.type === \"label\"\n                                  ? true\n                                  : false;\n                              return (\n                                <tr\n                                  className={zero ? \"table-secondary\" : \"\"}\n                                  key={i}\n                                >\n                                  {row}\n                                  {header.map((h, i) => {\n                                    let grad = zero\n                                      ? parseFloat(\n                                          row.props.children.props.children\n                                        )\n                                          .toFixed(2)\n                                          .replace(\".\", \"\")\n                                      : parseFloat(row.props.children)\n                                          .toFixed(2)\n                                          .replace(\".\", \"\");\n                                    if (parseInt(grad) >= 0) grad = \"+\" + grad;\n                                    grad += parseFloat(h.props.children)\n                                      .toFixed(2)\n                                      .replace(/[-.]/g, \"\");\n\n                                    //console.log(\"G\", grad);\n                                    return (\n                                      <td key={i} className=\"text-center\">\n                                        {items.length ? (\n                                          items.map((item) => {\n                                            //console.log(\"comp: \");\n                                            return grad === item.graduacion ? (\n                                              <React.Fragment>\n                                                {item.cantidades ? (\n                                                  <span\n                                                    key={item.id}\n                                                    className={\n                                                      item.cantidades > 0\n                                                        ? \"badge badge-success\"\n                                                        : \"badge badge-danger\"\n                                                    }\n                                                  >\n                                                    <Link\n                                                      to={\n                                                        \"/almacen/registro/\" +\n                                                        item.id\n                                                      }\n                                                      className=\"text-light\"\n                                                    >\n                                                      {item.cantidades}\n                                                    </Link>\n                                                  </span>\n                                                ) : null}\n                                              </React.Fragment>\n                                            ) : null;\n                                          })\n                                        ) : (\n                                          <Link to=\"/almacen/registro\">\n                                            <i className=\"fas fa-plus text-secondary\"></i>\n                                          </Link>\n                                        )}\n                                      </td>\n                                    );\n                                  })}\n                                </tr>\n                              );\n                            })}\n                          </tbody>\n                        </table>\n                      </div>\n                    </React.Fragment>\n                  )}\n                </React.Fragment>\n              ) : (\n                <div className=\"alert alert-warning text-light\" role=\"alert\">\n                  <h4 className=\"alert-heading\">\n                    <i className=\"fas fa-exclamation\"></i> Seleccion.\n                  </h4>\n                  <hr />\n                  <ul>\n                    {!catid_1 ? (\n                      <li>Selecciones primero el tipo de lente</li>\n                    ) : null}\n                    {!catid_2 ? <li>Despues el material</li> : null}\n                    <li>Por ultimo el tratamiento</li>\n                  </ul>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  getItems = (catid) => {\n    //Variables en localStorage\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n      { load } = this.state,\n      url = \"http://\" + ls.host + \"/api/store?cat=\" + catid;\n\n    //Cargando\n    if (!load) {\n      this.setState({\n        load: true,\n      });\n    }\n    //Categories main\n    fetch(url, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + ls.token,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then((res) => {\n        console.log(\"Descarga de producto exitosa\");\n        this.setState({\n          items: res.data && res.data.length ? res.data : [],\n          load: false,\n        });\n      })\n      .catch((e) => {\n        console.error(\"Orus: \" + e);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n        this.setState({\n          load: false,\n        });\n      });\n  };\n  handleClickCat = (e) => {\n    const { name, value } = e.target,\n      { catData_1, catData_2 } = this.state;\n    let sons = [],\n      meta = {};\n\n    if (name === \"catid_1\") {\n      catData_1.map((cat) => {\n        if (cat.id === parseInt(value)) {\n          sons = cat.hijos;\n          meta = cat.meta;\n          return true;\n        } else return false;\n      });\n      //console.log(\"Meta: \", meta);\n\n      this.setState({\n        catid_1: parseInt(value),\n        catid_2: 0,\n        catid_3: 0,\n        catData_2: sons,\n        catData_3: [],\n        meta,\n      });\n    } else if (name === \"catid_2\") {\n      catData_2.map((cat) => {\n        if (cat.id === parseInt(value)) {\n          sons = cat.hijos;\n          return true;\n        } else return false;\n      });\n\n      this.setState({\n        catid_2: parseInt(value),\n        catid_3: 0,\n        catData_3: sons,\n      });\n    }\n  };\n  getCategories = () => {\n    //Variables en localStorage\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n      url = \"http://\" + ls.host + \"/api/categories/1\";\n\n    //Categories main\n    fetch(url, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + ls.token,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then((cat) => {\n        if (cat.data && cat.data.hijos.length) {\n          console.log(\"Descarga de categoria exitos\");\n          this.setState({\n            catData_1: cat.data.hijos,\n          });\n        }\n      })\n      .catch((e) => {\n        console.error(\"Orus: \" + e);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n      });\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class Filter extends Component {\n  render() {\n    const { search, type, business } = this.props;\n    return (\n      <React.Fragment>\n        <div className=\"btn-group\">\n          <a\n            href=\"#Filters\"\n            className=\"btn btn-tool text-dark\"\n            data-toggle=\"modal\"\n            data-target=\"#filters\"\n          >\n            <i className=\"fas fa-filter\"></i>\n          </a>\n        </div>\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\n          <div className=\"modal-dialog\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\">Busquedas</h5>\n                <button\n                  type=\"button\"\n                  className=\"close\"\n                  data-dismiss=\"modal\"\n                  aria-label=\"Close\"\n                >\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n\n              <form className=\"modal-body\">\n                <div className=\"input-group mb-3\">\n                  <div className=\"input-group-prepend\">\n                    <span className=\"input-group-text\">\n                      <i className=\"fas fa-search\"></i>\n                    </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    name=\"search\"\n                    className=\"form-control\"\n                    placeholder=\"Por: nombre, RFC o email\"\n                    value={search}\n                    onChange={this.changeFilters}\n                    onKeyPress={this.onKeyPressSearch}\n                  />\n                </div>\n\n                <div className=\"input-group mb-3\">\n                  <label>Tipo de contacto</label>\n                  <div className=\"input-group-prepend ml-4\">\n                    <span className=\"input-group-text\">\n                      <i className=\"fas fa-address-book\"></i>\n                    </span>\n                  </div>\n                  <select\n                    className=\"form-control\"\n                    name=\"type\"\n                    value={type}\n                    onChange={this.changeFilters}\n                  >\n                    <option value=\"\">Todos</option>\n                    <option value=\"0\">Clientes</option>\n                    <option value=\"1\">Proveedores</option>\n                  </select>\n                </div>\n\n                <div className=\"input-group mb-3\">\n                  <label>¿Es una empresa?</label>\n                  <div className=\"input-group-prepend ml-4\">\n                    <span className=\"input-group-text\">\n                      <i className=\"fas fa-building\"></i>\n                    </span>\n                  </div>\n                  <select\n                    className=\"form-control\"\n                    name=\"business\"\n                    value={business}\n                    onChange={this.changeFilters}\n                  >\n                    <option value=\"\">Todos</option>\n                    <option value=\"1\">Si</option>\n                    <option value=\"0\">No</option>\n                  </select>\n                </div>\n              </form>\n\n              <div className=\"modal-footer\">\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-dark\"\n                    data-dismiss=\"modal\"\n                  >\n                    <i className=\"fas fa-window-close mr-2\"></i>\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={\n                      search || type || business\n                        ? \"btn btn-outline-dark\"\n                        : \"btn btn-outline-dark disabled\"\n                    }\n                    onClick={this.onClickClean}\n                  >\n                    <i className=\"fas fa-eraser mr-2\"></i>\n                    Limpiar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-dark\"\n                    onClick={this.setFilters}\n                    data-dismiss=\"modal\"\n                  >\n                    <i className=\"fas fa-search mr-2\"></i>\n                    Buscar\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  onKeyPressSearch = (e) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      this.setFilters();\n    }\n  };\n  onClickClean = () => {\n    this.props.changeFilters(\"search\", \"\");\n    this.props.changeFilters(\"type\", \"\");\n    this.props.changeFilters(\"business\", \"\");\n    this.setFilters();\n  };\n  setFilters = () => {\n    this.props.handleChangePage(1);\n    window.$(\"#filters\").modal(\"hide\");\n  };\n  changeFilters = (e) => {\n    const { name, value } = e.target;\n    this.props.changeFilters(name, value);\n  };\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport Header from \"../Layouts/headerTable\";\nimport Filter from \"./index_filter\";\nimport Pagination from \"../Layouts/pagination\";\nimport Actions from \"../Layouts/actionsTable\";\n\nexport default class Contacts extends Component {\n  constructor(props) {\n    super(props);\n    //Variables en localStorage\n    let sdd = JSON.parse(localStorage.getItem(\"OrusContacts\"));\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      contacts: {\n        data: [],\n        meta: {},\n      },\n      load: true,\n      page: sdd ? sdd.page : 1,\n      orderby: sdd && sdd.orderby ? sdd.orderby : \"created_at\",\n      order: sdd && sdd.order ? sdd.order : \"desc\",\n      search: sdd && sdd.search ? sdd.search : \"\",\n      type: sdd && sdd.type ? sdd.type : \"\",\n      business: sdd && sdd.business ? sdd.business : \"\",\n      host: ls.host,\n      token: ls.token,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    this.getContacts();\n    localStorage.setItem(\n      \"OrusContacts\",\n      JSON.stringify({\n        page: this.state.page,\n        orderby: this.state.orderby,\n        order: this.state.order,\n        search: this.state.search,\n        type: this.state.type,\n        business: this.state.business,\n      })\n    );\n    console.log(\"[Contacts] Eliminando datos de contacto en uso\");\n    localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\n  }\n  componentDidUpdate(props, state) {\n    if (state.load === false && this.state.load === true) {\n      console.log(\"Recargando contactos\");\n      this.getContacts();\n      localStorage.setItem(\n        \"OrusContacts\",\n        JSON.stringify({\n          page: this.state.page,\n          orderby: this.state.orderby,\n          order: this.state.order,\n          search: this.state.search,\n          type: this.state.type,\n          business: this.state.business,\n        })\n      );\n    }\n  }\n\n  render() {\n    let { contacts, load } = this.state,\n      dataHeaders = [\n        { name: \"Nombre\", type: \"name\", filter: true },\n        { name: \"RFC\", type: \"name\", filter: true },\n        { name: \"E-mail\", type: \"email\", filter: true },\n        { name: \"Tipo\", type: \"type\", filter: true },\n        { name: \"Telefono\" },\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\n        { name: \"Registrado\", type: \"created_at\", filter: true },\n      ];\n\n    return (\n      <div className=\"card card-danger card-outline\">\n        <div className=\"card-header\">\n          <h2 className=\"card-title text-danger\">\n            <i className=\"fas fa-address-book mr-1\"></i>\n            Lista de contactos\n          </h2>\n          <div className=\"card-tools\">\n            <Filter\n              search={this.state.search}\n              type={this.state.type}\n              business={this.state.business}\n              changeFilters={this.onchangeSearch}\n              handleChangePage={this.handleChangePage}\n            />\n            <Pagination\n              meta={contacts.meta}\n              handleChangePage={this.handleChangePage}\n            />\n          </div>\n        </div>\n        <div className=\"card-body table-responsive p-0\">\n          <table className=\"table table-sm table-bordered table-hover\">\n            <Header\n              orderby={this.state.orderby}\n              order={this.state.order}\n              data={dataHeaders}\n              actions={true}\n              handleOrder={this.handleOrder}\n            />\n            <tbody>\n              {load ? (\n                <tr>\n                  <td colSpan=\"10\" className=\"text-center\">\n                    <div className=\"spinner-border text-danger\" role=\"status\">\n                      <span className=\"sr-only\">Loading...</span>\n                    </div>\n                  </td>\n                </tr>\n              ) : Object.keys(contacts.data).length ? (\n                contacts.data.map((contact) => {\n                  return (\n                    <tr key={contact.id}>\n                      <td>\n                        <Link to={\"/contactos/registro/\" + contact.id}>\n                          <span className=\"badge badge-danger text-capitalize p-1\">\n                            {contact.nombre}\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\n                          </span>\n                        </Link>\n                      </td>\n                      <td className=\"text-uppercase\">\n                        {contact.rfc ? contact.rfc : \"--\"}\n                      </td>\n                      <td className=\"text-lowercase\">\n                        {contact.email ? contact.email : \"--\"}\n                      </td>\n                      <td className=\"text-uppercase\">\n                        {contact.tipo ? (\n                          <span className=\"text-purple\">Proveedor</span>\n                        ) : (\n                          <span className=\"text-green\">Cliente</span>\n                        )}\n                      </td>\n                      <td>\n                        {contact.telefonos && contact.telefonos.t_movil\n                          ? contact.telefonos.t_movil\n                          : \"--\"}\n                      </td>\n                      <td>{moment(contact.updated_at).fromNow()}</td>\n                      <td>{moment(contact.created_at).format(\"ll\")}</td>\n                      <Actions\n                        id={contact.id}\n                        item={contact.nombre}\n                        delete={contact.enUso ? null : this.handleDelete}\n                        edit={\"/contactos/registro/\"}\n                      />\n                    </tr>\n                  );\n                })\n              ) : (\n                <tr>\n                  <th colSpan=\"10\" className=\"text-center\">\n                    No hay datos para mostrar\n                  </th>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n        <div className=\"card-footer text-right\">\n          <Link\n            to=\"/contactos/registro\"\n            className=\"btn btn-outline-danger\"\n            onClick={this.changePage}\n            id=\"/contactos/registro\"\n          >\n            <i className=\"fas fa-plus\" id=\"/contactos/registro\"></i>\n            &nbsp; Nuevo contacto\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  onchangeSearch = (key, value) => {\n    this.setState({\n      [key]: value,\n    });\n  };\n  handleOrder = (item) => {\n    this.setState({\n      orderby: item,\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\n      load: true,\n    });\n  };\n  handleChangePage = (id) => {\n    this.setState({\n      page: id,\n      load: true,\n    });\n  };\n  changePage = (e) => {\n    this.props.page(e.target.id);\n  };\n  handleDelete = (id, item) => {\n    //Confirmación de eliminacion\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar el contacto \" + item.toUpperCase() + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          let { host, token } = this.state;\n\n          //Inicio de proceso de eliminción por API\n          console.log(\"Solicitud de eliminación por API\");\n          return fetch(\"http://\" + host + \"/api/contacts/\" + id, {\n            method: \"DELETE\",\n            signal: this.signal,\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch: \", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Contacto eliminado con exito\",\n          showConfirmButton: false,\n          timer: 1500,\n        }).then((res) => this.getContacts());\n      } else if (result && !result.dismiss) {\n        console.log(\"Orus res: \", result);\n        window.Swal.fire(\n          \"Error\",\n          \"Se perdio la conexion con el servidor\",\n          \"error\"\n        );\n      }\n    });\n  };\n  getContacts() {\n    //Variables\n    let { host, token, order, orderby, search, page, type, business, load } =\n        this.state,\n      url = \"http://\" + host + \"/api/contacts\",\n      ordenar = `&orderby=${orderby}&order=${order}`,\n      buscar = search ? `&search=${search}` : \"\",\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\",\n      tipo = type === \"\" ? \"\" : \"&type=\" + type,\n      negocio = business === \"\" ? \"\" : \"&business=\" + business;\n\n    //Mandamos señal de carga si no lo he hecho\n    if (!load) {\n      this.setState({\n        load: true,\n      });\n    }\n    //Realiza la peticion de los contactos\n    console.log(\"Descargando contactos del API\");\n    fetch(url + pagina + ordenar + buscar + tipo + negocio, {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then((data) => {\n        if (data.data) {\n          console.log(\"Almacenando contactos\");\n          this.setState({\n            contacts: data,\n            load: false,\n          });\n        } else {\n          console.error(\"Orus: \", data.message);\n          window.Swal.fire(\"Error\", \"Al descargar contactos\", \"error\");\n          this.setState({\n            load: false,\n          });\n        }\n      })\n      .catch((e) => {\n        console.error(e);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n        this.setState({\n          load: false,\n        });\n      });\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class Mapa extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      load: true,\n    };\n    this.markers = [];\n    this.map = \"\";\n  }\n  componentDidMount() {\n    const googlePlaceAPILoad1 = setInterval(() => {\n      if (window.google) {\n        this.google = window.google;\n        clearInterval(googlePlaceAPILoad1);\n        console.log(\"Cargando mapa\");\n        const mapCenter = new this.google.maps.LatLng(19.2487072, -103.747381);\n        this.map = new this.google.maps.Map(\n          document.getElementById(\"gmapContainer\"),\n          {\n            center: mapCenter,\n            zoom: 16,\n          }\n        );\n        if (this.props.calle.length > 6) {\n          console.log(\"Cargando Marker\");\n          this.eventLoadMap();\n        }\n        this.setState({\n          load: false,\n        });\n      }\n    }, 100);\n  }\n  componentDidUpdate() {\n    if (this.props.calle.length > 6) {\n      console.log(\"Cargando Marker\");\n      this.eventLoadMap();\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"card card-danger card-outline\">\n        <div className=\"card-header\">\n          <i className=\"fas fa-map-marked mr-1\"></i>\n          Mapa\n        </div>\n        <div\n          className=\"card-body\"\n          id=\"gmapContainer\"\n          style={{ height: 400 }}\n        ></div>\n      </div>\n    );\n  }\n\n  eventLoadMap = () => {\n    let input =\n      this.props.calle +\n      \",\" +\n      this.props.colonia +\n      \",\" +\n      this.props.municipio +\n      \",\" +\n      this.props.estado +\n      \",\" +\n      this.props.cp;\n    const request = {\n      query: input,\n      fields: [\"formatted_address\", \"geometry\"],\n    };\n    this.service = new this.google.maps.places.PlacesService(this.map);\n    this.service.findPlaceFromQuery(request, (results, status) => {\n      if (status === \"OK\") {\n        if (this.markers.length) {\n          this.markers[0].setMap(null);\n          this.markers = [];\n        }\n        results.map((place) => {\n          this.marker = new this.google.maps.Marker({\n            position: place.geometry.location,\n            title: place.formatted_address,\n            map: this.map,\n          });\n          this.marker.addListener(\"click\", () => {\n            let address = this.marker.title.split(\",\"),\n              add = address[2].split(/(\\d{5})/g);\n\n            if (!add.length) {\n              add = address[3].split(/(\\d{5})/g);\n            }\n            this.props.changeAddress({\n              calle: address[0].trim(),\n              colonia: address[1].trim(),\n              municipio: add[2] ? add[2].trim() : this.props.municipio,\n              estado: address[3].trim(),\n              cp: add[1] ? add[1].trim() : this.props.cp,\n            });\n          });\n          this.markers.push(this.marker);\n          this.markers[0].setMap(this.map);\n          this.map.setCenter(this.markers[0].position);\n          return null;\n        });\n      }\n    });\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class GraduacionExam extends Component {\n  render() {\n    const {\n      readOnly,\n      cilindrod,\n      cilindroi,\n      esferaod,\n      esferaoi,\n      ejeod,\n      ejeoi,\n      adiciond,\n      adicioni,\n      adicion_media_od,\n      adicion_media_oi,\n      dpod,\n      dpoi,\n      alturaod,\n      alturaoi,\n      lcmarca,\n      lcgod,\n      lcgoi,\n    } = this.props;\n\n    return (\n      <React.Fragment>\n        <table className=\"table table-bordered table-hover\">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Esfera</th>\n              <th>Cilindro</th>\n              <th>Eje</th>\n              <th>Adici&oacute;n</th>\n              <th>Adici&oacute;n media</th>\n              <th>D/P</th>\n              <th>Altura</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <label>D</label>\n                <i className=\"fa fa-eye\"></i>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"esferaod\"\n                  min=\"-20\"\n                  max=\"20\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={esferaod ? esferaod.toFixed(2) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{esferaod.toFixed(2)}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"cilindrod\"\n                  min=\"-20\"\n                  max=\"0\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={cilindrod ? cilindrod.toFixed(2) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{cilindrod.toFixed(2)}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"ejeod\"\n                  min=\"0\"\n                  max=\"180\"\n                  step=\"1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  placeholder=\"°\"\n                  value={ejeod ? parseInt(ejeod) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{parseInt(ejeod)}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adiciond\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={adiciond ? adiciond.toFixed(2) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{adiciond.toFixed(2)}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicion_media_od\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={adicion_media_od ? adicion_media_od.toFixed(2) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">\n                  {adicion_media_od.toFixed(2)}\n                </h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"dpod\"\n                  min=\"40\"\n                  max=\"80\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={dpod ? dpod.toFixed(1) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{dpod.toFixed(1)}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"alturaod\"\n                  min=\"0\"\n                  max=\"35\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={alturaod ? alturaod.toFixed(1) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{alturaod.toFixed(1)}</h5>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <label>I</label>\n                <i className=\"fa fa-eye\"></i>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"esferaoi\"\n                  min=\"-20\"\n                  max=\"20\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={esferaoi ? esferaoi.toFixed(2) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{esferaoi.toFixed(2)}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"cilindroi\"\n                  min=\"-20\"\n                  max=\"0\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={cilindroi ? cilindroi.toFixed(2) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{cilindroi.toFixed(2)}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"ejeoi\"\n                  min=\"0\"\n                  max=\"180\"\n                  step=\"1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  placeholder=\"°\"\n                  value={ejeoi ? parseInt(ejeoi) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{parseInt(ejeoi)}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicioni\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={adicioni ? adicioni.toFixed(2) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{adicioni.toFixed(2)}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicion_media_oi\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={adicion_media_oi ? adicion_media_oi.toFixed(2) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">\n                  {adicion_media_oi.toFixed(2)}\n                </h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"dpoi\"\n                  min=\"40\"\n                  max=\"80\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={dpoi ? dpoi.toFixed(1) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{dpoi.toFixed(1)}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"alturaoi\"\n                  min=\"0\"\n                  max=\"35\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={alturaoi ? alturaoi.toFixed(1) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{alturaoi.toFixed(1)}</h5>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <ul className=\"list-group d-print-none mt-4\">\n          <li className=\"list-group-item\">\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                Lente de contacto\n                <input\n                  type=\"text\"\n                  name=\"lcmarca\"\n                  maxLength=\"70\"\n                  className={\n                    readOnly ? \"form-control disabled\" : \"form-control\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={lcmarca}\n                  onChange={this.catchInputs}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col\">\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n                <input\n                  type=\"text\"\n                  name=\"lcgod\"\n                  maxLength=\"30\"\n                  className={\n                    readOnly ? \"form-control disabled\" : \"form-control\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={lcgod ? lcgod : \"\"}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col\">\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n                <input\n                  type=\"text\"\n                  name=\"lcgoi\"\n                  maxLength=\"30\"\n                  className={\n                    readOnly ? \"form-control disabled\" : \"form-control\"\n                  }\n                  disabled={readOnly ? true : false}\n                  value={lcgoi ? lcgoi : \"\"}\n                  onChange={this.catchInputs}\n                />\n              </div>\n            </div>\n          </li>\n        </ul>\n      </React.Fragment>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name, type, value, checked } = e.target;\n    let val = value;\n\n    if (type === \"checkbox\") val = checked;\n    if (type === \"text\") val = value.toLowerCase();\n    if (type === \"number\") {\n      if (name === \"ejeod\" || name === \"ejeoi\") {\n        val = parseInt(value);\n      } else {\n        val = parseFloat(value);\n        val = val.toFixed(2);\n        val = parseFloat(val);\n      }\n    }\n    this.props.onChangeInput(name, val);\n  };\n}\n","import React, { Component, Fragment } from \"react\";\n//import Codestring from \"../Layouts/codeLentString\";\n\nexport default class Recomendaciones extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      category_list: [],\n      meta: {},\n      category_list_2: [],\n      category_list_3: [],\n      category_id: 0,\n      category_id_2: 0,\n      category_id_3: 0,\n      category: [],\n      codesItems: {},\n      host: ls.host,\n      token: ls.token,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    this.getCategories();\n  }\n  componentDidUpdate(props, state) {\n    if (props.category_id !== this.props.category_id) {\n      console.log(\"[Recomendaciones] Recargando recomendacion\");\n      this.getCategories();\n    }\n  }\n\n  render() {\n    const {\n        category_id,\n        title,\n        esferaod,\n        esferaoi,\n        cilindrod,\n        cilindroi,\n        handleCodesItems,\n      } = this.props,\n      { codesItems } = this.state;\n\n    return (\n      <div className=\"card border border-info rounded d-print-none\">\n        <div className=\"card-body\">\n          <h3 className=\"card-title text-success m-2\">{title}</h3>\n          {!category_id ? (\n            this.state.category_list.length ? (\n              <Fragment>\n                {this.state.category_list.length ? (\n                  <div className=\"input-group mb-3\">\n                    <div className=\"input-group-prepend\">\n                      <span className=\"input-group-text\">Tipo</span>\n                    </div>\n                    <select\n                      name=\"category_id\"\n                      className=\"custom-select\"\n                      value={this.state.category_id}\n                      onChange={this.handleCategoryChange}\n                    >\n                      <option value=\"0\">Seleccione el tipo</option>\n                      {this.state.category_list.map((cat) => {\n                        if (\n                          cat.meta &&\n                          cat.meta.rangoInf <= esferaod &&\n                          esferaod <= cat.meta.rangoSup &&\n                          cat.meta.rangoInf <= esferaoi &&\n                          esferaoi <= cat.meta.rangoSup &&\n                          cat.meta.cil <= cilindrod &&\n                          cat.meta.cil <= cilindroi\n                        ) {\n                          return (\n                            <option value={cat.id} key={cat.id}>\n                              {cat.categoria}\n                            </option>\n                          );\n                        } else return false;\n                      })}\n                    </select>\n                  </div>\n                ) : null}\n\n                {this.state.category_id && this.state.category_list_2.length ? (\n                  <div className=\"input-group mb-3\">\n                    <div className=\"input-group-prepend\">\n                      <span className=\"input-group-text\">Material</span>\n                    </div>\n                    <select\n                      name=\"category_id_2\"\n                      className=\"custom-select\"\n                      value={this.state.category_id_2}\n                      onChange={this.handleCategoryChange}\n                    >\n                      <option value=\"0\">Seleccione el material</option>\n                      {this.state.category_list_2.map((cat) => {\n                        if (\n                          cat.meta &&\n                          cat.meta.rangoInf <= esferaod &&\n                          esferaod <= cat.meta.rangoSup &&\n                          cat.meta.rangoInf <= esferaoi &&\n                          esferaoi <= cat.meta.rangoSup\n                        ) {\n                          return (\n                            <option value={cat.id} key={cat.id}>\n                              {cat.categoria}\n                            </option>\n                          );\n                        } else return false;\n                      })}\n                    </select>\n                  </div>\n                ) : null}\n\n                {this.state.category_id &&\n                this.state.category_id_2 &&\n                this.state.category_list_3.length ? (\n                  <div className=\"input-group mb-3\">\n                    <div className=\"input-group-prepend\">\n                      <span className=\"input-group-text\">Tratamiento</span>\n                    </div>\n                    <select\n                      name=\"category_id_3\"\n                      className=\"custom-select\"\n                      value={this.state.category_id_3}\n                      onChange={(e) => {\n                        this.handleCategoryChange(\n                          e,\n                          codesItems.od,\n                          codesItems.oi\n                        );\n                      }}\n                    >\n                      <option value=\"0\">Seleccione el tratamiento</option>\n                      {this.state.category_list_3.map((cat) => {\n                        return (\n                          <option value={cat.id} key={cat.id}>\n                            {cat.categoria}\n                          </option>\n                        );\n                      })}\n                    </select>\n                  </div>\n                ) : null}\n              </Fragment>\n            ) : (\n              <div className=\"spinner-border text-primary\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>\n            )\n          ) : (\n            <Fragment>\n              {codesItems.code + codesItems.od ===\n              codesItems.code + codesItems.oi ? (\n                <p className=\"card-text\">\n                  <label>Lente</label>: {codesItems.code + codesItems.od}\n                </p>\n              ) : (\n                <div className=\"row card-text\">\n                  <div className=\"col\">\n                    <label>Lente Derecho</label>\n                    <br /> {codesItems.code + codesItems.od}\n                  </div>\n                  <div className=\"col\">\n                    <label>Lente Izquierdo</label>\n                    <br /> {codesItems.code + codesItems.oi}\n                  </div>\n                </div>\n              )}\n              {handleCodesItems ? (\n                <p className=\"card-text text-right\">\n                  <button\n                    className=\"btn btn-info\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      handleCodesItems({\n                        code: codesItems.code,\n                        od: codesItems.od,\n                        oi: codesItems.oi,\n                      });\n                    }}\n                  >\n                    <i className=\"fas fa-check mr-2\"></i>Siguiente\n                  </button>\n                </p>\n              ) : null}\n              {this.props.update ? (\n                <p className=\"card-text text-right\">\n                  <button\n                    className=\"btn btn-outline-info btn-sm card-link mt-2\"\n                    onClick={this.handleClickCategory}\n                  >\n                    Cambiar\n                  </button>\n                </p>\n              ) : null}\n            </Fragment>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  handleCodeName = (category) => {\n    let code = \"\";\n    if (category.depende_de) {\n      if (category.depende_de.depende_de) {\n        code = category.depende_de.depende_de.meta.code;\n        code += category.depende_de.meta.code;\n        code += category.meta.code;\n      } else {\n        code = category.depende_de.meta.code;\n        code += category.meta.code;\n      }\n    } else {\n      code = category.meta.code;\n    }\n    return code;\n  };\n  handleClickCategory = (e) => {\n    e.preventDefault();\n    const { onChangeInput, nameCategory } = this.props;\n    this.setState({\n      category_id: 0,\n      category_id_2: 0,\n      category_id_3: 0,\n      category_list_2: [],\n      category_list_3: [],\n    });\n    onChangeInput({\n      [nameCategory]: 0,\n    });\n  };\n  handleCategoryChange = (e, gradod, gradoi) => {\n    const { name, value } = e.target,\n      { onChangeInput, nameCategory } = this.props;\n\n    if (name === \"category_id\") {\n      if (value) {\n        this.state.category_list.map((cat) => {\n          if (cat.id === parseInt(value)) {\n            this.setState({\n              category_id_3: 0,\n              category_list_2: cat.hijos,\n              category_list_3: [],\n            });\n          }\n          return null;\n        });\n      }\n    }\n    if (name === \"category_id_2\") {\n      if (value) {\n        this.state.category_list_2.map((cat) => {\n          if (cat.id === value * 1) {\n            this.setState({\n              category_list_3: cat.hijos,\n            });\n          }\n          return null;\n        });\n      }\n    }\n\n    this.setState({\n      [name]: parseInt(value),\n    });\n\n    if (name === \"category_id_3\") {\n      onChangeInput({\n        [nameCategory]: parseInt(value),\n      });\n    }\n  };\n  getCategories = () => {\n    const { host, token } = this.state,\n      { category_id } = this.props;\n\n    //console.log(\"Tipo de descarga\", nameCategory, category_id);\n    if (category_id) {\n      console.log(\"Descargando categoria para recomendacion\");\n      fetch(\"http://\" + host + \"/api/categories/\" + category_id, {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(response.statusText);\n          }\n          return response.json();\n        })\n        .then((cat) => {\n          if (cat.data) {\n            console.log(\"Recomendacion descargada\");\n            const {\n                category_id,\n                esferaod,\n                esferaoi,\n                cilindrod,\n                cilindroi,\n              } = this.props,\n              category = cat.data;\n            let code =\n                category_id && Object.keys(category).length\n                  ? this.handleCodeName(category)\n                  : \"XX\",\n              gradod = \"+000000\",\n              gradoi = \"+000000\";\n\n            if (cilindrod || esferaod) {\n              gradod = esferaod > 0 ? \"+\" : \"\";\n              gradod +=\n                esferaod.toFixed(2).toString().replace(\".\", \"\") +\n                cilindrod\n                  .toFixed(2)\n                  .toString()\n                  .replace(\"-\", \"\")\n                  .replace(\".\", \"\");\n            }\n            if (cilindroi || esferaoi) {\n              gradoi = esferaoi > 0 ? \"+\" : \"\";\n              gradoi +=\n                esferaoi.toFixed(2).toString().replace(\".\", \"\") +\n                cilindroi\n                  .toFixed(2)\n                  .toString()\n                  .replace(\"-\", \"\")\n                  .replace(\".\", \"\");\n            }\n            //console.log(\"[DEBUG FETCH] \", code, gradod, gradoi);\n            this.setState({\n              category: cat.data,\n              category_id,\n              codesItems: {\n                code,\n                od: gradod,\n                oi: gradoi,\n              },\n            });\n          }\n        })\n        .catch((e) => {\n          console.error(\"Orus: \" + e);\n          window.Swal.fire(\n            \"Fallo de conexion\",\n            \"Verifique la conexion al servidor\",\n            \"error\"\n          );\n        });\n    } else {\n      console.log(\"Descargando lista de recomendaciones raiz\");\n      fetch(\"http://\" + host + \"/api/categories/1\", {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(response.statusText);\n          }\n          return response.json();\n        })\n        .then((cat) => {\n          if (cat.data) {\n            console.log(\"Lista de recomendaciones descargadas\");\n            this.setState({\n              category_list: cat.data.hijos,\n              meta: cat.meta,\n              category_id: 0,\n            });\n          }\n        })\n        .catch((e) => {\n          console.error(\"Orus: \" + e);\n          window.Swal.fire(\n            \"Fallo de conexion\",\n            \"Verifique la conexion al servidor\",\n            \"error\"\n          );\n        });\n    }\n  };\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Graduacion from \"../Exam/graduacionExam\";\nimport Recomendaciones from \"../Exam/recomendaciones\";\nimport moment from \"moment\";\n\nexport default class ListsExams extends Component {\n  constructor(props) {\n    super(props);\n    //Variables en localStorage\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      id: 0,\n      data: {\n        data: [],\n        meta: {},\n      },\n      exam: {},\n      examEdit: false,\n      load: true,\n      page: 0,\n      host: ls.host,\n      token: ls.token,\n    };\n  }\n  componentDidMount() {\n    if (this.props.exam && !this.props.exam.id) {\n      this.getExams();\n    } else {\n      this.setState({\n        id: this.props.exam.id,\n        exam: this.props.exam,\n        load: false,\n      });\n    }\n  }\n  componentDidUpdate(props, state) {\n    if (\n      this.props.exam &&\n      !this.props.exam.id &&\n      this.props.exam.id !== props.exam.id\n    ) {\n      this.getExams();\n    }\n    if (this.props.exam && this.props.exam.id !== props.exam.id) {\n      this.setState({\n        id: this.props.exam.id,\n        exam: this.props.exam,\n      });\n    }\n  }\n\n  render() {\n    const { data, load, id, exam, examEdit } = this.state,\n      { select, datos } = this.props;\n\n    if (select) {\n      return (\n        <React.Fragment>\n          {id ? (\n            <React.Fragment>\n              <div className=\"row d-print-none mb-4\">\n                <div className=\"col-2\">\n                  <div className=\"border border-info rounded p-2 d-flex justify-content-between align-items-center\">\n                    <span className=\"badge badge-pill badge-info mx-2\">\n                      Folio\n                    </span>\n                    <strong>{id}</strong>\n                  </div>\n                </div>\n                <div className=\"col\">\n                  <div className=\"border border-info rounded p-2 d-flex justify-content-between align-items-center\">\n                    <span className=\"badge badge-pill badge-info mx-2\">\n                      Estado\n                    </span>\n                    <strong>\n                      {exam.estado ? \"Terminado\" : \"En proceso...\"}\n                    </strong>\n                  </div>\n                </div>\n                <div className=\"col\">\n                  <div className=\"border border-info rounded p-2 d-flex justify-content-between align-items-center\">\n                    <span className=\"badge badge-pill badge-info mx-2\">\n                      Fecha\n                    </span>\n                    <strong>\n                      {moment.utc(exam.created_at).local().format(\"LL\")}\n                    </strong>\n                  </div>\n                </div>\n                {exam.observaciones.length ? (\n                  <div className=\"col-1\">\n                    <span className=\"badge badge-pill badge-danger mx-2\">\n                      <i className=\"fas fa-eye mr-2\"></i>\n                      Observaciones\n                    </span>\n                  </div>\n                ) : null}\n                <div className=\"col-2 d-print-none text-right\">\n                  <button\n                    className={\n                      this.props.status\n                        ? \"btn btn-info disabled\"\n                        : \"btn btn-info\"\n                    }\n                    disabled={this.props.status ? true : false}\n                    onClick={this.handleClickDeleteExam}\n                  >\n                    Cambiar\n                  </button>\n                </div>\n              </div>\n\n              <Graduacion\n                esferaod={exam.esferaod ? exam.esferaod : 0}\n                esferaoi={exam.esferaoi ? exam.esferaoi : 0}\n                cilindrod={exam.cilindrod ? exam.cilindrod : 0}\n                cilindroi={exam.cilindroi ? exam.cilindroi : 0}\n                ejeod={exam.ejeod ? exam.ejeod : 0}\n                ejeoi={exam.ejeoi ? exam.ejeoi : 0}\n                adiciond={exam.adiciond ? exam.adiciond : 0}\n                adicioni={exam.adicioni ? exam.adicioni : 0}\n                adicion_media_od={exam.adicion_media_od}\n                adicion_media_oi={exam.adicion_media_oi}\n                dpod={exam.dpod ? exam.dpod : 0}\n                dpoi={exam.dpoi ? exam.dpoi : 0}\n                alturaod={exam.alturaod ? exam.alturaod : 0}\n                alturaoi={exam.alturaoi ? exam.alturaoi : 0}\n                lcmarca={exam.lcmarca ? exam.lcmarca : 0}\n                lcgod={exam.lcgod ? exam.lcgod : 0}\n                lcgoi={exam.lcgoi ? exam.lcgoi : 0}\n                readOnly={!examEdit}\n                onChangeInput={this.handleDataExam}\n              />\n\n              <div className=\"row d-print-none\">\n                <div className=\"col p-2\">\n                  <div\n                    className={\n                      exam.observaciones.length\n                        ? \"card border border-danger rounded\"\n                        : \"card border border-info rounded\"\n                    }\n                  >\n                    <div className=\"card-body\">\n                      <label className=\"card-title\">Observaciones</label>\n                      <p className=\"card-text text-muted text-uppercase\">\n                        {exam.observaciones ? exam.observaciones : \"--\"}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                {exam.category_id ? (\n                  <React.Fragment>\n                    <div className=\"col p-2\">\n                      <Recomendaciones\n                        category_id={exam.category_id}\n                        title=\"Recomendacion principal\"\n                        esferaod={exam.esferaod ? exam.esferaod : 0}\n                        esferaoi={exam.esferaoi ? exam.esferaoi : 0}\n                        cilindrod={exam.cilindrod ? exam.cilindrod : 0}\n                        cilindroi={exam.cilindroi ? exam.cilindroi : 0}\n                        data={datos}\n                        onChangeInput={this.handleChangeInput}\n                      />\n                    </div>\n                    {exam.category_ii ? (\n                      <div className=\"col p-2\">\n                        <Recomendaciones\n                          category_id={exam.category_ii}\n                          title=\"Recomendacion adicional\"\n                          esferaod={exam.esferaod ? exam.esferaod : 0}\n                          esferaoi={exam.esferaoi ? exam.esferaoi : 0}\n                          cilindrod={exam.cilindrod ? exam.cilindrod : 0}\n                          cilindroi={exam.cilindroi ? exam.cilindroi : 0}\n                          data={datos}\n                          onChangeInput={this.handleChangeInput}\n                        />\n                      </div>\n                    ) : null}\n                  </React.Fragment>\n                ) : null}\n              </div>\n\n              <div className=\"row d-print-none\">\n                <div className=\"col text-right pt-2\">\n                  <button\n                    className={examEdit ? \"btn btn-dark\" : \"btn btn-info\"}\n                    onClick={(e) => {\n                      e.preventDefault();\n                      if (examEdit) {\n                        this.handleSaveExam(exam);\n                      }\n                      this.setState({\n                        examEdit: !examEdit,\n                      });\n                    }}\n                  >\n                    {examEdit ? (\n                      <React.Fragment>\n                        <i className=\"fas fa-save mr-2\"></i> Guardar\n                      </React.Fragment>\n                    ) : (\n                      <React.Fragment>\n                        <i className=\"fas fa-pencil-alt mr-2\"></i> Editar\n                      </React.Fragment>\n                    )}\n                  </button>\n                </div>\n              </div>\n            </React.Fragment>\n          ) : (\n            <table className=\"table table-hover table-nowrap\">\n              <thead>\n                <tr>\n                  <th>Folio</th>\n                  <th>Fecha</th>\n                  <th>Edad</th>\n                  <th>Estado</th>\n                  <th>&nbsp;</th>\n                </tr>\n              </thead>\n              <tbody>\n                {load ? (\n                  <tr>\n                    <td colSpan=\"5\" className=\"text-center\">\n                      <div\n                        className=\"spinner-border text-primary\"\n                        role=\"status\"\n                      >\n                        <span className=\"sr-only\">Loading...</span>\n                      </div>\n                    </td>\n                  </tr>\n                ) : Object.keys(data.data).length ? (\n                  data.data.map((row) => {\n                    return (\n                      <tr\n                        key={row.id}\n                        className={\n                          moment\n                            .utc(new Date())\n                            .isSame(moment.utc(row.created_at), \"day\")\n                            ? \"table-success\"\n                            : \"\"\n                        }\n                      >\n                        <td>\n                          <span className=\"badge badge-info\">{row.id}</span>\n                        </td>\n                        <td>\n                          {moment.utc(row.created_at).local().format(\"L\")}\n                          <br />\n                          {moment(new Date()).isSame(row.created_at)}\n                        </td>\n                        <td>{row.edad}</td>\n                        <td>\n                          {row.estado ? (\n                            <span className=\"badge badge-secondary\">\n                              Terminado\n                            </span>\n                          ) : (\n                            <span className=\"badge badge-success\">Activo</span>\n                          )}\n                        </td>\n                        <td>\n                          <button\n                            className=\"btn btn-outline-dark btn-sm\"\n                            onClick={(e) => {\n                              e.preventDefault();\n                              this.handleClickSelect(row);\n                            }}\n                          >\n                            <i className=\"fas fa-check\"></i>\n                          </button>\n                        </td>\n                      </tr>\n                    );\n                  })\n                ) : (\n                  <tr>\n                    <th colSpan=\"5\" className=\"text-center\">\n                      Aun no tiene examenes\n                      <button\n                        className=\"btn btn-outline-info btn-sm ml-4\"\n                        onClick={this.handleNewExam}\n                      >\n                        <i className=\"fas fa-plus\"></i>\n                      </button>\n                    </th>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          )}\n        </React.Fragment>\n      );\n    } else {\n      let examToday = false,\n        newExam = false;\n      return (\n        <div className=\"card card-info card-outline\">\n          <div className=\"card-header\">\n            <i className=\"fas fa-notes-medical mr-1\"></i>\n            Examenes realizados\n          </div>\n          <div className=\"card-body\">\n            <table className=\"table table-hover table-nowrap\">\n              <thead>\n                <tr>\n                  <th>Folio</th>\n                  <th>Fecha</th>\n                  <th>Edad</th>\n                  <th>Estado</th>\n                  <th className=\"text-center\">Acciones</th>\n                </tr>\n              </thead>\n              <tbody>\n                {load ? (\n                  <tr>\n                    <td colSpan=\"8\" className=\"text-center\">\n                      <div\n                        className=\"spinner-border text-primary\"\n                        role=\"status\"\n                      >\n                        <span className=\"sr-only\">Loading...</span>\n                      </div>\n                    </td>\n                  </tr>\n                ) : Object.keys(data.data).length ? (\n                  data.data.map((row) => {\n                    examToday = moment(new Date()).isSame(\n                      moment(row.created_at),\n                      \"day\"\n                    );\n                    newExam = newExam ? true : examToday;\n                    console.log(\"Hoy: \", examToday, newExam);\n                    return (\n                      <tr\n                        key={row.id}\n                        className={examToday ? \"table-success\" : \"\"}\n                      >\n                        <td>\n                          <span className=\"badge badge-info\">{row.id}</span>\n                        </td>\n                        <td>{moment(row.created_at).format(\"L\")}</td>\n                        <td>{row.edad}</td>\n                        <td>\n                          {row.estado ? (\n                            <span className=\"badge badge-secondary\">\n                              Terminado\n                            </span>\n                          ) : (\n                            <span className=\"badge badge-success\">Activo</span>\n                          )}\n                        </td>\n                        <td className=\"text-right\">\n                          <Link\n                            className=\"btn btn-outline-info btn-sm\"\n                            to={\"/consultorio/registro/\" + row.id}\n                            onClick={(e) => {\n                              this.changePage(\"/consultorio/registro/\");\n                            }}\n                            alt=\"Ver examen\"\n                          >\n                            <i className=\"fas fa-share\"></i> Ver examen\n                          </Link>\n                        </td>\n                      </tr>\n                    );\n                  })\n                ) : (\n                  <tr>\n                    <th colSpan=\"5\" className=\"text-center\">\n                      Aun no tiene examenes\n                    </th>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n          <div className=\"card-footer\">\n            {!newExam ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-info float-right\"\n                onClick={this.handleNewExam}\n              >\n                <i className=\"fas fa-plus\"></i>\n              </button>\n            ) : null}\n          </div>\n        </div>\n      );\n    }\n  }\n\n  handleSaveExam = (data) => {\n    const { id } = data,\n      { paciente, edad } = this.props;\n    delete data.id;\n    data.contact_id = paciente;\n    data.edad = edad;\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de actualizar el examen?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Actualizar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          let { host, token } = this.state;\n\n          //Actualiza el examen según el ID\n          console.log(\"Enviando datos a API para almacenar\");\n          return fetch(\"http://\" + host + \"/api/exams/\" + id, {\n            method: \"PUT\",\n            body: JSON.stringify(data),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n\n        if (data.data) {\n          console.log(\"Examen almacenada\");\n          window.Swal.fire({\n            icon: \"success\",\n            title: \"Examen actualizado con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar el pedido\", \"error\");\n          console.error(\"Orus res: \", data.message);\n        }\n      }\n    });\n  };\n  handleDataExam = (key, value) => {\n    let { exam } = this.state;\n    exam[key] = value;\n    this.setState({\n      exam,\n    });\n  };\n  handleChangeInput = (key, value) => {\n    this.props.ChangeInput(key, value);\n  };\n  handleClickDeleteExam = (e) => {\n    e.preventDefault();\n    if (window.confirm(\"¿Realmente desea cambiar de examen?\")) {\n      this.props.ChangeInput(\"exam_id\", 0);\n      this.props.ChangeInput(\"exam\", {});\n    }\n  };\n  handleClickSelect = (exam) => {\n    this.props.ChangeInput(\"exam_id\", exam.id);\n    this.props.ChangeInput(\"exam\", exam);\n  };\n  handleNewOrder = (id) => {\n    //Confirmación de almacenamiento\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de crear una nueva orden?\",\n      icon: \"info\",\n      showCancelButton: true,\n      confirmButtonText: \"Si\",\n      cancelButtonText: \"No\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          //Variables en localStorage\n          let { host, token } = this.state,\n            { paciente } = this.props,\n            body = {\n              contact_id: paciente,\n              exam_id: id,\n              items: JSON.stringify([]),\n            };\n          //Crear o modificar examen\n          console.log(\"Enviando datos del pedido a la API\");\n          return fetch(\"http://\" + host + \"/api/orders\", {\n            method: \"POST\",\n            body: JSON.stringify(body),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then((response) => {\n              if (!response.ok) {\n                throw new Error(response.statusText);\n              }\n              return response.json();\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch: \", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n        if (data.data) {\n          console.log(\"Orden almacenada\");\n          localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\n          window.Swal.fire(\"Orden creada con exito\", \"\", \"success\").then(\n            (res) => this.getExams()\n          );\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar la orden\", \"error\");\n          console.error(\"Orus res: \", data.message);\n        }\n      }\n    });\n  };\n  handleNewExam = (e) => {\n    e.preventDefault();\n\n    //Confirmación de almacenamiento\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de crear un nueva examen?\",\n      icon: \"info\",\n      showCancelButton: true,\n      confirmButtonText: \"Si\",\n      cancelButtonText: \"No\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          //Variables en localStorage\n          let { host, token } = this.state,\n            { paciente, edad } = this.props,\n            body = {\n              contact_id: paciente,\n              edad,\n            };\n          //Crear examen\n          console.log(\"Enviando datos del examen a la API\");\n          return fetch(\"http://\" + host + \"/api/exams\", {\n            method: \"POST\",\n            body: JSON.stringify(body),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then((response) => {\n              if (!response.ok) {\n                throw new Error(response.statusText);\n              }\n              return response.json();\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch: \", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n        if (data.data) {\n          console.log(\"Examen almacenado\");\n          localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\n\n          window.Swal.fire({\n            icon: \"success\",\n            title: \"Examen creado con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          }).then((res) => {\n            this.getExams();\n            this.props.ChangeInput(\"exam_id\", data.data.id);\n            this.props.ChangeInput(\"exam\", data.data);\n          });\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar el examen\", \"error\");\n          console.error(\"Orus res: \", data.message);\n        }\n      }\n    });\n  };\n  changePage = (e) => {\n    this.props.page(e);\n  };\n  getExams = () => {\n    const { load, host, token } = this.state;\n    const { paciente } = this.props;\n\n    if (paciente) {\n      //Variables en localStorage\n      const url = \"http://\" + host + \"/api/exams\",\n        page = this.state.page > 0 ? \"?page=\" + this.state.page : \"?page=1\",\n        orderby = \"&orderby=created_at&order=desc\",\n        client = \"&paciente=\" + paciente;\n\n      //Mandamos señal de carga si no lo he hecho\n      if (!load) {\n        this.setState({\n          load: true,\n        });\n      }\n\n      //Realiza la peticion de examenes a la API\n      console.log(\"Descargando examenes del contacto\");\n      fetch(url + page + client + orderby, {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((res) => {\n          if (!res.ok) {\n            this.setState({\n              load: false,\n            });\n            console.log(res);\n          }\n          return res.json();\n        })\n        .then((data) => {\n          console.log(\"Examenes almacenados\");\n          this.setState({\n            data: !data.message ? data : [],\n            load: false,\n          });\n        });\n    } else {\n      this.setState({\n        load: false,\n      });\n    }\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class NameInput extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bgColor: props.validName ? \"bg-blue\" : \"bg-red\",\n      validate: props.validName ? \"\" : \" border border-danger\",\n      text: \"Debe de tener por lo menos nombre y apellido\",\n      searchUser: false,\n      contacts: [],\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n    this.timeFetch = null;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidUpdate(props) {\n    if (props.validName !== this.props.validName) {\n      this.setState({\n        bgColor: this.props.validName ? \"bg-blue\" : \"bg-red\",\n        validate: this.props.validName ? \"\" : \" border border-danger\",\n      });\n    }\n  }\n\n  render() {\n    let { name, validName } = this.props;\n    let { bgColor, validate, text, searchUser, contacts } = this.state;\n    if (!name) name = \"\";\n    return (\n      <React.Fragment>\n        {name ? (\n          <div className=\"ml-2 mt-1\">\n            <small>\n              <label>Nombre completo</label>\n            </small>\n          </div>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className={\"input-group-text \" + bgColor}>\n              {searchUser ? (\n                <i className=\"fas fa-spinner\"></i>\n              ) : (\n                <i className=\"fas fa-id-card-alt\"></i>\n              )}\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className={\"form-control text-capitalize\" + validate}\n            placeholder=\"Nombre completo\"\n            name=\"name\"\n            value={name}\n            onChange={this.handleChange}\n            autoFocus={!name.length ? true : false}\n            autoComplete=\"off\"\n            required=\"required\"\n            pattern=\"^[a-zA-Z.]{2,20}[\\s]{1}[a-zA-Z.]{2,20}.*\"\n            minLength=\"8\"\n            list=\"contactos_db\"\n          />\n        </div>\n        {contacts.length ? (\n          <datalist id=\"contactos_db\">\n            {contacts.map((contact) => {\n              return (\n                <option\n                  key={contact.id}\n                  value={this.eraseTilde(contact.nombre)}\n                />\n              );\n            })}\n          </datalist>\n        ) : null}\n        {!validName ? (\n          <div className=\"p-0\">\n            <small className=\"text-danger\">{text}</small>\n          </div>\n        ) : null}\n      </React.Fragment>\n    );\n  }\n\n  eraseTilde = (string) => {\n    string = string.replace(new RegExp(/[àáâãäå]/g), \"a\");\n    string = string.replace(new RegExp(/[èéêë]/g), \"e\");\n    string = string.replace(new RegExp(/[ìíîï]/g), \"i\");\n    string = string.replace(new RegExp(/[òóôõö]/g), \"o\");\n    string = string.replace(new RegExp(/[ùúûü]/g), \"u\");\n    return string;\n  };\n  handleChange = (e) => {\n    const { value } = e.target;\n    let regex = /^[a-z.]{2,20}[\\s]{1}[a-z.]{2,20}.*/,\n      x = {\n        target: {\n          name: \"validName\",\n          value: \"\",\n          target: \"\",\n        },\n      },\n      stringOk = this.eraseTilde(value.toLowerCase());\n    e.target.value = stringOk;\n\n    if (regex.test(value)) {\n      this.setState({\n        bgColor: \"bg-blue\",\n        validate: \"\",\n      });\n      x.target.value = true;\n      this.props.onChange(x);\n      this.validUser(e.target.value, x);\n    } else {\n      this.setState({\n        bgColor: \"bg-red\",\n        validate: \" border border-danger\",\n        text: \"No tiene el formato de nombre de persona\",\n        contacts: [],\n      });\n      x.target.value = false;\n      this.props.onChange(x);\n    }\n    this.props.onChange(e);\n  };\n  validUser = (search, x) => {\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n      url = \"http://\" + varLocalStorage.host + \"/api/contacts\",\n      name = \"?name=\" + search;\n\n    if (this.timeFetch) clearTimeout(this.timeFetch);\n    this.timeFetch = setTimeout(() => {\n      //Realiza la peticion de contactos\n      this.setState({\n        searchUser: true,\n      });\n      fetch(url + name, {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + varLocalStorage.token,\n        },\n      })\n        .then((res) => {\n          if (!res.ok) {\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\n            console.error(res);\n          }\n          return res.json();\n        })\n        .then((data) => {\n          if (!data.message) {\n            data.data.map((contacto) => {\n              let nombre = this.eraseTilde(contacto.nombre);\n              if (nombre === search) {\n                console.log(\"Contacto registrado \");\n                this.setState({\n                  bgColor: \"bg-red\",\n                  validate: \" border border-danger\",\n                  text: \"El contacto ya esta registrado\",\n                  searchUser: false,\n                  contacts: [],\n                });\n                x.target.value = false;\n                this.props.onChange(x);\n              }\n              return false;\n            });\n            this.setState({\n              searchUser: false,\n              contacts: data.data,\n            });\n          } else {\n            console.error(\"Error en la descarga de contactos\", data.message);\n            this.setState({\n              searchUser: false,\n            });\n            x.target.value = false;\n            this.props.onChange(x);\n          }\n        })\n        .catch((e) => {\n          console.error(e);\n          this.setState({\n            searchUser: false,\n          });\n          x.target.value = false;\n          this.props.onChange(x);\n        });\n    }, 1000);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class EmailInput extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bgColor: props.validEmail ? \"bg-blue\" : \"bg-red\",\n      validate: props.validEmail ? \"\" : \" border border-danger\",\n      text: \"No es un email correcto\",\n      emailContact: false,\n      contacts: [],\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n    this.timeFetch = null;\n    this.emailOriginal = props.email;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidUpdate(props) {\n    if (props.validEmail !== this.props.validEmail) {\n      this.setState({\n        bgColor: this.props.validEmail ? \"bg-blue\" : \"bg-red\",\n        validate: this.props.validEmail ? \"\" : \" border border-danger\",\n      });\n    }\n  }\n\n  render() {\n    let { email, validEmail } = this.props;\n    let { bgColor, validate, text, emailContact, contacts } = this.state;\n    if (!email) email = \"\";\n\n    return (\n      <React.Fragment>\n        {email ? (\n          <div className=\"ml-2 mt-1\">\n            <small>\n              <label>Correo electronico</label>\n            </small>\n          </div>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mt-1\">\n          <div className=\"input-group-prepend\">\n            <span className={\"input-group-text \" + bgColor}>\n              {emailContact ? (\n                <i className=\"fas fa-spinner\"></i>\n              ) : (\n                <i className=\"fas fa-at\"></i>\n              )}\n            </span>\n          </div>\n          <input\n            type=\"email\"\n            className={\"form-control\" + validate}\n            placeholder=\"Correo electronico\"\n            name=\"email\"\n            value={email}\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n            minLength=\"8\"\n            list=\"email_db\"\n          />\n          {contacts.length ? (\n            <datalist id=\"email_db\">\n              {contacts.map((contact) => {\n                return <option key={contact.id} value={contact.email} />;\n              })}\n            </datalist>\n          ) : null}\n        </div>\n        {!validEmail ? (\n          <div className=\"p-0\">\n            <small className=\"text-danger\">{text}</small>\n          </div>\n        ) : null}\n      </React.Fragment>\n    );\n  }\n\n  eraseTilde = (string) => {\n    string = string.replace(new RegExp(/[àáâãäå]/g), \"a\");\n    string = string.replace(new RegExp(/[èéêë]/g), \"e\");\n    string = string.replace(new RegExp(/[ìíîï]/g), \"i\");\n    string = string.replace(new RegExp(/[òóôõö]/g), \"o\");\n    string = string.replace(new RegExp(/[ùúûü]/g), \"u\");\n    return string;\n  };\n  handleChange = (e) => {\n    const { value } = e.target;\n    const { id } = this.props;\n    let regex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n      x = {\n        target: {\n          name: \"validEmail\",\n          value: \"\",\n          target: \"\",\n        },\n      },\n      stringOk = this.eraseTilde(value.toLowerCase());\n    e.target.value = stringOk;\n\n    if (regex.test(value)) {\n      this.setState({\n        bgColor: \"bg-blue\",\n        validate: \"\",\n      });\n      x.target.value = true;\n      this.props.onChange(x);\n      if (!id) {\n        if (this.emailOriginal !== e.target.value)\n          this.validUser(e.target.value, x);\n      } else {\n        this.validUser(e.target.value, x);\n      }\n    } else {\n      this.setState({\n        bgColor: \"bg-red\",\n        validate: \" border border-danger\",\n        text: \"No es un email correcto\",\n        contacts: [],\n      });\n      x.target.value = false;\n      this.props.onChange(x);\n    }\n    this.props.onChange(e);\n  };\n  validUser = (search, x) => {\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n      url = \"http://\" + varLocalStorage.host + \"/api/contacts\",\n      name = \"?email=\" + search;\n\n    if (this.timeFetch) clearTimeout(this.timeFetch);\n    this.timeFetch = setTimeout(() => {\n      //Realiza la peticion de contactos\n      this.setState({\n        emailContact: true,\n      });\n      fetch(url + name, {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + varLocalStorage.token,\n        },\n      })\n        .then((res) => {\n          if (!res.ok) {\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\n            console.error(res);\n          }\n          return res.json();\n        })\n        .then((data) => {\n          if (!data.message) {\n            data.data.map((contacto) => {\n              if (contacto.email === search) {\n                this.setState({\n                  bgColor: \"bg-red\",\n                  validate: \" border border-danger\",\n                  text: \"El email ya esta registrado\",\n                  emailContact: false,\n                  contacts: [],\n                });\n                x.target.value = false;\n                this.props.onChange(x);\n              }\n              return false;\n            });\n            this.setState({\n              emailContact: false,\n              contacts: data.data,\n            });\n          } else {\n            console.error(\"Error en la descarga de contactos\", data.message);\n            this.setState({\n              emailContact: false,\n            });\n            x.target.value = false;\n            this.props.onChange(x);\n          }\n        })\n        .catch((e) => {\n          console.error(e);\n          this.setState({\n            emailContact: false,\n          });\n          x.target.value = false;\n          this.props.onChange(x);\n        });\n    }, 1000);\n  };\n}\n","import React, { Component } from \"react\";\nimport NameInput from \"./nameInput\";\nimport EmailInput from \"./emailInput\";\n\nexport default class AddPersonal extends Component {\n  render() {\n    let {\n      type,\n      business,\n      name,\n      rfc,\n      email,\n      birthday,\n      validName,\n      validEmail,\n    } = this.props;\n    return (\n      <div className=\"col \">\n        <small>\n          <label>Tipo de cliente</label>\n        </small>\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-clipboard-check\"></i>\n            </span>\n          </div>\n          <select\n            className=\"custom-select\"\n            name=\"type\"\n            value={type}\n            onChange={this.catchInputs}\n          >\n            <option value=\"0\">Cliente</option>\n            <option value=\"1\">Proveedor</option>\n          </select>\n        </div>\n\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <input\n              type=\"checkbox\"\n              name=\"business\"\n              className=\"mr-2\"\n              checked={business}\n              onChange={this.catchInputs}\n            />\n            <small>\n              <label>¿Es una empresa?</label>\n            </small>\n          </div>\n        </div>\n\n        <NameInput\n          name={name}\n          validName={validName}\n          onChange={this.catchInputs}\n        />\n\n        {rfc ? (\n          <div className=\"ml-2 mt-1\">\n            <small>\n              <label>RFC</label>\n            </small>\n          </div>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-file-invoice-dollar\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-uppercase\"\n            placeholder=\"RFC\"\n            name=\"rfc\"\n            value={rfc ? rfc : \"\"}\n            onChange={this.catchInputs}\n            required={false}\n            minLength=\"10\"\n          />\n        </div>\n\n        <EmailInput\n          email={email}\n          validEmail={validEmail}\n          onChange={this.catchInputs}\n        />\n\n        {!business && !type ? (\n          <React.Fragment>\n            {birthday ? (\n              <div className=\"ml-2 mt-1\">\n                <small>\n                  <label>Fecha de nacimiento</label>\n                </small>\n              </div>\n            ) : (\n              <br />\n            )}\n            <div className=\"input-group mb-1\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-calendar-check\"></i>\n                </span>\n              </div>\n              <input\n                type=\"date\"\n                className=\"form-control\"\n                placeholder=\"Fecha de nacimiento\"\n                name=\"birthday\"\n                value={birthday ? birthday : \"\"}\n                onChange={this.catchInputs}\n              />\n            </div>\n          </React.Fragment>\n        ) : null}\n      </div>\n    );\n  }\n\n  catchInputs = (x) => {\n    this.props.onChange(x);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class AddDomicilio extends Component {\n  render() {\n    let { calle, colonia, municipio, estado, cp } = this.props;\n    return (\n      <div className=\"col\">\n        {calle ? (\n          <small>\n            <label>Calle y numero</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-road\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Calle y numero\"\n            name=\"calle\"\n            value={calle}\n            onChange={this.catchInputs}\n          />\n        </div>\n        {colonia ? (\n          <small>\n            <label>Colonia</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-location-arrow\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Colonia\"\n            name=\"colonia\"\n            value={colonia}\n            onChange={this.catchInputs}\n          />\n        </div>\n        {municipio ? (\n          <small>\n            <label>Municipio</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-location-arrow\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Municipio\"\n            name=\"municipio\"\n            value={municipio}\n            onChange={this.catchInputs}\n          />\n        </div>\n        {estado ? (\n          <small>\n            <label>Estado</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-map-marker\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Estado\"\n            name=\"estado\"\n            value={estado}\n            onChange={this.catchInputs}\n          />\n        </div>\n        {cp ? (\n          <small>\n            <label>Codigo postal</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-map-marker\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Codigo Postal\"\n            name=\"cp\"\n            value={cp}\n            onChange={this.catchInputs}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  catchInputs = (x) => {\n    this.props.onChange(x);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class AddTelefonos extends Component {\n  render() {\n    let { t_casa, t_oficina, t_movil } = this.props,\n      verify =\n        t_casa.length === 10 ||\n        t_movil.length === 10 ||\n        t_oficina.length === 10;\n\n    return (\n      <div className=\"col\">\n        {t_casa ? (\n          <div className=\"ml-1 mt-1\">\n            <small>\n              <label>Telefono de casa</label>\n            </small>\n          </div>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-phone\"></i>\n            </span>\n          </div>\n          <input\n            type=\"tel\"\n            className=\"form-control\"\n            placeholder=\"Telefono de casa\"\n            name=\"t_casa\"\n            value={t_casa}\n            onChange={this.catchInputs}\n            pattern=\"^[\\d]{10}$\"\n            maxLength=\"10\"\n          />\n        </div>\n        {t_oficina ? (\n          <div className=\"ml-1 mt-1\">\n            <small>\n              <label>Telefono de oficina</label>\n            </small>\n          </div>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-phone-alt\"></i>\n            </span>\n          </div>\n          <input\n            type=\"tel\"\n            className=\"form-control\"\n            placeholder=\"Telefono de oficina\"\n            name=\"t_oficina\"\n            value={t_oficina}\n            onChange={this.catchInputs}\n            pattern=\"^[\\d]{10}$\"\n            maxLength=\"10\"\n          />\n        </div>\n        {t_movil ? (\n          <div className=\"ml-1 mt-1\">\n            <small>\n              <label>Telefono celular</label>\n            </small>\n          </div>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-mobile-alt\"></i>\n            </span>\n          </div>\n          <input\n            type=\"tel\"\n            className=\"form-control\"\n            placeholder=\"Telefono celular\"\n            name=\"t_movil\"\n            value={t_movil}\n            onChange={this.catchInputs}\n            pattern=\"^[\\d]{10}$\"\n            required={\n              t_casa.length !== 10 && t_oficina.length !== 10 ? true : false\n            }\n            maxLength=\"10\"\n          />\n        </div>\n        {!verify ? (\n          <div className=\"mt-2 p-0 text-danger\">\n            <small>Por lo menos capture un telefono</small>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n\n  catchInputs = (x) => {\n    this.props.onChange(x);\n  };\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport Mapa from \"./mapa\";\nimport ListExam from \"../Exam/listsExams\";\nimport Personal from \"./add_personal\";\nimport Domicilio from \"./add_domicilio\";\nimport Telefono from \"./add_telefonos\";\n\nexport default class ContactsAdd extends Component {\n  constructor(props) {\n    super(props);\n    //Recogemos valores de registro previo\n    let contact = JSON.parse(localStorage.getItem(\"OrusContactInUse\"));\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      id: 0,\n      name: contact && contact.name ? contact.name : \"\",\n      validName: false,\n      rfc: \"\",\n      email: \"\",\n      validEmail: false,\n      type: 0,\n      birthday: \"\",\n      calle: \"\",\n      colonia: \"\",\n      municipio: \"\",\n      estado: \"\",\n      cp: \"\",\n      t_casa: \"\",\n      t_oficina: \"\",\n      t_movil: \"\",\n      business: false,\n      load: false,\n      host: ls.host,\n      token: ls.token,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n    this.timeSave = null;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    let id = this.props.match.params.id,\n      //Recogemos valores de registro inconcluso\n      data = JSON.parse(localStorage.getItem(\"OrusContactNew\"));\n\n    if (id) {\n      this.getUser(id);\n    } else {\n      //Si existe un usuario previo\n      if (\n        data &&\n        data.name &&\n        data.name.length > 4 &&\n        window.confirm(\n          \"Existe un registro previo de \" +\n            data.name.toUpperCase() +\n            \", \\n ¿Desea Cargar los datos?\"\n        )\n      ) {\n        this.setState({\n          name: data.name,\n          validName: true,\n          rfc: data.rfc,\n          email: data.email,\n          validEmail: true,\n          type: data.type,\n          birthday: data.birthday,\n          calle: data.calle,\n          colonia: data.colonia,\n          municipio: data.municipio,\n          estado: data.estado,\n          cp: data.cp,\n          t_casa: data.t_casa,\n          t_oficina: data.t_oficina,\n          t_movil: data.t_movil,\n        });\n      }\n      localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\n    }\n  }\n  componentDidUpdate(props, state) {\n    if (\n      !this.state.id &&\n      !this.state.load &&\n      this.state.validName &&\n      this.state.validEmail\n    ) {\n      if (this.timeSave) clearTimeout(this.timeSave);\n      this.timeSave = setTimeout(() => {\n        localStorage.setItem(\n          \"OrusContactNew\",\n          JSON.stringify({\n            name: this.state.name,\n            rfc: this.state.rfc,\n            email: this.state.email,\n            type: this.state.type,\n            birthday: this.state.birthday,\n            calle: this.state.calle,\n            colonia: this.state.colonia,\n            municipio: this.state.municipio,\n            estado: this.state.estado,\n            cp: this.state.cp,\n            t_casa: this.state.t_casa,\n            t_oficina: this.state.t_oficina,\n            t_movil: this.state.t_movil,\n          })\n        );\n      }, 1500);\n    } else {\n      localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\n    }\n  }\n\n  render() {\n    let {\n      id,\n      name,\n      rfc,\n      email,\n      type,\n      birthday,\n      calle,\n      colonia,\n      municipio,\n      estado,\n      cp,\n      t_casa,\n      t_oficina,\n      t_movil,\n      business,\n      load,\n      validName,\n      validEmail,\n    } = this.state;\n\n    return (\n      <form onSubmit={this.handleSave}>\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <div className=\"card card-danger card-outline\">\n              <div className=\"card-header\">\n                <h3 className=\"card-title text-danger\">\n                  <i className=\"fas fa-address-book mr-2\"></i>\n                  {id ? \"Editar contacto\" : \"Registrar nuevo contacto\"}\n                  {validName && validEmail ? (\n                    <span className=\"ml-2 text-muted\">\n                      <small>(Almacenado automatico)</small>\n                    </span>\n                  ) : null}\n                </h3>\n              </div>\n              <div className=\"card-body\">\n                <div className=\"row was-validated\">\n                  <Personal\n                    id={id}\n                    name={name}\n                    rfc={rfc}\n                    email={email}\n                    type={type}\n                    birthday={birthday}\n                    business={business}\n                    validName={validName}\n                    validEmail={validEmail}\n                    onChange={this.catchInputs}\n                  />\n\n                  <Domicilio\n                    calle={calle}\n                    colonia={colonia}\n                    municipio={municipio}\n                    estado={estado}\n                    cp={cp}\n                    onChange={this.catchInputs}\n                  />\n\n                  <Telefono\n                    t_casa={t_casa}\n                    t_movil={t_movil}\n                    t_oficina={t_oficina}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n              </div>\n              <div className=\"card-footer\">\n                <div className=\"row\">\n                  <div className=\"col-md-12\">\n                    {load ? (\n                      <div className=\"text-center\">\n                        <div\n                          className=\"spinner-border text-primary\"\n                          role=\"status\"\n                        >\n                          <span className=\"sr-only\">Loading...</span>\n                        </div>\n                      </div>\n                    ) : (\n                      <div className=\"btn-group float-right\" role=\"group\">\n                        <Link\n                          to=\"/contactos\"\n                          className=\"btn btn-dark\"\n                          onClick={(e) => {\n                            this.changePage(\"/contactos\");\n                          }}\n                        >\n                          <i\n                            className={\n                              id ? \"fas fa-arrow-left mr-2\" : \"fas fa-ban mr-2\"\n                            }\n                          ></i>\n                          <strong>{id ? \"Regresar\" : \"Cancelar\"}</strong>\n                        </Link>\n                        <button\n                          type=\"submit\"\n                          className={\n                            validName &&\n                            validEmail &&\n                            (t_casa || t_oficina || t_movil)\n                              ? \"btn btn-danger\"\n                              : \"btn btn-danger disabled\"\n                          }\n                          disabled={\n                            validName &&\n                            validEmail &&\n                            (t_casa || t_oficina || t_movil)\n                              ? \"\"\n                              : \"disabled\"\n                          }\n                        >\n                          <i className=\"fas fa-save mr-1\"></i>\n                          Guardar\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          {this.state.calle && !this.state.type ? (\n            <div className=\"col\">\n              <Mapa\n                calle={this.state.calle}\n                colonia={this.state.colonia}\n                municipio={this.state.municipio}\n                estado={this.state.estado}\n                cp={this.state.cp}\n                changeAddress={this.changeAddress}\n              />\n            </div>\n          ) : (\n            \"\"\n          )}\n          {this.state.id && !this.state.type ? (\n            <div className=\"col\">\n              <ListExam\n                paciente={this.state.id}\n                exam={{}}\n                page={this.changePage}\n                edad={\n                  moment(this.state.birthday)\n                    .fromNow(true)\n                    .replace(/[a-zA-ZñÑ]/gi, \"\") * 1\n                }\n              />\n            </div>\n          ) : null}\n        </div>\n      </form>\n    );\n  }\n\n  changeAddress = (json) => {\n    this.setState(json);\n  };\n  changePage = (e) => {\n    this.props.page(e);\n  };\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value = e.target.type === \"checkbox\" ? e.target.checked : e.target.value;\n    this.setState({\n      [name]: value,\n    });\n  };\n  handleSave = (e) => {\n    e.preventDefault();\n    let { validName, validEmail, id } = this.state;\n\n    //Verificamos campos validos\n    if (!validName) {\n      window.Swal.fire(\n        \"Base de datos\",\n        \"El contacto ya esta registrado\",\n        \"warning\"\n      );\n      return false;\n    }\n    if (!validEmail) {\n      window.Swal.fire(\n        \"Base de datos\",\n        \"El email ya esta registrado\",\n        \"warning\"\n      );\n      return false;\n    }\n\n    //Confirmación de almacenamiento\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: id\n        ? \"¿Esta seguro de actualizar al contacto?\"\n        : \"¿Esta seguro de crear un nuevo contacto?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          let {\n              name,\n              rfc,\n              email,\n              type,\n              birthday,\n              calle,\n              colonia,\n              municipio,\n              estado,\n              cp,\n              t_casa,\n              t_oficina,\n              t_movil,\n              business,\n              host,\n              token,\n            } = this.state,\n            //Creamos el body\n            body = {\n              name,\n              rfc,\n              email,\n              type,\n              birthday: business ? \"\" : birthday,\n              business,\n              domicilio: JSON.stringify({\n                calle,\n                colonia,\n                municipio,\n                estado,\n                cp,\n              }),\n              telnumbers: JSON.stringify({\n                t_casa,\n                t_oficina,\n                t_movil,\n              }),\n            },\n            //Identificamos la URL y el metodo segun sea el caso (Actualizar o agregar)\n            url = id\n              ? \"http://\" + host + \"/api/contacts/\" + id\n              : \"http://\" + host + \"/api/contacts\",\n            //Actualiza el contacto o creamos el contacto\n            method = id ? \"PUT\" : \"POST\";\n\n          //Enviamos datos al API\n          console.log(\"Enviando datos del contacto a la API\");\n          return fetch(url, {\n            method: method,\n            body: JSON.stringify(body),\n            signal: this.signal,\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then((response) => {\n              if (!response.ok) {\n                throw new Error(response.statusText);\n              }\n              return response.json();\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch: \", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n        if (data.data) {\n          console.log(\"Contacto almacenado\");\n          localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\n          localStorage.setItem(\n            \"OrusContactInUse\",\n            JSON.stringify({ id: data.data.id })\n          );\n          window.Swal.fire({\n            icon: \"success\",\n            title: id\n              ? \"Contacto actualizado con exito\"\n              : \"Contacto almacenado con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          }).then((res) => {\n            this.props.history.goBack();\n          });\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar el contacto\", \"error\");\n          console.error(\"Orus res: \", data.message);\n        }\n      }\n    });\n  };\n  getUser = (id) => {\n    if (id > 0) {\n      //Variables en localStorage\n      let { load, host, token } = this.state;\n\n      //Mandamos señal de carga si no lo he hecho\n      if (!load) {\n        this.setState({\n          load: true,\n        });\n      }\n      //Realiza la peticion al API\n      console.log(\"Descargando datos del contacto del API\");\n      fetch(\"http://\" + host + \"/api/contacts/\" + id, {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(response.statusText);\n          }\n          return response.json();\n        })\n        .then((data) => {\n          if (data.data) {\n            let { domicilio, telefonos } = data.data;\n            console.log(\"Almacenando datos del contacto\");\n            this.setState({\n              id: data.data.id,\n              name: data.data.nombre,\n              rfc: data.data.rfc,\n              email: data.data.email,\n              type: data.data.tipo,\n              business: data.data.empresa,\n              birthday: data.data.f_nacimiento,\n              calle: domicilio && domicilio.calle ? domicilio.calle : \"\",\n              colonia: domicilio && domicilio.colonia ? domicilio.colonia : \"\",\n              municipio:\n                domicilio && domicilio.municipio ? domicilio.municipio : \"\",\n              estado: domicilio && domicilio.estado ? domicilio.estado : \"\",\n              cp: domicilio && domicilio.cp ? domicilio.cp : \"\",\n              t_casa: telefonos && telefonos.t_casa ? telefonos.t_casa : \"\",\n              t_oficina:\n                telefonos && telefonos.t_oficina ? telefonos.t_oficina : \"\",\n              t_movil: telefonos && telefonos.t_movil ? telefonos.t_movil : \"\",\n              validName: true,\n              validEmail: true,\n              load: false,\n            });\n          } else {\n            console.error(\"Orus: \", data.message);\n            window.Swal.fire(\"Error\", \"Al descargar el contacto\", \"error\");\n            this.setState({\n              load: false,\n            });\n          }\n        })\n        .catch((e) => {\n          console.error(e);\n          window.Swal.fire(\n            \"Fallo de conexion\",\n            \"Verifique la conexion al servidor\",\n            \"error\"\n          );\n          this.setState({\n            load: false,\n          });\n        });\n    }\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class AddContact extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    //Recogemos valores de registro previo\n    this.state = {\n      name: \"\",\n      validName: false,\n      rfc: \"\",\n      email: \"\",\n      validEmail: false,\n      type: 0,\n      birthday: \"\",\n      t_casa: \"\",\n      t_oficina: \"\",\n      t_movil: \"\",\n      business: false,\n      load: false,\n      host: ls.host,\n      token: ls.token,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n    this.timeSave = null;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n\n  render() {\n    let {\n      name,\n      email,\n      birthday,\n      t_casa,\n      t_oficina,\n      t_movil,\n      load,\n      validName,\n      validEmail,\n    } = this.state;\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <div className=\"card card-danger card-outline\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title text-danger\">\n                <i className=\"fas fa-address-book mr-2\"></i>\n                Pacientes\n              </h3>\n            </div>\n\n            <div className=\"card-body\">\n              <div className=\"row was-validated\">\n                <div className=\"input-group mb-1\">\n                  <div className=\"input-group-prepend\">\n                    <span className={\"input-group-text \"}>\n                      <i className=\"fas fa-id-card-alt\"></i>\n                    </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    className={\"form-control text-capitalize\"}\n                    placeholder=\"Nombre completo\"\n                    name=\"name\"\n                    value={name}\n                    onChange={this.handleChange}\n                    autoFocus={!name.length ? true : false}\n                    autoComplete=\"off\"\n                    required=\"required\"\n                    pattern=\"^[a-zA-Z.]{2,20}[\\s]{1}[a-zA-Z.]{2,20}.*\"\n                    minLength=\"8\"\n                    list=\"contactos_db\"\n                  />\n                </div>\n\n                <div className=\"input-group mb-1\">\n                  <div className=\"input-group-prepend\">\n                    <span className={\"input-group-text \"}>\n                      <i className=\"fas fa-at\"></i>\n                    </span>\n                  </div>\n                  <input\n                    type=\"email\"\n                    className={\"form-control\"}\n                    placeholder=\"Correo electronico\"\n                    name=\"email\"\n                    value={email}\n                    onChange={this.handleChange}\n                    autoComplete=\"off\"\n                    minLength=\"8\"\n                    list=\"email_db\"\n                  />\n                </div>\n\n                <div className=\"input-group mb-1\">\n                  <div className=\"input-group-prepend\">\n                    <span className=\"input-group-text\">\n                      <i className=\"fas fa-phone\"></i>\n                    </span>\n                  </div>\n                  <input\n                    type=\"tel\"\n                    className=\"form-control\"\n                    placeholder=\"Telefono\"\n                    name=\"t_movil\"\n                    value={t_movil}\n                    onChange={this.catchInputs}\n                    pattern=\"^[\\d]{10}$\"\n                    maxLength=\"10\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"input-group mb-1\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">\n                    <i className=\"fas fa-calendar-check\"></i>\n                  </span>\n                </div>\n                <input\n                  type=\"date\"\n                  className=\"form-control\"\n                  placeholder=\"Fecha de nacimiento\"\n                  name=\"birthday\"\n                  value={birthday ? birthday : \"\"}\n                  onChange={this.catchInputs}\n                />\n              </div>\n            </div>\n            <div className=\"card-footer\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  {load ? (\n                    <div className=\"text-center\">\n                      <div\n                        className=\"spinner-border text-primary\"\n                        role=\"status\"\n                      >\n                        <span className=\"sr-only\">Loading...</span>\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"btn-group float-right\" role=\"group\">\n                      <button\n                        type=\"submit\"\n                        className={\n                          validName &&\n                          validEmail &&\n                          (t_casa || t_oficina || t_movil)\n                            ? \"btn btn-danger\"\n                            : \"btn btn-danger disabled\"\n                        }\n                        disabled={\n                          validName &&\n                          validEmail &&\n                          (t_casa || t_oficina || t_movil)\n                            ? \"\"\n                            : \"disabled\"\n                        }\n                      >\n                        <i className=\"fas fa-save mr-1\"></i>\n                        Guardar\n                      </button>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Pagination from \"./pagination\";\n\nexport default class ToolsCategory extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      category_list: [],\n      category_select: [],\n      category_hijos: [],\n      category_hijos_3: [],\n      meta: {},\n      add: false,\n      name: \"\",\n      category_id: 0,\n      category_id_2: 0,\n      category_id_3: 0,\n      newItem: 0,\n      page: 1,\n      host: ls.host,\n      token: ls.token,\n      load: true,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    this.getCategories();\n  }\n  componentDidUpdate(props, state) {\n    if (state.page !== this.state.page) {\n      console.log(\"Recargando categorias\");\n      this.getCategories();\n    }\n  }\n\n  render() {\n    let { category_list, meta, load } = this.state,\n      category_hijos = this.state.category_hijos,\n      category_hijos_3 = this.state.category_hijos_3;\n\n    return (\n      <div className=\"card card-primary card-outline\">\n        <div className=\"card-body\">\n          <h5 className=\"card-title\">Categorias</h5>\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>Nombre</th>\n                <th>Padre</th>\n                <th>Eliminar</th>\n              </tr>\n            </thead>\n            <tbody>\n              {!load ? (\n                category_list.map((cat) => {\n                  let padre = \"\";\n\n                  if (cat.depende_de != null) {\n                    if (cat.depende_de.depende_de != null) {\n                      padre = cat.depende_de.depende_de.categoria;\n                    }\n                    padre = padre\n                      ? padre + \"/\" + cat.depende_de.categoria\n                      : cat.depende_de.categoria;\n                  }\n                  padre = padre ? padre : \"--\";\n\n                  return (\n                    <tr\n                      key={cat.id}\n                      className={\n                        cat.id === this.state.newItem ? \"table-success\" : \"\"\n                      }\n                    >\n                      <td className=\"text-capitalize\">{cat.categoria}</td>\n                      <td className=\"text-capitalize\">{padre}</td>\n                      <td>\n                        <button\n                          className=\"btn btn-outline-light btn-sm\"\n                          onClick={(e) => {\n                            this.handleClickDelete(cat.id, cat.categoria);\n                          }}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })\n              ) : (\n                <tr>\n                  <td colSpan=\"8\" className=\"text-center\">\n                    <div className=\"spinner-border text-primary\" role=\"status\">\n                      <span className=\"sr-only\">Loading...</span>\n                    </div>\n                  </td>\n                </tr>\n              )}\n            </tbody>\n            {this.state.add && !load ? (\n              <tfoot>\n                <tr>\n                  <td>\n                    <input\n                      type=\"text\"\n                      name=\"name\"\n                      className=\"form-control\"\n                      autoComplete=\"off\"\n                      value={this.state.name}\n                      onChange={this.catchInputs}\n                      ref={(input) => {\n                        this.nameInput = input;\n                      }}\n                    />\n                  </td>\n                  <td>\n                    <select\n                      name=\"category_id\"\n                      className=\"form-control\"\n                      value={this.state.category_id}\n                      onChange={this.handleCategoryChange}\n                    >\n                      <option value=\"0\">Inicial</option>\n                      {this.state.category_select.map((cat) => {\n                        return (\n                          <option key={cat.id} value={cat.id}>\n                            {cat.categoria}\n                          </option>\n                        );\n                      })}\n                    </select>\n                    {category_hijos.length ? (\n                      <select\n                        name=\"category_id_2\"\n                        className=\"form-control mt-2\"\n                        value={this.state.category_id_2}\n                        onChange={this.handleCategoryChange}\n                      >\n                        <option value=\"0\">Raiz</option>\n                        {this.state.category_hijos.map((cat) => {\n                          return (\n                            <option key={cat.id} value={cat.id}>\n                              {cat.categoria}\n                            </option>\n                          );\n                        })}\n                      </select>\n                    ) : (\n                      \"\"\n                    )}\n                    {category_hijos_3.length ? (\n                      <select\n                        name=\"category_id_3\"\n                        className=\"form-control mt-2\"\n                        value={this.state.category_id_3}\n                        onChange={this.handleCategoryChange}\n                      >\n                        <option value=\"0\">Raiz</option>\n                        {this.state.category_hijos_3.map((cat) => {\n                          return (\n                            <option key={cat.id} value={cat.id}>\n                              {cat.categoria}\n                            </option>\n                          );\n                        })}\n                      </select>\n                    ) : (\n                      \"\"\n                    )}\n                  </td>\n                  <td>\n                    <button\n                      className=\"btn btn-dark btn-sm\"\n                      onClick={this.handleClickSave}\n                    >\n                      <i className=\"fas fa-save\"></i>\n                    </button>\n                  </td>\n                </tr>\n              </tfoot>\n            ) : (\n              <tfoot>\n                <tr>\n                  <td colSpan=\"3\">\n                    <Pagination\n                      meta={meta}\n                      handleChangePage={this.handleChangePage}\n                    />\n                  </td>\n                </tr>\n              </tfoot>\n            )}\n          </table>\n        </div>\n        <div className=\"card-footer text-right\">\n          <button\n            className=\"btn btn-primary btn-sm\"\n            onClick={this.handleClickAdd}\n          >\n            {this.state.add ? (\n              <i className=\"fas fa-undo\"></i>\n            ) : (\n              <i className=\"fas fa-plus\"></i>\n            )}\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  handleCategoryChange = (e) => {\n    const { name, value } = e.target;\n    if (name === \"category_id\") {\n      if (value) {\n        this.state.category_select.map((cat) => {\n          if (cat.id === value * 1) {\n            this.setState({\n              category_hijos: cat.hijos,\n            });\n          }\n          return null;\n        });\n      }\n    }\n    if (name === \"category_id_2\") {\n      if (value) {\n        this.state.category_hijos.map((cat) => {\n          if (cat.id === value * 1) {\n            this.setState({\n              category_hijos_3: cat.hijos,\n            });\n          }\n          return null;\n        });\n      }\n    }\n    this.setState({\n      [name]: value,\n    });\n  };\n  handleChangePage = (id) => {\n    this.setState({\n      page: id,\n    });\n  };\n  handleClickDelete = (id, name) => {\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar la categoria \" + name.toUpperCase() + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm && id) {\n          let { host, token } = this.state;\n\n          //Inicio de proceso de eliminción por API\n          console.log(\"Solicitud de eliminación de categoria por API\");\n          return fetch(\"http://\" + host + \"/api/categories/\" + id, {\n            method: \"DELETE\",\n            signal: this.signal,\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        console.log(\"Categoria eliminado\");\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Categoria eliminada con exito\",\n          showConfirmButton: false,\n          timer: 1500,\n        }).then((res) => this.getCategories());\n      } else if (result && !result.dismiss) {\n        console.log(\"Orus res: \", result);\n        window.Swal.fire(\n          \"Error\",\n          \"Se perdio la conexion con el servidor\",\n          \"error\"\n        );\n      }\n    });\n  };\n  handleClickSave = () => {\n    //Verificamos campos validos\n    if (this.state.name.length < 4) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Debe de escribir el nombre de la categoria\",\n        \"warning\"\n      );\n      this.nameInput.focus();\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de crear una nueva categoria?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          //Variables\n          let { host, token } = this.state,\n            body = {\n              name: this.state.name,\n              category_id: this.state.category_id_3\n                ? this.state.category_id_3\n                : this.state.category_id_2\n                ? this.state.category_id_2\n                : this.state.category_id,\n            };\n\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\n          console.log(\"Enviando datos a API para almacenar\");\n          return fetch(\"http://\" + host + \"/api/categories\", {\n            method: \"POST\",\n            body: JSON.stringify(body),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n\n        if (data.data) {\n          console.log(\"Categoria almacenada\");\n          window.Swal.fire({\n            icon: \"success\",\n            title: \"Categoria almacenada con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          }).then((res) => {\n            this.setState({\n              newItem: data.data.id,\n            });\n            this.getCategories();\n          });\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar la categoria\", \"error\");\n          console.error(\"Orus res: \", data.message);\n        }\n      }\n    });\n  };\n  getCategories = () => {\n    //Variables en localStorage\n    let { host, token, load } = this.state,\n      url = \"http://\" + host + \"/api/categories\",\n      categoryid = \"&categoryid=raiz\",\n      page = this.state.page > 0 ? \"?page=\" + this.state.page : \"?page=1\";\n\n    //Mandamos señal de carga si no lo he hecho\n    if (!load) {\n      this.setState({\n        load: true,\n      });\n    }\n\n    console.log(\"Descargando lista de categorias\");\n    fetch(url + page, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then((cat) => {\n        if (cat.data) {\n          console.log(\"Lista de categorias descargadas\");\n          this.setState({\n            category_list: cat.data,\n            meta: cat.meta,\n            newItem: 0,\n            add: false,\n            category_id: 0,\n            name: \"\",\n            load: false,\n          });\n        }\n      })\n      .catch((e) => {\n        console.error(\"Orus: \" + e);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n      });\n    //Category_select\n    fetch(url + page + categoryid, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then((cat) => {\n        if (cat.data) {\n          this.setState({\n            category_select: cat.data,\n          });\n        }\n      })\n      .catch((e) => {\n        console.error(\"Orus: \" + e);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n      });\n  };\n  handleClickAdd = () => {\n    this.setState({\n      add: !this.state.add,\n      name: \"\",\n      category_id: 0,\n      category_id_2: 0,\n      category_id_3: 0,\n      category_hijos: [],\n      category_hijos_3: [],\n    });\n  };\n  catchInputs = (e) => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value.toLowerCase(),\n    });\n  };\n}\n","import React, { Component } from \"react\";\nimport Category from \"./tools_category\";\n//import { Link } from 'react-router-dom';\n\nexport default class StoreAdd extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      server: \"\",\n      company: \"\",\n      email: \"\",\n      name: \"\",\n      username: \"\",\n      password: \"\",\n      category_list: [],\n    };\n  }\n\n  componentDidMount() {\n    //Variables en localStorage\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.setState({\n      server: varLocalStorage.host\n        ? varLocalStorage.host\n        : window.location.host.split(\":\")[0],\n      company: varLocalStorage.company ? varLocalStorage.company : \"\",\n      email: varLocalStorage.email ? varLocalStorage.email : \"\",\n      name: varLocalStorage.name ? varLocalStorage.name : \"\",\n      username: varLocalStorage.username ? varLocalStorage.username : \"\",\n    });\n  }\n\n  render() {\n    const { data } = this.props;\n    return (\n      <div className=\"row\">\n        <div className=\"col-6\">\n          <div className=\"card card-primary card-outline\">\n            <div className=\"card-body\">\n              <h5 className=\"card-title\">Generales</h5>\n              <p>&nbsp;</p>\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">\n                    <i className=\"fas fa-server\"></i>\n                  </span>\n                </div>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"Servidor\"\n                  name=\"server\"\n                  value={this.state.server}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">\n                    <i className=\"fas fa-building\"></i>\n                  </span>\n                </div>\n                <input\n                  type=\"text\"\n                  className=\"form-control text-capitalize\"\n                  placeholder=\"Nombre de la empresa\"\n                  name=\"company\"\n                  value={this.state.company}\n                  onChange={this.catchInputs}\n                />\n              </div>\n            </div>\n            <div className=\"card-footer text-right\">\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={this.clickSave}\n              >\n                Guardar\n              </button>\n            </div>\n          </div>\n\n          <Category data={data} />\n        </div>\n        <div className=\"col-6\">\n          <div className=\"card card-primary card-outline\">\n            <div className=\"card-body\">\n              <h5 className=\"card-title\">Usuario</h5>\n              <p>&nbsp;</p>\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">\n                    <i className=\"fas fa-at\"></i>\n                  </span>\n                </div>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"Email\"\n                  name=\"email\"\n                  value={this.state.email}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">\n                    <i className=\"fas fa-user-tag\"></i>\n                  </span>\n                </div>\n                <input\n                  type=\"text\"\n                  className=\"form-control text-capitalize\"\n                  placeholder=\"Nombre completo\"\n                  name=\"name\"\n                  value={this.state.name}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <hr />\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">\n                    <i className=\"fas fa-user-check\"></i>\n                  </span>\n                </div>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"Usuario\"\n                  name=\"username\"\n                  value={this.state.username}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">\n                    <i className=\"fas fa-lock\"></i>\n                  </span>\n                </div>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"Contraseña\"\n                  name=\"password\"\n                  value={this.state.password}\n                  onChange={this.catchInputs}\n                />\n              </div>\n            </div>\n            <div className=\"card-footer text-right\">\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={this.clickSaveUser}\n              >\n                Guardar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  clickSave = () => {\n    //Variables en localStorage\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    varLocalStorage.company = this.state.company;\n    varLocalStorage.host = this.state.server;\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage));\n  };\n  clickSaveUser = () => {\n    //Variables en localStorage\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    varLocalStorage.email = this.state.email;\n    varLocalStorage.name = this.state.name;\n    varLocalStorage.username = this.state.username;\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage));\n  };\n  catchInputs = (e) => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value.toLowerCase(),\n    });\n  };\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\n\nexport default class Filter extends Component {\n  render() {\n    const { search, status, date } = this.props;\n    return (\n      <React.Fragment>\n        <div className=\"btn-group\">\n          <a\n            href=\"#Filters\"\n            className=\"btn btn-tool text-dark\"\n            data-toggle=\"modal\"\n            data-target=\"#filters\"\n          >\n            <i className=\"fas fa-filter\"></i>\n          </a>\n        </div>\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\n          <div className=\"modal-dialog\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\">Busquedas</h5>\n                <button\n                  type=\"button\"\n                  className=\"close\"\n                  data-dismiss=\"modal\"\n                  aria-label=\"Close\"\n                >\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n\n              <form className=\"modal-body\">\n                <div className=\"input-group mb-3\">\n                  <div className=\"input-group-prepend\">\n                    <span className=\"input-group-text\">\n                      <i className=\"fas fa-search\"></i>\n                    </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    name=\"search\"\n                    className=\"form-control\"\n                    placeholder=\"Por: paciente\"\n                    value={search ? search : \"\"}\n                    onChange={this.changeFilters}\n                    onKeyPress={this.onKeyPressSearch}\n                  />\n                </div>\n\n                <div className=\"input-group mb-3\">\n                  <label>Estado</label>\n                  <div className=\"input-group-prepend ml-4\">\n                    <span className=\"input-group-text\">\n                      <i className=\"fas fa-toggle-on\"></i>\n                    </span>\n                  </div>\n                  <select\n                    className=\"form-control\"\n                    name=\"status\"\n                    value={status}\n                    onChange={this.changeFilters}\n                  >\n                    <option value=\"\">Todos</option>\n                    <option value=\"0\">Activo</option>\n                    <option value=\"1\">Terminado</option>\n                  </select>\n                </div>\n\n                <div className=\"input-group mb-3\">\n                  <label>Fecha</label>\n                  <div className=\"input-group-prepend ml-4\">\n                    <span className=\"input-group-text\">\n                      <i className=\"fas fa-calendar-alt\"></i>\n                    </span>\n                  </div>\n                  <input\n                    type=\"date\"\n                    className=\"form-control\"\n                    name=\"date\"\n                    value={date}\n                    onChange={this.changeFilters}\n                  />\n                </div>\n              </form>\n\n              <div className=\"modal-footer\">\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-dark\"\n                    data-dismiss=\"modal\"\n                  >\n                    <i className=\"fas fa-window-close mr-2\"></i>\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={\n                      search || date || status\n                        ? \"btn btn-outline-dark\"\n                        : \"btn btn-outline-dark disabled\"\n                    }\n                    onClick={this.onClickClean}\n                  >\n                    <i className=\"fas fa-eraser mr-2\"></i>\n                    Limpiar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-dark\"\n                    onClick={this.setFilters}\n                    data-dismiss=\"modal\"\n                  >\n                    <i className=\"fas fa-search mr-2\"></i>\n                    Buscar\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  onKeyPressSearch = (e) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      this.setFilters();\n    }\n  };\n  onClickClean = () => {\n    this.props.changeFilters(\"search\", \"\");\n    this.props.changeFilters(\"status\", 0);\n    this.props.changeFilters(\"date\", moment(new Date()).format(\"YYYY-MM-DD\"));\n    this.setFilters();\n  };\n  setFilters = () => {\n    this.props.handleChangePage(1);\n    window.$(\"#filters\").modal(\"hide\");\n  };\n  changeFilters = (e) => {\n    const { name, value } = e.target;\n    this.props.changeFilters(name, value);\n  };\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport Header from \"../Layouts/headerTable\";\nimport Filter from \"./index_filter\";\nimport Pagination from \"../Layouts/pagination\";\nimport Actions from \"../Layouts/actionsTable\";\n\nexport default class Exam extends Component {\n  constructor(props) {\n    super(props);\n    //Variables en localStorage\n    const sdd = JSON.parse(localStorage.getItem(\"OrusExam\"));\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      exams: {\n        data: [],\n        meta: {},\n      },\n      load: true,\n      page: sdd ? sdd.page : 1,\n      orderby: sdd && sdd.orderby ? sdd.orderby : \"created_at\",\n      order: sdd && sdd.order ? sdd.order : \"desc\",\n      search: sdd && sdd.search ? sdd.search : \"\",\n      status: sdd && sdd.status >= 0 ? sdd.status : \"\",\n      date: sdd && sdd.date ? sdd.date : \"\",\n      host: ls.host,\n      token: ls.token,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    this.getExams();\n    localStorage.setItem(\n      \"OrusExam\",\n      JSON.stringify({\n        page: this.state.page,\n        orderby: this.state.orderby,\n        order: this.state.order,\n        search: this.state.search,\n        status: this.state.status,\n        date: this.state.date,\n      })\n    );\n    console.log(\"[Exams] Eliminando datos de contacto en uso\");\n    localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\n  }\n  componentDidUpdate(props, state) {\n    if (state.load === false && this.state.load === true) {\n      console.log(\"Recargando examenes\");\n      this.getExams();\n      localStorage.setItem(\n        \"OrusExam\",\n        JSON.stringify({\n          page: this.state.page,\n          orderby: this.state.orderby,\n          order: this.state.order,\n          search: this.state.search,\n          status: this.state.status,\n          date: this.state.date,\n        })\n      );\n    }\n  }\n\n  render() {\n    let { exams, load } = this.state,\n      dataHeaders = [\n        { name: \"Paciente\", type: \"name\", filter: true },\n        { name: \"Edad\" },\n        { name: \"Estado\" },\n        { name: \"Esfera\" },\n        { name: \"Cilindro\" },\n        { name: \"Eje\" },\n        { name: \"Adicion\" },\n        { name: \"Ad Media\" },\n        { name: \"D/P\" },\n        { name: \"Altura\" },\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\n        { name: \"Registrado\", type: \"created_at\", filter: true },\n      ];\n\n    return (\n      <div className=\"card card-info card-outline\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title text-info\">\n            <i className=\"fas fa-notes-medical mr-2\"></i>\n            Examanes de la vista\n          </h3>\n          <div className=\"card-tools\">\n            <Link\n              to=\"/consultorio/registro\"\n              className=\"btn btn-outline-dark\"\n              onClick={this.changePage}\n            >\n              <i className=\"fas fa-plus\"></i>\n            </Link>\n            <Filter\n              search={this.state.search}\n              status={this.state.status}\n              date={this.state.date}\n              changeFilters={this.onchangeSearch}\n              handleChangePage={this.handleChangePage}\n            />\n            <Pagination\n              meta={exams.meta}\n              handleChangePage={this.handleChangePage}\n            />\n          </div>\n        </div>\n        <div className=\"card-body table-responsive p-0\">\n          <table className=\"table table-sm table-bordered table-hover\">\n            <Header\n              orderby={this.state.orderby}\n              order={this.state.order}\n              data={dataHeaders}\n              actions={true}\n              handleOrder={this.handleOrder}\n            />\n            <tbody>\n              {load ? (\n                <tr>\n                  <td colSpan=\"12\" className=\"text-center\">\n                    <div className=\"spinner-border text-primary\" role=\"status\">\n                      <span className=\"sr-only\">Loading...</span>\n                    </div>\n                  </td>\n                </tr>\n              ) : Object.keys(exams.data).length ? (\n                exams.data.map((exam) => {\n                  return (\n                    <tr\n                      key={exam.id}\n                      className={\n                        exam.estado\n                          ? \"table-secondary\"\n                          : moment\n                              .utc(new Date())\n                              .isSame(moment.utc(exam.created_at), \"hour\")\n                          ? \"table-success\"\n                          : \"\"\n                      }\n                    >\n                      <td>\n                        <Link\n                          to={\"/consultorio/registro/\" + exam.id}\n                          onClick={(e) => {\n                            //e.preventDefault();\n                            console.log(\n                              \"[Exams] Almacenando datos de paciente en local storage\"\n                            );\n                            localStorage.setItem(\n                              \"OrusContactInUse\",\n                              JSON.stringify({\n                                id: exam.paciente.id,\n                                nombre: exam.paciente.nombre,\n                              })\n                            );\n                            return true;\n                          }}\n                        >\n                          <span className=\"badge badge-danger text-capitalize p-1\">\n                            {exam.paciente.nombre}\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\n                          </span>\n                        </Link>\n                      </td>\n                      <td>{exam.edad ? exam.edad : \"--\"}</td>\n                      <td className=\"text-uppercase\">\n                        {exam.estado ? (\n                          <span className=\"text-secondary\">Terminado</span>\n                        ) : (\n                          <span className=\"text-success\">Activo</span>\n                        )}\n                      </td>\n                      <td>\n                        {exam.esferaod}/{exam.esferaoi}\n                      </td>\n                      <td>\n                        {exam.cilindrod}/{exam.cilindroi}\n                      </td>\n                      <td>\n                        {exam.ejeod}/{exam.ejeoi}\n                      </td>\n                      <td>\n                        {exam.adiciond}/{exam.adicioni}\n                      </td>\n                      <td>\n                        {exam.adicion_media_od}/{exam.adicion_media_oi}\n                      </td>\n                      <td>\n                        {exam.dpod}/{exam.dpoi}\n                      </td>\n                      <td>\n                        {exam.alturaod}/{exam.alturaoi}\n                      </td>\n                      <td>\n                        {moment(exam.updated_at, \"YYYY-MM-DD\").format(\"ll\")}\n                      </td>\n                      <td>{moment(exam.created_at, \"YYYY-MM-DD\").fromNow()}</td>\n                      <Actions\n                        id={exam.id}\n                        item={exam.paciente.nombre}\n                        delete={\n                          exam.estado || exam.order_id\n                            ? null\n                            : this.handleDelete\n                        }\n                        edit={\"/consultorio/registro/\"}\n                      />\n                    </tr>\n                  );\n                })\n              ) : (\n                <tr>\n                  <th colSpan=\"12\" className=\"text-center\">\n                    No hay datos para mostrar\n                  </th>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n        <div className=\"card-footer text-right\">\n          <Link\n            to=\"/consultorio/registro\"\n            className=\"btn btn-outline-info\"\n            onClick={this.changePage}\n            id=\"/consultorio/registro\"\n          >\n            <i className=\"fas fa-plus mr-2\"></i>\n            Nuevo examen\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  handleFilter = () => {\n    this.setState({\n      load: true,\n      page: 1,\n    });\n  };\n  onchangeSearch = (key, value) => {\n    this.setState({\n      [key]: value,\n    });\n  };\n  handleOrder = (item) => {\n    this.setState({\n      orderby: item,\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\n      load: true,\n    });\n  };\n  handleChangePage = (id) => {\n    this.setState({\n      page: id,\n      load: true,\n    });\n  };\n  handleDelete = (id, item) => {\n    //Confirmación de eliminacion\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text:\n        \"¿Esta seguro de eliminar el examen del paciente \" +\n        item.toUpperCase() +\n        \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          let { host, token } = this.state;\n\n          //Inicio de proceso de eliminción por API\n          return fetch(\"http://\" + host + \"/api/exams/\" + id, {\n            method: \"DELETE\",\n            signal: this.signal,\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        console.log(\"Examen eliminado\");\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Examen eliminado con exito\",\n          showConfirmButton: false,\n          timer: 1500,\n        }).then((res) => this.getExams());\n      } else if (result && !result.dismiss) {\n        console.log(\"Orus: \", result);\n        window.Swal.fire(\n          \"Error\",\n          \"Se perdio la conexion con el servidor\",\n          \"error\"\n        );\n      }\n    });\n  };\n  getExams() {\n    //Variables\n    let { host, token, order, orderby, search, page, status, load, date } =\n        this.state,\n      url = \"http://\" + host + \"/api/exams\",\n      ordenar = `&orderby=${orderby}&order=${order}`,\n      buscar = search ? `&search=${search}` : \"\",\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\",\n      fecha = date === \"\" ? \"\" : \"&date=\" + date,\n      estado = status === \"\" ? \"\" : \"&status=\" + status;\n\n    //Mandamos señal de carga si no lo he hecho\n    if (!load) {\n      this.setState({\n        load: true,\n      });\n    }\n    //Realiza la peticion de los contactos\n    fetch(url + pagina + ordenar + estado + fecha + buscar, {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then((data) => {\n        if (data.data) {\n          console.log(\"Examenes descargados\");\n          this.setState({\n            exams: data,\n            load: false,\n          });\n        } else {\n          console.error(\"Orus: \", data.message);\n          window.Swal.fire(\"Error\", \"Al descargar examenes\", \"error\");\n          this.setState({\n            load: false,\n          });\n        }\n      })\n      .catch((e) => {\n        console.error(e);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n        this.setState({\n          load: false,\n        });\n      });\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class easyContact extends Component {\n  constructor(props) {\n    super(props);\n    //Variables en localStorage\n    let storage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      name: \"\",\n      t_movil: \"\",\n      birthday: \"\",\n      email: \"\",\n      host: storage.host,\n      token: storage.token,\n    };\n  }\n  componentDidMount() {\n    const { name } = this.props;\n    if (name) {\n      this.setState({\n        name,\n      });\n    }\n  }\n  componentDidUpdate(props, state) {\n    if (props.name !== this.props.name && this.props.name !== this.state.name) {\n      this.setState({\n        name: this.props.name,\n      });\n    }\n  }\n\n  render() {\n    const { name, t_movil, birthday, email } = this.state;\n    return (\n      <React.Fragment>\n        <div className=\"form-group\">\n          <label>Nuevo paciente</label>\n          <input\n            type=\"text\"\n            className=\"form-control text-uppercase\"\n            placeholder=\"Nombre del paciente\"\n            name=\"name\"\n            autoComplete=\"off\"\n            required=\"required\"\n            pattern=\"^[a-zA-Z.]{2,20}[\\s]{1}[a-zA-Z.]{2,20}.*\"\n            minLength=\"8\"\n            value={name}\n            onChange={this.changeValue}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Telefono celular</label>\n          <input\n            type=\"tel\"\n            placeholder=\"Telefono celular\"\n            className=\"form-control\"\n            name=\"t_movil\"\n            pattern=\"^[\\d]{10}$\"\n            maxLength=\"10\"\n            value={t_movil}\n            onChange={this.changeValue}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>E-mail</label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            name=\"email\"\n            value={email}\n            onChange={this.changeValue}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Fecha de naciemiento</label>\n          <input\n            type=\"date\"\n            className=\"form-control\"\n            name=\"birthday\"\n            value={birthday}\n            onChange={this.changeValue}\n          />\n        </div>\n        <div className=\"form-group text-right\">\n          <button className=\"btn btn-danger\" onClick={this.handleSave}>\n            Registrar\n          </button>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  changeValue = (e) => {\n    const { name, value, type } = e.target;\n    let val = value;\n    console.log(name, value);\n    if (type === \"text\" || type === \"email\") val = value.toLowerCase();\n    this.setState({\n      [name]: val,\n    });\n  };\n  handleSave = (e) => {\n    e.preventDefault();\n    let { name, t_movil } = this.state;\n    console.log(\"Verificacion\", name.length, t_movil.length);\n    //Verificamos campos validos\n    if (name.length < 5) {\n      window.Swal.fire(\n        \"Verificacion\",\n        \"El nombre del paciente no es correcto\",\n        \"warning\"\n      );\n      return false;\n    }\n    if (t_movil.length !== 10) {\n      window.Swal.fire(\n        \"Verificacion\",\n        \"El numero telefonico no es correcto\",\n        \"warning\"\n      );\n      return false;\n    }\n\n    //Confirmación de almacenamiento\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de crear un nuevo contacto?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonText: \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          let { name, birthday, t_movil, email, host, token } = this.state,\n            //Creamos el body\n            body = {\n              name,\n              email: email\n                ? email\n                : name.replace(/\\s/g, \"\") +\n                  birthday.replace(/-/g, \"\").replace(/\\//g, \"\") +\n                  \"@domain\",\n              type: 0,\n              birthday,\n              business: 0,\n              domicilio: JSON.stringify({\n                calle: \"\",\n                colonia: \"\",\n                municipio: \"Colima\",\n                estado: \"Colima\",\n                cp: \"28000\",\n              }),\n              telnumbers: JSON.stringify({\n                t_casa: \"\",\n                t_oficina: \"\",\n                t_movil,\n              }),\n            },\n            //Identificamos la URL y el metodo segun sea el caso (Actualizar o agregar)\n            url = \"http://\" + host + \"/api/contacts\",\n            //Actualiza el contacto o creamos el contacto\n            method = \"POST\";\n\n          //Enviamos datos al API\n          console.log(\"Enviando datos del contacto a la API\");\n          return fetch(url, {\n            method: method,\n            body: JSON.stringify(body),\n            signal: this.signal,\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then((response) => {\n              if (!response.ok) {\n                throw new Error(response.statusText);\n              }\n              return response.json();\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch: \", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n        if (data.data) {\n          console.log(\"Contacto almacenado\");\n          localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\n          localStorage.setItem(\n            \"OrusContactInUse\",\n            JSON.stringify({ id: data.data.id })\n          );\n          window.Swal.fire({\n            icon: \"success\",\n            title: \"Contacto almacenado con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          }).then((res) => {\n            this.props.setContac(data.data.id, data.data.birthday);\n          });\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar el contacto\", \"error\");\n          console.error(\"Orus res: \", data.message);\n        }\n      }\n    });\n  };\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Easycontact from \"./easyContact\";\nimport moment from \"moment\";\n\nexport default class searchContactLine extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      contacto: \"\",\n      data: [],\n      dataContact: {},\n      load: false,\n      edad: 0,\n    };\n  }\n  componentDidMount() {\n    //identificador del contacto\n    let id = this.props.contact;\n    if (id) {\n      this.getContact(id);\n    } else {\n      this.contactInput.focus();\n    }\n  }\n  componentDidUpdate(props, state) {\n    if (state.contacto !== this.state.contacto) {\n      if (this.state.contacto.length > 2) {\n        this.getContacts(this.state.contacto);\n      } else {\n        this.setState({\n          data: [],\n        });\n      }\n    }\n    if (props.contact !== this.props.contact && this.props.contact) {\n      this.setState({\n        load: true,\n      });\n      this.getContact(this.props.contact);\n    }\n  }\n\n  render() {\n    const { load } = this.state;\n\n    if (this.props.contact) {\n      if (load) {\n        return (\n          <div className=\"card card-danger card-outline d-print-none\">\n            <div className=\"card-body box-profile\">\n              <div className=\"text-center\">\n                <div className=\"spinner-border text-primary\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n      } else if (Object.keys(this.state.dataContact).length) {\n        const {\n            nombre,\n            telefonos,\n            domicilio,\n            id,\n            f_nacimiento,\n            email,\n            rfc,\n          } = this.state.dataContact,\n          edad = this.props.edad\n            ? this.props.edad + \" años\"\n            : f_nacimiento\n            ? moment(f_nacimiento).fromNow()\n            : 0,\n          domain = /.*@domain(.com)?/gim;\n        console.log(\n          \"[searchContactCard] Almacenando datos de contacto en local storage\"\n        );\n        localStorage.setItem(\n          \"OrusContactInUse\",\n          JSON.stringify({\n            id,\n            nombre,\n          })\n        );\n\n        return (\n          <div className=\"card card-danger card-outline\">\n            <div className=\"card-body\">\n              <h3 className=\"profile-username text-center text-capitalize\">\n                {nombre}\n              </h3>\n              {rfc !== \"XAXX010101000\" ? (\n                <React.Fragment>\n                  <h6 className=\"text-muted text-center\">\n                    {telefonos.t_movil ? (\n                      <span>Movil: {telefonos.t_movil}</span>\n                    ) : telefonos.t_casa ? (\n                      <span>Casa: {telefonos.t_casa}</span>\n                    ) : telefonos.t_oficina ? (\n                      <span>Oficina: {telefonos.t_oficina}</span>\n                    ) : (\n                      <span className=\"text-danger\">Capture el telefono</span>\n                    )}\n                  </h6>\n                  <p className=\"text-muted text-center\">\n                    {domicilio && domicilio.calle.length > 6\n                      ? domicilio.calle\n                      : null}\n                  </p>\n                </React.Fragment>\n              ) : null}\n              {rfc !== \"XAXX010101000\" ? (\n                <ul className=\"list-group list-group-unbordered mb-3\">\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                    <b className=\"mr-4\">Edad:</b>\n\n                    {edad ? (\n                      <span className=\"badge badge-primary badge-pill\">\n                        {edad.replace(\"hace\", \"\")}\n                      </span>\n                    ) : (\n                      <span className=\"badge badge-warning badge-pill\">\n                        <i className=\"fas fa-ban mr-2\"></i> No capturado\n                      </span>\n                    )}\n                  </li>\n                  {f_nacimiento ? (\n                    <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                      <b>Fecha de nacimiento:</b>\n                      <span className=\"badge badge-primary badge-pill\">\n                        {moment(f_nacimiento).format(\"L\")}\n                      </span>\n                    </li>\n                  ) : null}\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                    <b>E-mail:</b>\n                    {email && !domain.exec(email) ? (\n                      <span className=\"badge badge-primary badge-pill\">\n                        {email}\n                      </span>\n                    ) : (\n                      <span className=\"badge badge-warning badge-pill\">\n                        <i className=\"fas fa-ban mr-2\"></i> No capturado\n                      </span>\n                    )}\n                  </li>\n                  {rfc.length ? (\n                    <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                      <b>RFC:</b>\n                      <span className=\"badge badge-primary badge-pill\">\n                        {rfc}\n                      </span>\n                    </li>\n                  ) : null}\n                </ul>\n              ) : null}\n              {!this.props.status ? (\n                <div className=\"btn-group btn-block d-print-none\" role=\"group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-dark\"\n                    onClick={this.handleClickChange}\n                  >\n                    <i className=\"fas fa-exchange-alt mr-1\"></i>\n                    <b>Cambiar</b>\n                  </button>\n                  <Link\n                    to={\"/contactos/registro/\" + id}\n                    className=\"btn btn-danger\"\n                    onClick={(e) => {\n                      this.handleChangePage(\"/contactos/registro/\");\n                    }}\n                  >\n                    <i className=\"fas fa-edit mr-1\"></i>\n                    <b>Editar</b>\n                  </Link>\n                </div>\n              ) : null}\n            </div>\n          </div>\n        );\n      } else {\n        return null;\n      }\n    } else {\n      return (\n        <div className=\"card card-danger card-outline d-print-none\">\n          <div className=\"card-body\">\n            <label>Buscar paciente</label>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-user\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control text-capitalize\"\n                placeholder=\"Nombre del paciente\"\n                name=\"contacto\"\n                autoComplete=\"off\"\n                value={this.state.contacto}\n                onChange={this.handleSearcContact}\n                ref={(input) => {\n                  this.contactInput = input;\n                }}\n              />\n            </div>\n            {this.state.data.length ? (\n              <ul className=\"list-group\">\n                {this.state.data.map((contact) => {\n                  return (\n                    <li key={contact.id} className=\"list-group-item\">\n                      <a\n                        href=\"#contact\"\n                        className={\n                          !contact.id\n                            ? \"text-danger text-capitalize\"\n                            : \"text-muted text-capitalize\"\n                        }\n                        onClick={(e) => {\n                          this.handleClickContact(e, contact.id);\n                        }}\n                      >\n                        <i className=\"fas fa-user mr-1\"></i>\n                        {contact.nombre}\n                      </a>\n                      {!contact.id ? (\n                        <Easycontact\n                          name={this.state.contacto}\n                          setContac={(id, date) => {\n                            let edad =\n                              moment(date)\n                                .fromNow(true)\n                                .replace(/[a-zA-ZñÑ]/gi, \"\") * 1;\n                            this.setState({\n                              contacto: \"\",\n                              data: [],\n                              dataContact: {},\n                            });\n                            console.log(\n                              \"[Contact][search] Almacenando datos de contacto en local storage\"\n                            );\n                            localStorage.setItem(\n                              \"OrusContactInUse\",\n                              JSON.stringify({})\n                            );\n                            this.props.getIdContact(id, edad);\n                          }}\n                        />\n                      ) : null}\n                    </li>\n                  );\n                })}\n              </ul>\n            ) : load ? (\n              <div className=\"text-center\">\n                <div className=\"spinner-border text-primary\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      );\n    }\n  }\n\n  getContact = (id) => {\n    //Variables en localStorage\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    //Realiza busqueda de contacto\n    fetch(\"http://\" + varLocalStorage.host + \"/api/contacts/\" + id, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + varLocalStorage.token,\n      },\n    })\n      .then(async (response) => {\n        let back = {};\n        if (response.status !== 204) back = await response.json();\n        if (!response.ok) {\n          throw new Error(back.message);\n        }\n        return back;\n      })\n      .then((data) => {\n        console.log(\"Descargando contacto\");\n        this.setState({\n          dataContact: data.data,\n          load: false,\n        });\n        console.log(\n          \"[Contact][search] Almacenando datos de contacto en local storage\"\n        );\n        localStorage.setItem(\"OrusContactInUse\", JSON.stringify(data.data));\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n  handleChangePage = (page) => {\n    this.props.changePage(page);\n  };\n  handleClickChange = (e) => {\n    e.preventDefault();\n    if (window.confirm(\"¿Esta seguro?\")) {\n      this.setState({\n        contacto: \"\",\n        data: [],\n        dataContact: {},\n      });\n      console.log(\"[Contact][search] Eliminando datos local storage\");\n      localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\n      this.props.getIdContact(0);\n    }\n  };\n  handleClickContact = (e, id) => {\n    if (e) e.preventDefault();\n    this.state.data.map((contact) => {\n      if (contact.id === id) {\n        this.setState({\n          contacto: \"\",\n          data: [],\n          dataContact: contact,\n        });\n        let edad =\n          moment(contact.f_nacimiento)\n            .fromNow(true)\n            .replace(/[a-zA-ZñÑ]/gi, \"\") * 1;\n        this.props.getIdContact(id, edad);\n        console.log(\n          \"[Contact][search] Almacenando datos de contacto en local storage\"\n        );\n        localStorage.setItem(\"OrusContactInUse\", JSON.stringify({ id }));\n        return false;\n      } else {\n        return true;\n      }\n    });\n  };\n  getContacts = (word) => {\n    let { load } = this.state;\n\n    //Revisamos que ya este cargando\n    if (!load) {\n      this.setState({\n        load: true,\n      });\n    }\n\n    if (this.timeSave) clearTimeout(this.timeSave);\n    this.timeSave = setTimeout(() => {\n      //Variables en localStorage\n      let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n        url = \"http://\" + varLocalStorage.host + \"/api/contacts\",\n        type = \"&type=0\",\n        search = word ? `&search=${word}` : \"\",\n        page = \"?page=1&itemsPage=4\";\n      console.log(\"Descargando contactos de la API\");\n      //Realiza la peticion de los contactos\n      fetch(url + page + search + type, {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + varLocalStorage.token,\n        },\n      })\n        .then(async (response) => {\n          let back = {};\n          if (response.status !== 204) back = await response.json();\n          if (!response.ok) {\n            throw new Error(back.message);\n          }\n          return back;\n        })\n        .then((data) => {\n          if (data.data && data.data.length) {\n            console.log(\"Mostrando información del contacto\");\n            this.setState({\n              data: data.data,\n              load: false,\n            });\n          } else {\n            this.setState({\n              data: [\n                {\n                  id: 0,\n                  nombre: \"No hay contactos para: \" + word,\n                },\n              ],\n              load: false,\n            });\n            console.log(\n              \"[Contact][search] Almacenando datos de contacto en local storage\"\n            );\n            localStorage.setItem(\n              \"OrusContactInUse\",\n              JSON.stringify({ name: word.toLowerCase() })\n            );\n          }\n        })\n        .catch((e) => {\n          console.error(\"Orus fetch\", e);\n          window.Swal.fire(\n            \"Fallo de conexion\",\n            \"Verifique la conexion al servidor\",\n            \"error\"\n          );\n        });\n    }, 1500);\n  };\n  handleSearcContact = (e) => {\n    const { name, value, type } = e.target;\n    let val = value;\n    if (type === \"number\") val = parseInt(value);\n    if (type === \"text\") val = value.toLowerCase();\n\n    this.setState({\n      [name]: val,\n    });\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class GeneralesExam extends Component {\n  render() {\n    return (\n      <div className=\"card d-print-none\">\n        <div className=\"card-header\" id=\"headingOne\">\n          <h2 className=\"mb-0\">\n            <button\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\n              type=\"button\"\n              data-toggle=\"collapse\"\n              data-target=\"#collapseOne\"\n              aria-expanded=\"true\"\n              aria-controls=\"collapseOne\"\n            >\n              Generales\n            </button>\n          </h2>\n        </div>\n        <div\n          id=\"collapseOne\"\n          className=\"collapse\"\n          aria-labelledby=\"headingOne\"\n          data-parent=\"#accordionExample\"\n        >\n          <div className=\"card-body\">\n            <div className=\"row\">\n              <div className=\"col-md-3\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    name=\"pc\"\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"pc\"\n                    checked={this.props.pc}\n                    onChange={this.catchInputs}\n                  />\n                  <label className=\"custom-control-label\" htmlFor=\"pc\">\n                    <i className=\"fas fa-desktop\"></i> PC\n                  </label>\n                </div>\n\n                <input\n                  type=\"text\"\n                  name=\"pc_time\"\n                  className=\"form-control input-xs\"\n                  value={this.props.pc_time}\n                  onChange={this.catchInputs}\n                  readOnly={this.props.pc ? \"\" : \"readonly\"}\n                />\n              </div>\n              <div className=\"col-md-3\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    name=\"tablet\"\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"tablet\"\n                    checked={this.props.tablet}\n                    onChange={this.catchInputs}\n                  />\n                  <label className=\"custom-control-label\" htmlFor=\"tablet\">\n                    <i className=\"fas fa-tablet-alt\"></i> Tablet\n                  </label>\n                </div>\n\n                <input\n                  type=\"text\"\n                  name=\"tablet_time\"\n                  className=\"form-control input-xs\"\n                  value={this.props.tablet_time}\n                  onChange={this.catchInputs}\n                  readOnly={this.props.tablet ? \"\" : \"readonly\"}\n                />\n              </div>\n              <div className=\"col-md-3\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    name=\"movil\"\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"movil\"\n                    checked={this.props.movil}\n                    onChange={this.catchInputs}\n                  />\n                  <label className=\"custom-control-label\" htmlFor=\"movil\">\n                    <i className=\"fas fa-mobile-alt\"></i> Telefono\n                  </label>\n                </div>\n\n                <input\n                  type=\"text\"\n                  name=\"movil_time\"\n                  className=\"form-control input-xs\"\n                  value={this.props.movil_time}\n                  onChange={this.catchInputs}\n                  readOnly={this.props.movil ? \"\" : \"readonly\"}\n                />\n              </div>\n              <div className=\"col-md-3\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    name=\"lap\"\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"lap\"\n                    checked={this.props.lap}\n                    onChange={this.catchInputs}\n                  />\n                  <label className=\"custom-control-label\" htmlFor=\"lap\">\n                    <i className=\"fas fa-laptop\"></i> Laptop\n                  </label>\n                </div>\n\n                <input\n                  type=\"text\"\n                  name=\"lap_time\"\n                  className=\"form-control input-xs\"\n                  value={this.props.lap_time}\n                  onChange={this.catchInputs}\n                  readOnly={this.props.lap ? \"\" : \"readonly\"}\n                />\n              </div>\n            </div>\n            <div className=\"row mt-1\">\n              <div className=\"col-md-6\">\n                <ul className=\"list-group\">\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                    <div className=\"custom-control custom-switch\">\n                      <input\n                        name=\"frontal\"\n                        type=\"checkbox\"\n                        className=\"custom-control-input\"\n                        id=\"frontal\"\n                        checked={this.props.frontal}\n                        onChange={this.catchInputs}\n                      />\n                      <label className=\"custom-control-label\" htmlFor=\"frontal\">\n                        Frontal\n                      </label>\n                    </div>\n                  </li>\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                    <div className=\"custom-control custom-switch\">\n                      <input\n                        name=\"occipital\"\n                        type=\"checkbox\"\n                        className=\"custom-control-input\"\n                        id=\"occipital\"\n                        checked={this.props.occipital}\n                        onChange={this.catchInputs}\n                      />\n                      <label\n                        className=\"custom-control-label\"\n                        htmlFor=\"occipital\"\n                      >\n                        Occipital\n                      </label>\n                    </div>\n                  </li>\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                    <div className=\"custom-control custom-switch\">\n                      <input\n                        name=\"generality\"\n                        type=\"checkbox\"\n                        className=\"custom-control-input\"\n                        id=\"generality\"\n                        checked={this.props.generality}\n                        onChange={this.catchInputs}\n                      />\n                      <label\n                        className=\"custom-control-label\"\n                        htmlFor=\"generality\"\n                      >\n                        General\n                      </label>\n                    </div>\n                  </li>\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                    <div className=\"custom-control custom-switch\">\n                      <input\n                        name=\"cefalea\"\n                        type=\"checkbox\"\n                        className=\"custom-control-input\"\n                        id=\"cefalea\"\n                        checked={this.props.cefalea}\n                        onChange={this.catchInputs}\n                      />\n                      <label className=\"custom-control-label\" htmlFor=\"cefalea\">\n                        Cefalea\n                      </label>\n                    </div>\n                  </li>\n                </ul>\n              </div>\n              <div className=\"col-md-6\">\n                <ul className=\"list-group\">\n                  <li className=\"list-group-item\">\n                    Temporal\n                    <br />\n                    <div className=\"row mt-2\">\n                      <div className=\"col\">\n                        <div className=\"custom-control custom-switch\">\n                          <input\n                            name=\"temporaod\"\n                            type=\"checkbox\"\n                            className=\"custom-control-input\"\n                            id=\"temporaod\"\n                            checked={this.props.temporaod}\n                            onChange={this.catchInputs}\n                          />\n                          <label\n                            className=\"custom-control-label\"\n                            htmlFor=\"temporaod\"\n                          >\n                            <i className=\"fa fa-eye\"></i> Derecho\n                          </label>\n                        </div>\n                      </div>\n                      <div className=\"col\">\n                        <div className=\"custom-control custom-switch\">\n                          <input\n                            name=\"temporaoi\"\n                            type=\"checkbox\"\n                            className=\"custom-control-input\"\n                            id=\"temporaoi\"\n                            checked={this.props.temporaoi}\n                            onChange={this.catchInputs}\n                          />\n                          <label\n                            className=\"custom-control-label\"\n                            htmlFor=\"temporaoi\"\n                          >\n                            <i className=\"fa fa-eye\"></i> Izquierdo\n                          </label>\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                  <li className=\"list-group-item\">\n                    Frecuencia\n                    <span className=\"badge badge-pill\">\n                      <input\n                        type=\"text\"\n                        name=\"c_frecuencia\"\n                        maxLength=\"60\"\n                        className=\"form-control input-xs\"\n                        value={this.props.c_frecuencia}\n                        onChange={this.catchInputs}\n                      />\n                    </span>\n                  </li>\n                  <li className=\"list-group-item\">\n                    <label htmlFor=\"c_intensidad\">Intensidad</label>\n                    <input\n                      type=\"range\"\n                      name=\"c_intensidad\"\n                      className=\"custom-range custom-range-info\"\n                      id=\"c_intensidad\"\n                      min=\"0\"\n                      max=\"4\"\n                      value={this.props.c_intensidad}\n                      onChange={this.catchInputs}\n                    />\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class InterrogatorioExam extends Component {\n  render() {\n    return (\n      <div className=\"card d-print-none\">\n        <div className=\"card-header\" id=\"headingThree\">\n          <h2 className=\"mb-0\">\n            <button\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\n              type=\"button\"\n              data-toggle=\"collapse\"\n              data-target=\"#collapseThree\"\n              aria-expanded=\"false\"\n              aria-controls=\"collapseThree\"\n            >\n              Interrogatorios\n            </button>\n          </h2>\n        </div>\n        <div\n          id=\"collapseThree\"\n          className=\"collapse\"\n          aria-labelledby=\"headingThree\"\n          data-parent=\"#accordionExample\"\n        >\n          <div className=\"card-body\">\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <label>Interrogatorio inicial</label>\n                <textarea\n                  name=\"interrogatorio\"\n                  className=\"form-control\"\n                  value={this.props.interrogatorio}\n                  onChange={this.catchInputs}\n                ></textarea>\n              </div>\n            </div>\n            <div className=\"row mt-2\">\n              <div className=\"col-12\">\n                <label>Cirugias oculares</label>\n                <textarea\n                  name=\"coa\"\n                  className=\"form-control\"\n                  value={this.props.coa}\n                  onChange={this.catchInputs}\n                ></textarea>\n              </div>\n            </div>\n            <div className=\"row mt-2\">\n              <div className=\"col-12\">\n                <label>Antecedentes oculares patologicas personales</label>\n                <textarea\n                  name=\"aopp\"\n                  className=\"form-control\"\n                  rows=\"2\"\n                  value={this.props.aopp}\n                  onChange={this.catchInputs}\n                ></textarea>\n              </div>\n            </div>\n            <div className=\"row mt-2\">\n              <div className=\"col-12\">\n                <label>Antecedentes oculares patologicas familiares</label>\n                <textarea\n                  name=\"aopf\"\n                  className=\"form-control\"\n                  rows=\"2\"\n                  value={this.props.aopf}\n                  onChange={this.catchInputs}\n                ></textarea>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class KeraRetExam extends Component {\n  render() {\n    return (\n      <div className=\"card d-print-none\">\n        <div className=\"card-header\" id=\"heading\">\n          <h2 className=\"mb-0\">\n            <button\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\n              type=\"button\"\n              data-toggle=\"collapse\"\n              data-target=\"#panel_100\"\n              aria-expanded=\"true\"\n              aria-controls=\"panel_100\"\n            >\n              Keratrometria y Retinoscopia\n            </button>\n          </h2>\n        </div>\n        <div\n          id=\"panel_100\"\n          className=\"collapse\"\n          aria-labelledby=\"headingOne\"\n          data-parent=\"#accordionExample\"\n        >\n          <div className=\"card-body\">\n            <div className=\"row\">\n              <div className=\"col-6\">Keratometria</div>\n              <div className=\"col-6\">Retinoscopia</div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-md-3\">\n                <i className=\"fas fa-eye\"></i> <label>Derecho</label>\n                <input\n                  type=\"text\"\n                  name=\"keratometriaod\"\n                  maxLength=\"12\"\n                  className=\"form-control input-xs\"\n                  value={this.props.keratometriaod}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col-3\">\n                <i className=\"fas fa-eye\"></i> <label>Izquierdo</label>\n                <input\n                  type=\"text\"\n                  name=\"keratometriaoi\"\n                  maxLength=\"12\"\n                  className=\"form-control input-xs\"\n                  value={this.props.keratometriaoi}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col-md-3\">\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n                <input\n                  type=\"text\"\n                  name=\"rsod\"\n                  maxLength=\"16\"\n                  className=\"form-control\"\n                  value={this.props.rsod}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col-md-3\">\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n                <input\n                  type=\"text\"\n                  name=\"rsoi\"\n                  maxLength=\"16\"\n                  className=\"form-control\"\n                  value={this.props.rsoi}\n                  onChange={this.catchInputs}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class DiabetesExam extends Component {\n  render() {\n    return (\n      <div className=\"card d-print-none\">\n        <div className=\"card-header\" id=\"heading4\">\n          <h2 className=\"mb-0\">\n            <button\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\n              type=\"button\"\n              data-toggle=\"collapse\"\n              data-target=\"#caja4\"\n              aria-expanded=\"false\"\n              aria-controls=\"caja4\"\n            >\n              Diabetes\n            </button>\n          </h2>\n        </div>\n        <div\n          id=\"caja4\"\n          className=\"collapse\"\n          aria-labelledby=\"headingThree\"\n          data-parent=\"#accordionExample\"\n        >\n          <div className=\"card-body\">\n            <div className=\"row\">\n              <div className=\"col-md-8\">\n                <label>Diab&eacute;tico</label>\n              </div>\n              <div className=\"col-md-4\">\n                <label>Fotocoagulaci&oacute;n laser</label>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-3\">Fecha</div>\n              <div className=\"col-2\">Rango de glucosa</div>\n              <div className=\"col-3\">Ultimo examen</div>\n              <div className=\"col-2\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    name=\"d_fclod\"\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"d_fclod\"\n                    checked={this.props.d_fclod}\n                    onChange={this.catchInputs}\n                  />\n                  <label className=\"custom-control-label\" htmlFor=\"d_fclod\">\n                    <i className=\"fa fa-eye\"></i> Derecho\n                  </label>\n                </div>\n              </div>\n              <div className=\"col-2\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    name=\"d_fcloi\"\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"d_fcloi\"\n                    checked={this.props.d_fcloi}\n                    onChange={this.catchInputs}\n                  />\n                  <label className=\"custom-control-label\" htmlFor=\"d_fcloi\">\n                    <i className=\"fa fa-eye\"></i> Izquierdo\n                  </label>\n                </div>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-md-3\">\n                <input\n                  type=\"date\"\n                  name=\"d_time\"\n                  className=\"form-control\"\n                  value={this.props.d_time}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col-md-2\">\n                <input\n                  type=\"text\"\n                  name=\"d_media\"\n                  className=\"form-control\"\n                  value={this.props.d_media}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col-md-3\">\n                <input\n                  type=\"date\"\n                  name=\"d_test\"\n                  className=\"form-control\"\n                  value={this.props.d_test}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col-md-2\">\n                <input\n                  type=\"text\"\n                  name=\"d_fclod_time\"\n                  className=\"form-control\"\n                  value={this.props.d_fclod_time}\n                  onChange={this.catchInputs}\n                  readOnly={this.props.d_fclod ? \"\" : \"readonly\"}\n                />\n              </div>\n              <div className=\"col-md-2\">\n                <input\n                  type=\"text\"\n                  name=\"d_fcloi_time\"\n                  className=\"form-control\"\n                  value={this.props.d_fcloi_time}\n                  onChange={this.catchInputs}\n                  readOnly={this.props.d_fcloi ? \"\" : \"readonly\"}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <label>Oftalmoscopia</label>\n                <textarea\n                  name=\"oftalmoscopia\"\n                  className=\"form-control\"\n                  value={this.props.oftalmoscopia}\n                  onChange={this.catchInputs}\n                ></textarea>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class AgudezaExam extends Component {\n  render() {\n    return (\n      <div className=\"card d-print-none\">\n        <div className=\"card-header\" id=\"heading5\">\n          <h2 className=\"mb-0\">\n            <button\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\n              type=\"button\"\n              data-toggle=\"collapse\"\n              data-target=\"#caja5\"\n              aria-expanded=\"false\"\n              aria-controls=\"caja5\"\n            >\n              Capacidad y agudeza visual\n            </button>\n          </h2>\n        </div>\n        <div\n          id=\"caja5\"\n          className=\"collapse\"\n          aria-labelledby=\"headingThree\"\n          data-parent=\"#accordionExample\"\n        >\n          <div className=\"card-body\">\n            <div className=\"row\">\n              <div className=\"col-md-6\">Capacidad visual</div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-3\">\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n                <input\n                  type=\"text\"\n                  name=\"cvod\"\n                  maxLength=\"12\"\n                  className=\"form-control\"\n                  value={this.props.cvod}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col-3\">\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n                <input\n                  type=\"text\"\n                  name=\"cvoi\"\n                  maxLength=\"12\"\n                  className=\"form-control\"\n                  value={this.props.cvoi}\n                  onChange={this.catchInputs}\n                />\n              </div>\n            </div>\n            <div className=\"row mt-2\">\n              <div className=\"col-md-6\">Agudeza visual (Sin lentes)</div>\n              <div className=\"col-md-6\">\n                Agudeza visual (con la graduaci&oacute;n anterior)\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-3\">\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n                <input\n                  type=\"text\"\n                  name=\"avslod\"\n                  maxLength=\"12\"\n                  className=\"form-control\"\n                  value={this.props.avslod}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col-3\">\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n                <input\n                  type=\"text\"\n                  name=\"avsloi\"\n                  maxLength=\"12\"\n                  className=\"form-control\"\n                  value={this.props.avsloi}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col-md-3\">\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n                <input\n                  type=\"text\"\n                  name=\"avcgaod\"\n                  maxLength=\"12\"\n                  className=\"form-control input-xs\"\n                  value={this.props.avcgaod}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col-md-3\">\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n                <input\n                  type=\"text\"\n                  name=\"avcgaoi\"\n                  maxLength=\"12\"\n                  className=\"form-control input-xs\"\n                  value={this.props.avcgaoi}\n                  onChange={this.catchInputs}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-md-6\">Agudeza visual final</div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-md-3\">\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n                <br />\n                <input\n                  type=\"text\"\n                  name=\"avfod\"\n                  maxLength=\"12\"\n                  className=\"form-control\"\n                  value={this.props.avfod}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col-md-3\">\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n                <br />\n                <input\n                  type=\"text\"\n                  name=\"avfoi\"\n                  maxLength=\"12\"\n                  className=\"form-control\"\n                  value={this.props.avfoi}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col-md-4\">\n                <i className=\"fa fa-eye\"></i>\n                <i className=\"fa fa-eye\"></i> <label>Ambos</label>\n                <br />\n                <input\n                  type=\"text\"\n                  name=\"avf2o\"\n                  maxLength=\"25\"\n                  className=\"form-control\"\n                  value={this.props.avf2o}\n                  onChange={this.catchInputs}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class DiagnosticoExam extends Component {\n  render() {\n    return (\n      <div className=\"card d-print-none\">\n        <div className=\"card-header\" id=\"heading6\">\n          <h2 className=\"mb-0\">\n            <button\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\n              type=\"button\"\n              data-toggle=\"collapse\"\n              data-target=\"#caja6\"\n              aria-expanded=\"false\"\n              aria-controls=\"caja6\"\n            >\n              Diagnostico\n            </button>\n          </h2>\n        </div>\n        <div\n          id=\"caja6\"\n          className=\"collapse\"\n          aria-labelledby=\"headingThree\"\n          data-parent=\"#accordionExample\"\n        >\n          <div className=\"card-body\">\n            <div className=\"row\">\n              <div className=\"col-md-6\"></div>\n              <div className=\"col-md-6\">Tensi&oacute;n ocular</div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-md-3\">\n                Diagnostico\n                <select\n                  name=\"diagnostico\"\n                  className=\"form-control\"\n                  value={this.props.diagnostico}\n                  onChange={this.catchInputs}\n                >\n                  <option value=\"Emetrope\">Em&eacute;trope</option>\n                  <option value=\"hipermetropia\">Hipermetrop&iacute;a</option>\n                  <option value=\"hipermetropia-astigmatismo\">\n                    Hipermetrop&iacute;a y astigmatismo\n                  </option>\n                  <option value=\"hipermetropia-miopia\">\n                    Hipermetrop&iacute;a y miop&iacute;a\n                  </option>\n                  <option value=\"astigmatismo-regla\">\n                    Astigmatismo con la regla\n                  </option>\n                  <option value=\"astigmatismo-contra-regla\">\n                    Astigmatismo contra la regla\n                  </option>\n                  <option value=\"astigmatismo-oblicuo\">\n                    Astigmatismo oblicuo\n                  </option>\n                  <option value=\"astigmatismo-miopia\">\n                    Astigmatismo/m&iacute;opico\n                  </option>\n                  <option value=\"miopia\">Miop&iacute;a</option>\n                </select>\n              </div>\n              <div className=\"col-md-3\">\n                <div className=\"custom-control custom-switch\">\n                  <input\n                    name=\"presbicie\"\n                    type=\"checkbox\"\n                    className=\"custom-control-input\"\n                    id=\"presbicie\"\n                    checked={this.props.presbicie}\n                    onChange={this.catchInputs}\n                  />\n                  <label className=\"custom-control-label\" htmlFor=\"presbicie\">\n                    Presbicie\n                  </label>\n                </div>\n              </div>\n              <div className=\"col-md-3\">\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n                <input\n                  type=\"number\"\n                  name=\"piod\"\n                  min=\"0\"\n                  max=\"40\"\n                  step=\"1\"\n                  className=\"form-control\"\n                  value={this.props.piod}\n                  onChange={this.catchInputs}\n                />\n              </div>\n              <div className=\"col-md-3\">\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n                <input\n                  type=\"number\"\n                  name=\"pioi\"\n                  min=\"0\"\n                  max=\"40\"\n                  step=\"1\"\n                  className=\"form-control\"\n                  value={this.props.pioi}\n                  onChange={this.catchInputs}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <label>Tratamiento oftalmico</label>\n                <textarea\n                  name=\"txoftalmico\"\n                  className=\"form-control\"\n                  value={this.props.txoftalmico}\n                  onChange={this.catchInputs}\n                ></textarea>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class ObservacionesExam extends Component {\n  render() {\n    return (\n      <div className=\"card d-print-none\">\n        <div className=\"card-header\" id=\"heading8\">\n          <h2 className=\"mb-0\">\n            <button\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\n              type=\"button\"\n              data-toggle=\"collapse\"\n              data-target=\"#caja8\"\n              aria-expanded=\"false\"\n              aria-controls=\"caja8\"\n            >\n              Observaciones\n            </button>\n          </h2>\n        </div>\n        <div\n          id=\"caja8\"\n          className=\"collapse\"\n          aria-labelledby=\"headingThree\"\n          data-parent=\"#accordionExample\"\n        >\n          <div className=\"card-body\">\n            <textarea\n              name=\"observaciones\"\n              className=\"form-control\"\n              value={this.props.observaciones}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\n\nexport default class messenger extends Component {\n  constructor(props) {\n    super(props);\n    //Variables en localStorage\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      messages: [],\n      message: \"\",\n      load: true,\n      host: ls.host,\n      token: ls.token,\n      user: ls.idUser,\n    };\n  }\n  componentDidMount() {\n    this.getMessengers();\n  }\n  componentDidUpdate(props, state) {\n    if (props.pagado !== this.props.pagado) {\n      console.log(\"Recargando chat\");\n      this.getMessengers();\n    }\n  }\n\n  render() {\n    const { messages, load, message, user } = this.state,\n      { idRow } = this.props;\n\n    return (\n      <div className=\"card direct-chat direct-chat-primary d-print-none\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-comments mr-1\"></i>\n            Chat\n            <span className=\"badge badge-pill badge-secondary ml-1\">\n              {idRow}\n            </span>\n          </h3>\n        </div>\n\n        {load ? (\n          <div className=\"card-body\">\n            <div className=\"card-text text-center p-4\">\n              <div className=\"spinner-border text-primary\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n          </div>\n        ) : messages.length ? (\n          <React.Fragment>\n            <div className=\"card-body\">\n              <div className=\"direct-chat-messages\" id=\"boxchat\">\n                {messages.map((message) => {\n                  let avatar = \"/img/avatars/avatar5.png\";\n\n                  if (message.created_user.rol === 1)\n                    avatar = \"/img/avatars/avatar2.png\";\n                  if (!message.created_user.rol)\n                    avatar = \"/img/avatars/avatar3.png\";\n                  if (message.created_user.id === 2)\n                    avatar = \"/img/avatars/avatar4.png\";\n                  return (\n                    <div\n                      className={\n                        message.created_user.id === user\n                          ? \"direct-chat-msg right\"\n                          : \"direct-chat-msg\"\n                      }\n                      key={message.id}\n                    >\n                      <div className=\"direct-chat-infos clearfix\">\n                        <span\n                          className={\n                            message.created_user.id === user\n                              ? \"direct-chat-name float-right\"\n                              : \"direct-chat-name float-left\"\n                          }\n                        >\n                          {message.created_user.name}\n                        </span>\n                        <span\n                          className={\n                            message.created_user.id === user\n                              ? \"direct-chat-timestamp float-left\"\n                              : \"direct-chat-timestamp float-right\"\n                          }\n                        >\n                          {moment(message.updated_at).format(\"lll\")}\n                        </span>\n                      </div>\n                      <img\n                        className=\"direct-chat-img\"\n                        src={\n                          message.created_user.id === 1\n                            ? \"/img/avatars/OrusBot.png\"\n                            : avatar\n                        }\n                        alt=\"message user image1\"\n                      />\n                      <div className=\"direct-chat-text\">{message.mensaje}</div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </React.Fragment>\n        ) : (\n          <div className=\"card-body\">\n            <div className=\"card-text text-center p-4\">\n              <h5>\n                <i className=\"fas fa-comment-slash mr-1\"></i>\n                No hay mensajes aun\n              </h5>\n            </div>\n          </div>\n        )}\n\n        <div className=\"card-footer\">\n          <div className=\"input-group\">\n            <input\n              type=\"text\"\n              name=\"message\"\n              placeholder=\"Escriba un mensaje ...\"\n              className=\"form-control\"\n              value={message}\n              onChange={this.handleMessege}\n            />\n            <span className=\"input-group-append\">\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={this.sendMessenger}\n                disabled={message.length > 5 ? false : true}\n              >\n                Enviar\n              </button>\n            </span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  handleMessege = (e) => {\n    let { value, name } = e.target;\n    this.setState({\n      [name]: value.toLowerCase(),\n    });\n  };\n  sendMessenger = () => {\n    const { message, load, host, token } = this.state,\n      { table, idRow } = this.props,\n      url = \"http://\" + host + \"/api/messengers\",\n      body = {\n        table,\n        idRow,\n        user: \"\",\n        message,\n      };\n\n    //Mandamos señal de procesamiento\n    if (!load) {\n      this.setState({\n        load: true,\n      });\n    }\n    console.log(\"Enviando mensajes a la API\");\n    //Realiza la peticion de los contactos\n    fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(body),\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((res) => {\n        if (!res.ok) {\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\n        }\n        return res.json();\n      })\n      .then((data) => {\n        if (data.data) {\n          console.log(\"Almacenado mensajes\");\n          this.getMessengers();\n        } else {\n          console.error(data.message);\n          this.setState({\n            load: false,\n          });\n        }\n      })\n      .catch((e) => {\n        console.error(e);\n        window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\n        this.setState({\n          load: false,\n        });\n      });\n  };\n  getMessengers = () => {\n    //Variables en localStorage\n    const { load, host, token } = this.state,\n      { table, idRow } = this.props,\n      url = \"http://\" + host + \"/api/messengers\",\n      type = \"&table=\" + table + \"&idRow=\" + idRow,\n      page = \"?page=1\";\n\n    //Mandamos señal de procesamiento\n    if (!load) {\n      this.setState({\n        load: true,\n      });\n    }\n    console.log(\"Solicitando mensajes de la API\");\n    //Realiza la peticion de los contactos\n    fetch(url + page + type, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((res) => {\n        if (!res.ok) {\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\n        }\n        return res.json();\n      })\n      .then((data) => {\n        if (data.data) {\n          console.log(\"Almacenado mensajes\");\n          this.setState({\n            messages: data.data,\n            message: \"\",\n            load: false,\n          });\n        } else {\n          console.error(data.message);\n          this.setState({\n            load: false,\n          });\n        }\n      })\n      .catch((e) => {\n        console.error(e);\n        window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\n        this.setState({\n          load: false,\n        });\n      });\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class contactDataVertical extends Component {\n  render() {\n    const contact = JSON.parse(localStorage.getItem(\"OrusContactInUse\"));\n    console.log(\"[Contact][Datavertical] Recogiendo valores de localStorage\");\n    return (\n      <div className=\"col\">\n        <label>Nombre de paciente: </label>\n        <h3 className=\"ml-2 text-capitalize\">\n          <i className=\"fas fa-user\"></i> {contact.nombre}\n        </h3>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport Graduacion from \"./graduacionExam\";\nimport Contacto from \"../Contacts/contactDataVertical\";\n\nexport default class printExam extends Component {\n  render() {\n    const {\n      esferaod,\n      esferaoi,\n      cilindrod,\n      cilindroi,\n      ejeod,\n      ejeoi,\n      adiciond,\n      adicioni,\n      adicion_media_od,\n      adicion_media_oi,\n      dpod,\n      dpoi,\n      alturaod,\n      alturaoi,\n      diagnostico,\n      presbicie,\n    } = this.props;\n    return (\n      <div className=\"card d-none d-print-block\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <h4>\n              Optica Madero\n              <br />\n              <small>312 312 5353</small>\n            </h4>\n          </div>\n          <div className=\"col-3 text-right\">{moment().format(\"LLL\")}</div>\n        </div>\n        <div className=\"row pt-4\">\n          <Contacto />\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <label className=\"mr-2\">Diagnostico:</label>\n            {diagnostico}\n          </div>\n          <div className=\"col-4\">\n            <label className=\"mr-2\">presbicie:</label>\n            {presbicie ? \"SI\" : \"NO\"}\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <Graduacion\n              esferaod={esferaod}\n              esferaoi={esferaoi}\n              cilindrod={cilindrod}\n              cilindroi={cilindroi}\n              ejeod={ejeod}\n              ejeoi={ejeoi}\n              adiciond={adiciond}\n              adicioni={adicioni}\n              adicion_media_od={adicion_media_od}\n              adicion_media_oi={adicion_media_oi}\n              dpod={dpod}\n              dpoi={dpoi}\n              alturaod={alturaod}\n              alturaoi={alturaoi}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <p className=\"card-text text-center mt-4 pt-4\">\n              <h4>Julio Cárdenas Martinez</h4>\n              Optometrista contactologo\n              <br />\n              UAG\n              <br />\n              CED PROF. 2413419\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport SearchContact from \"../Contacts/searchContactCard\";\nimport Recomendaciones from \"./recomendaciones\";\nimport Generales from \"./generalesExam\";\nimport Interrogatorios from \"./interrogatoriosExam\";\nimport KeraRet from \"./keraRetExam\";\nimport Diabetes from \"./diabetesExam\";\nimport Agudeza from \"./agudezaExam\";\nimport Diagnostico from \"./diagnosticoExam\";\nimport Graduacion from \"./graduacionExam\";\nimport Observaciones from \"./observacionesExam\";\nimport Chat from \"../Layouts/messenger\";\nimport PrintExam from \"./print_exam\";\n\nexport default class ExamAdd extends Component {\n  constructor(props) {\n    super(props);\n    const contact = JSON.parse(localStorage.getItem(\"OrusContactInUse\"));\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    console.log(\n      \"[Order] Contacto en uso: \",\n      contact && contact.id ? \"Si\" : \"No\"\n    );\n    this.state = {\n      id: 0,\n      edad: 0,\n      keratometriaoi: \"\",\n      keratometriaod: \"\",\n      pantalleooi: \"\",\n      pantalleood: \"\",\n      interrogatorio: \"\",\n      cefalea: false,\n      c_frecuencia: \"\",\n      c_intensidad: 0,\n      frontal: false,\n      temporal: false,\n      occipital: false,\n      generality: false,\n      temporaoi: false,\n      temporaod: false,\n      coa: \"\",\n      aopp: \"\",\n      aopf: \"\",\n      avsloi: \"\",\n      avslod: \"\",\n      avcgaoi: \"\",\n      avcgaod: \"\",\n      cvoi: \"\",\n      cvod: \"\",\n      oftalmoscopia: \"\",\n      rsoi: \"\",\n      rsod: \"\",\n      diagnostico: \"Hemetrope\",\n      presbicie: true,\n      txoftalmico: \"\",\n      esferaoi: 0,\n      esferaod: 0,\n      cilindroi: 0,\n      cilindrod: 0,\n      ejeoi: 0,\n      ejeod: 0,\n      adicioni: 0,\n      adiciond: 0,\n      adicion_media_od: 0,\n      adicion_media_oi: 0,\n      dpoi: 0,\n      dpod: 0,\n      avfoi: \"\",\n      avfod: \"\",\n      avf2o: \"\",\n      lcmarca: \"\",\n      lcgoi: \"\",\n      lcgod: \"\",\n      txoptico: \"\",\n      alturaoi: 0,\n      alturaod: 0,\n      pioi: 0,\n      piod: 0,\n      observaciones: \"\",\n      pc: false,\n      tablet: false,\n      movil: false,\n      lap: false,\n      lap_time: \"00:00\",\n      pc_time: \"00:00\",\n      tablet_time: \"00:00\",\n      movil_time: \"00:00\",\n      d_time: \"00:00\",\n      d_media: \"\",\n      d_test: \"\",\n      d_fclod: false,\n      d_fcloi: false,\n      d_fclod_time: \"00:00\",\n      d_fcloi_time: \"00:00\",\n      category_id: 0,\n      category_ii: 0,\n      item1: 0,\n      item2: 0,\n      contact_id: contact && contact.id ? contact.id : 0,\n      order_id: 0,\n      status: 0,\n      created_at: \"\",\n      load: false,\n      host: ls.host,\n      token: ls.token,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    //Variables\n    let id = this.props.match.params.id;\n    if (id) {\n      this.getExam(id);\n    }\n  }\n\n  render() {\n    const {\n        contact_id,\n        id,\n        order_id,\n        edad,\n        status,\n        created_at,\n        category_id,\n        category_ii,\n        cilindrod,\n        cilindroi,\n        esferaod,\n        esferaoi,\n        ejeod,\n        ejeoi,\n        adiciond,\n        adicioni,\n        adicion_media_od,\n        adicion_media_oi,\n        dpod,\n        dpoi,\n        alturaod,\n        alturaoi,\n        lcmarca,\n        lcgod,\n        lcgoi,\n        diagnostico,\n        presbicie,\n      } = this.state,\n      { data } = this.props,\n      hoy = moment(Date.now()),\n      registro = moment(created_at),\n      toDay = moment(hoy).isSame(registro, \"day\");\n\n    return (\n      <React.Fragment>\n        <form className=\"row\">\n          <div className=\"col-3 d-print-none\">\n            <SearchContact\n              contact={contact_id}\n              edad={edad}\n              status={status || id ? !toDay : true || order_id ? false : true}\n              getIdContact={this.getIdContact}\n              changePage={this.changePage}\n            />\n            {contact_id && order_id ? (\n              <Chat data={data} table=\"orders\" idRow={order_id} />\n            ) : null}\n          </div>\n          <div className=\"col\">\n            <PrintExam\n              esferaod={esferaod}\n              esferaoi={esferaoi}\n              cilindrod={cilindrod}\n              cilindroi={cilindroi}\n              ejeod={ejeod}\n              ejeoi={ejeoi}\n              adiciond={adiciond}\n              adicioni={adicioni}\n              adicion_media_od={adicion_media_od}\n              adicion_media_oi={adicion_media_oi}\n              dpod={dpod}\n              dpoi={dpoi}\n              alturaod={alturaod}\n              alturaoi={alturaoi}\n              lcmarca={lcmarca}\n              lcgod={lcgod}\n              lcgoi={lcgoi}\n              diagnostico={diagnostico}\n              presbicie={presbicie}\n            />\n            <div className=\"card card-info card-outline d-print-none\">\n              <div className=\"card-header\">\n                <h3 className=\"card-title\">\n                  <i className=\"fas fa-notes-medical mr-1\"></i>\n                  {this.state.id ? \"Examen\" : \"Nuevo examen\"}\n                </h3>\n              </div>\n              <div className=\"card-body\">\n                <div className=\"accordion\" id=\"accordionExample\">\n                  {contact_id ? (\n                    <React.Fragment>\n                      <Generales\n                        pc={this.state.pc}\n                        tablet={this.state.tablet}\n                        movil={this.state.movil}\n                        lap={this.state.lap}\n                        lap_time={this.state.lap_time}\n                        pc_time={this.state.pc_time}\n                        tablet_time={this.state.tablet_time}\n                        movil_time={this.state.movil_time}\n                        cefalea={this.state.cefalea}\n                        c_frecuencia={this.state.c_frecuencia}\n                        c_intensidad={this.state.c_intensidad}\n                        frontal={this.state.frontal}\n                        temporal={this.state.temporal}\n                        occipital={this.state.occipital}\n                        generality={this.state.generality}\n                        temporaoi={this.state.temporaoi}\n                        temporaod={this.state.temporaod}\n                        onChangeInput={this.handleChangeInput}\n                      />\n\n                      <Interrogatorios\n                        interrogatorio={this.state.interrogatorio}\n                        coa={this.state.coa}\n                        aopp={this.state.aopp}\n                        aopf={this.state.aopf}\n                        onChangeInput={this.handleChangeInput}\n                      />\n\n                      <KeraRet\n                        keratometriaoi={this.state.keratometriaoi}\n                        keratometriaod={this.state.keratometriaod}\n                        rsoi={this.state.rsoi}\n                        rsod={this.state.rsod}\n                        onChangeInput={this.handleChangeInput}\n                      />\n\n                      <Diabetes\n                        d_time={this.state.d_time}\n                        d_media={this.state.d_media}\n                        d_test={this.state.d_test}\n                        d_fclod={this.state.d_fclod}\n                        d_fclod_time={this.state.d_fclod_time}\n                        d_fcloi={this.state.d_fcloi}\n                        d_fcloi_time={this.state.d_fcloi_time}\n                        oftalmoscopia={this.state.oftalmoscopia}\n                        onChangeInput={this.handleChangeInput}\n                      />\n\n                      <Agudeza\n                        cvod={this.state.cvod}\n                        cvoi={this.state.cvoi}\n                        avslod={this.state.avslod}\n                        avsloi={this.state.avsloi}\n                        avcgaod={this.state.avcgaod}\n                        avcgaoi={this.state.avcgaoi}\n                        avfod={this.state.avfod}\n                        avfoi={this.state.avfoi}\n                        avf2o={this.state.avf2o}\n                        onChangeInput={this.handleChangeInput}\n                      />\n\n                      <Diagnostico\n                        diagnostico={this.state.diagnostico}\n                        presbicie={this.state.presbicie}\n                        piod={this.state.piod}\n                        pioi={this.state.pioi}\n                        txoftalmico={this.state.txoftalmico}\n                        onChangeInput={this.handleChangeInput}\n                      />\n\n                      <div className=\"card\">\n                        <div className=\"card-header d-print-none\" id=\"heading7\">\n                          <h2 className=\"mb-0\">\n                            <button\n                              className=\"btn btn-link btn-block text-left text-info collapsed\"\n                              type=\"button\"\n                              data-toggle=\"collapse\"\n                              data-target=\"#caja7\"\n                              aria-expanded=\"false\"\n                              aria-controls=\"caja7\"\n                            >\n                              Graduaci&oacute;n\n                            </button>\n                          </h2>\n                        </div>\n                        <div\n                          id=\"caja7\"\n                          className=\"collapse\"\n                          aria-labelledby=\"headingThree\"\n                          data-parent=\"#accordionExample\"\n                        >\n                          <div className=\"card-body p-1\">\n                            <div className=\"d-none d-print-block mb-2\">\n                              <div className=\"row border\">\n                                <div className=\"col-3\">\n                                  <label>Diagnostico</label>\n                                </div>\n                                <div className=\"col\">\n                                  <p className=\"card-text\">\n                                    {this.state.diagnostico}\n                                  </p>\n                                </div>\n                              </div>\n                            </div>\n                            <Graduacion\n                              esferaod={esferaod}\n                              esferaoi={esferaoi}\n                              cilindrod={cilindrod}\n                              cilindroi={cilindroi}\n                              ejeod={ejeod}\n                              ejeoi={ejeoi}\n                              adiciond={adiciond}\n                              adicioni={adicioni}\n                              adicion_media_od={adicion_media_od}\n                              adicion_media_oi={adicion_media_oi}\n                              dpod={dpod}\n                              dpoi={dpoi}\n                              alturaod={alturaod}\n                              alturaoi={alturaoi}\n                              lcmarca={lcmarca}\n                              lcgod={lcgod}\n                              lcgoi={lcgoi}\n                              onChangeInput={this.handleChangeInput}\n                            />\n                          </div>\n                        </div>\n                      </div>\n\n                      <Observaciones\n                        observaciones={this.state.observaciones}\n                        onChangeInput={this.handleChangeInput}\n                      />\n\n                      <div className=\"card\">\n                        <div className=\"card-header d-print-none\" id=\"heading9\">\n                          <h2 className=\"mb-0\">\n                            <button\n                              className=\"btn btn-link btn-block text-left text-info collapsed\"\n                              type=\"button\"\n                              data-toggle=\"collapse\"\n                              data-target=\"#caja9\"\n                              aria-expanded=\"false\"\n                              aria-controls=\"caja9\"\n                            >\n                              Recomendaciones\n                            </button>\n                          </h2>\n                        </div>\n                        <div id=\"caja9\" className=\"collapse p-2\">\n                          <div className=\"row\">\n                            <div className=\"col\">\n                              <Recomendaciones\n                                category_id={parseInt(category_id)}\n                                esferaod={esferaod}\n                                esferaoi={esferaoi}\n                                cilindrod={cilindrod}\n                                cilindroi={cilindroi}\n                                nameCategory=\"category_id\"\n                                nameItem=\"item1\"\n                                title=\"Recomendacion principal\"\n                                data={data}\n                                onChangeInput={(obj) => {\n                                  if (typeof obj === \"object\") {\n                                    this.setState(obj);\n                                  }\n                                }}\n                                update={true}\n                              />\n                            </div>\n                            {category_id ? (\n                              <div className=\"col\">\n                                <Recomendaciones\n                                  category_id={parseInt(category_ii)}\n                                  esferaod={esferaod}\n                                  esferaoi={esferaoi}\n                                  cilindrod={cilindrod}\n                                  cilindroi={cilindroi}\n                                  nameCategory=\"category_ii\"\n                                  nameItem=\"item2\"\n                                  title=\"Recomendacion adicional\"\n                                  data={data}\n                                  onChangeInput={(obj) => {\n                                    if (typeof obj === \"object\") {\n                                      this.setState(obj);\n                                    }\n                                  }}\n                                  update={true}\n                                />\n                              </div>\n                            ) : null}\n                          </div>\n                        </div>\n                      </div>\n                    </React.Fragment>\n                  ) : (\n                    <div className=\"card\">\n                      <div className=\"card-body text-info\">\n                        <i className=\"fas fa-exclamation-triangle mr-2\"></i>\n                        <label>Elija primero un paciente</label>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n              <div className=\"card-footer text-right\">\n                <div className=\"btn-group d-print-none\" role=\"group\">\n                  <Link\n                    to=\"/consultorio\"\n                    className=\"btn btn-dark\"\n                    onClick={(e) => {\n                      console.log(\n                        \"[Exams] Eliminando usuario en uso de localStorage\"\n                      );\n                      localStorage.setItem(\n                        \"OrusContactInUse\",\n                        JSON.stringify({})\n                      );\n                      this.changePage(\"/consultorio\");\n                    }}\n                  >\n                    <i\n                      className={\n                        id ? \"fas fa-arrow-left mr-2\" : \"fas fa-ban mr-2\"\n                      }\n                    ></i>\n                    <strong>{id ? \"Regresar\" : \"Cancelar\"}</strong>\n                  </Link>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-dark\"\n                    onClick={this.handleStatus}\n                  >\n                    <i\n                      className={\n                        this.state.status\n                          ? \"fas fa-lock-open mr-1\"\n                          : \"fas fa-lock mr-1\"\n                      }\n                    ></i>\n                    <strong>\n                      {this.state.status ? \"Activar\" : \"Terminar\"}\n                    </strong>\n                  </button>\n                  <button\n                    className=\"btn btn-dark\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      window.print();\n                    }}\n                  >\n                    <i className=\"fas fa-print mr-2\"></i>\n                    Imprimir\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={\n                      contact_id ? \"btn btn-info\" : \"btn btn-info disabled\"\n                    }\n                    onClick={this.handleSave}\n                    disabled={contact_id ? \"\" : \"disabled\"}\n                  >\n                    <i className=\"fas fa-save mr-1\"></i>\n                    <strong>Guardar</strong>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n      </React.Fragment>\n    );\n  }\n\n  handleChangeInput = (key, value) => {\n    this.setState({\n      [key]: value,\n    });\n  };\n  handleStatus = () => {\n    this.setState({\n      status: !this.state.status,\n    });\n  };\n  getIdContact = (id, edad) => {\n    this.setState({\n      contact_id: id,\n      edad,\n    });\n  };\n  changePage = (e) => {\n    this.props.page(e);\n  };\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.setState({\n      [name]: value,\n    });\n  };\n  handleSave = (e) => {\n    e.preventDefault();\n    let { host, token, id, cilindrod, cilindroi, ejeod, ejeoi } = this.state;\n\n    //Verificar si los datos son validos.\n    if ((cilindrod < 0 && !ejeod) || (cilindroi < 0 && !ejeoi)) {\n      window.Swal.fire(\"Verificación\", \"El campo CILINDRO esta vacio\", \"error\");\n      return false;\n    }\n\n    //Confirmación de almacenamiento\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: id\n        ? \"¿Esta seguro de actualizar el examen?\"\n        : \"¿Esta seguro de crear un nuevo examen?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          //Variables\n          let body = this.state,\n            //Identificamos la URL y el metodo segun sea el caso (Actualizar o agregar)\n            url = id\n              ? \"http://\" + host + \"/api/exams/\" + id\n              : \"http://\" + host + \"/api/exams\",\n            method = id ? \"PUT\" : \"POST\";\n          if (!body.category_id) delete body.category_id;\n          if (!body.category_ii) delete body.category_ii;\n\n          //Crear o modificar examen\n          console.log(\"Enviando datos del examen a la API\");\n          return fetch(url, {\n            method: method,\n            signal: this.signal,\n            body: JSON.stringify(body),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then((response) => {\n              if (!response.ok) {\n                throw new Error(response.statusText);\n              }\n              return response.json();\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch: \", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n        if (data.data) {\n          console.log(\"[Exams] Examen almacenado correctamente\");\n          window.Swal.fire({\n            icon: \"success\",\n            title: id\n              ? \"Examen actualizado con exito\"\n              : \"Examen almacenado con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          }).then((res) => this.props.history.goBack());\n          console.log(\"[Exams] Eliminando usuario en uso de localStorage\");\n          localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar el examen\", \"error\");\n          console.error(\"[Exams] Error al almacenar datos de examen\", data);\n        }\n      }\n    });\n  };\n  getExam = (id) => {\n    if (id) {\n      //Variables\n      let { host, token, load } = this.state;\n\n      //Mandamos señal de carga si no lo he hecho\n      if (!load) {\n        this.setState({\n          load: true,\n        });\n      }\n      //Realiza la peticion del examen por el id\n      console.log(\"Descargando datos del examen\");\n      fetch(\"http://\" + host + \"/api/exams/\" + id, {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(response.statusText);\n          }\n          return response.json();\n        })\n        .then((data) => {\n          if (data.data) {\n            console.log(\"Mostrando examenes\");\n            this.setState({\n              contact_id: data.data.paciente.id,\n              edad: data.data.edad,\n              id: data.data.id,\n              keratometriaoi: data.data.keratometriaoi,\n              keratometriaod: data.data.keratometriaod,\n              pantalleooi: data.data.pantalleooi,\n              pantalleood: data.data.pantalleood,\n              interrogatorio: data.data.interrogatorio,\n              cefalea: data.data.cefalea,\n              c_frecuencia: data.data.c_frecuencia,\n              c_intensidad: data.data.c_intensidad,\n              frontal: data.data.frontal,\n              temporal: data.data.temporal,\n              occipital: data.data.occipital,\n              generality: data.data.generality,\n              temporaoi: data.data.temporaoi,\n              temporaod: data.data.temporaod,\n              coa: data.data.coa,\n              aopp: data.data.aopp,\n              aopf: data.data.aopf,\n              avsloi: data.data.avsloi,\n              avslod: data.data.avslod,\n              avcgaoi: data.data.avcgaoi,\n              avcgaod: data.data.avcgaod,\n              cvoi: data.data.cvoi,\n              cvod: data.data.cvod,\n              oftalmoscopia: data.data.oftalmoscopia,\n              rsoi: data.data.rsoi,\n              rsod: data.data.rsod,\n              diagnostico: data.data.diagnostico,\n              presbicie: data.data.presbicie,\n              txoftalmico: data.data.txoftalmico,\n              esferaoi: data.data.esferaoi,\n              esferaod: data.data.esferaod,\n              cilindroi: data.data.cilindroi,\n              cilindrod: data.data.cilindrod,\n              ejeoi: data.data.ejeoi,\n              ejeod: data.data.ejeod,\n              adicioni: data.data.adicioni,\n              adiciond: data.data.adiciond,\n              adicion_media_od: data.data.adicion_media_od,\n              adicion_media_oi: data.data.adicion_media_oi,\n              dpoi: data.data.dpoi,\n              dpod: data.data.dpod,\n              avfoi: data.data.avfoi,\n              avfod: data.data.avfod,\n              avf2o: data.data.avf2o,\n              lcmarca: data.data.lcmarca,\n              lcgoi: data.data.lcgoi,\n              lcgod: data.data.lcgod,\n              txoptico: data.data.txoptico,\n              alturaoi: data.data.alturaoi,\n              alturaod: data.data.alturaod,\n              pioi: data.data.pioi,\n              piod: data.data.piod,\n              observaciones: data.data.observaciones,\n              pc: data.data.pc,\n              tablet: data.data.tablet,\n              movil: data.data.movil,\n              lap: data.data.lap,\n              lap_time: data.data.lap_time,\n              pc_time: data.data.pc_time,\n              tablet_time: data.data.tablet_time,\n              movil_time: data.data.movil_time,\n              d_time: data.data.d_time,\n              d_media: data.data.d_media,\n              d_test: data.data.d_test,\n              d_fclod: data.data.d_fclod,\n              d_fcloi: data.data.d_fcloi,\n              d_fclod_time: data.data.d_fclod_time,\n              d_fcloi_time: data.data.d_fcloi_time,\n              category_id: data.data.category_id ? data.data.category_id : 0,\n              category_ii: data.data.category_ii ? data.data.category_ii : 0,\n              item1: data.data.item1,\n              item2: data.data.item2,\n              order_id: data.data.order_id ? data.data.order_id : 0,\n              status: data.data.estado,\n              created_at: data.data.created_at,\n            });\n          } else {\n            console.error(\"Orus: \", data.message);\n            window.Swal.fire(\"Error\", \"Al descargar el examen\", \"error\");\n            this.setState({\n              load: false,\n            });\n          }\n        })\n        .catch((e) => {\n          console.error(e);\n          window.Swal.fire(\n            \"Fallo de conexion\",\n            \"Verifique la conexion al servidor\",\n            \"error\"\n          );\n          this.setState({\n            load: false,\n          });\n        });\n    }\n  };\n}\n","import React from \"react\";\n\nconst StatusToString = ({ status }) => {\n  switch (status) {\n    case 0:\n      return <span className=\"text-warning text-uppercase\">En proceso</span>;\n    case 1:\n      return <span className=\"text-info text-uppercase\">En laboratorio</span>;\n    case 2:\n      return <span className=\"text-primary text-uppercase\">Bicelación</span>;\n    case 3:\n      return <span className=\"text-success text-uppercase\">Terminado</span>;\n    case 4:\n      return <span className=\"text-info text-uppercase\">Entregado</span>;\n    default:\n      return <span className=\"text-secondary text-uppercase\">Garantia</span>;\n  }\n};\n\nexport default StatusToString;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport StatusToString from \"./status_span\";\n\nconst listInbox = ({\n  pedidos,\n  editId,\n  handleDeleteOrder: _handleDeleteOrder,\n  handleSelectOrder: _handleSelectOrder,\n}) => {\n  return (\n    <table className=\"table table-hover table-striped\">\n      <tbody>\n        {pedidos.length ? (\n          pedidos.map((pedido) => {\n            return (\n              <tr\n                key={pedido.id}\n                className={\n                  editId.length && editId.indexOf(pedido.id) >= 0\n                    ? \"table-dark\"\n                    : \"\"\n                }\n              >\n                <td>\n                  <div className=\"icheck-primary\">\n                    {!pedido.nota ? (\n                      <button\n                        className=\"btn btn-default btn-sm\"\n                        onClick={(e) => {\n                          e.preventDefault();\n                          _handleDeleteOrder(pedido.id);\n                        }}\n                      >\n                        <i className=\"fas fa-trash\"></i>\n                      </button>\n                    ) : null}\n                  </div>\n                </td>\n                <td className=\"mailbox-name\" style={{ cursor: \"pointer\" }}>\n                  <a\n                    href=\"#edit\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      _handleSelectOrder(pedido.id);\n                    }}\n                  >\n                    <div className=\"w-100\">\n                      <span className=\"badge badge-warning\">{pedido.id}</span>\n                    </div>\n                    <label\n                      className=\"p-1 text-dark text-capitalize\"\n                      style={{ cursor: \"pointer\" }}\n                    >\n                      {pedido.paciente.nombre}\n                      <i className=\"ml-1 fas fa-pencil-alt text-secondary\"></i>\n                    </label>\n                  </a>\n                </td>\n                <td className=\"mailbox-subject text-uppercase\">\n                  <StatusToString status={pedido.estado} />\n                  <br />\n                  {pedido.estado === 1 ? (\n                    <div>\n                      <span className=\"mr-1 text-dark\">\n                        {pedido.laboratorio\n                          ? pedido.laboratorio.nombre\n                          : \"Sin asignar\"}\n                      </span>\n                      {pedido.laboratorio ? \"/ \" + pedido.folio_lab : \"\"}\n                    </div>\n                  ) : pedido.estado === 2 ? (\n                    <small>\n                      {pedido.caja\n                        ? \"CAJA: \" + pedido.caja\n                        : \"Caja no asignada\"}\n                    </small>\n                  ) : !pedido.estado ? (\n                    <small>\n                      {pedido.examen\n                        ? pedido.examen.estado === \"Terminado\"\n                          ? \"Examen completado\"\n                          : \"Examen no realizado\"\n                        : \"Examen no asignado\"}\n                    </small>\n                  ) : pedido.estado >= 3 ? (\n                    <small>Perdido terminado</small>\n                  ) : (\n                    \"--\"\n                  )}\n                </td>\n                <td className=\"mailbox-attachment\">\n                  <label className=\"w-100 m-0 p-0\">Nota: </label>\n                  {pedido.nota ? (\n                    <Link to={\"/notas/registro/\" + pedido.nota.id}>\n                      <span className=\"badge badge-success\">\n                        {pedido.nota.id}\n                      </span>\n                    </Link>\n                  ) : (\n                    \"--\"\n                  )}\n                </td>\n                <td className=\"mailbox-date\">\n                  <label>Registrado:</label>\n                  <br />\n                  {moment(pedido.created_at).format(\"ll\")}\n                </td>\n              </tr>\n            );\n          })\n        ) : (\n          <tr>\n            <th colSpan=\"10\" className=\"text-center\">\n              No hay datos para mostrar\n            </th>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n};\n\nexport default listInbox;\n","import React, { Component } from \"react\";\nimport Pagination from \"../Layouts/pagination\";\nimport InboxList from \"./inbox_list\";\n\nclass inboxOrderComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      search: \"\",\n    };\n\n    this.timeSearch = null;\n  }\n\n  componentDidUpdate(props, state) {\n    const { search } = this.state;\n\n    if (state.search !== search && search.length > 3) {\n      if (this.timeSearch) clearTimeout(this.timeSearch);\n      this.timeSearch = setTimeout(() => {\n        this.handleSearchOrder();\n      }, 1000);\n    }\n  }\n\n  render() {\n    const {\n        editId,\n        orders: pedidos = [],\n        meta = {},\n        loading: LOADING,\n        handlePageOrder: _handlePageOrder,\n        handleDeleteOrder: _handleDeleteOrder,\n        handleSelectOrder: _handleSelectOrder,\n      } = this.props,\n      { search } = this.state;\n\n    return (\n      <div className=\"card card-warning card-outline\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">\n            <i className=\"mr-1 fas fa-clipboard-list\"></i>\n            Listado de pedidos\n          </h3>\n          <div className=\"card-tools\">\n            <div className=\"input-group input-group-sm position-relative\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Buscar pedido\"\n                value={search}\n                onChange={this.handleChangeSearchInput}\n                onKeyPress={(e) => {\n                  const { key } = e;\n                  if (key === \"Enter\") {\n                    this.handleSearchOrder();\n                  }\n                }}\n              />\n              <div\n                className=\"position-absolute\"\n                style={{ top: 5, left: -20, color: \"#ced4da\" }}\n              >\n                <i className=\"fas fa-search\"></i>\n              </div>\n              {search.length > 2 ? (\n                <div className=\"input-group-append\">\n                  <div\n                    className=\"btn btn-secondary\"\n                    onClick={this.handleSearchErase}\n                  >\n                    <i className=\"fas fa-window-close\"></i>\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          </div>\n        </div>\n        <div className=\"p-0 card-body table-responsive\">\n          <div className=\"mailbox-controls\">\n            <div className=\"float-right\">\n              <Pagination meta={meta} handleChangePage={_handlePageOrder} />\n            </div>\n          </div>\n          <InboxList\n            pedidos={pedidos}\n            editId={editId}\n            handleDeleteOrder={_handleDeleteOrder}\n            handleSelectOrder={_handleSelectOrder}\n          />\n        </div>\n        {LOADING ? (\n          <div className=\"overlay dark\">\n            <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n\n  handleSearchErase = () => {\n    //Elimina el contenido del campo de busqueda\n    const { handleSearchOrdes: _handleSearchOrdes } = this.props;\n\n    _handleSearchOrdes(\"\");\n\n    this.setState({\n      search: \"\",\n    });\n  };\n  handleSearchOrder = () => {\n    //Ejecuta la orden de busqueda\n    const { handleSearchOrdes: _handleSearchOrdes } = this.props,\n      { search } = this.state;\n\n    if (this.timeSearch) clearTimeout(this.timeSearch);\n    _handleSearchOrdes(search);\n    //_getListOrder(OPT);\n  };\n  handleChangeSearchInput = (e) => {\n    //Maneja el cambio de contenido en el campo de busqueda\n    const { value } = e.target;\n\n    this.setState({\n      search: value,\n    });\n  };\n}\n\nexport default inboxOrderComponent;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Easycontact from \"./easyContact\";\nimport moment from \"moment\";\n\nexport default class searchContact extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      contacto: \"\",\n      data: [],\n      dataContact: {},\n      load: false,\n      edad: 0,\n    };\n  }\n  componentDidMount() {\n    //identificador del contacto\n    let id = this.props.contact;\n    if (id) {\n      this.getContact(id);\n    } else {\n      this.contactInput.focus();\n    }\n  }\n  componentDidUpdate(props, state) {\n    if (state.contacto !== this.state.contacto) {\n      if (this.state.contacto.length > 2) {\n        this.getContacts(this.state.contacto);\n      } else {\n        this.setState({\n          data: [],\n        });\n      }\n    }\n    if (props.contact !== this.props.contact && this.props.contact) {\n      this.setState({\n        load: true,\n      });\n      this.getContact(this.props.contact);\n    }\n  }\n\n  render() {\n    const { load } = this.state;\n    //console.log(\"[DEBUG] render: \", this.state.dataContact);\n\n    if (this.props.contact) {\n      if (this.state.dataContact && this.state.dataContact.id) {\n        const { nombre, id, email } = this.state.dataContact,\n          domain = /.*@domain(.com)?/gim;\n\n        return (\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-user mr-2\"></i> Paciente:\n              </span>\n            </div>\n            <input\n              type=\"text\"\n              className=\"form-control text-capitalize\"\n              value={\n                email && !domain.exec(email)\n                  ? nombre + \" [\" + email + \"]\"\n                  : nombre\n              }\n              readOnly={true}\n            />\n\n            <div className=\"float-right\">\n              {!this.props.status ? (\n                <div className=\"btn-group btn-sm d-print-none\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary btn-sm\"\n                    onClick={this.handleClickChange}\n                    title=\"Cambiar\"\n                  >\n                    <i className=\"fas fa-exchange-alt\"></i>\n                  </button>\n                  <Link\n                    to={\"/contactos/registro/\" + id}\n                    className=\"btn btn-danger btn-sm\"\n                    title=\"Editar\"\n                  >\n                    <i className=\"fas fa-edit\"></i>\n                  </Link>\n                </div>\n              ) : null}\n            </div>\n          </div>\n        );\n      } else {\n        return (\n          <div className=\"callout callout-danger\">\n            <h5>\n              <i className=\"fas fa-danger\"></i> Error:\n            </h5>\n            Se perdio el identificardo del cliente\n          </div>\n        );\n      }\n    } else {\n      return (\n        <React.Fragment>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-user mr-2\"></i> Paciente:\n              </span>\n            </div>\n            <input\n              type=\"text\"\n              className=\"form-control text-capitalize\"\n              placeholder=\"Nombre del paciente\"\n              name=\"contacto\"\n              autoComplete=\"off\"\n              value={this.state.contacto}\n              onChange={this.handleSearcContact}\n              ref={(input) => {\n                this.contactInput = input;\n              }}\n            />\n            {load ? (\n              <div className=\"float-right ml-4\">\n                <div className=\"spinner-border text-primary\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            ) : null}\n          </div>\n          {this.state.data.length ? (\n            <ul className=\"list-group\">\n              {this.state.data.map((contact) => {\n                return (\n                  <li key={contact.id} className=\"list-group-item\">\n                    <a\n                      href=\"#contact\"\n                      className={\n                        !contact.id\n                          ? \"text-danger text-capitalize\"\n                          : \"text-muted text-capitalize\"\n                      }\n                      onClick={(e) => {\n                        this.handleClickContact(e, contact.id);\n                      }}\n                    >\n                      <i className=\"fas fa-user mr-1\"></i>\n                      {contact.nombre}\n                    </a>\n                    {!contact.id ? (\n                      <Easycontact\n                        name={this.state.contacto}\n                        setContac={(id, date) => {\n                          let edad =\n                            moment(date)\n                              .fromNow(true)\n                              .replace(/[a-zA-ZñÑ]/gi, \"\") * 1;\n                          this.setState({\n                            contacto: \"\",\n                            data: [],\n                            dataContact: {},\n                          });\n                          console.log(\n                            \"[searchContactLine] Almacenando datos de contacto en local storage\"\n                          );\n                          localStorage.setItem(\n                            \"OrusContactInUse\",\n                            JSON.stringify({})\n                          );\n                          this.props.getIdContact(id, edad);\n                        }}\n                      />\n                    ) : null}\n                  </li>\n                );\n              })}\n            </ul>\n          ) : null}\n        </React.Fragment>\n      );\n    }\n  }\n\n  getContact = (id) => {\n    //Variables en localStorage\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    //Realiza busqueda de contacto\n    fetch(\"http://\" + varLocalStorage.host + \"/api/contacts/\" + id, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + varLocalStorage.token,\n      },\n    })\n      .then(async (response) => {\n        let back = {};\n        if (response.status !== 204) back = await response.json();\n        if (!response.ok) {\n          throw new Error(back.message);\n        }\n        return back;\n      })\n      .then((data) => {\n        console.log(\"Descargando contacto\");\n        this.setState({\n          dataContact: data.data,\n          load: false,\n        });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n  handleClickChange = (e) => {\n    e.preventDefault();\n    if (window.confirm(\"¿Esta seguro?\")) {\n      this.setState({\n        contacto: \"\",\n        data: [],\n        dataContact: {},\n      });\n      console.log(\"[Contact][search] Eliminando datos local storage\");\n      localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\n      this.props.getIdContact(0);\n    }\n  };\n  handleClickContact = (e, id) => {\n    if (e) e.preventDefault();\n    this.state.data.map((contact) => {\n      if (contact.id === id) {\n        this.setState({\n          contacto: \"\",\n          data: [],\n          dataContact: contact,\n        });\n        let edad =\n          moment(contact.f_nacimiento)\n            .fromNow(true)\n            .replace(/[a-zA-ZñÑ]/gi, \"\") * 1;\n        this.props.getIdContact(id, edad);\n        console.log(\n          \"[Contact][search] Almacenando datos de contacto en local storage\"\n        );\n        localStorage.setItem(\"OrusContactInUse\", JSON.stringify({ id }));\n        return false;\n      } else {\n        return true;\n      }\n    });\n  };\n  getContacts = (word) => {\n    let { load } = this.state;\n\n    //Revisamos que ya este cargando\n    if (!load) {\n      this.setState({\n        load: true,\n      });\n    }\n\n    if (this.timeSave) clearTimeout(this.timeSave);\n    this.timeSave = setTimeout(() => {\n      //Variables en localStorage\n      let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n        url = \"http://\" + varLocalStorage.host + \"/api/contacts\",\n        type = \"&type=0\",\n        search = word ? `&search=${word}` : \"\",\n        page = \"?page=1&itemsPage=4\";\n      console.log(\"Descargando contactos de la API\");\n      //Realiza la peticion de los contactos\n      fetch(url + page + search + type, {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + varLocalStorage.token,\n        },\n      })\n        .then(async (response) => {\n          let back = {};\n          if (response.status !== 204) back = await response.json();\n          if (!response.ok) {\n            throw new Error(back.message);\n          }\n          return back;\n        })\n        .then((data) => {\n          if (data.data && data.data.length) {\n            console.log(\"Mostrando información del contacto\");\n            this.setState({\n              data: data.data,\n              load: false,\n            });\n          } else {\n            this.setState({\n              data: [\n                {\n                  id: 0,\n                  nombre: \"No hay contactos para: \" + word,\n                },\n              ],\n              load: false,\n            });\n            console.log(\n              \"[Contact][search] Almacenando datos de contacto en local storage\"\n            );\n            localStorage.setItem(\n              \"OrusContactInUse\",\n              JSON.stringify({ name: word.toLowerCase() })\n            );\n          }\n        })\n        .catch((e) => {\n          console.error(\"Orus fetch\", e);\n          window.Swal.fire(\n            \"Fallo de conexion\",\n            \"Verifique la conexion al servidor\",\n            \"error\"\n          );\n        });\n    }, 1500);\n  };\n  handleSearcContact = (e) => {\n    const { name, value, type } = e.target;\n    let val = value;\n    if (type === \"number\") val = parseInt(value);\n    if (type === \"text\") val = value.toLowerCase();\n\n    this.setState({\n      [name]: val,\n    });\n  };\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\n\nexport default class listExamsCustomer extends Component {\n  constructor(props) {\n    super(props);\n    //Variables en localStorage\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      exams: {\n        data: [],\n        meta: {},\n      },\n      addExam: false,\n      load: true,\n      page: 0,\n      host: ls.host,\n      token: ls.token,\n    };\n  }\n  componentDidMount() {\n    this.getExams();\n  }\n  componentDidUpdate(props, state) {\n    if (\n      state.exams &&\n      state.exams.meta &&\n      state.exams.meta.total !== this.state.exams.meta.total\n    ) {\n      this.getExams();\n    }\n  }\n\n  render() {\n    const { exams, load, addExam } = this.state;\n\n    return (\n      <div className=\"card bg-info\">\n        <div className=\"card-header\">\n          <h5>\n            <i className=\"fas fa-notes-medical mr-2\"></i> Examenes del paciente\n          </h5>\n        </div>\n        <div className=\"card-body table-responsive p-0\">\n          <table className=\"table m-0\">\n            <thead>\n              <tr>\n                <th scope=\"col\">&nbsp;</th>\n                <th scope=\"col\">Folio</th>\n                <th scope=\"col\">Registro</th>\n                <th scope=\"col\">Estado</th>\n              </tr>\n            </thead>\n            <tbody>\n              {load ? (\n                <tr>\n                  <td colSpan=\"5\" className=\"text-center\">\n                    <div className=\"spinner-border text-primary\" role=\"status\">\n                      <span className=\"sr-only\">Loading...</span>\n                    </div>\n                  </td>\n                </tr>\n              ) : exams.meta && exams.meta.total ? (\n                exams.data.map((row) => {\n                  return (\n                    <tr\n                      key={row.id}\n                      className={\n                        moment(new Date()).isSame(moment(row.created_at), \"day\")\n                          ? \"table-active\"\n                          : \"\"\n                      }\n                    >\n                      <td>\n                        <div className=\"icheck-primary\">\n                          <input\n                            type=\"checkbox\"\n                            name={\"exam_\" + row.id}\n                            id={\"exam_\" + row.id}\n                            onChange={(e) => this.handleClickSelect(row)}\n                            disabled={row.estado ? false : true}\n                          />\n                          <label htmlFor={\"exam_\" + row.id}></label>\n                        </div>\n                      </td>\n                      <th scope=\"row\">\n                        <span className=\"text\">#{row.id}</span>\n                      </th>\n                      <td>\n                        <i className=\"fas fa-clock mr-2\"></i>\n                        {moment(row.created_at).fromNow()}\n                      </td>\n                      <td>\n                        {row.estado ? (\n                          <span className=\"badge badge-success\">\n                            <i className=\"fas fa-check\"></i> Terminado\n                          </span>\n                        ) : (\n                          <span className=\"badge badge-secondary\">\n                            <i className=\"fas fa-hourglass\"></i> Activo\n                          </span>\n                        )}\n                      </td>\n                    </tr>\n                  );\n                })\n              ) : (\n                <tr>\n                  <th colSpan=\"5\" className=\"text-center\">\n                    <i className=\"fas fa-info-circle mr-2\"></i>\n                    Paciente sin examenes encontrados\n                  </th>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n        <div className=\"card-footer text-right\">\n          <div className=\"btn-group\">\n            <button\n              className=\"btn btn-default btn-sm\"\n              onClick={(e) => this.props.ChangeInput(\"exam\", { id: 0 })}\n            >\n              <i className=\"fas fa-file-excel mr-1\"></i> Sin examen\n            </button>\n            <button\n              className=\"btn btn-default btn-sm\"\n              onClick={this.handleNewExam}\n              disabled={addExam}\n            >\n              <i className=\"fas fa-file-alt mr-1\"></i> Nuevo\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  handleClickSelect = (exam) => {\n    const { ChangeInput } = this.props;\n    console.log(\"[listExamsCustomer] Selecionado examen: \");\n    ChangeInput(\"exam\", exam);\n  };\n  handleNewExam = (e) => {\n    e.preventDefault();\n\n    //Confirmación de almacenamiento\n    window.Swal.fire({\n      title: \"Consultorio\",\n      text: \"¿Esta seguro de crear un nuevo examen?\",\n      icon: \"info\",\n      showCancelButton: true,\n      confirmButtonText: \"Si\",\n      cancelButtonText: \"No\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          //Variables en localStorage\n          let { host, token } = this.state,\n            { paciente, edad } = this.props,\n            body = {\n              contact_id: paciente,\n              edad: parseInt(edad),\n            };\n          //Crear examen\n          console.log(\"[listExamsCustomer] Enviando datos del examen a la API\");\n          return fetch(\"http://\" + host + \"/api/exams\", {\n            method: \"POST\",\n            body: JSON.stringify(body),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then((response) => {\n              if (!response.ok) {\n                throw new Error(response.statusText);\n              }\n              return response.json();\n            })\n            .catch((e) => {\n              console.error(\"[listExamsCustomer] Orus fetch: \", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n        if (data.data) {\n          console.log(\"[listExamsCustomer] Examen almacenado con exito\");\n          localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\n          window.Swal.fire({\n            icon: \"success\",\n            title: \"Examen creado con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          }).then((res) => {\n            this.getExams();\n          });\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar el examen\", \"error\");\n          console.error(\"[Orus res] \", data.message);\n        }\n      }\n    });\n  };\n  getExams = () => {\n    const { load, host, token } = this.state;\n    const { paciente } = this.props;\n\n    if (paciente) {\n      //Variables en localStorage\n      const url = \"http://\" + host + \"/api/exams\",\n        page = this.state.page > 0 ? \"?page=\" + this.state.page : \"?page=1\",\n        orderby = \"&orderby=created_at&order=desc\",\n        client = \"&paciente=\" + paciente;\n\n      //Mandamos señal de carga si no lo he hecho\n      if (!load) {\n        this.setState({\n          load: true,\n        });\n      }\n\n      //Realiza la peticion de examenes a la API\n      console.log(\"[listExamsCustomer] Descargando examenes del paciente\");\n      fetch(url + page + client + orderby, {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((res) => {\n          if (!res.ok) {\n            this.setState({\n              load: false,\n            });\n            console.log(res);\n          }\n          return res.json();\n        })\n        .then((data) => {\n          if (data.data) {\n            let addExam = false;\n            console.log(\n              \"[listExamsCustomer] Examenes descargados con exito\",\n              data.meta.total\n            );\n            for (let index = 0; index < data.data.length; index++) {\n              const row = data.data[index];\n              if (moment(new Date()).isSame(moment(row.created_at), \"day\")) {\n                addExam = true;\n              }\n            }\n            this.setState({\n              exams: data,\n              load: false,\n              addExam,\n            });\n          }\n        });\n    } else {\n      this.setState({\n        load: false,\n      });\n    }\n  };\n}\n","import React, { Component } from \"react\";\nimport Graduacion from \"../Exam/graduacionExam\";\nimport moment from \"moment\";\n\nexport default class examCustomer extends Component {\n  constructor(props) {\n    super(props);\n    //Variables en localStorage\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      id: props.id ? props.id : 0,\n      exam: {},\n      load: true,\n      examEdit: props.examEdit ? props.examEdit : true,\n      host: ls.host,\n      token: ls.token,\n    };\n  }\n  componentDidMount() {\n    const { exam, examEdit } = this.props;\n    //this.getExam();\n    this.setState({\n      exam,\n      examEdit,\n      load: false,\n    });\n  }\n  componentDidUpdate(props, state) {\n    if (props.id !== this.props.id) {\n      //this.getExam();\n    }\n  }\n\n  render() {\n    const { load, id, exam, examEdit } = this.state;\n\n    if (exam.id) {\n      return (\n        <div className=\"card\">\n          <div className=\"card-body card-info\">\n            <div className=\"row\">\n              <div className=\"col\">\n                <b>\n                  Folio <br />#{exam.id}\n                </b>\n              </div>\n              <div className=\"col\">\n                <b>Fecha:</b>\n                <br />\n                <i className=\"fas fa-calendar mr-2\"></i>\n                {moment(exam.created_at).format(\"L\")}\n              </div>\n              <div className=\"col\">\n                <b>Estado:</b>\n                <br />\n                {exam.estado ? (\n                  <span className=\"badge badge-success\">\n                    <i className=\"fas fa-check\"></i> Terminado\n                  </span>\n                ) : (\n                  <span className=\"badge badge-secondary\">\n                    <i className=\"fas fa-hourglass\"></i> Activo\n                  </span>\n                )}\n              </div>\n            </div>\n\n            {exam.observaciones ? (\n              <div className=\"form-group mt-2\">\n                <div className=\"callout callout-info\">\n                  <h5 className=\"text-info text-bold\">\n                    <i className=\"fas fa-info\"></i> Observaciones:\n                  </h5>\n                  {exam.observaciones}\n                </div>\n              </div>\n            ) : null}\n\n            <div className=\"row mt-2\">\n              <div className=\"col\">\n                <Graduacion\n                  esferaod={exam.esferaod ? exam.esferaod : 0}\n                  esferaoi={exam.esferaoi ? exam.esferaoi : 0}\n                  cilindrod={exam.cilindrod ? exam.cilindrod : 0}\n                  cilindroi={exam.cilindroi ? exam.cilindroi : 0}\n                  ejeod={exam.ejeod ? exam.ejeod : 0}\n                  ejeoi={exam.ejeoi ? exam.ejeoi : 0}\n                  adiciond={exam.adiciond ? exam.adiciond : 0}\n                  adicioni={exam.adicioni ? exam.adicioni : 0}\n                  adicion_media_od={exam.adicion_media_od}\n                  adicion_media_oi={exam.adicion_media_oi}\n                  dpod={exam.dpod ? exam.dpod : 0}\n                  dpoi={exam.dpoi ? exam.dpoi : 0}\n                  alturaod={exam.alturaod ? exam.alturaod : 0}\n                  alturaoi={exam.alturaoi ? exam.alturaoi : 0}\n                  lcmarca={exam.lcmarca ? exam.lcmarca : 0}\n                  lcgod={exam.lcgod ? exam.lcgod : 0}\n                  lcgoi={exam.lcgoi ? exam.lcgoi : 0}\n                  readOnly={!examEdit}\n                  onChangeInput={this.handleDataExam}\n                />\n              </div>\n            </div>\n            {/*!examEdit && exam.category_id ? (\n              <div className=\"row mt-2\">\n                <div className=\"col\">\n                  <Recomendaciones\n                    category_id={exam.category_id}\n                    title=\"Recomendacion principal\"\n                    esferaod={exam.esferaod ? exam.esferaod : 0}\n                    esferaoi={exam.esferaoi ? exam.esferaoi : 0}\n                    cilindrod={exam.cilindrod ? exam.cilindrod : 0}\n                    cilindroi={exam.cilindroi ? exam.cilindroi : 0}\n                    handleCodesItems={this.handelChangeCode}\n                  />\n                </div>\n                {exam.category_ii ? (\n                  <div className=\"col\">\n                    <Recomendaciones\n                      category_id={exam.category_ii}\n                      title=\"Recomendacion adicional\"\n                      esferaod={exam.esferaod ? exam.esferaod : 0}\n                      esferaoi={exam.esferaoi ? exam.esferaoi : 0}\n                      cilindrod={exam.cilindrod ? exam.cilindrod : 0}\n                      cilindroi={exam.cilindroi ? exam.cilindroi : 0}\n                      handleCodesItems={this.handelChangeCode}\n                    />\n                  </div>\n                ) : null}\n              </div>\n                ) : null*/}\n            {examEdit ? (\n              <div className=\"text-right mt-2\">\n                <div className=\"btn-group\">\n                  <button\n                    className=\"btn btn-secondary\"\n                    onClick={this.handelChangeExam}\n                  >\n                    <i className=\"fas fa-times mr-1\"></i> Cerrar\n                  </button>\n                  <button\n                    className=\"btn btn-info\"\n                    onClick={this.handleSaveExam}\n                  >\n                    <i className=\"fas fa-save mr-1\"></i> Guardar\n                  </button>\n                </div>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      );\n    } else {\n      if (load) {\n        //Cargamos indicacion de carga\n        return (\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <div className=\"spinner-border text-primary\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n          </div>\n        );\n      } else {\n        //Regresamos aviso de no haber encontrado datos\n        return (\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <h5 className=\"text-info\">\n                <i className=\"fas fa-info mr-2\"></i>Examen [{id}] no encontrado.\n              </h5>\n            </div>\n          </div>\n        );\n      }\n    }\n  }\n\n  handleDataExam = (key, val) => {\n    let { exam } = this.state;\n    exam[key] = val;\n    this.setState({\n      exam,\n    });\n    const { ChangeInput } = this.props;\n    ChangeInput(\"codes\", {});\n  };\n  handelChangeExam = () => {\n    const { ChangeInput } = this.props;\n    ChangeInput(\"examEdit\", false);\n  };\n  handelChangeCode = (codes) => {\n    const { ChangeInput } = this.props;\n    ChangeInput(\"codes\", codes);\n  };\n  handleSaveExam = () => {\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de actualizar el examen?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Actualizar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          const { host, token } = this.state,\n            { exam } = this.state,\n            data = {\n              esferaod: exam.esferaod,\n              esferaoi: exam.esferaoi,\n              cilindrod: exam.cilindrod,\n              cilindroi: exam.cilindroi,\n              ejeod: exam.ejeod,\n              ejeoi: exam.ejeoi,\n              adiciond: exam.adiciond,\n              adicioni: exam.adicioni,\n              adicion_media_od: exam.adicion_media_od,\n              adicion_media_oi: exam.adicion_media_oi,\n              dpod: exam.dpod,\n              dpoi: exam.dpoi,\n              alturaod: exam.alturaod,\n              alturaoi: exam.alturaoi,\n              lcmarca: exam.lcmarca,\n              lcgod: exam.lcgod,\n              lcgoi: exam.lcgoi,\n            };\n\n          //Actualiza el examen según el ID\n          console.log(\"[examCustomer] Enviando datos del examen\");\n          return fetch(\"http://\" + host + \"/api/exams/\" + exam.id, {\n            method: \"PUT\",\n            body: JSON.stringify(data),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"[Orus fetch]\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n        const { ChangeInput } = this.props;\n\n        if (data.data) {\n          console.log(\"[examCustomer] Examen almacenado con exito\");\n\n          window.Swal.fire({\n            icon: \"success\",\n            title: \"Examen actualizado con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          }).then((e) => {\n            ChangeInput(\"examEdit\", false);\n          });\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar el pedido\", \"error\");\n          console.error(\"[Orus res] \", data.message);\n        }\n      }\n    });\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class Items extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: 0,\n      store_items_id: 0,\n      session: props.session ? props.session : \"\",\n      cantidad: 1,\n      precio: 0,\n      subtotal: 0,\n      inStorage: 0,\n      producto: \"\",\n      out: 0,\n      descripcion: \"\",\n      itemNew: false,\n      itemsDb: [],\n      load: false,\n    };\n    this.total = 0;\n  }\n\n  render() {\n    let { itemNew, itemsDb, load } = this.state;\n    let { items, codes } = this.props;\n    this.total = 0;\n\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <h5>\n            <i className=\"fas fa-shopping-cart\"></i> Pedido\n          </h5>\n        </div>\n        <div className=\"card-body table-responsive p-0\">\n          <table className=\"table table-sm m-0\">\n            <thead>\n              <tr>\n                <th scope=\"col\" style={{ width: 64 }}>\n                  Cantidad\n                </th>\n                <th scope=\"col\">Descripcion</th>\n                <th scope=\"col\" className=\"text-center\" style={{ width: 120 }}>\n                  Precio\n                </th>\n                <th scope=\"col\" className=\"text-center\" style={{ width: 120 }}>\n                  Subtotal\n                </th>\n                <th scope=\"col\" style={{ width: 60 }}></th>\n              </tr>\n            </thead>\n            <tbody>\n              {itemNew ? (\n                <React.Fragment>\n                  <tr>\n                    <td>\n                      <input\n                        className={\n                          this.state.store_items_id\n                            ? \"form-control\"\n                            : \"form-control disabled\"\n                        }\n                        disabled={this.state.store_items_id ? false : true}\n                        type=\"number\"\n                        name=\"cantidad\"\n                        ref={(input) => {\n                          this.inputCant = input;\n                        }}\n                        value={this.state.cantidad}\n                        onChange={this.catchInputs}\n                      />\n                    </td>\n                    <td>\n                      <input\n                        className={\n                          !this.state.store_items_id\n                            ? \"form-control\"\n                            : \"form-control disabled\"\n                        }\n                        disabled={!this.state.store_items_id ? false : true}\n                        type=\"text\"\n                        name=\"producto\"\n                        autoComplete=\"off\"\n                        ref={(input) => {\n                          this.inputItem = input;\n                        }}\n                        value={this.state.producto}\n                        onChange={this.catchInputs}\n                      />\n                      {this.state.store_items_id ? (\n                        <input\n                          className=\"form-control\"\n                          type=\"text\"\n                          name=\"descripcion\"\n                          placeholder=\"Detalles\"\n                          value={this.state.descripcion}\n                          onChange={this.catchInputs}\n                        />\n                      ) : null}\n                    </td>\n                    <td>\n                      <input\n                        className={\n                          this.state.store_items_id\n                            ? \"form-control\"\n                            : \"form-control disabled\"\n                        }\n                        disabled={this.state.store_items_id ? false : true}\n                        type=\"number\"\n                        name=\"precio\"\n                        value={this.state.precio}\n                        onChange={this.catchInputs}\n                      />\n                    </td>\n                    <td>\n                      <input\n                        className=\"form-control disabled\"\n                        type=\"number\"\n                        name=\"subtotal\"\n                        value={this.state.subtotal}\n                        readOnly={true}\n                      />\n                    </td>\n                    <td>\n                      <button\n                        className=\"btn btn-outline-dark btn-sm\"\n                        onClick={this.addItem}\n                      >\n                        <i className=\"fas fa-save\"></i>\n                      </button>\n                    </td>\n                  </tr>\n\n                  {load ? (\n                    <tr>\n                      <td colSpan=\"5\">\n                        <div className=\"text-center\">\n                          <div\n                            className=\"spinner-border text-primary\"\n                            role=\"status\"\n                          >\n                            <span className=\"sr-only\">Loading...</span>\n                          </div>\n                        </div>\n                      </td>\n                    </tr>\n                  ) : itemsDb && itemsDb.length ? (\n                    <tr>\n                      <td colSpan=\"5\">\n                        <div className=\"list-group\">\n                          {itemsDb.map((db) => {\n                            return (\n                              <a\n                                className=\"list-group-item list-group-item-action\"\n                                href={\"#\" + db.codigo}\n                                key={db.id}\n                                onClick={(e) => {\n                                  e.preventDefault();\n                                  this.handelClickItemDb(\n                                    db.id,\n                                    db.producto,\n                                    db.precio,\n                                    db.cantidades\n                                  );\n                                }}\n                              >\n                                <div\n                                  className=\"text-truncate\"\n                                  style={{ maxWidth: \"90%\" }}\n                                >\n                                  <span className=\"text-primary mr-2 text-uppercase\">\n                                    ({db.codigo})\n                                  </span>\n                                  <label className=\"text-dark text-capitalize ml-2 mr-2\">\n                                    {db.producto}\n                                  </label>\n                                  {db.marca ? (\n                                    <span className=\"text-muted text-capitalize\">\n                                      / {db.marca.marca}\n                                    </span>\n                                  ) : null}\n                                  {db.proveedor ? (\n                                    <span className=\"text-muted text-capitaliz\">\n                                      / {db.proveedor.nombre}\n                                    </span>\n                                  ) : null}\n                                </div>\n                              </a>\n                            );\n                          })}\n                        </div>\n                      </td>\n                    </tr>\n                  ) : null}\n                </React.Fragment>\n              ) : null}\n              {items.length ? (\n                items.map((item, index) => {\n                  this.total += item.subtotal * 1;\n                  return (\n                    <tr key={index}>\n                      <td className=\"text-right\">{item.cantidad}</td>\n                      <td>\n                        <span\n                          className={\n                            !item.inStorage\n                              ? \"badge badge-warning\"\n                              : \"badge badge-primary\"\n                          }\n                        >\n                          {item.producto}\n                          {item.descripcion\n                            ? \" (\" + item.descripcion + \")\"\n                            : null}\n                        </span>\n                      </td>\n                      <td className=\"text-right\">$ {item.precio.toFixed(2)}</td>\n                      <td className=\"text-right\">\n                        $ {item.subtotal.toFixed(2)}\n                      </td>\n                      <td className=\"d-print-none\">\n                        <button\n                          className={\n                            this.props.status\n                              ? \"btn btn-outline-light btn-sm disabled\"\n                              : \"btn btn-outline-light btn-sm\"\n                          }\n                          disabled={this.props.status ? true : false}\n                          onClick={(e) => {\n                            if (!this.props.status) this.deleteItem(index);\n                          }}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })\n              ) : (\n                <tr>\n                  <td className=\"text-center\" colSpan=\"5\">\n                    No hay articulos cargados\n                  </td>\n                </tr>\n              )}\n            </tbody>\n            <tfoot>\n              <tr>\n                <td className=\"text-right\" colSpan=\"2\">\n                  {!this.props.status && !this.props.addCancel ? (\n                    <button\n                      className={\n                        this.props.status\n                          ? \"btn btn-outline-warning btn-sm disabled\"\n                          : itemNew\n                          ? \"btn btn-outline-dark btn-sm\"\n                          : \"btn btn-outline-primary btn-sm\"\n                      }\n                      disabled={this.props.status ? true : false}\n                      onClick={this.handleNewItem}\n                    >\n                      <i\n                        className={itemNew ? \"fas fa-undo\" : \"fas fa-plus\"}\n                      ></i>\n                    </button>\n                  ) : null}\n                </td>\n                <th scope=\"row\" className=\"text-right\">\n                  Subtotal\n                </th>\n                <td className=\"text-right\">$ {this.total.toFixed(2)}</td>\n                <td></td>\n              </tr>\n            </tfoot>\n          </table>\n        </div>\n        {codes && codes.code ? (\n          <div className=\"card-footer\">\n            {codes.od === codes.oi ? (\n              <div className=\"row\">\n                <div className=\"col\">\n                  <label className=\"m-2\">\n                    <i className=\"fas fa-eye\"></i> Graduacion\n                  </label>\n                  <span className=\"text\">{codes.code + codes.od}</span>\n                </div>\n              </div>\n            ) : (\n              <div className=\"row\">\n                <div className=\"col\">\n                  <label className=\"m-2\">\n                    <i className=\"fas fa-eye\"></i> Graduacion ojo derecho\n                  </label>\n                  <span className=\"text\">{codes.code + codes.od}</span>\n                </div>\n                <div className=\"col\">\n                  <label className=\"m-2\">\n                    <i className=\"fas fa-eye\"></i> Graduacion ojo izquierdo\n                  </label>\n                  <span className=\"text\">{codes.code + codes.oi}</span>\n                </div>\n              </div>\n            )}\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n\n  handelClickItemDb = (id, producto, precio, cant) => {\n    if (id) {\n      this.setState({\n        id: 0,\n        store_items_id: id,\n        producto,\n        precio,\n        subtotal: this.state.cantidad * precio,\n        //Verificando que exitan los productos en almacen\n        inStorage: cant >= this.state.cantidad ? 1 : 0,\n        out: cant,\n        itemsDb: [],\n      });\n    }\n  };\n  deleteItem = (id) => {\n    let { items } = this.props;\n    items.splice(id, 1);\n    this.props.ChangeInput(\"items\", items);\n  };\n  catchInputs = (e) => {\n    let { name, value, type } = e.target,\n      subtotal = 0;\n    if (name === \"cantidad\") {\n      value = value * 1;\n      subtotal = this.state.precio * value;\n    } else if (name === \"precio\") {\n      value = value * 1;\n      subtotal = this.state.cantidad * value;\n    } else if (name === \"descripcion\") {\n      subtotal = this.state.subtotal;\n    }\n    if (type === \"number\") {\n      value = value * 1;\n    }\n    if (name === \"producto\" && value.length > 3 && !this.state.store_items_id) {\n      let { load } = this.state;\n\n      //Revisamos que ya este cargando\n      if (!load) {\n        this.setState({\n          load: true,\n        });\n      }\n      if (this.timeSave) clearTimeout(this.timeSave);\n      this.timeSave = setTimeout(() => {\n        //Variables en localStorage\n        const varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n          url = \"http://\" + varLocalStorage.host + \"/api/store\",\n          search = \"?search=\" + value.replace(\"+\", \"%2b\"),\n          itemsPage = \"&itemsPage=6\";\n        //Realiza la peticion del usuario seun el id\n        console.log(\"Descargando datos del item\");\n        fetch(url + search + itemsPage, {\n          method: \"GET\",\n          headers: {\n            Accept: \"application/json\",\n            Authorization: \"Bearer \" + varLocalStorage.token,\n          },\n        })\n          .then((response) => {\n            if (!response.ok) {\n              throw new Error(response.statusText);\n            }\n            return response.json();\n          })\n          .then((data) => {\n            if (data.data && data.data.length) {\n              console.log(\"Almacenando datos del item del DB\");\n              this.setState({\n                itemsDb: data.data,\n              });\n            } else if (data.message) {\n              console.log(\n                \"No hay articulos en la buscada de items\",\n                data.message\n              );\n            }\n            this.setState({\n              load: false,\n            });\n          })\n          .catch((e) => {\n            console.error(e);\n            window.Swal.fire(\n              \"Fallo de conexion\",\n              \"Verifique la conexion al servidor\",\n              \"error\"\n            );\n            this.setState({\n              load: false,\n            });\n          });\n      }, 1500);\n    }\n\n    this.setState({\n      [name]: value,\n      subtotal,\n    });\n  };\n  addItem = (e) => {\n    e.preventDefault();\n    let items = this.props.items,\n      item = this.state;\n\n    item.inStorage = item.out >= item.cantidad ? 1 : 0;\n    item.out = item.out >= item.cantidad ? 0 : item.cantidad - item.out;\n\n    delete item.itemNew;\n    delete item.itemsDb;\n    delete item.items;\n    items.push(item);\n\n    this.setState({\n      id: 0,\n      store_items_id: 0,\n      cantidad: 1,\n      producto: \"\",\n      precio: 0,\n      total: 0,\n      inStorage: 0,\n      out: 0,\n      itemNew: false,\n    });\n    this.props.ChangeInput(\"items\", items);\n  };\n  handleNewItem = (e) => {\n    e.preventDefault();\n    this.setState({\n      itemNew: !this.state.itemNew,\n      store_items_id: 0,\n      cantidad: 1,\n      producto: \"\",\n      precio: 0,\n      subtotal: 0,\n      inStorage: 0,\n      out: 0,\n      itemsDb: [],\n    });\n  };\n}\n","import React, { Component } from \"react\";\nimport SearchContact from \"../Contacts/searchContactLine\";\nimport ListExam from \"../Exam/listExamsCustomer\";\nimport Exam from \"../Exam/examCustomer\";\nimport Items from \"./itemsOrder\";\n\nexport default class Asistent extends Component {\n  constructor(props) {\n    super(props);\n    //Recogemos valores de registro previo\n    let contact = JSON.parse(localStorage.getItem(\"OrusContactInUse\"));\n    console.log(\n      \"[OrderAsitent] Contacto en uso: \",\n      contact && contact.id ? \"Si\" : \"No\"\n    );\n\n    this.state = {\n      session:\n        Math.random().toString(36).substring(2, 16) +\n        Math.random().toString(36).substring(2, 16) +\n        Math.random().toString(36).substring(2, 16) +\n        Math.random().toString(36).substring(2, 16) +\n        Math.random().toString(36).substring(2, 16) +\n        Math.random().toString(36).substring(2, 16) +\n        Math.random().toString(10),\n      contact_id: contact && contact.id ? contact.id : 0,\n      items: [],\n      codes: {},\n      edad: 0,\n      exam_id: null,\n      exam: {},\n      examEdit: false,\n      load: true,\n    };\n  }\n  componentDidMount() {\n    localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\n  }\n  componentDidUpdate(props, state) {\n    const { categories } = this.props;\n\n    if (props.categories.id !== categories.id) {\n      this.getCategories(categories, this.state.exam);\n    }\n  }\n\n  render() {\n    const { contact_id, items, edad, exam_id, exam, examEdit, codes } =\n        this.state,\n      { loading: LOADING } = this.props;\n\n    return (\n      <div className=\"card card-warning card-outline\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-clipboard-list mr-1\"></i>Nuevo pedido\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"form-group\">\n            <SearchContact\n              contact={contact_id}\n              edad={parseInt(this.state.edad)}\n              getIdContact={this.getIdContact}\n              status={exam_id !== null ? true : false}\n            />\n          </div>\n          {contact_id ? (\n            <React.Fragment>\n              {exam_id !== null ? (\n                <React.Fragment>\n                  {examEdit ? (\n                    <div className=\"form-group\">\n                      <Exam\n                        id={exam_id}\n                        examEdit={true}\n                        exam={exam}\n                        ChangeInput={this.handleChangeInput}\n                      />\n                    </div>\n                  ) : (\n                    <React.Fragment>\n                      <div className=\"form-group\">\n                        <div className=\"input-group\">\n                          <div className=\"input-group-prepend\">\n                            <span className=\"input-group-text\">\n                              <i className=\"fas fa-notes-medical mr-1\"></i>{\" \"}\n                              Examen:\n                            </span>\n                          </div>\n                          <input\n                            type=\"text\"\n                            className={\n                              exam_id\n                                ? exam.observaciones\n                                  ? \"form-control text-right pr-2 bg-info text-bold\"\n                                  : \"form-control text-right pr-2\"\n                                : \"form-control text-center\"\n                            }\n                            value={\n                              exam_id\n                                ? exam.observaciones\n                                  ? exam_id + \" [Revise las observaciones]\"\n                                  : exam_id\n                                : \"Sin examen\"\n                            }\n                            readOnly={true}\n                          />\n                          <div className=\"float-right\">\n                            <div className=\"btn-group btn-sm\">\n                              <button\n                                type=\"button\"\n                                className=\"btn btn-secondary btn-sm\"\n                                onClick={(e) =>\n                                  this.handleChangeInput(\"exam_id\", null)\n                                }\n                              >\n                                <i className=\"fas fa-exchange-alt\"></i>\n                              </button>\n                              {exam.id ? (\n                                <button\n                                  type=\"button\"\n                                  className=\"btn btn-info btn-sm\"\n                                  onClick={(e) =>\n                                    this.handleChangeInput(\"examEdit\", true)\n                                  }\n                                  disabled={examEdit}\n                                >\n                                  <i className=\"fas fa-edit\"></i>\n                                </button>\n                              ) : null}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      <Items\n                        items={this.state.items}\n                        session={this.state.session}\n                        codes={codes}\n                        ChangeInput={this.handleChangeInput}\n                      />\n                    </React.Fragment>\n                  )}\n                </React.Fragment>\n              ) : (\n                <div className=\"form-group\">\n                  <ListExam\n                    paciente={contact_id}\n                    edad={edad}\n                    ChangeInput={this.handleChangeInput}\n                  />\n                </div>\n              )}\n            </React.Fragment>\n          ) : null}\n        </div>\n        {!examEdit ? (\n          <div className=\"card-footer\">\n            <div className=\"mailbox-controls text-right\">\n              <div className=\"btn-group\">\n                <a\n                  href=\"#close\"\n                  className=\"btn btn-dark btn-sm\"\n                  onClick={(e) => {\n                    const { handleChangeInput: _handleChangeInput } =\n                      this.props;\n                    e.preventDefault();\n                    this.setState({\n                      contact_id: 0,\n                      items: [],\n                      codes: {},\n                      edad: 0,\n                      exam_id: null,\n                      exam: {},\n                      examEdit: false,\n                    });\n                    localStorage.setItem(\n                      \"OrusContactInUse\",\n                      JSON.stringify({\n                        id: 0,\n                      })\n                    );\n                    _handleChangeInput(\"panel\", 0);\n                  }}\n                >\n                  <i className=\"fas fa-arrow-left mr-1\"></i> Cerrar\n                </a>\n                <button\n                  className={\n                    contact_id && exam_id !== null && items.length\n                      ? \"btn btn-warning btn-sm\"\n                      : \"btn btn-warning btn-sm disabled\"\n                  }\n                  onClick={this.handleSave}\n                  disabled={\n                    contact_id && exam_id !== null && items.length\n                      ? false\n                      : true\n                  }\n                >\n                  <i className=\"fas fa-save mr-1\"></i> Guardar\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : null}\n        {LOADING ? (\n          <div className=\"overlay dark\">\n            <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n\n  handleChangeInput = (key, value) => {\n    const { handleGetCategories: _handleGetCategories } = this.props;\n\n    if (key === \"exam\") {\n      if (value.category_id) {\n        //this.getCategories(value);\n        _handleGetCategories(value.category_id);\n      }\n      if (!value.id) {\n        this.setState({\n          exam_id: 0,\n          exam: {},\n          codes: {},\n        });\n      } else {\n        this.setState({\n          exam_id: value.id,\n          exam: value,\n          codes: {},\n        });\n      }\n    }\n    if (key === \"codes\") {\n      this.setState({\n        codes: value,\n      });\n    } else {\n      this.setState({\n        [key]: value,\n      });\n    }\n  };\n  getCategories = (category, exam) => {\n    const { category_id, esferaod, esferaoi, cilindrod, cilindroi, id } = exam;\n\n    console.log(\"[Asistent order] Recomendacion descargada\");\n    let code =\n        category_id && category.id ? this.handleCodeName(category) : \"XX\",\n      gradod = \"+000000\",\n      gradoi = \"+000000\";\n\n    if (cilindrod || esferaod) {\n      gradod = esferaod > 0 ? \"+\" : \"\";\n      gradod +=\n        esferaod.toFixed(2).toString().replace(\".\", \"\") +\n        cilindrod.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\n    }\n    if (cilindroi || esferaoi) {\n      gradoi = esferaoi > 0 ? \"+\" : \"\";\n      gradoi +=\n        esferaoi.toFixed(2).toString().replace(\".\", \"\") +\n        cilindroi.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\n    }\n\n    this.setState({\n      exam_id: id,\n      exam,\n      codes: {\n        code,\n        od: gradod,\n        oi: gradoi,\n      },\n    });\n  };\n  handleCodeName = (category) => {\n    let code = \"\";\n    if (category.depende_de) {\n      if (category.depende_de.depende_de) {\n        code = category.depende_de.depende_de.meta.code;\n        code += category.depende_de.meta.code;\n        code += category.meta.code;\n      } else {\n        code = category.depende_de.meta.code;\n        code += category.meta.code;\n      }\n    } else {\n      code = category.meta.code;\n    }\n    return code;\n  };\n  getIdContact = (contact_id, edad) => {\n    this.setState({\n      contact_id,\n      edad,\n    });\n  };\n  handleSave = (e) => {\n    const { handleSaveOrder: _handleSaveOrder } = this.props;\n    e.preventDefault();\n    //Verificamos campos validos\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de crear un nuevo pedido?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          let body = {},\n            items = [];\n\n          this.state.items.map((item) => {\n            items.push({\n              cant: item.cantidad,\n              price: item.precio,\n              subtotal: item.subtotal,\n              inStorage: item.inStorage,\n              session: item.session,\n              out: item.out,\n              descripcion: item.descripcion,\n              store_items_id: item.store_items_id,\n            });\n            return false;\n          });\n\n          body = {\n            session: this.state.session,\n            contact_id: this.state.contact_id,\n            items: JSON.stringify(items),\n            status: 0,\n          };\n          if (this.state.exam_id) body.exam_id = parseInt(this.state.exam_id);\n          _handleSaveOrder(body);\n        }\n      },\n    });\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class labOrder extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      supplies: [],\n    };\n  }\n  componentDidMount() {\n    this.getContacts();\n  }\n\n  render() {\n    return (\n      <div className=\"row m-2\">\n        <div className=\"col\">\n          <div className=\"border border-warning rounded p-2\">\n            <label>Laboratorio</label>\n            <select\n              className={\n                this.props.status > 1 ? \"form-control disabled\" : \"form-control\"\n              }\n              disabled={this.props.status > 1 ? true : false}\n              name=\"lab_id\"\n              value={this.props.lab_id}\n              onChange={this.changeInput}\n            >\n              <option value=\"0\">Seleccione un proveedor</option>\n              {this.state.supplies.length\n                ? this.state.supplies.map((s) => {\n                    return (\n                      <option key={s.id} value={s.id}>\n                        {s.nombre}\n                      </option>\n                    );\n                  })\n                : \"\"}\n            </select>\n          </div>\n        </div>\n        <div className=\"col\">\n          <div className=\"border border-warning rounded p-2\">\n            <label>Folio</label>\n            <input\n              type=\"text\"\n              className={\n                this.props.status > 1 ? \"form-control disabled\" : \"form-control\"\n              }\n              disabled={this.props.status > 1 ? true : false}\n              name=\"npedidolab\"\n              value={this.props.npedidolab ? this.props.npedidolab : \"\"}\n              onChange={this.changeInput}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  changeInput = (e) => {\n    e.preventDefault();\n    let { name, value } = e.target;\n    this.props.ChangeInput(name, value);\n  };\n  getContacts = () => {\n    //Variables en localStorage\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n      url = \"http://\" + varLocalStorage.host + \"/api/contacts\",\n      type = \"&type=1&business=1\",\n      //search = word ? `&search=${word}` : \"\",\n      page = \"?page=1\";\n    console.log(\"Descargando proveedores de la API\");\n    //Realiza la peticion de los contactos\n    fetch(url + page + type, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + varLocalStorage.token,\n      },\n    })\n      .then((res) => {\n        if (!res.ok) {\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\n        }\n        return res.json();\n      })\n      .then((data) => {\n        if (data.data) {\n          console.log(\"Almacenado proveedores\");\n          this.setState({\n            supplies: data.data,\n          });\n        }\n      });\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class bicelacionOrder extends Component {\n  render() {\n    const { status, ncaja, observaciones } = this.props;\n    return (\n      <div className=\"row m-2\">\n        <div className=\"col\">\n          <div className=\"border border-warning rounded p-2\">\n            <label htmlFor=\"lab\">Caja</label>\n            <input\n              type=\"text\"\n              className={status > 2 ? \"form-control disabled\" : \"form-control\"}\n              disabled={status > 2 ? true : false}\n              name=\"ncaja\"\n              value={ncaja ? ncaja : \"\"}\n              onChange={this.changeInput}\n            />\n          </div>\n        </div>\n        <div className=\"col\">\n          <div className=\"border border-warning rounded p-2\">\n            <label>Observaciones</label>\n            <textarea\n              name=\"observaciones\"\n              className={status > 2 ? \"form-control disabled\" : \"form-control\"}\n              disabled={status > 2 ? true : false}\n              value={observaciones ? observaciones : \"\"}\n              onChange={this.changeInput}\n            ></textarea>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  changeInput = (e) => {\n    e.preventDefault();\n    let { name, value } = e.target;\n    if (name === \"caja\") value = parseInt(value);\n    this.props.ChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport LabOrder from \"./labOrder\";\nimport Bicelacion from \"./bicelacionOrder\";\nimport Exam from \"../Exam/examCustomer\";\nimport { Link } from \"react-router-dom\";\n\nexport default class AddOrder extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: 0,\n      paciente: {},\n      lab_id: 0,\n      npedidolab: \"\",\n      observaciones: \"\",\n      ncaja: 0,\n      items: [],\n      exam: {},\n      status: 0,\n      created_at: null,\n      nota: 0,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    const { order } = this.props;\n\n    this.setState({\n      id: order.id,\n      paciente: order.paciente,\n      lab_id: (order.examen && order.examen.id) ?? 0,\n      npedidolab: order.folio_lab,\n      observaciones: order.observaciones,\n      ncaja: order.caja,\n      items: order.productos,\n      exam: order.examen ?? {},\n      status: order.estado,\n      created_at: order.created_at,\n      nota: (order.nota && order.nota.id) ?? 0,\n      examShow: false,\n    });\n  }\n\n  render() {\n    const {\n        id,\n        paciente,\n        lab_id,\n        npedidolab,\n        ncaja,\n        observaciones,\n        items,\n        exam,\n        nota,\n        status,\n        created_at,\n        examShow,\n      } = this.state,\n      { handleDeleteOrder: DORDER, loading: LOADING } = this.props;\n\n    return (\n      <div className=\"card card-warning card-outline\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">\n            <i className=\"mr-1 fas fa-clipboard-list\"></i>Pedido\n            <span className=\"ml-1 badge badge-pill badge-warning\">{id}</span>\n          </h3>\n          <div className=\"card-tools\">\n            <div className=\"btn-group\">\n              <button\n                className={\n                  status === 0\n                    ? \"btn btn-primary btn-sm\"\n                    : \"btn btn-default btn-sm\"\n                }\n                onClick={(e) => {\n                  if (status !== 0) {\n                    this.setState({\n                      status: 0,\n                    });\n                  }\n                }}\n              >\n                En proceso\n              </button>\n              <button\n                className={\n                  status === 1\n                    ? \"btn btn-primary btn-sm\"\n                    : \"btn btn-default btn-sm\"\n                }\n                onClick={(e) => {\n                  if (status !== 1) {\n                    this.setState({\n                      status: 1,\n                    });\n                  }\n                }}\n              >\n                Laboratorio\n              </button>\n              <button\n                className={\n                  status === 2\n                    ? \"btn btn-primary btn-sm\"\n                    : \"btn btn-default btn-sm\"\n                }\n                onClick={(e) => {\n                  if (status !== 2) {\n                    this.setState({\n                      status: 2,\n                    });\n                  }\n                }}\n              >\n                Bicelacion\n              </button>\n              <button\n                className={\n                  status === 3\n                    ? \"btn btn-primary btn-sm\"\n                    : \"btn btn-default btn-sm\"\n                }\n                onClick={(e) => {\n                  if (status !== 3) {\n                    this.setState({\n                      status: 3,\n                    });\n                  }\n                }}\n              >\n                Terminado\n              </button>\n              <button\n                className={\n                  status === 4\n                    ? \"btn btn-primary btn-sm\"\n                    : \"btn btn-default btn-sm\"\n                }\n                onClick={(e) => {\n                  if (status !== 4) {\n                    this.setState({\n                      status: 4,\n                    });\n                  }\n                }}\n              >\n                Entregado\n              </button>\n            </div>\n          </div>\n        </div>\n        <div className=\"p-0 card-body\">\n          <div className=\"mailbox-read-info\">\n            <h5 className=\"text-capitalize\">\n              <i className=\"mr-1 fas fa-user\"></i>\n              {paciente.nombre}\n            </h5>\n            <h6>\n              {paciente.email ? (\n                <span>\n                  <i className=\"mr-1 fas fa-envelope\"></i>\n                  {paciente.email}\n                </span>\n              ) : null}\n              <span className=\"float-right mailbox-read-time\">\n                {moment(created_at).fromNow()}\n              </span>\n            </h6>\n          </div>\n          <div className=\"text-center mailbox-controls with-border\">\n            <div className=\"btn-group\">\n              {nota ? (\n                <Link\n                  to={\"/notas/registro/\" + nota}\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm text-success\"\n                  title={\"Ver nota: \" + nota}\n                >\n                  <i className=\"fas fa-cash-register\"></i>\n                </Link>\n              ) : (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Delete\"\n                  onClick={(e) => DORDER(id)}\n                >\n                  <i className=\"far fa-trash-alt\"></i>\n                </button>\n              )}\n\n              {paciente.telefonos && paciente.telefonos.t_movil ? (\n                <a\n                  target=\"_blank\"\n                  href={\"https://wa.me/52\" + paciente.telefonos.t_movil}\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Abrir WhatsApp\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <i className=\"fas fa-mobile-alt\"></i>\n                </a>\n              ) : null}\n              {exam.id ? (\n                <button\n                  type=\"button\"\n                  className={\n                    exam.observaciones\n                      ? \"btn btn-default btn-sm text-danger\"\n                      : \"btn btn-default btn-sm\"\n                  }\n                  title={\n                    examShow\n                      ? \"Cerrar examen\"\n                      : \"Ver examen: \" + moment(exam.created_at).fromNow()\n                  }\n                  onClick={this.handleWhachExam}\n                >\n                  <i className=\"fas fa-notes-medical\"></i>\n                </button>\n              ) : null}\n              {/*<button\n                type=\"button\"\n                className=\"btn btn-default btn-sm\"\n                title=\"Imprimir pedido\"\n              >\n                <i className=\"fas fa-print\"></i>\n              </button>*/}\n            </div>\n          </div>\n          {examShow ? (\n            <div className=\"p-2 mailbox-read-message\">\n              <Exam id={exam.id} examEdit={false} exam={exam} />\n            </div>\n          ) : null}\n          <div className=\"p-0 mailbox-read-message\">\n            {status === 0 ? (\n              <div className=\"m-2 form-group\">\n                <h5>\n                  <i className=\"mr-2 fas fa-shopping-cart\"></i>Productos\n                </h5>\n                <div className=\"p-0 table-responsive\">\n                  <table className=\"table\">\n                    <tbody>\n                      {items.map((item, i) => {\n                        return (\n                          <tr key={i}>\n                            <th colSpan=\"row\">{i}</th>\n                            <td>\n                              <span className=\"text text-uppercase\">\n                                {item.producto}\n                              </span>\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            ) : null}\n            {status === 1 ? (\n              <LabOrder\n                lab_id={lab_id}\n                npedidolab={npedidolab}\n                status={status}\n                ChangeInput={this.handleChangeInput}\n              />\n            ) : null}\n            {status === 2 ? (\n              <Bicelacion\n                ncaja={ncaja}\n                observaciones={observaciones}\n                status={status}\n                ChangeInput={this.handleChangeInput}\n              />\n            ) : null}\n            {status >= 3 ? (\n              <div className=\"m-2 border rounded card border-warning\">\n                <div className=\"card-body\">\n                  <h5 className=\"card-title\">Estado de la entrega</h5>\n                  <div className=\"ml-1 icheck-success d-inline\">\n                    <input\n                      type=\"checkbox\"\n                      checked={status === 3 ? false : true}\n                      id=\"checkboxSuccess1\"\n                      onChange={(e) => {\n                        this.handleChangeInput(\"status\", status === 3 ? 4 : 3);\n                      }}\n                    />\n                    <label htmlFor=\"checkboxSuccess1\"></label>\n                  </div>\n                </div>\n              </div>\n            ) : null}\n          </div>\n        </div>\n        <div className=\"card-footer\">\n          <div className=\"text-right mailbox-controls\">\n            <div className=\"btn-group\">\n              <a\n                href=\"#close\"\n                className=\"btn btn-secondary btn-sm\"\n                onClick={(e) => {\n                  const { handleChangeInput } = this.props;\n                  e.preventDefault();\n                  handleChangeInput(\"panel\", 0);\n                }}\n              >\n                <i className=\"mr-2 fas fa-reply\"></i> Cancelar\n              </a>\n              <button\n                className=\"btn btn-warning btn-sm\"\n                onClick={this.handleSave}\n              >\n                <i className=\"mr-2 fas fa-save\"></i> Guardar\n              </button>\n            </div>\n          </div>\n        </div>\n        {LOADING ? (\n          <div className=\"overlay dark\">\n            <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n\n  handleWhachExam = () => {\n    this.setState({\n      examShow: !this.state.examShow,\n    });\n  };\n  handleChangeInput = (key, value) => {\n    this.setState({\n      [key]: value,\n    });\n  };\n  handleSave = (e) => {\n    e.preventDefault();\n    //Verificamos campos validos\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de actualizar el pedido?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Actualizar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          const { id, npedidolab, ncaja, status, lab_id, observaciones } =\n              this.state,\n            { handleSaveOrder: _handleSaveOrder } = this.props;\n          let body = {};\n\n          body = {\n            npedidolab,\n            ncaja,\n            status,\n            observaciones,\n          };\n          if (lab_id) body.lab_id = lab_id;\n          if (status === 1 && !lab_id && toString(npedidolab).length) {\n            window.Swal.fire(\n              \"Verificación\",\n              \"Los campos de laboratorio estan vacios\",\n              \"error\"\n            );\n            return false;\n          }\n          if (status === 2 && !ncaja) {\n            window.Swal.fire(\n              \"Verificación\",\n              \"El numero de caja esta vacio\",\n              \"error\"\n            );\n            return false;\n          }\n\n          _handleSaveOrder(body, id);\n        }\n      },\n    });\n  };\n}\n","import React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport Inbox from \"./inbox\";\nimport Asistent from \"./asistent\";\nimport AddOrder from \"./addOrder\";\nimport Chat from \"../Layouts/messenger\";\nimport {\n  getListOrder,\n  setStateVar,\n  deleteOrder,\n  saveOrder,\n} from \"../../redux/order/actions\";\nimport { getListCategories } from \"../../redux/category/actions\";\n\nclass indexOrderComponent extends Component {\n  constructor(props) {\n    super(props);\n    //Variables en localStorage\n    const sdd = JSON.parse(localStorage.getItem(\"OrusOrderDashboard\")),\n      {\n        status: STATUS,\n        page: PAGE,\n        search: SEARCH,\n        orderby: ORDERBY,\n        order: ORDER,\n        itemsPage: IP,\n      } = props;\n\n    this.state = {\n      panel: sdd ? sdd.panel : 0,\n      order: {},\n      update: false,\n      editId: [],\n      options: {\n        page: PAGE,\n        orderby: ORDERBY,\n        order: ORDER,\n        search: SEARCH,\n        status: STATUS,\n        itemsPage: IP,\n      },\n    };\n  }\n  componentDidMount() {\n    //localStorage.setItem(\"OrusOrderDashboard\", JSON.stringify(this.state));\n    const { options } = this.state,\n      { getListOrder: _getListOrder } = this.props;\n\n    _getListOrder(options);\n  }\n  componentDidUpdate(props, state) {\n    const {\n        orderId: ID,\n        status: STATUS,\n        page: PAGE,\n        search: SEARCH,\n        orderby: ORDERBY,\n        order: ORDER,\n        itemsPage: IP,\n        orders: ORDERS,\n        errors: ERRS,\n        messages: MSGS,\n        //Functions\n        getListOrder: _getListOrder,\n        setStateVar: _setStateVar,\n      } = this.props,\n      { options, panel } = this.state;\n\n    if (state.panel !== panel) {\n      switch (panel) {\n        case 1: {\n          //_getListCategories();\n          break;\n        }\n        case 2: {\n          break;\n        }\n        case 3: {\n          break;\n        }\n        default:\n          if (\n            props.status === STATUS &&\n            props.search === SEARCH &&\n            props.orderby === ORDERBY &&\n            props.page === PAGE &&\n            props.order === ORDER\n          ) {\n            _getListOrder(options);\n          }\n          if (ID) {\n            _setStateVar({\n              key: \"orderId\",\n              val: 0,\n            });\n          }\n          break;\n      }\n    }\n    if (props.orderId !== ID && ID && ORDERS.length) {\n      let order = {};\n\n      ORDERS.forEach((ord) => {\n        if (ord.id === ID) {\n          order = ord;\n        }\n      });\n      if (order.id) {\n        this.setState({\n          panel: 3,\n          order,\n        });\n      }\n    }\n\n    if (\n      (props.orderId !== ID && !ID) ||\n      (props.messages.length !== MSGS.length && MSGS.length && !ERRS.length)\n    ) {\n      this.setState({\n        panel: 0,\n      });\n    }\n\n    if (props.messages.length !== MSGS.length && MSGS.length) {\n      MSGS.forEach((msg) => {\n        const { type, text } = msg;\n        window.Swal.fire({\n          icon: type,\n          title: text,\n          showConfirmButton: type !== \"error\" ? false : true,\n          timer: type !== \"error\" ? 1500 : 9000,\n        });\n      });\n    }\n\n    if (\n      props.status !== STATUS ||\n      props.search !== SEARCH ||\n      props.orderby !== ORDERBY ||\n      props.page !== PAGE ||\n      props.order !== ORDER ||\n      props.itemsPage !== IP\n    ) {\n      //Cambiamos el state local\n      this.setState({\n        options: {\n          page: PAGE,\n          orderby: ORDERBY,\n          order: ORDER,\n          search: SEARCH,\n          status: STATUS,\n          itemsPage: IP,\n        },\n      });\n    }\n  }\n\n  handleChangeInput = (key, value) => {\n    this.setState({\n      [key]: value,\n    });\n  };\n\n  render() {\n    const { panel, update, editId, options, order } = this.state,\n      {\n        orderId,\n        orders: ORDERS_LIST,\n        meta: META,\n        loading: LOADING,\n        categories: CATEGORY_LIST = {},\n      } = this.props;\n    let showpanel = null;\n\n    switch (panel) {\n      case 1:\n        showpanel = <div className=\"text-center\">Cargando examenes</div>;\n        break;\n      case 2:\n        showpanel = (\n          <Asistent\n            categories={CATEGORY_LIST}\n            loading={LOADING}\n            handleChangeInput={this.handleChangeInput}\n            handleGetCategories={this.handleGetCategories}\n            handleSaveOrder={this.handleSaveOrder}\n          />\n        );\n\n        break;\n      case 3:\n        showpanel = (\n          <AddOrder\n            orderId={orderId}\n            order={order}\n            loading={LOADING}\n            handleSaveOrder={this.handleSaveOrder}\n            handleChangeInput={this.handleChangeInput}\n            handleDeleteOrder={this.handleDeleteOrder}\n          />\n        );\n        break;\n      default:\n        showpanel = (\n          <Inbox\n            orders={ORDERS_LIST}\n            meta={META}\n            update={update}\n            editId={editId}\n            options={options}\n            loading={LOADING}\n            handleSearchOrdes={this.handleSearchOrdes}\n            handlePageOrder={this.handlePageOrder}\n            handleDeleteOrder={this.handleDeleteOrder}\n            handleSelectOrder={this.handleSelectOrder}\n          />\n        );\n    }\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-lg-3 col-md-4 col-sm-12\">\n          <a\n            href=\"#new\"\n            className={\n              panel === 2\n                ? \"disabled mb-3 btn btn-secondary btn-block\"\n                : \"mb-3 btn btn-warning btn-block\"\n            }\n            onClick={(e) => {\n              e.preventDefault();\n              this.handleShowPanel(e, 2);\n            }}\n            disabled={panel === 2 ? true : false}\n          >\n            <i className=\"mr-2 fas fa-plus\"></i>\n            Pedido nuevo\n          </a>\n\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h5 className=\"card-title text-dark\">\n                <i className=\"mr-2 fas fa-ellipsis-v\"></i>Menu\n              </h5>\n            </div>\n            <div className=\"p-0 card-body\">\n              <ul className=\"nav nav-pills flex-column p-1 pl-4\">\n                <li className=\"nav-item\">\n                  <a\n                    href=\"#item\"\n                    className={panel === 1 ? \"nav-link active\" : \"nav-link\"}\n                    onClick={(e) => {\n                      e.preventDefault();\n                      this.handleShowPanel(e, 1);\n                    }}\n                  >\n                    <i className=\"mr-2 fas fa-notes-medical\"></i> Examenes sin\n                    pedido\n                  </a>\n                </li>\n                <li className=\"nav-item\">\n                  <a\n                    href=\"#item\"\n                    className={!panel ? \"nav-link active\" : \"nav-link\"}\n                    onClick={(e) => this.handleShowPanel(e, 0)}\n                  >\n                    <i className=\"mr-2 fas fa-clipboard-list\"></i> Pedidos\n                  </a>\n                </li>\n                {!panel ? (\n                  <Fragment>\n                    <li className=\"p-2 nav-item\">\n                      <select\n                        className=\"form-control \"\n                        name=\"status\"\n                        value={options.status}\n                        onChange={this.handleSetSelectOptions}\n                      >\n                        <option value=\"\">-- Seleccione estado --</option>\n                        <option value=\"0\">En proceso</option>\n                        <option value=\"1\">Laboratorio</option>\n                        <option value=\"2\">Bicelación</option>\n                        <option value=\"3\">Terminado</option>\n                        <option value=\"4\">Entregado</option>\n                        <option value=\"5\">Garantia</option>\n                      </select>\n                    </li>\n                    <li className=\"nav-item p-2\">\n                      <select\n                        className=\"form-control \"\n                        name=\"orderby\"\n                        value={options.orderby}\n                        onChange={this.handleSetSelectOptions}\n                      >\n                        <option value=\"\">-- Seleccione orden --</option>\n                        <option value=\"created_at\">Fecha de registro</option>\n                        <option value=\"updated_at\">\n                          Fecha de modificacion\n                        </option>\n                      </select>\n                    </li>\n                    <li className=\"nav-item p-2\">\n                      <select\n                        className=\"form-control \"\n                        name=\"order\"\n                        value={options.order}\n                        onChange={this.handleSetSelectOptions}\n                      >\n                        <option value=\"asc\">Ultimos</option>\n                        <option value=\"desc\">Primeros</option>\n                      </select>\n                    </li>\n                    <li className=\"nav-item p-2\">\n                      <select\n                        className=\"form-control \"\n                        name=\"itemsPage\"\n                        value={options.itemsPage}\n                        onChange={this.handleSetSelectOptions}\n                      >\n                        <option value=\"10\">-- ver 10 --</option>\n                        <option value=\"20\">-- ver 20 --</option>\n                        <option value=\"50\">-- ver 50 --</option>\n                        <option value=\"100\">-- ver 100 --</option>\n                      </select>\n                    </li>\n                  </Fragment>\n                ) : null}\n              </ul>\n            </div>\n          </div>\n\n          {panel === 3 ? <Chat table=\"orders\" idRow={orderId} /> : null}\n        </div>\n        <div className=\"col-lg-9 col-md-8 col-sm-12\">{showpanel}</div>\n      </div>\n    );\n  }\n\n  handleSetSelectOptions = ({ target }) => {\n    const { getListOrder: _getListOrder } = this.props,\n      { options } = this.state,\n      { value, name } = target;\n    let val = value;\n\n    if (name === \"itemsPage\") val = parseInt(val);\n    if (name === \"status\" && val !== \"\") val = parseInt(val);\n\n    _getListOrder({\n      ...options,\n      [name]: val,\n      page: 1,\n    });\n  };\n  handleSaveOrder = (order = {}, id = null) => {\n    const { saveOrder: _saveOrder } = this.props,\n      { options } = this.state;\n    _saveOrder({\n      order,\n      id,\n      options,\n    });\n  };\n  handleGetCategories = (cat_id) => {\n    const { getListCategories: _getListCategories } = this.props;\n\n    _getListCategories({\n      options: {},\n      id: cat_id,\n    });\n  };\n  handleSearchOrdes = (search) => {\n    const { getListOrder: _getListOrder } = this.props,\n      { options } = this.state;\n\n    _getListOrder({\n      ...options,\n      search,\n      page: 1,\n    });\n  };\n  handlePageOrder = (page) => {\n    const { getListOrder: _getListOrder } = this.props,\n      { options } = this.state;\n\n    _getListOrder({\n      ...options,\n      page,\n    });\n  };\n  handleSelectOrder = (id) => {\n    const { setStateVar: _setStateVar } = this.props;\n\n    _setStateVar({\n      key: \"orderId\",\n      val: parseInt(id),\n    });\n  };\n\n  handleDeleteOrder = (id) => {\n    const { deleteOrder: _deleteOrder } = this.props,\n      { options } = this.state;\n\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar el pedido numero \" + id + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          _deleteOrder({\n            id,\n            options,\n          });\n        }\n      },\n    });\n  };\n  handleShowPanel = (e, s) => {\n    e.preventDefault();\n    this.setState({\n      panel: s,\n    });\n  };\n}\n\nconst mapStateToProps = (state) => {\n    return {\n      orders: state.order.list,\n      meta: state.order.metaList,\n      orderId: state.order.orderId,\n      status: state.order.status,\n      page: state.order.page,\n      search: state.order.search,\n      orderby: state.order.orderby,\n      order: state.order.order,\n      itemsPage: state.order.itemsPage,\n      loading: state.order.loading,\n      categories: state.category.list,\n      messages: state.order.messages,\n      errors: state.order.errors,\n    };\n  },\n  mapActionsToProps = {\n    setStateVar,\n    getListOrder,\n    deleteOrder,\n    getListCategories,\n    saveOrder,\n  };\n\nexport default connect(mapStateToProps, mapActionsToProps)(indexOrderComponent);\n","import {TYPE} from \"./types\";\n\nexport const getListCategories = (payload = {}) => ({\n  type: TYPE.SAGA_GET_LIST_CATEGORIES,\n  payload,\n});\n","import React, { Component } from \"react\";\n\nexport default class Filter extends Component {\n  render() {\n    const { search, type, date } = this.props;\n    return (\n      <React.Fragment>\n        <div className=\"btn-group\">\n          <a\n            href=\"#Filters\"\n            className=\"btn btn-tool text-dark\"\n            data-toggle=\"modal\"\n            data-target=\"#filters\"\n          >\n            <i className=\"fas fa-filter\"></i>\n          </a>\n        </div>\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\n          <div className=\"modal-dialog\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\">Busquedas</h5>\n                <button\n                  type=\"button\"\n                  className=\"close\"\n                  data-dismiss=\"modal\"\n                  aria-label=\"Close\"\n                >\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n\n              <form className=\"modal-body\">\n                <div className=\"input-group mb-3\">\n                  <div className=\"input-group-prepend\">\n                    <span className=\"input-group-text\">\n                      <i className=\"fas fa-search\"></i>\n                    </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    name=\"search\"\n                    className=\"form-control\"\n                    placeholder=\"Por: paciente o # de venta\"\n                    value={search}\n                    onChange={this.changeFilters}\n                    onKeyPress={this.onKeyPressSearch}\n                  />\n                </div>\n\n                <div className=\"input-group mb-3\">\n                  <label>Estado</label>\n                  <div className=\"input-group-prepend ml-4\">\n                    <span className=\"input-group-text\">\n                      <i className=\"fas fa-address-book\"></i>\n                    </span>\n                  </div>\n                  <select\n                    className=\"form-control\"\n                    name=\"type\"\n                    value={type}\n                    onChange={this.changeFilters}\n                  >\n                    <option value=\"\">Todos</option>\n                    <option value=\"0\">Adeudos</option>\n                    <option value=\"1\">Pagados</option>\n                  </select>\n                </div>\n\n                <div className=\"input-group mb-3\">\n                  <label>Fecha</label>\n                  <div className=\"input-group-prepend\">\n                    <span className=\"input-group-text\">\n                      <i className=\"fas fa-search\"></i>\n                    </span>\n                  </div>\n                  <input\n                    type=\"date\"\n                    name=\"date\"\n                    className=\"form-control\"\n                    value={date}\n                    onChange={this.changeFilters}\n                    onKeyPress={this.onKeyPressSearch}\n                  />\n                </div>\n              </form>\n\n              <div className=\"modal-footer\">\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-dark\"\n                    data-dismiss=\"modal\"\n                  >\n                    <i className=\"fas fa-window-close mr-2\"></i>\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={\n                      search || type\n                        ? \"btn btn-outline-dark\"\n                        : \"btn btn-outline-dark disabled\"\n                    }\n                    onClick={this.onClickClean}\n                  >\n                    <i className=\"fas fa-eraser mr-2\"></i>\n                    Limpiar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-outline-dark\"\n                    onClick={this.setFilters}\n                    data-dismiss=\"modal\"\n                  >\n                    <i className=\"fas fa-search mr-2\"></i>\n                    Buscar\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  onKeyPressSearch = (e) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      this.setFilters();\n    }\n  };\n  onClickClean = () => {\n    this.props.changeFilters(\"search\", \"\");\n    this.props.changeFilters(\"type\", \"\");\n    this.props.changeFilters(\"date\", \"\");\n    this.setFilters();\n  };\n  setFilters = () => {\n    this.props.handleChangePage(1);\n    window.$(\"#filters\").modal(\"hide\");\n  };\n  changeFilters = (e) => {\n    const { name, value } = e.target;\n    this.props.changeFilters(name, value);\n  };\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport Header from \"../Layouts/headerTable\";\nimport Filter from \"./index_filter\";\nimport Pagination from \"../Layouts/pagination\";\nimport Actions from \"../Layouts/actionsTable\";\n\nexport default class Contacts extends Component {\n  constructor(props) {\n    super(props);\n    //Variables en localStorage\n    let sdd = JSON.parse(localStorage.getItem(\"OrusSales\"));\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      ventas: {\n        data: [],\n        meta: {},\n      },\n      load: true,\n      page: sdd ? sdd.page : 1,\n      orderby: sdd ? sdd.orderby : \"created_at\",\n      order: sdd ? sdd.order : \"desc\",\n      search: sdd ? sdd.search : \"\",\n      type: sdd ? sdd.type : \"\",\n      date: sdd ? sdd.date : \"\",\n      host: ls.host,\n      token: ls.token,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    this.getPedidos();\n    console.log(\"[Sales] Eliminando datos de contacto en uso\");\n    localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\n    localStorage.setItem(\n      \"OrusSales\",\n      JSON.stringify({\n        page: this.state.page,\n        orderby: this.state.orderby,\n        order: this.state.order,\n        search: this.state.search,\n        type: this.state.type,\n        date: this.state.date,\n      })\n    );\n  }\n  componentDidUpdate(props, state) {\n    if (state.load === false && this.state.load === true) {\n      console.log(\"Recargando pedidos\");\n      this.getPedidos();\n      localStorage.setItem(\n        \"OrusSales\",\n        JSON.stringify({\n          page: this.state.page,\n          orderby: this.state.orderby,\n          order: this.state.order,\n          search: this.state.search,\n          type: this.state.type,\n          date: this.state.date,\n        })\n      );\n    }\n  }\n\n  render() {\n    let { ventas, load, search, type, date } = this.state,\n      dataHeaders = [\n        { name: \"Folio\", type: \"id\", filter: true },\n        { name: \"Pedido\", type: \"pedido\", filter: false },\n        { name: \"Cliente\" },\n        { name: \"Total\", type: \"total\", filter: true },\n        { name: \"Abonado\" },\n        { name: \"Por pagar\" },\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\n        { name: \"Registrado\", type: \"created_at\", filter: true },\n      ];\n\n    return (\n      <div className=\"card card-success card-outline\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title text-success\">\n            <i className=\"fas fa-cash-register mr-1\"></i>\n            Listado de ventas\n          </h3>\n          <div className=\"card-tools\">\n            <Link\n              to=\"/notas/registro\"\n              className=\"btn btn-outline-dark\"\n              onClick={(e) => {\n                this.changePage(\"/notas/registro\");\n              }}\n            >\n              <i className=\"fas fa-plus\"></i>\n            </Link>\n            <Filter\n              search={search}\n              type={type}\n              date={date}\n              changeFilters={this.onchangeSearch}\n              handleChangePage={this.handleChangePage}\n            />\n            <Pagination\n              meta={ventas.meta}\n              handleChangePage={this.handleChangePage}\n            />\n          </div>\n        </div>\n        <div className=\"card-body table-responsive p-0\">\n          <table className=\"table table-sm table-bordered table-hover\">\n            <Header\n              orderby={this.state.orderby}\n              order={this.state.order}\n              data={dataHeaders}\n              actions={true}\n              handleOrder={this.handleOrder}\n            />\n            <tbody>\n              {load ? (\n                <tr>\n                  <td colSpan=\"10\" className=\"text-center p-4\">\n                    <div\n                      className=\"spinner-border text-primary mr-4\"\n                      role=\"status\"\n                    >\n                      <span className=\"sr-only\">Loading...</span>\n                    </div>\n                    <span className=\"font-weight-light font-italic\">\n                      Espere cargando datos de la venta\n                    </span>\n                  </td>\n                </tr>\n              ) : Object.keys(ventas.data).length ? (\n                ventas.data.map((venta) => {\n                  return (\n                    <tr key={venta.id}>\n                      <td>\n                        <span className=\"badge badge-success text-capitalize\">\n                          {venta.id}\n                        </span>\n                      </td>\n                      <td>\n                        {venta.pedido ? (\n                          <span className=\"badge badge-warning text-capitalize\">\n                            {venta.pedido}\n                          </span>\n                        ) : (\n                          \"--\"\n                        )}\n                      </td>\n                      <td className=\"text-uppercase\">\n                        <Link to={\"/notas/registro/\" + venta.id}>\n                          <span className=\"badge badge-danger text-capitalize p-1\">\n                            {venta.cliente.nombre}\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\n                          </span>\n                        </Link>\n                      </td>\n                      <td className=\"text-right\">$ {venta.total.toFixed(2)}</td>\n                      <td className=\"text-right\">\n                        $ {venta.pagado.toFixed(2)}\n                      </td>\n                      <td className=\"text-right\">\n                        {venta.total - venta.pagado <= 0 ? (\n                          <label className=\"text-success\">\n                            <i className=\"fas fa-check\"></i>\n                          </label>\n                        ) : (\n                          \"$ \" + (venta.total - venta.pagado).toFixed(2)\n                        )}\n                      </td>\n                      <td>{moment(venta.updated_at).fromNow()}</td>\n                      <td>{moment(venta.created_at).format(\"ll\")}</td>\n                      <Actions\n                        id={venta.id}\n                        item={venta.cliente.nombre}\n                        delete={venta.pagado ? null : this.handleDelete}\n                        edit={\"/notas/registro/\"}\n                      />\n                    </tr>\n                  );\n                })\n              ) : (\n                <tr>\n                  <th colSpan=\"10\" className=\"text-center\">\n                    No hay datos para mostrar\n                  </th>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n        <div className=\"card-footer text-right\">\n          <Link\n            to=\"/notas/registro\"\n            className=\"btn btn-outline-success\"\n            onClick={(e) => {\n              this.changePage(\"/notas/registro\");\n            }}\n          >\n            <i className=\"fas fa-plus mr-2\"></i>\n            <strong>Nueva venta</strong>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  handleFilter = () => {\n    this.setState({\n      load: true,\n      page: 1,\n    });\n  };\n  onchangeSearch = (key, value) => {\n    this.setState({\n      [key]: value,\n    });\n  };\n  handleOrder = (item) => {\n    this.setState({\n      orderby: item,\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\n      load: true,\n    });\n  };\n  handleChangePage = (id) => {\n    this.setState({\n      page: id,\n      load: true,\n    });\n  };\n  changePage = (id) => {\n    this.props.page(id);\n  };\n  handleDelete = (id, item) => {\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar la venta de \" + item.toUpperCase() + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          const { host, token } = this.state;\n\n          //Inicio de proceso de eliminción por API\n          console.log(\"Solicitud de eliminación de venta por API\");\n          return fetch(\"http://\" + host + \"/api/sales/\" + id, {\n            method: \"DELETE\",\n            signal: this.signal,\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        console.log(\"Venta eliminada\");\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Venta eliminada con exito\",\n          showConfirmButton: false,\n          timer: 1500,\n        }).then((res) => this.getPedidos());\n      } else if (result && !result.dismiss) {\n        console.log(\"Orus res: \", result);\n        window.Swal.fire(\n          \"Error\",\n          \"Se perdio la conexion con el servidor\",\n          \"error\"\n        );\n      }\n    });\n  };\n  getPedidos = () => {\n    //Variables en localStorage\n    const { host, token, order, orderby, search, page, type, date, load } =\n        this.state,\n      url = \"http://\" + host + \"/api/sales\",\n      ordenar = `&orderby=${orderby}&order=${order}`,\n      buscar = search ? `&search=${search}` : \"\",\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\",\n      tipo = type === \"\" ? \"\" : \"&type=\" + type,\n      fecha = date === \"\" ? \"\" : \"&date=\" + date;\n\n    //Mandamos señal de carga si no lo he hecho\n    if (!load) {\n      this.setState({\n        load: true,\n      });\n    }\n\n    //Realiza la peticion de ventas\n    console.log(\"Descargando ventas de API\");\n    fetch(url + pagina + ordenar + buscar + tipo + fecha, {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((res) => {\n        if (!res.ok) {\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\n          console.log(res);\n        }\n        return res.json();\n      })\n      .then((data) => {\n        console.log(\"Descargando ventas\");\n        this.setState({\n          ventas: data,\n          load: false,\n        });\n      });\n  };\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\n\nexport default class AddAbono extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      metodopago: 1,\n      total: 0,\n      bank_id: 0,\n      auth: \"\",\n      details: \"\",\n      listBank: [],\n      token: ls.token,\n      host: ls.host,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentDidMount() {\n    this.getBaks();\n  }\n  componentDidUpdate(props, state) {\n    if (this.state.listBank === undefined || !this.state.listBank.length) {\n      this.getBaks();\n    }\n  }\n\n  render() {\n    const { listBank, metodopago, total, bank_id, auth, details } = this.state;\n\n    return (\n      <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"abonos\">\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">Abono</h5>\n              <button\n                type=\"button\"\n                className=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n              >\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n\n            <form className=\"modal-body\">\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <label>Fecha</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control-plaintext\"\n                    readOnly={true}\n                    value={moment().format(\"L\")}\n                  />\n                </div>\n                <div className=\"col\">\n                  <label>Usuario</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control-plaintext\"\n                    readOnly={true}\n                    value={this.props.user}\n                  />\n                </div>\n              </div>\n\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <label>Metodo de pago</label>\n                  <select\n                    name=\"metodopago\"\n                    className=\"custom-select\"\n                    value={metodopago}\n                    onChange={this.onChangeValue}\n                  >\n                    <option value=\"1\">Efectivo</option>\n                    <option value=\"2\">Tarjeta de debito</option>\n                    <option value=\"3\">Tarjeta de credito</option>\n                    <option value=\"4\">La marina</option>\n                    <option value=\"5\">Cheque</option>\n                    <option value=\"6\">Transferencia</option>\n                    <option value=\"0\">Otro</option>\n                  </select>\n                </div>\n                <div className=\"col\">\n                  <label>Cantidad</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max={this.props.pay}\n                    className=\"form-control text-right\"\n                    name=\"total\"\n                    value={total ? total : \"\"}\n                    onChange={this.onChangeValue}\n                  />\n                </div>\n              </div>\n\n              {metodopago !== 1 ? (\n                <div className=\"row mb-2\">\n                  <div className=\"col\">\n                    {metodopago &&\n                    metodopago !== 4 &&\n                    listBank &&\n                    listBank.length ? (\n                      <React.Fragment>\n                        <label>Banco</label>\n                        <select\n                          name=\"bank_id\"\n                          className=\"custom-select text-uppercase\"\n                          value={bank_id}\n                          onChange={this.onChangeValue}\n                        >\n                          <option value=\"0\">Seleccione un banco</option>\n                          {listBank.map((bank) => {\n                            return (\n                              <option\n                                key={bank.id}\n                                value={bank.id}\n                                className=\"text-uppercase\"\n                              >\n                                {bank.name}\n                              </option>\n                            );\n                          })}\n                        </select>\n                      </React.Fragment>\n                    ) : !metodopago ? (\n                      <React.Fragment>\n                        <label>Espesifique</label>\n                        <input\n                          type=\"text\"\n                          name=\"details\"\n                          className=\"form-control\"\n                          value={details}\n                          onChange={this.onChangeValue}\n                        />\n                      </React.Fragment>\n                    ) : (\n                      <h4>LA MARINA</h4>\n                    )}\n                  </div>\n                  <div className=\"col\">\n                    <label>N. Autorización</label>\n                    <input\n                      type=\"text\"\n                      name=\"auth\"\n                      className=\"form-control\"\n                      value={auth}\n                      onChange={this.onChangeValue}\n                    />\n                  </div>\n                </div>\n              ) : null}\n            </form>\n\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-dark\"\n                data-dismiss=\"modal\"\n              >\n                Cancelar\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={this.handlePay}\n                data-dismiss=\"modal\"\n              >\n                Abonar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  getBaks = () => {\n    const { host, token } = this.state,\n      type = \"?name=bank\";\n\n    //Peticion ajax de listado de bancos\n    console.log(\"[Add pay]Descargando listado de bancos\");\n    fetch(\"http://\" + host + \"/api/config\" + type, {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then(async (response) => {\n        let back = {};\n        if (response.status !== 204) back = await response.json();\n        if (!response.ok) {\n          throw new Error(back.message);\n        }\n        return back;\n      })\n      .then((data) => {\n        if (data.meta && data.meta.total) {\n          console.log(\"[Add pay] Listado de bancos descargado\");\n          this.setState({\n            listBank: data.data,\n          });\n        }\n      })\n      .catch((e) => {\n        console.error(\"[Orus system] \", e);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n      });\n  };\n  handlePay = (e) => {\n    e.preventDefault();\n\n    //Verificamos campos validos\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de realizar el abono?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Guardar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          let body = {\n              metodopago: this.state.metodopago,\n              total: this.state.total,\n              bank_id: this.state.bank_id,\n              auth: this.state.auth,\n              details: this.state.details,\n              //Agregamos parametros de identificación\n              sale_id: this.props.saleId,\n              contact_id: this.props.contactId,\n              order_id: this.props.order,\n            },\n            ls = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n            url = \"http://\" + ls.host + \"/api/payments\";\n\n          //Si la variable banco no esta definida la eliminamos no puede ir en cero\n          if (!body[\"bank_id\"]) delete body[\"bank_id\"];\n\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\n          console.log(\"Enviando datos del pago a API para almacenar\");\n          return fetch(url, {\n            method: \"POST\",\n            body: JSON.stringify(body),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + ls.token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(response.statusText + \"(\" + back.message + \")\");\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n\n        if (data.data) {\n          console.log(\"[abonodAdd] Abono almacenado\");\n          this.props.handleChange(this.state.total);\n          this.setState({\n            metodopago: 1,\n            total: 0,\n            bank_id: 0,\n            banco: \"\",\n            auth: \"\",\n            details: \"\",\n          });\n          window.Swal.fire({\n            icon: \"success\",\n            title: \"Abono almacenado con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar el abono\", \"error\");\n          console.error(\"Orus res: \", data.message);\n        }\n      }\n    });\n  };\n  onChangeValue = (e) => {\n    let { name, value, type } = e.target;\n    if (name === \"total\") {\n      value = parseInt(value);\n      if (value > this.props.pay) value = this.props.pay;\n      else if (value < 0) value = 0;\n    }\n    if (name === \"metodopago\" || type === \"number\") value = parseInt(value);\n\n    if (name === \"metodopago\" && value === 1) {\n      this.setState({\n        metodopago: 1,\n        bank_id: 0,\n        auth: \"\",\n        details: \"\",\n      });\n    } else {\n      this.setState({\n        [name]: value,\n      });\n    }\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class printPay extends Component {\n  render() {\n    const { id, client } = this.props;\n\n    return (\n      <div className=\"d-none d-print-block\" style={{ width: 340 }} id={id}>\n        <div className=\"row\">\n          <div className=\"col\">\n            <div className=\"card m-0\">\n              <div className=\"card-body\">\n                <h1 className=\"text-center\">\n                  <center>\n                    <strong>Óptica Madero</strong>\n                  </center>\n                </h1>\n                <h3>\n                  <em>\n                    Julio Cesar Cardenas Martinez\n                    <br />\n                    Tel: 312 312 5353\n                    <br />\n                    Av. Tecnologico 38-A, Vistahermosa, Colima, Col.\n                  </em>\n                </h3>\n                <hr />\n                <h4 className=\"text-uppercase\">\n                  {client && client.nombre ? client.nombre.toUpperCase() : null}\n                  <br />\n                  {client.telefonos\n                    ? client.telefonos[0]\n                      ? client.telefonos[0]\n                      : client.telefonos[2]\n                    : \"--\"}\n                </h4>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <center>\n              <h2 className=\"text-center\">Abono</h2>\n            </center>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport AddAbono from \"./abonoAdd\";\nimport Print from \"./print_pay\";\n\nexport default class ListAbonos extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      abonos: [],\n      total: 0,\n      load: true,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentDidMount() {\n    this.getPayments();\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n\n  render() {\n    let { abonos, total, load } = this.state;\n    const { id, date, contact, order, pay, user, sale, cliente, data } =\n      this.props;\n\n    return (\n      <React.Fragment>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Fecha</th>\n              <th scope=\"col\">Metodo de pago</th>\n              <th scope=\"col\">Cantidad</th>\n              <th scope=\"col\">Recibio</th>\n              <th scope=\"col\">Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            {abonos.length && !load ? (\n              <React.Fragment>\n                {abonos.map((abono) => {\n                  return (\n                    <tr key={abono.id}>\n                      <td>{moment(abono.created_at).format(\"L\")}</td>\n                      <td>\n                        {this.SetMethodPayment(abono.metodo)}\n                        {abono.metodo !== 1 ? (\n                          <span className=\"ml-4\">\n                            {abono.banco ? abono.banco : \"--\"} /{\" \"}\n                            {abono.Autorizacion ? abono.Autorizacion : \"--\"}\n                          </span>\n                        ) : null}\n                      </td>\n                      <td className=\"text-right\">$ {abono.total.toFixed(2)}</td>\n                      <td>{abono.created_user}</td>\n                      <td className=\"text-right\">\n                        {moment(new Date()).isSame(abono.created_at, \"day\") ? (\n                          <button\n                            className=\"btn btn-black btn-sm\"\n                            onClick={() => {\n                              this.delete(abono.id);\n                            }}\n                          >\n                            <i className=\"fas fa-trash\"></i>\n                          </button>\n                        ) : null}\n\n                        <button\n                          className=\"btn btn-outline-light btn-sm\"\n                          onClick={() => {\n                            this.print(\n                              abono.total,\n                              moment(abono.created_at).format(\"L\"),\n                              abono.id\n                            );\n                          }}\n                        >\n                          <i className=\"fas fa-print\"></i>\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </React.Fragment>\n            ) : load ? (\n              <tr>\n                <td colSpan=\"5\" className=\"text-center p-4\">\n                  <div\n                    className=\"spinner-border text-primary mr-4\"\n                    role=\"status\"\n                  >\n                    <span className=\"sr-only\">Loading...</span>\n                  </div>\n                  <span className=\"font-weight-light font-italic\">\n                    Espere cargando datos de la venta\n                  </span>\n                </td>\n              </tr>\n            ) : (\n              <tr>\n                <td colSpan=\"5\" className=\"text-center\">\n                  No hay abonos registrados\n                </td>\n              </tr>\n            )}\n          </tbody>\n          <tfoot>\n            <tr>\n              <th scope=\"row\" colSpan=\"3\" className=\"text-right\">\n                {this.props.pay ? (\n                  <a\n                    href=\"#abonos\"\n                    className={\n                      this.props.pay\n                        ? \"btn btn-outline-success btn-sm mr-2\"\n                        : \"btn btn-outline-success btn-sm mr-2 disabled\"\n                    }\n                    data-toggle=\"modal\"\n                    data-target=\"#abonos\"\n                    aria-disabled={this.props.pay ? false : true}\n                  >\n                    <i className=\"fas fa-money-bill-wave-alt\"></i>\n                  </a>\n                ) : null}\n                Total: $ {total.toFixed(2)}\n              </th>\n              <td colSpan=\"2\"></td>\n            </tr>\n          </tfoot>\n        </table>\n        <AddAbono\n          pay={pay}\n          user={user}\n          saleId={sale}\n          contactId={contact}\n          order={order}\n          data={data}\n          handleChange={this.handleChange}\n          handleLoad={this.handleLoad}\n        />\n        <Print\n          folio={id}\n          date={date}\n          contact={contact}\n          client={cliente}\n          id=\"print_pay\"\n        />\n      </React.Fragment>\n    );\n  }\n\n  delete = (id) => {\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar el abono?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm && id) {\n          const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\n          //Inicio de proceso de eliminción por API\n          console.log(\"Solicitud de eliminación de venta por API\");\n          return fetch(\"http://\" + ls.host + \"/api/payments/\" + id, {\n            method: \"DELETE\",\n            signal: this.signal,\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + ls.token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        console.log(\"Abono eliminado\");\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Abono eliminado con exito\",\n          showConfirmButton: false,\n          timer: 1500,\n        }).then((res) => this.getPayments());\n      } else if (result && !result.dismiss) {\n        console.log(\"Orus res: \", result);\n        window.Swal.fire(\n          \"Error\",\n          \"Se perdio la conexion con el servidor\",\n          \"error\"\n        );\n      }\n    });\n  };\n  print = (total, date, id) => {\n    let content = document.getElementById(\"print_pay\"),\n      pri = document.getElementById(\"ifmcontentstoprint\").contentWindow;\n\n    pri.document.open();\n    pri.document.write(content.innerHTML);\n    pri.document.write(\"<fieldset><h3>\");\n    pri.document.write(\"Fecha: \" + date);\n    pri.document.write(\"<br/>Folio: \" + id);\n    pri.document.write(\"<br/>Monto: $ \" + total.toFixed(2));\n    pri.document.write(\"</h3></fieldset>\");\n    pri.document.close();\n    pri.focus();\n    pri.print();\n  };\n  handleLoad = (load) => {\n    this.setState({\n      load,\n    });\n  };\n  handleChange = (total) => {\n    this.setState({\n      total: this.state.total + total,\n    });\n    this.getPayments();\n  };\n  SetMethodPayment = (status) => {\n    switch (status) {\n      case 1:\n        return (\n          <span className=\"badge badge-success text-uppercase\">Efectivo</span>\n        );\n      case 2:\n        return (\n          <span className=\"badge badge-success text-uppercase\">\n            Tarjeta debito\n          </span>\n        );\n      case 3:\n        return (\n          <span className=\"badge badge-success text-uppercase\">\n            Tarjeta Credito\n          </span>\n        );\n      case 4:\n        return (\n          <span className=\"badge badge-success text-uppercase\">La marina</span>\n        );\n      case 5:\n        return (\n          <span className=\"badge badge-success text-uppercase\">Cheque</span>\n        );\n      case 6:\n        return (\n          <span className=\"badge badge-success text-uppercase\">\n            Transferencia\n          </span>\n        );\n      default:\n        return <span className=\"badge badge-success text-uppercase\">Otro</span>;\n    }\n  };\n  getPayments = () => {\n    //Variables en localStorage\n    const varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n      order = \"&order=desc\",\n      sale = \"?sale=\" + this.props.sale;\n\n    //Mandamos señal de procesamiento\n    if (!this.state.load) {\n      this.setState({\n        load: true,\n      });\n    }\n    //Realiza la peticion del usuario seun el id\n    console.log(\"Descargando datos de los pagos\");\n    fetch(\"http://\" + varLocalStorage.host + \"/api/payments\" + sale + order, {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        Authorization: \"Bearer \" + varLocalStorage.token,\n      },\n    })\n      .then((res) => {\n        if (!res.ok) {\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\n          console.log(res);\n        }\n        return res.json();\n      })\n      .then((data) => {\n        if (data.meta && data.meta.total) {\n          console.log(\"[Payments] Almacenando abonos\");\n          let total = 0;\n          for (var i = 0; i < data.data.length; i++) {\n            total += data.data[i].total;\n          }\n          this.props.handleChange(\"pagado\", total * 1);\n          this.setState({\n            abonos: data.data,\n            total,\n            load: false,\n          });\n        } else {\n          this.setState({\n            load: false,\n          });\n        }\n      });\n  };\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\n\nexport default class printSale extends Component {\n  render() {\n    const { items, descuento, total, saldo, abonado, folio, date, id } =\n      this.props;\n    let totalItems = 0,\n      client = this.props.cliente;\n\n    return (\n      <div className=\"d-none d-print-block\" style={{ width: 340 }} id={id}>\n        <div className=\"row\">\n          <div className=\"col\">\n            <div className=\"card m-0\">\n              <div className=\"card-body\">\n                <h4\n                  className=\"text-right\"\n                  style={{ fontSize: 28, fontFamily: \"sans-serif\" }}\n                >\n                  <i>\n                    Folio: <strong>{folio}</strong>\n                  </i>\n                </h4>\n                <h6\n                  className=\"text-right mb-2\"\n                  style={{ fontSize: 18, fontFamily: \"sans-serif\" }}\n                >\n                  <strong>{moment(date).format(\"LL\")}</strong>\n                </h6>\n                <h2\n                  className=\"text-center\"\n                  style={{ fontSize: 54, fontFamily: \"sans-serif\" }}\n                >\n                  <center>\n                    <strong>Óptica Madero</strong>\n                  </center>\n                </h2>\n                <h4\n                  className=\"text-center mb-4\"\n                  style={{ fontSize: 22, fontFamily: \"sans-serif\" }}\n                >\n                  <em>\n                    Julio Cesar Cardenas Martinez\n                    <br />\n                    Tel: 312 312 5353\n                    <br />\n                    Av. Tecnologico 38-A, Vistahermosa, Colima, Col.\n                  </em>\n                </h4>\n                <h4\n                  className=\"text-uppercase text-center mb-1\"\n                  style={{ fontSize: 20, fontFamily: \"sans-serif\" }}\n                >\n                  {client && client.nombre\n                    ? client.nombre\n                    : \"Venta de mostrador\"}\n                  <br />\n                  <strong>\n                    <em style={{ fontSize: 24 }}>\n                      {client && client.telefonos\n                        ? client.telefonos.t_movil\n                          ? client.telefonos.t_movil\n                          : client.telefonos.t_casa\n                          ? client.telefonos.t_casa\n                          : client.telefonos.t_oficina\n                        : \"--\"}\n                    </em>\n                  </strong>\n                </h4>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col text-center\">\n            <h2 style={{ fontSize: 36, fontFamily: \"sans-serif\" }}>\n              <strong>Pedido</strong>\n            </h2>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <table className=\"table\">\n              <thead>\n                <tr>\n                  <th style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                    Cant\n                  </th>\n                  <th style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                    Descripcion\n                  </th>\n                  <th style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                    Total\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                {items.map((item, index) => {\n                  const total = parseFloat(item.cantidad * item.precio);\n                  totalItems += total;\n                  return (\n                    <tr key={index} className=\"text-capitalize\">\n                      <td style={{ fontSize: 22, fontFamily: \"sans-serif\" }}>\n                        {item.cantidad}\n                      </td>\n                      <td style={{ fontSize: 22, fontFamily: \"sans-serif\" }}>\n                        {item.producto}\n                      </td>\n                      <td\n                        className=\"text-right\"\n                        style={{ fontSize: 24, fontFamily: \"sans-serif\" }}\n                      >\n                        {total.toFixed(2)}\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td className=\"text-right\" colSpan=\"3\">\n                    {descuento ? (\n                      <React.Fragment>\n                        <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                          Subtotal: <label>$ {totalItems.toFixed(2)}</label>\n                        </h4>\n                        <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                          Descuento: <label>$ {descuento.toFixed(2)}</label>\n                        </h4>\n                      </React.Fragment>\n                    ) : null}\n                    <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                      Total: <label>$ {total.toFixed(2)}</label>\n                    </h4>\n                    {abonado ? (\n                      <React.Fragment>\n                        <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                          Abonado: <label>$ {abonado.toFixed(2)}</label>\n                        </h4>\n                        <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                          Saldo: <label>$ {saldo.toFixed(2)}</label>\n                        </h4>\n                      </React.Fragment>\n                    ) : null}\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n        </div>\n        <div className=\"text-center\">\n          <em style={{ fontSize: 22, fontFamily: \"sans-serif\" }}>\n            Armazones usados, viejos y/o resecos son responsabilidad del cliente\n          </em>\n        </div>\n      </div>\n    );\n  }\n\n  getContact = (id) => {\n    //Variables en localStorage\n    const varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    //Realiza busqueda de contacto\n    fetch(\"http://\" + varLocalStorage.host + \"/api/contacts/\" + id, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + varLocalStorage.token,\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(\"Descargando contacto: data\", data);\n        this.setState({\n          dataContact: data.data,\n        });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class edoCuenta extends Component {\n  render() {\n    const { pay, descuento, subtotal, total, pagado } = this.props;\n    return (\n      <div className=\"card card-success card-outline\">\n        <div className=\"card-body\">\n          <h5 className=\"card-title mb-4\">\n            <i className=\"fas fa-shield-alt mr-2\"></i>\n            Estado de cuenta\n            {!pay ? (\n              <span className=\"badge badge-success ml-2\">Cuenta liquidada</span>\n            ) : (\n              \"\"\n            )}\n          </h5>\n\n          <div className=\"card-text form-group row\">\n            <label className=\"col-6\">Descuento</label>\n            <div className=\"col\">\n              <input\n                className={\n                  pagado\n                    ? \"form-control text-right text-success disabled\"\n                    : \"form-control text-right text-success\"\n                }\n                type=\"number\"\n                name=\"descuento\"\n                min=\"0\"\n                max={subtotal - descuento}\n                readOnly={pay && !pagado ? false : true}\n                value={descuento ? parseInt(descuento) : \"\"}\n                onChange={this.catchInputs}\n              />\n            </div>\n          </div>\n          <div className=\"card-text form-group row\">\n            <label className=\"col-6\">Total</label>\n            <div className=\"col\">\n              <input\n                className=\"form-control text-right text-success\"\n                type=\"number\"\n                name=\"total\"\n                value={total.toFixed(2)}\n                onChange={this.catchInputs}\n                readOnly={true}\n              />\n            </div>\n          </div>\n\n          <div className=\"card-text row\">\n            <label className=\"col-6 p-2\">Abonado</label>\n            <h3 className=\"col text-success p-2 text-right\">\n              $ {pagado.toFixed(2)}\n            </h3>\n          </div>\n          <div className=\"card-text row\">\n            <label className=\"col-6 p-2\">Saldo</label>\n            <h3 className=\"col text-success p-2 text-right\">\n              $ {pay.toFixed(2)}\n            </h3>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  catchInputs = (e) => {\n    this.props.catchInputs(e);\n  };\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport SearchContact from \"../Contacts/searchContactCard\";\nimport Items from \"../Order/itemsOrder\";\nimport Abonos from \"./abonos\";\nimport Print from \"./print_sale\";\nimport EdoCuenta from \"./edoCuenta\";\nimport Chat from \"../Layouts/messenger\";\n\nexport default class SaleAdd extends Component {\n  constructor(props) {\n    super(props);\n    const contact = JSON.parse(localStorage.getItem(\"OrusContactInUse\")),\n      id = this.props.match.params.id,\n      contact_id = id ? 0 : 2;\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\n    this.state = {\n      id: id,\n      session:\n        Math.random().toString(36).substring(2, 16) +\n        Math.random().toString(36).substring(2, 16) +\n        Math.random().toString(36).substring(2, 16) +\n        Math.random().toString(36).substring(2, 16) +\n        Math.random().toString(36).substring(2, 16) +\n        Math.random().toString(36).substring(2, 16) +\n        Math.random().toString(10),\n      descuento: 0,\n      subtotal: 0,\n      total: 0,\n      items: [],\n      contact_id: contact && contact.id ? contact.id : contact_id,\n      cliente: {},\n      order_id: 0,\n      status: 0,\n      usuario: \"\",\n      date: Date.now(),\n      load: true,\n      pagado: 0,\n      host: ls.host,\n      token: ls.token,\n    };\n    this.total = 0;\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    let { id } = this.state;\n    this.getSales(id);\n    localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\n  }\n\n  render() {\n    let {\n        contact_id,\n        cliente,\n        subtotal,\n        descuento,\n        pagado,\n        items,\n        status,\n        id,\n        session,\n        load,\n        date,\n        order_id,\n      } = this.state,\n      pay = subtotal - (descuento + pagado),\n      { data } = this.props,\n      chat = order_id ? (\n        <Chat data={data} table=\"orders\" idRow={order_id} pagado={pagado} />\n      ) : (\n        <Chat data={data} table=\"sales\" idRow={id} pagado={pagado} />\n      );\n\n    this.total = subtotal - descuento;\n    pay = pay > 0 ? pay : 0;\n    return (\n      <React.Fragment>\n        <div className=\"row d-print-none\">\n          <div className=\"col-3\">\n            <SearchContact\n              contact={contact_id}\n              status={status}\n              getIdContact={this.getIdContact}\n              changePage={this.changePage}\n            />\n          </div>\n          <div className=\"col\">\n            <div className=\"card card-success card-outline\">\n              <div className=\"card-body p-0\">\n                {contact_id && !load ? (\n                  <React.Fragment>\n                    <div className=\"row mx-2 my-4\">\n                      <div className=\"col-2\">\n                        <div className=\"border border-success rounded p-2 d-flex justify-content-between align-items-center\">\n                          <span className=\"badge badge-pill badge-success mx-2\">\n                            Venta\n                          </span>\n                          <strong>{id ? id : \"Nuevo\"}</strong>\n                        </div>\n                      </div>\n                      <div className=\"col\">\n                        <div className=\"border border-success rounded p-2 d-flex justify-content-between align-items-center\">\n                          <span className=\"badge badge-pill badge-success mx-2\">\n                            Creador\n                          </span>\n                          <strong>\n                            {this.state.usuario\n                              ? this.state.usuario\n                              : this.props.data.name}\n                          </strong>\n                        </div>\n                      </div>\n                      {order_id ? (\n                        <div className=\"col-2\">\n                          <div className=\"border border-success rounded p-2 d-flex justify-content-between align-items-center\">\n                            <span className=\"badge badge-pill badge-warning mx-2\">\n                              Pedido\n                            </span>\n                            <strong>\n                              {order_id ? (\n                                <Link\n                                  to={\"/pedidos/registro/\" + order_id}\n                                  onClick={(e) => {\n                                    this.changePage(\"/pedidos/registro\");\n                                  }}\n                                >\n                                  {order_id}\n                                </Link>\n                              ) : null}\n                            </strong>\n                          </div>\n                        </div>\n                      ) : null}\n                      <div className=\"col\">\n                        <div className=\"border border-success rounded p-2 d-flex justify-content-between align-items-center\">\n                          <span className=\"badge badge-pill badge-success mx-2\">\n                            Fecha\n                          </span>\n                          <strong>{moment(date).format(\"ll\")}</strong>\n                        </div>\n                      </div>\n                    </div>\n                    <Items\n                      items={items}\n                      status={status && this.total === pagado ? true : false}\n                      session={session}\n                      ChangeInput={this.handleChangeInput}\n                      addCancel={order_id ? true : false}\n                    />\n                  </React.Fragment>\n                ) : load ? (\n                  <div className=\"text-center p-4\">\n                    <div\n                      className=\"spinner-border text-primary mr-4\"\n                      role=\"status\"\n                    >\n                      <span className=\"sr-only\">Loading...</span>\n                    </div>\n                    <span className=\"font-weight-light font-italic\">\n                      Espere cargando datos de la venta\n                    </span>\n                  </div>\n                ) : (\n                  <div className=\"alert alert-light\">\n                    <h4 className=\"alert-heading\">Nueva nota</h4>\n                    <p>\n                      <i className=\"fas fa-user mr-1\"></i> Primero seleccione al\n                      cliente!\n                    </p>\n                  </div>\n                )}\n              </div>\n              <div className=\"card-footer text-right\">\n                <div className=\"btn-group\" role=\"group\">\n                  <Link\n                    to=\"/notas\"\n                    className=\"btn btn-dark\"\n                    onClick={(e) => {\n                      this.changePage(\"/notas\");\n                    }}\n                  >\n                    <i\n                      className={\n                        id ? \"fas fa-arrow-left mr-2\" : \"fas fa-ban mr-2\"\n                      }\n                    ></i>\n                    <strong>{id ? \"Regresar\" : \"Cancelar\"}</strong>\n                  </Link>\n                  <button\n                    className={\n                      contact_id && items.length\n                        ? \"btn btn-dark\"\n                        : \"btn btn-dark disabled\"\n                    }\n                    onClick={(e) => {\n                      window.print();\n                    }}\n                    disabled={contact_id && items.length ? false : true}\n                  >\n                    <i className=\"fas fa-print mr-2\"></i>\n                    <strong>Imprimir</strong>\n                  </button>\n                  <button\n                    className={\n                      contact_id && items.length && pay\n                        ? \"btn btn-success\"\n                        : \"btn btn-success disabled\"\n                    }\n                    onClick={this.handleSave}\n                    disabled={contact_id && items.length && pay ? false : true}\n                  >\n                    <i className=\"fas fa-save mr-2\"></i>\n                    <strong>Guardar</strong>\n                  </button>\n                </div>\n              </div>\n            </div>\n            {contact_id && id && items.length ? (\n              <div className=\"card card-success card-outline\">\n                <div className=\"card-body\">\n                  <h5 className=\"card-title mb-4\">\n                    <i className=\"fas fa-money-bill mr-2\"></i>\n                    Ultimos Abonos\n                  </h5>\n                  <Abonos\n                    abonos={parseInt(pagado)}\n                    sale={parseInt(id)}\n                    contact={contact_id}\n                    cliente={cliente}\n                    pay={parseInt(pay)}\n                    order={parseInt(order_id)}\n                    data={data}\n                    user={this.props.data.name}\n                    handleChange={this.handleChangeInput}\n                  />\n                </div>\n              </div>\n            ) : null}\n          </div>\n          {id && contact_id ? (\n            <div className=\"col-3 d-print-none\">\n              {items.length ? (\n                <EdoCuenta\n                  pay={pay}\n                  descuento={descuento}\n                  subtotal={subtotal}\n                  total={this.total}\n                  pagado={pagado}\n                  catchInputs={this.catchInputs}\n                />\n              ) : null}\n              {chat}\n            </div>\n          ) : null}\n        </div>\n        <Print\n          id=\"print_sale\"\n          folio={order_id ? \"P-\" + order_id : \"V-\" + id}\n          date={date}\n          items={items}\n          descuento={descuento}\n          total={this.total}\n          saldo={pay}\n          abonado={pagado}\n          contact={contact_id}\n          cliente={cliente}\n        />\n      </React.Fragment>\n    );\n  }\n\n  handleChangeInput = (key, value) => {\n    let subtotal = 0;\n    if (key === \"items\") {\n      for (var i = 0; i < value.length; i++) {\n        subtotal += value[i].cantidad * value[i].precio;\n      }\n    } else {\n      subtotal = this.state.subtotal;\n    }\n    this.setState({\n      [key]: value,\n      subtotal,\n    });\n  };\n  catchInputs = (e) => {\n    let { name, value, type } = e.target;\n    if (type === \"number\") value = value * 1;\n    if (name === \"descuento\") {\n      if (value >= this.state.subtotal - this.state.descuento) {\n        value = this.state.subtotal - 1;\n      }\n    }\n    this.setState({\n      [name]: value,\n    });\n  };\n  getIdContact = (contact_id, edad) => {\n    this.setState({\n      contact_id,\n      edad,\n    });\n  };\n  changePage = (e) => {\n    this.props.page(e);\n  };\n  handleSave = (e) => {\n    e.preventDefault();\n    let { id } = this.state;\n\n    //Verificamos campos validos\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: id\n        ? \"¿Esta seguro de actualizar la venta?\"\n        : \"¿Esta seguro de crear una nueva venta?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        if (confirm) {\n          //Variables\n          let { host, token } = this.state,\n            url = id\n              ? \"http://\" + host + \"/api/sales/\" + id\n              : \"http://\" + host + \"/api/sales\",\n            method = id ? \"PUT\" : \"POST\",\n            body = {},\n            items = [];\n\n          this.state.items.map((item) => {\n            items.push({\n              cant: item.cantidad,\n              price: item.precio,\n              subtotal: item.subtotal,\n              inStorage: item.inStorage,\n              out: item.out,\n              session: item.session,\n              store_items_id: item.store_items_id,\n              descripcion: item.descripcion,\n            });\n            return false;\n          });\n          body = {\n            session: this.state.session,\n            descuento: this.state.descuento,\n            subtotal: this.state.subtotal,\n            total: this.state.subtotal - this.state.descuento,\n            contact_id: this.state.contact_id,\n            order_id: this.state.order_id ? this.state.order_id : \"\",\n            pagado: this.state.pagado,\n            items: JSON.stringify(items),\n          };\n\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\n          console.log(\"Enviando datos a API para almacenar\");\n          return fetch(url, {\n            method: method,\n            body: JSON.stringify(body),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n\n        if (data.data) {\n          console.log(\"Venta almacenada\");\n          window.Swal.fire({\n            icon: \"success\",\n            title: id\n              ? \"Venta actualizada con exito\"\n              : \"Venta almacenada con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          }).then((res) => {\n            this.setState({\n              id: data.data.id,\n              //order_id: data.data.pedido,\n            });\n            this.props.history.push(`/notas/registro/${data.data.id}`);\n          });\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar la venta\", \"error\");\n          console.error(\"Orus res: \", data.message);\n        }\n      }\n    });\n  };\n  getSales = (id) => {\n    if (id > 0) {\n      //Variables en state\n      let { host, token } = this.state;\n      //Realiza la peticion del pedido\n      console.log(\"Solicitando datos de pedido a la API\");\n      fetch(\"http://\" + host + \"/api/sales/\" + id, {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(response.statusText);\n          }\n          return response.json();\n        })\n        .then((data) => {\n          if (!data.message) {\n            const { rol } = this.props.data;\n            console.log(\"Mostrando datos del pedido\");\n            this.setState({\n              id: data.data.id,\n              session: data.data.session\n                ? data.data.session\n                : this.state.session,\n              items: data.data.productos,\n              descuento: data.data.descuento,\n              subtotal: data.data.subtotal,\n              total: data.data.total,\n              contact_id: data.data.cliente.id,\n              cliente: data.data.cliente,\n              usuario: data.data.created,\n              date: data.data.created_at,\n              status: !rol ? 0 : 1,\n              order_id: data.data.pedido,\n              pagado: data.data.pagado,\n              load: false,\n            });\n          } else {\n            console.error(\"Orus: \", data.message);\n            window.Swal.fire(\"Error\", data.message, \"error\");\n            this.setState({\n              load: false,\n            });\n          }\n        })\n        .catch((error) => {\n          console.log(\"Orus:\", error);\n          window.Swal.fire(\n            \"Fallo de conexion\",\n            \"Verifique la conexion al servidor\",\n            \"error\"\n          );\n          this.setState({\n            load: false,\n          });\n        });\n    } else {\n      this.setState({\n        load: false,\n      });\n    }\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class ReportPaymentsDetails extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      host: ls.host,\n      rol: ls.rol,\n      token: ls.token,\n      payments: [],\n      meta: {},\n      page: 1,\n      load: false,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    this.getSaleDay();\n  }\n  componentDidUpdate(props, state) {\n    if (\n      props.date !== this.props.date ||\n      props.user !== this.props.user ||\n      state.page !== this.state.page\n    ) {\n      console.log(\"[reportPaymentsDetails] Recarga datos\");\n      this.getSaleDay();\n    }\n  }\n\n  render() {\n    const { data } = this.props;\n    const { payments, meta, page, load } = this.state;\n\n    return (\n      <div className=\"card card-success card-outline\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title text-success\">\n            {data.rol\n              ? \"Mis pagos del dia [Detallado]\"\n              : \"Pagos del dia [Detallado]\"}\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          <table className=\"table table-sm\">\n            <thead>\n              <tr>\n                <th>Metodo</th>\n                <th>Cliente</th>\n                <th>Nota</th>\n                <th>Total</th>\n              </tr>\n            </thead>\n            <tbody>\n              {load ? (\n                <tr>\n                  <td colSpan=\"4\" className=\"text-center p-4\">\n                    <div\n                      className=\"spinner-border text-primary mr-4\"\n                      role=\"status\"\n                    >\n                      <span className=\"sr-only\">Loading...</span>\n                    </div>\n                    <span className=\"font-weight-light font-italic\">\n                      Espere cargando datos de pagos\n                    </span>\n                  </td>\n                </tr>\n              ) : payments.length ? (\n                payments.map((pay) => {\n                  return (\n                    <tr\n                      key={pay.id}\n                      className={pay.metodo === 1 ? \"text-success\" : \"\"}\n                    >\n                      <th className=\"text-uppercase\">{pay.metodoname}</th>\n                      <td className=\"text-capitalize\">\n                        {pay.sale.cliente.nombre}\n                      </td>\n                      <td>\n                        <span\n                          className=\"badge badge-primary\"\n                          alt={\"Cobrado por: \" + pay.created_user}\n                          title={\"Cobrado por: \" + pay.created_user}\n                        >\n                          {pay.sale.id}\n                        </span>\n                      </td>\n                      <td className=\"text-right\">$ {pay.total.toFixed(2)}</td>\n                    </tr>\n                  );\n                })\n              ) : (\n                <tr>\n                  <th colSpan=\"4\" className=\"text-center\">\n                    <h6 className=\"text-warning\">\n                      <i className=\"fas fa-info mr-2\"></i>\n                      No hay datos para este dia\n                    </h6>\n                  </th>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n        {meta.total ? (\n          <div className=\"card-footer\">\n            {meta.current_page === 1 ? (\n              <a href=\"#next\" onClick={(e) => e.preventDefault()}>\n                <i className=\"fas fa-step-backward text-dark\"></i>\n              </a>\n            ) : (\n              <a\n                href=\"#next\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  this.setState({\n                    page: page - 1,\n                  });\n                }}\n              >\n                <i className=\"fas fa-step-backward\"></i>\n              </a>\n            )}\n            {\" \" + page + \" / \" + meta.last_page + \" \"}\n            {meta.current_page === meta.last_page ? (\n              <a href=\"#next\" onClick={(e) => e.preventDefault()}>\n                <i className=\"fas fa-step-forward text-dark\"></i>\n              </a>\n            ) : (\n              <a\n                href=\"#next\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  this.setState({\n                    page: page + 1,\n                  });\n                }}\n              >\n                <i className=\"fas fa-step-forward\"></i>\n              </a>\n            )}\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n\n  getSaleDay = () => {\n    //Variables en localStorage\n    let { host, token, page } = this.state,\n      { date, user } = this.props,\n      url = \"http://\" + host + \"/api/payments\",\n      saleDay = \"?date=\" + date,\n      pagina = page > 0 ? \"&page=\" + page : \"&page=1\",\n      itemsShow = \"&itemsPage=10\",\n      saleUser = user ? \"&user=\" + user : \"\";\n\n    if (token && host) {\n      //Realiza la peticion del pedido\n      console.log(\"[ReportPaymentsDetails] Solicitando datos a la API\");\n      this.setState({\n        load: true,\n      });\n      fetch(url + saleDay + saleUser + itemsShow + pagina, {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((res) => {\n          if (!res.ok) {\n            console.log(res);\n            throw new Error(res);\n          }\n          return res.json();\n        })\n        .then(async (data) => {\n          if (!data.message) {\n            console.log(\n              \"[ReportPayments] Almacenando datos de la venta del dia\"\n            );\n            if (data.data) {\n              this.setState({\n                payments: data.data,\n                meta: data.meta,\n                load: false,\n              });\n            }\n          } else {\n            throw new Error(data.message);\n          }\n        })\n        .catch((e) => {\n          console.error(e);\n          window.Swal.fire({\n            title: \"Error!\",\n            text: \"Ups!\\n Hubo un error de procesamiento, intentelo mas tarde\",\n            icon: \"error\",\n            confirmButtonText: \"Ok\",\n          });\n          this.setState({\n            load: false,\n          });\n        });\n    }\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class ReportPay extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      host: ls.host,\n      rol: ls.rol,\n      token: ls.token,\n      total: 0,\n      efectivo: 0,\n    };\n    this.char = null;\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    this.getSaleDay();\n  }\n  componentDidUpdate(props, state) {\n    if (props.date !== this.props.date || props.user !== this.props.user) {\n      console.log(\"[reportPays] Recarga datos de char\");\n      this.getSaleDay();\n    }\n  }\n\n  render() {\n    const { total, efectivo, rol } = this.state;\n    const { data } = this.props;\n    return (\n      <div className=\"card card-success card-outline\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title text-success\">\n            {data.rol\n              ? \"Mis ventas del dia por metodo de pago\"\n              : \"Ventas del dia por metodo de pago\"}\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          <canvas id=\"donutChart\"></canvas>\n          <p>\n            {!rol ? (\n              <React.Fragment>\n                Venta: <strong>$ {total.toFixed(2)}</strong>\n                <br />\n              </React.Fragment>\n            ) : null}\n            Efectivo: <strong>$ {efectivo.toFixed(2)}</strong>\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  changeState = (e) => {\n    let { value, name } = e.target;\n    if (name === \"user\") value = value * 1;\n    this.setState({\n      [name]: value,\n    });\n  };\n  getSaleDay = () => {\n    //Variables en localStorage\n    let { host, token } = this.state,\n      { date, user } = this.props,\n      url = \"http://\" + host + \"/api/saleday\",\n      saleDay = \"?date=\" + date,\n      saleUser = user ? \"&user=\" + user : \"\";\n\n    if (token && host) {\n      //Realiza la peticion del pedido\n      console.log(\"[ReportPay] Solicitando datos a la API\");\n      fetch(url + saleDay + saleUser, {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then((res) => {\n          if (!res.ok) {\n            window.Swal.fire({\n              title: \"Error!\",\n              text: \"Ups!\\n Hubo un error al descargar las ventas\",\n              icon: \"error\",\n              confirmButtonText: \"Ok\",\n            });\n            console.log(res);\n          }\n          return res.json();\n        })\n        .then(async (data) => {\n          var donutChartCanvas = window\n              .$(\"#donutChart\")\n              .get(0)\n              .getContext(\"2d\"),\n            donutOptions = {\n              maintainAspectRatio: true,\n              responsive: true,\n            },\n            labels = [],\n            values = [],\n            total = 0,\n            efectivo = 0,\n            donutData = {};\n          if (this.char) this.char.destroy();\n\n          if (!data.message) {\n            console.log(\"[ReportPay] Almacenando datos de la venta del dia\");\n            if (data && data.length) {\n              await data.map((mp) => {\n                labels.push(this.SetMethodPayment(mp.metodopago));\n                values.push(mp.total.toFixed(2));\n                if (mp.metodopago === 1) {\n                  this.props.changeState(\"ventas\", mp.total);\n                  efectivo = mp.total;\n                }\n                total += mp.total;\n                return null;\n              });\n            } else {\n              labels = [\"No hay datos\"];\n              values = [100];\n            }\n\n            this.setState({\n              total,\n              efectivo,\n            });\n          } else {\n            console.error(\n              \"[ORUS] Error al cargar la venta del dia\",\n              data.message\n            );\n            labels = [\"No hay datos\"];\n            values = [100];\n          }\n          donutData = {\n            labels: labels,\n            datasets: [\n              {\n                data: values,\n                backgroundColor: [\n                  \"#f56954\",\n                  \"#00a65a\",\n                  \"#f39c12\",\n                  \"#00c0ef\",\n                  \"#3c8dbc\",\n                  \"#d2d6de\",\n                  \"#000\",\n                ],\n              },\n            ],\n          };\n          this.char = new window.Chart(donutChartCanvas, {\n            type: \"pie\",\n            data: donutData,\n            options: donutOptions,\n          });\n        })\n        .catch((e) => {\n          console.error(e);\n          window.Swal.fire({\n            title: \"Error!\",\n            text: \"Ups!\\n Hubo un error de usuario, intentelo mas tarde\",\n            icon: \"error\",\n            confirmButtonText: \"Ok\",\n          });\n        });\n    }\n  };\n  SetMethodPayment = (status) => {\n    switch (status) {\n      case 1:\n        return \"Efectivo\";\n      case 2:\n        return \"Tarjeta debito\";\n      case 3:\n        return \"Tarjeta de credito\";\n      case 4:\n        return \"La marina\";\n      case 5:\n        return \"Cheque\";\n      case 6:\n        return \"Transferencia\";\n      default:\n        return \"Otro\";\n    }\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class ReportBank extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      host: ls.host,\n      token: ls.token,\n      listBank: [],\n      data: [],\n      load: false,\n    };\n    this.char = null;\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    this.getSaleDay();\n    this.getBaks();\n  }\n  componentDidUpdate(props, state) {\n    if (props.date !== this.props.date || props.user !== this.props.user) {\n      console.log(\"[ReportBank] Recarga datos de char\");\n      this.getSaleDay();\n    }\n  }\n\n  render() {\n    const { listBank, data, load } = this.state;\n    return (\n      <div className=\"card card-success card-outline\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title text-success\">\n            Detallado de pagos bancarios\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          {load ? (\n            <div>\n              <div className=\"spinner-border text-primary mr-4\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>\n              <span className=\"font-weight-light font-italic\">\n                Espere cargando datos de banco\n              </span>\n            </div>\n          ) : (\n            <ul className=\"list-group\">\n              {data.length ? (\n                data.map((bank) => {\n                  return (\n                    <li\n                      className=\"list-group-item d-flex justify-content-between align-items-center\"\n                      key={bank.bank_id}\n                    >\n                      <label className=\"text-uppercase\">\n                        {listBank.map((bankname) => {\n                          if (bankname.id === bank.bank_id)\n                            return bankname.name;\n                          else return null;\n                        })}\n                      </label>\n                      <span className=\"badge badge-primary badge-pill\">\n                        $ {bank.total.toFixed(2)}\n                      </span>\n                    </li>\n                  );\n                })\n              ) : (\n                <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                  <h6 className=\"text-warning\">\n                    <i className=\"fas fa-info mr-2\"></i>\n                    No hay datos para este dia\n                  </h6>\n                </li>\n              )}\n            </ul>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  changeState = (e) => {\n    let { value, name } = e.target;\n    if (name === \"user\") value = value * 1;\n    this.setState({\n      [name]: value,\n    });\n  };\n  getSaleDay = () => {\n    //Variables en localStorage\n    const { host, token } = this.state,\n      { date, user } = this.props,\n      url = \"http://\" + host + \"/api/bankdetails\",\n      saleDay = \"?date=\" + date,\n      saleUser = user ? \"&user=\" + user : \"\";\n\n    if (token && host) {\n      //Realiza la peticion del pedido\n      console.log(\"Solicitando datos a la API\");\n      this.setState({\n        load: true,\n      });\n      fetch(url + saleDay + saleUser, {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then(async (response) => {\n          let back = {};\n          if (response.status !== 204) back = await response.json();\n          if (!response.ok) {\n            throw new Error(back.message);\n          }\n          return back;\n        })\n        .then(async (data) => {\n          if (!data.message) {\n            console.log(\n              \"[reportBank] Almacenando detalles bancarios\",\n              data.data\n            );\n            this.setState({\n              data,\n              load: false,\n            });\n          } else {\n            throw new Error(data.message);\n          }\n        })\n        .catch((e) => {\n          console.error(\"[reportBank] \" + e);\n          window.Swal.fire({\n            title: \"Error!\",\n            text: \"Ups!\\n Hubo un error en la consulta, revise la conexion\",\n            icon: \"error\",\n            confirmButtonText: \"Ok\",\n          });\n          this.setState({\n            load: false,\n          });\n        });\n    }\n  };\n  getBaks = () => {\n    const { host, token } = this.state,\n      type = \"?name=bank\";\n\n    //Peticion ajax de listado de bancos\n    console.log(\"[reportBank] Descargando listado de bancos\");\n    fetch(\"http://\" + host + \"/api/config\" + type, {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then(async (response) => {\n        let back = {};\n        if (response.status !== 204) back = await response.json();\n        if (!response.ok) {\n          throw new Error(back.message);\n        }\n        return back;\n      })\n      .then((data) => {\n        if (data.meta && data.meta.total) {\n          console.log(\"[reportBank] Listado de bancos descargado\");\n          this.setState({\n            listBank: data.data,\n          });\n        }\n      })\n      .catch((e) => {\n        console.error(\"[Orus system] \", e);\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n      });\n  };\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\n\nexport default class Cash extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      atms: [],\n      efectivo: 0,\n      tipo: 1,\n      host: ls.host,\n      token: ls.token,\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentDidMount() {\n    this.getAtms();\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidUpdate(props, state) {\n    if (props.date !== this.props.date || props.user !== this.props.user) {\n      this.getAtms();\n    }\n  }\n\n  render() {\n    const { atms, efectivo, tipo } = this.state;\n    let total = 0;\n    return (\n      <div className=\"card card-dark card-outline\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title text-dark\">Movimientos de caja</h3>\n        </div>\n        <div className=\"card-body\">\n          <table className=\"table table-sm\">\n            <thead>\n              <tr>\n                <th>Hora</th>\n                <th>Usuario</th>\n                <th>Tipo</th>\n                <th>Monto</th>\n                <th>D</th>\n              </tr>\n            </thead>\n            <tbody>\n              {atms.length ? (\n                atms.map((atm) => {\n                  total += atm.efectivo;\n                  return (\n                    <tr\n                      key={atm.id}\n                      className={\n                        atm.efectivo > 0 ? \"text-success\" : \"text-danger\"\n                      }\n                    >\n                      <td>{moment(atm.created_at).format(\"LT\")}</td>\n                      <td>{atm.created_user}</td>\n                      <td>{atm.tipo ? \"Ingreso\" : \"Egreso\"}</td>\n                      <td>\n                        $\n                        {atm.efectivo > 0\n                          ? atm.efectivo.toFixed(2)\n                          : (atm.efectivo * -1).toFixed(2)}\n                      </td>\n                      <th className=\"text-right\">\n                        <a\n                          href=\"#delete\"\n                          className=\"text-dark\"\n                          onClick={(e) => {\n                            e.preventDefault();\n                            this.deleteAtm(\n                              atm.id,\n                              atm.tipo,\n                              atm.efectivo.toFixed(2)\n                            );\n                          }}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </a>\n                      </th>\n                    </tr>\n                  );\n                })\n              ) : (\n                <tr>\n                  <td colSpan=\"5\" className=\"text-center\">\n                    No hay datos\n                  </td>\n                </tr>\n              )}\n            </tbody>\n            <tfoot>\n              <tr>\n                <td colSpan=\"3\" className=\"text-right\">\n                  <label>Total</label>\n                </td>\n                <td className=\"text-right\">$ {total.toFixed(2)}</td>\n                <td></td>\n              </tr>\n            </tfoot>\n          </table>\n        </div>\n        <div className=\"card-footer\">\n          <div className=\"form-group row\">\n            <label className=\"col-4 col-form-label\">Efectivo</label>\n            <div className=\"col\">\n              <select\n                className=\"form-control\"\n                name=\"tipo\"\n                value={tipo}\n                onChange={this.changeState}\n              >\n                <option value=\"1\">Ingresos</option>\n                <option value=\"0\">Egreso</option>\n              </select>\n            </div>\n            <div className=\"col\">\n              <input\n                type=\"number\"\n                name=\"efectivo\"\n                className=\"form-control text-right\"\n                min=\"0\"\n                max=\"10000\"\n                value={efectivo}\n                onChange={this.changeState}\n              />\n            </div>\n            <div className=\"col\">\n              <button\n                className=\"btn btn-dark\"\n                onClick={this.sendAtm}\n                disabled={efectivo > 0 ? false : true}\n              >\n                Enviar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  deleteAtm = (id, tipo, efectivo) => {\n    efectivo = efectivo > 0 ? efectivo : efectivo * -1;\n    tipo = tipo ? \"la ENTRADA\" : \"el EGRESO\";\n\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar \" + tipo + \" de \" + efectivo + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        let { host, token } = this.state;\n\n        if (confirm && efectivo) {\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\n          console.log(\"Enviando datos ATM a API\");\n          return fetch(\"http://\" + host + \"/api/atms/\" + id, {\n            method: \"DELETE\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then(async (response) => {\n              let back = {};\n              if (response.status !== 204) back = await response.json();\n              if (!response.ok) {\n                throw new Error(back.message);\n              }\n              return back;\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        console.log(\"Entrada eliminada\");\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Entrada eliminada con exito\",\n          showConfirmButton: false,\n          timer: 1500,\n        }).then((res) => this.getAtms());\n      } else if (result && !result.dismiss) {\n        console.log(\"Orus res: \", result);\n        window.Swal.fire(\n          \"Error\",\n          \"Se perdio la conexion con el servidor\",\n          \"error\"\n        );\n      }\n    });\n  };\n  changeState = (e) => {\n    let { value, name } = e.target;\n    if (name === \"tipo\") value = value * 1;\n    this.setState({\n      [name]: value,\n    });\n  };\n  sendAtm = () => {\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de agregar un movimiento a la caja?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n      preConfirm: (confirm) => {\n        let { host, token, efectivo, tipo } = this.state,\n          body = {\n            efectivo: tipo ? efectivo : efectivo * -1,\n            type: tipo,\n          },\n          url = \"http://\" + host + \"/api/atms\";\n        if (confirm && efectivo) {\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\n          console.log(\"Enviando datos ATM a API\");\n          return fetch(url, {\n            method: \"POST\",\n            body: JSON.stringify(body),\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then((response) => {\n              if (!response.ok) {\n                throw new Error(response.statusText);\n              }\n              return response.json();\n            })\n            .catch((e) => {\n              console.error(\"Orus fetch\", e);\n              window.Swal.fire(\n                \"Fallo de conexion\",\n                \"Verifique la conexion al servidor\",\n                \"error\"\n              );\n            });\n        }\n      },\n    }).then((result) => {\n      if (result && !result.dismiss && result.value) {\n        let data = result.value;\n\n        if (data.data) {\n          console.log(\"ATM almacenado\");\n          window.Swal.fire({\n            icon: \"success\",\n            title: \"Movimiento almacenado con exito\",\n            showConfirmButton: false,\n            timer: 1500,\n          }).then((res) => this.getAtms());\n        } else {\n          window.Swal.fire(\"Error\", \"al almacenar el movimiento\", \"error\");\n          console.error(\"Orus res: \", data.message);\n        }\n      }\n    });\n  };\n  getAtms = () => {\n    //Variables en localStorage\n    let { host, token } = this.state,\n      { date, user } = this.props,\n      url = \"http://\" + host + \"/api/atms\",\n      atmDate = \"?date=\" + date,\n      atmUser = user ? \"&user=\" + user : \"\";\n\n    //Realiza la peticion de los productos faltantes\n    console.log(\"Descargando datos de efectivo\");\n    fetch(url + atmDate + atmUser, {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((res) => {\n        if (!res.ok && res.status !== 401) {\n          window.Swal.fire({\n            title: \"Error!\",\n            text: \"Ups!\\n Hubo un error, intentelo mas tarde\",\n            icon: \"error\",\n          });\n          console.log(res);\n        }\n        return res.json();\n      })\n      .then(async (data) => {\n        console.log(\"Almacenando datos de efectivo\");\n        if (!data.message) {\n          let efectivo = 0;\n          await data.data.map((atm) => {\n            efectivo += atm.efectivo;\n            return null;\n          });\n          this.props.changeState(\"caja\", efectivo);\n          this.setState({\n            atms: data.data,\n            efectivo: 0,\n          });\n        }\n      })\n      .catch((e) => {\n        console.error(e);\n        window.Swal.fire({\n          title: \"Error!\",\n          text: \"Ups!\\n Hubo un error, intentelo mas tarde\",\n          icon: \"error\",\n        });\n      });\n  };\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\n\nexport default class DateUser extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      host: ls.host,\n      token: ls.token,\n      date: moment().format(\"YYYY-MM-DD\"),\n      user: !props.data.rol ? 0 : props.data.idUser,\n      users: [],\n    };\n    this.controller = new AbortController();\n    this.signal = this.controller.signal;\n  }\n  componentWillUnmount() {\n    this.controller.abort(); // Cancelando cualquier carga de fetch\n  }\n  componentDidMount() {\n    this.getUsers();\n  }\n\n  render() {\n    const { date, user, users } = this.state;\n    return (\n      <div className=\"card border border-info rounded\">\n        <div className=\"card-body bg-light\">\n          <div className=\"row mb-4\">\n            <h5 className=\"card-title text-secondary\">Filtros</h5>\n          </div>\n          <div className=\"form-group row\">\n            <label className=\"col col-form-label\">Fecha</label>\n            <div className=\"col\">\n              <input\n                type=\"date\"\n                name=\"date\"\n                className=\"form-control\"\n                value={date}\n                onChange={this.changeState}\n              />\n            </div>\n            <label className=\"col col-form-label\">Usuario</label>\n            <div className=\"col\">\n              <select\n                name=\"user\"\n                className=\"form-control\"\n                value={user}\n                onChange={this.changeState}\n              >\n                <option value=\"0\">Todos</option>\n                {users.map((user) => {\n                  return (\n                    <option key={user.id} value={user.id}>\n                      {user.name}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  changeState = (e) => {\n    let { value, name } = e.target;\n    this.setState({\n      [name]: value,\n    });\n    this.props.changeState(name, value);\n  };\n  getUsers = () => {\n    let { host, token } = this.state,\n      url = \"http://\" + host + \"/api/users\",\n      orderby = \"&orderby=username&order=asc\",\n      rol = \"&rol=10\",\n      page = \"?page=1\";\n\n    //Realiza la peticion de los usuarios\n    console.log(\"Descargando usuarios de API\");\n    fetch(url + page + orderby + rol, {\n      method: \"GET\",\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((res) => {\n        if (!res.ok) {\n          window.Swal.fire({\n            title: \"Error!\",\n            text: \"Ups!\\n Hubo un error al descargar usuarios de sistema\",\n            icon: \"error\",\n            confirmButtonText: \"Ok\",\n          });\n          console.error(res);\n        }\n        return res.json();\n      })\n      .then((data) => {\n        if (!data.message) {\n          console.log(\"Almacenando usuarios\");\n          this.setState({\n            users: data.data,\n          });\n        } else {\n          console.error(\"Error en la descarga de usuarios\", data.message);\n        }\n      })\n      .catch((e) => {\n        console.error(e);\n        window.Swal.fire({\n          title: \"Error!\",\n          text: \"Ups!\\n Hubo un error de usuario, intentelo mas tarde\",\n          icon: \"error\",\n          confirmButtonText: \"Ok\",\n        });\n      });\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class BoxCut extends Component {\n  render() {\n    const { caja, ventas } = this.props;\n    const total = caja + ventas;\n    return (\n      <div className=\"card border border-info rounded\">\n        <div className=\"card-body bg-light text-right\">\n          <h5 className=\"card-title text-secondary\">Corte de caja</h5>\n          <br />\n          <div className=\"row\">\n            <div className=\"col\">\n              <label>caja:</label>\n              <br /> <span className=\"text-success\">${caja.toFixed(2)}</span>\n            </div>\n            <div className=\"col\">\n              <label>Efectivo:</label>\n              <br /> <span className=\"text-success\">${ventas.toFixed(2)}</span>\n            </div>\n            <div className=\"col\">\n              <label>Total:</label>\n              <br /> <span className=\"text-success\">${total.toFixed(2)}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport PaymentsDetails from \"../Sales/reportPaymentsDetails\";\nimport ReportPays from \"../Sales/reportPays\";\nimport ReportBank from \"../Sales/reportBank\";\nimport Caja from \"./cash\";\nimport DateUser from \"./dateUser\";\nimport BoxCut from \"./boxCut\";\n\nexport default class Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    this.state = {\n      host: ls.host,\n      token: ls.token,\n      user: !props.data.rol ? \"\" : props.data.idUser,\n      date: moment().format(\"YYYY-MM-DD\"),\n      caja: 0,\n      ventas: 0,\n    };\n  }\n\n  render() {\n    const { user, date, caja, ventas } = this.state;\n    const { data } = this.props;\n    return (\n      <div className=\"content\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <Caja\n              data={data}\n              user={user}\n              date={date}\n              changeState={this.changeState}\n            />\n          </div>\n\n          <div className=\"col col-md-3 col-lg-3\">\n            <div className=\"row\">\n              {!data.rol ? (\n                <div className=\"col\">\n                  <DateUser data={data} changeState={this.changeState} />\n                </div>\n              ) : null}\n              <div className=\"col\">\n                <BoxCut caja={caja} ventas={ventas} />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col col-md-4 col-lg-4\">\n            <ReportBank\n              data={data}\n              user={user}\n              date={date}\n              changeState={this.changeState}\n            />\n\n            <ReportPays\n              data={data}\n              user={user}\n              date={date}\n              changeState={this.changeState}\n            />\n          </div>\n          <div className=\"col\">\n            <PaymentsDetails\n              data={data}\n              user={user}\n              date={date}\n              changeState={this.changeState}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  changeState = (name, value) => {\n    this.setState({\n      [name]: value,\n    });\n  };\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\n\nexport default class NotifyAll extends Component {\n  constructor(props) {\n    super(props);\n    //Variables en localStorage\n    let notify = JSON.parse(localStorage.getItem(\"OrusNotify\"));\n    this.state = {\n      notifications: notify.notifications.length ? notify.notifications : [],\n      rol: notify ? notify.rol : -1,\n      count: notify ? notify.count : 0,\n      load: false,\n    };\n  }\n\n  render() {\n    const { notifications, load } = this.state;\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <h5 className=\"card-title\">\n            <i className=\"fas fa-bell mr-2\"></i>\n            <label>Mis notificaciones</label>\n          </h5>\n        </div>\n        <div className=\"card-body\">\n          {!load ? (\n            <React.Fragment>\n              {notifications.length ? (\n                <div className=\"list-group\">\n                  {notifications.map((notify) => {\n                    const type = notify.type.split(\"\\\\\");\n                    let url = \"\";\n                    if (type.length === 3 && type[2] === \"ExamNotification\") {\n                      url = \"/consultorio/registro/\" + notify.data.id;\n                    }\n                    return (\n                      <a\n                        href={url}\n                        className={\n                          notify.read_at\n                            ? \"list-group-item list-group-item-action flex-column align-items-start\"\n                            : \"list-group-item list-group-item-action flex-column align-items-start active\"\n                        }\n                        key={notify.id}\n                        onClick={(e) =>\n                          this.handleClickViewNotify(e, url, notify.id)\n                        }\n                      >\n                        <div className=\"d-flex w-100 justify-content-between\">\n                          <h5 className=\"mb-1\">{type[2] === \"\" ? \"\" : \"\"}</h5>\n                          <small>{moment(notify.created_at).fromNow()}</small>\n                        </div>\n                        <p className=\"mb-1 text-capitalize\">\n                          <strong>{notify.data.paciente}</strong>\n                        </p>\n                        <small className=\"text-capitalize\">\n                          {notify.data.user}\n                        </small>\n                      </a>\n                    );\n                  })}\n                </div>\n              ) : (\n                <p className=\"card-text\">Sin notificaciones</p>\n              )}\n            </React.Fragment>\n          ) : (\n            <div className=\"card-text text-center\">\n              <div className=\"spinner-border text-primary\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  handleClickViewNotify = (e, url, id) => {\n    const { page } = this.props,\n      seccion = url.split(\"/\");\n    e.preventDefault();\n\n    //Constantes\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n      { host, token } = ls;\n\n    console.log(\"[Orus System] Enviando datos de leidos\");\n    fetch(\"http://\" + host + \"/api/user/readAllNotifications\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        id,\n      }),\n      signal: this.signal,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then(async (response) => {\n        let back = {};\n        if (response.status !== 204) back = await response.json();\n        if (!response.ok) {\n          throw new Error(back.message);\n        }\n        return back;\n      })\n      .then((notify) => {\n        if (notify.success) {\n          console.log(\"[Orus] Notificaciones leeidas\");\n        } else {\n          console.log(\"[Orus] Sin notificaciones\");\n        }\n        page(seccion[1]);\n        if (url) this.props.history.push(url);\n      })\n      .catch((e) => {\n        console.error(\"[Orus] Notify error \\n\", e);\n        window.Swal.fire(\n          \"Notificaciones\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n      });\n  };\n  checkNotify = () => {\n    //Constantes de logueo\n    const ls = JSON.parse(localStorage.getItem(\"OrusSystem\")),\n      { host, token } = ls;\n\n    if (token !== \"\" && host !== \"\") {\n      fetch(\"http://\" + host + \"/api/user\", {\n        method: \"GET\",\n        signal: this.signal,\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + token,\n        },\n      })\n        .then(async (response) => {\n          let back = {};\n          if (response.status !== 204) back = await response.json();\n          if (!response.ok) {\n            throw new Error(back.message);\n          }\n          return back;\n        })\n        .then((notify) => {\n          this.setState({\n            notifications: notify.data ? notify.data.notifications : [],\n            rol: notify.data.rol,\n            load: false,\n          });\n        })\n        .catch((e) => {\n          console.error(\"[Orus] User session in API error \\n\", e);\n          this.setState({\n            load: false,\n          });\n          window.Swal.fire(\n            \"Notificaciones\",\n            \"Verifique la conexion al servidor\",\n            \"error\"\n          );\n        });\n    }\n  };\n}\n","import React, { Component } from \"react\";\nimport { Switch, Route, BrowserRouter as Router } from \"react-router-dom\";\nimport Navtop from \"./components/Layouts/navtop\";\nimport Menu from \"./components/Layouts/menu\";\nimport Breadcrumb from \"./components/Layouts/breadcrumb\";\nimport Footer from \"./components/Layouts/footer\";\nimport Users from \"./components/Users/index\";\nimport UserAdd from \"./components/Users/add\";\nimport Store from \"./components/Store/index\";\nimport StoreAdd from \"./components/Store/add\";\nimport Categories from \"./components/Store/categories\";\nimport Brands from \"./components/Store/brands\";\nimport Inventory from \"./components/Store/inventory\";\nimport Contacts from \"./components/Contacts/index\";\nimport ContactsAdd from \"./components/Contacts/add\";\nimport AddByContact from \"./components/Contacts/addByContact\";\nimport Tools from \"./components/Layouts/tools\";\nimport Exam from \"./components/Exam/index\";\nimport ExamAdd from \"./components/Exam/add\";\nimport Order from \"./components/Order/index\";\nimport Sales from \"./components/Sales/index\";\nimport SalesAdd from \"./components/Sales/add\";\nimport Dashboard from \"./components/Dashboard/index\";\nimport NotifyAllShow from \"./components/Layouts/notifyAll\";\n\nexport default class Routers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: this.handleTitleSection(window.location.pathname),\n      company: props.data.company,\n    };\n  }\n\n  render() {\n    const { data, logOut } = this.props,\n      { page } = this.state;\n\n    return (\n      <Router>\n        <div className=\"wrapper\">\n          <Navtop logOut={logOut} data={data} page={this.handlePage} />\n          <Menu\n            companyName={this.state.company}\n            user={data}\n            page={this.handlePage}\n            logOut={logOut}\n            active={page}\n          />\n          <div className=\"content-wrapper\">\n            <Breadcrumb title={page} />\n            <div className=\"content\">\n              <div className=\"container-fluid\">\n                <div className=\"row\">\n                  <div className=\"col-lg-12\">\n                    <Switch>\n                      <Route\n                        path=\"/usuarios/registro/:id?\"\n                        render={(props) => (\n                          <UserAdd\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n                      <Route\n                        extric\n                        path=\"/usuarios\"\n                        render={(props) => (\n                          <Users\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n\n                      <Route\n                        path=\"/almacen/registro/:id?\"\n                        render={(props) => (\n                          <StoreAdd\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n                      <Route\n                        extric\n                        path=\"/almacen/categorias\"\n                        render={(props) => (\n                          <Categories\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n                      <Route\n                        extric\n                        path=\"/almacen/marcas\"\n                        render={(props) => (\n                          <Brands\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n                      <Route\n                        extric\n                        path=\"/almacen/inventario\"\n                        render={(props) => (\n                          <Inventory\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n                      <Route\n                        extric\n                        path=\"/almacen\"\n                        render={(props) => (\n                          <Store\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n                      <Route\n                        path=\"/contactos/registro/:id?\"\n                        render={(props) => (\n                          <ContactsAdd\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n                      <Route\n                        extric\n                        path=\"/contactos/add\"\n                        render={(props) => (\n                          <AddByContact\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n                      <Route\n                        extric\n                        path=\"/contactos\"\n                        render={(props) => (\n                          <Contacts\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n\n                      <Route\n                        extric\n                        path=\"/consultorio/registro/:id?\"\n                        render={(props) => (\n                          <ExamAdd\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n                      <Route\n                        extric\n                        path=\"/consultorio\"\n                        render={(props) => (\n                          <Exam {...props} data={data} page={this.handlePage} />\n                        )}\n                      />\n\n                      <Route\n                        extric\n                        path=\"/configuraciones\"\n                        render={(props) => (\n                          <Tools\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n\n                      <Route\n                        extric\n                        path=\"/pedidos\"\n                        render={(props) => <Order {...props} />}\n                      />\n\n                      <Route\n                        extric\n                        path=\"/notas/registro/:id?\"\n                        render={(props) => (\n                          <SalesAdd\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n                      <Route\n                        extric\n                        path=\"/notas\"\n                        render={(props) => (\n                          <Sales\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n\n                      <Route\n                        extric\n                        path=\"/notificaciones\"\n                        render={(props) => (\n                          <NotifyAllShow\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n\n                      <Route\n                        extric\n                        path=\"/\"\n                        render={(props) => (\n                          <Dashboard\n                            {...props}\n                            data={data}\n                            page={this.handlePage}\n                          />\n                        )}\n                      />\n                    </Switch>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <Footer />\n        </div>\n      </Router>\n    );\n  }\n\n  handlePage = (title) => {\n    let page = this.handleTitleSection(title);\n    this.setState({\n      page,\n    });\n  };\n  handleTitleSection = (page) => {\n    //Verificamos que la variable no este vacia\n    page = page ? page : window.location.pathname;\n    //Maneja el renderiazado del componentes cuando se cambíe el componentes\n    if (page === \"\" || typeof page === \"undefined\" || typeof page === \"object\")\n      page = \"/\";\n    let locations = page.split(\"/\");\n    if (locations[1] === \"\") {\n      return \"dashboard\";\n    } else {\n      return locations[1];\n    }\n  };\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { loggin } from \"../../redux/user/actions\";\nimport { changeHost } from \"../../redux/default/actions\";\n\nclass LogginComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      txtHost: \"\",\n      error: {},\n      hostShow: false,\n      load: false,\n    };\n  }\n\n  componentDidMount() {\n    const { host: HOST } = this.props;\n    if (HOST) {\n      this.setState({\n        txtHost: HOST,\n      });\n    }\n  }\n\n  componentDidUpdate(props, state) {\n    const { errors: E_VIEJO = {}, changeHostStatus: H_STATUS_VIEJO } = props,\n      { errors: E_NEW = {}, changeHostStatus: H_STATUS_NEW } = this.props;\n\n    if (\n      E_VIEJO.errors !== E_NEW.errors &&\n      E_NEW.errors &&\n      E_NEW.errors.toString().length\n    ) {\n      //Manejamos errores del handle de inicio de sesion\n      //Solo quitamos el loadding\n      this.setState({\n        load: false,\n      });\n    }\n    if (H_STATUS_VIEJO !== H_STATUS_NEW && H_STATUS_NEW) {\n      //Manejamos el handle de cambio de host\n      //Solo quitamos el loadding\n      this.setState({\n        load: false,\n      });\n    }\n  }\n\n  render() {\n    const {\n        load: LOADDING,\n        username: U,\n        password: P,\n        txtHost: H_TXT,\n        hostShow: HSHOW,\n        error: E,\n      } = this.state,\n      {\n        company: COMPANY,\n        errors: ERRORS,\n        changeHostStatus: H_STATUS = null,\n        host: H_NAME,\n      } = this.props;\n\n    return (\n      <div className=\"login-page\">\n        <div className=\"login-box\">\n          <div className=\"login-logo\">\n            <a href=\"#logo\" onClick={(e) => e.preventDefault()}>\n              <b className=\"text-primary\">Orus</b> LTE\n            </a>\n          </div>\n\n          {ERRORS && ERRORS.errors && !LOADDING ? (\n            <div className=\"alert alert-danger\">\n              <span>\n                <i className=\"mx-2 fas fa-info\"></i> {ERRORS.errors.toString()}\n              </span>\n            </div>\n          ) : H_STATUS ? (\n            <div className=\"alert alert-success\">\n              <span>\n                <i className=\"mx-2 fas fa-info\"></i> Direccion de servidor\n                cambiada con exito [{H_NAME}]\n              </span>\n            </div>\n          ) : null}\n\n          <div className=\"rounded shadow-lg card\">\n            <div className=\"card-body login-card-body\">\n              <p className=\"login-box-msg text-uppercase\">\n                <span className=\"p-2 badge badge-secondary\">{COMPANY}</span>\n              </p>\n              <form onSubmit={this.handleLogin}>\n                <div\n                  className={\n                    E.input && E.input === \"email\"\n                      ? \"mb-0 input-group\"\n                      : \"mb-3 input-group\"\n                  }\n                >\n                  <input\n                    type=\"email\"\n                    className=\"form-control\"\n                    placeholder=\"Usuario\"\n                    name=\"username\"\n                    autoFocus={HSHOW ? false : true}\n                    onChange={this.catchInputs}\n                    value={U}\n                  />\n                  <div className=\"input-group-append\">\n                    <div className=\"input-group-text\">\n                      <span className=\"fas fa-user\"></span>\n                    </div>\n                  </div>\n                  {E.input && E.input === \"email\" ? (\n                    <span className=\"text-center text-danger text-wrap font-weight-bold text-monospace\">\n                      <small>\n                        <i className=\"mx-2 fas fa-info\"></i>Los datos son\n                        errones\n                      </small>\n                    </span>\n                  ) : null}\n                </div>\n                <div\n                  className={\n                    E.input && E.input === \"password\"\n                      ? \"mb-0 input-group\"\n                      : \"mb-3 input-group\"\n                  }\n                >\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    placeholder=\"Contraseña\"\n                    name=\"password\"\n                    autoComplete=\"off\"\n                    onChange={this.catchInputs}\n                    value={P}\n                  />\n                  <div className=\"input-group-append\">\n                    <div className=\"input-group-text\">\n                      <span className=\"fas fa-lock\"></span>\n                    </div>\n                  </div>\n                </div>\n                {E.input && E.input === \"password\" ? (\n                  <span className=\"mb-3 text-center text-danger text-wrap font-weight-bold text-monospace\">\n                    <small>\n                      <i className=\"mx-2 fas fa-info\"></i>Los datos son errones\n                    </small>\n                  </span>\n                ) : null}\n                <div className=\"row\">\n                  <div className=\"mb-4 col-12\">\n                    <a\n                      href=\"#tools\"\n                      onClick={this.showTools}\n                      className=\"text-muted\"\n                    >\n                      <i className=\"mx-1 fas fa-wifi\"></i> Servidor\n                    </a>\n                    {HSHOW ? (\n                      <div className=\"mb-3 input-group\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          placeholder=\"Servidor\"\n                          name=\"txtHost\"\n                          autoComplete=\"off\"\n                          autoFocus={HSHOW ? true : false}\n                          onChange={this.catchInputs}\n                          value={H_TXT}\n                          onKeyPress={this.pressEnter}\n                        />\n                        <div className=\"input-group-append\">\n                          <div className=\"input-group-text\">\n                            <span className=\"fas fa-server\"></span>\n                          </div>\n                        </div>\n                      </div>\n                    ) : null}\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"text-center col-12\">\n                    <button\n                      type={LOADDING ? \"button\" : \"submit\"}\n                      className={\n                        LOADDING\n                          ? \"btn btn-outline-secondary btn-block\"\n                          : \"btn btn-primary btn-block\"\n                      }\n                    >\n                      {LOADDING ? (\n                        <div className=\"spinner-border text-secondary\">\n                          <span className=\"sr-only\">Loading...</span>\n                        </div>\n                      ) : (\n                        \"Iniciar session\"\n                      )}\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  pressEnter = (e) => {\n    //Realiza el cambio del host\n    e.preventDefault();\n    if (e.key === \"Enter\") {\n      const { txtHost } = this.state,\n        { 0: PORT, 1: HOST } = txtHost.split(\"://\"),\n        { changeHost: _CHANGE_HOST } = this.props;\n\n      this.setState({\n        load: true,\n      });\n\n      if (PORT && HOST) {\n        _CHANGE_HOST({\n          host: HOST,\n          port: PORT,\n        });\n      } else if (PORT && !HOST) {\n        _CHANGE_HOST({\n          host: PORT,\n          port: undefined,\n        });\n      }\n    } else if (e.target && e.target.name !== \"\") {\n      this.catchInputs(e);\n    }\n  };\n  catchInputs = (e) => {\n    //Manejamos las entrados de los inputs: email, password\n    const { name: NAME, value: VALUE } = e.target,\n      { key: KEY } = e;\n    let val = \"\";\n\n    if (KEY) {\n      if (NAME === \"txtHost\") val = this.state.txtHost;\n      val += KEY;\n    } else {\n      val = VALUE;\n    }\n\n    this.setState({\n      [NAME]: val,\n    });\n  };\n  showTools = (e) => {\n    //Muestra el campo para cambiar el host de conexion\n    //Lo realiza a traves del estado local con la variable\n    //hostShow\n    e.preventDefault();\n    this.setState({\n      hostShow: !this.state.hostShow,\n    });\n  };\n  validInputs(body) {\n    //Valida los campos del formulario para\n    //email y password con expresiones regulares\n    //Usuario: un email valido\n    //Password: de 8 a l6 caracteres, debe de contener mayuscula,\n    //un numero y al menos un caracter: !@#$&.*\n    const REGEXUSER =\n        /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n      REGEXPASS = /^(?=.*[A-Z])(?=.*[!@#$&.*])(?=.*[0-9])(?=.*[a-z]).{8,16}$/,\n      { email: U, password: P } = body;\n\n    if (REGEXUSER.test(U)) {\n      if (REGEXPASS.test(P)) {\n        return {\n          isValid: true,\n        };\n      } else {\n        console.error(\"[Orus System] Fallo validacion de password\");\n        return {\n          isValid: false,\n          msg: \"Los datos introducidos no son validos\",\n          input: \"password\",\n        };\n      }\n    } else {\n      console.error(\"[Orus System] Fallo validacion de email\");\n      return {\n        isValid: false,\n        msg: \"Los datos introducidos no son validos\",\n        input: \"email\",\n      };\n    }\n  }\n  handleLogin = (e) => {\n    //Conecta con el redux para hacer la validacion de\n    //credenciales a traves de una API.\n    //Aqui solo validamos datos y manejamos los fallos\n    //A traves de estado local\n    e.preventDefault();\n    console.log(\"[Orus System] Validando integracion de credenciales\");\n    const { username: U, password: P, load: LOADING } = this.state,\n      { loggin: _LOGGINGPROCESS } = this.props,\n      BODY = {\n        email: U.toString().replace(/\\s/g, \"\").trim().toLocaleLowerCase(),\n        password: P.toString().trim(),\n      };\n\n    if (!LOADING) {\n      this.setState({\n        load: true,\n        error: {},\n      });\n    }\n\n    const DATA_VALID = this.validInputs(BODY);\n\n    if (DATA_VALID.isValid) {\n      console.log(\"[Orus System] enviando credenciales a _LOGGINGPROCESS\");\n      _LOGGINGPROCESS(BODY);\n    } else {\n      this.setState({\n        load: false,\n        error: DATA_VALID,\n      });\n    }\n  };\n}\n\nconst mapStateToProps = (state) => {\n    return {\n      company: state.default.company,\n      host: state.default.host,\n      errors: state.logging.errors,\n      changeHostStatus: state.default.success,\n    };\n  },\n  mapDispatchToProps = {\n    loggin,\n    changeHost,\n  };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LogginComponent);\n","import {TYPE} from \"./types\";\n\nexport const changeHost = (payload) => ({\n  type: TYPE.CHANGE_HOST,\n  payload,\n});\n","import React, { Component } from \"react\";\nimport Routers from \"./Routers\";\nimport Login from \"./components/Layouts/login\";\nimport { connect } from \"react-redux\";\nimport { checkLogging } from \"./redux/user/actions\";\n\nclass App extends Component {\n  componentDidMount() {\n    const { checkLogging: _checkLogging, token: TOKEN, isLogged } = this.props;\n    if (isLogged) _checkLogging(TOKEN);\n  }\n\n  render() {\n    const { isLogged: IS_LOGGING } = this.props;\n    return (\n      <main>{IS_LOGGING ? <Routers data={this.props} /> : <Login />}</main>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n    return {\n      isLogged: state.logging.isLogged,\n      token: state.logging.token,\n    };\n  },\n  mapDispatchToProps = {\n    checkLogging,\n  };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\n\nconst Index = () => {\n  return (\n    <Provider store={store}>\n      <App />\n    </Provider>\n  );\n};\n\nrender(<Index />, document.getElementById(\"root\"));\n"],"sourceRoot":""}