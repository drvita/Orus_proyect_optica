{"version":3,"sources":["utils/url.js","context/AuthContext.js","hooks/useUsers.js","context/ConfigContext.js","components/Users/views/userNameInput.jsx","components/Users/views/userEmailInput.jsx","components/Users/Metadata.jsx","components/Users/Permissions.jsx","components/Activitys.jsx","components/Users/add.jsx","context/StoreContext.js","pages/partials/SideBar.jsx","components/Input.jsx","hooks/useStore.js","components/Store/Brands.jsx","hooks/useContact.js","components/Store/Suppliers.jsx","components/Store/ToolBar.jsx","layouts/pagination.jsx","layouts/list_inbox.jsx","components/Store/Inbox.jsx","components/Store/helpers.js","hooks/useCategory.js","components/Store/Categories.jsx","hooks/useProducts.js","components/Store/Code.jsx","components/Store/views/BranchesSelect.jsx","components/Store/views/BranchesFormInputs.jsx","components/Store/views/BranchesForm.jsx","components/Store/Add.jsx","components/Store/data/Category_list.jsx","pages/StoreCategories.jsx","components/Store/data/BrandsList.jsx","pages/StoreBrand.jsx","components/Store/views/SetQantityModal.jsx","components/Store/views/Inventory_table.jsx","components/Store/views/SetPriceModal.jsx","pages/StoreInventory.jsx","components/Store/views/FormEntries.jsx","components/Store/StoreEntriesArmModal.jsx","components/Store/views/StoreEntriesTr.jsx","components/Store/views/FormEntriesInvoice.jsx","pages/StoreEntriesArm.jsx","pages/Store.jsx","hooks/useConfig.js","context/ContactContext.js","components/Contacts/ToolsBar.jsx","components/Contacts/Inbox.jsx","components/Contacts/helper.js","components/Contacts/views/Personal.jsx","components/Contacts/views/Address.jsx","components/Contacts/views/Phones.jsx","components/Sales/views/listOfSales_delete.jsx","components/Contacts/Dashboard.jsx","components/Store/views/listOfBrands.jsx","components/Order/helpers.js","components/Order/views/listOfOrders.jsx","components/Exam/views/List.jsx","components/Exam/cards/List.jsx","layouts/modal.jsx","components/Contacts/Add.jsx","pages/Contacts.jsx","components/Tools/views/Branchs.jsx","pages/Tools.jsx","context/ExamContext.js","components/Exam/ToolBar.jsx","hooks/useExam.js","components/Exam/Inbox.jsx","components/Exam/views/GeneralesExam.jsx","components/Exam/views/interrogatoriosExam.jsx","components/Exam/views/keraRetExam.jsx","components/Exam/views/diabetesExam.jsx","components/Exam/views/agudezaExam.jsx","components/Exam/views/diagnosticoExam.jsx","components/Exam/views/graduacionExam.jsx","components/Exam/views/observacionesExam.jsx","components/Exam/helpers.js","components/Exam/views/RecomendationGlass.jsx","components/Contacts/views/CardNewContact.jsx","components/Contacts/views/Autocomplete.jsx","components/Contacts/views/ShowCardSearch.jsx","components/Contacts/views/ShowCard.jsx","components/Exam/views/SideBarRigth.jsx","components/Exam/Add.jsx","pages/Exams.jsx","context/SaleContext.js","components/Sales/views/ListItemsModal.jsx","components/Sales/helpers.js","components/Sales/views/InputSearchItem.jsx","components/Sales/views/DiscountBtn.jsx","hooks/useSale.js","components/Sales/views/ListSalesModal.jsx","components/Sales/views/ListSalesBtn.jsx","components/print/PrintSale.jsx","components/print/views/SaleHTML.js","components/Sales/views/PaymentModal.jsx","components/Sales/views/PaymentBtn.jsx","components/Sales/views/EraseSaleBtn.jsx","components/Sales/views/SearchCustomerModal.jsx","components/Sales/views/CustomerBtn.jsx","components/Sales/views/PaymentDetails.jsx","components/Sales/views/UpdateItemModal.jsx","components/Sales/views/SalesDetailsTable.jsx","components/Sales/views/SaleDate.jsx","components/Sales/views/ShowToPay.jsx","components/Sales/views/ShowTotal.jsx","components/Sales/views/InfoModal.jsx","components/Sales/views/InfoButton.jsx","components/Sales/views/ShowPedido.jsx","pages/Sales.jsx","components/Sales/views/reportPaymentsDetails.jsx","components/Sales/views/reportPays.jsx","components/Sales/views/reportBank.jsx","components/dashboard/Filters.jsx","components/dashboard/boxCut.jsx","pages/AuthDashboard.jsx","context/UserContext.js","components/Users/views/FiltersToolbar.jsx","components/Users/views/Inbox.jsx","pages/Users.jsx","context/OderContext.js","hooks/useOrder.js","components/Order/views/inbox.jsx","utils/helpers.js","components/Store/data/searchStore.jsx","components/Store/views/searchItemModal.jsx","components/Order/views/ItemsOrder.jsx","components/Order/views/userEmailInput.jsx","components/Order/views/userPhoneInput.jsx","components/Order/views/Asistent_card_customer.jsx","components/Exam/views/CardExam.jsx","components/Exam/views/CardExamsByUser.jsx","components/Exam/views/FormExamSmall.jsx","components/Order/views/Asistent_card_exam.jsx","components/Order/views/Asistent_card_discount.jsx","components/Order/views/PaymentModal.jsx","components/Order/views/Asistent_card_payments.jsx","components/Order/Asistent.jsx","components/Order/views/labOrder.jsx","components/Order/views/bicelacionOrder.jsx","components/Exam/views/examShort.jsx","components/Order/ExamModal.jsx","components/Order/ModalNota.jsx","components/Order/editOrder.jsx","components/Layouts/Messenger.jsx","hooks/useMessenger.js","components/Order/Toolbar.jsx","pages/Orders.jsx","components/Layouts/notify.jsx","components/Layouts/navtop.jsx","components/Layouts/breadcrumb.jsx","components/Layouts/menu.jsx","layouts/Main.jsx","routers/RouterAuth.jsx","pages/Dashboard.jsx","routers/RouterPortal.jsx","components/404NotFound/index.jsx","pages/Login.jsx","routers/Router.jsx","App.jsx","index.js","utils/current.js"],"names":["api","url","method","body","controller","Promise","done","reject","LS","localStorage","getItem","SS","sessionStorage","JSON","parse","protocol","PROTOCOL","window","location","host","HOST","hostname","port","PORT","token","TOKEN","param","headers","Accept","Authorization","includes","toUpperCase","data","stringify","signal","axios","then","res","catch","err","console","error","code","message","response","setUrl","endpoint","id","paramString","paramKeys","Object","keys","Array","isArray","map","k","length","URLSearchParams","AuthContext","createContext","Auth","useContext","useUser","children","history","useHistory","initialSession","isLogged","idUser","username","name","rol","email","branch","roles","permissions","useState","user","setUser","setUserData","toSave","toLowerCase","setItem","session","credentials","a","password","status","outSession","getCurrentUser","log","pathname","push","getNotifications","unreadNotifications","setNotifications","payload","result","count","parseInt","success","setBranch","update","branch_id","useEffect","Provider","value","auth","setSession","useUsers","getListUsers","filters","getUserById","ID","deleteUser","saveUser","ConfigContext","Config","initialState","meta","branches","banks","server","useConfig","state","setstate","setStorage","storage","newStorage","handleSetState","req","filter","con","reqBranches","row","UserNameInputComponent","props","mounted","useRef","bgColor","validate","text","searchUser","setState","_onChange","onChange","_handleValidate","handleValidate","current","className","col","type","placeholder","autoComplete","autoFocus","defaultValue","handleChange","target","onBlur","userSearch","replace","test","handleSearchUser","userId","required","minLength","maxLength","pattern","deleted","UserEmailInputComponent","searchEmail","emailSearch","MetadataComponent","currentUser","moment","created_at","fromNow","updated_at","ip_address","last_activity","user_agent","user_data","onClick","PermissionsComponent","role","permission","i","ActivitysComponents","ac","datetime","format","Boolean","inputs","input","load","validUserName","validUserEmail","activities","UserAddComponent","match","params","_handleNewOrEdit","handleNewOrEdit","_users","branchs","setCurrentUser","send","catchInputs","normalize","activity","processData","style","height","disabled","Swal","fire","icon","title","showConfirmButton","timer","showCancelButton","confirmButtonText","cancelButtonText","showLoaderOnConfirm","dismiss","StoreContext","Store","SideBarPartial","Input","showIcon","loadText","options","emptyText","cat","index","useStore","getItems","deleteItem","saveItemByList","items","saveItem","saveQantityandPrice","readyToSave","saveGlobalPrice","idCategory","productCategoryId","URL","branchSelected","saveQantity","product_id","getBrands","getBrand","saveBrand","deleteBrand","Brands","brands","_store","supplier","brand","handleChangeBrand","filterBrandName","useContact","getContacts","getContact","deleteContact","saveContact","Suppliers","_contacts","suppliers","orderby","order","sup","handleChangeSupplier","ToolBar","context","handleSetSelectOptions","checked","set","panel","href","e","preventDefault","zero","htmlFor","itemsPage","PaginationComponent","color","_handlePagination","handlePagination","handleChangePage","page","current_page","last_page","ListInbox","defaultSearch","search","setSearch","setTimer","inputRef","toTimer","handleSearch","clearTimeout","setTimeout","ref","onKeyPress","key","top","left","handleDeleteItem","handleEditItem","handleStatus","handleSync","handleDownload","itemSelected","handlePrint","loading","Inbox","handleChangeOptions","handleSelectItem","item","newOptions","responseType","oMyBlob","Blob","open","createObjectURL","confirmButtonColor","handleItemSelect","cant_total","colSpan","codeLentString","string","toExport","verifyItem","cant","store_items_id","price","_delete","handleVerifyData","codeRef","category_id","category_id1","category_id2","category_id4","brand_id","handleSaveItem","_save","_close","handleCatOne","category_list2","hijos","category_id3","category_list3","category_list4","handleCatTwo","handleCatTree","handleCodeString","stringcode","category","trim","handleCodeLent","grad","category1","category2","category3","toString","handleNameLent","useCategory","getCategories","getCategory","deleteCategory","saveCategory","Categories","_categories","categories","cat1","cat2","cat3","cat4","catNameSelect","input2","input3","sons","input4","input5","handleCodeName","select","c","codeName","handleSetCatName","categoryid","handleReturn","val","useProducts","getProducts","searchBy","getProductById","getProductByCode","saveProduct","Code","hookProducts","codeMessage","codeStatus","rendered","validCode","onChangeStatusCode","onChangeProductCode","createName","BranchesSelect","branch_default","setBranchId","listBranches","BranchesFormInputs","inBranch","branchID","storeItemID","hookStore","store_item_id","setData","handleChangeInput","parseFloat","min","BranchesForm","defaultBranch","configBranches","currentBranch","codebar","unit","supplier_id","codes","category_code","codenames","brandname","Add","storeContext","LOADING","barcode","inBranches","getNameCodeDefault","brandName","currentCode","slice","helper","textSelect","codeReceibed","to","dataSend","timerProgressBar","errors","CategoryListComponent","hookCategory","ls","dd","category_raiz","add","categoryData","width","Fragment","last","_categorySelect","categorySelect","category_data","handleSelectCategory","CategoriesStoreComponent","category_view_sons","category_current","category_cache","minHeight","BrandsList","handleEdit","handleDelete","cursor","BrandsComponent","storeHook","nombre","prevEdit","changeInput","contact_id","SetQantityModal","handleClose","handleUpdateItems","cantidad","setCantidad","tabIndex","class","InventoryTableView","header","itemsProp","showModal","h","toFixed","newItem","forEach","SetPriceModal","_handleSave","handleSave","showLoader","setShowLoader","setPrice","Inventory","catData_1","catData_2","catData_3","catid_1","catid_2","catid_3","modal","setModal","cil","rangoInf","rangoSup","handleModal","catid","noGraduationData","FormEntries","itemSearch","searchFn","alert","setAlert","braDef","setBraDef","handleSetPrice","branch_selected","b","codeNameCategory","cost","used","codeBar","Math","random","substring","cats","bra","br","ModalComponents","_handleCancel","handleCancel","_handleAdd","handleAdd","setBrands","confirm","setConfirm","setLoad","setItemSearch","Date","now","saved","cantAdd","supplierSelected","StoreEntriesTr","newRow","ctx","s","FormEntriesInvoice","btnStatus","setBtnStatus","handleShowList","invoice","showList","StoreEntriesArm","store","setNewRow","itemsValid","alt","html","numFactura","optionsDefault","CatHook","contacts","ContHook","config","get","ConfigHook","handleGetCategories","handleGetSuppliers","business","handleGetBranchs","handleSet","isNaN","ContactContext","Contacts","ToolBarContact","newOrEdit","contact","InboxContact","contactSelected","handleLoadContacts","phones","values","p","maxWidth","enUso","age","created","patternEmail","handleVerificationData","showMsg","birthday","phone","patternName","patternPhone","telefonoVerify","date","today","anos","getFullYear","changeDataInput","_setData","telnumbers","t_movil","handleGetDataObject","verification","telefonos","dataPrimary","t_casa","t_oficina","gender","isEmail","Personal","fn","emailVerification","emailColor","nameVerification","nameColor","birthdayVerification","birthdayColor","contatcs","handleValidContact","except","validates","check","diff","rfc","onKeyDown","zIndex","maxHeight","locale","selected","dateFormat","maxDate","placeholderText","onSelect","toLocaleDateString","isValid","Address","address_street","address_neighborhood","address_location","address_state","address_zip","Phones","phone_notices","phone_cell","phone_office","registerLocale","es","ListOfSalesComponent","sales","sale","total","pedido","Dashboard","analytics","metadata","purchases","exams","orders","updated","ListOfBrandsComponent","handleStatusString","getDataTemporary","field","removeDataTemporary","getBadgeStatus","handleDeleteOrder","estado","nota","handleSaveOrder","_erase","addDataTemporary","local","getDataOneItem","getStatusType","ListOfOrdersComponent","order_foreing","List","allSelect","_handleSelectedExam","handleSelectedExam","setSelect","scope","isSame","showBottons","examSelect","supplier_of","deleted_at","AddContact","id_exam","setContact","handleChangeData","validateBussines","notices","cell","office","address","street","neighborhood","zip","purchases_count","exams_count","brands_count","suppliers_count","orders_count","domicilios","calle","colonia","municipio","cp","domicilio","handleSaveContact","ContactsComponent","BranchsListComponent","showForm","handleChangeValue","onSubmit","handleUpdateConfig","ToolsComponent","varLocalStorage","company","category_list","ExamContext","Exams","useExam","getExams","getExam","deleteExam","saveExam","InboxExams","_exam","list","examSelected","handleLoadExams","exam","customer","hasOwnProperty","messages","esferaod","esferaoi","cilindrod","cilindroi","ejeod","ejeoi","adiciond","adicioni","adicion_media_od","adicion_media_oi","dpod","dpoi","alturaod","alturaoi","GeneralesExam","handleGetData","pc","pc_time","readOnly","tablet","tablet_time","movil","movil_time","lap","lap_time","frontal","occipital","generality","cefalea","temporaod","temporaoi","c_frecuencia","max","c_intensidad","InterrogatorioExam","onChangeInput","this","interrogatorio","coa","rows","aopp","aopf","Component","KeraRetExamComponent","keratometriaod","keratometriaoi","rsod","rsoi","DiabetesExam","d_fclod","d_fcloi","d_time","d_media","d_test","d_fclod_time","d_fcloi_time","oftalmoscopia","AgudezaExam","cvod","cvoi","avslod","avsloi","avcgaod","avcgaoi","avfod","avfoi","avf2o","DiagnosticoExam","diagnostico","presbicie","step","piod","pioi","txoftalmico","GraduacionExamComponent","lcmarca","lcgod","lcgoi","showContactGlasses","ObservacionesExam","observaciones","parent","toExportActions","handleTypeInput","getCodeGrad","gradod","gradoi","od","oi","handleSaveExam","examToday","examenes","edad","RecomendationGlass","category_list_2","category_list_3","category_id_1","category_id_2","category_id_3","codesItems","_category","handleCodesItems","handleCategoryChange","_onChangeInput","CardNewContact","nameDefault","hookContact","valid","handleValidForm","dissmiss","handleResult","Autocomplete","showNew","handleSelected","per_page","handleNew","ShowCardSearch","new","newName","handleSelectContact","ShowContactComponent","legend","handleContactSelect","SideBarRigth","_handle","handle","generales","interrogatorios","keraRet","diabetes","agudeza","graduacion","recomendaciones","getDataDefault","activitys","_exams","category_ii","doc","num","temporal","nameItem","pantalleooi","pantalleood","txoptico","SaleContext","Sale","ListItemsModal","cantDefault","_Select","handleSelect","handleChangeCant","producto","handleClickItem","toSend","_make","getMethodName","getSession","getForPay","payments","discount","paid","reduce","subtotal","getSubTotal","getTotal","getPagado","InputSearchItem","textSearch","setTextSearch","setShowList","setCantDefault","setList","searchItem","split","makeItem","inStorage","cantidades","out","cantInStore","descripcion","categoria","handleAddItem","found","newItems","handleChangeTextSearch","handlePressEnter","DiscountBtnComponent","pagado","btnDisabled","prompt","sum","percent","useSales","getSaleList","salesFilters","orderBy","getSaleById","saveSale","ListSalesModal","_select","_sales","saleList","setSaleList","handleChangeSearch","saleSelected","handleSelectSale","ListSalesBtn","pay","thereNews","PrintSaleComponent","popup","document","write","card","helpers","amount","order_id","HTMLOrderPrint","getPage","print","onbeforeunload","setPrint","position","display","flexDirection","justifyContent","alignItems","backgroundColor","marginBottom","PaymentModal","forPaid","listBanks","metodopago","metodoname","bank_id","details","handleSetPayment","bank","PaymentBtnComponent","showPayment","EraseSaleBtnComponent","eraseSale","isPayed","SearchCustomerModal","customers","setCustomers","SearchCustomer","handleChangeText","handleKeyPressSearch","saleHelper","handleClickCustomer","CustomerBtnComponent","payment","banco","UpdateItemModal","close","_update","handleUpdate","handleUpdateItem","handleKeyPress","SalesDetailsTableComponent","showUpdateItem","showPaymentDetails","product","handleDeletePayment","newPayments","handleShowUpdateItem","handleCloseUpdateItem","diffDay","handleDeleteBtn","handleShowPaymentDetails","PaymentDetails","toDo","ShowToPay","ShowTotal","InfoModal","InfoButton","saleContext","setShowModal","ShowPedido","IndexSalesComponent","hookSale","setDataToSend","showDenyButton","back","payed","obj","ReportPaymentsDetails","getSaleDay","paymentsFilters","paymentsUrl","user_id","date_start","date_end","metodo","created_user","dollarUS","ReportPays","changeState","efectivo","char","newFiltersPays","donutChartCanvas","$","getContext","donutOptions","maintainAspectRatio","responsive","labels","donutData","destroy","mp","datasets","Chart","ventas","ReportBank","listBank","bankFilters","bankUrls","Filters","userData","usersHook","handleChangeDate","getDataApi","users","u","BoxCut","startOf","changeAllState","UserContext","FiltersToolbar","_newOrEdit","_userContext","InboxComponent","userSelected","setUserSelected","setLoading","getClassByRole","UsersComponent","OrderContext","useOrder","getListOrders","getOrder","saveOrder","bi_details","deleteOrder","InboxOrderComponent","orderContext","orderHook","pedidos","setPedidos","_saveOrder","orderSelected","setOrderSelected","handleSelectOrder","getList","cancelButtonColor","handleOrderSelect","paciente","lab","npedidolab","ncaja","SearchItemsComponent","_handleItemSelect","setItems","sort","getItemToShow","AddItemModalComponent","codeDefault","_handleAddItem","_handleCloseModal","handleCloseModal","showDesc","setShowDesc","handleChangeItem","hanldeSendBack","ListItemComponent","itemNew","validItems","showDetails","handleSetCantItem","itemsToSave","sub","minWidth","lot","itemFound","findIndex","_handleValidData","handleValidData","contactHook","validEmail","UserPhoneInputComponent","validPhone","CardCustomer","_handleRemoveCustomer","handleRemoveCustomer","_handleUpdateContact","handleUpdateContact","_handleEditor","handleEditor","edit","validToSave","ph","exam_id","contactData","CardShowExam","_handleRemove","handleRemove","_handleEdit","cancelButttonText","CardExamByUser","customer_id","_handleClick","handleClick","examHook","dataNewExam","FormExamSmall","handleOnChange","CardExam","editCustomer","_handleSelect","_hanldeRemove","hanldeRemove","CardDiscount","_handleSetDiscount","handleSetDiscount","toPaid","setDiscount","_handleSetPayments","handleSetPayments","CardOrderPayments","handleToPaid","AsistentComponent","examsList","generalHelper","cat_id","_getCategory","executeHook","descuento","handleCloseAssitent","categories_wrong","items_state","finalPayments","denyButtonText","LabOrderComponent","lab_id","lab_order","_handleChange","setSuppliers","supDefault","setSupDefault","hookContacts","BicelacionOrderComponent","bi_box","ExamCustomerComponent","examEdit","_ChangeInput","ChangeInput","_saveExam","newExam","setNewExam","handelChangeExam","ExamModal","ModalNota","penddingToPay","EditOrderComponent","statusInitial","showModalNota","setShowModalNota","hookOrder","fNacimiento","tel","saveFinalOrder","join","Messenger","table","idRow","hookMessenger","getMessages","sendMessenger","bodyRequest","useMessenger","getMessenger","avatar","src","mensaje","Toolbar","useParams","initialOptions","IndexOrderComponent","NotifyComponent","timerNotify","notifications","mainRole","countNotify","showNotifications","handleNotifications","handleClickRead","setInterval","clearInterval","notify","notiFyType","time","NavtopComponent","toggleClass","BreadcrumbComponent","pathName","useLocation","namePage","path","showChangeBranchs","branchSelect","handleCancelModal","handleClickChangeBranch","reload","getHtmlBody","MenuComponent","companyName","active","opacity","Main","logOut","Routers","exact","render","RouterPortal","NotFoundComponent","Login","defaultStorage","txtHost","hostShow","inputEmail","inputPassword","handleLogin","focus","handleKeyEnter","handleChangeServer","handleEmailEnter","Router","component","NotFound","App","getElementById","module","exports","Intl","NumberFormat","currency"],"mappings":"mNAQO,SAASA,EAAIC,GAA+C,IAA1CC,EAAyC,uDAAhC,MAAOC,EAAyB,uCAAnBC,EAAmB,uDAAN,KAC1D,OAAO,IAAIC,SAAQ,SAACC,EAAMC,GAClB,IAAAC,EAAKC,aAAaC,QAAQ,cAC9BC,EAAKC,eAAeF,QAAQ,mBADxB,EAMAG,KAAKC,MAAMN,GAAU,MANrB,IAGFO,SAAUC,OAHR,MAGmBC,OAAOC,SAASH,SAHnC,MAIFI,KAAMC,OAJJ,MAIWH,OAAOC,SAASG,SAJ3B,MAKFC,KAAMC,OALJ,MAKWN,OAAOC,SAASI,KAL3B,IAOoBT,KAAKC,MAAMH,GAAU,MAA3Ca,MAAOC,OAPL,MAOa,GAPb,EAQAC,EAAQ,CACZxB,SACAD,IAAI,GAAD,OAAKe,EAAL,cAAmBI,EAAnB,YAA2BG,EAA3B,gBAAuCtB,GAC1C0B,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChBC,cAAe,UAAYJ,IAI3B,CAAC,OAAQ,OAAOK,SAAS5B,EAAO6B,gBAAkB5B,IACpDuB,EAAMM,KAAOnB,KAAKoB,UAAU9B,IAE1BC,IAAYsB,EAAMQ,OAAS9B,EAAW8B,QAE1CC,IAAMT,GACHU,MAAK,SAACC,GACL,OAAO/B,EAAK+B,EAAIL,SAEjBM,OAAM,SAACC,GAAS,IAAD,EAId,OAHAC,QAAQC,MAAM,kCAAmCxC,GACjDuC,QAAQC,MAAM,gCAAd,OAA+CF,QAA/C,IAA+CA,OAA/C,EAA+CA,EAAKG,MACpDF,QAAQC,MAAM,mCAAd,OAAkDF,QAAlD,IAAkDA,OAAlD,EAAkDA,EAAKI,SAChDpC,EAAM,UAACgC,EAAIK,gBAAL,aAAC,EAAcZ,YAK7B,SAASa,EAAOC,EAAUC,GAAiB,IAAbrB,EAAY,uDAAJ,GACvCzB,EAAM6C,EACRE,EAAc,KACVC,EAAYC,OAAOC,KAAKzB,GAM9B,OAJIqB,IACF9C,GAAG,WAAQ8C,IAGQ,kBAAVrB,GAAsB0B,MAAMC,QAAQ3B,IAI3CuB,IACFA,EAAUK,KAAI,SAACC,GAIb,OAHiB,OAAb7B,EAAM6B,IAA4B,KAAb7B,EAAM6B,WACtB7B,EAAM6B,GAER,QAGLN,EAAUO,SACZR,EAAc,IAAIS,gBAAgB/B,GAClCzB,GAAG,WAAQ+C,KAbN/C,E,WCnDEyD,EAAcC,wBAAc,MAC5BC,EAAO,kBAAMC,qBAAWH,IAEtB,SAASI,EAAT,GAAgC,IAAbC,EAAY,EAAZA,SAC1BC,EAAUC,cAGVzD,EAAKI,eAAeF,QAAQ,mBAE9BwD,EAAiB,CACnBC,UAAU,EACVC,OAAQ,EACRC,SAAU,GACVC,KAAM,GACNC,IAAK,KACLC,MAAO,GACPhD,MAAO,GACPiD,OAAQ,GACRC,MAAO,GACPC,YAAa,IAIf,EAAwBC,oBAAS,WAK/B,OAJIpE,GAAa,cAAPA,IACR0D,EAAiBrD,KAAKC,MAAMN,IAGvB0D,KALT,mBAAOW,EAAP,KAAaC,EAAb,KASMC,EAAc,SAAC/C,GAAU,IAAD,IAC1B,GAAKA,EAAL,CAEA,IAAMgD,EAAS,CACbb,SAAQ,UAAEnC,EAAKmC,gBAAP,QAAmBU,EAAKV,SAChCC,OAAQpC,EAAKe,GACbsB,SAAUrC,EAAKqC,SAASY,cACxBX,KAAMtC,EAAKsC,KAAKW,cAChBV,IAAK,EACLC,MAAOxC,EAAKwC,MACZhD,MAAK,UAAEQ,EAAKR,aAAP,QAAgBqD,EAAKrD,MAC1BiD,OAAO,2BAAMzC,EAAKyC,OAAOzC,MAAnB,IAAyBe,GAAIf,EAAKyC,OAAO1B,KAC/C2B,MAAO1C,EAAK0C,MAAM,GAClBC,YAAa3C,EAAK2C,aAEpBG,EAAQE,GAERpE,eAAesE,QAAQ,kBAAmBrE,KAAKoB,UAAU+C,MAE3DG,EAAO,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,yDACAb,EAAoBY,EAApBZ,MAAOc,EAAaF,EAAbE,SAEVd,GAAUc,EAHP,yCAIC,CACLC,QAAQ,EACR5C,QAAS,6CANL,uBAUK3C,EAAI,aAAc,OAAQoF,GACpChD,MAAK,SAACJ,GACL,IAAKA,EAAKuD,OACR,MAAO,CAAEA,QAAQ,EAAOvD,QAG1B,IAAc6C,EAAS7C,EAAfA,KAQR,OANA+C,EAAY,2BACPF,GADM,IAETrD,MAAOQ,EAAKR,MACZ2C,UAAU,KAGL,CAAEoB,QAAQ,EAAM5C,QAASX,EAAKW,YAEtCL,OAAM,SAACC,GACN,MAAO,CACLgD,QAAQ,EACR5C,QAAS,iCAA2BJ,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAKI,aA7BvC,mFAAH,sDAiCP6C,EAAU,uCAAG,sBAAAH,EAAA,sEACErF,EAAI,cAAe,QAC7BoC,MAAK,WAKJ,OAJA0C,EAAQZ,GAERtD,eAAesE,QAAQ,kBAAmB,OAEnC,KAER5C,OAAM,SAACC,GAAD,OAASC,QAAQC,MAAM,+BAAgCF,MATrD,mFAAH,qDAWVkD,EAAc,uCAAG,sBAAAJ,EAAA,sEACFrF,EAAI,QACdoC,MAAK,SAACJ,GAAD,OAAUA,EAAKA,QACpBM,OAAM,SAACC,GACoC,IAAD,EAApB,sBAAd,OAAHA,QAAG,IAAHA,OAAA,EAAAA,EAAKI,SAaTH,QAAQkD,IAAI,2BAA4BnD,GAZH,YAA/B,UAAAyB,EAAQ9C,gBAAR,eAAkByE,YACpBb,EAAQZ,GAERtD,eAAesE,QACb,kBACArE,KAAKoB,UAAUiC,IAGjBF,EAAQ4B,KAAK,cAbN,mFAAH,qDAoBdC,EAAgB,uCAAG,4BAAAR,EAAA,sEACEI,IAAiBnD,OAAM,WAExC,OAAO,QAHQ,UACXuC,EADW,gDAMC,IAND,gCAQVA,EAAKiB,qBARK,2CAAH,qDAUhBC,EAAgB,uCAAG,WAAOC,GAAP,SAAAX,EAAA,yDACM,kBAAZW,EADM,yCAER,CACLT,QAAQ,EACR5C,QAAS,6BAJI,uBAQJ3C,EAAI,4BAA6B,OAAQgG,GAAS5D,MAC7D,SAAC6D,GACC,IAAMC,EAAQC,SAASH,EAAQjD,IAAM,EAAI,QAAU,EAEnD,QAAIkD,EAAOG,UACT5D,QAAQkD,IAAI,gDAAiDQ,IACtD,MAdI,mFAAH,sDAqBhBG,EAAS,uCAAG,WAAO5B,GAAP,iBAAAY,EAAA,6DACJpF,EAAM4C,EAAO,QAASgC,EAAKT,QAE3BkC,EAAS,CACbC,UAAW9B,EACXH,KAAMO,EAAKP,KACXD,SAAUQ,EAAKR,UANP,SASGrE,EAAIC,EAAK,MAAOqG,GAAQlE,MAAK,SAAC6D,GACzC,SAAIA,EAAOjE,MAASiE,EAAOtD,YAVnB,mFAAH,sDAwBX,OATA6D,qBAAU,WACRf,IAAiBrD,MAAK,SAACJ,GAChBA,IAELQ,QAAQkD,IAAI,qCACZX,EAAY,2BAAK/C,GAAN,IAAYmC,UAAU,WAElC,CAACU,EAAKV,WAGP,cAACT,EAAY+C,SAAb,CACEC,MAAO,CACLC,KAAM9B,EACN+B,WAAYzB,EACZK,aACAK,mBACAE,mBACAM,aAPJ,SAUGtC,I,YCxLQ,SAAS8C,IAEtB,IAAMC,EAAY,uCAAG,WAAOC,GAAP,eAAA1B,EAAA,6DACbpF,EAAM4C,EAAO,QAAS,KAAMkE,GADf,SAEN/G,EAAIC,GAFE,mFAAH,sDAKZ+G,EAAW,uCAAG,WAAMC,GAAN,eAAA5B,EAAA,6DACZpF,EAAM4C,EAAO,QAASoE,GADV,SAELjH,EAAIC,GAFC,mFAAH,sDAKXiH,EAAU,uCAAG,WAAOD,GAAP,eAAA5B,EAAA,6DACXpF,EAAM4C,EAAO,QAASoE,GADX,SAEJjH,EAAIC,EAAK,SAAU,MAFf,mFAAH,sDAKVkH,EAAQ,uCAAG,WAAOnF,EAAMiF,GAAb,iBAAA5B,EAAA,0DAEZ4B,EAFY,uBAIPhH,EAAM4C,EAAO,QAASoE,GAJf,SAKAjH,EAAIC,EAAK,MAAM+B,GALf,8DASP/B,EAAM4C,EAAO,SATN,UAUA7C,EAAIC,EAAK,OAAQ+B,GAVjB,4CAAH,wDAcd,MAAM,CACJ8E,eACAE,cACAE,aACAC,YCjCG,IAAMC,EAAgBzD,wBAAc,MAC9B0D,EAAS,kBAAMxD,qBAAWuD,IAIjCE,EAAe,CACnBtF,KAAM,GACNuF,KAAM,GACNC,SAAU,GACVC,MAAO,GACPC,OAPc7G,KAAKC,MAAML,aAAaC,QAAQ,gBAUjC,SAASiH,EAAT,GAAkC,IAAb5D,EAAY,EAAZA,SAClC,EAA0Ba,mBAAS0C,GAAnC,mBAAOM,EAAP,KAAcC,EAAd,KAEMC,EAAa,SAACC,GAClB,GAAuB,kBAAZA,EACT,OAAO,EAGT,IAAMC,EAAU,2BACXJ,EAAMF,QACNK,GAQL,OALAF,EAAS,2BACJD,GADG,IAENF,OAAQM,KAEVvH,aAAayE,QAAQ,aAAcrE,KAAKoB,UAAU+F,KAC3C,GAKHC,EAAc,uCAAG,sCAAA5C,EAAA,sEAFdrF,EAAI,uBAAwB,OAAOoC,MAAK,SAACC,GAAD,OAASA,KAEnC,OACf6F,EADe,OAEfT,EAFe,UAEPS,EAAIlG,YAFG,aAEP,EAAUmG,QAAO,SAACC,GAAD,MAAsB,SAAbA,EAAI9D,QACtC+D,EAHe,UAGDH,EAAIlG,YAHH,aAGD,EAAUmG,QAAO,SAACC,GAAD,MAAsB,aAAbA,EAAI9D,QAC5CkD,EAAWa,EAAY/E,KAAI,SAACgF,GAAD,mBAAC,eAAcA,EAAItG,MAAnB,IAAyBe,GAAIuF,EAAIvF,QAElE8E,EAAS,2BACJD,GADG,IAEN5F,KAAMkG,EAAIlG,KACVuF,KAAMW,EAAIX,KACVC,WACAC,QACAK,gBAZmB,2CAAH,qDAoBpB,OAJAtB,qBAAU,WACRyB,MACC,IAGD,cAACb,EAAcX,SAAf,CAAwBC,MAAOkB,EAA/B,SAAuC7D,IC1D5B,SAASwE,EAAuBC,GAC7C,IAAM3D,EAAOgC,IACP4B,EAAUC,kBAAO,GACvB,EAA0B9D,mBAAS,CACjC+D,QAAS,UACTC,SAAU,GACVC,KAAM,uCACNC,YAAY,IAJd,mBAAOlB,EAAP,KAAcmB,EAAd,KAMkBC,EAA+CR,EAAzDS,SAAqCC,EAAoBV,EAApCW,eAoF7B,OANA3C,qBAAU,WACR,OAAO,WACLiC,EAAQW,SAAU,MAKpB,sBAAKC,UAAW,OAASb,EAAMc,IAA/B,UACGd,EAAMnE,SAASb,OACd,gCACE,8CAGF,uBAEF,sBAAK6F,UAAU,cAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAW,oBAAsBzB,EAAMe,QAA7C,SACGf,EAAMkB,WACL,mBAAGO,UAAU,mBAEb,mBAAGA,UAAU,0BAInB,uBACEE,KAAK,OACLF,UAAW,eAAiBzB,EAAMgB,SAClCY,YAAY,UACZC,aAAa,MACbC,UAAU,YACVC,aAAcnB,EAAMnE,SACpB4E,SAAU,mBA5GG,SAAC,GAAe,IAAbvC,EAAY,EAAZA,MACtBsC,EAAU,CACR1E,KAAM,WACNoC,MAAOA,EAAMzB,gBAyGiB2E,CAAhB,EAAGC,SACbC,OAvGU,WAChB,GAAKrB,EAAQW,QAAb,CAEA,IACEW,EAAavB,EAAMnE,SAAS2F,QAAQ,MAAO,IAD/B,eAGJC,KAAKF,IAEbhB,EAAS,2BACJnB,GADG,IAENkB,YAAY,KAGdoB,EAAiBH,EAAYvB,EAAM2B,OAAQtF,GAAMzC,MAAK,SAACmD,GAChDkD,EAAQW,UAET7D,GACFwD,EAAS,2BACJnB,GADG,IAENe,QAAS,SACTC,SAAU,wBACVC,KAAM,iCACNC,YAAY,KAEdI,EAAgB,CACd5E,KAAM,gBACNoC,OAAO,MAGTqC,EAAS,2BACJnB,GADG,IAENe,QAAS,UACTC,SAAU,GACVC,KAAM,GACNC,YAAY,KAEdI,EAAgB,CACd5E,KAAM,gBACNoC,OAAO,UAMTqD,EAAWvG,OAAS,GACtBuF,EAAS,2BACJnB,GADG,IAENe,QAAS,SACTC,SAAU,wBACVC,KAAM,oCAERK,EAAgB,CACd5E,KAAM,gBACNoC,OAAO,KAECqD,EAAWvG,SACrBuF,EAAS,2BACJnB,GADG,IAENe,QAAS,SACTC,SAAU,wBACVC,KAAM,uDAERK,EAAgB,CACd5E,KAAM,gBACNoC,OAAO,OAwCP0D,SAAS,WACTC,UAAU,IACVC,UAAU,KACVC,QAAQ,qBAGX3C,EAAMgB,SAAW,uBAAOS,UAAU,aAAjB,SAA+BzB,EAAMiB,OAAgB,MAK7E,IAAMqB,EAAgB,uCAAG,WAAO7F,GAAP,+BAAAgB,EAAA,6DAAiB8E,EAAjB,+BAA0B,KAAMtF,EAAhC,gCACFA,EAAKiC,aAAa,CAAEzC,WAAU8F,SAAQK,QAAS,IAD7C,YACjBvE,EADiB,QAGZjE,OAAQiE,EAAOjE,KAAKwB,OAHR,mBAIMyC,EAAOjE,KAAK,GAA/BqC,SAECY,gBAAkBZ,EANN,0CAOZ,GAPY,iCAUhB,GAVgB,4CAAH,sDCpIP,SAASoG,EAAwBjC,GAC9C,MAA0B5D,mBAAS,CACjC+D,QAAS,UACTC,SAAU,GACVC,KAAM,kCACN6B,aAAa,IAJf,mBAAO9C,EAAP,KAAcmB,EAAd,KAOMlE,EAAOgC,IAGLyC,EAA4Cd,EAA5Cc,IAAK9E,EAAuCgE,EAAvChE,MAAO2F,EAAgC3B,EAAhC2B,OAAkBnB,EAAcR,EAAxBS,SACxBN,EAAyCf,EAAzCe,QAASC,EAAgChB,EAAhCgB,SAAUC,EAAsBjB,EAAtBiB,KAAM6B,EAAgB9C,EAAhB8C,YA2E7B,OACE,sBAAKrB,UAAW,OAASC,EAAzB,UACG9E,EAAMhB,OACL,gCACE,4CAGF,uBAEF,sBAAK6F,UAAU,cAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAW,oBAAsBV,EAAvC,SACG+B,EACC,mBAAGrB,UAAU,mBAEb,mBAAGA,UAAU,kBAInB,uBACEE,KAAK,QACLF,UAAW,eAAiBT,EAC5BY,YAAY,QACZlF,KAAK,QACLmF,aAAa,MACbE,aAAcnF,EACdyE,SAAU,mBAlGG,SAAC,GAAqB,IAAnB3E,EAAkB,EAAlBA,KAAMoC,EAAY,EAAZA,MAC1BsC,EAAU,CACR1E,OACAoC,MAAOA,EAAMzB,gBA+Fe2E,CAAhB,EAAGC,SACbC,OA5FO,WACX,IAEEa,EAAcnG,EAAMwF,QAAQ,MAAO,IADjC,uIAGMC,KAAKU,IAEb5B,EAAS,2BACJnB,GADG,IAENkB,YAAY,KAGdoB,EAAiBS,EAAaR,EAAQtF,GAAMzC,MAAK,SAACQ,GAC5CA,GACFmG,EAAS,CACPJ,QAAS,SACTC,SAAU,wBACVC,KAAM,iCACNC,YAAY,IAEdE,EAAU,CACR1E,KAAM,iBACNoC,OAAO,MAGTqC,EAAS,2BACJnB,GADG,IAENe,QAAS,UACTC,SAAU,GACVC,KAAM,MAERG,EAAU,CACR1E,KAAM,iBACNoC,OAAO,SAMTiE,EAAYnH,OAAS,GACvBuF,EAAS,2BACJnB,GADG,IAENe,QAAS,SACTC,SAAU,wBACVC,KAAM,4CAERG,EAAU,CACR1E,KAAM,iBACNoC,OAAO,KAECiE,EAAYnH,SACtBuF,EAAS,2BACJnB,GADG,IAENe,QAAS,SACTC,SAAU,wBACVC,KAAM,6BAERG,EAAU,CACR1E,KAAM,iBACNoC,OAAO,MAkCT0D,SAAS,gBAGZxB,EAAW,uBAAOS,UAAU,aAAjB,SAA+BR,IAAgB,MAMjE,IAAMqB,EAAgB,uCAAG,WAAO7F,GAAP,+BAAAgB,EAAA,6DAAiB8E,EAAjB,+BAA0B,KAAMtF,EAAhC,gCACFA,EAAKiC,aAAa,CAAEzC,WAAU8F,SAAQK,QAAS,IAD7C,YACjBvE,EADiB,QAGZjE,OAAQiE,EAAOjE,KAAKwB,OAHR,mBAIMyC,EAAOjE,KAAK,GAA/BqC,SAECY,gBAAkBZ,EANN,0CAOZ,GAPY,iCAUhB,GAVgB,4CAAH,sD,gBC7HP,SAASuG,EAAT,GAAmD,IAAD,UAAfC,EAAe,EAArB7I,KAC1C,OACE,sBAAKqH,UAAU,iCAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,0BAAd,UACE,mBAAGA,UAAU,yBADf,gBAKF,qBAAKA,UAAU,YAAf,SACG,UAAAwB,EAAY7I,YAAZ,SAAkBmD,QACjB,qBAAIkE,UAAU,aAAd,UACE,qBAAIA,UAAU,kBAAd,UACE,mDACA,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,MAAf,UACE,sBAAMA,UAAU,eAAhB,wBACA,4BAAIyB,IAAOD,EAAY7I,KAAK+I,YAAYC,eAE1C,sBAAK3B,UAAU,MAAf,UACE,sBAAMA,UAAU,eAAhB,kCACA,4BAAIyB,IAAOD,EAAY7I,KAAKiJ,YAAYD,qBAI9C,qBAAI3B,UAAU,kBAAd,UACE,2CACA,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,MAAf,UACE,sBAAMA,UAAU,eAAhB,gBACA,4BACG,UAAAwB,EAAY7I,KAAKmD,eAAjB,SAA0B+F,WACvBL,EAAY7I,KAAKmD,QAAQgG,cACzB,UAGR,sBAAK9B,UAAU,MAAf,UACE,sBAAMA,UAAU,eAAhB,8BACA,4BACG,UAAAwB,EAAY7I,KAAKmD,eAAjB,SAA0BgG,cACvBL,IAAOD,EAAY7I,KAAKmD,QAAQgG,eAAeH,UAC/C,gBAKZ,qBAAI3B,UAAU,kBAAd,UACE,sBAAMA,UAAU,eAAhB,4BACA,4BACG,UAAAwB,EAAY7I,KAAKmD,eAAjB,SAA0BiG,WACvBP,EAAY7I,KAAKmD,QAAQiG,WACzB,UAGR,qBAAI/B,UAAU,kBAAd,UACE,sBAAMA,UAAU,eAAhB,mBACA,4BACG,UAAAwB,EAAY7I,KAAKmD,eAAjB,SAA0BkG,UACvBR,EAAY7I,KAAKmD,QAAQkG,UACzB,aAKV,sEAGHR,EAAY7I,KAAKmD,SAChB,qBAAKkE,UAAU,yBAAf,SACE,yBACEE,KAAK,SACLF,UAAU,kBACViC,QAAS,aAHX,UAOE,mBAAGjC,UAAU,6BAPf,yBCvEK,SAASkC,EAAT,GAAsD,IAAD,IAAfV,EAAe,EAArB7I,KAC7C,OACE,sBAAKqH,UAAU,sCAAf,UACE,qBAAKA,UAAU,cAAf,SACE,oBAAIA,UAAU,0BAAd,+BAEF,sBAAKA,UAAU,YAAf,UACE,sBAAMA,UAAU,uBAAhB,SAAwCwB,EAAYW,OADtD,UAEGX,EAAY7I,YAFf,iBAEG,EAAkB2C,mBAFrB,aAEG,EAA+BrB,KAAI,SAACmI,EAAYC,GAAb,OAClC,sBAAMrC,UAAU,0BAAhB,SACGoC,GAD4CC,YCR1C,SAASC,EAAoBnD,GAC1C,OACE,qBAAKa,UAAU,OAAf,SACE,sBAAKA,UAAU,YAAf,UACE,qBAAIA,UAAU,uDAAd,UACE,mBAAGA,UAAU,qBADf,eAKCb,EAAMxG,KAAKsB,KAAI,SAACsI,EAAIF,GAAO,IAAD,EACjB1J,EAAe4J,EAAf5J,KAAMuH,EAASqC,EAATrC,KAEd,OACE,oBAAGF,UAAU,oCAAb,UACE,sBACEA,UACW,YAATE,EACa,YAATA,EACE,qCACA,qCACF,oCANR,SASGA,IAEH,sBAAMF,UAAU,sBAAhB,SACGyB,IAAO9I,EAAK6J,UAAUC,OAAO,wBAEhC,sBAAMzC,UAAU,4BAAhB,mBACGrH,EAAK6C,YADR,aACG,EAAWP,KAAKW,gBAGlB8G,QAAQ7I,OAAOC,KAAKnB,EAAKgK,QAAQxI,SAChC,sBAAM6F,UAAU,OAAhB,SACGnG,OAAOC,KAAKnB,EAAKgK,QAAQ1I,KAAI,SAAC2I,EAAOP,GAAR,OAC5B,uBAEErC,UAAU,wCAFZ,UAIG4C,EAJH,MAIajK,EAAKgK,OAAOC,KAHlBP,UAvBuCA,WCDlE,IAAMpE,EAAe,CACnBvE,GAAI,EACJyI,KAAM,SACNlG,SAAU,GACVjB,SAAU,GACVC,KAAM,GACNE,MAAO,GACP+B,UAAW,GACXvE,KAAM,CACJmD,QAAS,GACTT,MAAO,GACPC,YAAa,GACbuH,MAAM,EACNC,eAAe,EACfC,gBAAgB,EAChBrB,WAAY,GACZE,WAAY,GACZoB,WAAY,KAID,SAASC,EAAiB9D,GACvC,IAAQzF,EAAOyF,EAAM+D,MAAMC,OAAnBzJ,GACiB0J,EAAqBjE,EAAtCkE,gBACFC,EAAS9F,IAET+F,EADgBvF,IACQrF,KAC9B,EAAsC4C,mBAAS0C,GAA/C,mBAAOuD,EAAP,KAAoBgC,EAApB,KACM7I,EAAUC,cACV6I,IACJjC,EAAYvG,KAAKd,SAChBqH,EAAY7I,KAAKkK,MAClBrB,EAAY7I,KAAKmK,eACjBtB,EAAY7I,KAAKoK,gBA6BnB,IAUMW,EAAc,SAAC,GAA2B,IAAzBzI,EAAwB,EAAxBA,KAAMoC,EAAkB,EAAlBA,MACd,SADgC,EAAX6C,OAEhC7C,EAAQA,EACLzB,cACA+H,UAAU,OACVhD,QAAQ,mBAAoB,KAGjC6C,EAAe,2BACVhC,GADS,kBAEXvG,EAAOoC,MAsEZ,OAVAF,qBAAU,WACJzD,GACF4J,EAAO3F,YAAYjE,GAAIX,MAAK,SAACJ,GACvBA,GA5GV,SAAqBA,GACfA,GACF6K,EAAe,CACb9J,GAAIf,EAAKe,GACTyI,KAAMxJ,EAAK0C,MAAM,GACjBL,SAAUrC,EAAKqC,SACfC,KAAMtC,EAAKsC,KACXE,MAAOxC,EAAKwC,MACZc,SAAU,GACViB,UAAWvE,EAAKyC,OAAO1B,GACvBf,KAAM,CACJmD,QAASnD,EAAKmD,QAAUnD,EAAKmD,QAAU,GACvCR,YAAa3C,EAAK2C,YAClBD,MAAO1C,EAAK0C,MACZwH,OAAMlK,EAAKkK,MAAOlK,EAAKkK,KACvBC,eAAe,EACfC,gBAAgB,EAChBrB,WAAY/I,EAAK+I,WACjBE,WAAYjJ,EAAKiJ,WACjBoB,WAAYrK,EAAKiL,YA0FjBC,CAAYlL,EAAKA,WAItB,CAACe,IAGF,sBAAKsG,UAAU,MAAM8D,MAAO,CAAEC,OAAQ,SAAtC,UACE,sBAAK/D,UAAS,cAAStG,EAAK,EAAI,IAAhC,UACE,uBAAMsG,UAAU,iCAAiCI,aAAa,MAA9D,UACE,qBAAKJ,UAAU,cAAf,SACE,qBAAIA,UAAU,0BAAd,UACE,mBAAGA,UAAU,qBACZtG,EAAK,iBAAmB,+BAG7B,qBAAKsG,UAAU,0BAAf,SACGwB,EAAYqB,KACX,qBAAK7C,UAAU,oCAAf,SACE,qBAAKA,UAAU,8BAA8BmC,KAAK,SAAlD,SACE,sBAAMnC,UAAU,UAAhB,4BAIJ,qCACE,sBAAKA,UAAU,WAAf,UACE,cAAC,EAAD,CACEhF,SAAUwG,EAAYxG,SACtB8F,OAAQpH,GAAU,GAClBuG,IAAK,EACLL,SAAU8D,EACV5D,eAnHK,SAAC,GAAqB,IAAnB7E,EAAkB,EAAlBA,KAAMoC,EAAY,EAAZA,MAC9BmG,EAAe,2BACVhC,GADS,IAEZ7I,KAAK,2BACA6I,EAAY7I,MADb,kBAEDsC,EAAOoC,UAgHE,sBAAK2C,UAAU,QAAf,UACGwB,EAAYvG,KAAKd,OAChB,gCACE,sDAGF,uBAEF,sBAAK6F,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,2BAAhB,SACE,mBAAGA,UAAU,wBAGjB,uBACEE,KAAK,OACLF,UAAU,+BACVG,YAAY,kBACZlF,KAAK,OACLmF,aAAa,MACbE,aAAckB,EAAYvG,KAC1B2E,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBkD,EAAYlD,IACtCO,SAAS,WACTC,UAAU,IACVE,QAAQ,qDAKhB,sBAAKlB,UAAU,MAAf,UACE,sBAAKA,UAAU,WAAf,UACGwB,EAAYvF,SAAS9B,QAAUT,EAC9B,kCACE,mDACEA,GACA,sBAAMsG,UAAU,kBAAhB,mGAOJ,uBAEF,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,2BAAhB,SACE,mBAAGA,UAAU,oBAGjB,uBACEE,KAAK,WACLF,UAAU,eACVG,YAAY,gBACZlF,KAAK,WACLmF,aAAa,MACbE,aAAckB,EAAYvF,SAC1B2D,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBkD,EAAYlD,IACtCO,UAAUrH,EACVsH,UAAU,IACVC,UAAU,KACVC,QAAQ,oEAId,cAAC,EAAD,CACE/F,MAAOqG,EAAYrG,MACnB2F,OAAQpH,GAAU,GAClBuG,IAAK,EACLL,SAAU8D,OAGd,sBAAK1D,UAAU,MAAf,UACE,sBAAKA,UAAU,WAAf,UACE,gCACE,sDAEF,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,2BAAhB,SACE,mBAAGA,UAAU,uBAGjB,yBACEA,UAAU,gBACV/E,KAAK,OAELoC,MAAOmE,EAAYW,KACnBvC,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBkD,EAAYlD,IALxC,UAOE,wBAAQnD,MAAM,QAAd,2BACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,SAAd,mCAIN,sBAAK2C,UAAU,WAAf,UACE,gCACE,+CAEF,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,2BAAhB,SACE,mBAAGA,UAAU,qBAGjB,wBACEA,UAAU,+BACV/E,KAAK,YACLoC,MAAOmE,EAAYtE,UACnB0C,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBkD,EAAYlD,IAJxC,SAMG+C,EAAQtJ,KAAI,SAACmB,GAAD,MACK,SAAhBA,EAAOH,KACL,wBAAQoC,MAAOjC,EAAO1B,GAAtB,SACG0B,EAAOzC,KAAKsC,MADgBG,EAAO1B,IAGpC,wBASpB,qBAAKsG,UAAU,cAAf,SACE,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,uBAAf,SACE,sBAAKA,UAAU,yBAAyBmC,KAAK,QAA7C,UACE,yBACEjC,KAAK,SACLF,UAAU,eACViC,QAAS,WACPtH,EAAQ4B,KAAR,aACA6G,KALJ,UAQE,mBAAGpD,UAAU,oBARf,cAWA,yBACEE,KAAK,SACLF,UACEwB,EAAYqB,KACR,2BACA,kBAENmB,WAAUP,EACVxB,QAlPC,WACjB,IAAQvI,EACN8H,EADM9H,GAAIuB,EACVuG,EADUvG,KAAMD,EAChBwG,EADgBxG,SAAUmH,EAC1BX,EAD0BW,KAAMlG,EAChCuF,EADgCvF,SAAUd,EAC1CqG,EAD0CrG,MAAO+B,EACjDsE,EADiDtE,UAInD,IAAKsE,EAAY7I,KAAKmK,cAOpB,OANAlL,OAAOqM,KAAKC,KAAK,CACfC,KAAM,QACNC,MAAO,sCACPC,mBAAmB,EACnBC,MAAO,QAEF,EAET,IAAK9C,EAAY7I,KAAKoK,eAOpB,OANAnL,OAAOqM,KAAKC,KAAK,CACfC,KAAM,QACNC,MAAO,2BACPC,mBAAmB,EACnBC,MAAO,QAEF,EAGT,IAAI3L,EAAO,CACTsC,OACAD,WACAmH,OACAhH,QACA+B,aAGEjB,EAAS9B,QAAU,IAAGxB,EAAKsD,SAAWA,GAE1CqH,EAAOxF,SAASnF,EAAMe,GAAIX,MAAK,SAACJ,GAC1BA,GACFf,OAAOqM,KAAKC,KAAK,CACfE,MAAO,WACP5E,KAAM9F,EAAE,qEAGRyK,KAAM,UACNI,kBAAkB,EAClBC,kBAAmB,SACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,UAEPhK,EAAQ4B,KAAK,aACb6G,YAyLM,UAUE,mBAAGpD,UAAU,qBACZtG,EAAK,aAAe,yBAQjC,cAAC,EAAD,CAAaf,KAAM6I,OAEpB9H,GACC,sBAAKsG,UAAU,QAAf,UACE,cAAC,EAAD,CAAUrH,KAAM6I,IAChB,cAAC,EAAD,CAAY7I,KAAM6I,EAAY7I,KAAKqK,mBClWtC,IAAM4B,EAAetK,wBAAc,MAC7BuK,EAAQ,kBAAMrK,qBAAWoK,ICFvB,SAASE,EAAe3F,GAAQ,IAAD,EAC5C,OACE,sBAAKa,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,aAAd,UACE,mBACEA,UACEb,EAAMgF,KACF,eAAiBhF,EAAMgF,KACvB,2BALV,UAQGhF,EAAMiF,aART,QAQkB,YAGpB,qBAAKpE,UAAU,gBAAf,SACE,oBAAIA,UAAU,kCAAd,SAAiDb,EAAMzE,gBClBhD,SAASqK,EAAM5F,GAAQ,IAAD,gBACnC,EAA4BA,EAApB6F,gBAAR,SAEA,OACE,sBAAKhF,UAAU,mBAAf,UACGgF,GACC,qBAAKhF,UAAU,sBAAf,SACE,sBACEA,UACEb,EAAM9B,MACF,8BACA,8BAJR,SAOE,mBAAG2C,UAAS,2BAAYb,EAAMgF,YAAlB,QAA0B,0BAK5C,yBACEnE,UAAU,+BACV3C,MAAK,UAAE8B,EAAM9B,aAAR,QAAiB,GACtB2G,SAAQ,UAAE7E,EAAM0D,YAAR,SACRjD,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACPrB,EAAMoB,cACRpB,EAAMoB,aAAazD,SAAS0D,EAAOnD,SANzC,UAUG8B,EAAM0D,KACL,wBAAQxF,MAAM,GAAd,mBAAkB8B,EAAM8F,gBAAxB,QAAoC,sBAEpC,mCACIvC,QAAO,UAACvD,EAAM+F,eAAP,aAAC,EAAe/K,QAGvB,yBAAQkD,MAAM,IAAd,yBAAqB8B,EAAMK,YAA3B,QAAmC,iBAAnC,QAFA,wBAAQnC,MAAM,GAAd,mBAAkB8B,EAAMgG,iBAAxB,QAAqC,sBAf7C,UAsBGhG,EAAM+F,eAtBT,aAsBG,EAAejL,KAAI,SAACmL,EAAKC,GACxB,OACE,wBAAQhI,MAAO+H,EAAI1L,GAAiBA,GAAI2L,EAAxC,SACGD,EAAInK,MADqBmK,EAAI1L,aCzC7B,SAAS4L,IACtB,IAAMC,EAAQ,uCAAG,WAAOL,GAAP,eAAAlJ,EAAA,yDACVkJ,EADU,yCACM,MADN,cAGTtO,EAAM4C,EAAO,QAAS,KAAM0L,GAHnB,SAKFvO,EAAIC,EAAK,OACnBmC,MAAK,SAACQ,GACL,OAAOA,KAERN,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,mDACAF,EAAII,SAGCJ,EAAIK,SAASZ,QAfT,mFAAH,sDAmBRtB,EAAO,uCAAG,WAAOqC,GAAP,eAAAsC,EAAA,yDACTtC,EADS,0CACE,GADF,cAGR9C,EAAM4C,EAAO,QAASE,GAHd,SAKD/C,EAAIC,EAAK,OACnBmC,MAAK,SAACQ,GACL,OAAOA,EAASZ,QAEjBM,OAAM,SAACC,GAMN,MALAC,QAAQC,MACN,6CACAF,EAAII,SAGAJ,KAfI,mFAAH,sDAmBPsM,EAAU,uCAAG,WAAO9L,GAAP,eAAAsC,EAAA,yDACZtC,EADY,0CACD,GADC,cAGX9C,EAAM4C,EAAO,QAASE,GAHX,SAKJ/C,EAAIC,EAAK,UACnBmC,MAAK,WACJ,OAAO,KAERE,OAAM,SAACC,GAMN,MALAC,QAAQC,MACN,gDACAF,EAAII,SAGAJ,KAfO,mFAAH,sDAmBVuM,EAAc,uCAAG,WAAOC,GAAP,eAAA1J,EAAA,yDAChB0J,EADgB,wDAEf9O,EAAM4C,EAAO,gBAFE,SAIR7C,EAAIC,EAAK,OAAQ,CAAE8O,UAC7B3M,MAAK,SAACC,GACL,OAAOA,KAERC,OAAM,SAACC,GAMN,MALAC,QAAQC,MACN,uDACAF,EAAII,SAGAJ,KAdW,mFAAH,sDAkBdyM,EAAQ,uCAAG,WAAOhN,GAAP,mBAAAqD,EAAA,6DACPtC,EAAOf,EAAPe,GACF9C,EAAM4C,EAAO,QAASE,GACtB7C,EAAU6C,EAAc,MAAT,OAHN,SAKF/C,EAAIC,EAAKC,EAAQ8B,GALf,mFAAH,sDAQRiN,EAAmB,uCAAG,WAAOjN,GAAP,mBAAAqD,EAAA,gEACnBrD,EAAKkN,YAGD,KAFHnM,EAAOf,EAAPe,IAFkB,wBAKlB9C,EAAM4C,EAAO,YACJ,OANS,SAOX7C,EAAIC,EADF,OACe+B,GAPN,+DASlB/B,EAAM4C,EAAO,WAAYE,GAChB,MAVS,UAWX/C,EAAIC,EADF,MACe+B,GAXN,4CAAH,sDAenBmN,EAAe,uCAAG,WAAOnN,GAAP,iBAAAqD,EAAA,6DAChB+J,EAAapN,EAAKqN,kBAClBC,EAAMzM,EAAO,uBAAD,OAAwBuM,IAC3B,cAERpN,EAAKqN,yBACLrN,EAAKuN,eANU,SAQTvP,EAAIsP,EALF,OAKetN,GARR,mFAAH,sDAWfwN,EAAW,uCAAG,WAAOxN,GAAP,iBAAAqD,EAAA,6DACZoK,EAAazN,EAAKyN,WAClBxP,EAAM4C,EAAO,iBAAD,OAAkB4M,IACrB,OAHG,SAILzP,EAAIC,EADF,OACe+B,GAJZ,mFAAH,sDAQX0N,EAAS,uCAAG,WAAOnB,GAAP,eAAAlJ,EAAA,yDACXkJ,EADW,yCACK,MADL,cAGVtO,EAAM4C,EAAO,SAAU,KAAM0L,GAHnB,SAKHvO,EAAIC,EAAK,OACnBmC,MAAK,SAACQ,GACL,OAAOA,KAERN,OAAM,SAACC,GAKN,MAJAC,QAAQC,MACN,oDACAF,EAAII,SAEAJ,KAdM,mFAAH,sDAkBToN,EAAQ,uCAAG,WAAO5M,GAAP,eAAAsC,EAAA,yDACVtC,EADU,0CACC,GADD,cAGT9C,EAAM4C,EAAO,SAAUE,GAHd,SAKF/C,EAAIC,EAAK,OACnBmC,MAAK,SAACQ,GACL,OAAOA,EAASZ,QAEjBM,OAAM,SAACC,GAMN,MALAC,QAAQC,MACN,+CACAF,EAAII,SAGAJ,KAfK,mFAAH,sDAmBRqN,EAAS,uCAAG,WAAO5N,GAAP,eAAAqD,EAAA,6DACVpF,EAAM4C,EAAO,UADH,SAEH7C,EAAIC,EAAK,OAAQ+B,GAFd,mFAAH,sDAKT6N,EAAW,uCAAG,WAAO9M,GAAP,eAAAsC,EAAA,6DACZpF,EAAM4C,EAAO,SAAUE,GADX,SAEL/C,EAAIC,EAAK,SAAU,MAC7BmC,MAAK,WACJ,OAAO,KAERE,OAAM,SAACC,GAMN,MALAC,QAAQC,MACN,gDACAF,EAAII,SAGAJ,KAZQ,mFAAH,sDAgBjB,MAAO,CACLqM,WACAlO,UACAmO,aACAG,WACAF,iBACAG,sBACAE,kBACAO,YACAC,WACAC,YACAC,cACAL,eCzLW,SAASM,EAAOtH,GAC7B,MAA0B5D,mBAAS,CACjCmL,OAAQ,GACR7D,MAAM,IAFR,mBAAOtE,EAAP,KAAcmB,EAAd,KAKMiH,EAASrB,IAyBf,OAJAnI,qBAAU,WAlBRwJ,EAAON,UAAU,CAAEO,SAAUzH,EAAMyH,WAAY7N,MAAK,SAAC2N,GAC/CA,EACFhH,EAAS,2BACJnB,GADG,IAENmI,OAAQA,EAAO/N,KACfkK,MAAM,KAGR1J,QAAQC,MAAM,oCAYjB,CAAC+F,EAAMyH,WAGR,qBAAK5G,UAAU,MAAf,SACE,sBAAKA,UAAU,MAAf,UACE,gCACE,4CAEF,cAAC+E,EAAD,CACEG,QAAS3G,EAAMmI,OACfrJ,MAAO8B,EAAM0H,MACbrH,KAAK,uBACL2E,KAAK,YACLgB,UAAU,oCACVtC,KAAMtE,EAAMsE,KACZoC,SAAS,kBACT1E,aAAc,SAAC7G,GACTyF,EAAM2H,mBACR3H,EAAM2H,kBAAkBpN,EAzBZ,SAACA,GAEvB,OADkB6E,EAAMmI,OAAO5H,QAAO,SAAC+H,GAAD,OAAWA,EAAMnN,KAAOA,KAC7C,GAAGuB,KAuBkB8L,CAAgBrN,YClD3C,SAASsN,IAEtB,IAAMC,EAAW,uCAAG,WAAO/B,GAAP,eAAAlJ,EAAA,yDACbkJ,EADa,yCACG,MADH,cAGZtO,EAAM4C,EAAO,WAAY,KAAM0L,GAHnB,SAMLvO,EAAIC,EAAK,OACnBmC,MAAK,SAACQ,GACL,OAAOA,KAERN,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,sDACAF,EAAII,SAGC,QAhBO,mFAAH,sDAoBX4N,EAAU,uCAAG,WAAOxN,GAAP,eAAAsC,EAAA,yDACZtC,EADY,0CACD,GADC,cAGX9C,EAAM4C,EAAO,WAAYE,GAHd,SAKJ/C,EAAIC,EAAK,OACnBmC,MAAK,SAACQ,GACL,OAAOA,EAASZ,QAEjBM,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,gDACAF,EAAII,SAGC,MAfM,mFAAH,sDAoBV6N,EAAa,uCAAG,WAAOzN,GAAP,eAAAsC,EAAA,yDACftC,EADe,0CACJ,GADI,cAGd9C,EAAM4C,EAAO,WAAYE,GAHX,SAKP/C,EAAIC,EAAK,UACnBmC,MAAK,WACJ,OAAO,KAERE,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,mDACAF,EAAII,UAGC,KAfS,mFAAH,sDAoBb8N,EAAW,uCAAG,WAAOzO,GAAP,mBAAAqD,EAAA,yDACbrD,EADa,oDAEVe,EAAOf,EAAPe,UACDf,EAAKe,IAERA,EALc,wBAMV9C,EAAM4C,EAAO,WAAYE,GANf,SAQH/C,EAAIC,EAAK,MAAO+B,GAC1BI,MAAK,SAACC,GACL,OAAOA,EAAIL,QAEZM,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,iDACAF,EAAII,SAGC,QAlBK,+DAqBV1C,EAAM4C,EAAO,YArBH,UAuBH7C,EAAIC,EAAK,OAAQ+B,GAC3BI,MAAK,SAACC,GACL,OAAOA,EAAIL,QAEZM,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,iDACAF,EAAII,SAGC,QAjCK,4CAAH,sDAsCjB,MAAO,CACL2N,cACAC,aACAC,gBACAC,eCrGW,SAASC,EAAUlI,GAAQ,IAAD,EAEjCmI,EAAYN,IAClB,EAA0BzL,mBAAS,CACjCgM,UAAW,GACX1E,MAAM,IAFR,mBAAOtE,EAAP,KAAcmB,EAAd,KAwBA,OAJAvC,qBAAU,WAdRmK,EACGL,YAAY,CACX/G,KAAM,EACNsH,QAAS,OACTC,MAAO,QAER1O,MAAK,SAAC2O,GACLhI,EAAS,CACP6H,UAAWG,EAAI/O,KACfkK,MAAM,SAOX,IAGD,qBAAK7C,UAAU,MAAf,SACE,sBAAKA,UAAU,MAAf,UACE,gCACE,gDAEF,cAAC+E,EAAD,CACEG,QAAS3G,EAAMgJ,UACflK,MAAK,UAAE8B,EAAMyH,gBAAR,QAAoB,GACzBpH,KAAK,yBACL2E,KAAK,eACLtB,KAAMtE,EAAMsE,KACZtC,aAAc,SAAC7G,GACTyF,EAAMwI,sBACRxI,EAAMwI,qBAAqBjO,WCtC1B,SAASkO,IAAW,IAAD,gBAC1BC,EAAUhD,IACVlK,EAAUC,cAGVkN,EAAyB,SAAC,GAA8B,IAA5B7M,EAA2B,EAA3BA,KAAMoC,EAAqB,EAArBA,MAAO0K,EAAc,EAAdA,QAChC,cAAT9M,IAAsBoC,EAAQP,SAASO,IAC9B,aAATpC,GAAuBoC,EAAQ,IAAGA,EAAQP,SAASO,IAC1C,SAATpC,IACWoC,EAAT0K,EAAiB,OACR,SAGfF,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,kBAEJjK,EAAOoC,QAgBd,OACE,eAAC,EAAD,CAAS+G,MAAyB,UAAlByD,EAAQI,MAAoB,iBAAmB,OAA/D,UACE,oBAAIjI,UAAU,WAAd,SACE,oBACEkI,KAAK,QACLlI,UACoB,UAAlB6H,EAAQI,MAAoB,qBAAuB,WAErDhG,QAAS,SAACkG,GACRA,EAAEC,iBACFP,EAAQG,IAAR,2BACKH,GADL,IAEEI,MAAO,WAETtN,EAAQ4B,KAAK,aAXjB,UAcE,mBACEyD,UACoB,UAAlB6H,EAAQI,MACJ,iCACA,qBAlBV,iBAwBF,oBAAIjI,UAAU,WAAd,SACE,oBACEkI,KAAK,QACLlI,UACoB,aAAlB6H,EAAQI,MAAuB,oBAAsB,YAEvDhG,QAAS,SAACkG,GACRA,EAAEC,iBAEFP,EAAQG,IAAR,2BACKH,GADL,IAEEI,MAAO,cAGTtN,EAAQ4B,KAAK,wBAbjB,UAgBE,mBACEyD,UACoB,aAAlB6H,EAAQI,MACJ,iCACA,qBApBV,kBA0BF,oBAAIjI,UAAU,WAAd,SACE,oBACEkI,KAAK,QACLlI,UACoB,WAAlB6H,EAAQI,MAAqB,oBAAsB,WAErDhG,QAAS,SAACkG,GACRA,EAAEC,iBAEFP,EAAQG,IAAR,2BACKH,GADL,IAEEI,MAAO,YAGTtN,EAAQ4B,KAAK,oBAbjB,UAgBE,mBACEyD,UACoB,WAAlB6H,EAAQI,MACJ,iCACA,qBApBV,cA0BF,oBAAIjI,UAAU,WAAd,SACE,oBACEkI,KAAK,QACLlI,UACoB,cAAlB6H,EAAQI,MAAwB,oBAAsB,WAExDhG,QAAS,SAACkG,GACRA,EAAEC,iBAEFP,EAAQG,IAAR,2BACKH,GADL,IAEEI,MAAO,eAGTtN,EAAQ4B,KAAK,wBAbjB,UAgBE,mBACEyD,UACoB,cAAlB6H,EAAQI,MACJ,iCACA,qBApBV,kBA0BF,oBAAIjI,UAAU,WAAd,SACE,oBACEkI,KAAK,QACLlI,UACoB,YAAlB6H,EAAQI,MAAsB,oBAAsB,WAEtDhG,QAAS,SAACkG,GACRA,EAAEC,iBAEFP,EAAQG,IAAR,2BACKH,GADL,IAEEI,MAAO,aAGTtN,EAAQ4B,KAAK,sBAbjB,UAgBE,mBACEyD,UACoB,YAAlB6H,EAAQI,MACJ,iCACA,qBApBV,uBA2BiB,UAAlBJ,EAAQI,OACP,qCACE,oBAAIjI,UAAU,eAAd,SACE,cAACqH,EAAD,CACET,SAAQ,UAAEiB,EAAQ3C,eAAV,aAAE,EAAiB0B,SAC3B5B,UAAU,EACV2C,qBAAsB,SAACjO,GAAD,OAzJL,SAACA,GAC5BmO,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAEL2B,MAAO,GACPD,SAAUlN,OAmJ0BiO,CAAqBjO,SAGtD,UAAAmO,EAAQ3C,eAAR,eAAiB0B,WAChB,oBAAI5G,UAAU,eAAd,SACE,cAACyG,EAAD,CACEG,SAAQ,UAAEiB,EAAQ3C,eAAV,aAAE,EAAiB0B,SAC3BC,MAAK,UAAEgB,EAAQ3C,eAAV,aAAE,EAAiB2B,MACxB7B,UAAU,EACV8B,kBAAmB,SAACpN,GAClBoO,EAAuB,CACrB7M,KAAM,QACNoC,MAAO3D,SAMjB,oBAAIsG,UAAU,eAAd,SACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,OACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,OACHqO,QAAmC,UAA1B,UAAAF,EAAQ3C,eAAR,eAAiBmD,MAC1BzI,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsH,EAAuBtH,MAEnD,uBACER,UAAU,0CACVsI,QAAQ,OAFV,qCAQJ,qBAAItI,UAAU,eAAd,UACE,uBAAOsI,QAAQ,UAAf,yBACA,yBACEtI,UAAU,+BACV/E,KAAK,UACLvB,GAAG,UACH2D,MAAK,UAAEwK,EAAQ3C,eAAV,aAAE,EAAiBsC,QACxB5H,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsH,EAAuBtH,IALnD,UAOE,wBAAQnD,MAAM,aAAd,+BACA,wBAAQA,MAAM,aAAd,yCAGJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,QAAf,yBACA,yBACEtI,UAAU,+BACV/E,KAAK,QACLvB,GAAG,QACH2D,MAAK,UAAEwK,EAAQ3C,eAAV,aAAE,EAAiBuC,MACxB7H,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsH,EAAuBtH,IALnD,UAOE,wBAAQnD,MAAM,MAAd,sBACA,wBAAQA,MAAM,OAAd,6BAGJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,YAAf,iCACA,yBACEtI,UAAU,+BACV/E,KAAK,YACLvB,GAAG,YACH2D,MAAK,UAAEwK,EAAQ3C,eAAV,aAAE,EAAiBqD,UACxB3I,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsH,EAAuBtH,IALnD,UAOE,wBAAQnD,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,MAAd,iCCjQC,SAASmL,EAAT,GAIX,IAHFtK,EAGC,EAHDA,KACAuK,EAEC,EAFDA,MACkBC,EACjB,EADDC,iBAKMC,EAAmB,SAACC,GACpBH,EACFA,EAAkBG,GAElB1P,QAAQC,MAAM,kDAIlB,OACE,qBAAK4G,UAAU,YAAf,SACE,qBAAIA,UAAU,oCAAd,UACE,oBACEA,UACwB,IAAtB9B,EAAK4K,aAAqB,qBAAuB,kBAFrD,SAKE,mBACE9I,UACwB,IAAtB9B,EAAK4K,aACD,2BACA,kBAAoBL,EAE1BP,KAAK,cACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACFQ,EAAiB,IATrB,uBAeF,oBACE5I,UACwB,IAAtB9B,EAAK4K,aAAqB,qBAAuB,YAFrD,SAKE,mBACE9I,UACwB,IAAtB9B,EAAK4K,aACD,2BACA,kBAAoBL,EAE1BP,KAAK,cACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACFQ,EAAiB1K,EAAK4K,aAAe,IATzC,SAYE,mBAAG9I,UAAU,0BAGjB,oBAAIA,UAAU,YAAd,SACE,sBAAMA,UAAU,sBAAhB,SACG9B,EAAK4K,cAAgB5K,EAAK6K,UACzB,qCACG7K,EAAK4K,aADR,KACwB5K,EAAK6K,aAG7B,UAIN,oBACE/I,UACE9B,EAAK4K,eAAiB5K,EAAK6K,UACvB,qBACA,YAJR,SAOE,mBACE/I,UACE9B,EAAK4K,eAAiB5K,EAAK6K,UACvB,2BACA,kBAAoBN,EAE1BP,KAAK,cACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACFQ,EAAiB1K,EAAK4K,aAAe,IATzC,SAYE,mBAAG9I,UAAU,2BAGjB,oBACEA,UACE9B,EAAK4K,eAAiB5K,EAAK6K,UACvB,qBACA,YAJR,SAOE,mBACE/I,UACE9B,EAAK4K,eAAiB5K,EAAK6K,UACvB,2BACA,kBAAoBN,EAE1BP,KAAK,cACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACFQ,EAAiB1K,EAAK6K,YAT1B,2BC/FV,IA4LeC,EA5LG,SAAC7J,GAGjB,MAA+BA,EAAvB8J,qBAAR,MAAwB,GAAxB,EAEA,EAA4B1N,mBAAS0N,GAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA0B5N,mBAAS,IAAnC,mBAAO+I,EAAP,KAAc8E,EAAd,KACMC,EAAWhK,mBAGT/B,EADa9C,qBAAWH,GACxBiD,KAkBR,OAhBAH,qBAAU,WACR,IAAImM,EAAU,KACVnK,EAAMoK,eACJL,EAAO/O,QACLmK,GAAOkF,aAAalF,GACxBgF,EAAUG,YAAW,WACnBtK,EAAMoK,aAAaL,KAClB,KACHE,EAASE,IAETnK,EAAMoK,aAAa,OAItB,CAACL,IAGF,sBAAKlJ,UAAW,aAAeb,EAAMsJ,MAAQ,gBAA7C,UACE,sBAAKzI,UAAU,cAAf,UACE,qBAAIA,UAAW,mBAAqBb,EAAMsJ,MAA1C,UACE,mBACEzI,UACEb,EAAMgF,KAAO,eAAiBhF,EAAMgF,KAAO,qBAG9ChF,EAAMiF,SAET,qBAAKpE,UAAU,aAAf,SACGb,EAAMoK,cACL,sBAAKvJ,UAAU,+CAAf,UACE,uBACEE,KAAK,OACLF,UAAU,eACVG,YAAY,SACZG,aAAc4I,EACdQ,IAAKL,EACLzJ,SAAU,YAAiB,IACjBvC,EADgB,EAAbmD,OACHnD,MACR8L,EAAU9L,IAEZsM,WAAY,SAACxB,GAEC,UADIA,EAARyB,MAEFtF,GAAOkF,aAAalF,GACxBnF,EAAMoK,aAAaL,OAIzB,qBACElJ,UAAU,oBACV8D,MAAO,CAAE+F,IAAK,EAAGC,MAAO,GAAIrB,MAAO,WAFrC,SAIE,mBAAGzI,UAAU,oBAEdkJ,EAAO/O,OAAS,EACf,qBAAK6F,UAAU,qBAAf,SACE,qBACEA,UAAU,oBACViC,QAAS,SAACkG,GACRkB,EAAStJ,QAAQ1C,MAAQ,GACzB8L,EAAU,KAJd,SAOE,mBAAGnJ,UAAU,4BAGf,aAKZ,sBAAKA,UAAU,gBAAf,UACGb,EAAM4K,kBACP5K,EAAM6K,gBACN7K,EAAM8K,cACN9K,EAAM+K,YACN/K,EAAMjB,MACNiB,EAAMgL,eACJ,sBAAKnK,UAAU,mBAAf,UACE,sBAAKA,UAAU,YAAf,UACGb,EAAM4K,iBAEL,wBACE7J,KAAK,SACLF,UAAU,qCACVoE,MAAM,WACNJ,UAAY7E,EAAMiL,cAAgBjL,EAAMiL,eAAiB9M,EAAKvC,OAC9DkH,QAAS,SAACkG,GAAD,OAAOhJ,EAAM4K,oBALxB,SAOE,mBAAG/J,UAAU,uBAEb,KAEHb,EAAM6K,eACL,wBACE9J,KAAK,SACLF,UAAU,yBACVoE,MAAM,SACNJ,UAAU7E,EAAMiL,aAChBnI,QAAS,SAACkG,GAAD,OAAOhJ,EAAM6K,kBALxB,SAOE,mBAAGhK,UAAU,kBAEb,KAEHb,EAAM8K,aACL,wBACE/J,KAAK,SACLF,UAAU,yBACVoE,MAAM,SACNJ,UAAU7E,EAAMiL,aAChBnI,QAAS,SAACkG,GAAD,OAAOhJ,EAAM8K,gBALxB,SAOE,mBAAGjK,UAAU,0BAEb,KAEHb,EAAM+K,WACL,wBACEhK,KAAK,SACLF,UAAU,yBACVoE,MAAM,WACNnC,QAAS,SAACkG,GAAD,OAAOhJ,EAAM+K,cAJxB,SAME,mBAAGlK,UAAU,sBAEb,KAEHb,EAAMkL,YACL,wBACEnK,KAAK,SACLF,UAAU,yBACVoE,MAAM,WACNnC,QAAS,SAACkG,GAAD,OAAOhJ,EAAMkL,eAJxB,SAME,mBAAGrK,UAAU,mBAEb,KAEHb,EAAMgL,eACL,wBACEjK,KAAK,SACLF,UAAU,yBACVoE,MAAM,WACNnC,QAAS,SAACkG,GAAD,OAAOhJ,EAAMgL,kBAJxB,SAME,mBAAGnK,UAAU,sBAEb,QAGN,qBAAKA,UAAU,cAAf,SACGb,EAAMjB,MACL,cAAC,EAAD,CACEA,KAAMiB,EAAMjB,KACZuK,MAAOtJ,EAAMsJ,MACbE,iBAAkBxJ,EAAMwJ,wBAK9B,KAEJ,qBAAK3I,UAAU,oCAAf,SACGb,EAAMzE,cAGVyE,EAAMmL,QACL,qBAAKtK,UAAU,eAAf,SACE,mBAAGA,UAAU,oCAEb,SChLK,SAASuK,EAAMpL,GAAQ,IAAD,EAC7B0I,EAAUhD,IACV8B,EAASrB,IACT3K,EAAUC,cAIhB,EAA0BW,mBAAS,CACjC6O,aAAc,GACd1E,MAAO,GACPxH,KAAM,GACNoM,SAAS,IAJX,mBAAO/L,EAAP,KAAcmB,EAAd,KAOM8K,EAAsB,SAACZ,EAAKvM,GAC1BwK,EAAQ3C,QAAQ0E,KAASvM,GAC3BwK,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,kBAEJ0E,EAAMvM,QA0EfoN,EAAmB,SAACtC,EAAGuC,GAAU,IAAD,EAC1BvC,GAAGA,EAAEC,iBAET,OAAIsC,QAAJ,IAAIA,KAAMhR,GACRiB,EAAQ4B,KAAR,mBAAyBmO,EAAKhR,KACzB,UAAI6E,EAAM6L,oBAAV,OAAI,EAAoB1Q,IAC7BiB,EAAQ4B,KAAR,mBAAyBgC,EAAM6L,aAAa1Q,MAGhDyQ,EAAc,uCAAG,kCAAAnO,EAAA,6DACf0D,EAAS,2BACJnB,GADG,IAEN+L,SAAS,KAELK,EALS,2BAKS9C,EAAQ3C,SALjB,IAK0B0F,aAAc,QACvDzR,QAAQkD,IAAI,mCACNzF,EAAM4C,EAAO,QAAS,KAAMmR,GAPnB,SAQIhU,EAAIC,GARR,QAQT+B,EARS,SAUbQ,QAAQkD,IAAI,iCAERwO,EAAU,IAAIC,KADH,CAACnS,GACiB,CAACuH,KAAO,aACzCtI,OAAOmT,KAAK9E,IAAI+E,gBAAgBH,IAChC1R,QAAQkD,IAAI,+BACZqD,EAAS,2BACJnB,GADG,IAEN+L,SAAS,KAEX1S,OAAOqM,KAAKC,KAAK,CACfE,MAAO,YACP5E,KAAM,4CACN2E,KAAM,UACNE,mBAAmB,EACnBC,MAAO,SAGT5E,EAAS,2BACJnB,GADG,IAEN+L,SAAS,KAEX1S,OAAOqM,KAAKC,KAAK,CACfE,MAAO,YACP5E,KAAM,4CACN2E,KAAM,QACNE,mBAAmB,EACnBC,MAAO,OApCI,2CAAH,qDA0CV4F,EAAa,WACjBxK,EAAS,2BACJnB,GADG,IAEN+L,SAAS,KAEX3D,EAAOpB,SAASsC,EAAQ3C,SAASnM,MAAK,SAACC,GACjCA,GACF0G,EAAS,2BACJnB,GADG,IAENmH,MAAO1M,EAAIL,KACXuF,KAAMlF,EAAIkF,KACVoM,SAAS,SASjB,OAHAnN,qBAAU,WACR+M,MACC,CAACrC,EAAQ3C,UAEV,cAAC,EAAD,CACEd,MAAM,qBACND,KAAK,WACLsE,MAAM,UACN6B,QAAS/L,EAAM+L,QACfpM,KAAMK,EAAML,KACZkM,aAAY,UAAE7L,EAAM6L,oBAAR,aAAE,EAAoB1Q,GAClCuP,cAAepB,EAAQ3C,QAAQgE,OAC/BP,iBAAkB,SAACE,GAAD,OAAU2B,EAAoB,OAAQ3B,IACxDU,aAAc,SAACL,GAAD,OAAYsB,EAAoB,SAAUtB,IACxDa,iBAvJW,WACXnS,OAAOqM,KAAKC,KAAK,CACfE,MAAO,YACP5E,KAAM,2CACN2E,KAAM,WACNI,kBAAkB,EAClB0G,mBAAoB,UACpBzG,kBAAmB,WACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,SAGPgC,EAAOnB,WAAWjH,EAAM6L,aAAa1Q,IAAIX,MAAK,SAACJ,IACjC,IAATA,GACDf,OAAOqM,KAAKC,KAAK,CACfE,MAAO,YACP5E,KAAM,mCACN2E,KAAM,UACNI,kBAAkB,EAClB0G,mBAAoB,UACpBzG,kBAAmB,KACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,UAEPjF,EAAS,2BACJnB,GADG,IAEN6L,aAAc,MAGhB1K,EAAS,2BACJnB,GADG,IAEN+L,SAAS,KAGX3D,EAAOpB,SAASsC,EAAQ3C,SAASnM,MAAK,SAACC,GACjCA,GACF0G,EAAS,2BACJnB,GADG,IAENmH,MAAO1M,EAAIL,KACXuF,KAAMlF,EAAIkF,KACVoM,SAAS,mBA8G3BN,eAAgBS,EAChBN,eAAgBA,EAChBD,WAAYA,EAbd,SAeE,wBAAOlK,UAAU,kCAAjB,UACE,gCACE,+BACE,uBACA,wCACA,gDACA,2CACA,uCACA,2CAGJ,gCACGzB,EAAMmH,MAAMvL,OACX,mCACGoE,EAAMmH,MAAMzL,KAAI,SAACyQ,GAAU,IAAD,EACzB,OACE,+BACE,qBAAI1K,UAAU,sBAAd,UACE,uBACEE,KAAK,WACLF,UAAU,wBACV3C,MAAOqN,EAAKhR,GACZA,GAAI,QAAUgR,EAAKhR,GACnBqO,SACE,UAAAxJ,EAAM6L,oBAAN,eAAoB1Q,MAAOgR,EAAKhR,GAElCkG,SAAU,mBAzHX,SAAC,EAAa8K,GAAU,IAArB3C,EAAoB,EAApBA,QACpBrI,EAAS,2BACJnB,GADG,IAEN6L,aAAcrC,EAAU2C,EAAO,MAuHbQ,CADQ,EAAG1K,OACckK,MAG7B,uBACEpC,QAAS,QAAUoC,EAAKhR,GACxBsG,UAAU,eAGd,oBAAIA,UAAU,iBAAd,SACE,qBAAKA,UAAU,kCAAf,SACG0K,EAAKrR,SAGV,oBAAI2G,UAAU,6CAAd,SACE,mBACEkI,KAAK,WACLjG,QAAS,SAACkG,GAAD,OAAOsC,EAAiBtC,EAAGuC,IACpC1K,UAAU,YAHZ,SAKG0K,EAAKzP,SAGV,oBAAI+E,UAAU,8DAAd,SACE,+BAAO0K,EAAK9D,SAAW8D,EAAK9D,SAAS3L,KAAO,SAE9C,oBAAI+E,UAAU,6DAAd,SACE,+BAAO0K,EAAK7D,MAAQ6D,EAAK7D,MAAM5L,KAAO,SAExC,oBAAI+E,UAAU,mDAAd,SACE,+BAAO0K,EAAKS,iBAxCPT,EAAKhR,SA+CpB,6BACE,oBAAIsG,UAAU,yBAAyBoL,QAAQ,IAA/C,mDChQd,IAyLEC,EAAiB,SAACC,GAChB,OAAQA,GACN,IAAK,cACH,MAAO,KACT,IAAK,YACH,MAAO,KACT,IAAK,oBACL,IAAK,oBACH,MAAO,KACT,IAAK,qBACL,IAAK,qBACH,MAAO,KACT,IAAK,WACH,MAAO,KACT,IAAK,gBACH,MAAO,KACT,IAAK,WACL,IAAK,WACH,MAAO,KACT,IAAK,mBACH,MAAO,KACT,IAAK,QACH,MAAO,KACT,IAAK,aACL,IAAK,wBACH,MAAO,OACT,IAAK,SACH,MAAO,KACT,IAAK,aACH,MAAO,KACT,IAAK,oBACL,IAAK,oBACH,MAAO,KACT,IAAK,sBACL,IAAK,sBACL,IAAK,8BACL,IAAK,8BACH,MAAO,OACT,IAAK,mBACL,IAAK,mBACL,IAAK,2BACH,MAAO,OACT,IAAK,uBACL,IAAK,uBACL,IAAK,+BACH,MAAO,OACT,QACE,MAAO,OAoETC,EAAW,CACfC,WA7SiB,SAACd,GAClB,OAAIA,EAAKe,MAAQ,GACf7T,OAAOqM,KAAKC,KAAK,CACfE,MAAO,eACP5E,KAAM,0CACN2E,KAAM,aAED,GAEJuG,EAAKgB,iBAQLhB,EAAKiB,QACR/T,OAAOqM,KAAKC,KAAK,CACfE,MAAO,eACP5E,KAAM,yBACN2E,KAAM,aAED,IAbPvM,OAAOqM,KAAKC,KAAK,CACfE,MAAO,eACP5E,KAAM,sCACN2E,KAAM,aAED,IA+RT4F,iBAjNuB,SAACW,EAAMxF,EAAS0G,EAASpM,GAChD,GAAIkL,EAAKhR,GAqBP,OAnBK8F,IAAMA,EAAI,kDAA2CkL,EAAKrR,KAAhD,MAEfzB,OAAOqM,KAAKC,KAAK,CACf1E,OACA2E,KAAM,WACNI,kBAAkB,EAClB0G,mBAAoB,OACpBzG,kBAAmB,WACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YACN,IADuB,EAAd4L,SACOiH,EAKd,OAJAA,EAAQ,CACNlS,GAAIgR,EAAKhR,GACTwL,aAEK,MAGJ,GA4LT2G,iBAnRuB,SAAClT,EAAMmT,GAC9B,IACEC,EAOEpT,EAPFoT,YACAC,EAMErT,EANFqT,aACAC,EAKEtT,EALFsT,aACAC,EAIEvT,EAJFuT,aACAtF,EAGEjO,EAHFiO,SACAuF,EAEExT,EAFFwT,SACA9S,EACEV,EADFU,KAGF,IAAK0S,EAMH,OALAnU,OAAOqM,KAAKC,KACV,kBACA,kCACA,YAEK,EAGT,GAAI6H,EAAa,CACf,GAAqB,IAAjBC,GAAsBE,IAAiBH,EAMzC,OALAnU,OAAOqM,KAAKC,KACV,kBACA,6CACA,YAEK,EACF,GAAqB,IAAjB8H,GAAsBC,IAAiBF,EAMhD,OALAnU,OAAOqM,KAAKC,KACV,kBACA,gDACA,YAEK,EAIX,OAAqB,IAAjB8H,GAAuBpF,EAQN,IAAjBoF,GAAuBG,KAQtB9S,IAASyS,EAAQ/L,QAAQ1C,SAC5BzF,OAAOqM,KAAKC,KACV,kBACA,wCACA,YAEK,IAbPtM,OAAOqM,KAAKC,KACV,kBACA,qCACA,YAEK,IAbPtM,OAAOqM,KAAKC,KACV,kBACA,wCACA,YAEK,IAwOTkI,eA1LqB,SAAC1S,EAAIf,EAAMuM,EAASmH,EAAOC,EAAQ9M,GACnDA,IACHA,EAAO9F,EACH,6CACA,+CAEN9B,OAAOqM,KAAKC,KAAK,CACfE,MAAO,iBACP5E,OACA2E,KAAM,WACNI,kBAAkB,EAClB0G,mBAAoB,UACpBzG,kBAAmB9K,EAAK,aAAe,QACvC+K,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,aAAiB,EAAd4L,SACO0H,IAEdA,EAAM,CACJ3S,KACAf,OACAuM,YAGEoH,GAAQA,SAmKhBC,aA/JmB,SAAC5T,GAAD,MAAW,CAC5BoT,YAAapT,EAAKe,GAClBsS,aAAcrT,EAAKe,GACnBuS,aAAc,EACdO,eAAgB7T,EAAK8T,MACrBC,aAAc,EACdC,eAAgB,GAChBT,aAAc,EACdU,eAAgB,GAChBhG,SAAU,IAuJZiG,aArJe,SAAClU,GAAD,MAAW,CACxBoT,YAAapT,EAAKe,GAClBuS,aAActT,EAAKe,GACnBgT,aAAc,EACdC,eAAgBhU,EAAK8T,MACrBP,aAAc,EACdU,eAAgB,KAgJlBE,cA9IgB,SAACnU,GAAD,MAAW,CACzBoT,YAAapT,EAAKe,GAClBgT,aAAc/T,EAAKe,GACnBwS,aAAc,EACdU,eAAgBjU,EAAK8T,QA2IvBM,iBAzIuB,WAA0D,IAAxDC,EAAuD,uDAA1C,UAAWC,EAA+B,uCAArBpG,EAAqB,uCAAdxN,EAAc,uDAAP,GAUvE,OAPA2T,GAA2B,OAAbC,EAAoB,IAAMA,EAASC,OAAS,GAE1DF,GAAwB,OAAVnG,EAAkB,IAAMA,EAAMqG,OAAOvM,QAAQ,QAAS,IAAK,GAErEtH,IACF2T,GAAc,IAAM3T,EAAKsH,QAAQ,UAAW,KAEvCqM,EAAWpR,eAgIpBuR,eA1EiB,SAACC,EAAMC,EAAWC,EAAWC,GAC5C,IAAKF,IAAcC,IAAcC,EAC/B,MAAO,GAGT,IAAIP,EACY,OAAdK,EACIhC,EACEgC,EACGH,OACAtR,eAEL,GAkBN,OAjBAoR,GACgB,OAAdM,EACIjC,EACEiC,EACGJ,OACAtR,eAEL,IACNoR,GACgB,OAAdO,EACIlC,EACEkC,EACGL,OACAtR,eAEL,IAEcwR,EAAKI,WAAWN,OAAOvM,QAAQ,QAAS,KA6C9D0K,iBACAoC,eA1CiB,SAACL,EAAMC,EAAWC,EAAWC,GAC5C,IAAKF,IAAcC,IAAcC,EAC/B,MAAO,GAGT,IAAIP,EAAa,GAsBjB,OApBAA,GACgB,OAAdK,EACIA,EAAUH,OACV,GAENF,GACgB,OAAdM,EACI,IACAA,EAAUJ,OACV,GAGNF,GACgB,OAAdO,EACI,IACAA,EAAUL,OACV,IAENF,GAAc,IAAMI,EAAKI,YAEP5R,gBAkBP2P,ICxTA,SAASmC,IAEtB,IAAMC,EAAa,uCAAG,WAAOzI,GAAP,eAAAlJ,EAAA,yDACfkJ,EADe,yCACC,MADD,cAGdtO,EAAM4C,EAAO,aAAc,KAAM0L,GAHnB,SAKPvO,EAAIC,EAAK,OACnBmC,MAAK,SAACQ,GACL,OAAOA,KAERN,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,wDACAF,EAAII,SAGC,QAfS,mFAAH,sDAoBbsU,EAAW,uCAAG,WAAOlU,GAAP,eAAAsC,EAAA,yDACbtC,EADa,0CACF,GADE,cAGZ9C,EAAM4C,EAAO,aAAcE,GAHf,SAKL/C,EAAIC,EAAK,OACnBmC,MAAK,SAACQ,GACL,OAAOA,EAASZ,QAEjBM,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,iDACAF,EAAII,SAGC,MAfO,mFAAH,sDAoBXuU,EAAc,uCAAG,WAAOnU,GAAP,eAAAsC,EAAA,yDAChBtC,EADgB,0CACL,GADK,cAGf9C,EAAM4C,EAAO,aAAcE,GAHZ,SAKR/C,EAAIC,EAAK,UACnBmC,MAAK,WACJ,OAAO,KAERE,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,oDACAF,EAAII,UAGC,KAfU,mFAAH,sDAkBdwU,EAAY,uCAAG,WAAOnV,GAAP,mBAAAqD,EAAA,yDACdrD,EADc,oDAEXe,EAAOf,EAAPe,UACDf,EAAKe,IAERA,EALe,wBAMX9C,EAAM4C,EAAO,aAAcE,GANhB,SAQJ/C,EAAIC,EAAK,MAAO+B,GAC1BI,MAAK,SAACC,GACL,OAAOA,EAAIL,QAEZM,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,kDACAF,EAAII,SAGC,QAlBM,+DAqBX1C,EAAM4C,EAAO,cArBF,UAuBJ7C,EAAIC,EAAK,OAAQ+B,GAC3BI,MAAK,SAACC,GACL,OAAOA,EAAIL,QAEZM,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,kDACAF,EAAII,SAGC,QAjCM,4CAAH,sDAsClB,MAAO,CACLqU,gBACAC,cACAC,iBACAC,gBCjGW,SAASC,GAAW5O,GAAQ,IAAD,YAClC6O,EAAcN,IAEpB,EAA0BnS,mBAAS,CACjC0S,WAAY,GACZC,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,cAAe,GACfzL,MAAM,IAPR,mBAAOtE,EAAP,KAAcmB,EAAd,KAUM6O,EAAShQ,EAAM0P,WAAWnP,QAAO,SAACsG,GAAD,OAASA,EAAI1L,KAAO6E,EAAM2P,QAAM,GACjEM,EAAM,OAAGD,QAAH,IAAGA,GAAH,UAAGA,EAAQE,YAAX,aAAG,EAAc3P,QAAO,SAACsG,GAAD,OAASA,EAAI1L,KAAO6E,EAAM4P,QAAM,GAC9DO,EAAM,OAAGF,QAAH,IAAGA,GAAH,UAAGA,EAAQC,YAAX,aAAG,EAAc3P,QAAO,SAACsG,GAAD,OAASA,EAAI1L,KAAO6E,EAAM6P,QAAM,GAC9DO,EAAM,OAAGD,QAAH,IAAGA,GAAH,UAAGA,EAAQD,YAAX,aAAG,EAAc3P,QAAO,SAACsG,GAAD,OAASA,EAAI1L,KAAO6E,EAAM8P,QAAM,GAiB9DO,EAAiB,SAACX,EAAYY,GAClC,IAAMzJ,EAAM6I,EAAWnP,QAAO,SAACgQ,GAAD,OAAOA,EAAEpV,KAAOmV,KAAQ,GAE/C,OAAHzJ,QAAG,IAAHA,KAAK2J,UAAY3J,EAAI2J,SAAS5U,QAEhCgF,EAAM6P,iBAAiB5J,EAAI2J,WAuE/B,OAdA5R,qBAAU,WACHoB,EAAM0P,WAAW9T,QA5EtB6T,EACGL,cAAc,CACbsB,WAAY,SAEblW,MAAK,YAAoB,IAAXqM,EAAU,EAAhBzM,KACP+G,EAAS,2BACJnB,GADG,IAEN0P,WAAY7I,EACZvC,MAAM,QAqCO,WAAO,IAAD,OACrBtE,EAAM2P,OAAQK,GAAU,UAACA,EAAOE,YAAR,OAAC,EAAatU,QAE/BgF,EAAM8N,WACX1O,EAAM2P,MAAS3P,EAAM4P,MAAS5P,EAAM6P,MAAS7P,EAAM8P,MAKrD9P,EAAM4P,OAAQK,GAAU,UAACA,EAAOC,YAAR,OAAC,EAAatU,OAE/BgF,EAAM8N,UACX1O,EAAM2P,MAAQ3P,EAAM4P,OAAS5P,EAAM6P,OAAS7P,EAAM8P,KAC7ClP,EAAMoB,aAAa,EAAG,KAI7BhC,EAAM6P,OAAQM,GAAU,UAACA,EAAOD,YAAR,OAAC,EAAatU,OAE/BgF,EAAM8N,UACX1O,EAAM2P,MAAQ3P,EAAM4P,MAAQ5P,EAAM6P,OAAS7P,EAAM8P,KAC5ClP,EAAMoB,aAAa,EAAG,IAI7BhC,EAAM8P,MACDlP,EAAMoB,aAAahC,EAAM8P,KAAzB,OAA+BM,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAQtV,MARvC8F,EAAMoB,aAAahC,EAAM6P,KAAMM,EAAOrV,MARtC8F,EAAMoB,aAAahC,EAAM4P,KAAMK,EAAOnV,MALpC8F,EAAMoB,aAAa,EAAG,IAHxBpB,EAAMoB,aAAahC,EAAM2P,KAAMK,EAAOlV,MAiC/C6V,KACC,CAAC3Q,IAEJpB,qBAAU,WA7DU,IAACzD,EA8Df6E,EAAM0P,WAAW9T,QAAUgF,EAAM8N,WA9DlBvT,EA+DLyF,EAAM8N,SA9DpBe,EAAYJ,YAAYlU,GAAIX,MAAK,SAACqM,GAC5B7G,EAAM2P,OAASpR,SAASsI,EAAI/L,KAAK,KAC/BkF,EAAM4P,OAASrR,SAASsI,EAAI/L,KAAK,KAC/BkF,EAAM6P,OAAStR,SAASsI,EAAI/L,KAAK,KAC/BkF,EAAM8P,OAASvR,SAASsI,EAAI/L,KAAK,KAO3CqG,EAAS,2BACJnB,GADG,IAEN2P,KAAMpR,SAASsI,EAAI/L,KAAK,IACxB8U,KAAMrR,SAASsI,EAAI/L,KAAK,IACxB+U,KAAMtR,SAASsI,EAAI/L,KAAK,IACxBgV,KAAMvR,SAASsI,EAAI/L,KAAK,IACxBwJ,MAAM,WA+CT,CAACtE,EAAM0P,WAAY9O,EAAM8N,WAG1B,gCACE,cAAClI,EAAD,CACEvF,KAAK,qCACL0F,QAAS3G,EAAM0P,WACf5Q,MAAOkB,EAAM2P,KACbrL,KAAMtE,EAAMsE,KACZtC,aAAc,SAAC4O,GACbP,EAAerQ,EAAM0P,WAAYkB,GACjCzP,EAAS,2BAAKnB,GAAN,IAAa2P,KAAMiB,EAAKhB,KAAM,EAAGC,KAAM,EAAGC,KAAM,QAI3D3L,QAAQnE,EAAM2P,OAASxL,QAAO,OAAC6L,QAAD,IAACA,GAAD,UAACA,EAAQE,YAAT,aAAC,EAActU,SAC5C,cAAC4K,EAAD,CACEvF,KAAI,wCAAmC+O,EAAOtT,MAC9CiK,QAASqJ,EAAOE,KAChBpR,MAAOkB,EAAM4P,KACb5N,aAAc,SAAC4O,GACbP,EAAeL,EAAOE,KAAMU,GAC5BzP,EAAS,2BAAKnB,GAAN,IAAa4P,KAAMgB,EAAKf,KAAM,EAAGC,KAAM,QAKpD3L,QAAQnE,EAAM4P,OAASzL,QAAO,OAAC8L,QAAD,IAACA,GAAD,UAACA,EAAQC,YAAT,aAAC,EAActU,SAC5C,cAAC4K,EAAD,CACEvF,KAAI,wCAAmCgP,EAAOvT,MAC9CiK,QAASsJ,EAAOC,KAChBpR,MAAOkB,EAAM6P,KACb7N,aAAc,SAAC4O,GACbP,EAAeJ,EAAOC,KAAMU,GAC5BzP,EAAS,2BAAKnB,GAAN,IAAa6P,KAAMe,EAAKd,KAAM,QAK3C3L,QAAQnE,EAAM4P,OAASzL,QAAO,OAACgM,QAAD,IAACA,GAAD,UAACA,EAAQD,YAAT,aAAC,EAActU,SAC5C,cAAC4K,EAAD,CACEvF,KAAI,wCAAmCkP,EAAOzT,MAC9CiK,QAASwJ,EAAOD,KAChBpR,MAAOkB,EAAM8P,KACb9N,aAAc,SAAC4O,GACbP,EAAeF,EAAOD,KAAMU,GAC5BzP,EAAS,2BAAKnB,GAAN,IAAa8P,KAAMc,WC5JxB,SAASC,KAGpB,IAAMC,EAAW,uCAAG,WAAOC,GAAP,eAAAtT,EAAA,6DACVpF,EAAM4C,EAAO,QAAS,KAAM,CAAC0P,OAAQoG,IAD3B,SAEH3Y,EAAIC,GAFD,mFAAH,sDAMX2Y,EAAc,uCAAG,WAAO7V,GAAP,eAAAsC,EAAA,6DACbpF,EAAM4C,EAAO,QAASE,GADT,SAEN/C,EAAIC,GAFE,mFAAH,sDAKd4Y,EAAgB,uCAAG,WAAMnW,EAAMK,GAAZ,eAAAsC,EAAA,6DACfpF,EAAM4C,EAAO,QAAS,KAAM,CAACH,OAAMK,OADpB,SAER/C,EAAIC,GAFI,mFAAH,wDAMhB6Y,EAAW,uCAAG,WAAM9W,GAAN,iBAAAqD,EAAA,yDACTtC,EAAMf,EAANe,GACD9C,EAAM4C,EAAO,UAEhBE,EAJa,gCAMC/C,EAAIC,EAAK,MAAO+B,GANjB,wEAQChC,EAAIC,EAAK,OAAQ+B,GARlB,4CAAH,sDAYjB,MAAO,CACH0W,cACAE,iBACAC,mBACAC,eCrCO,SAASC,GAAKvQ,GAC3B,IAAMwQ,EAAeP,KACrB,EAA0B7T,mBAAS,CACjCqU,YAAa,GACbC,WAAY,QACZC,UAAU,IAHZ,mBAAOvR,EAAP,KAAcmB,EAAd,KAMAvC,qBAAU,WACR,GAAKgC,EAAM9F,KAAKc,OAMT,CACL,GAAIoE,EAAMuR,SACR,OAAO,KAEPC,SATFrQ,EAAS,2BACJnB,GADG,IAENqR,YAAa,kBACbC,WAAY,aASf,CAAC1Q,EAAM9F,OAEV8D,qBAAU,WACRgC,EAAM6Q,mBAAmBzR,EAAMsR,cAC9B,CAACtR,EAAMsR,aAEV,IAAME,EAAY,WAChBrQ,EAAS,2BACJnB,GADG,IAENqR,YAAa,4BACbC,WAAY,gBAEdF,EACGH,iBAAiBrQ,EAAM9F,KAAM8F,EAAMzF,IACnCX,MAAK,SAACJ,GACDA,EAAKA,KAAKwB,OACZuF,EAAS,2BACJnB,GADG,IAENqR,YAAa,sBACbC,WAAY,QACZC,UAAU,KAGZpQ,EAAS,2BACJnB,GADG,IAENqR,YAAa,uBACbC,WAAY,YACZC,UAAU,QAIf7W,OAAM,SAACG,GAAD,OAAWD,QAAQkD,IAAIjD,OAGlC,OACE,sBAAK4G,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBACEA,UACuB,UAArBzB,EAAMsR,YAA+C,UAArBtR,EAAMsR,WAClC,8BACA,8BAJR,SAOE,mBAAG7P,UAAU,oBAGjB,uBACEE,KAAK,OACLF,UAAU,8BACVG,YAAY,SACZlF,KAAK,OACLoC,MAAO8B,EAAM9F,KACbuG,SAAU,YAAiB,IACjBvC,EADgB,EAAbmD,OACHnD,MACR8B,EAAM8Q,oBAAoB5S,IAE5BoD,OAAQ,WACa,WAAftB,EAAMe,KACR6P,KAEAA,IACA5Q,EAAM+Q,eAGV9P,aAAa,MACba,UAAU,OAEZ,sBAAMjB,UAAU,mCAAhB,SACGzB,EAAMqR,iBC1FA,SAASO,GAAT,GAA4E,IAAlDC,EAAiD,EAAjDA,eAAiD,IAAhCpL,gBAAgC,SAAfqL,EAAe,EAAfA,YAGnEC,EADgB9V,qBAAWuD,GACEpF,KAAKmG,QAAO,SAACgQ,GAAD,MAAkB,aAAXA,EAAE7T,QAExD,OACE,sBAAK+E,UAAU,mBAAf,UACGgF,GACC,qBAAKhF,UAAU,sBAAf,SACE,sBAAMA,UAAU,8BAAhB,SACE,mBAAGA,UAAU,yBAInB,yBACEA,UAAU,+BACV/E,KAAK,YACLoC,MAAO+S,EACPxQ,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgB6P,EAAY7P,IAJxC,UAME,wBAAQnD,MAAM,IAAd,2BACCiT,EAAarW,KAAI,SAACmB,GAAD,OACf,wBAAQiC,MAAOjC,EAAO1B,GAAtB,SACC0B,EAAOzC,KAAKsC,MADkBG,EAAO1B,aCrBlC,SAAS6W,GAAT,GAAkE,IAApCC,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,YAEzDC,EAAYrL,IAElB,EAAwB/J,mBAAS,CAC/B7B,GAAI,EACJ+R,KAAK,EACLE,MAAO,EACPiF,cAAe,EACf1T,UAAU,EACV2I,aAAa,IANf,mBAAOlN,EAAP,KAAakY,EAAb,KASMC,EAAoB,SAAC,GAAqB,IAAnB7V,EAAkB,EAAlBA,KAAMoC,EAAY,EAAZA,MAC7BwI,GAAc,EAEhBxI,EADW,SAATpC,EACM6B,SAASO,GAET0T,WAAW1T,GAGjBmT,EAASvV,KAAUoC,IACrBwI,GAAc,GAEhBgL,EAAQ,2BACHlY,GADE,gBAELkN,eACC5K,EAAOoC,MA4BZ,OAXAF,qBAAU,WACR0T,EAAQ,CACNnX,GAAI8W,EAAS9W,GAAK8W,EAAS9W,GAAK,EAChC+R,KAAM+E,EAAS/E,KAAO+E,EAAS/E,KAAO,EACtCE,MAAO6E,EAAS7E,MAAQ6E,EAAS7E,MAAQ,EACzC9F,aAAa,EACb+K,cAAeF,EACfxT,UAAWuT,MAEZ,CAACD,IAGF,qCACE,sBAAKxQ,UAAU,MAAf,UACE,sBAAKA,UAAU,MAAf,UACE,gCACE,6DAEF,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,8BAAhB,SACE,mBAAGA,UAAU,wBAGjB,uBACEE,KAAK,SACLF,UAAU,0BACVG,YAAY,2BACZlF,KAAK,OACL2E,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,IAC5CnD,MAAO1E,EAAK8S,KACZuF,IAAK,UAIX,sBAAKhR,UAAU,MAAf,UACE,gCACE,6CAEF,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,8BAAhB,SACE,mBAAGA,UAAU,0BAGjB,uBACEE,KAAK,SACLF,UAAU,0BACVG,YAAY,SACZlF,KAAK,QACL2E,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,IAC5CnD,MAAO1E,EAAKgT,MACZqF,IAAK,aAKb,qBAAKhR,UAAU,MAAf,SACE,qBAAKA,UAAU,iBAAf,SACE,yBACEA,UACGrH,EAAKkN,YAAoC,kBAAtB,oBAEtB3F,KAAK,SACL+B,QA7EiB,WACzB0O,EAAU/K,oBAAoBjN,GAAMI,MAAK,SAACJ,GACrCA,GAEDQ,QAAQC,MAAM,sCAGlByX,EAAQ,2BACHlY,GADE,IAELkN,aAAa,MAqEP7B,UAAWrL,EAAKkN,YANlB,UAQE,mBAAG7F,UAAU,qBARf,qBCpGK,SAASiR,GAAT,GAAiE,IAAzC9S,EAAwC,EAAxCA,SAAUuS,EAA8B,EAA9BA,YAAaQ,EAAiB,EAAjBA,cAGtDC,EADgB3W,qBAAWuD,GACIpF,KAAKmG,QAAO,SAACgQ,GAAD,MAAgB,aAAXA,EAAE7T,QAExD,OACE,+BAEqB,IAAlBiW,EACCC,EAAelX,KAAI,SAACmB,GAAY,IAAD,EACvBgW,EAAgBjT,EAASW,QAAO,SAACuD,GAAD,OAAMA,EAAEnF,YAAc9B,EAAO1B,MACnE,OACE,sBAAKsG,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,0CAAd,UACE,mBAAGA,UAAU,0BADf,IAC6C5E,EAAOzC,KAAKsC,UAG3D,qBAAK+E,UAAU,YAAf,SACA,cAACuQ,GAAD,CACEC,SAAQ,UAAEY,EAAc,UAAhB,QAAsB,GAC9BX,SAAYrV,EAAO1B,GACnBgX,YAAeA,QAVQtV,EAAO1B,OAiBtCyX,EAAelX,KAAI,SAACmB,GAElB,IAE+B,EAFzBgW,EAAgBjT,EAASW,QAAO,SAACuD,GAAD,OAAMA,EAAEnF,YAAc9B,EAAO1B,MAEnE,OAAG0B,EAAO1B,KAAOwX,EAEb,sBAAKlR,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,0CAAd,UACE,mBAAGA,UAAU,0BADf,IAC6C5E,EAAOzC,KAAKsC,UAG3D,qBAAK+E,UAAU,YAAf,SACA,cAACuQ,GAAD,CACEC,SAAQ,UAAEY,EAAc,UAAhB,QAAsB,GAC9BX,SAAYrV,EAAO1B,GACnBgX,YAAeA,QAVQtV,EAAO1B,IAexB,UCrCxB,IAAMuE,GAAe,CACnBvE,GAAI,EACJL,KAAM,GACNgY,QAAS,GACTjE,KAAM,GACNjB,SAAU,EACVlR,KAAM,GACNqW,KAAM,KACN7F,KAAM,EACNE,MAAO,EACP4F,YAAa,EACbxF,YAAa,EACbqE,eAAgB,EAChBzX,KAAM,CACJsU,SAAU,GACVgB,WAAY,GACZ9P,SAAU,GACVqT,MAAO,GACPC,cAAe,GACf7N,SAAU,GACV8N,UAAW,GACXC,UAAW,IAEb9B,WAAY,QACZvF,SAAS,EACTzE,aAAa,GAGA,SAAS+L,GAAIzS,GAC1B,IAAM0S,EAAerX,qBAAWoK,GACxBlL,EAAOyF,EAAM+D,MAAMC,OAAnBzJ,GACR,EAA0B6B,mBAAS0C,IAAnC,mBAAOM,EAAP,KAAcmB,EAAd,KACMiH,EAASrB,IACPjM,EAA2BkF,EAA3BlF,KAAeyY,EAAYvT,EAArB+L,QACR3P,EAAUC,cAwEZiL,GAAc,EASdA,EAP4B,WAA5BtH,EAAM5F,KAAK+Y,UAAU,MAErBnT,EAAMwN,aACNxN,EAAMlF,MACe,cAArBkF,EAAMsR,YACNtR,EAAMtD,KAAKd,WAQXoE,EAAMwN,aACNxN,EAAMgT,aACNhT,EAAM4N,UACN5N,EAAMlF,MACe,cAArBkF,EAAMsR,YACNtR,EAAMtD,KAAKd,QAQfgD,qBAAU,WACJzD,GApDJiN,EAAOtP,QAAQqC,GAAIX,MAAK,SAACC,GAAS,IAAD,QAC/B0G,EAAS,2BACJnB,GADG,IAEN7E,GAAIV,EAAIU,GAAKV,EAAIU,GAAK,EACtBuB,KAAMjC,EAAIiC,KAAOjC,EAAIiC,KAAO,GAC5B8Q,YAAW,UAAE/S,EAAIiU,gBAAN,aAAE,EAAcvT,GAC3B6X,YAAW,UAAEvY,EAAI4N,gBAAN,aAAE,EAAclN,GAC3ByS,SAAQ,UAAEnT,EAAI6N,aAAN,aAAE,EAAWnN,GACrB0W,eAAc,UAAEpX,EAAIoX,sBAAN,QAAwB,EACtC/W,KAAML,EAAIK,KAAOL,EAAIK,KAAO,GAC5BgY,QAASrY,EAAI+Y,QAAU/Y,EAAI+Y,QAAU,GACrCpZ,KAAK,2BACA4F,EAAM5F,MADP,IAEFsU,SAAUjU,EAAIiU,SAAWjU,EAAIiU,SAAW,GACxC+E,WAAYhZ,EAAIgZ,WAAahZ,EAAIgZ,WAAa,GAC9C7T,SAAUnF,EAAImF,SAAWnF,EAAImF,SAAW,GACxCyF,SAAU5K,EAAI4K,SAAW5K,EAAI4K,SAAW,KAE1C0G,SAAS,UAqCZ,CAAC5Q,IAEJ,IAAMuY,EAAqB,SAACvY,EAAIwY,GAC9B,IAAcC,EAAsB5T,EAA5BlF,KAAmB+T,EAAS7O,EAAT6O,KACnBsE,EAAcnT,EAAM5F,KAApB+Y,UAGR,GAAqB,WAAjBA,EAAU,GAAiB,CAE7B,IAAMxR,EACa,OAAjBwR,EAAU,GACNA,EAAU,GAAGxE,OAAOvM,QAAQ,QAAS,IAAIyR,MAAM,EAAG,GAClD,GAEAnX,EAAOoX,EAAOtF,iBACT,WAAT7M,EAAoB,GAAKA,EACzBwR,EAAU,GACVQ,EACAC,GAGFzS,EAAS,2BACJnB,GADG,IAEN4N,SAAUzS,EACVuB,KAAMA,EACNtC,KAAK,2BACA4F,EAAM5F,MADP,IAEFgZ,UAAWO,WAGV,CACL,IAAMjX,EAAOoX,EAAO5E,eAClBL,EACAsE,EAAU,GACVA,EAAU,GACVA,EAAU,IAGNrY,EAAOgZ,EAAOlF,eAClBC,EACAsE,EAAU,GACVA,EAAU,GACVA,EAAU,IAGPnT,EAAM6O,KAMT1N,EAAS,2BACJnB,GADG,IAENtD,KAAMA,EACN5B,KAAMA,KARRqG,EAAS,2BACJnB,GADG,IAENtD,KAAMA,OAYd,OACE,sBAAK+E,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,iCAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,oCAAd,UACE,mBAAGA,UAAU,yBACZtG,EAAE,2BAAuBL,EAAvB,KAAiC,gCAGxC,uBAAM2G,UAAU,YAAYI,aAAa,MAAzC,UACE,qBAAKJ,UAAU,MAAf,SACE,qBAAKA,UAAU,MAAf,SACE,qCACE,uBAAOA,UAAU,OAAjB,SACE,gDAGF,cAAC,GAAD,CACEiN,SAAU1O,EAAMwN,YAChBxL,aAAc,SAAC7G,EAAIL,EAAM4B,GACvByE,EAAS,2BACJnB,GADG,IAENwN,YAAarS,EACbf,KAAK,2BACA4F,EAAM5F,MADP,IAEF8Y,cAAepY,QAIrB2V,iBAAkB,SAAC0C,GACjBhS,EAAS,2BACJnB,GADG,IAEN5F,KAAK,2BACA4F,EAAM5F,MADP,IAEF+Y,cAEFpH,SAAS,eAQpB5H,QAAQnE,EAAM5F,KAAK8Y,cAActX,UAC/BoE,EAAM5F,KAAK8Y,cAAchZ,SAAS,MACjC,cAAC4O,EAAD,CACET,SAAUrI,EAAMgT,YAChB5J,qBAAsB,SAACjO,GACrBgG,EAAS,2BACJnB,GADG,IAENgT,YAAa7X,EACbyS,SAAU,QAMnBzJ,QAAQnE,EAAMgT,cACb,cAAC9K,EAAD,CACEI,MAAOtI,EAAM4N,SACbvF,SAAUrI,EAAMgT,YAChBe,WAAW,qBACXxL,kBAAmB,SAACpN,EAAIwY,GACtBxS,EAAS,2BACJnB,GADG,IAEN4N,SAAUzS,EACVf,KAAK,2BACA4F,EAAM5F,MADP,IAEFgZ,UAAWO,UAQpB3T,EAAMwN,YACL,qCACE,sBAAK/L,UAAU,MAAf,UACGzB,EAAM5F,KAAK8Y,cAAchZ,SAAS,MACjC,sBAAKuH,UAAU,QAAf,UACE,gCACE,iDAEF,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,8BAAhB,SACE,mBAAGA,UAAU,uBAGjB,uBACEE,KAAK,OACLF,UAAU,eACVG,YAAY,UACZG,aAAc/B,EAAM6O,KACpBxN,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRd,EAAS,2BAAKnB,GAAN,IAAa6O,KAAM5M,EAAOnD,UAEpCoD,OAAQ,WACNwR,KAEFhR,UAAU,IACVb,aAAa,cAKrB,sBAAKJ,UAAU,MAAf,UACGzB,EAAM+S,KACL,gCACE,6DAGF,uBAEF,sBAAKtR,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBACEA,UACEzB,EAAM+S,KACF,8BACA,8BAJR,SAOE,mBAAGtR,UAAU,6BAGjB,uBACEE,KAAK,OACLF,UAAU,eACVG,YAAY,4BACZG,aAAc/B,EAAM+S,KACpB1R,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRd,EAAS,2BAAKnB,GAAN,IAAa+S,KAAM9Q,EAAOnD,UAEpC4D,UAAU,eAKlB,sBAAKjB,UAAU,MAAf,UACE,sBAAKA,UAAU,QAAf,UACGzB,EAAMlF,KACL,gCACE,6CAGF,uBAGF,cAACqW,GAAD,CACErW,KAAMkF,EAAMlF,KACZK,GAAI6E,EAAM7E,GACVwG,KAAM3B,EAAM5F,KAAK+Y,UAAU,GAC3BxB,WAAY,kBACV+B,EAAmB1T,EAAM4N,SAAU5N,EAAM5F,KAAKgZ,YAEhD3B,mBAAoB,SAAC9T,GACnBwD,EAAS,2BACJnB,GADG,IAENsR,WAAY3T,MAGhB+T,oBAAqB,SAACsC,IACJ,OAAZA,QAAY,IAAZA,OAAA,EAAAA,EAAcpY,QAAS,IAI3BuF,EAAS,2BACJnB,GADG,IAENlF,KAAMkZ,EAAa5R,QAAQ,IAAK,aAKxC,sBAAKX,UAAU,MAAf,UACE,gCACE,uDAEF,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,8BAAhB,SACE,mBAAGA,UAAU,uBAGjB,uBACEE,KAAK,OACLF,UAAU,eACVG,YAAY,mBACZlF,KAAK,UACLqF,aAAc/B,EAAM8S,QACpBzR,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXd,EAAS,2BACJnB,GADG,IAEN8S,QAAS7Q,EAAOnD,UAGpB+C,aAAa,MACba,UAAU,iBAKlB,qBAAKjB,UAAU,MAAf,SACE,sBAAKA,UAAU,MAAf,UACGzB,EAAMtD,KACL,gCACE,0DAGF,uBAEF,sBAAK+E,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBACEA,UACEzB,EAAMtD,KACF,8BACA,8BAJR,SAOE,mBAAG+E,UAAU,uBAGjB,uBACEE,KAAK,OACLF,UAAU,8BACVG,YAAY,SACZlF,KAAK,OACLqF,aAAc/B,EAAMtD,KACpB2E,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXd,EAAS,2BACJnB,GADG,IAENtD,KAAMuF,EAAOnD,UAGjB4D,UAAU,mBAOpB,qBAAKjB,UAAU,MAAf,SACE,qBAAKA,UAAU,MAAf,SACE,oBAAIA,UAAU,eAAd,yDAOR,qBAAKA,UAAU,yBAAf,SACE,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,YAAYmC,KAAK,QAAhC,UACE,eAAC,IAAD,CACEqQ,GAAG,WACHxS,UAAU,kBACViC,QAAS,WACP4P,EAAa7J,IAAb,2BACK6J,GADL,IAEE5J,MAAO,YANb,UAUE,mBAAGjI,UAAU,oBACZtG,EAAK,SAAW,cAEnB,yBACEwG,KAAK,SACL+B,QAAS,YAlbP,WAClB,IAAMwQ,EAAQ,eACTlU,GAGAkU,EAAStG,iBACLsG,EAAStG,SAGbsG,EAASlB,oBACLkB,EAASlB,YAGlB5K,EACGhB,SAAS8M,GACT1Z,MAAK,SAACJ,GACL,GAAIA,EAAM,CACR,IAAQe,EAAOf,EAAKA,KAAZe,GACR9B,OAAOqM,KAAKC,KAAK,CACfE,MAAO,YACP5E,KAAM,kCACN2E,KAAM,UACNE,mBAAmB,EACnBqO,kBAAkB,EAClBhO,qBAAqB,EACrBJ,MAAO,MACNvL,MAAK,WACN4B,EAAQ4B,KAAR,mBAAyB7C,WAI9BT,OAAM,SAACG,GACNxB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,+BACP5E,KAAMpG,EAAMuZ,OAAO1X,KAAK,GACxBkJ,KAAM,OACNI,kBAAkB,EAClB0G,mBAAoB,UACpBzG,kBAAmB,iBACnBC,iBAAkB,WAClBC,qBAAqB,OA2YT+K,IAEFzP,UAAW,kBACXgE,UAAW6B,EANb,UASE,mBAAG7F,UAAU,qBATf,sBAgBP8R,GACC,qBAAK9R,UAAU,eAAf,SACE,mBAAGA,UAAU,yCAKpBtG,EACC,sBAAKsG,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,iCAAf,UACE,qBAAKA,UAAU,cAAf,SACE,oBAAIA,UAAU,0BAAd,oCAIF,qBAAKA,UAAU,YAAf,SACE,cAACmQ,GAAD,CACEC,eAAgB7R,EAAM6R,eACtBpL,UAAU,EACVqL,YAAa,SAAC7P,GACZ,IAAQnD,EAAUmD,EAAVnD,MACRqC,EAAS,2BACJnB,GADG,IAEN6R,eAAgBtT,SAASO,kBAQvC,qBAAK2C,UAAU,MAAf,SACE,qBAAKA,UAAU,MAAf,SACE,cAACiR,GAAD,CACE9S,SAAUI,EAAM5F,KAAKwF,SACrBuS,YAAanS,EAAM7E,GACnBwX,cAAe3S,EAAM6R,wBAK3B,KAEH7R,EAAM5F,KAAKiL,SAASzJ,OACnB,qBAAK6F,UAAU,YAAf,SACE,cAAC,EAAD,CAAWrH,KAAM4F,EAAM5F,KAAKiL,aAE5B,QCtiBK,SAASgP,GAAsBzT,GAE5C,IAAM0T,EAAenF,IAEfoF,EAAKtb,KAAKC,MAAML,aAAaC,QAAQ,eAErCwa,EAAerX,qBAAWoK,GAEhC,EAA0BrJ,mBAAS,CACjC7B,GAAI,EACJwE,KAAM,GACN6U,IAAI,EACJ9X,KAAM,GACN+X,cAAe,GACfjH,YAAa5M,EAAM8N,SACnBpE,KAAM,EACN/Q,KAAMgb,EAAGhb,KACTK,MAAO2a,EAAG3a,MACV0K,MAAM,IAVR,mBAAOtE,EAAP,KAAcmB,EAAd,KAaQsT,EAA0CzU,EAA1CyU,cAAejH,EAA2BxN,EAA3BwN,YAAa9Q,EAAcsD,EAAdtD,KAAMgY,EAAQ1U,EAAR0U,IAA0BpQ,EAAS1D,EAAlBmL,QAE3DnN,qBAAU,WAER,MAA8BgC,EAAtB+T,oBAAR,MAAuB,GAAvB,EAEIA,GACFxT,EAAS,2BACJnB,GADG,IAENyU,cAAeE,OAGnB,CAAC/T,IAgJH,OACE,sBAAKa,UAAU,iCAAf,UACE,qBAAKA,UAAU,YAAf,SACE,wBAAOA,UAAU,QAAjB,UACE,gCACE,+BACE,wCACA,oBAAI8D,MAAO,CAAEqP,MAAO,WAGxB,gCACGH,EAAc7Y,OACb,cAAC,IAAMiZ,SAAP,UACGJ,EAAc/Y,KAAI,SAACmL,GAClB,OACE,+BACE,oBAAIpF,UAAU,kBAAd,SACE,mBACEkI,KAAM,WAAa9C,EAAI1L,GACvBuI,QAAS,SAACkG,GACRA,EAAEC,iBAzJC,SAAChD,GAE5B,IAAQiO,EAA0ClU,EAA1CkU,KAAsBC,EAAoBnU,EAApCoU,eAA6CP,EAAkBzU,EAAlByU,eAEvDK,MACCjO,EAAIqJ,MAASrJ,EAAIqJ,OAASrJ,EAAIqJ,KAAKtU,UAExCmZ,EAAgB,CACdvH,YAAa3G,EAAI1L,GACjB8Z,cAAeR,IAGjBtT,EAAS,2BACJnB,GADG,IAENwN,YAAa3G,EAAI1L,OA4IK+Z,CAAqBrO,IAEvBpF,UACEoF,EAAIqJ,MAAQrJ,EAAIqJ,KAAKtU,OACjB,eACA,YATR,SAYGiL,EAAInK,SAGT,qBAAI+E,UAAU,YAAd,UACE,wBACEE,KAAK,SACLF,UAAU,kBACVgE,UAAU,EACVI,MAAM,eAJR,SAME,mBAAGpE,UAAU,kBAEf,wBACEE,KAAK,SACLkE,MAAM,WACNpE,UACEoF,EAAIqH,OAASrH,EAAIqH,MAAMtS,OACnB,mCACA,gCAEN8H,QAAS,SAACkG,GApKR,IAACzO,IAqKiB0L,EAAI1L,GAAI0L,EAAInK,KApKlDvB,GAOFmZ,EAAahF,eAAenU,GAAIX,MAAK,SAACJ,GACjCA,EACDf,OAAOqM,KAAKC,KAAK,CACfE,MAAO,aACP5E,KAAM,oCACN2E,KAAM,UACNI,kBAAkB,EAClBC,kBAAkB,KAClBE,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,SAEPkN,EAAa7J,IAAb,2BACK6J,GADL,IAEE5J,MAAM,cAKZrQ,OAAOqM,KAAKC,KAAK,CACfE,MAAO,aACP5E,KAAM,iCACN2E,KAAM,QACNI,kBAAkB,EAClBC,kBAAkB,KAClBE,qBAAqB,QAuIPV,SAAUoB,EAAIqH,OAASrH,EAAIqH,MAAMtS,OAXnC,SAaE,mBAAG6F,UAAU,wBAvCVoF,EAAI1L,SA+CnB,6BACE,qBAAI0R,QAAQ,IAAIpL,UAAU,cAA1B,UACE,sBAAMA,UAAU,OAAhB,kCACA,qBAAKA,UAAU,8BAA8BmC,KAAK,SAAlD,SACE,sBAAMnC,UAAU,UAAhB,mCAMTiT,IAAQpQ,EACP,gCACE,+BACE,6BACE,uBACE3C,KAAK,OACLjF,KAAK,OACL+E,UAAU,8BACVI,aAAa,MACb/C,MAAOpC,EACP2E,SA5JC,SAACuI,GAClB,MAAwBA,EAAE3H,OAAlBvF,EAAR,EAAQA,KAAMoC,EAAd,EAAcA,MACdqC,EAAS,2BACJnB,GADG,kBAELtD,EAAOoC,EAAMzB,kBAyJA8N,IAAK,SAAC9G,SAKV,6BACE,wBACE5C,UAAU,sBACViC,QA5JM,WAEtB,GAAI1D,EAAMtD,KAAKd,OAAS,EAOtB,OANAvC,OAAOqM,KAAKC,KACV,kBACA,6CACA,YAGK,EAGT,IAAQ6H,EAAsBxN,EAAtBwN,YACFpT,EAAO,CAAEsC,KADesD,EAATtD,KACA8Q,YAAaA,GAkBhC8G,EAAa/E,aAAanV,GAAMI,MAAK,SAACJ,GACjCA,EACDf,OAAOqM,KAAKC,KAAK,CACfE,MAAO,aACP5E,KAAM,mCACN2E,KAAM,UACNI,kBAAkB,EAClBC,kBAAkB,KAClBE,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,SAEPkN,EAAa7J,IAAb,2BACK6J,GADL,IAEE5J,MAAM,cAKZrQ,OAAOqM,KAAKC,KACV,aACA,gCACA,aAyGQF,SAAU/I,EAAKd,OAAS,EACxBiK,MAAM,oBAJR,SAME,mBAAGpE,UAAU,yBAKnB,UAGR,qBAAKA,UAAU,yBAAf,SACE,wBACEA,UACEiT,EACI,qCACA,yBAENhR,QA3Pe,WACrBvC,EAAS,2BACJnB,GADG,IAEN0U,KAAM1U,EAAM0U,IACZhY,KAAM,OAwPF+I,UAAW+H,EACX3H,MAAO6O,EAAM,WAAa,wBAR5B,SAUGA,EACC,qCACE,mBAAGjT,UAAU,oBADf,cAKA,qCACE,mBAAGA,UAAU,qBADf,oBCzSG,SAAS0T,KAA2B,IAAD,EAE1Cb,EAAenF,IAErB,EAA0BnS,mBAAS,CACjCwQ,YAAa,EACbyH,cAAe,KAFjB,mBAAOjV,EAAP,KAAcmB,EAAd,KAKQqM,EAA+BxN,EAA/BwN,YAAayH,EAAkBjV,EAAlBiV,cAEjBG,EAAqBH,EAAeI,EAAmB,GAE3D,GAAI7H,EAAa,CACf,IAAM8H,EAAiBL,EAAc1U,QACnC,SAACsG,GAAD,OAASA,EAAI1L,KAAOqS,KAGlB8H,EAAe1Z,SACjByZ,EAAmBC,EAAe,KACVD,EAAiBnF,OACvCkF,EAAqBC,EAAiBnF,MA2C5C,OALAtR,qBAAU,WAhCR0V,EAAalF,cAAc,CAACsB,WAAY,SAASlW,MAAK,SAACJ,GAClDA,EACD+G,EAAS,2BACJnB,GADG,IAENiV,cAAe7a,EAAKA,QAGtBQ,QAAQC,MAAM,gDA2BlB,IAIA,qBAAK4G,UAAU,MAAM8D,MAAO,CAACgQ,UAAU,SAAvC,SACE,sBAAK9T,UAAU,QAAf,UACE,8BACE,oBAAIA,UAAU,aAAd,SACIzB,EAAMwN,YACN,qCACE,oBAAI/L,UAAU,yBAAyB,eAAa,OAApD,SACE,mBAAGkI,KAAK,QAAQjG,QA5BN,SAACkG,GACrBA,GAAGA,EAAEC,iBAETyK,EAAalF,cAAc,CAACsB,WAAY,SAASlW,MAAK,SAACJ,GAClDA,EACD+G,EAAS,CACP8T,cAAe7a,EAAKA,KACpBoT,YAAa,OAGf5S,QAAQC,MAAM,+CAkBJ,oBAIDwa,EAAiBla,GAChB,oBAAIsG,UAAU,yBAAyB,eAAa,OAApD,SACG4T,EAAiB3Y,OAElB,QAGN,oBAAI+E,UAAU,yBAAyB,eAAa,OAApD,gEAMN,cAAC,GAAD,CACEiN,SAAUlB,EACVmH,aAAY,UAAES,SAAF,QAAwB,GACpCJ,eArDkB,SAAC5a,GACzB+G,EAAS/G,WC7CE,SAASob,GAAT,GAIX,IAHFrN,EAGC,EAHDA,OAGC,IAFDsN,kBAEC,MAFY,KAEZ,MADDC,oBACC,MADc,KACd,EACD,OACE,oBAAIjU,UAAU,uBAAd,SACI0G,EAAOvM,OAQPuM,EAAOzM,KAAI,SAAC4M,GACV,OACE,qBACE7G,UAAU,oEADZ,UAIE,uBAAMA,UAAU,yCAAhB,UACE,mBAAGA,UAAU,0BACZ6G,EAAM5L,QAGT,gCACG+Y,GACC,sBACEhU,UAAU,wCACV8D,MAAO,CAAEoQ,OAAQ,WACjB9P,MAAM,SACNnC,QAAS,kBAAM+R,EAAWnN,IAJ5B,SAME,mBAAG7G,UAAU,kBAIhBiU,GACC,sBACEjU,UAAU,qCACV8D,MAAO,CAAEoQ,OAAQ,WACjB9P,MAAM,WACNnC,QAAS,kBAAMgS,EAAapN,IAJ9B,SAME,mBAAG7G,UAAU,wBA1Bd6G,EAAMnN,OAXjB,oBAAIsG,UAAU,kBAAd,SACE,oBAAGA,UAAU,cAAb,UACE,mBAAGA,UAAU,4BADf,+CCAK,SAASmU,KAEtB,IAAMC,EAAY9O,IAEZuM,EAAerX,qBAAWoK,GAEhC,EAA0BrJ,mBAAS,CACjC7B,GAAI,KACJkN,SAAU,EACVF,OAAQ,GACRzL,KAAM,GACNqP,SAAS,IALX,mBAAO/L,EAAP,KAAcmB,EAAd,KAQAvC,qBAAU,WACRkJ,MACA,CAAC9H,EAAMqI,WAGT,IAAMP,EAAY,WAChB,IAAQO,EAAarI,EAAbqI,SACJA,GACFwN,EAAU/N,UAAU,CAACO,WAAUa,MAAO,SAAS1O,MAAK,SAACJ,GAChDA,EACD+G,EAAS,2BACJnB,GADG,IAENmI,OAAQ/N,EAAKA,QAGfQ,QAAQC,MAAM,2CA4IdM,EAAuB6E,EAAvB7E,GAAIkN,EAAmBrI,EAAnBqI,SAAU3L,EAASsD,EAATtD,KAEdqP,EAAY/L,EAAZ+L,QAER,OACE,sBAAKtK,UAAU,MAAM8D,MAAO,CAACgQ,UAAU,SAAvC,UACE,qBAAK9T,UAAa4G,EAAW,WAAa,YAA1C,SACE,sBAAK5G,UAAU,iCAAf,UACE,oBAAIA,UAAU,iCAAd,mCAGA,sBAAKA,UAAU,YAAf,UACE,cAACqH,EAAD,CACET,SAAUA,EACVe,qBAAsB,SAACjO,GACrBgG,EAAS,2BACJnB,GADG,IAENqI,SAAUlN,EACVgN,OAAQhN,EAAK6E,EAAMmI,OAAS,UAIhCnI,EAAMmI,OAAOvM,QACb,oBAAG6F,UAAU,YAAb,UACE,mBAAGA,UAAU,4BADf,6DASP4G,EACC,qBAAK5G,UAAU,MAAf,SACE,sBAAKA,UAAU,iCAAf,UACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,sCAAd,+BAGA,cAAC+T,GAAD,CACErN,OAAQnI,EAAMmI,OACdsN,WAAY,SAACnN,GAAD,OAxGT,SAACA,GAChBnH,EAAS,2BACJnB,GADG,IAENtD,KAAM4L,EAAMwN,OACZ3a,GAAImN,EAAMnN,MAoGuB4a,CAASzN,IAChCoN,aAAc,SAACpN,IAjGT,SAACnN,EAAIgR,GACvB9S,OAAOqM,KAAKC,KAAK,CACfE,MAAO,WACP5E,KAAM,wCAAuCkL,EAAKhS,cAAgB,IAClEyL,KAAM,UACNI,kBAAkB,EAClB0G,mBAAoB,OACpBzG,kBAAmB,WACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,UAEPyP,EAAU5N,YAAY9M,GAAIX,MAAK,SAACJ,IAClB,IAATA,EACDf,OAAOqM,KAAKC,KAAK,CACfE,MAAM,SACN5E,KAAK,gCACL2E,KAAK,UACLI,kBAAkB,EAClB0G,mBAAoB,UACpBzG,kBAAmB,KACnBC,iBAAkB,WAClBC,qBAAqB,IAKvB9M,OAAOqM,KAAKC,KAAK,CACfE,MAAM,SACN5E,KAAK,6BACL2E,KAAK,QACLI,kBAAkB,EAClB0G,mBAAoB,OACpBzG,kBAAmB,KACnBC,iBAAkB,WAClBC,qBAAqB,OAK3BmN,EAAa7J,IAAb,2BACK6J,GADL,IAEE5J,MAAO,eAwDCzB,CAAYK,EAAMnN,GAAImN,EAAM5L,YAIlC,qBAAK+E,UAAU,cAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBACEE,KAAK,OACLF,UAAU,oBACV/E,KAAK,OACLoC,MAAOpC,EACP2E,SAAU,mBA7DN,SAAC,GAAqB,IAAnB3E,EAAkB,EAAlBA,KAAMoC,EAAY,EAAZA,MAC3BqC,EAAS,2BACJnB,GADG,kBAELtD,EAAOoC,EAAMzB,iBA0DwB2Y,CAAhB,EAAG/T,WAEf,sBAAKR,UAAU,YAAf,UACE,wBACEE,KAAK,SACLF,UAAU,kBACVgE,UAAW/I,EACXgH,QAnMM,WACtBvC,EAAS,2BACJnB,GADG,IAENtD,KAAM,GACNvB,GAAI,SA2LQ,SAME,mBAAGsG,UAAU,oBAEf,wBACEE,KAAK,SACLF,UAAWtG,EAAK,kBAAoB,kBACpCuI,QAlMA,SAACkG,GACjBA,EAAEC,iBACF,IAASnN,EAAmBsD,EAAnBtD,KAAM2L,EAAarI,EAAbqI,SAAoBjO,EAAO,CAAEsC,OAAMuZ,WAAY5N,GAE9D,OAAI3L,EAAKd,OAAS,GAChBvC,OAAOqM,KAAKC,KACV,QACA,gEACA,UAEK,GACG0C,OASZhP,OAAOqM,KAAKC,KAAK,CACfE,MAAO,iBACP5E,KAAM,8CACN2E,KAAM,WACNI,kBAAkB,EAClB0G,mBAAoB,UACpBzG,kBAAmB,QACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,UAEPyP,EAAU7N,UAAU5N,GAAMI,MAAK,SAACJ,GAC3BA,EACDf,OAAOqM,KAAKC,KAAK,CACfE,MAAO,iBACP5E,KAAM,oCACN2E,KAAK,UACLI,kBAAkB,EAClB0G,mBAAoB,UACpBzG,kBAAmB,KACnBC,iBAAkB,WAClBC,qBAAqB,IAIvBvL,QAAQC,MAAM,uCAIlByY,EAAa7J,IAAb,2BACK6J,GADL,IAEE5J,MAAO,WAGTvI,EAAS,2BACJnB,GADG,IAENtD,KAAM,GACNvB,GAAI,aA7CR9B,OAAOqM,KAAKC,KACV,QACA,wCACA,UAEK,IAkLOF,UAAW/I,EAJb,SAME,mBAAG+E,UAAU,0BAKpBsK,EACC,qBAAKtK,UAAU,eAAf,SACE,mBAAGA,UAAU,oCAEb,UAGN,Q,aC/LOyU,OAnEjB,YAAkE,IAAxC/J,EAAuC,EAAvCA,KAAMgK,EAAiC,EAAjCA,YAE9B,GAF+D,EAApBC,kBAEXpZ,mBAAS,IAAzC,mBAAOqZ,EAAP,KAAiBC,EAAjB,KACMlE,EAAYrL,IAoBhB,OACI,qBAAKtF,UAAU,gBAAgB8U,SAAS,KAAxC,SACA,qBAAK9U,UAAU,eAAemC,KAAK,WAAnC,SACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,8BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQiC,QAASyS,EAAjD,SACE,sBAAM,cAAY,OAAlB,uBAIJ,sBAAK1U,UAAU,iBAAf,UACI,oBAAIA,UAAU,wBAAd,SAAsC,sBAAM+U,MAAM,mBAAZ,SAAgCrK,EAAKzP,KAAKvC,kBAChF,qBAAIsH,UAAU,+BAAd,8BAA8D,sBAAMA,UAAU,qBAAhB,SAAsC0K,EAAKe,UACzG,sBAAKzL,UAAU,GAAf,UACI,6CACA,uBACI/E,KAAO,QACPiF,KAAK,SACLI,aAAc,EACdN,UAAU,eACVG,YAAY,WACZP,SAAU,SAACuI,GAAD,OAAK0M,EAAY1M,EAAE3H,OAAOnD,gBAKhD,sBAAK2C,UAAU,eAAf,UACC,yBAAQE,KAAK,SAASF,UAAU,kBAAkBiC,QAASyS,EAA3D,UACG,mBAAG1U,UAAU,oBADhB,cAKC,wBAAQE,KAAK,SAASF,UAAU,kBAAkBgE,SAAa4Q,GAAY,GAAkB,MAAbA,IAAqBA,EAAyB3S,QAnDtH,WAElB,IAAMtJ,EAAO,CACXyN,WAAYsE,EAAKhR,GAEjB+R,KAAMmJ,GAGRjE,EAAUxK,YAAYxN,GAAMI,MAAK,SAACJ,GAC7BA,EACD+b,EAAY/b,EAAKA,MAGjBQ,QAAQC,MAAM,oCAsCR,gCCtDC,SAAS4b,GAAT,GAA0D,IAA5BC,EAA2B,EAA3BA,OAAQne,EAAmB,EAAnBA,KAAMoe,EAAa,EAAbA,UACzD,EAA0B3Z,mBAAS,CACjCmP,KAAM,GACNyK,WAAW,EACXzP,MAAO,KAHT,mBAAOnH,EAAP,KAAcmB,EAAd,KA6BA,OAPAvC,qBAAU,WACRuC,EAAS,2BACJnB,GADG,IAENmH,MAAOwP,OAER,IAGD,sBAAKlV,UAAU,mBAAmB8D,MAAO,CAAEC,OAAQ,SAAnD,UACE,wBAAO/D,UAAU,4CAAjB,UACE,gCACE,+BACE,mCACCiV,OAGL,gCACGne,EAAKmD,KAAI,SAACgF,EAAKoD,GACd,IAAMgG,EAAmC,UAA5BpJ,EAAIE,MAAMzE,SAASwF,KAChC,OACE,qBAAIF,UAAWqI,EAAO,kBAAoB,GAA1C,UACGpJ,EACAgW,EAAOhb,KAAI,SAACmb,EAAG/S,GACd,IAAI+K,EAAO/E,EACP0I,WAAW9R,EAAIE,MAAMzE,SAASyE,MAAMzE,UACjC2a,QAAQ,GACR1U,QAAQ,IAAK,IAChBoQ,WAAW9R,EAAIE,MAAMzE,UAClB2a,QAAQ,GACR1U,QAAQ,IAAK,IAMpB,OALI7D,SAASsQ,IAAS,IAAGA,EAAO,IAAMA,GACtCA,GAAQ2D,WAAWqE,EAAEjW,MAAMzE,UACxB2a,QAAQ,GACR1U,QAAQ,QAAS,IAGlB,oBAAmBX,UAAU,cAA7B,SACGzB,EAAMmH,MAAMvL,OACXoE,EAAMmH,MAAMzL,KAAI,SAACyQ,EAAMrF,GACrB,OAAO+H,IAAS1C,EAAK0C,KACnB,8BACG1C,EAAKS,WACJ,sBACElJ,QAAS,WACPvC,EAAS,2BACJnB,GADG,IAENmM,KAAMA,EACNyK,WAAW,MAGfrR,MAAO,CAAEoQ,OAAQ,WACjB9P,MAAOsG,EAAK0C,KAEZpN,UACE0K,EAAKe,KAAO,EACR,sBACA,qBAdR,SAiBGf,EAAKe,MAPDf,EAAKhR,GAAK2L,GASf,MArBIA,GAuBR,QAGN,cAAC,IAAD,CAAMmN,GAAG,oBAAT,SACE,mBAAGxS,UAAU,kCA/BVoN,EAAO/K,QAhB6BA,WA2D1D9D,EAAM4W,UACL,cAAC,GAAD,CAAiBzK,KAAMnM,EAAMmM,KAAMgK,YAhGf,SAACY,GACzB,IAAM5P,EAAK,aAAOnH,EAAMmH,OAExBA,EAAM6P,SAAQ,SAAC7K,GACTA,EAAKhR,KAAO4b,EAAQ5b,KACtBgR,EAAKe,KAAO6J,EAAQ7J,SAIxB/L,EAAS,2BACJnB,GADG,IAENmH,MAAOA,EACPyP,WAAW,QAqFP,QC5BKK,OA/Ef,YAII,IAHFvI,EAGC,EAHDA,SACYwI,EAEX,EAFDC,WACapJ,EACZ,EADDoI,YAEA,EAAoCnZ,oBAAS,GAA7C,mBAAOoa,EAAP,KAAmBC,EAAnB,KACA,EAA0Bra,mBAAS,GAAnC,mBAAOoQ,EAAP,KAAckK,EAAd,KAEA,OACE,qBAAK7V,UAAU,gBAAgB8U,SAAS,KAAxC,SACE,qBAAK9U,UAAU,eAAemC,KAAK,WAAnC,SACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,4BACA,wBAAQiC,QAASqK,EAAQpM,KAAK,SAASF,UAAU,QAAjD,SACE,sBAAM,cAAY,OAAlB,uBAIJ,qBAAKA,UAAU,iBAAf,SACG2V,EACC,sBAAK3V,UAAU,cAAf,UACE,oBAAIA,UAAU,eAAd,gCACA,qBAAKA,UAAU,mCAAmCmC,KAAK,SAAvD,SACE,sBAAMnC,UAAU,UAAhB,+BAIJ,sBAAKA,UAAU,6DAAf,UACE,oBAAIA,UAAU,wBAAd,SACE,sBAAMA,UAAU,mBAAhB,SACGiN,EAASvU,kBAGd,2CACA,uBACEkH,SAAU,YAAiB,IACjBvC,EADgB,EAAbmD,OACHnD,MACRwY,EAASxY,IAEXpC,KAAK,QACLiF,KAAK,SACLI,aAAcqL,EACd3L,UAAU,eACVG,YAAY,gBAMpB,sBAAKH,UAAU,eAAf,UACE,yBACEE,KAAK,SACLF,UAAU,kBACViC,QAASqK,EACTtI,WAAU2R,EAJZ,UAME,mBAAG3V,UAAU,oBANf,cAUA,wBACEgE,YAAU2R,GAAehK,GAAmB,MAAVA,GAClCzL,KAAK,SACLF,UAAU,kBACViC,QAAS,WACPwT,EAAY9J,GACZiK,GAAc,IANlB,gCCpDG,SAASE,KAGtB,MAA0Bva,mBAAS,CACjCwa,UAAW,GACXC,UAAW,GACXC,UAAW,GACXC,QAAS,EACTC,QAAS,EACTC,QAAS,EACTvT,MAAM,EACN6C,MAAO,GACPxH,KAAM,GACNyN,MAAO,IAVT,mBAAOpN,EAAP,KAAcmB,EAAd,KAYA,EAA0BnE,oBAAS,GAAnC,mBAAO8a,EAAP,KAAcC,EAAd,KAEMzD,EAAenF,IACfiD,EAAYrL,IAEZ2P,EAAS,GACTne,EAAO,GAETuL,EAAI,EACR,GACE4S,EAAO1Y,KAAK,6BAAa8F,EAAEgT,QAAQ,IAAdhT,IACrBA,GAAQ,UACDA,EAAI0O,WAAWxS,EAAML,KAAKqY,KAAO,KAE1ClU,EAAI0O,WAAWxS,EAAML,KAAKsY,UAC1B,GACY,IAANnU,EACFvL,EAAKyF,KACH,6BACE,4CAGDzF,EAAKyF,KAAK,6BAAK8F,EAAEgT,QAAQ,MAC9BhT,GAAQ,UACDA,EAAI0O,WAAWxS,EAAML,KAAKuY,UAAY,KAE/C,IAAMzS,EAAkC,IAAvBzF,EAAMmH,MAAMvL,OAEvBuc,EAAc,WAClBJ,GAAUD,IA8CN9Q,EAAQ,uCAAG,WAAOoR,GAAP,iBAAA3a,EAAA,sDACP6G,EAAStE,EAATsE,KACFnF,EAAU,CACd0H,IAAKuR,EACLpO,UAAW,KAGR1F,GACHnD,EAAS,2BACJnB,GADG,IAENsE,MAAM,KAIV8N,EAAUpL,SAAS7H,GAAS3E,MAAK,SAACJ,GAChC,GAAIA,EAAM,CACR,IAAMie,EAAmBje,EAAKA,KAAKmG,QACjC,SAAC4L,GAAD,MAAwB,YAAdA,EAAK0C,QAEjB1N,EAAS,2BACJnB,GADG,IAENmH,MAAOkR,GAAsC,GAC7CR,QAASO,EACT9T,MAAM,UAGR1J,QAAQC,MAAM,0CACdsG,EAAS,2BACJnB,GADG,IAENsE,MAAM,QA7BG,2CAAH,sDAqGd,OAJA1F,qBAAU,WApBR0V,EAAalF,cAAc,CAAEsB,WAAY,SAAUlW,MAAK,SAACJ,GACnDA,GAAQA,EAAKA,KACf+G,EAAS,2BACJnB,GADG,IAEN2X,QAAS,EACThY,KAAMvF,EAAKA,KAAK,GAAGuF,KACnB6X,UAAWpd,EAAKA,KAAK,GAAG8V,KACxBuH,UAAWrd,EAAKA,KAAK,GAAG8V,KAAK,GAAGA,SAGlCtV,QAAQC,MAAM,oCACdxB,OAAOqM,KAAKC,KACV,oBACA,oCACA,eAQL,IAGD,qBAAKlE,UAAU,MAAM8D,MAAO,CAAEC,OAAQ,UAAtC,SACE,qBAAK/D,UAAU,MAAf,SACE,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAf,SACE,sBAAKA,UAAU,mDAAf,UACE,qBAAKA,UAAU,WAAf,SACE,yBACEA,UAAU,gBACV/E,KAAK,UACLoC,MAAOkB,EAAM4X,QACbvW,SA7EO,SAACuI,GACtB,MAAwBA,EAAE3H,OAAlBvF,EAAR,EAAQA,KAAMoC,EAAd,EAAcA,MACN0Y,EAAyBxX,EAAzBwX,UAAWC,EAAczX,EAAdyX,UACfvH,EAAO,GACPvQ,EAAO,GAEE,YAATjD,GACF8a,EAAU9b,KAAI,SAACmL,GACb,OAAIA,EAAI1L,KAAOoD,SAASO,KACtBoR,EAAOrJ,EAAIqJ,KACXvQ,EAAOkH,EAAIlH,MACJ,MAIXwB,EAAS,2BACJnB,GADG,IAEN2X,QAASpZ,SAASO,GAClB8Y,QAAS,EACTC,QAAS,EACTJ,UAAWvH,EACXwH,UAAW,GACX/X,WAEgB,YAATjD,IACT+a,EAAU/b,KAAI,SAACmL,GACb,OAAIA,EAAI1L,KAAOoD,SAASO,KACtBoR,EAAOrJ,EAAIqJ,MACJ,MAIX/O,EAAS,2BACJnB,GADG,IAEN4X,QAASrZ,SAASO,GAClB+Y,QAAS,EACTH,UAAWxH,OAqCH,UAME,wBAAQpR,MAAM,IAAd,oCACCkB,EAAMyX,UAAU/b,KAAI,SAACmL,GACpB,OACE,wBAAqB/H,MAAO+H,EAAI1L,GAAhC,SACG0L,EAAInK,MADMmK,EAAI1L,YAQxB6E,EAAM4X,SAAW5X,EAAM0X,UAAU9b,OAChC,sBAAK6F,UAAU,4DAAf,UACE,qBACEA,UAAU,qBACVmC,KAAK,QACL,aAAW,gBACX2B,MAAO,CAAEC,OAAQ,QAJnB,SAMGxF,EAAM0X,UAAUhc,KAAI,SAACmL,GACpB,OACE,wBAEEpF,UACEzB,EAAM6X,UAAYhR,EAAI1L,GAClB,kBACA,oBAENuI,QAAS,SAACkG,GACR5C,EAASH,EAAI1L,IACbgG,EAAS,2BACJnB,GADG,IAEN6X,QAAShR,EAAI1L,GACbmJ,MAAM,MAZZ,SAgBGuC,EAAInK,MAfAmK,EAAI1L,SAoBjB,sBAAKsG,UAAU,wEAAf,UACE,qDAAwBzB,EAAMmH,MAAMvL,UACpC,yBACE6J,SAAUA,EACVhE,UAAU,6BACViC,QAASyU,EAHX,2BAME,mBAAG1W,UAAU,oCAIjB,UAIR,qBAAKA,UAAU,YAAf,SACGzB,EAAM6X,QACL,cAAC,IAAMhD,SAAP,UACG7U,EAAMsE,KACL,sBAAK7C,UAAU,cAAf,UACE,sBAAMA,UAAU,eAAhB,gCACA,qBACEA,UAAU,mCACVmC,KAAK,SAFP,SAIE,sBAAMnC,UAAU,UAAhB,+BAIJ,eAAC,IAAMoT,SAAP,WACE,sBAAKpT,UAAU,WAAf,UACE,qBAAKA,UAAU,aACf,qBAAKA,UAAU,QACf,qBAAKA,UAAU,QAAf,SACE,qBAAKA,UAAU,aAIlBqW,GACC,cAAC,GAAD,CACE3B,YAAagC,EACbhB,WAjPE,SAAC/J,GACvBgF,EACG7K,gBAAgB,CACf6F,QACA3F,kBAAmBzH,EAAM6X,UAE1Brd,MAAK,SAACJ,GACL+d,IACI/d,EACFf,OAAOqM,KAAKC,KAAK,CACfE,MAAO,YACP5E,KAAM,gCACN2E,KAAM,UACNI,kBAAkB,EAClB0G,mBAAoB,UACpBzG,kBAAmB,KACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,SAEPxL,QAAQkD,IAAI,+BAIhBlD,QAAQC,MAAM,uBACdxB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,YACP5E,KAAM,mCACN2E,KAAM,QACNI,kBAAkB,EAClB0G,mBAAoB,UACpBzG,kBAAmB,KACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,SAEPxL,QAAQkD,IAAI,uCA8MF4Q,SAAW,WACT,IAAMiB,EAAO3P,EAAMwX,UAAUjX,QAC3B,SAAC4L,GAAD,OAAUA,EAAKhR,KAAO6E,EAAM2X,WAExB/H,EAAO5P,EAAMyX,UAAUlX,QAC3B,SAAC4L,GAAD,OAAUA,EAAKhR,KAAO6E,EAAM4X,WAExB/H,EAAO7P,EAAM0X,UAAUnX,QAC3B,SAAC4L,GAAD,OAAUA,EAAKhR,KAAO6E,EAAM6X,WAExBnb,EAAI,UAAMiT,EAAK,GAAGjT,KAAd,cAAwBkT,EAAK,GAAGlT,KAAhC,cAA0CmT,EAAK,GAAGnT,MAE5D,MAAM,GAAN,OAAUA,GAZD,KAiBf,cAAC+Z,GAAD,CACEC,OAAQA,EACRne,KAAMA,EACNoe,UAAW3W,EAAMmH,aAMzB,sBAAK1F,UAAU,iCAAiCmC,KAAK,QAArD,UACE,qBAAInC,UAAU,gBAAd,UACE,mBAAGA,UAAU,uBADf,iBAGA,uBACA,+BAIIzB,EAAM4X,QAA4C,KAAlC,wDAClB,0EC5UH,SAASU,GAAT,GAMX,IAAD,oBALDtY,EAKC,EALDA,MACAmB,EAIC,EAJDA,SACAgH,EAGC,EAHDA,OACAoQ,EAEC,EAFDA,WACAC,EACC,EADDA,SAEMlP,EAAUhD,IAEhB,EAA0BtJ,mBAAS,CACjCW,QAAQ,EACR6Y,MAAO,SACPzb,QAAS,KAHX,mBAAO0d,EAAP,KAAcC,EAAd,KAKA,EAA4B1b,mBAAS,CAAEW,QAAQ,EAAOgB,UAAW,OAAjE,mBAAOga,EAAP,KAAeC,EAAf,KAaMC,EAAiB,SAACnc,GACtB,UAAI6b,QAAJ,IAAIA,KAAYpd,GAAI,CAClB,IAAM2d,EAAkBP,EAAW1G,eAC/B0G,EAAW1G,eACX7R,EAAMrB,UACJ9B,EAAS0b,EAAW3Y,SAASW,QACjC,SAACwY,GAAD,OAAOA,EAAEpa,YAAcma,KACvB,GACF,GAAIjc,GAAUA,EAAOuQ,MAInB,GAA4B,cADxBmL,EAAW7J,SADb5T,KAAQke,iBAEW,GAAoB,CACvCpe,QAAQkD,IAAI,uCAAwCjB,EAAOuQ,OAC3D,IAAMhT,EAAI,2BACL4F,GADK,IAERoN,MAAOoF,WAAW3V,EAAOuQ,SAEvB1Q,IAAMtC,EAAKsC,KAAOA,GAEtByE,EAAS/G,SAGJsC,GACTyE,EAAS,2BACJnB,GADG,IAENtD,WAiFN,OA5EAkC,qBAAU,WACR,GAAK2Z,EAAL,CAaA,GAXIA,EAAW1G,iBAAmB8G,EAAOhb,SACvCib,EAAU,CACRjb,QAAQ,EACRgB,UAAW4Z,EAAW1G,iBAExB1Q,EAAS,2BACJnB,GADG,IAENrB,UAAW4Z,EAAW1G,mBAItB7R,EAAMoN,OAASpN,EAAMiZ,MACnBjZ,EAAMiZ,KAAOjZ,EAAMoN,MASrB,OARAsL,EAAS,CACP/a,QAAQ,EACR5C,QAAS,+CAEXoG,EAAS,2BACJnB,GADG,IAENkZ,MAAM,KAMZ,GAAIlZ,EAAMwN,YAKR,GAAiC,cAF7B+K,EADF7J,SAAY5T,KAGLke,iBAAiB,GAUxB,OATAN,EAAS,CACP/a,QAAQ,EACR5C,QAAS,mDACTyb,MAAO,gBAETrV,EAAS,2BACJnB,GADG,IAENkZ,MAAM,KAMZ,GAAIlZ,EAAMgT,YAGR,GAFqBuF,EAAblQ,SAEKlN,KAAO6E,EAAMgT,YAUxB,OATA0F,EAAS,CACP/a,QAAQ,EACR5C,QAAS,wDACTyb,MAAO,iBAETrV,EAAS,2BACJnB,GADG,IAENkZ,MAAM,KAMZR,EAAS,CACP/a,QAAQ,EACR5C,QAAS,GACTyb,MAAO,WAETrV,EAAS,2BACJnB,GADG,IAENkZ,MAAM,QAGP,QAACX,QAAD,IAACA,OAAD,EAACA,EAAYpd,GAAI6E,EAAMwN,YAAaxN,EAAMiZ,OAG3C,qCACGR,EAAM9a,QACL,qBAAK8D,UAAW,0BAAkBgX,EAAMjC,aAAxB,QAAiC,UAAY,SAA7D,SACE,+BACE,mBAAG/U,UAAU,qCACZgX,EAAM1d,aAIb,sBAAK0G,UAAU,MAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,uBAAOsI,QAAQ,OAAf,oBACA,uBACEpI,KAAK,OACLF,UAAU,8BACVG,YAAY,sBACZ9C,MAAK,UAAEkB,EAAMlF,YAAR,QAAgB,GACrB4H,UAAU,KACVrB,SAAU,gBAAavC,EAAb,EAAGmD,OAAUnD,MAAb,OACRqC,EAAS,2BAAKnB,GAAN,IAAalF,KAAMgE,EAAMzB,cAAc+E,QAAQ,IAAK,aAKlE,sBAAKX,UAAU,mBAAf,UACE,uBAAOsI,QAAQ,OAAf,8BACA,uBACEpI,KAAK,OACLF,UAAU,8BACVG,YAAY,mBACZG,aAAY,UAAE/B,EAAMmZ,eAAR,QAAmB,GAC/B9X,SAAU,gBAAavC,EAAb,EAAGmD,OAAUnD,MAAb,OACRqC,EAAS,2BAAKnB,GAAN,IAAamZ,QAASra,EAAMzB,0BAM5C,sBAAKoE,UAAU,MAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,uBAAOsI,QAAQ,OAAf,uBACA,yBACEtI,UAAU,8BACVM,aAAY,UAAE/B,EAAMwN,mBAAR,QAAuB,GACnCnM,SAAU,gBAAavC,EAAb,EAAGmD,OAAUnD,MAAb,OACRqC,EAAS,2BAAKnB,GAAN,IAAawN,YAAajP,SAASO,OAE7C2G,SAAW,WAAO,IAAD,IAEf,SAAI,UAAAzF,EAAMmZ,eAAN,eAAevd,QAAS,QAGxB,UAAAoE,EAAMlF,YAAN,eAAYc,QAAS,GALhB,GAWXsG,OAAQ,WACN,IAAMpH,GAAQse,KAAKC,SAAW,GAAGpK,SAAS,IAAIqK,UAAU,GACnDtZ,EAAMlF,MACTqG,EAAS,2BACJnB,GADG,IAENlF,UAGJ0d,EAAUxY,EAAMlF,KAAckF,EAAMlF,KAAbA,IAzB3B,UA4BE,0DACCwO,EAAQiQ,KAAK7d,KAAI,SAACmL,GAAD,OAChB,wBAAqB/H,MAAO+H,EAAI1L,GAAhC,SACG0L,EAAInK,MADMmK,EAAI1L,aAOvB,sBAAKsG,UAAU,iBAAf,UACE,uBAAOsI,QAAQ,OAAf,mBACA,yBACEtI,UAAU,8BACVM,aAAY,UAAE/B,EAAM4N,gBAAR,QAAoB,GAChCvM,SAAU,gBAAavC,EAAb,EAAGmD,OAAUnD,MAAb,OACRqC,EAAS,2BAAKnB,GAAN,IAAa4N,SAAUrP,SAASO,OAE1C2G,UAAWzF,EAAMwN,YACjBtL,OA9MY,WACpB,IAIMxF,EACJ,WALe4M,EAAQiQ,KAAKhZ,QAAO,SAACsG,GAAD,OAASA,EAAI1L,KAAO6E,EAAMwN,eAChC,GAAG9Q,KAIH,IAHjByL,EAAO5H,QAAO,SAACiZ,GAAD,OAASA,EAAIre,KAAO6E,EAAM4N,YAC7B,GAAGlR,KAEsB,IAAMsD,EAAMlF,KAE9DF,QAAQkD,IAAI,0BAA2BpB,GACvCmc,EAAenc,IA8LT,UASE,wCACK,IACFyL,EAAOvM,OACJ,uBACA,kCAAmC,IAJzC,QAQCuM,EAAOzM,KAAI,SAAC4M,GAAD,OACV,wBAAuBxJ,MAAOwJ,EAAMnN,GAApC,SACGmN,EAAM5L,MADI4L,EAAMnN,gBAQ3B,sBAAKsG,UAAU,MAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,uBAAOsI,QAAQ,OAAf,sBACA,yBACEtI,UAAU,8BACV3C,MAAO6Z,EAAOhb,OAASgb,EAAOha,UAAvB,UAAmCqB,EAAMrB,iBAAzC,QAAsD,GAC7D0C,SAAU,gBAAavC,EAAb,EAAGmD,OAAUnD,MAAb,OACRqC,EAAS,2BAAKnB,GAAN,IAAarB,UAAWJ,SAASO,OAE3C2G,UAAWzF,EAAM4N,UAAY+K,EAAOhb,OACpCuE,OAAQ,kBAAM2W,KAPhB,UASE,0DACCvP,EAAQ1J,SAASlE,KAAI,SAAC+d,GAAD,OACpB,wBAAoB3a,MAAO2a,EAAGte,GAA9B,SACGse,EAAG/c,MADO+c,EAAGte,aAOtB,sBAAKsG,UAAU,mBAAf,UACE,uBAAOsI,QAAQ,OAAf,yBACA,uBACEpI,KAAK,OACL8Q,IAAK,EACLhR,UAAU,8BACVG,YAAY,2BACZ9C,MAAK,UAAEkB,EAAMtD,YAAR,QAAgB,GACrB2E,SAAU,gBAAavC,EAAb,EAAGmD,OAAUnD,MAAb,OACRqC,EAAS,2BAAKnB,GAAN,IAAatD,KAAMoC,EAAMzB,kBAEnCoI,UAAWzF,EAAM4N,iBAKvB,sBAAKnM,UAAU,MAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,uBAAOsI,QAAQ,OAAf,sBACA,uBACEpI,KAAK,SACL8Q,IAAK,EACLhR,UAAU,8BACVG,YAAY,mBACZG,aAAY,UAAE/B,EAAMkN,YAAR,QAAgB,GAC5B7L,SAAU,gBAAavC,EAAb,EAAGmD,OAAUnD,MAAb,OACRqC,EAAS,2BAAKnB,GAAN,IAAakN,KAAM3O,SAASO,OAEtC2G,UAAWzF,EAAMrB,eAIrB,sBAAK8C,UAAU,mBAAf,UACE,uBAAOsI,QAAQ,OAAf,oBACA,uBACEpI,KAAK,SACL8Q,IAAK,EACLhR,UAAU,8BACVG,YAAY,mBACZ9C,MAAK,UAAEkB,EAAMoN,aAAR,QAAiB,GACtB/L,SAAU,gBAAavC,EAAb,EAAGmD,OAAUnD,MAAb,OACRqC,EAAS,2BAAKnB,GAAN,IAAaoN,MAAOoF,WAAW1T,OAEzC2G,UAAWzF,EAAMrB,eAIrB,sBAAK8C,UAAU,mBAAf,UACE,uBAAOsI,QAAQ,OAAf,mBACA,uBACEpI,KAAK,OACL8Q,IAAK,EACLhR,UAAU,8BACVG,YAAY,2BACZG,aAAY,UAAE/B,EAAMiZ,YAAR,QAAgB,GAC5B5X,SAAU,gBAAavC,EAAb,EAAGmD,OAAUnD,MAAb,OACRqC,EAAS,2BAAKnB,GAAN,IAAaiZ,KAAMzG,WAAW1T,OAExC2G,UAAWzF,EAAMoN,MACjBlL,OAAQ,wBC9TL,SAASwX,GAAT,GAIX,IAHYC,EAGb,EAHDC,aACWC,EAEV,EAFDC,UACA9G,EACC,EADDA,YAEM1J,EAAUhD,IACVrJ,EAAOjB,IAAO+C,KACdqT,EAAYrL,IAClB,EAA4B/J,mBAAS,IAArC,mBAAOmL,EAAP,KAAe4R,EAAf,KACA,EAA8B/c,oBAAS,GAAvC,mBAAOgd,EAAP,KAAgBC,EAAhB,KACA,EAAwBjd,oBAAS,GAAjC,mBAAOsH,EAAP,KAAa4V,EAAb,KACA,EAAoCld,mBAAS,MAA7C,mBAAOub,EAAP,KAAmB4B,EAAnB,KACA,EAA0Bnd,mBAAS,CACjC7B,GAAIif,KAAKC,MACTvf,KAAM,GACNqe,QAAS,GACT3L,YAAa,GACbI,SAAU,GACVjP,UAAW1B,EAAKJ,OAAO1B,GACvB+R,KAAM,EACNxQ,KAAM,GACN0Q,MAAO,EACP6L,KAAM,EACNqB,OAAO,EACPC,SAAS,EACTrB,MAAM,IAbR,mBAAOlZ,EAAP,KAAcmB,EAAd,KAqDA,OAzBAvC,qBAAU,WAGR,GAFAhE,QAAQkD,IAAI,sCAAuCkV,GACnDpY,QAAQkD,IAAI,mCAAoCb,EAAKJ,OAAO1B,IACvD6X,EAAL,CAKA,IAAMwH,EAAmBlR,EAAQN,UAAUzI,QACzC,SAAC4I,GAAD,OAASA,EAAIhO,KAAO6X,KAGtB,GAAIwH,IAAqBA,EAAiB5e,OAMxC,OALAhB,QAAQkD,IACN,8CACA0c,QAEFT,EAAU,IAIZ,IAAM5R,EAASqS,EAAiB,GAAGrS,OACnC4R,EAAU5R,QAlBR4R,EAAU,MAmBX,IAGD,qBAAKtY,UAAU,gBAAgB8U,SAAS,KAAxC,SACE,qBAAK9U,UAAU,qCAAqCmC,KAAK,WAAzD,SACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,kDAAd,mCAGA,wBAAQE,KAAK,SAASF,UAAU,QAAQiC,QAASiW,EAAjD,SACE,sBAAM,cAAY,OAAlB,uBAGJ,qBAAKlY,UAAU,aAAf,SACE,cAAC6W,GAAD,CACEtY,MAAOA,EACPmB,SAAUA,EACVgH,OAAQA,EACRoQ,WAAYA,EACZC,SAxDa,SAAC7N,GACxB,OAAOyH,EACJpL,SAAS,CACR2D,WAEDnQ,MAAK,SAACC,GACL,IAAM0M,EAAQ1M,EAAIL,KAAKmG,QAAO,SAACuD,GAAD,OAAOA,EAAEhJ,OAASkF,EAAMlF,QAChDqR,EAAOhF,EAAMvL,OAASuL,EAAM,GAAK,KAEvC,OADAgT,EAAchO,GACPA,UAkDL,qBAAK1K,UAAU,eAAf,SACGuY,EACC,qBAAKvY,UAAU,4BAAf,SACE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,QAAf,gBACK,4CADL,+BACyD,IACvD,uBACA,yFAIF,qBAAKA,UAAU,mBAAf,SACE,wBACEA,UAAU,eACViC,QAAS,kBAAMmW,EAAW7Z,IAF5B,8BAUN,sBAAKyB,UAAU,YAAf,UACE,yBACEA,UAAU,eACViC,QAAS,kBAAMiW,KAFjB,UAIE,mBAAGlY,UAAU,oBAJf,cAOA,yBACEA,UAAU,kBACViC,QAAS,WAEP,GADAwW,GAAQ,GACJ3B,EAAY,CACd,IAAM3Y,EAAW2Y,EAAW3Y,SAASW,QACnC,SAACwY,GAAD,OAAOA,EAAEpa,YAAcqB,EAAMrB,aAI/B,GAFeiB,EAAShE,OAASgE,EAAS,GAAK,KAU7C,OAPAhF,QAAQkD,IAAI,8BACZqD,EAAS,2BACJnB,GADG,IAENsa,OAAO,KAETL,GAAW,GACXC,GAAQ,GACD3B,EAIX3d,QAAQkD,IAAI,8BACZ+b,EAAW7Z,IAGbyF,YAEInB,IACCtE,EAAM4N,WACN5N,EAAMrB,YACNqB,EAAMkN,MACPlN,EAAMkN,KAAO,IACZlN,EAAMtD,MACPsD,EAAMtD,KAAKd,OAAS,GACpBoE,EAAMoN,MAAQ,GACdpN,EAAMkZ,OAKJlZ,EAAMoN,MAAQpN,EAAMiZ,KAzC5B,UA+CE,mBAAGxX,UAAU,qBACZ6C,EAAO,eAAiB,yBCzK5B,SAASmW,GAAT,GAAwD,IAA9BtO,EAA6B,EAA7BA,KAAMuO,EAAuB,EAAvBA,OAAQ1H,EAAe,EAAfA,YAC/C2H,EAAMrU,IACNO,EAAM8T,EAAIpB,KAAKhZ,QAAO,SAACgQ,GAAD,OAAOA,EAAEpV,KAAOgR,EAAKqB,eAAa,GAExDlF,EADWqS,EAAI3R,UAAUzI,QAAO,SAACqa,GAAD,OAAOA,EAAEzf,KAAO6X,KAAa,GAC5C7K,OAAO5H,QAAO,SAACwY,GAAD,OAAOA,EAAE5d,KAAOgR,EAAKyB,YAAU,GAC9D/Q,EAAS8d,EAAI/a,SAASW,QAAO,SAACwY,GAAD,OAAOA,EAAE5d,KAAOgR,EAAKxN,aAAW,GAEnE,OACE,qBAAI8C,UAAWiZ,GAAUA,IAAWvO,EAAKhR,GAAK,UAAY,GAA1D,UACE,+BACGgR,EAAKrR,KAAKX,cACVgS,EAAKgN,SACJ,qCACG,IADH,KAEI,mBAAG1X,UAAU,mBAFjB,IAEwC0K,EAAKgN,QAAQhf,oBAIzD,oBACEsH,UACEiZ,GAAUA,IAAWvO,EAAKhR,GACtB,QACAgR,EAAKmO,MACL,qBACA,uBANR,SASGnO,EAAKzP,KAAKvC,gBAEb,oBAAIsH,UAAW0K,EAAKoO,QAAU,mBAAqB,GAAnD,SAAwDpO,EAAKe,OAC7D,oCAAOf,EAAKiB,SACZ,oBAAI3L,UAAU,kBAAd,SAAiCoF,EAAInK,OACrC,oBAAI+E,UAAU,kBAAd,SAAiC6G,EAAM5L,OACvC,oBAAI+E,UAAU,kBAAd,SAAiC5E,EAAOH,OACxC,6BACE,mBAAG+E,UAAU,kCClCN,SAASoZ,GAAT,GAAkD,IAAD,IAAnB7a,EAAmB,EAAnBA,MAAOmB,EAAY,EAAZA,SAC5CmI,EAAUhD,IAChB,EAAkCtJ,oBAAS,GAA3C,mBAAO8d,EAAP,KAAkBC,EAAlB,KAEMC,EAAiB,WACjBhb,EAAMib,SAAWjb,EAAMgT,aACzB7R,EAAS,2BACJnB,GADG,IAENkb,UAAU,KAEZH,GAAa,IACJD,GACTC,GAAa,IAUjB,OANAnc,qBAAU,WACHoB,EAAMib,SAAYjb,EAAMgT,aAC3B+H,GAAa,KAEd,CAAC/a,EAAMib,QAASjb,EAAMgT,cAGvB,sBAAKvR,UAAU,MAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,uBAAOA,UAAU,OAAOsI,QAAQ,OAAhC,kCAGA,uBACEpI,KAAK,OACLF,UAAU,8BACVG,YAAY,iBACZzG,GAAG,OACH2D,MAAK,UAAEkB,EAAMib,eAAR,QAAmB,GACxBvY,UAAU,KACVrB,SAAU,gBAAavC,EAAb,EAAGmD,OAAUnD,MAAb,OACRqC,EAAS,2BAAKnB,GAAN,IAAaib,QAASnc,EAAMzB,kBAEtC6E,OAAQ8Y,EACR5P,WAAY,kBAAqB,UAArB,EAAGC,KAA6B2P,QAIhD,sBAAKvZ,UAAU,iBAAf,UACE,uBAAOsI,QAAQ,OAAf,uBACA,yBACEtI,UAAU,8BACV3C,MAAK,UAAEkB,EAAMgT,mBAAR,QAAuB,GAC5B3R,SAAU,gBAAavC,EAAb,EAAGmD,OAAUnD,MAAb,OACRqC,EAAS,2BAAKnB,GAAN,IAAagT,YAAazU,SAASO,OAE7CoD,OAAQ8Y,EACRvV,UAAWqV,EAPb,UAUE,0DACCxR,EAAQN,UAAUtN,KAAI,SAACyN,GAAD,OACrB,wBAAqBrK,MAAOqK,EAAIhO,GAAhC,SACGgO,EAAIzM,MADMyM,EAAIhO,aAOtB2f,GACC,qBAAKrZ,UAAU,wBAAf,SACE,wBAAQA,UAAU,oBAAlB,0BC7DK,SAAS0Z,KACtB,IAAMzb,EAAe,CACnBub,QAAS,GACTjI,YAAa,GACb7L,MAAO,GACP+T,UAAU,EACVJ,WAAW,EACXlE,WAAW,EACXQ,YAAY,GAERgE,EAAQrU,IACd,EAA0B/J,mBAAS,eAAK0C,IAAxC,mBAAOM,EAAP,KAAcmB,EAAd,KACA,EAA4BnE,mBAAS,MAArC,mBAAO0d,EAAP,KAAeW,EAAf,KA4EA,OAvBAzc,qBAAU,WAER,IAAIkc,GAAY,EACVQ,EAAatb,EAAMmH,MAAM5G,QAC7B,SAACuD,GAAD,OAAOA,EAAE3I,IAAM2I,EAAEnF,WAAamF,EAAEoJ,MAAQpJ,EAAEsJ,OAAStJ,EAAEsJ,OAAStJ,EAAEmV,QAG7D9U,QAAQnE,EAAMib,WACjBH,GAAY,GAGTQ,EAAW1f,SACdkf,GAAY,GAGV9a,EAAM8a,YAAcA,GACtB3Z,EAAS,2BACJnB,GADG,IAEN8a,iBAGH,CAAC9a,EAAMmH,MAAOnH,EAAMib,UAGrB,qCACE,qBAAKxZ,UAAU,MAAM8D,MAAO,CAAEC,OAAQ,SAAtC,SACE,qBAAK/D,UAAU,SAAf,SACE,sBAAKA,UAAU,iCAAf,UACE,qBAAKA,UAAU,cAAf,SACE,oBAAIA,UAAU,iCAAd,8CAKF,sBAAKA,UAAU,YAAf,UACE,cAAC,GAAD,CAAazB,MAAOA,EAAOmB,SAAUA,IAEpCnB,EAAMkb,UACL,wBAAOzZ,UAAU,iBAAjB,UACE,gCACE,+BACE,yCACA,6CACA,sCACA,wCACA,2CACA,uCACA,qCACA,6BAAK,UAGT,gCACGzB,EAAMmH,MAAMzL,KAAI,SAACyQ,GAAD,OACf,cAAC,GAAD,CACEA,KAAMA,EAENuO,OAAQA,EACR1H,YAAahT,EAAMgT,aAFd7G,EAAKhR,eASrB6E,EAAMkb,UACL,qBAAKzZ,UAAU,yBAAf,SACE,sBAAKA,UAAU,YAAf,UACE,yBACEA,UAAU,eACV8Z,IAAI,0BACJ7X,QAAS,kBAAMvC,EAAS,2BAAKnB,GAAN,IAAa4W,WAAW,MAHjD,UAKE,mBAAGnV,UAAU,qBALf,cAOA,yBACEA,UAAU,oBACV8Z,IAAI,0BACJ7X,QAAS,kBAAMvC,EAAS,eAAKzB,KAH/B,UAKE,mBAAG+B,UAAU,oBALf,eAOA,yBACEA,UAAU,kBACViC,QAvIA,WAChBrK,OAAOqM,KAAKC,KAAK,CACfE,MAAO,UACP2V,KAAK,oDAAD,OAAsDxb,EAAMib,QAAQ9gB,cAApE,+DACJyL,KAAM,WACNI,kBAAkB,EAClBC,kBAAmB,UACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YACN,GAAgB,WADO,EAAd4L,QAEP,OAAO,EAKT,IAFA,IAAMe,EAAK,aAAOnH,EAAMmH,OAEfrD,EAAI,EAAGA,EAAIqD,EAAMvL,OAAQkI,IAChCqD,EAAMrD,GAAGmX,QAAUjb,EAAMib,QACzB9T,EAAMrD,GAAGkP,YAAchT,EAAMgT,mBACtB7L,EAAMrD,GAAGwW,aACTnT,EAAMrD,GAAGyW,eACTpT,EAAMrD,GAAG3I,UACTgM,EAAMrD,GAAGoV,KAGlB/X,EAAS,2BACJnB,GADG,IAENoX,YAAY,KAGdgE,EACGlU,eAAeC,GACf3M,MAAK,SAACC,GACLpB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,UACP5E,KAAM,kCACN2E,KAAM,UACNG,MAAO,OAGTnL,QAAQkD,IAAI,qBAAsBqJ,GAClChG,EAAS,CACPsa,WAAY,GACZX,WAAW,EACXI,UAAU,EACV/T,MAAO,QAGVzM,OAAM,SAACC,GAAD,OAASC,QAAQC,MAAM,yBAA0BF,EAAII,gBAwFhD0K,UAAWzF,EAAM8a,UAHnB,UAKE,mBAAGrZ,UAAU,qBALf,kBAYJzB,EAAMoX,YAAcpX,EAAM4W,YAC1B,qBAAKnV,UAAU,UAAf,SACE,mBAAGA,UAAU,2CAMtBzB,EAAM4W,WACL,cAAC,GAAD,CACE5D,YAAahT,EAAMgT,YACnB4G,aAAc,kBAAMzY,EAAS,2BAAKnB,GAAN,IAAa4W,WAAW,MACpDkD,UAAW,SAAC3N,GACV,IAAMhF,EAAK,aAAOnH,EAAMmH,OACPA,EAAM5G,QACrB,SAACuD,GAAD,OAAOA,EAAEhJ,OAASqR,EAAKrR,MAAQgJ,EAAEnF,YAAcwN,EAAKxN,aAGzC/C,QACXhB,QAAQkD,IAAI,6BACZqJ,EAAM6P,SAAQ,SAAClT,GACTA,EAAEhJ,OAASqR,EAAKrR,MAAQgJ,EAAEnF,YAAcwN,EAAKxN,YAC/CmF,EAAEoJ,MAAQf,EAAKe,KACfpJ,EAAEyW,SAAWzW,EAAEyW,cAInB3f,QAAQkD,IAAI,8BACZqJ,EAAMnJ,KAAKmO,IAGbkP,EAAUlP,EAAKhR,IACf+P,YAAW,kBAAMmQ,EAAU,QAAO,KAClCla,EAAS,2BAAKnB,GAAN,IAAamH,MAAOA,EAAOyP,WAAW,WCrL1D,IAAM8E,GAAiB,CACrBpR,KAAM,EACNrB,QAAS,aACTC,MAAO,OACPyB,OAAQ,GACRX,UAAW,GACX3B,SAAU,GACVC,MAAO,GACPwB,KAAM,SAGO,SAASxD,GAAM1F,GAC5B,MAA0B5D,mBAAS,CACjC0M,MAAO,GACP6P,KAAM,GACNvQ,UAAW,GACXpJ,SAAU,GACV+G,QAAS+U,KALX,mBAAO1b,EAAP,KAAcmB,EAAd,KAOMuO,EAAaiM,IACbC,EAAWC,IACXC,ECrCO,WACb,IAAMC,EAAG,uCAAG,WAAOpV,GAAP,eAAAlJ,EAAA,yDACLkJ,EADK,yCACW,MADX,cAGJtO,EAAM4C,EAAO,SAAU,KAAM0L,GAHzB,SAKGvO,EAAIC,EAAK,OACnBmC,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,qDACAF,EAAII,SAGC,QAbD,mFAAH,sDAiBT,MAAO,CACLghB,ODkBaC,GACP7gB,EAAOyF,EAAM+D,MAAMC,OAAnBzJ,GAEF8gB,EAAmB,uCAAG,sBAAAxe,EAAA,sEACbiS,EACVN,cAAc,CAAEzE,OAAQ,cACxBnQ,MAAK,YAEJ,OAFkB,EAAXJ,KACiBmG,QAAO,SAACsG,GAAD,MAAsB,cAAbA,EAAInK,QAC1B,GAAGwT,QALC,mFAAH,qDAQnBgM,EAAkB,uCAAG,sBAAAze,EAAA,sEACZme,EACVlT,YAAY,CAAE/G,KAAM,EAAGwa,SAAU,IACjC3hB,MAAK,YAGJ,OAHkB,EAAXJ,KACcmG,QAAO,SAACG,GAAD,OAASA,EAAIyH,QAAUzH,EAAIyH,OAAOvM,aAJzC,mFAAH,qDASlBwgB,EAAgB,uCAAG,sBAAA3e,EAAA,sEACVqe,EAAOC,IAAI,CAAE/R,UAAW,MAAOxP,MAAK,YAI/C,OAJ6D,EAAXJ,KAC7BmG,QAAO,SAACG,GAAD,MAAsB,aAAbA,EAAIhE,QAChBhB,KAAI,SAACgF,GAAD,mBAAC,eAAcA,EAAItG,MAAnB,IAAyBe,GAAIuF,EAAIvF,WAHzC,mFAAH,qDAQhBkhB,EAAS,uCAAG,WAAO3S,GAAP,mBAAAjM,EAAA,sEACGwe,IADH,cACV1C,EADU,gBAEQ2C,IAFR,cAEVlT,EAFU,gBAGOoT,IAHP,OAGVxc,EAHU,OAKhBuB,EAAS,2BACJnB,GADG,IAENuZ,OACAvQ,YACAU,QACA9J,cAVc,4CAAH,sDA0Cf,OA5BAhB,qBAAU,WACR,IAAI8K,EAAQ,QAEZ,GAAIvO,EACF,GAAKmhB,MAAMnhB,GAGT,cAAQA,QAAR,IAAQA,OAAR,EAAQA,EAAIkC,eACV,IAAK,aACHqM,EAAQ,WACR,MACF,IAAK,SACHA,EAAQ,SACR,MACF,IAAK,aACHA,EAAQ,YACR,MACF,IAAK,WACHA,EAAQ,UACR,MACF,QACEA,EAAQ,aAhBZA,EAAQ,YAoBZ2S,EAAU3S,KACT,CAACvO,IAGF,cAACkL,EAAaxH,SAAd,CAAuBC,MAAK,2BAAOkB,GAAP,IAAcyJ,IAAKtI,IAA/C,SACE,sBAAKM,UAAU,MAAM8D,MAAO,CAAEgQ,UAAW,SAAzC,UACE,sBAAK9T,UAAU,qBAAf,UACE,yBACEA,UAAU,gCACVE,KAAK,SACL8D,SAA0B,UAAhBzF,EAAM0J,MAChBhG,QAAS,kBAAMvC,EAAS,2BAAKnB,GAAN,IAAa0J,MAAO,gBAJ7C,UAME,mBAAGjI,UAAU,qBANf,oBASA,cAAC4H,EAAD,OAEF,sBAAK5H,UAAU,sBAAf,UACmB,UAAhBzB,EAAM0J,OAAqB,cAACsC,EAAD,IACX,cAAhBhM,EAAM0J,OAAyB,cAAC2J,GAAD,eAASzS,IACxB,aAAhBZ,EAAM0J,OAAwB,cAAC,GAAD,IACd,WAAhB1J,EAAM0J,OAAsB,cAAC,GAAD,IACZ,cAAhB1J,EAAM0J,OAAyB,cAAC6N,GAAD,IACf,YAAhBvX,EAAM0J,OAAuB,cAAC,GAAD,YE/HjC,IAAM6S,GAAiBxgB,wBAAc,MAC/BygB,GAAW,kBAAMvgB,qBAAWsgB,KCE1B,SAASE,GAAT,GAGX,IAAD,cAFDC,iBAEC,SADgB7X,EAChB,EADDC,gBAEMwE,EAAUkT,KACVpgB,EAAUC,cAEhB,OACE,sBAAKoF,UAAU,qBAAf,UACE,yBACEA,UAAU,+BACVE,KAAK,SACL8D,SAAUiX,EACVhZ,QAAS,kBAAMmB,KAJjB,UAME,mBAAGpD,UAAU,qBANf,oBASA,cAAC,EAAD,CAASoE,MAAO6W,EAAY,OAAS,UAArC,SACIA,EA6FA,qCACE,oBAAIjb,UAAU,kBAAd,SACE,oBACEkI,KAAK,QACLlI,UAAU,oDACViC,QAAS,SAACkG,GACRA,EAAEC,iBACFzN,EAAQ4B,KAAK,cACb3E,OAAOC,SAASqQ,KAAO,cAN3B,wBAUE,sBAAMlI,UAAU,iCAAhB,SACE,mBAAGA,UAAU,+BAIlB,UAAA6H,EAAQqT,eAAR,SAAiBxhB,GAChB,oBAAIsG,UAAU,kBAAd,SACE,oBACEkI,KAAK,WACLlI,UAAU,oDAFZ,qBAKE,sBAAMA,UAAU,iCAAhB,SACE,mBAAGA,UAAU,gCAIjB,QAzHN,qCACE,qBAAIA,UAAU,eAAd,UACE,uBAAOsI,QAAQ,OAAf,kBACA,yBACEtI,UAAU,gBACV/E,KAAK,OACLvB,GAAG,OACH2D,MAAK,UAAEwK,EAAQ3C,eAAV,aAAE,EAAiBhF,KACxBN,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACLnD,EAAQP,SAAS0D,EAAOnD,OAE9BwK,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELhF,KAAO2a,MAAMxd,GAAiB,GAARA,QAZ9B,UAiBE,wBAAQA,MAAM,GAAd,yBACA,wBAAQA,MAAM,IAAd,sBACA,wBAAQA,MAAM,IAAd,+BAGJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,UAAf,yBACA,yBACEtI,UAAU,gBACV/E,KAAK,UACLvB,GAAG,UACH2D,MAAK,UAAEwK,EAAQ3C,eAAV,aAAE,EAAiBsC,QACxB5H,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXqH,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELsC,QAAShH,EAAOnD,YAVxB,UAeE,wBAAQA,MAAM,aAAd,+BACA,wBAAQA,MAAM,aAAd,yCAGJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,QAAf,yBACA,yBACEtI,UAAU,gBACV/E,KAAK,QACLvB,GAAG,QACH2D,MAAK,UAAEwK,EAAQ3C,eAAV,aAAE,EAAiBuC,MACxB7H,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXqH,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELuC,MAAOjH,EAAOnD,YAVtB,UAeE,wBAAQA,MAAM,MAAd,sBACA,wBAAQA,MAAM,OAAd,6BAGJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,YAAf,iCACA,yBACEtI,UAAU,gBACV/E,KAAK,YACLvB,GAAG,YACH2D,MAAK,UAAEwK,EAAQ3C,eAAV,aAAE,EAAiBqD,UACxB3I,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXqH,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELqD,UAAWzL,SAAS0D,EAAOnD,aAVnC,UAeE,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,MAAd,mCCrGD,SAAS8d,KAAgB,IAAD,IAC/BtT,EAAUkT,KACVzT,EAAYN,IACZrM,EAAUC,cAChB,EAA0BW,mBAAS,CACjC6f,gBAAiB,GACjBjB,SAAU,GACVjc,KAAM,GACNoM,SAAS,IAJX,mBAAO/L,EAAP,KAAcmB,EAAd,KAQM2b,EAAqB,WACzB3b,EAAS,2BACJnB,GADG,IAEN+L,SAAS,KAGXhD,EACGL,YADH,eAEOY,EAAQ3C,UAEZnM,MAAK,SAACC,GACL0G,EAAS,2BACJnB,GADG,IAEN+L,SAAS,EACT6P,SAAUnhB,EAAIL,KACduF,KAAMlF,EAAIkF,KACVkd,gBAAiB,UAWzB,OANAje,qBAAU,WACJtD,OAAOC,KAAK+N,EAAQ3C,SAAS/K,QAC/BkhB,MAED,CAACxT,EAAQ3C,UAGV,cAAC,EAAD,CACEd,MAAM,qBACND,KAAK,WACLsE,MAAM,SACN6B,QAAS/L,EAAM+L,QACfpM,KAAMK,EAAML,KACZkM,aAAc7L,EAAM6c,gBACpBzS,iBAAkB,SAACE,GACbA,GACFhB,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAEL2D,aAKRU,aAAc,SAACL,GACTA,EACFrB,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELgE,SACAL,KAAM,OAGDhB,EAAQ3C,QAAQgE,QACzBrB,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELgE,OAAQ,GACRL,KAAM,QAKdkB,iBAAkB,SAAC8E,GACbtQ,EAAM6c,gBACRxjB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,YACP5E,KAAM,sCACN2E,KAAM,WACNI,kBAAkB,EAClBC,kBAAmB,WACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,QAcPjF,EAAS,2BACJnB,GADG,IAEN6c,gBAAiB,MAdnB9T,EACGH,cAAc5I,EAAM6c,iBACpBriB,MAAK,WACJsiB,OAEDpiB,OAAM,SAACC,GACNC,QAAQC,MACN,2CACAF,EAAII,eAWd1B,OAAOqM,KAAKC,KAAK,CACfE,MAAO,QACP5E,KAAM,iDACN2E,KAAM,QACNG,MAAO,OAIb0F,eAAgB,WACVzL,EAAM6c,gBACRzgB,EAAQ4B,KAAR,oBAA0BgC,EAAM6c,kBAEhCxjB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,QACP5E,KAAM,iDACN2E,KAAM,QACNG,MAAM,OAIZ4F,WAAY,WACVrC,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAEL2D,KAAM,QA/Fd,SAoGE,wBAAO7I,UAAU,kCAAjB,UACE,gCACE,+BACE,uBACA,wCACA,sCACA,wCACA,0CACA,4CACA,6BAC+B,eAA5B6H,EAAQ3C,QAAQsC,QACb,aACA,qBAIV,4CACGjJ,EAAM4b,gBADT,aACG,EAAgBlgB,KAAI,SAACihB,GAAa,IAAD,EAC1BI,EAASzhB,OAAO0hB,OAAOL,EAAQI,QAAQxc,QAAO,SAAC0c,GAAD,OAAOA,KAE3D,OACE,+BACE,qBAAIxb,UAAU,sBAAd,UACE,uBACEE,KAAK,WACLF,UAAU,wBACV3C,MAAO6d,EAAQxhB,GACfA,GAAI,WAAawhB,EAAQxhB,GAEzBqO,QACExJ,EAAM6c,kBAAoBF,EAAQxhB,GAEpCkG,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACHnD,EAAmBmD,EAAnBnD,MAAO0K,EAAYvH,EAAZuH,QACfrI,EAAS,2BACJnB,GADG,IAEN6c,gBAAiBrT,EAAUjL,SAASO,GAAS,SAInD,uBACEiL,QAAS,WAAa4S,EAAQxhB,GAC9BsG,UAAU,eAGd,oBACEA,UAAU,6CACV8D,MAAO,CAAEoQ,OAAQ,UAAWuH,SAAU,KACtCxZ,QAAS,WACPtH,EAAQ4B,KAAR,oBAA0B2e,EAAQxhB,MAJtC,SAOE,wBACEoK,MAAO,CAAEoQ,OAAQ,WACjBlU,UAAWkb,EAAQQ,MAAQ,cAAgB,GAF7C,UAIGR,EAAQhb,KACP,mBAAGF,UAAU,8BAEb,mBAAGA,UAAU,6BAEdkb,EAAQjgB,KAAKW,mBAGlB,6BAAKsf,EAAQS,IAAMT,EAAQS,IAAM,OACjC,oBACE3b,UAAU,kDACV8D,MAAO,CAAE2X,SAAU,KAFrB,SAIE,iCACE,mBAAGzb,UAAU,iCACb,mBAAGkI,KAAM,UAAYgT,EAAQ/f,MAAO6E,UAAU,aAA9C,mBACGkb,EAAQ/f,aADX,aACG,EAAeS,qBAItB,oBAAIoE,UAAU,mDAAd,SACE,iCACE,mBAAGA,UAAU,8BACZsb,EAAOnhB,OAASmhB,EAAO,GAAK,UAGjC,oBAAItb,UAAU,kBAAd,SACGkb,EAAQU,QAAQ3gB,KAAKW,gBAExB,6BACG6F,IAC6B,eAA5BoG,EAAQ3C,QAAQsC,QACZ0T,EAAQxZ,WACRwZ,EAAQtZ,YACZD,cArEGuZ,EAAQxhB,SA2EpB,UAAC6E,EAAM4b,gBAAP,OAAC,EAAgBhgB,SAChB,6BACE,qBAAI6F,UAAU,yBAAyBoL,QAAQ,IAA/C,UACE,mBAAGpL,UAAU,oBACZ6H,EAAQ3C,QAAQgE,OACf,+CAEE,yBAAQlJ,UAAU,iBAAlB,cACI6H,EAAQ3C,QAAQgE,OADpB,QAFF,yCAQA,4C,wBCpQZ2S,GACJ,kEA0KF,IAAMtQ,GAAW,CACfuQ,uBAzK6B,SAACnjB,GAA0B,IAApBojB,IAAmB,yDAC/C9gB,EAAuCtC,EAAvCsC,KAAME,EAAiCxC,EAAjCwC,MAAO6gB,EAA0BrjB,EAA1BqjB,SAAUC,EAAgBtjB,EAAhBsjB,MAAO/b,EAASvH,EAATuH,KACpCgc,EACE,uLACFC,EAAe,cAEjB,IAAKjc,IAASgc,EAAYtb,KAAK3F,GAQ7B,OAPI8gB,GACFnkB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,eACP5E,KAAM,oCACN2E,KAAM,YAGH,CACLvH,QAAQ,EACR3B,KAAM,QAGV,IAAK4gB,GAAajb,KAAKzF,GASrB,OARI4gB,GACFnkB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,eACP5E,KAAM,mDACN2E,KAAM,YAIH,CACLvH,QAAQ,EACR3B,KAAM,SAIV,IAAImhB,EAAiBD,EAAavb,KAAKqb,GAEvC,IAAK/b,IAASkc,EASZ,OARIL,GACFnkB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,eACP5E,KAAM,mCACN2E,KAAM,YAIH,CACLvH,QAAQ,EACR3B,KAAM,cAIV,IAAMohB,EAAO,IAAI1D,KAAKqD,GACpBM,EAAQ,IAAI3D,KACZ4D,EAAOD,EAAME,cAAgBH,EAAKG,cAEpC,OAAKtc,GAAU8b,KAAYO,EAAO,GAe3B,CACL3f,QAAQ,IAfJmf,GACFnkB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,eACP5E,KAAM,oCACN2E,KAAM,YAIH,CACLvH,QAAQ,EACR3B,KAAM,aAwGVmM,YA/FkB,WAAiD,IAAhDhD,EAA+C,uDAAvC,WAAYzL,EAA2B,uCAArB0T,EAAqB,uCAAd3S,EAAc,uDAAT,KACzD9B,OAAOqM,KAAKC,KAAK,CACfE,MAAO,iBACP5E,KAAM9F,EAAE,2CAC6B0K,EAD7B,iDAE8BA,EAF9B,KAGRD,KAAM,WACNI,kBAAkB,EAClBC,kBAAmB9K,EAAK,aAAe,QACvC+K,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,aAAiB,EAAd4L,SACO0H,GACdA,EAAM,CACJ3S,KACAf,aAiFN8jB,gBA3EsB,SAAC7Z,EAAOjK,EAAM+jB,GACpC,IAAQzhB,EAAgB2H,EAAhB3H,KAAMoC,EAAUuF,EAAVvF,MACV8R,EAAM9R,EAEG,eAATpC,IACFkU,EAAG,2BACExW,EAAKgkB,YADP,IAEDC,QAASvf,KAIbqf,EAAS,2BACJ/jB,GADG,kBAELsC,EAAOkU,MA+DV0N,oBAjD0B,SAACjT,EAAKvM,EAAOyf,GACvC,OAAQlT,GACN,IAAK,OACH,MAAO,CACL3O,KAAMoC,EACNyf,aAAa,2BACRA,GADO,IAEV7hB,MAAM,KAGZ,IAAK,QACH,MAAO,CACLE,MAAOkC,EACPyf,aAAa,2BACRA,GADO,IAEV3hB,OAAO,KAGb,IAAK,WACH,MAAO,CACL6gB,SAAU3e,EACVyf,aAAa,2BACRA,GADO,IAEVd,UAAU,KAGhB,IAAK,YACH,MAAO,CACLe,UAAW1f,EACXyf,aAAa,2BACRA,GADO,IAEVC,WAAW,KAGjB,QACE,OAAO,eACJnT,EAAMvM,KAcb2f,YA5DkB,CAClB/hB,KAAM,GACN0hB,WAAY,CAAEM,OAAQ,GAAIC,UAAW,GAAIN,QAAS,IAClDzhB,MAAO,GACP6gB,SAAU,GACV9b,KAAM,EACNwa,SAAU,EACVyC,OAAQ,UAsDRC,QAVF,SAAiBjiB,GACf,QAAOA,GAAQ0gB,GAAajb,KAAKzF,KAYpBoQ,M,SC3KA,SAAS8R,GAAT,GAAoD,IAAD,gBAuQ5ClD,EAvQ4C,IAA/BxhB,YAA+B,MAAxB,GAAwB,EAApB4H,EAAoB,EAApBA,aAAc+c,EAAM,EAANA,GAC1D,EAA0B/hB,mBAAS,CACjCgiB,kBAAmB,KACnBC,WAAY,OACZC,iBAAkB,KAClBC,UAAW,OACXC,sBAAsB,EACtBC,cAAe,OACfC,SAAU,KAPZ,mBAAOtf,EAAP,KAAcmB,EAAd,KAUMoe,EAAqB,SAAC5d,EAAM7C,GAC3B6C,GAAS7C,IAED,UAAT6C,GAAoBmS,GAAO+K,QAAQ/f,IACrCigB,EAAGrW,YAAY,CACb4B,KAAM,EACNrB,QAAS,aACTC,MAAO,OACPc,UAAW,GACXpN,MAAOkC,EACP0gB,OAAQplB,EAAKe,KACZX,MAAK,SAACC,GAAS,IAAD,MACf0G,EAAS,2BACJnB,GADG,IAENgf,kBAAmB7a,QAAO,UAAC1J,EAAIL,YAAL,aAAC,EAAUwB,QACrCqjB,WAAY,UAACxkB,EAAIL,YAAL,OAAC,EAAUwB,OAAkB,SAAT,UAElCoG,EAAa,YAAD,YAAC,eACR5H,EAAKqlB,WADE,IAEV7iB,OAAQuH,QAAO,UAAC1J,EAAIL,YAAL,aAAC,EAAUwB,cAKnB,SAAT+F,GACFod,EAAGrW,YAAY,CACb4B,KAAM,EACNrB,QAAS,aACTC,MAAO,OACPc,UAAW,GACXtN,KAAMoC,EACN0gB,OAAQplB,EAAKe,KACZX,MAAK,SAACC,GAAS,IAAD,QACf0G,EAAS,2BACJnB,GADG,IAEN4b,SAAU,UAAAnhB,EAAIL,YAAJ,SAAUwB,OAASnB,EAAIL,KAAO,GACxC8kB,iBAAkB/a,QAAO,UAAC1J,EAAIL,YAAL,aAAC,EAAUwB,QACpCujB,UAAW,UAAC1kB,EAAIL,YAAL,OAAC,EAAUwB,OAAkB,SAAT,UAEjCoG,EAAa,YAAD,YAAC,eACR5H,EAAKqlB,WADE,IAEV/iB,MAAOyH,QAAO,UAAC1J,EAAIL,YAAL,aAAC,EAAUwB,gBAyBjC,OAnBAgD,qBAAU,WACR,IAAM8gB,EAAQ,CACZjC,SAAUtZ,QAAQjB,MAASyc,KAAKvlB,EAAKqjB,SAAU,QAAU,GACzDpb,KAAMa,MAASyc,KAAKvlB,EAAKqjB,SAAU,SAGjCiC,EAAMjC,WAAazd,EAAMof,uBAC3Bje,EAAS,2BACJnB,GADG,IAENof,qBAAsBM,EAAMjC,SAC5B4B,cAAeK,EAAMjC,SAAW,OAAS,YAE3Czb,EAAa,YAAD,YAAC,eACR5H,EAAKqlB,WADE,IAEVhC,SAAUiC,EAAMjC,eAGnB,CAACrjB,EAAKsC,KAAMtC,EAAKwC,MAAOxC,EAAKqjB,WAG9B,qCACE,sBAAKhc,UAAU,MAAf,UACE,sBAAKA,UAAU,aAAf,UACE,qDACA,yBACEA,UAAU,gBACV/E,KAAK,OACLoC,MAAK,UAAE1E,EAAKuH,YAAP,QAAe,GACpBN,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRD,EAAa,OAAQzD,SAAS0D,EAAOnD,SALzC,UAQE,wBAAQA,MAAM,IAAd,qBACA,wBAAQA,MAAM,IAAd,6BAGH1E,EAAKuH,KACJ,sBAAKF,UAAU,4CAAf,UACE,uBACEE,KAAK,WACLjF,KAAK,WACL+E,UAAU,uBACV+H,QAAO,UAAEpP,EAAK+hB,gBAAP,SACP9a,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRD,EAAa,WAAYC,EAAOuH,UAElCrO,GAAG,sBAEL,uBACE4O,QAAQ,oBACRtI,UAAU,sCAFZ,SAIE,gEAGF,KACJ,sBAAKA,UAAU,aAAf,UACE,wCACA,uBACEE,KAAK,OACLF,UAAU,4CACVG,YAAY,WACZlF,KAAK,MACLqF,aAAY,UAAE3H,EAAKwlB,WAAP,QAAc,GAC1Bve,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRD,EAAa,MAAOC,EAAOnD,MAAM3E,gBAEnCsI,UAAU,WAIZrI,EAAKuH,MACL,sBAAKF,UAAU,aAAf,UACE,8CACA,yBACEA,UAAU,gBACV/E,KAAK,SACLoC,MAAK,UAAE1E,EAAKwkB,cAAP,QAAiB,GACtBvd,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBD,EAAa,SAAUC,EAAOnD,QAJ1D,UAME,wBAAQA,MAAM,OAAd,oBACA,wBAAQA,MAAM,SAAd,4BAKR,sBAAK2C,UAAU,MAAf,UACE,sBAAKA,UAAU,+BAAf,UACE,qDACkB,sBAAMA,UAAU,cAAhB,kBAElB,uBACEE,KAAK,OACLF,UAAS,0DAAqDzB,EAAMmf,WACpEvd,YAAY,mBACZlF,KAAK,OACLqF,aAAY,UAAE3H,EAAKsC,YAAP,QAAe,GAC3B2E,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRD,EAAa,OAAQC,EAAOnD,MAAMzB,gBAEpC6E,OAAQ,gBAAGD,EAAH,EAAGA,OAAH,OACNsd,EAAmB,OAAQtd,EAAOnD,MAAMzB,gBAE1CwiB,UAAW,YACG,WADU,EAAVxU,KAEVlK,EAAS,2BACJnB,GADG,IAEN4b,SAAU,UAKhBxhB,EAAKsC,MACL,gCACE,sBAAM+E,UAAU,cAAhB,uCAIH,UAAAzB,EAAM4b,gBAAN,SAAgBhgB,SAAU,UAAAxB,EAAKsC,YAAL,eAAWd,QAAS,IAAMxB,EAAKe,IAuF9CygB,EAtFK5b,EAAM4b,SAwF7B,qBACEna,UAAU,+DACV8D,MAAO,CACLua,OAAQ,KACRxU,IAAK,SACLsJ,MAAO,OACPmL,UAAW,QANf,SASE,oBAAIte,UAAU,aAAd,SACGma,EAASlgB,KAAI,SAACihB,GAAa,IAAD,EACzB,OACE,qBAAIlb,UAAU,gCAAd,UACE,mBAAGA,UAAU,kCACb,sBAAMA,UAAU,oDAAhB,mBACGkb,EAAQjgB,YADX,aACG,EAAcW,kBAHgCsf,EAAQxhB,YAnGzD,QAGN,sBAAKsG,UAAU,aAAf,UACE,2DAC4B,sBAAMA,UAAU,cAAhB,kBAE5B,uBACEE,KAAK,QACLF,UAAS,yDAAoDzB,EAAMif,YACnErd,YAAY,wBACZlF,KAAK,QACLqF,aAAY,UAAE3H,EAAKwC,aAAP,QAAgB,GAC5ByE,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRD,EAAa,QAASC,EAAOnD,MAAMzB,gBAErC6E,OAAQ,gBAAGD,EAAH,EAAGA,OAAH,OAAgBsd,EAAmB,QAAStd,EAAOnD,WAE3D1E,EAAKwC,OACL,gCACE,sBAAM6E,UAAU,cAAhB,uCAIHrH,EAAKwC,QAAUkX,GAAO+K,QAAQzkB,EAAKwC,QAClC,gCACE,sBAAM6E,UAAU,cAAhB,2CAIHzB,EAAMgf,mBAC8B,mBAA5Bhf,EAAMgf,mBACX,gCACE,sBAAMvd,UAAU,cAAhB,yDAONrH,EAAKuH,KAuCH,KAtCF,sBAAKF,UAAU,aAAf,UACE,yDACsB,sBAAMA,UAAU,cAAhB,kBAEtB,cAAC,KAAD,CACEA,UAAS,4BAAuBzB,EAAMqf,eACtCW,OAAO,KACPC,SAAU,IAAI7F,KAAKhgB,EAAKqjB,SAASvZ,OAAO,eACxCgc,WAAW,aACXC,QAAS,IAAI/F,KACbgG,gBAAgB,uBAChBC,SAAU,SAACvC,GACT,GAAIA,EAAM,CACRA,EAAOA,EAAKwC,mBAAmB,SAC/B,IAAM7C,EAAWva,IAAO4a,EAAM,cAE1BL,EAAS8C,WACXve,EAAa,WAAYyb,KAI/Bpc,SAAU,SAACyc,GACT,GAAIA,EAAM,CACRA,EAAOA,EAAKwC,mBAAmB,SAC/B,IAAM7C,EAAWva,IAAO4a,EAAM,cAE1BL,EAAS8C,WACXve,EAAa,WAAYyb,QAK/Bzd,EAAMof,sBACN,gCACE,sBAAM3d,UAAU,cAAhB,gDCvQD,SAAS+e,GAAT,GAA0C,IAAD,MAAtBpmB,EAAsB,EAAtBA,KAAM4H,EAAgB,EAAhBA,aACtC,OACE,qCACE,sBAAKP,UAAU,MAAf,UACGrH,EAAKqmB,eACJ,gCACE,qDAGF,uBAEF,sBAAKhf,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,oBAGjB,uBACEE,KAAK,OACLF,UAAU,+BACVG,YAAY,iBACZ9C,MAAK,UAAE1E,EAAKqmB,sBAAP,QAAyB,GAC9Bpf,SAAU,YAAgB,IAAbY,EAAY,EAAZA,OACXrH,QAAQkD,IAAI,qBAAsBmE,EAAOnD,OACzCkD,EAAa,iBAAkBC,EAAOnD,MAAMzB,qBAIjDjD,EAAKsmB,qBACJ,gCACE,8CAGF,uBAEF,sBAAKjf,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,8BAGjB,uBACEE,KAAK,OACLF,UAAU,+BACVG,YAAY,UACZG,aAAY,UAAE3H,EAAKsmB,4BAAP,QAA+B,GAC3Crf,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRD,EAAa,uBAAwBC,EAAOnD,MAAMzB,qBAIvDjD,EAAKumB,iBACJ,gCACE,gDAGF,uBAEF,sBAAKlf,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,8BAGjB,uBACEE,KAAK,OACLF,UAAU,+BACVG,YAAY,YACZG,aAAc3H,EAAKumB,iBAAmBvmB,EAAKumB,iBAAmB,GAC9Dtf,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRD,EAAa,mBAAoBC,EAAOnD,MAAMzB,wBAKtD,sBAAKoE,UAAU,MAAf,UACGrH,EAAKwmB,cACJ,gCACE,6CAGF,uBAEF,sBAAKnf,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,0BAGjB,uBACEE,KAAK,OACLF,UAAU,+BACVG,YAAY,SACZG,aAAc3H,EAAKwmB,cAAgBxmB,EAAKwmB,cAAgB,GACxDvf,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRD,EAAa,gBAAiBC,EAAOnD,MAAMzB,qBAIhDjD,EAAKymB,YACJ,gCACE,oDAGF,uBAEF,sBAAKpf,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,0BAGjB,uBACEE,KAAK,OACLF,UAAU,eACVG,YAAY,gBACZG,aAAY,UAAE3H,EAAKymB,mBAAP,QAAsB,GAClCxf,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRD,EAAa,cAAeC,EAAOnD,MAAMzB,2BCnHxC,SAASyjB,GAAT,GAAyC,IAAvB1mB,EAAsB,EAAtBA,KAAM4H,EAAgB,EAAhBA,aAgBrC,OAfApD,qBAAU,WAAO,IAAD,EACR8gB,EAAQvb,QACZ,CAAC/J,EAAK2mB,cAAe3mB,EAAK4mB,WAAY5mB,EAAK6mB,cAAc1gB,QACvD,SAACmd,GAAD,OAA4B,KAAjBA,EAAM9hB,UACjBA,QAGA8jB,KAAK,UAAKtlB,EAAKqlB,iBAAV,aAAK,EAAgB1C,SAC5B/a,EAAa,YAAD,YAAC,eACR5H,EAAKqlB,WADE,IAEV1C,OAAQ2C,OAGX,CAACtlB,EAAK2mB,cAAe3mB,EAAK4mB,WAAY5mB,EAAK6mB,eAG5C,qCACE,qBAAKxf,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,0DACA,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,qBAGjB,uBACEE,KAAK,MACLF,UAAU,eACVG,YAAY,iBACZc,UAAU,KACV5D,MAAO1E,EAAK2mB,cACZ1f,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACNqa,MAAMra,EAAOnD,QAChBkD,EAAa,gBAAiBC,EAAOnD,aAK5C1E,EAAK2mB,eAA+C,KAA9B3mB,EAAK2mB,cAAcnlB,QACxC,gCACE,sBAAM6F,UAAU,cAAhB,0CAKR,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,iEACA,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,qBAGjB,uBACEE,KAAK,MACLF,UAAU,eACVG,YAAY,iBACZc,UAAU,KACV5D,MAAO1E,EAAK4mB,WACZ3f,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACNqa,MAAMra,EAAOnD,QAChBkD,EAAa,aAAcC,EAAOnD,kBAO9C,qBAAK2C,UAAU,MAAf,SACE,sBAAKA,UAAU,aAAf,UACE,yDACA,sBAAKA,UAAU,cAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,qBAGjB,uBACEE,KAAK,MACLF,UAAU,eACVG,YAAY,iBACZc,UAAU,KACV5D,MAAO1E,EAAK6mB,aACZ5f,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACNqa,MAAMra,EAAOnD,QAChBkD,EAAa,eAAgBC,EAAOnD,qBFnFtDoiB,0BAAe,KAAMC,MGLrB,IA+BeC,GA/Bc,SAACxgB,GAC5B,IAAQygB,EAAUzgB,EAAVygB,MACR,OACE,wBAAO5f,UAAU,YAAjB,UACE,gCACE,+BACE,oCACA,uCACA,uCACA,iDAGJ,gCACG4f,EAAM3lB,KAAI,SAAC4lB,GACV,OACE,+BACE,mCAAMA,EAAKnmB,MACX,oCAAOmmB,EAAKC,MAAMzK,QAAQ,MAC1B,mCAAMwK,EAAKE,UACX,qBAAI/f,UAAU,gBAAd,UACE,mBAAGA,UAAU,sBACZyB,IAAOoe,EAAKne,YAAYC,eANpBke,EAAKnmB,aChBX,SAASsmB,GAAT,GAA6C,IAAxBC,EAAuB,EAAvBA,UAAWC,EAAY,EAAZA,SACrCC,EAAgDF,EAAhDE,UAAWC,EAAqCH,EAArCG,MAAO1Z,EAA8BuZ,EAA9BvZ,OAAQ2Z,EAAsBJ,EAAtBI,OAAQ9Y,EAAc0Y,EAAd1Y,UAClC7F,EAA6Cwe,EAA7Cxe,WAAYka,EAAiCsE,EAAjCtE,QAAS0E,EAAwBJ,EAAxBI,QAAS1e,EAAese,EAAfte,WAEtC,OACE,sBAAK5B,UAAU,MAAf,UACG0G,EACC,qBAAK1G,UAAU,MAAf,SACE,sBAAKA,UAAU,sBAAf,UACE,sBAAKA,UAAU,QAAf,UACE,6BAAK0G,IAEL,0CAEF,qBAAK1G,UAAU,OAAf,SACE,mBAAGA,UAAU,0BAEf,oBAAGkI,KAAK,WAAWlI,UAAU,2BAA7B,iBACM,mBAAGA,UAAU,sCAIrB,KAEHuH,EACC,qBAAKvH,UAAU,MAAf,SACE,sBAAKA,UAAU,sBAAf,UACE,sBAAKA,UAAU,QAAf,UACE,6BAAKuH,IAEL,+CAEF,qBAAKvH,UAAU,OAAf,SACE,mBAAGA,UAAU,sBAEf,oBAAGkI,KAAK,WAAWlI,UAAU,2BAA7B,iBACM,mBAAGA,UAAU,sCAIrB,KAEHmgB,EACC,qBAAKngB,UAAU,MAAf,SACE,sBAAKA,UAAU,uBAAf,UACE,sBAAKA,UAAU,QAAf,UACE,6BAAKmgB,IAEL,2CAEF,qBAAKngB,UAAU,OAAf,SACE,mBAAGA,UAAU,wBAEf,oBAAGkI,KAAK,WAAWlI,UAAU,2BAA7B,iBACM,mBAAGA,UAAU,sCAIrB,KAEHogB,EACC,qBAAKpgB,UAAU,MAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,sBAAKA,UAAU,QAAf,UACE,6BAAKogB,IAEL,4CAEF,qBAAKpgB,UAAU,OAAf,SACE,mBAAGA,UAAU,2BAEf,oBAAGkI,KAAK,WAAWlI,UAAU,2BAA7B,iBACM,mBAAGA,UAAU,sCAIrB,KAEHqgB,EACC,qBAAKrgB,UAAU,MAAf,SACE,sBAAKA,UAAU,uBAAf,UACE,sBAAKA,UAAU,QAAf,UACE,6BAAKqgB,IAEL,2CAEF,qBAAKrgB,UAAU,OAAf,SACE,mBAAGA,UAAU,6BAEf,oBAAGkI,KAAK,WAAWlI,UAAU,2BAA7B,iBACM,mBAAGA,UAAU,sCAIrB,KAEH0B,GACC,qBAAK1B,UAAU,MAAf,SACE,sBAAKA,UAAU,uBAAf,UACE,sBAAKA,UAAU,QAAf,UACE,6BACGyB,MAASyc,KAAKxc,EAAY,SAAW,EAClCA,EAAWe,OAAO,aAClB,aAGN,8CAEF,qBAAKzC,UAAU,OAAf,SACE,mBAAGA,UAAU,sBAEf,mBAAGkI,KAAK,WAAWlI,UAAU,2BAA7B,SACGyB,MAASyc,KAAKtc,EAAY,SAAW,EAArC,sBACkBA,EAAWa,OAAO,cACjC,6BAMXmZ,GACC,qBAAK5b,UAAU,MAAf,SACE,sBAAKA,UAAU,uBAAf,UACE,sBAAKA,UAAU,wBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+B4b,IAE/B,kDAEF,qBAAK5b,UAAU,OAAf,SACE,mBAAGA,UAAU,kBAEf,oBACEkI,KAAK,WACLlI,UAAU,yDAFZ,yBAIesgB,aCtI3B,IA2BeC,GA3Be,SAACphB,GAC7B,IAAQuH,EAAWvH,EAAXuH,OACR,OACE,wBAAO1G,UAAU,YAAjB,UACE,gCACE,+BACE,wCACA,iDAGJ,gCACG0G,EAAOzM,KAAI,SAAC4M,GACX,OACE,+BACE,oBAAI7G,UAAU,iBAAd,SAAgC6G,EAAM5L,OACtC,qBAAI+E,UAAU,gBAAd,UACE,mBAAGA,UAAU,sBACZyB,IAAOoF,EAAMnF,YAAYC,eAJrBkF,EAAMnN,aChBrB8mB,GAAqB,SAACtkB,GAC1B,OAAQA,GACN,KAAK,EACH,MAAO,aACT,KAAK,EACH,MAAO,cACT,KAAK,EACH,MAAO,aACT,KAAK,EACH,MAAO,YACT,KAAK,EACH,MAAO,YACT,QACE,MAAO,aAgHPukB,GAAmB,SAACC,GAAW,IAAD,EAC1B/nB,EAAOnB,KAAKC,MAAL,UAAWL,aAAaC,QAAQ,qBAAhC,QAAiD,IAM9D,OAJKsB,EAAK0nB,SACR1nB,EAAK0nB,OAAS,IAGTK,EAAQ/nB,EAAK0nB,OAAS1nB,GAY/BgoB,GAAsB,SAACjnB,EAAI4jB,GAOrBA,GAAIA,KAsBG/R,GAZE,CACfiV,sBACAI,eAnJqB,SAAC1kB,GACtB,OAAQA,GACN,KAAK,EACH,OACE,sBAAM8D,UAAU,wCAAhB,SACGwgB,GAAmBtkB,KAG1B,KAAK,EACL,KAAK,EACH,OACE,sBAAM8D,UAAU,0CAAhB,SACGwgB,GAAmBtkB,KAG1B,KAAK,EACH,OACE,sBAAM8D,UAAU,uCAAhB,SACGwgB,GAAmBtkB,KAG1B,KAAK,EACH,OACE,sBAAM8D,UAAU,4CAAhB,SACGwgB,GAAmBtkB,KAG1B,QACE,OACE,sBAAM8D,UAAU,uCAAhB,SACGwgB,GAAmBtkB,OAsH5B2kB,kBAxGwB,SAACpZ,EAAOvC,EAAS0G,GACzC,GAAInE,EAAM/N,GACR,OAAI+N,EAAMqZ,QACRlpB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,eACP5E,KAAM,sCACN2E,KAAM,aAED,GAELsD,EAAMsZ,MACRnpB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,eACP5E,KAAM,sDACN2E,KAAM,aAED,IAGTvM,OAAOqM,KAAKC,KAAK,CACf1E,KAAK,yCAAD,OAAwCiI,EAAM/N,GAA9C,KACJyK,KAAM,WACNI,kBAAkB,EAClB0G,mBAAoB,OACpBzG,kBAAmB,WACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YACN,IADuB,EAAd4L,SACOiH,EAMd,OALAA,EAAQ,CACNlS,GAAI+N,EAAM/N,GACVwL,YAEF/L,QAAQkD,IAAI,oCAAsCoL,EAAM/N,KACjD,MAGJ,IAoETsnB,gBAhEsB,SAACtnB,EAAIf,EAAMuM,EAASmH,EAAO4U,GACjDrpB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,iBACP5E,KAAM9F,EAAE,kDACoCA,EADpC,KAEJ,4CACJyK,KAAM,WACNI,kBAAkB,EAClBC,kBAAmB9K,EAAK,aAAe,QACvC+K,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,aAAiB,EAAd4L,SACO0H,IACdA,EAAM,CACJ1T,OACAe,KACAwL,YAEE+b,GAAQA,IACZN,GAAoBhoB,EAAK6b,iBA8C7BiM,oBACAS,iBAjCmB,SAACvoB,GAClB,IAAMwoB,EAAQV,KACC,2BACVU,GADU,IAEbd,OAAQc,EAAMd,OAAOvhB,QAAO,SAAC4L,GAAD,OAAUA,EAAKhR,KAAOf,EAAKe,QAG7C2mB,OAAO9jB,KAAK5D,IA2B1BgoB,uBACAS,eAhBiB,SAAC1nB,GAAQ,IAAD,EAErBf,EADY8nB,KACCJ,OAAOvhB,QAAO,SAAC4L,GAAD,OAAUA,EAAKhR,KAAOA,KAGnD,iBAAOf,EAAK,UAAZ,QAAkB,IAYpB0oB,cAtHoB,CACpB,aACA,cACA,aACA,YACA,cChBaC,GArCe,SAACniB,GAC7B,IAAQkhB,EAAWlhB,EAAXkhB,OACR,OACE,wBAAOrgB,UAAU,YAAjB,UACE,gCACE,+BACE,oCACA,2CACA,sCACA,wCACA,iDAGJ,gCACGqgB,EAAOpmB,KAAI,SAACwN,GACX,OACE,+BACE,mCAAMA,EAAM/N,MACZ,6BAAK+N,EAAM8Z,cAAN,WAA0B9Z,EAAM8Z,eAAkB,OACvD,6BAAK9Z,EAAMsZ,KAAN,WAAiBtZ,EAAMsZ,MAAS,OACrC,oBAAI/gB,UAAU,iBAAd,SACE,sBAAMA,UAAU,wBAAhB,SACGqS,GAAOmO,mBAAmB/Y,EAAMvL,YAGrC,qBAAI8D,UAAU,gBAAd,UACE,mBAAGA,UAAU,sBACZyB,IAAOgG,EAAM/F,YAAYC,eAXrB8F,EAAM/N,aCjBZ,SAAS8nB,GAAKriB,GAC3B,MAIIA,EAHFihB,aADF,MACU,GADV,IAIIjhB,EAFFsiB,iBAFF,SAGsBC,EAClBviB,EADFwiB,mBAGF,EAA4BpmB,mBAAS,IAArC,mBAAOsT,EAAP,KAAe+S,EAAf,KAEA,OACE,wBAAO5hB,UAAU,YAAjB,UACE,gCACE,+BACE,oBAAI6hB,MAAM,QACV,oBAAIA,MAAM,MAAV,mBACA,oBAAIA,MAAM,MAAV,wBACA,oBAAIA,MAAM,MAAV,yBAGJ,kCACIzB,EAAMjmB,OAOJ,KANF,6BACE,qBAAIiR,QAAQ,IAAIpL,UAAU,cAA1B,UACE,mBAAGA,UAAU,4BADf,wBAMHogB,EAAMnmB,KAAI,SAACgF,GACV,OACE,qBAEEe,UACEyB,IAAO,IAAIkX,MAAQmJ,OAAOrgB,IAAOxC,EAAIyC,YAAa,OAC9C,eACA,GALR,UAQE,6BACE,qBAAK1B,UAAU,iBAAf,SACG0hB,EACC,qCACE,uBACExhB,KAAK,WACLjF,KAAM,QAAUgE,EAAIvF,GACpBA,GAAI,QAAUuF,EAAIvF,GAClB4G,aAAcrB,EAAIvF,GAClBkG,SAAU,YAAgB,EAAbY,OACAuH,SACT6Z,EAAU3iB,EAAIvF,IACdgoB,EAAoBziB,IAEpB2iB,EAAU,KAGd5d,UAAWyd,EACX1Z,QAAS8G,IAAW5P,EAAIvF,KAE1B,uBAAO4O,QAAS,QAAUrJ,EAAIvF,QAE9B,SAGR,oBAAImoB,MAAM,MAAV,SACE,uBAAM7hB,UAAU,OAAhB,cAAyBf,EAAIvF,QAE/B,qBAAIsG,UAAU,gBAAd,UACE,mBAAGA,UAAU,sBACZyB,IAAOxC,EAAIyC,YAAYC,aAE1B,6BACG1C,EAAI/C,OACH,uBAAM8D,UAAU,sBAAhB,UACE,mBAAGA,UAAU,iBADf,gBAIA,uBAAMA,UAAU,wBAAhB,UACE,mBAAGA,UAAU,qBADf,iBA7CCf,EAAIvF,aChCR,SAAS8nB,GAAT,GAAoD,IAAD,IAAnCO,mBAAmC,aAAd3B,aAAc,MAAN,GAAM,EAChE,OACE,sBAAKpgB,UAAU,OAAf,UACE,sBAAKA,UAAU,YAAf,UACE,qBAAIA,UAAU,mCAAd,UACE,mBAAGA,UAAU,8BADf,cAICogB,EAAMjmB,OACL,cAACqnB,GAAD,CACEC,WAAW,EACXrB,MAAOA,EACPuB,mBAAoB,SAACK,OAIvB,qBAAKhiB,UAAU,wBAAf,SACE,+BACE,mBAAGA,UAAU,4BADf,iDAOL+hB,GACC,qBAAK/hB,UAAU,yBAAf,SACE,qBAAKA,UAAU,YAAf,SACE,wBAAQA,UAAU,oBAAlB,0BCFGiY,OA3Bf,YAII,IAAD,IAHD7T,aAGC,MAHO,kBAGP,EAFDtN,EAEC,EAFDA,KACcohB,EACb,EADDC,aAKA,OACE,qBAAKnY,UAAU,gBAAgB8U,SAAS,KAAxC,SACE,qBAAK9U,UAAU,qCAAqCmC,KAAK,WAAzD,SACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,kDAAd,SACGoE,IAEH,wBAAQlE,KAAK,SAASF,UAAU,QAAQiC,QAX9B,WACdiW,GAAeA,KAUX,SACE,sBAAM,cAAY,OAAlB,uBAGJ,qBAAKlY,UAAU,aAAf,SAA6BlJ,YCFjCmH,GAAe,CACnBvE,GAAI,EACJuB,KAAM,GACNkjB,IAAK,GACLhB,OAAQ,OACRhiB,MAAO,GACP+E,KAAM,EACNwa,SAAU,EACVsB,SAAUva,MACV6d,cAAe,GACfC,WAAY,GACZC,aAAc,GACd7D,IAAK,GACLqD,eAAgB,GAChBC,qBAAsB,GACtBC,iBAAkB,GAClBC,cAAe,GACfC,YAAa,GACbnoB,KAAM,CACJkpB,UAAW,GACXzZ,OAAQ,GACRub,YAAa,GACb5B,OAAQ,GACRD,MAAO,IAETH,UAAW,CACTE,UAAW,EACXC,MAAO,EACP1Z,OAAQ,EACRa,UAAW,EACX8Y,OAAQ,GAEVH,SAAU,CACRxe,WAAY,GACZE,WAAY,GACZsgB,WAAY,GACZtG,QAAS,GACT0E,QAAS,MAEXtC,UAAW,CACT/iB,MAAM,EACNE,OAAO,EACP6gB,UAAU,EACVV,QAAQ,GAEV1X,SAAU,GACV0G,SAAS,GAMI,SAAS6X,GAAWhjB,GAAQ,IAAD,IAkbjBijB,EAjbf1oB,EAAOyF,EAAM+D,MAAMC,OAAnBzJ,GACiB0J,EAAwCjE,EAAzDkE,gBAAR,EAAiElE,EAAtBgW,iBAA3C,SACM7N,EAAYN,IAClB,EAA8BzL,mBAAS0C,IAAvC,mBAAOid,EAAP,KAAgBmH,EAAhB,KACA,EAIInH,EAHFjkB,KAAQkpB,EADV,EACUA,UAAWzZ,EADrB,EACqBA,OAAQub,EAD7B,EAC6BA,YAAa5B,EAD1C,EAC0CA,OAAQD,EADlD,EACkDA,MAChDH,EAEE/E,EAFF+E,UACAC,EACEhF,EADFgF,SAEIvlB,EAAUC,cAGV0nB,EAAmB,SAAC1Y,EAAKvM,GACxBuM,GAEDsR,EAAQtR,KAASvM,GAIrBglB,EAAW,2BACNnH,GADK,kBAEPtR,EAAMvM,MAiGLklB,EAAmB,WACvB,OAAKrH,EAAQjgB,QAGRigB,EAAQ/f,OAIX+f,EAAQoE,cAAcnlB,OAAS,IAC/B+gB,EAAQqE,WAAWplB,OAAS,IAC5B+gB,EAAQsE,aAAarlB,OAAS,KA0ClC,OAZAgD,qBAAU,WACJzD,IACF2oB,EAAW,2BACNnH,GADK,IAER5Q,SAAS,KAEXhD,EAAUJ,WAAWpK,SAASpD,IAAKX,MAAK,SAACJ,IAgN/C,SAAqBA,EAAMkY,GACzB,GAAIlY,EAAM,CAAC,IAAD,gDACFqjB,EAAWva,IAAM,UAAC9I,EAAKunB,gBAAN,aAAC,EAAelE,UACjCM,EAAQ7a,MACRyc,EAAO5B,EAAM4B,KAAKlC,EAAU,QAElCnL,EAAQ,CACNnX,GAAIf,EAAKe,GACTuB,KAAI,UAAEtC,EAAKsC,YAAP,aAAE,EAAWW,cACjBuiB,IAAG,UAAExlB,EAAKwlB,WAAP,aAAE,EAAUzlB,cACfykB,OAAQ,UAAAxkB,EAAKunB,gBAAL,SAAe/C,OAAf,UAAwBxkB,EAAKunB,gBAA7B,aAAwB,EAAe/C,OAAS,OACxDhiB,MAAK,UAAExC,EAAKwC,aAAP,aAAE,EAAYS,cACnBsE,KAAMvH,EAAKuH,KACXwa,SAAU/hB,EAAK+hB,SACfsB,SAAUkC,EAAO,EAAIlC,EAAWM,EAChCgD,cAAa,UAAE3mB,EAAK2iB,cAAP,aAAE,EAAakH,QAC5BjD,WAAU,UAAE5mB,EAAK2iB,cAAP,aAAE,EAAamH,KACzBjD,aAAY,UAAE7mB,EAAK2iB,cAAP,aAAE,EAAaoH,OAC3B/G,IAAG,UAAEhjB,EAAKgjB,WAAP,QAAc,EACjBqD,eAAc,UAAErmB,EAAKgqB,eAAP,aAAE,EAAcC,OAAOhnB,cACrCqjB,qBAAoB,UAAEtmB,EAAKgqB,eAAP,aAAE,EAAcE,aAAajnB,cACjDsjB,iBAAgB,UAAEvmB,EAAKgqB,eAAP,aAAE,EAAc9qB,SAAS+D,cACzCujB,cAAa,UAAExmB,EAAKgqB,eAAP,aAAE,EAAcpkB,MAAM3C,cACnCwjB,YAAW,UAAEzmB,EAAKgqB,eAAP,aAAE,EAAcG,IAAIlnB,cAC/B3E,KAAM,CACJkpB,UAAWxnB,EAAKwnB,UAChBzZ,OAAQ/N,EAAK+N,OACbub,YAAatpB,EAAKspB,YAClB5B,OAAQ1nB,EAAK0nB,OACbD,MAAOznB,EAAKynB,OAEdH,UAAW,CACTE,UAAWxnB,EAAKoqB,gBAChB3C,MAAOznB,EAAKqqB,YACZtc,OAAQ/N,EAAKsqB,aACb1b,UAAW5O,EAAKuqB,gBAChB7C,OAAQ1nB,EAAKwqB,cAEfjD,SAAU,CACRxe,WAAY/I,EAAK+I,WAAaD,IAAO9I,EAAK+I,YAAcD,MACxDG,WAAYjJ,EAAKiJ,WAAaH,IAAO9I,EAAKiJ,YAAcH,MACxDygB,WAAU,UAAEvpB,EAAKupB,kBAAP,QAAqB,GAC/BtG,QAAO,oBAAEjjB,EAAKijB,eAAP,aAAE,EAAc5gB,SAASY,qBAAzB,QAA0C,GACjD0kB,QAAO,oBAAE3nB,EAAK2nB,eAAP,aAAE,EAActlB,SAASY,qBAAzB,QAA0C,MAEnDoiB,UAAW,CACT/iB,MAAM,UAAAtC,EAAKsC,YAAL,eAAWd,QAAS,EAC1BgB,MAAOkX,GAAO+K,QAAQzkB,EAAKwC,OAC3B6gB,SAAUtZ,QAAQjB,MAASyc,KAAT,UAAcvlB,EAAKunB,gBAAnB,aAAc,EAAelE,SAAU,QAAU,GACnEV,OAAQ5Y,QACN7I,OAAO0hB,OAAP,UAAc5iB,EAAK2iB,cAAnB,QAA6B,IAAIxc,QAC/B,SAACmd,GAAD,OAA4B,KAAjBA,EAAM9hB,UACjBA,SAGNyJ,SAAQ,UAAEjL,EAAKiL,gBAAP,QAAmB,GAC3B0G,SAAS,KAvQPzG,CAAYlL,EAAM0pB,SAGrB,CAAC3oB,IAGF,qCACGwhB,EAAQxhB,GACP,cAACsmB,GAAD,CAAWC,UAAWA,EAAWC,SAAUA,IACzC,KAEJ,qBAAKlgB,UAAU,MAAf,SACE,sBAAKA,UAAU,YAAf,UACGkgB,EAASgC,WACR,sBAAKliB,UAAU,sBAAf,UACE,qBAAIA,UAAU,gBAAd,UACE,mBAAGA,UAAU,4BADf,iBAIA,2EACmCkb,EAAQoF,eAD3C,aACmC,EAAiBrlB,KADpD,MAC6D,IAC1DwG,IAAOyZ,EAAQgH,YAAYzf,OAAO,cAGrC,KACJ,sBAAKzC,UAAU,gCAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,yBAAd,UACE,mBAAGA,UAAU,6BACZkb,EAAQxhB,GACP,oDAEE,sBAAMsG,UAAU,uBAAhB,SAAwCkb,EAAQxhB,QAGlD,kEAIN,sBAAKsG,UAAU,YAAf,UACE,sBAAKA,UAAU,MAAf,UACE,oBAAIA,UAAU,0DAAd,8BAGA,cAACqd,GAAD,CACE1kB,KAAMuiB,EACN3a,aAAc+hB,EACdhF,GAAIhW,OAGR,sBAAKtH,UAAU,2BAAf,UACE,qBAAIA,UAAU,0DAAd,gCACqB,sBAAMA,UAAU,cAAhB,gBACjBkb,EAAQ8C,UAAU1C,QAClB,uBAAOtb,UAAU,gBAAjB,SACE,sBAAMA,UAAU,cAAhB,mDAMN,cAAC,GAAD,CAAUrH,KAAMuiB,EAAS3a,aAAc+hB,OAEvCpH,EAAQhb,KAmBN,KAlBF,sBAAKF,UAAU,2BAAf,UACE,oBAAIA,UAAU,0DAAd,qCAGA,cAAC,GAAD,CACErH,KAAMuiB,EACNkI,WAAU,UACRlI,EAAQyH,eADA,QACW,CACjBU,MAAO,GACPC,QAAS,GACTC,UAAW,GACXzC,OAAQ,GACR0C,GAAI,IAGRjjB,aAAc+hB,UAKtB,qBAAKtiB,UAAU,cAAf,SACE,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,wBAAwBmC,KAAK,QAA5C,UACE,yBACEnC,UAAU,kBACVE,KAAK,SACL+B,QAAS,WACPtH,EAAQ4B,KAAK,cACb6G,KALJ,UAQE,mBACEpD,UACEkb,EAAQxhB,GACJ,yBACA,oBAGR,iCAASwhB,EAAQxhB,GAAK,SAAW,gBAEnC,yBACEwG,KAAK,SACLF,UAAU,gBACViC,QAAS,kBAzPH,WAAO,IAAD,EACxBtJ,EAAO,CACXe,GAAIwhB,EAAQxhB,GACZuB,KAAMigB,EAAQjgB,KACdkjB,IAAKjD,EAAQiD,IACbhB,OAAQjC,EAAQiC,OAChBhiB,MAAO+f,EAAQ/f,MACf+E,KAAMgb,EAAQhb,KACdwa,SAAUQ,EAAQR,SAClBsB,SAAUd,EAAQc,SAASvZ,OAAO,cAClC6Y,OAAQ,CACNkH,QAAStH,EAAQoE,cACjBmD,KAAMvH,EAAQqE,WACdmD,OAAQxH,EAAQsE,cAElBiE,UAAW,CACTb,OAAQ1H,EAAQ8D,eAChB6D,aAAc3H,EAAQ+D,qBACtBpnB,SAAUqjB,EAAQgE,iBAClB3gB,MAAO2c,EAAQiE,cACf2D,IAAK5H,EAAQkE,cAIjB,aAAIlE,EAAQ8D,sBAAZ,OAAI,EAAwB7kB,OAAQ,CAClC,IAAK+gB,EAAQ+D,qBACX,OAAOrnB,OAAOqM,KAAKC,KAAK,CACtBE,MAAO,YACPD,KAAM,UACN3E,KAAM,4BACN+E,kBAAkB,EAClBC,kBAAmB,KACnBC,iBAAkB,WAClBC,qBAAqB,IAGzB,IAAKwW,EAAQgE,iBACX,OAAOtnB,OAAOqM,KAAKC,KAAK,CACtBE,MAAO,YACPD,KAAM,UACN3E,KAAM,8BACN+E,kBAAkB,EAClBC,kBAAmB,KACnBC,iBAAkB,WAClBC,qBAAqB,IAGzB,IAAKwW,EAAQiE,cACX,OAAOvnB,OAAOqM,KAAKC,KAAK,CACtBE,MAAO,YACPD,KAAM,UACN3E,KAAM,2BACN+E,kBAAkB,EAClBC,kBAAmB,KACnBC,iBAAkB,WAClBC,qBAAqB,IAGzB,IAAKwW,EAAQkE,YACX,OAAOxnB,OAAOqM,KAAKC,KAAK,CACtBE,MAAO,YACPD,KAAM,UACN3E,KAAM,qCACN+E,kBAAkB,EAClBC,kBAAmB,KACnBC,iBAAkB,WAClBC,qBAAqB,IAK3B9M,OAAOqM,KAAKC,KAAK,CACfE,MAAO,YACP5E,KAAM7G,EAAKe,GACP,wCACA,qCACJyK,KAAM,WACNI,kBAAkB,EAClBC,kBAAmB7L,EAAKe,GAAK,aAAe,QAC5C+K,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,iBAEAhM,EAAK8qB,UACZnc,EAAUF,YAAYzO,GAAMI,MAAK,SAACC,GAChC,OAAIA,QAAJ,IAAIA,KAAKU,KACPP,QAAQkD,IAAI,4CAA6CrD,EAAIU,IAC7D0J,IACAzI,EAAQ4B,KAAK,sBAiKYmnB,IACf1f,SA5HdkX,EAAQhb,KACHqiB,MAfLA,MAGCrH,EAAQc,WAGRtZ,QAAQjB,MAASyc,KAAKhD,EAAQc,SAAU,QAAU,GAgIvC,UAME,mBAAGhc,UAAU,qBACZkb,EAAQxhB,GAAK,aAAe,sBAMtCwhB,EAAQ5Q,SACP,qBAAKtK,UAAU,eAAf,SACE,mBAAGA,UAAU,4CAMtBkb,EAAQxhB,GACP,sBAAKsG,UAAU,UAAUtG,GAAG,UAA5B,UACE,sBAAKsG,UAAU,MAAf,WACIkb,EAAQhb,MACR,qBAAKF,UAAU,MAAf,SACE,cAAC,GAAD,CAAWogB,MAAOA,MAIrBD,EAAUhmB,OACT,qBAAK6F,UAAU,MAAf,SACE,qBAAKA,UAAU,OAAf,SACE,sBAAKA,UAAU,YAAf,UACE,qBAAIA,UAAU,8CAAd,UACE,mBAAGA,UAAU,2BADf,aAIA,cAAC,GAAD,CAAW4f,MAAOO,WAItB,KAEHzZ,EAAOvM,OACN,qBAAK6F,UAAU,MAAf,SACE,qBAAKA,UAAU,OAAf,SACE,sBAAKA,UAAU,YAAf,UACE,qBAAIA,UAAU,8CAAd,UACE,mBAAGA,UAAU,0BADf,YAIA,cAAC,GAAD,CAAY0G,OAAQA,WAIxB,KAEHub,EAAY9nB,OACX,qBAAK6F,UAAU,MAAf,SACE,qBAAKA,UAAU,OAAf,SACE,sBAAKA,UAAU,YAAf,UACE,qBAAIA,UAAU,8CAAd,UACE,mBAAGA,UAAU,yBADf,iBAIA,cAAC,GAAD,CAAYqgB,OAAM,OAAE4B,QAAF,IAAEA,IAAe,YAIvC,KAEH5B,EAAOlmB,OACN,qBAAK6F,UAAU,MAAf,SACE,qBAAKA,UAAU,OAAf,SACE,sBAAKA,UAAU,YAAf,UACE,qBAAIA,UAAU,8CAAd,UACE,mBAAGA,UAAU,gCADf,aAIA,cAAC,GAAD,CAAYqgB,OAAM,OAAEA,QAAF,IAAEA,IAAU,YAIlC,QAEL3d,QAAQwY,EAAQtX,SAASzJ,SACxB,qBAAK6F,UAAU,MAAf,SACE,qBAAKA,UAAU,SAAf,SACE,cAAC,EAAD,CAAWrH,KAAMuiB,EAAQtX,kBAK/B,KACHuR,GACC,cAAC,GAAD,CAASre,MAmEQsrB,EAnEc,GAqEnC,gCACE,mBAAGpiB,UAAU,cAAb,gDACA,qBAAKA,UAAU,cAAf,SACE,cAAC,IAAD,CAAMwS,GAAE,uBAAkB4P,GAAWpiB,UAAU,kBAA/C,6BAxEoCmY,aAAc,kBC7a1D,IAAM8B,GAAiB,CACrBpR,KAAM,EACNrB,QAAS,aACTC,MAAO,OACPc,UAAW,IAGE,SAASob,GAAkBxkB,GACxC,MAA0B5D,mBAAS,CACjC2J,QAAS+U,GACTgB,UAAW,OAFb,mBAAO1c,EAAP,KAAcmB,EAAd,KAKQhG,EAAOyF,EAAM+D,MAAMC,OAAnBzJ,GASR,OAPAyD,qBAAU,WACRuC,EAAS,2BACJnB,GADG,IAEN0c,YAAWvhB,OAEZ,CAACA,IAGF,cAACohB,GAAe1d,SAAhB,CAAyBC,MAAK,2BAAOkB,GAAP,IAAcyJ,IAAKtI,IAAjD,SACE,sBAAKM,UAAU,MAAM8D,MAAO,CAACgQ,UAAW,SAAxC,UACE,cAAC,GAAD,CACEmH,UAAW1c,EAAM0c,UACjB5X,gBAAiB,kBACf3D,EAAS,2BACJnB,GADG,IAEN0c,WAAY1c,EAAM0c,gBAII,mBAApB1c,EAAM0c,UACZ,qBAAKjb,UAAU,+BAAf,SACGzB,EAAM0c,UACL,cAAC,GAAD,2BACM9b,GADN,IAEEkE,gBAAiB,kBACf3D,EAAS,2BAAKnB,GAAN,IAAa0c,WAAY1c,EAAM0c,iBAI3C,cAAC,GAAD,MAIJ,uDCpDK,SAAS2I,KAEtB,MAAwBroB,mBAAS,CAC/BsoB,UAAU,EACVnqB,GAAI,EACJuB,KAAM,GACN0nB,QAAS,GACT1G,MAAO,KALT,mBAAOtjB,EAAP,KAAakY,EAAb,KAgBM1S,EAFgB3D,qBAAWuD,GAEFpF,KAAKmG,QAAO,SAAC4L,GAAD,MAAsB,aAAdA,EAAKzP,QA2BtD6oB,EAAoB,SAAC,GAAqB,IAAnB7oB,EAAkB,EAAlBA,KAAMoC,EAAY,EAAZA,MAC3BwT,EAAQ,2BACHlY,GADE,kBAEJsC,EAAOoC,EAAMmQ,WAAW5R,kBAS/B,OACE,sBAAKoE,UAAU,iCAAf,UACE,sBAAKA,UAAU,YAAf,UACE,qBAAIA,UAAU,0BAAd,UACE,mBAAGA,UAAU,sBADf,gBAKCrH,EAAKkrB,SACJ,uBAAM7jB,UAAU,qBAAqB+jB,SAdtB,SAAC5b,GACpBA,EAAEC,kBAaE,UACE,sBAAKpI,UAAU,aAAf,UACE,0DACA,uBACEE,KAAK,OACLC,YAAY,mCACZH,UAAU,eACV/E,KAAK,OACLqF,aAAc3H,EAAKsC,KACnB2E,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsjB,EAAkBtjB,SAGhD,sBAAKR,UAAU,aAAf,UACE,8CACA,uBACEE,KAAK,OACLC,YAAY,sCACZH,UAAU,eACV/E,KAAK,UACLqF,aAAc3H,EAAKgqB,QACnB/iB,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsjB,EAAkBtjB,SAGhD,sBAAKR,UAAU,aAAf,UACE,6CACA,uBACEE,KAAK,QACLC,YAAY,qCACZH,UAAU,eACV/E,KAAK,QACLqF,aAAc3H,EAAKsjB,MACnBrc,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsjB,EAAkBtjB,IAC5CS,UAAW,QAGf,sBAAKjB,UAAU,wBAAf,UACE,wBACEE,KAAK,SACLF,UAAU,eACViC,QAxEO,kBACjB4O,EAAQ,2BACHlY,GADE,IAELkrB,UAAU,EACVnqB,GAAI,EACJuB,KAAM,GACN0nB,QAAS,GACT1G,MAAO,OA8DD,sBAOA,wBAAQ/b,KAAK,SAASF,UAAU,oBAAhC,2BAMJ,qBAAKA,UAAU,mBAAf,SACE,wBAAOA,UAAU,+BAAjB,UACE,gCACE,+BACE,wCACA,2CACA,6BACE,sBAAMA,UAAU,UAAhB,6BAIN,gCACG7B,EAASlE,KAAI,SAACmB,GAAD,YACI,SAAhBA,EAAOH,KACL,+BACA,oBAAI+E,UAAU,kBAAd,SAAiC5E,EAAOzC,KAAKsC,OAC7C,oBAAI+E,UAAU,gCAAd,mBACG5E,EAAOzC,KAAKgqB,eADf,QAC0B,OAE1B,oBAAI3iB,UAAU,aAAd,SACE,wBACEE,KAAK,SACLF,UAAU,8BACViC,QAAS,kBArHJ,SAAC,GAA0B,IAAD,MAAvBvI,EAAuB,EAAvBA,GAAYf,GAAW,EAAnB4iB,OAAmB,EAAX5iB,MACtCkY,EAAQ,2BACHlY,GADE,IAELkrB,UAAU,EACVnqB,KAEAuB,KAAI,UAAEtC,EAAKsC,YAAP,aAAE,EAAWuS,WAAW5R,cAC5B+mB,QAAO,UAAEhqB,EAAKgqB,eAAP,aAAE,EAAcnV,WAAW5R,cAClCqgB,MAAK,UAAEtjB,EAAKsjB,aAAP,aAAE,EAAYzO,WAAW5R,iBA6GCooB,CAAmB5oB,IAHpC,SAKE,mBAAG4E,UAAU,sBAXR5E,EAAO1B,IAed,kBAOhB,qBAAKsG,UAAU,yBAAf,SACE,wBACEA,UAAU,yBACVgE,SAAUrL,EAAKkrB,SACf5hB,QAhHY,kBAAM4O,EAAQ,2BAAKlY,GAAN,IAAYkrB,UAAU,MA6GjD,SAKE,mBAAG7jB,UAAU,uBC7JR,SAASikB,KAEtB,IAAQ3mB,EAAS9C,qBAAWH,GAApBiD,KAEF4mB,EAAkB1sB,KAAKC,MAAML,aAAaC,QAAQ,eAExD,EAA0BkE,mBAAS,CACjC8C,OAAQ6lB,EAAgBpsB,KAAOosB,EAAgBpsB,KAAO,GACtDqsB,QAAUD,EAAgBC,QAAUD,EAAgBC,QAAU,GAC9DhpB,MAAOmC,EAAKnC,MAAQmC,EAAKnC,MAAQ,GACjCF,KAAMqC,EAAKrC,KAAOqC,EAAKrC,KAAO,GAC9BD,SAAUsC,EAAKtC,SAAWsC,EAAKtC,SAAW,GAC1CiB,SAAU,GACVmoB,cAAe,KAPjB,mBAAO7lB,EAAP,KAAcmB,EAAd,KA6BAgE,EAAc,SAACyE,GACb,MAAwBA,EAAE3H,OAAlBvF,EAAR,EAAQA,KAAMoC,EAAd,EAAcA,MACdqC,EAAS,eACNzE,EAAOoC,EAAMzB,iBAIlB,OACE,sBAAKoE,UAAU,MAAM8D,MAAO,CAACC,OAAO,SAApC,UACE,qBAAK/D,UAAU,SAAf,SACE,sBAAKA,UAAU,iCAAf,UACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,uBACA,qCACA,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,sBAGjB,uBACEE,KAAK,OACLF,UAAU,eACVG,YAAY,WACZlF,KAAK,SACLoC,MAAOkB,EAAMF,OACbuB,SAAU8D,OAGd,sBAAK1D,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,wBAGjB,uBACEE,KAAK,OACLF,UAAU,+BACVG,YAAY,uBACZlF,KAAK,UACLoC,MAAOkB,EAAM4lB,QACbvkB,SAAU8D,UAIhB,qBAAK1D,UAAU,yBAAf,SACE,wBACEE,KAAK,SACLF,UAAU,kBACViC,QApEM,WAChB,IAAIiiB,EAAkB1sB,KAAKC,MAAML,aAAaC,QAAQ,eACtD6sB,EAAgBC,QAAU5lB,EAAM4lB,QAChC/sB,aAAayE,QAAQ,aAAcrE,KAAKoB,UAAUsrB,KA8D1C,4BAYN,qBAAKlkB,UAAU,qBAAf,SACE,sBAAKA,UAAU,iCAAf,UACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,qBACA,qCACA,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,kBAGjB,uBACEE,KAAK,OACLF,UAAU,eACVG,YAAY,QACZlF,KAAK,QACLoC,MAAOkB,EAAMpD,MACbyE,SAAU8D,OAGd,sBAAK1D,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,wBAGjB,uBACEE,KAAK,OACLF,UAAU,+BACVG,YAAY,kBACZlF,KAAK,OACLoC,MAAOkB,EAAMtD,KACb2E,SAAU8D,OAGd,uBACA,sBAAK1D,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,0BAGjB,uBACEE,KAAK,OACLF,UAAU,eACVG,YAAY,UACZlF,KAAK,WACLoC,MAAOkB,EAAMvD,SACb4E,SAAU8D,OAGd,sBAAK1D,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,SACE,mBAAGA,UAAU,oBAGjB,uBACEE,KAAK,OACLF,UAAU,eACVG,YAAY,gBACZlF,KAAK,WACLoC,MAAOkB,EAAMtC,SACb2D,SAAU8D,UAIhB,qBAAK1D,UAAU,yBAAf,SACE,wBACEE,KAAK,SACLF,UAAU,kBACViC,QA9II,aA2IN,4BAWN,qBAAKjC,UAAU,+BAAf,SACE,cAAC,GAAD,SC9KD,IAAMqkB,GAAc/pB,wBAAc,MAC5BgqB,GAAQ,kBAAM9pB,qBAAW6pB,KCMvB,SAASzc,GAAT,GAAkD,IAAD,cAA9BqT,EAA8B,EAA9BA,UAAW5X,EAAmB,EAAnBA,gBACrCwE,EAAUyc,KAEVnmB,EAAQ,UADCH,IACSrF,YAAV,aAAG,EAAamG,QAAO,eAACwY,EAAD,uDAAK,GAAL,MAAuB,aAAXA,EAAErc,QAC7CohB,EAAO,UAAAxU,EAAQ3C,eAAR,SAAiBmX,KAAO5a,IAAOoG,EAAQ3C,QAAQmX,MAAQ5a,MAEpE,OACE,sBAAKzB,UAAU,kCAAf,UACE,yBACEA,UAAU,6BACVE,KAAK,SACL8D,SAAUiX,EACVhZ,QAASoB,EAJX,UAME,mBAAGrD,UAAU,qBANf,kBAUA,eAAC,EAAD,CAASoE,MAAM,UAAf,UACE,qBAAIpE,UAAU,eAAd,UACE,uBAAOsI,QAAQ,UAAf,yBACA,yBACEtI,UAAU,eACVtG,GAAG,UACH4G,aAAY,UAAEuH,EAAQ3C,eAAV,aAAE,EAAiBsC,QAC/B5H,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXqH,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELsC,QAAShH,EAAOnD,YATxB,UAcE,wBAAQA,MAAM,aAAd,+BACA,wBAAQA,MAAM,aAAd,yCAGJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,OAAf,mBACA,cAAC,KAAD,CACEtI,UAAS,eACTue,OAAO,KACPC,SAAU,IAAI7F,KAAK0D,EAAK5Z,OAAO,eAC/Bgc,WAAW,aACXC,QAAS,IAAI/F,KACbgG,gBAAgB,uBAChBC,SAAU,SAACvC,GACLA,IACFA,EAAOA,EAAKwC,mBAAmB,UAC/BxC,EAAO5a,IAAO4a,EAAM,eAEXyC,WACPjX,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELmX,KAAMA,EAAK5Z,OAAO,qBAM5B7C,SAAU,SAACyc,GACLA,IACFA,EAAOA,EAAKwC,mBAAmB,UAC/BxC,EAAO5a,IAAO4a,EAAM,eAEXyC,WACPjX,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELmX,KAAMA,EAAK5Z,OAAO,uBAO9B,yBACEvC,KAAK,SACLF,UAAU,wCACViC,QAAS,SAACkG,GACRN,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELmX,KAAM,SARd,UAaE,mBAAGrc,UAAU,sBAbf,qBAiBF,qBAAIA,UAAU,eAAd,UACE,uBAAOsI,QAAQ,QAAf,yBACA,yBACEtI,UAAU,eACVtG,GAAG,QACH2D,MAAK,UAAEwK,EAAQ3C,eAAV,aAAE,EAAiBuC,MACxB7H,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXqH,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELuC,MAAOjH,EAAOnD,YATtB,UAcE,wBAAQA,MAAM,MAAd,sBACA,wBAAQA,MAAM,OAAd,6BAGJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,YAAf,gCACA,yBACEtI,UAAU,eACVtG,GAAG,YACH2D,MAAK,UAAEwK,EAAQ3C,eAAV,aAAE,EAAiBqD,UACxB3I,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXqH,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELqD,UAAW/H,EAAOnD,YAT1B,UAcE,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,MAAd,2BAGJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,SAAf,oBACA,yBACEtI,UAAU,eACVtG,GAAG,SACH2D,MAAK,UAAEwK,EAAQ3C,eAAV,aAAE,EAAiBhJ,OACxB0D,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXqH,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELhJ,OAAQsE,EAAOnD,YATvB,UAcE,wBAAQA,MAAM,GAAd,yBACA,wBAAQA,MAAM,IAAd,6BACA,wBAAQA,MAAM,IAAd,8BAGJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,SAAf,wBACA,yBACEtI,UAAU,+BACVtG,GAAG,SACH2D,MAAK,UAAEwK,EAAQ3C,eAAV,aAAE,EAAiB9J,OACxBwE,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXqH,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAEL9J,OAAQoF,EAAOnD,YATvB,UAcE,wBAAQA,MAAM,MAAd,yBAdF,OAeGc,QAfH,IAeGA,OAfH,EAeGA,EAAUlE,KAAI,SAACmB,GAAD,aACb,wBAAQiC,MAAOjC,EAAO1B,GAAtB,mBACG0B,EAAOzC,YADV,aACG,EAAasC,MADeG,EAAO1B,mBC3LrC,SAAS6qB,KACtB,IAAMC,EAAQ,uCAAG,WAAOtf,GAAP,eAAAlJ,EAAA,yDACVkJ,EADU,yCACM,MADN,cAGTtO,EAAM4C,EAAO,QAAS,KAAM0L,GAHnB,SAKFvO,EAAIC,EAAK,OACnBmC,MAAK,SAACQ,GACL,OAAOA,KAERN,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,sDACAF,EAAII,SAGC,QAfI,mFAAH,sDAoBRmrB,EAAO,uCAAG,WAAO/qB,GAAP,eAAAsC,EAAA,yDACTtC,EADS,0CACE,GADF,cAGR9C,EAAM4C,EAAO,QAASE,GAHd,SAKD/C,EAAIC,EAAK,OACnBmC,MAAK,SAACQ,GACL,OAAOA,EAASZ,QAEjBM,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,gDACAF,EAAII,SAGC,MAfG,mFAAH,sDAoBPorB,EAAU,uCAAG,WAAOhrB,GAAP,eAAAsC,EAAA,yDACZtC,EADY,0CACD,GADC,cAGX9C,EAAM4C,EAAO,QAASE,GAHX,SAKJ/C,EAAIC,EAAK,UACnBmC,MAAK,WACJ,OAAO,KAERE,OAAM,SAACC,GAMN,OALAC,QAAQC,MACN,mDACAF,EAAII,UAGC,KAfM,mFAAH,sDAoBVqrB,EAAQ,uCAAG,WAAOhsB,GAAP,mBAAAqD,EAAA,yDAEVrD,EAFU,oDAGPe,EAAOf,EAAPe,UACDf,EAAKe,IAERA,EANW,wBAOP9C,EAAM4C,EAAO,QAASE,GAPf,SASA/C,EAAIC,EAAK,MAAO+B,GAC1BI,MAAK,SAACC,GACL,OAAOA,EAAIL,QAEZM,OAAM,SAACC,GAEN,OADAC,QAAQC,MAAM,gDACPF,KAfE,+DAkBPtC,EAAM4C,EAAO,SAlBN,UAoBA7C,EAAIC,EAAK,OAAQ+B,GAC3BI,MAAK,SAACC,GACL,OAAOA,EAAIL,QAEZM,OAAM,SAACC,GAEN,OADAC,QAAQC,MAAM,gDACPF,KA1BE,4CAAH,sDA+Bd,MAAO,CACLsrB,WACAC,UACAC,aACAC,YCtFW,SAASC,KAAc,IAAD,QAC7B/c,EAAUyc,KACVO,EAAQN,KACR5pB,EAAUC,cAChB,EAA0BW,mBAAS,CACjCupB,KAAM,GACN5mB,KAAM,GACNoM,SAAS,EACTya,aAAc,KAJhB,mBAAOxmB,EAAP,KAAcmB,EAAd,KAQMslB,EAAkB,WACtBtlB,EAAS,2BACJnB,GADG,IAEN+L,SAAS,KAGXua,EAAML,SAAS3c,EAAQ3C,SAASnM,MAAK,SAACC,GAChCA,EAAIL,MACN+G,EAAS,2BACJnB,GADG,IAENumB,KAAM9rB,EAAIL,KACVuF,KAAMlF,EAAIkF,KACVoM,SAAS,EACTya,aAAc,UAKhB9a,EAAe,SAACgb,GAAU,IAAD,EACf,EAAd,UAAIA,QAAJ,IAAIA,KAAMvrB,GACRmrB,EACGF,SAAS,CACRjrB,GAAIurB,EAAKvrB,GACTwC,QAAS+oB,EAAK/oB,OACdsY,WAAU,UAAEyQ,EAAKC,gBAAP,aAAE,EAAexrB,KAE5BX,MAAK,SAACC,GACL,GAAIA,EAAIU,GAAIsrB,SACP,GAAIhsB,EAAImsB,eAAe,UAAW,CACrC,IAAMC,EAAWvrB,OAAO0hB,OAAOviB,EAAI2Z,QAEnCxZ,QAAQC,MAAM,mCAAoCJ,EAAI2Z,QACtD/a,OAAOqM,KAAKC,KAAK,CACfE,MAAO,cACP5E,KAAM4lB,EAAS,GACfjhB,KAAM,QACNE,mBAAmB,EACnBC,MAAO,eAIV,aAAI/F,EAAMwmB,oBAAV,OAAI,EAAoBrrB,GAAI,CAAC,IAAD,EACjCmrB,EACGF,SAAS,CACRjrB,GAAI6E,EAAMwmB,aAAarrB,GACvBwC,QAASqC,EAAMwmB,aAAa7oB,OAC5BsY,WAAU,UAAEjW,EAAMwmB,aAAaG,gBAArB,aAAE,EAA6BxrB,KAE1CX,MAAK,SAACC,GACL,GAAIA,EAAIU,GAAIsrB,SACP,GAAIhsB,EAAImsB,eAAe,UAAW,CACrC,IAAMC,EAAWvrB,OAAO0hB,OAAOviB,EAAI2Z,QAEnCxZ,QAAQC,MAAM,mCAAoCJ,EAAI2Z,QACtD/a,OAAOqM,KAAKC,KAAK,CACfE,MAAO,cACP5E,KAAM4lB,EAAS,GACfjhB,KAAM,QACNE,mBAAmB,EACnBC,MAAO,eAKfnL,QAAQC,MACN,qCACA6rB,EACA1mB,EAAMwmB,cAERntB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,cACP5E,KAAM,+CACN2E,KAAM,UACNE,mBAAmB,EACnBC,MAAO,OASb,OAJAnH,qBAAU,WACR6nB,MACC,CAACnd,EAAQ3C,UAGV,cAAC,EAAD,CACEd,MAAM,oBACND,KAAK,gBACLsE,MAAM,OACN6B,QAAS/L,EAAM+L,QACfpM,KAAMK,EAAML,KACZkM,aAAY,UAAE7L,EAAMwmB,oBAAR,aAAE,EAAoBrrB,GAClCiP,iBAAkB,SAACE,GACbA,GACFhB,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAEL2D,aAKRU,aAAc,SAACL,GACTA,EACFrB,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELgE,SACAL,KAAM,OAGDhB,EAAQ3C,QAAQgE,QACzBrB,EAAQG,IAAR,2BACKH,GADL,IAEE3C,QAAQ,2BACH2C,EAAQ3C,SADN,IAELgE,OAAQ,GACRL,KAAM,QAKdkB,iBAAkB,WAAO,IAAD,EACtB,UAAIxL,EAAMwmB,oBAAV,OAAI,EAAoBrrB,GACtB9B,OAAOqM,KAAKC,KAAK,CACfE,MAAO,cACP5E,KAAM,gCACN2E,KAAM,WACNI,kBAAkB,EAClBC,kBAAmB,WACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,QAMPjF,EAAS,2BACJnB,GADG,IAENwmB,aAAc,MANhBF,EAAMH,WAAWnmB,EAAMwmB,aAAarrB,IAAIX,MAAK,WAC3CisB,UAUNptB,OAAOqM,KAAKC,KAAK,CACfE,MAAO,QACP5E,KAAM,+CACN2E,KAAM,QACNG,MAAM,OAIZ0F,eAAgB,WAAO,IAAD,EACpB,UAAIzL,EAAMwmB,oBAAV,OAAI,EAAoBrrB,GACtBiB,EAAQ4B,KAAR,sBAA4BgC,EAAMwmB,aAAarrB,KAE/C9B,OAAOqM,KAAKC,KAAK,CACfE,MAAO,QACP5E,KAAM,+CACN2E,KAAM,WAIZ+F,WAAY8a,EACZ/a,aAAcA,EAlFhB,SAoFE,wBAAOjK,UAAU,kCAAjB,UACE,gCACE,+BACE,uBACA,wCACA,wCACA,qCACA,qCACA,qCACA,qCACA,qCACA,oCACA,qCACA,6BACgC,gBAA7B,UAAA6H,EAAQ3C,eAAR,eAAiBsC,SACd,aACA,qBAIV,gCACG,UAAAjJ,EAAMumB,YAAN,SAAY3qB,OACX,6CACGoE,EAAMumB,YADT,aACG,EAAY7qB,KAAI,SAACgrB,GAAU,IAAD,UACzB,OACE,+BACE,qBAAIjlB,UAAU,sBAAd,UACE,uBACEE,KAAK,WACLF,UAAU,wBACVtG,GAAI,QAAUurB,EAAKvrB,GACnBqO,SACE,UAAAxJ,EAAMwmB,oBAAN,eAAoBrrB,MAAOurB,EAAKvrB,GAElCsK,SAAUihB,EAAKnE,SAAL,UAAemE,EAAK5E,cAApB,aAAe,EAAalmB,QACtCyF,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXd,EAAS,2BACJnB,GADG,IAENwmB,aAAcvkB,EAAOuH,QAAUkd,EAAO,SAI5C,uBACE3c,QAAS,QAAU2c,EAAKvrB,GACxBsG,UAAU,eAGd,oBAAIA,UAAU,6CAAd,SACE,mBACEkI,KAAK,QACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACFzN,EAAQ4B,KAAR,sBAA4B0oB,EAAKvrB,MAJrC,SAOE,uBACEsG,UACEilB,EAAK/oB,QAAL,UAAe+oB,EAAK5E,cAApB,OAAe,EAAalmB,OACxB,aACA,sBAJR,UAOE,mBAAG6F,UAAU,6BAPf,UAQGilB,EAAKC,gBARR,aAQG,EAAejqB,KAAKW,qBAI3B,oBACEoE,UAAU,cACV8D,MAAO,CAAEoQ,OAAQ,WACjBjS,QAAS,kBAAMgI,EAAagb,IAH9B,SAKGA,EAAK/oB,OACJ,mBACE8D,UAAU,oCACVoE,MAAM,cAGR,mBACEpE,UAAU,6BACVoE,MAAM,iBAIZ,+BACG6gB,EAAKI,SADR,IACmBJ,EAAKK,YAExB,+BACGL,EAAKM,UADR,IACoBN,EAAKO,aAEzB,+BACGP,EAAKQ,MADR,IACgBR,EAAKS,SAErB,+BACGT,EAAKU,SADR,IACmBV,EAAKW,YAExB,+BACGX,EAAKY,iBADR,IAC2BZ,EAAKa,oBAEhC,+BACGb,EAAKc,KADR,IACed,EAAKe,QAEpB,+BACGf,EAAKgB,SADR,IACmBhB,EAAKiB,YAExB,6BACGzkB,IAC8B,gBAA7B,UAAAoG,EAAQ3C,eAAR,eAAiBsC,SACbyd,EAAKvjB,WACLujB,EAAKrjB,YACTD,cArFGsjB,EAAKvrB,SA4FpB,6BACE,oBAAIsG,UAAU,yBAAyBoL,QAAQ,KAA/C,kDCtTC,SAAS+a,GAAchnB,GAAQ,IAAD,YACrCuE,EAAc,SAACyE,GACnB,MAAuCA,EAAE3H,OAAjCvF,EAAR,EAAQA,KAAMiF,EAAd,EAAcA,KAAM6H,EAApB,EAAoBA,QAAS1K,EAA7B,EAA6BA,MACvB8R,EAAe,aAATjP,EAAsB6H,EAAU1K,EAAMzB,cAElDuD,EAAMinB,cAAcnrB,EAAMkU,IAG5B,OACE,qCACE,sBAAKnP,UAAU,MAAf,UACE,sBAAKA,UAAU,WAAf,UACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,KACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,KACHqO,QAAS5I,EAAMknB,GACfzmB,SAAU8D,IAEZ,wBAAO1D,UAAU,uBAAuBsI,QAAQ,KAAhD,UACE,mBAAGtI,UAAU,mBADf,YAKF,uBACEE,KAAK,OACLjF,KAAK,UACL+E,UAAU,wBACVM,aAAY,UAAEnB,EAAMmnB,eAAR,QAAmB,GAC/B1mB,SAAU8D,EACV6iB,SAAUpnB,EAAMknB,GAAK,GAAK,gBAG9B,sBAAKrmB,UAAU,WAAf,UACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,SACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,SACHqO,QAAS5I,EAAMqnB,OACf5mB,SAAU8D,IAEZ,wBAAO1D,UAAU,uBAAuBsI,QAAQ,SAAhD,UACE,mBAAGtI,UAAU,sBADf,gBAKF,uBACEE,KAAK,OACLjF,KAAK,cACL+E,UAAU,wBACVM,aAAY,UAAEnB,EAAMsnB,mBAAR,QAAuB,GACnC7mB,SAAU8D,EACV6iB,SAAUpnB,EAAMqnB,OAAS,GAAK,gBAGlC,sBAAKxmB,UAAU,WAAf,UACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,QACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,QACHqO,QAAS5I,EAAMunB,MACf9mB,SAAU8D,IAEZ,wBAAO1D,UAAU,uBAAuBsI,QAAQ,QAAhD,UACE,mBAAGtI,UAAU,sBADf,kBAKF,uBACEE,KAAK,OACLjF,KAAK,aACL+E,UAAU,wBACVM,aAAY,UAAEnB,EAAMwnB,kBAAR,QAAsB,GAClC/mB,SAAU8D,EACV6iB,SAAUpnB,EAAMunB,MAAQ,GAAK,gBAGjC,sBAAK1mB,UAAU,WAAf,UACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,MACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,MACHqO,QAAS5I,EAAMynB,IACfhnB,SAAU8D,IAEZ,wBAAO1D,UAAU,uBAAuBsI,QAAQ,MAAhD,UACE,mBAAGtI,UAAU,kBADf,gBAKF,uBACEE,KAAK,OACLjF,KAAK,WACL+E,UAAU,wBACVM,aAAY,UAAEnB,EAAM0nB,gBAAR,QAAoB,GAChCjnB,SAAU8D,EACV6iB,SAAUpnB,EAAMynB,IAAM,GAAK,mBAIjC,sBAAK5mB,UAAU,WAAf,UACE,qBAAKA,UAAU,WAAf,SACE,qBAAIA,UAAU,aAAd,UACE,oBAAIA,UAAU,oEAAd,SACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,UACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,UACHqO,QAAS5I,EAAM2nB,QACflnB,SAAU8D,IAEZ,uBAAO1D,UAAU,uBAAuBsI,QAAQ,UAAhD,0BAKJ,oBAAItI,UAAU,oEAAd,SACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,YACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,YACHqO,QAAS5I,EAAM4nB,UACfnnB,SAAU8D,IAEZ,uBAAO1D,UAAU,uBAAuBsI,QAAQ,YAAhD,4BAKJ,oBAAItI,UAAU,oEAAd,SACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,aACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,aACHqO,QAAS5I,EAAM6nB,WACfpnB,SAAU8D,IAEZ,uBAAO1D,UAAU,uBAAuBsI,QAAQ,aAAhD,0BAKJ,oBAAItI,UAAU,oEAAd,SACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,UACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,UACHqO,QAAS5I,EAAM8nB,QACfrnB,SAAU8D,IAEZ,uBAAO1D,UAAU,uBAAuBsI,QAAQ,UAAhD,+BAOR,qBAAKtI,UAAU,WAAf,SACE,qBAAIA,UAAU,aAAd,UACE,qBAAIA,UAAU,kBAAd,qBAEE,uBACA,sBAAKA,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,YACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,YACHqO,QAAS5I,EAAM+nB,UACftnB,SAAU8D,IAEZ,wBAAO1D,UAAU,uBAAuBsI,QAAQ,YAAhD,UACE,mBAAGtI,UAAU,cADf,mBAKJ,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,YACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,YACHqO,QAAS5I,EAAMgoB,UACfvnB,SAAU8D,IAEZ,wBAAO1D,UAAU,uBAAuBsI,QAAQ,YAAhD,UACE,mBAAGtI,UAAU,cADf,2BAOR,qBAAIA,UAAU,kBAAd,uBAEE,sBAAMA,UAAU,mBAAhB,SACE,uBACEE,KAAK,OACLjF,KAAK,eACLgG,UAAU,KACVjB,UAAU,wBACVM,aAAY,UAAEnB,EAAMioB,oBAAR,QAAwB,GACpCxnB,SAAU8D,SAIhB,qBAAI1D,UAAU,kBAAd,UACE,uBAAOsI,QAAQ,eAAf,wBACA,sBAAKtI,UAAU,MAAf,UACE,qBAAKA,UAAU,SAAf,SACE,uBACEE,KAAK,QACLjF,KAAK,eACL+E,UAAU,iCACVtG,GAAG,eACHsX,IAAI,IACJqW,IAAI,IACJ/mB,aAAY,UAAEnB,EAAMmoB,oBAAR,QAAwB,GACpC1nB,SAAU8D,MAGd,qBAAK1D,UAAU,QAAf,SACE,6BAAKb,EAAMmoB,kCHxO7B7H,0BAAe,KAAMC,M,wCINA6H,G,+MAsDnB7jB,YAAc,SAACyE,GACP,IAAElN,EAASkN,EAAE3H,OAAXvF,KACNoC,EACoB,aAAlB8K,EAAE3H,OAAON,KACLiI,EAAE3H,OAAOuH,QACTI,EAAE3H,OAAOnD,MAAMzB,cACvB,EAAKuD,MAAMqoB,cAAcvsB,EAAMoC,I,6CA3DjC,WAAU,IAAD,QACP,OACE,qCACE,qBAAK2C,UAAU,MAAf,SACE,sBAAKA,UAAU,SAAf,UACE,2DACA,0BACE/E,KAAK,iBACL+E,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAMuoB,sBAAb,QAA+B,GAC3C9nB,SAAU6nB,KAAK/jB,mBAIrB,qBAAK1D,UAAU,WAAf,SACE,sBAAKA,UAAU,SAAf,UACE,sDACA,0BACE/E,KAAK,MACL+E,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAMwoB,WAAb,QAAoB,GAChC/nB,SAAU6nB,KAAK/jB,mBAIrB,qBAAK1D,UAAU,WAAf,SACE,sBAAKA,UAAU,SAAf,UACE,iFACA,0BACE/E,KAAK,OACL+E,UAAU,eACV4nB,KAAK,IACLtnB,aAAY,UAAEmnB,KAAKtoB,MAAM0oB,YAAb,QAAqB,GACjCjoB,SAAU6nB,KAAK/jB,mBAIrB,qBAAK1D,UAAU,WAAf,SACE,sBAAKA,UAAU,SAAf,UACE,iFACA,0BACE/E,KAAK,OACL+E,UAAU,eACV4nB,KAAK,IACLtnB,aAAY,UAAEmnB,KAAKtoB,MAAM2oB,YAAb,QAAqB,GACjCloB,SAAU6nB,KAAK/jB,0B,GA9CmBqkB,aCkEjCC,GAlEc,SAAC7oB,GAAW,IAAD,QAChCuE,EAAc,SAACyE,GACb,IAAElN,EAASkN,EAAE3H,OAAXvF,KACNoC,EACoB,aAAlB8K,EAAE3H,OAAON,KACLiI,EAAE3H,OAAOuH,QACTI,EAAE3H,OAAOnD,MAAMzB,cACvBuD,EAAMqoB,cAAcvsB,EAAMoC,IAG5B,OACE,qCACE,sBAAK2C,UAAU,MAAf,UACE,qBAAKA,UAAU,QAAf,0BACA,qBAAKA,UAAU,QAAf,6BAEF,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,WAAf,UACE,mBAAGA,UAAU,eADf,IACiC,4CAC/B,uBACEE,KAAK,OACLjF,KAAK,iBACLgG,UAAU,KACVjB,UAAU,wBACVM,aAAY,UAAEnB,EAAM8oB,sBAAR,QAA0B,GACtCroB,SAAU8D,OAGd,sBAAK1D,UAAU,QAAf,UACE,mBAAGA,UAAU,eADf,IACiC,8CAC/B,uBACEE,KAAK,OACLjF,KAAK,iBACLgG,UAAU,KACVjB,UAAU,wBACVM,aAAY,UAAEnB,EAAM+oB,sBAAR,QAA0B,GACtCtoB,SAAU8D,OAGd,sBAAK1D,UAAU,WAAf,UACE,mBAAGA,UAAU,cADf,IACgC,4CAC9B,uBACEE,KAAK,OACLjF,KAAK,OACLgG,UAAU,KACVjB,UAAU,eACVM,aAAY,UAAEnB,EAAMgpB,YAAR,QAAgB,GAC5BvoB,SAAU8D,OAGd,sBAAK1D,UAAU,WAAf,UACE,mBAAGA,UAAU,cADf,IACgC,8CAC9B,uBACEE,KAAK,OACLjF,KAAK,OACLgG,UAAU,KACVjB,UAAU,eACVM,aAAY,UAAEnB,EAAMipB,YAAR,QAAgB,GAC5BxoB,SAAU8D,cC1DD2kB,G,+MA+GnB3kB,YAAc,SAACyE,GACP,IAAElN,EAASkN,EAAE3H,OAAXvF,KACNoC,EACoB,aAAlB8K,EAAE3H,OAAON,KACLiI,EAAE3H,OAAOuH,QACTI,EAAE3H,OAAOnD,MAAMzB,cACvB,EAAKuD,MAAMqoB,cAAcvsB,EAAMoC,I,6CApHjC,WAAU,IAAD,YACP,OACE,qCACE,sBAAK2C,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SACE,mDAEF,qBAAKA,UAAU,WAAf,SACE,kEAGJ,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,QAAf,mBACA,qBAAKA,UAAU,QAAf,8BACA,qBAAKA,UAAU,QAAf,2BACA,qBAAKA,UAAU,QAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,UACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,UACHqO,QAAS0f,KAAKtoB,MAAMmpB,QACpB1oB,SAAU6nB,KAAK/jB,cAEjB,wBAAO1D,UAAU,uBAAuBsI,QAAQ,UAAhD,UACE,mBAAGtI,UAAU,cADf,mBAKJ,qBAAKA,UAAU,QAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,UACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,UACHqO,QAAS0f,KAAKtoB,MAAMopB,QACpB3oB,SAAU6nB,KAAK/jB,cAEjB,wBAAO1D,UAAU,uBAAuBsI,QAAQ,UAAhD,UACE,mBAAGtI,UAAU,cADf,wBAMN,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SACE,uBACEE,KAAK,OACLjF,KAAK,SACL+E,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAMqpB,cAAb,QAAuB,GACnC5oB,SAAU6nB,KAAK/jB,gBAGnB,qBAAK1D,UAAU,WAAf,SACE,uBACEE,KAAK,OACLjF,KAAK,UACL+E,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAMspB,eAAb,QAAwB,GACpC7oB,SAAU6nB,KAAK/jB,gBAGnB,qBAAK1D,UAAU,WAAf,SACE,uBACEE,KAAK,OACLjF,KAAK,SACL+E,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAMupB,cAAb,QAAuB,GACnC9oB,SAAU6nB,KAAK/jB,gBAGnB,qBAAK1D,UAAU,WAAf,SACE,uBACEE,KAAK,OACLjF,KAAK,eACL+E,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAMwpB,oBAAb,QAA6B,GACzC/oB,SAAU6nB,KAAK/jB,YACf6iB,SAAUkB,KAAKtoB,MAAMmpB,QAAU,GAAK,eAGxC,qBAAKtoB,UAAU,WAAf,SACE,uBACEE,KAAK,OACLjF,KAAK,eACL+E,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAMypB,oBAAb,QAA6B,GACzChpB,SAAU6nB,KAAK/jB,YACf6iB,SAAUkB,KAAKtoB,MAAMopB,QAAU,GAAK,kBAI1C,qBAAKvoB,UAAU,MAAf,SACE,sBAAKA,UAAU,SAAf,UACE,kDACA,0BACE/E,KAAK,gBACL+E,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAM0pB,qBAAb,QAA8B,GAC1CjpB,SAAU6nB,KAAK/jB,0B,GAvGaqkB,aCArBe,G,+MAiInBplB,YAAc,SAACyE,GACP,IAAElN,EAASkN,EAAE3H,OAAXvF,KACNoC,EACoB,aAAlB8K,EAAE3H,OAAON,KACLiI,EAAE3H,OAAOuH,QACTI,EAAE3H,OAAOnD,MAAMzB,cACvB,EAAKuD,MAAMqoB,cAAcvsB,EAAMoC,I,6CAtIjC,WAAU,IAAD,kBACP,OACE,qCACE,qBAAK2C,UAAU,MAAf,SACE,qBAAKA,UAAU,WAAf,gCAEF,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,QAAf,UACE,mBAAGA,UAAU,cADf,IACgC,4CAC9B,uBACEE,KAAK,OACLjF,KAAK,OACLgG,UAAU,KACVjB,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAM4pB,YAAb,QAAqB,GACjCnpB,SAAU6nB,KAAK/jB,iBAGnB,sBAAK1D,UAAU,QAAf,UACE,mBAAGA,UAAU,cADf,IACgC,8CAC9B,uBACEE,KAAK,OACLjF,KAAK,OACLgG,UAAU,KACVjB,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAM6pB,YAAb,QAAqB,GACjCppB,SAAU6nB,KAAK/jB,oBAIrB,sBAAK1D,UAAU,WAAf,UACE,qBAAKA,UAAU,WAAf,yCACA,qBAAKA,UAAU,WAAf,+DAIF,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,QAAf,UACE,mBAAGA,UAAU,cADf,IACgC,4CAC9B,uBACEE,KAAK,OACLjF,KAAK,SACLgG,UAAU,KACVjB,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAM8pB,cAAb,QAAuB,GACnCrpB,SAAU6nB,KAAK/jB,iBAGnB,sBAAK1D,UAAU,QAAf,UACE,mBAAGA,UAAU,cADf,IACgC,8CAC9B,uBACEE,KAAK,OACLjF,KAAK,SACLgG,UAAU,KACVjB,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAM+pB,cAAb,QAAuB,GACnCtpB,SAAU6nB,KAAK/jB,iBAGnB,sBAAK1D,UAAU,WAAf,UACE,mBAAGA,UAAU,cADf,IACgC,4CAC9B,uBACEE,KAAK,OACLjF,KAAK,UACLgG,UAAU,KACVjB,UAAU,wBACVM,aAAY,UAAEmnB,KAAKtoB,MAAMgqB,eAAb,QAAwB,GACpCvpB,SAAU6nB,KAAK/jB,iBAGnB,sBAAK1D,UAAU,WAAf,UACE,mBAAGA,UAAU,cADf,IACgC,8CAC9B,uBACEE,KAAK,OACLjF,KAAK,UACLgG,UAAU,KACVjB,UAAU,wBACVM,aAAY,UAAEmnB,KAAKtoB,MAAMiqB,eAAb,QAAwB,GACpCxpB,SAAU6nB,KAAK/jB,oBAIrB,qBAAK1D,UAAU,MAAf,SACE,qBAAKA,UAAU,WAAf,oCAEF,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,WAAf,UACE,mBAAGA,UAAU,cADf,IACgC,4CAC9B,uBACA,uBACEE,KAAK,OACLjF,KAAK,QACLgG,UAAU,KACVjB,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAMkqB,aAAb,QAAsB,GAClCzpB,SAAU6nB,KAAK/jB,iBAGnB,sBAAK1D,UAAU,WAAf,UACE,mBAAGA,UAAU,cADf,IACgC,8CAC9B,uBACA,uBACEE,KAAK,OACLjF,KAAK,QACLgG,UAAU,KACVjB,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAMmqB,aAAb,QAAsB,GAClC1pB,SAAU6nB,KAAK/jB,iBAGnB,sBAAK1D,UAAU,WAAf,UACE,mBAAGA,UAAU,cACb,mBAAGA,UAAU,cAFf,IAEgC,0CAC9B,uBACA,uBACEE,KAAK,OACLjF,KAAK,QACLgG,UAAU,KACVjB,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAMoqB,aAAb,QAAsB,GAClC3pB,SAAU6nB,KAAK/jB,2B,GAzHYqkB,aCApByB,G,+MA+FnB9lB,YAAc,SAACyE,GACP,IAAElN,EAASkN,EAAE3H,OAAXvF,KACNoC,EACoB,aAAlB8K,EAAE3H,OAAON,KACLiI,EAAE3H,OAAOuH,QACTI,EAAE3H,OAAOnD,MAAMzB,cACvB,EAAKuD,MAAMqoB,cAAcvsB,EAAMoC,I,6CApGjC,WAAU,IAAD,QACP,OACE,qCACE,sBAAK2C,UAAU,MAAf,UACE,qBAAKA,UAAU,aACf,qBAAKA,UAAU,WAAf,kCAEF,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,WAAf,wBAEE,yBACE/E,KAAK,cACL+E,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAMsqB,mBAAb,QAA4B,GACxC7pB,SAAU6nB,KAAK/jB,YAJjB,UAME,wBAAQrG,MAAM,WAAd,yBACA,wBAAQA,MAAM,gBAAd,8BACA,wBAAQA,MAAM,6BAAd,6CAGA,wBAAQA,MAAM,uBAAd,0CAGA,wBAAQA,MAAM,qBAAd,uCAGA,wBAAQA,MAAM,4BAAd,0CAGA,wBAAQA,MAAM,uBAAd,kCACA,wBAAQA,MAAM,sBAAd,qCAGA,wBAAQA,MAAM,SAAd,6BAGJ,qBAAK2C,UAAU,WAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,uBACE/E,KAAK,YACLiF,KAAK,WACLF,UAAU,uBACVtG,GAAG,YACHqO,QAAS0f,KAAKtoB,MAAMuqB,UACpB9pB,SAAU6nB,KAAK/jB,cAEjB,uBAAO1D,UAAU,uBAAuBsI,QAAQ,YAAhD,4BAKJ,sBAAKtI,UAAU,WAAf,UACE,mBAAGA,UAAU,cADf,IACgC,4CAC9B,uBACEE,KAAK,SACLjF,KAAK,OACL+V,IAAI,IACJqW,IAAI,KACJsC,KAAK,IACL3pB,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAMyqB,YAAb,QAAqB,GACjChqB,SAAU6nB,KAAK/jB,iBAGnB,sBAAK1D,UAAU,WAAf,UACE,mBAAGA,UAAU,cADf,IACgC,8CAC9B,uBACEE,KAAK,SACLjF,KAAK,OACL+V,IAAI,IACJqW,IAAI,KACJsC,KAAK,IACL3pB,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAM0qB,YAAb,QAAqB,GACjCjqB,SAAU6nB,KAAK/jB,oBAIrB,qBAAK1D,UAAU,MAAf,SACE,sBAAKA,UAAU,SAAf,UACE,0DACA,0BACE/E,KAAK,cACL+E,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAM2qB,mBAAb,QAA4B,GACxClqB,SAAU6nB,KAAK/jB,0B,GAvFgBqkB,aCAxBgC,G,+MAgXnBrmB,YAAc,SAACyE,GACb,MAAuCA,EAAE3H,OAAjCvF,EAAR,EAAQA,KAAMiF,EAAd,EAAcA,KAAM7C,EAApB,EAAoBA,MAAO0K,EAA3B,EAA2BA,QACvByf,EAAkB,EAAKroB,MAAvBqoB,cACArY,EAAM9R,EAEG,aAAT6C,IAAqBiP,EAAMpH,GAClB,SAAT7H,IAAiBiP,EAAM9R,EAAMzB,eACpB,WAATsE,IACW,UAATjF,GAA6B,UAATA,EACtBkU,EAAMrS,SAASO,IAGf8R,GADAA,EAAM4B,WAAW1T,IACPgY,QAAQ,GAClBlG,EAAM4B,WAAW5B,KAGjBqY,GAAeA,EAAcvsB,EAAMkU,I,6CA/XzC,WACE,MAoBIsY,KAAKtoB,MApBT,IACEonB,gBADF,SAEEhB,EAFF,EAEEA,UACAC,EAHF,EAGEA,UACAH,EAJF,EAIEA,SACAC,EALF,EAKEA,SACAG,EANF,EAMEA,MACAC,EAPF,EAOEA,MACAC,EARF,EAQEA,SACAC,EATF,EASEA,SACAC,EAVF,EAUEA,iBACAC,EAXF,EAWEA,iBACAC,EAZF,EAYEA,KACAC,EAbF,EAaEA,KACAC,EAdF,EAcEA,SACAC,EAfF,EAeEA,SACA8D,EAhBF,EAgBEA,QACAC,EAjBF,EAiBEA,MACAC,EAlBF,EAkBEA,MAlBF,IAmBEC,0BAnBF,SAsBA,OACE,qCACE,wBAAOnqB,UAAU,QAAjB,UACE,gCACE,+BACE,mCACA,wCACA,0CACA,qCACA,4CACA,kDACA,qCACA,6CAGJ,kCACE,+BACE,+BACE,mBAAGA,UAAU,iBAAiBoE,MAAM,gBACpC,sBAAMpE,UAAU,kBAAhB,wBAEF,qBAAIA,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,WACL+V,IAAI,MACJqW,IAAI,KACJsC,KAAK,MACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVjmB,aAAY,OAAE+kB,QAAF,IAAEA,IAAY,GAC1BzlB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBAAsCqlB,QAAtC,IAAsCA,IAAY,QAEpD,qBAAIrlB,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,YACL+V,IAAI,MACJqW,IAAI,IACJsC,KAAK,MACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVjmB,aAAY,OAAEilB,QAAF,IAAEA,IAAa,GAC3B3lB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBAAsCulB,QAAtC,IAAsCA,IAAa,QAErD,qBAAIvlB,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,QACL+V,IAAI,IACJqW,IAAI,MACJsC,KAAK,IACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVpmB,YAAY,OACZG,aAAcmlB,EAAQ3oB,SAAS2oB,GAAS,GACxC7lB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBAAsCylB,QAAtC,IAAsCA,IAAS,QAEjD,qBAAIzlB,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,WACL+V,IAAI,IACJqW,IAAI,IACJsC,KAAK,MACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVjmB,aAAY,OAAEqlB,QAAF,IAAEA,IAAY,GAC1B/lB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBAAsC2lB,QAAtC,IAAsCA,IAAY,QAEpD,qBAAI3lB,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,mBACL+V,IAAI,IACJqW,IAAI,IACJsC,KAAK,MACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVjmB,aAAY,OAAEulB,QAAF,IAAEA,IAAoB,GAClCjmB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBACG6lB,QADH,IACGA,IAAoB,QAGzB,qBAAI7lB,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,OACL+V,IAAI,KACJqW,IAAI,KACJsC,KAAK,KACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVjmB,aAAY,OAAEylB,QAAF,IAAEA,IAAQ,GACtBnmB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBAAsC+lB,QAAtC,IAAsCA,IAAQ,QAEhD,qBAAI/lB,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,WACL+V,IAAI,IACJqW,IAAI,KACJsC,KAAK,KACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVjmB,aAAY,OAAE2lB,QAAF,IAAEA,IAAY,GAC1BrmB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBAAsCimB,QAAtC,IAAsCA,IAAY,WAGtD,+BACE,+BACE,mBAAGjmB,UAAU,iBAAiBoE,MAAM,kBACpC,sBAAMpE,UAAU,kBAAhB,0BAEF,qBAAIA,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,WACL+V,IAAI,MACJqW,IAAI,KACJsC,KAAK,MACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVjmB,aAAY,OAAEglB,QAAF,IAAEA,IAAY,GAC1B1lB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBAAsCslB,QAAtC,IAAsCA,IAAY,QAEpD,qBAAItlB,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,YACL+V,IAAI,MACJqW,IAAI,IACJsC,KAAK,MACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVjmB,aAAY,OAAEklB,QAAF,IAAEA,IAAa,GAC3B5lB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBAAsCwlB,QAAtC,IAAsCA,IAAa,QAErD,qBAAIxlB,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,QACL+V,IAAI,IACJqW,IAAI,MACJsC,KAAK,IACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVpmB,YAAY,OACZG,aAAcolB,EAAQ5oB,SAAS4oB,GAAS,GACxC9lB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBAAsC0lB,QAAtC,IAAsCA,IAAS,QAEjD,qBAAI1lB,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,WACL+V,IAAI,IACJqW,IAAI,IACJsC,KAAK,MACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVjmB,aAAY,OAAEslB,QAAF,IAAEA,IAAY,GAC1BhmB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBAAsC4lB,QAAtC,IAAsCA,IAAY,QAEpD,qBAAI5lB,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,mBACL+V,IAAI,IACJqW,IAAI,IACJsC,KAAK,MACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVjmB,aAAY,OAAEwlB,QAAF,IAAEA,IAAoB,GAClClmB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBACG8lB,QADH,IACGA,IAAoB,QAGzB,qBAAI9lB,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,OACL+V,IAAI,KACJqW,IAAI,KACJsC,KAAK,KACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVjmB,aAAY,OAAE0lB,QAAF,IAAEA,IAAQ,GACtBpmB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBAAsCgmB,QAAtC,IAAsCA,IAAQ,QAEhD,qBAAIhmB,UAAU,aAAd,UACE,uBACEE,KAAK,SACLjF,KAAK,WACL+V,IAAI,IACJqW,IAAI,KACJsC,KAAK,KACL3pB,UACEumB,EACI,qCACA,4BAENviB,WAAUuiB,EACVjmB,aAAY,OAAE4lB,QAAF,IAAEA,IAAY,GAC1BtmB,SAAU6nB,KAAK/jB,cAEjB,oBAAI1D,UAAU,uBAAd,gBAAsCkmB,QAAtC,IAAsCA,IAAY,iBAKzDiE,GACC,oBAAInqB,UAAU,+BAAd,SACE,qBAAIA,UAAU,kBAAd,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,YAAf,8BAEE,uBACEE,KAAK,OACLjF,KAAK,UACLgG,UAAU,KACVjB,UACEumB,EAAW,wBAA0B,eAEvCviB,WAAUuiB,EACVjmB,aAAY,OAAE0pB,QAAF,IAAEA,IAAW,GACzBpqB,SAAU6nB,KAAK/jB,mBAIrB,sBAAK1D,UAAU,MAAf,UACE,sBAAKA,UAAU,MAAf,UACE,mBAAGA,UAAU,cADf,IACgC,4CAC9B,uBACEE,KAAK,OACLjF,KAAK,QACLgG,UAAU,KACVjB,UACEumB,EAAW,wBAA0B,eAEvCviB,WAAUuiB,EACVjmB,aAAc2pB,GAAgB,GAC9BrqB,SAAU6nB,KAAK/jB,iBAGnB,sBAAK1D,UAAU,MAAf,UACE,mBAAGA,UAAU,cADf,IACgC,8CAC9B,uBACEE,KAAK,OACLjF,KAAK,QACLgG,UAAU,KACVjB,UACEumB,EAAW,wBAA0B,eAEvCviB,WAAUuiB,EACVjmB,aAAc4pB,GAAgB,GAC9BtqB,SAAU6nB,KAAK/jB,gC,GArWkBqkB,aCAhCqC,G,+MAgBnB1mB,YAAc,SAACyE,GACP,IAAElN,EAASkN,EAAE3H,OAAXvF,KACNoC,EACoB,aAAlB8K,EAAE3H,OAAON,KACLiI,EAAE3H,OAAOuH,QACTI,EAAE3H,OAAOnD,MAAMzB,cACvB,EAAKuD,MAAMqoB,cAAcvsB,EAAMoC,I,6CArBjC,WAAU,IAAD,EACP,OACE,qCACE,uBAAOiL,QAAQ,gBAAf,2BACA,0BACErN,KAAK,gBACLvB,GAAG,gBACHsG,UAAU,eACVM,aAAY,UAAEmnB,KAAKtoB,MAAMkrB,qBAAb,QAA8B,GAC1CzqB,SAAU6nB,KAAK/jB,qB,GAVsBqkB,aCiGzCnZ,GAAiB,SAAC3B,GACtB,IAAI5T,EAAO,GAcX,OAbI4T,EAASqd,OACPrd,EAASqd,OAAOA,QAClBjxB,EAAO4T,EAASqd,OAAOA,OAAOpsB,KAAK7E,KACnCA,GAAQ4T,EAASqd,OAAOpsB,KAAK7E,KAC7BA,GAAQ4T,EAAS/O,KAAK7E,OAEtBA,EAAO4T,EAASqd,OAAOpsB,KAAK7E,KAC5BA,GAAQ4T,EAAS/O,KAAK7E,MAGxBA,EAAO4T,EAAS/O,KAAK7E,KAGhBA,GAsEHkxB,GAAkB,CACtBC,gBAvLsB,SAAC5gB,GACvB,MACU,OAARA,GACQ,WAARA,GACQ,UAARA,GACQ,QAARA,GACQ,YAARA,GACQ,gBAARA,GACQ,eAARA,GACQ,aAARA,GACQ,YAARA,GACQ,cAARA,GACQ,eAARA,GACQ,YAARA,GACQ,cAARA,GACQ,cAARA,GACQ,iBAARA,GACQ,iBAARA,EAEO,YAGC,mBAARA,GACQ,QAARA,GACQ,SAARA,GACQ,SAARA,EAEO,kBAGC,mBAARA,GACQ,mBAARA,GACQ,SAARA,GACQ,SAARA,EAEO,UAGC,WAARA,GACQ,YAARA,GACQ,WAARA,GACQ,YAARA,GACQ,iBAARA,GACQ,YAARA,GACQ,iBAARA,EAEO,WAGC,SAARA,GACQ,SAARA,GACQ,WAARA,GACQ,WAARA,GACQ,YAARA,GACQ,YAARA,GACQ,UAARA,GACQ,UAARA,GACQ,UAARA,EAEO,UAGC,gBAARA,GACQ,cAARA,GACQ,SAARA,GACQ,SAARA,GACQ,gBAARA,EAEO,cAGC,aAARA,GACQ,aAARA,GACQ,cAARA,GACQ,cAARA,GACQ,UAARA,GACQ,UAARA,GACQ,aAARA,GACQ,aAARA,GACQ,qBAARA,GACQ,qBAARA,GACQ,SAARA,GACQ,SAARA,GACQ,aAARA,GACQ,aAARA,GACQ,YAARA,GACQ,UAARA,GACQ,UAARA,EAEO,aAEG,kBAARA,EACK,gBAGF,MAyFPgF,kBACA6b,YAvEkB,SAACxd,EAAUoY,EAAUC,EAAUC,EAAWC,GAC5D,IAAMnsB,EAAOQ,OAAOC,KAAKmT,GAAU9S,OAASyU,GAAe3B,GAAY,KAEvE,IAAK5T,EAAM,MAAO,GAElB,IAAIqxB,EAAS,UACXC,EAAS,UAeX,OAbIpF,GAAaF,KACfqF,EAASrF,EAAW,EAAI,IAAM,GAC9BqF,GACErF,EAAShQ,QAAQ,GAAG7H,WAAW7M,QAAQ,IAAK,IAC5C4kB,EAAUlQ,QAAQ,GAAG7H,WAAW7M,QAAQ,IAAK,IAAIA,QAAQ,IAAK,MAE9D6kB,GAAaF,KACfqF,EAASrF,EAAW,EAAI,IAAM,GAC9BqF,GACErF,EAASjQ,QAAQ,GAAG7H,WAAW7M,QAAQ,IAAK,IAC5C6kB,EAAUnQ,QAAQ,GAAG7H,WAAW7M,QAAQ,IAAK,IAAIA,QAAQ,IAAK,KAG3D,CACLtH,OACAuxB,GAAIF,EACJG,GAAIF,IAgDNG,eA5CqB,SAAC5P,GAA4B,IAAnBxhB,EAAkB,uDAAb,EAAG2S,EAAU,uCAC3C0e,EAAY7P,EAAQ8P,SAASlsB,QACjC,SAACmmB,GAAD,OACqD,IAAnDxjB,IAAOwjB,EAAKvjB,YAAYwc,KAAKzc,MAAU,UAAkBwjB,EAAKnE,UAGlE,GAAIiK,EAAU5wB,SAAWT,EAOvB,OANA9B,OAAOqM,KAAKC,KAAK,CACfE,MAAO,WACP5E,KAAM,oCACN2E,KAAM,UAERhL,QAAQC,MAAM,iCAAkC2xB,EAAU5wB,SACnD,EAITvC,OAAOqM,KAAKC,KAAK,CACfE,MAAO,iBACP5E,KAAM9F,EAAE,6CAEJ,4CACJyK,KAAM,WACNI,kBAAkB,EAClBC,kBAAmB9K,EAAK,aAAe,QACvC+K,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,aAAiB,EAAd4L,SACO0H,GACdA,EAAM,CACJ3S,GAAI,EACJf,KAAM,CACJsyB,KAAM/P,EAAQ+P,KACdzW,WAAY0G,EAAQxhB,WAcf6wB,MC1LA,SAASW,GAAmB/rB,GACzC,MAA0B5D,mBAAS,CACjC6oB,cAAe,GACf+G,gBAAiB,GACjBC,gBAAiB,GACjBC,cAAe,EACfC,cAAe,EACfC,cAAe,EACfte,SAAU,GACVue,WAAY,KARd,mBAAOjtB,EAAP,KAAcmB,EAAd,KAUM+rB,EAAY/d,IAEd3B,EAOE5M,EAPF4M,YACA3H,EAMEjF,EANFiF,MACAihB,EAKElmB,EALFkmB,SACAC,EAIEnmB,EAJFmmB,SACAC,EAGEpmB,EAHFomB,UACAC,EAEErmB,EAFFqmB,UACAkG,EACEvsB,EADFusB,iBAGAF,EAOEjtB,EAPFitB,WACAH,EAME9sB,EANF8sB,cACAC,EAKE/sB,EALF+sB,cACAC,EAIEhtB,EAJFgtB,cACAJ,EAGE5sB,EAHF4sB,gBACAC,EAEE7sB,EAFF6sB,gBACAhH,EACE7lB,EADF6lB,cAGEuH,EAAuB,SAACxjB,GAC5B,MAAwBA,EAAE3H,OAAlBvF,EAAR,EAAQA,KAAMoC,EAAd,EAAcA,MACKuuB,EAAmBzsB,EAAlCqoB,cAEJ,OAAQvsB,GACN,IAAK,gBACH,IAAK,IAAM2O,KAAOwa,EAChB,GAAIA,EAAcxa,GAAKlQ,KAAOoD,SAASO,GAAQ,CAC7CqC,EAAS,2BACJnB,GADG,IAEN8sB,cAAevuB,SAASO,GACxBkuB,cAAe,EACfJ,gBAAiB/G,EAAcxa,GAAK6E,KACpC2c,gBAAiB,MAEnB,MAGJ,MACF,IAAK,gBACC/tB,GACFkB,EAAM4sB,gBAAgBlxB,KAAI,SAACmL,GAQzB,OAPIA,EAAI1L,KAAOoD,SAASO,IACtBqC,EAAS,2BACJnB,GADG,IAEN+sB,cAAexuB,SAASO,GACxB+tB,gBAAiBhmB,EAAIqJ,QAGlB,QAGX,MACF,IAAK,gBACHmd,EAAe9uB,SAASO,IACxB,MAEF,QACEqC,EAAS,2BACJnB,GADG,kBAELtD,EAAO6B,SAASO,QAoBnBuQ,EAAW,uCAAG,WAAOlU,GAAP,SAAAsC,EAAA,6DACdtC,GACF+xB,EAAU7d,YAAYlU,GAAIX,MAAK,SAACqM,GAC1BA,EAAI1L,GACNgG,EAAS,2BACJnB,GADG,IAEN0O,SAAU7H,KAGZjM,QAAQC,MAAM,oBAAqBgM,MATvB,kBAcX,IAdW,2CAAH,sDAgBXuI,EAAa,uCAAG,sBAAA3R,EAAA,sDACpByvB,EACG9d,cAAc,CACbsB,WAAY,OACZ/F,OAAQ,SACRzB,MAAO,OAER1O,MAAK,YAAoB,IAAXqM,EAAU,EAAhBzM,KACP+G,EAAS,2BACJnB,GADG,IAEN6lB,cAAehf,EAAI,GAAGqJ,WAVR,2CAAH,qDAwCnB,OAzBAtR,qBAAU,WACJ4O,EACF6B,EAAY7B,GAEZ4B,MAED,CAAC5B,IAEJ5O,qBAAU,WACR,GAAIoB,EAAM0O,SAASvT,GAAI,CACrB,IAAMf,EAAO0Z,GAAOoY,YAClBlsB,EAAM0O,SACNoY,EACAC,EACAC,EACAC,GAGF9lB,EAAS,2BACJnB,GADG,IAENitB,WAAY7yB,QAGf,CAAC4F,EAAM0O,WAGR,qBAAKjN,UAAU,+CAAf,SACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,8BAAd,SAA6CoE,KAC3C2H,GACA,qCACGqY,EAAcjqB,OACb,sBAAK6F,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,oBAEF,yBACE/E,KAAK,gBACL+E,UAAU,gBACVM,aAAY,OAAE+qB,QAAF,IAAEA,IAAiB,GAC/BzrB,SAAU+rB,EAJZ,UAME,wBAAQtuB,MAAM,IAAd,sCACC+mB,EAAcnqB,KAAI,SAACmL,GAClB,OACEA,EAAIlH,MACJkH,EAAIlH,KAAKsY,UAAY6O,GACrBA,GAAYjgB,EAAIlH,KAAKuY,UACrBrR,EAAIlH,KAAKsY,UAAY8O,GACrBA,GAAYlgB,EAAIlH,KAAKuY,UACrBrR,EAAIlH,KAAKqY,KAAOgP,GAChBngB,EAAIlH,KAAKqY,KAAOiP,EAGd,wBAAQnoB,MAAO+H,EAAI1L,GAAnB,SACG0L,EAAInK,MADqBmK,EAAI1L,IAItB,cAIlB,KAEH2xB,GAAiBF,EAAgBhxB,OAChC,sBAAK6F,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,wBAEF,yBACE/E,KAAK,gBACL+E,UAAU,gBACVM,aAAY,OAAEgrB,QAAF,IAAEA,IAAiB,GAC/B1rB,SAAU+rB,EAJZ,UAME,wBAAQtuB,MAAM,IAAd,0CACC8tB,EAAgBlxB,KAAI,SAACmL,GAOjB,IAAD,EANF,SACEA,EAAIlH,MACJkH,EAAIlH,KAAKsY,UAAY6O,GACrBA,GAAYjgB,EAAIlH,KAAKuY,UACrBrR,EAAIlH,KAAKsY,UAAY8O,GACrBA,GAAYlgB,EAAIlH,KAAKuY,WAGnB,wBAAQpZ,MAAK,UAAE+H,EAAI1L,UAAN,QAAY,GAAzB,SACG0L,EAAInK,MAD2BmK,EAAI1L,aAQ9C,KAEH2xB,GAAiBC,GAAiBF,EAAgBjxB,OACjD,sBAAK6F,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAhB,2BAEF,yBACE/E,KAAK,gBACL+E,UAAU,gBACVM,aAAY,OAAEirB,QAAF,IAAEA,IAAiB,GAC/B3rB,SAAU+rB,EAJZ,UAME,wBAAQtuB,MAAM,IAAd,6CACC+tB,EAAgBnxB,KAAI,SAACmL,GAAS,IAAD,EAC5B,OACE,wBAAQ/H,MAAK,UAAE+H,EAAI1L,UAAN,QAAY,GAAzB,SACG0L,EAAInK,MAD2BmK,EAAI1L,aAO5C,QAIPG,OAAO0hB,OAAOiQ,GAAYrxB,OACzB,qCACGqxB,EAAWnyB,KAAOmyB,EAAWZ,KAC9BY,EAAWnyB,KAAOmyB,EAAWX,GAC3B,oBAAG7qB,UAAU,YAAb,UACE,0CADF,KACyBwrB,EAAWnyB,KAAOmyB,EAAWZ,MAGtD,sBAAK5qB,UAAU,gBAAf,UACE,sBAAKA,UAAU,MAAf,UACE,kDACA,uBAFF,IAEUwrB,EAAWnyB,KAAOmyB,EAAWZ,MAEvC,sBAAK5qB,UAAU,MAAf,UACE,oDACA,uBAFF,IAEUwrB,EAAWnyB,KAAOmyB,EAAWX,SAK1Ca,GACC,mBAAG1rB,UAAU,uBAAb,SACE,yBACEA,UAAU,eACViC,QAAS,SAACkG,GACRA,EAAEC,iBACFsjB,EAAiB,CACfryB,KAAMmyB,EAAWnyB,KACjBuxB,GAAIY,EAAWZ,GACfC,GAAIW,EAAWX,MAPrB,UAWE,mBAAG7qB,UAAU,sBAXf,iBAgBHb,EAAMlC,OACL,mBAAG+C,UAAU,uBAAb,SACE,wBACEA,UAAU,6CACViC,QAhNY,SAACkG,GAC3BA,EAAEC,iBACF,IAAQof,EAAkBroB,EAAlBqoB,cACR9nB,EAAS,2BACJnB,GADG,IAEN4sB,gBAAiB,GACjBC,gBAAiB,GACjBC,cAAe,EACfC,cAAe,EACfC,cAAe,EACfte,SAAU,GACVue,WAAY,MAEdhE,EAAc,IAiMF,uBAOA,QAEJ,UC7RG,SAASqE,GAAe1sB,GACrC,MAA2DA,EAAnDiF,aAAR,MAAgB,WAAhB,EAA4B0nB,EAA+B3sB,EAA/B2sB,YAA5B,EAA2D3sB,EAAlBimB,gBAAzC,MAAoD,GAApD,EACA,EAAwB7pB,mBAAS,CAC/BN,KAAM,GACNghB,MAAO,GACPD,SAAUva,MACVtG,MAAO,GACPgiB,OAAQ,WALV,mBAAOxkB,EAAP,KAAakY,EAAb,KAQMkb,EAAc/kB,IAmDpB,OATA7J,qBAAU,WACJ2uB,GACFjb,EAAQ,2BACHlY,GADE,IAELsC,KAAM6wB,OAGT,IAGD,qBAAK9rB,UAAU,gBAAgB8U,SAAS,KAAxC,SACE,qBAAK9U,UAAU,qCAAqCmC,KAAK,WAAzD,SACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,qBAAIA,UAAU,qCAAd,UACE,mBAAGA,UAAU,qBADf,eAEeoE,KAEf,wBACElE,KAAK,SACLF,UAAU,QACViC,QAAS9C,EAAMgZ,aAHjB,SAKE,sBAAM,cAAY,OAAlB,uBAGJ,sBAAKnY,UAAU,aAAf,UACGolB,EAASjrB,OACR,mCACGirB,EAASnrB,KAAI,SAACX,EAAS+L,GACtB,IAAQnF,EAAe5G,EAAf4G,KAAMV,EAASlG,EAATkG,KAEd,OACE,sBACEQ,UAAS,sBACE,UAATE,EACI,SACS,YAATA,EACAA,EACA,WANR,UAUE,mBAAGF,UAAU,qBACZR,IAHI6F,QAQX,KACJ,sBAAKrF,UAAU,aAAf,UACE,gDAAmBoE,KACnB,uBACElE,KAAK,OACLF,UAAU,8BACVG,YAAW,qBAAgBiE,GAC3BhE,aAAa,MACbW,SAAS,WACTG,QAAQ,4CACRF,UAAU,IACVV,aAAc3H,EAAKsC,KACnB2E,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXqQ,EAAQ,2BACHlY,GADE,IAELsC,KAAMuF,EAAOnD,MAAMzB,uBAK3B,sBAAKoE,UAAU,aAAf,UACE,2CACA,uBACEE,KAAK,QACLF,UAAU,eACVM,aAAc3H,EAAKwC,MACnByE,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXqQ,EAAQ,2BACHlY,GADE,IAELwC,MAAOqF,EAAOnD,MAAMzB,uBAK5B,sBAAKoE,UAAU,aAAf,UACE,qDACA,uBACEE,KAAK,MACLC,YAAY,mBACZH,UAAU,eACViB,UAAU,KACV5D,MAAO1E,EAAKsjB,MACZrc,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACNqa,MAAMra,EAAOnD,QAChBwT,EAAQ,2BACHlY,GADE,IAELsjB,MAAOzb,EAAOnD,eAMxB,sBAAK2C,UAAU,aAAf,UACE,yDAEA,cAAC,KAAD,CACEA,UAAS,eACTue,OAAO,KACPC,SAAU,IAAI7F,KAAKhgB,EAAKqjB,SAASvZ,OAAO,eACxCgc,WAAW,aACXC,QAAS,IAAI/F,KACbgG,gBAAgB,uBAChBC,SAAU,SAACvC,GACLA,IACFA,EAAOA,EAAKwC,mBAAmB,UAC/BxC,EAAO5a,IAAO4a,EAAM,eAEXyC,WACPjO,EAAQ,2BACHlY,GADE,IAELqjB,SAAUK,OAKlBzc,SAAU,SAACyc,GACLA,IACFA,EAAOA,EAAKwC,mBAAmB,UAC/BxC,EAAO5a,IAAO4a,EAAM,eAEXyC,WACPjO,EAAQ,2BACHlY,GADE,IAELqjB,SAAUK,YAOtB,sBAAKrc,UAAU,aAAf,UACE,8CACA,yBACEA,UAAU,gBACVJ,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACXqQ,EAAQ,2BACHlY,GADE,IAELwkB,OAAQ3c,EAAOnD,UAGnBiD,aAAc3H,EAAKwkB,OARrB,UAUE,wBAAQ9f,MAAM,OAAd,oBACA,wBAAQA,MAAM,SAAd,4BAIN,qBAAK2C,UAAU,eAAf,SACE,sBAAKA,UAAU,YAAf,UACGb,EAAMgZ,cACL,yBACEjY,KAAK,SACLF,UAAU,kBACViC,QAAS9C,EAAMgZ,aAHjB,UAKE,mBAAGnY,UAAU,oBALf,cASF,yBACEE,KAAK,SACLF,UAAU,kBACViC,QA9MK,WACjB,IAAM+pB,EANgB,WAAsB,IAArBjQ,EAAoB,wDAE3C,OADe1J,GAAOyJ,uBAAuBnjB,EAAMojB,GACrCnf,OAIAqvB,EAAgB,GAC5Bn1B,EAAI,2BACC6B,GADD,IAEF2iB,OAAQ,CAAEmH,KAAM9pB,EAAKsjB,OACrB/b,KAAM,EACNwa,SAAU,IAEd,IAAKsR,EAAO,OAAO,EAEnBD,EAAY3kB,YAAYtQ,GAAMiC,MAAK,SAACJ,GAClC,OAAIA,QAAJ,IAAIA,KAAMe,GACR9B,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,iCACPC,mBAAmB,EACnBE,kBAAkB,EAClBD,MAAO,MACNvL,MAAK,YAAkB,EAAfmzB,UAEP/sB,EAAMgtB,aAAaxzB,MAIvBf,OAAOqM,KAAKC,KAAK,CACfC,KAAM,SACNC,MAAO,8BACPC,mBAAmB,EACnBE,kBAAkB,EAClBD,MAAO,UA8KH,UAKE,mBAAGtE,UAAU,gBALf,yBCvOC,SAASosB,GAAajtB,GAAQ,IAAD,UAC1C,OACE,qBACEa,UAAU,kCACV8D,MAAO,CACLgG,KAAI,UAAE3K,EAAM2K,YAAR,QAAgB,OACpB/F,OAAS5E,EAAMktB,QAAoB,OAAV,QACzBhO,OAAQ,KACRlL,MAAO,OACPsI,SAAQ,UAAEtc,EAAMsc,gBAAR,QAAoB,SAPhC,SAUE,oBAAIzb,UAAU,aAAd,SACGb,EAAMgb,SAAShgB,OACd,qCACGgF,EAAMgb,SAASlgB,KAAI,SAACihB,GACnB,OAAmB,IAAfA,EAAQxhB,GAER,qBAEEsG,UAAU,kCAFZ,UAIE,mBAAGA,UAAU,oCACZkb,EAAQjgB,KAAKW,gBAJTsf,EAAQxhB,IASf,oBAEEsG,UAAU,kCAFZ,SAIE,oBACEkI,KAAK,WACLlI,UAAU,cACViC,QAAS,SAACkG,GACRA,EAAEC,iBACFjJ,EAAMmtB,eAAepR,IALzB,UAQE,mBAAGlb,UAAU,qBACZkb,EAAQjgB,KAAKW,kBAZXsf,EAAQxhB,QAkBpB,UAAAyF,EAAMjB,YAAN,eAAY4hB,QAAZ,UAAoB3gB,EAAMjB,YAA1B,aAAoB,EAAYquB,UAC/B,qBAAIvsB,UAAU,6BAAd,UACE,mBAAGA,UAAU,4BADf,+CAIE,QAEkB,KAAtB,UAAAb,EAAMjB,YAAN,eAAY4hB,QAAe3gB,EAAMqtB,UACnC,oBAAIxsB,UAAU,kBAAd,SACE,oBACEkI,KAAK,aACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACFjJ,EAAMqtB,aAJV,UAOE,mBAAGxsB,UAAU,sCACb,wCAAWb,EAAMiF,MAAjB,OACA,sBAAMpE,UAAU,iDAAhB,SACGb,EAAMK,OAVX,eAaE,sBAAMQ,UAAU,wBAAhB,4BAGF,SChEG,SAASysB,GAAettB,GACrC,MAA0B5D,mBAAS,CACjC2N,OAAQ,GACRiR,SAAU,GACVjc,KAAM,GACNwuB,KAAK,EACLC,QAAS,GACTriB,SAAS,EACThG,MAAO,KAPT,mBAAO/F,EAAP,KAAcmB,EAAd,KASM4H,EAAYN,IACZpE,EAAQvD,mBAERkK,EAAe,WACnB7J,EAAS,2BACJnB,GADG,IAEN+F,MAAO,GACPgG,SAAS,KAEXhD,EACGL,YAAY,CACXiC,OAAQ3K,EAAM2K,OACdX,UAAW,KAEZxP,MAAK,SAACC,GACL,GAAIA,EAAIL,KACN+G,EAAS,2BACJnB,GADG,IAEN4b,SAAUnhB,EAAIL,KACduF,KAAMlF,EAAIkF,KACVoM,SAAS,SAEN,CACL,IAAM8a,EAAWvrB,OAAO0hB,OAAOviB,EAAI2Z,QAEnCxZ,QAAQC,MAAM,mCAAoCJ,EAAI2Z,QACtD/a,OAAOqM,KAAKC,KAAK,CACfE,MAAO,YACP5E,KAAM4lB,EAAS,GACfjhB,KAAM,QACNE,mBAAmB,EACnBC,MAAO,MAGT5E,EAAS,2BACJnB,GADG,IAEN4b,SAAU,GACVjc,KAAM,GACNoM,SAAS,UA6BnB,OAvBAnN,qBAAU,WACR,IAAImM,EAAU,KACV/K,EAAM2K,OAAO/O,QAAU,GACrBoE,EAAM+F,OAAOkF,aAAajL,EAAM+F,OACpCgF,EAAUG,YAAW,kBAAMF,MAAgB,KAC3C7J,EAAS,2BACJnB,GADG,IAEN+F,MAAOgF,EACP6Q,SAAU,GACVjc,KAAM,OAEEK,EAAM2K,OAAO/O,SACnBoE,EAAM+F,OAAOkF,aAAajL,EAAM+F,OACpC5E,EAAS,2BACJnB,GADG,IAEN+F,MAAO,KACP6V,SAAU,GACVjc,KAAM,GACNoM,SAAS,QAGZ,CAAC/L,EAAM2K,SAGR,qCACE,uBACEhJ,KAAK,OACLF,UAAU,8BACVM,aAAc/B,EAAM2K,OACpBtJ,SAAU,YAAiB,IAAD,EAAbY,EAAa,EAAbA,OACXd,EAAS,2BACJnB,GADG,IAEN2K,OAAM,UAAE1I,EAAOnD,aAAT,aAAE,EAAczB,kBAG1BoI,SAAUzF,EAAM+L,QAChB8T,UAAW,YAAc,IAAXxU,EAAU,EAAVA,IACA,WAARA,GACFlK,EAAS,2BACJnB,GADG,IAEN4b,SAAU,GACVjR,OAAQ,MAEVtG,EAAM7C,QAAQ1C,MAAQ,IACL,UAARuM,IACLrL,EAAM+F,OAAOkF,aAAajL,EAAM+F,OACpCiF,IACA7J,EAAS,2BACJnB,GADG,IAEN+F,MAAO,UAIboF,IAAK9G,IAGNrE,EAAM+L,SACL,qBAAKtK,UAAU,mBAAf,SACE,qBAAKA,UAAU,iCAIlBzB,EAAMmuB,KACL,cAAC,GAAD,CACEtoB,MAAOjF,EAAMiF,MACb0nB,YAAavtB,EAAMouB,QACnBxU,aAAc,SAAChQ,GACbzI,EAAS,2BACJnB,GADG,IAENmuB,KAAK,EACLC,QAAS,OAGbR,aAAc,SAACjR,GACbxb,EAAS,2BACJnB,GADG,IAENmuB,KAAK,EACLC,QAAS,MAEXxtB,EAAMytB,oBAAoB1R,MAK/B3c,EAAM2K,OAAO/O,OAAS,IAAMoE,EAAM+L,SACjC,qBAAKtK,UAAU,gCAAf,SACE,cAACosB,GAAD,CACEjS,SAAU5b,EAAM4b,SAChB3a,KAAMjB,EAAM2K,OACZhL,KAAMK,EAAML,KACZkG,MAAOjF,EAAMiF,MACb0F,KAAK,OACL2R,SAAS,QACT+Q,UAAW,SAACrkB,GACVzI,EAAS,2BACJnB,GADG,IAEN4b,SAAU,GACVjR,OAAQ,GACRwjB,KAAK,EACLC,QAASpuB,EAAM2K,UAEjBtG,EAAM7C,QAAQ1C,MAAQ,IAExBivB,eAAgB,SAACpR,GACf/b,EAAMytB,oBAAoB1R,GAE1Bxb,EAAS,2BACJnB,GADG,IAEN4b,SAAU,GACVjR,OAAQ,MAEVtG,EAAM7C,QAAQ1C,MAAQ,WC1KrB,SAASwvB,GAAqB1tB,GAC3C,MAAoEA,EAA5DxG,YAAR,MAAe,GAAf,IAAoEwG,EAAjDonB,gBAAnB,WAAoEpnB,EAA/BiF,aAArC,MAA6C,WAA7C,EAAyD0oB,EAAW3tB,EAAX2tB,OACnDnyB,EAAUC,cAEhB,OACE,sBAAKoF,UAAU,gBAAf,UACG8sB,IAAWn0B,EAAKe,IACf,uBAAMsG,UAAU,wCAAhB,UACE,6CADF,IAC2B8sB,KAI7B,sBAAK9sB,UAAU,cAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,uBAAMA,UAAU,mCAAhB,UACE,mBAAGA,UAAU,qBADf,IACwCoE,OAKzCzL,EAAKe,GACJ,qCACE,uBAAMsG,UAAU,wBAAhB,UACGrH,EAAKsC,KAAKvC,cACX,uBAAMsH,UAAU,6BAAhB,UACE,mBAAGA,UAAU,yBACZrH,EAAKwC,MAAQxC,EAAKwC,MAAQ,QAE7B,uBAAM6E,UAAU,6BAAhB,UACE,mBAAGA,UAAU,yBACZb,EAAMwc,IAAN,UAAexc,EAAMwc,IAArB,YAAkC,YAGrC4K,GACA,qBAAKvmB,UAAU,cAAf,SACE,sBAAKA,UAAU,gCAAf,UACE,wBACEE,KAAK,SACLF,UAAU,2BACViC,QAAS,WACPrK,OAAOqM,KAAKC,KAAK,CACfE,MAAO,YACP5E,KAAK,iCAAD,OAAgCL,EAAMiF,MAAtC,KACJD,KAAM,WACNI,kBAAkB,EAElBC,kBAAmB,UACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,SAEPxF,EAAM4tB,oBAAoB,CAAErzB,GAAI,QAKtC0K,MAAM,UApBR,SAsBE,mBAAGpE,UAAU,0BAEf,wBACEA,UAAU,uBACViC,QAAS,kBAAMtH,EAAQ4B,KAAR,qBAA2B5D,EAAKe,MAC/C0K,MAAM,SAHR,SAKE,mBAAGpE,UAAU,0BAOvB,cAAC,GAAD,CACEoE,MAAOA,EACPwoB,oBAAqB,SAAC1R,GACpB/b,EAAM4tB,oBAAoB7R,YC9EzB,SAAS8R,GAAT,GAAmD,IAA3BzuB,EAA0B,EAA1BA,MAAe0uB,EAAW,EAAnBC,OAC5C,OACE,sBAAKltB,UAAU,2BAAf,UACE,oBACEA,UAAYzB,EAAM0J,MAAsC,WAA9B,4BAC1BC,KAAK,WACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACF6kB,EAAQ,IALZ,UAQE,mBACEjtB,UACEzB,EAAM4uB,UACF,wCACA,uBAZV,eAkBA,oBACEntB,UAA2B,IAAhBzB,EAAM0J,MAAc,4BAA8B,WAC7DC,KAAK,WACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACF6kB,EAAQ,IALZ,UAQE,mBACEjtB,UACEzB,EAAM6uB,gBACF,wCACA,uBAZV,oBAkBA,oBACEptB,UAA2B,IAAhBzB,EAAM0J,MAAc,4BAA8B,WAC7DC,KAAK,WACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACF6kB,EAAQ,IALZ,UAQE,mBACEjtB,UACEzB,EAAM8uB,QACF,wCACA,uBAZV,kBAkBA,oBACErtB,UAA2B,IAAhBzB,EAAM0J,MAAc,4BAA8B,WAC7DC,KAAK,WACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACF6kB,EAAQ,IALZ,UAQE,mBACEjtB,UACEzB,EAAM+uB,SACF,wCACA,uBAZV,cAkBA,oBACEttB,UAA2B,IAAhBzB,EAAM0J,MAAc,4BAA8B,WAC7DC,KAAK,WACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACF6kB,EAAQ,IALZ,UAQE,mBACEjtB,UACEzB,EAAMgvB,QACF,wCACA,uBAZV,aAkBA,oBACEvtB,UAA2B,IAAhBzB,EAAM0J,MAAc,4BAA8B,WAC7DC,KAAK,WACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACF6kB,EAAQ,IALZ,UAQE,mBACEjtB,UACEzB,EAAMkrB,YACF,wCACA,uBAZV,iBAkBA,oBACEzpB,UAA2B,IAAhBzB,EAAM0J,MAAc,4BAA8B,WAC7DC,KAAK,WACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACF6kB,EAAQ,IALZ,UAQE,mBACEjtB,UACEzB,EAAMivB,WACF,wCACA,uBAZV,mBAkBA,oBACExtB,UAA2B,IAAhBzB,EAAM0J,MAAc,4BAA8B,WAC7DC,KAAK,WACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACF6kB,EAAQ,IALZ,UAQE,mBACEjtB,UACEzB,EAAM8rB,cACF,wCACA,uBAZV,mBAkBA,oBACErqB,UAA2B,IAAhBzB,EAAM0J,MAAc,4BAA8B,WAC7DC,KAAK,WACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACF6kB,EAAQ,IALZ,UAQE,mBACEjtB,UACEzB,EAAMkvB,gBACF,wCACA,uBAZV,wBChIS,SAAS7b,GAAIzS,GAAQ,IAAD,4LAGjC,GAA0B5D,mBAAS,2BAC9BmyB,MAD6B,IAEhCpjB,SAAS,EACTrC,MAAO,EACPwP,KAAM,CACJ0V,WAAW,EACXC,iBAAiB,EACjBC,SAAS,EACTC,UAAU,EACVC,SAAS,EACT9D,aAAa,EACb+D,YAAY,EACZnD,eAAe,EACfoD,iBAAiB,GAEnBE,UAAU,MAfZ,qBAAOpvB,GAAP,MAAcmB,GAAd,MAmBQhG,GAAOyF,EAAM+D,MAAMC,OAAnBzJ,GACFk0B,GAASrJ,KACT5pB,GAAUC,cA6GhB,OAhCAuC,qBAAU,WACJzD,KACFP,QAAQkD,IAAI,8BAA+B3C,IAC3CgG,GAAS,2BACJnB,IADG,IAEN+L,SAAS,KAEXsjB,GAAOnJ,QAAQ/qB,IAAIX,MAAK,SAACC,GAAS,IAAD,MAC/BA,EAAI60B,YAAJ,UAAkB70B,EAAI60B,mBAAtB,aAAkB,EAAiBn0B,GACnCV,EAAI+S,YAAJ,UAAkB/S,EAAI+S,mBAAtB,aAAkB,EAAiBrS,GAEnCgG,GAAS,2BACJguB,GAAe10B,IADZ,IAENsR,SAAS,EACTrC,MAAO,EACPwP,KAAM,CACJ0V,WAAW,EACXC,iBAAiB,EACjBC,SAAS,EACTC,UAAU,EACVC,SAAS,EACT9D,aAAa,EACb+D,YAAY,EACZnD,eAAe,EACfoD,iBAAiB,GAEnBE,UAAS,UAAE30B,EAAI4K,gBAAN,QAAkB,YAIhC,CAAClK,KAGF,qCACE,sBAAKsG,UAAU,2CAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,uBAAd,UACE,mBAAGA,UAAU,8BACZzB,GAAM7E,GACL,4CACS,uBAAMsG,UAAU,mBAAhB,cAAqCzB,GAAM7E,SAGpD,oBAIN,sBAAKsG,UAAU,YAAf,UACE,qBAAKA,UAAU,aAAf,SACE,cAAC,GAAD,CACEumB,WAAUhoB,GAAM7E,GAChB0K,MAAM,WACN0oB,OAAO,2DACPhjB,KAAK,SACLnR,KAAM4F,GAAM2c,QACZS,IAAOpd,GAAMod,IACboR,oBAAqB,SAACe,GACpBpuB,GAAS,2BACJnB,IADG,IAEN2c,QAAS4S,EACTtZ,WAAYsZ,EAAIp0B,GAChBiiB,IAAImS,EAAInS,YAMf,UAAApd,GAAM2c,eAAN,SAAexhB,GACd,sBAAKsG,UAAU,MAAf,UACE,qBAAKA,UAAU,QAAf,SACE,cAACgtB,GAAD,CACEzuB,MAAK,aAAI0J,MAAO1J,GAAM0J,OAAU1J,GAAMkZ,MACtCyV,OAlJI,SAACa,GACflT,MAAMkT,KACS,kBAARA,IAAkBA,EAAMjxB,SAASixB,IAE5CruB,GAAS,2BACJnB,IADG,IAEN0J,MAAO8lB,WA+IC,sBAAK/tB,UAAU,SAAf,UACIzB,GAAM0J,MAgCJ,KA/BF,cAAC,GAAD,CACEoe,GAAE,UAAE9nB,GAAM8nB,UAAR,QAAc,GAChBG,OAAM,UAAEjoB,GAAMioB,cAAR,QAAkB,GACxBE,MAAK,UAAEnoB,GAAMmoB,aAAR,QAAiB,GACtBE,IAAG,UAAEroB,GAAMqoB,WAAR,QAAe,GAClBC,SAAQ,UAAEtoB,GAAMsoB,gBAAR,QAAoB,GAC5BP,QAAO,UAAE/nB,GAAM+nB,eAAR,QAAmB,GAC1BG,YAAW,UAAEloB,GAAMkoB,mBAAR,QAAuB,GAClCE,WAAU,UAAEpoB,GAAMooB,kBAAR,QAAsB,GAChCM,QAAO,UAAE1oB,GAAM0oB,eAAR,QAAmB,GAC1BG,aAAY,UAAE7oB,GAAM6oB,oBAAR,QAAwB,GACpCE,aAAY,UAAE/oB,GAAM+oB,oBAAR,QAAwB,GACpCR,QAAO,UAAEvoB,GAAMuoB,eAAR,QAAmB,GAC1BkH,SAAQ,UAAEzvB,GAAMyvB,gBAAR,QAAoB,GAC5BjH,UAAS,UAAExoB,GAAMwoB,iBAAR,QAAqB,GAC9BC,WAAU,UAAEzoB,GAAMyoB,kBAAR,QAAsB,GAChCG,UAAS,UAAE5oB,GAAM4oB,iBAAR,QAAqB,GAC9BD,UAAS,UAAE3oB,GAAM2oB,iBAAR,QAAqB,GAC9Bd,cAAe,SAACnrB,EAAMoC,GAAW,IAAD,EACzBpC,GAELyE,GAAS,2BACJnB,IADG,uBAELtD,EAAOoC,GAFF,iCAAC,eAIFkB,GAAMkZ,MAJL,IAKJ0V,WAAW,KALP,QAWG,IAAhB5uB,GAAM0J,MACL,cAAC,GAAD,CACEyf,eAAc,UAAEnpB,GAAMmpB,sBAAR,QAA0B,GACxCC,IAAG,UAAEppB,GAAMopB,WAAR,QAAe,GAClBE,KAAI,UAAEtpB,GAAMspB,YAAR,QAAgB,GACpBC,KAAI,UAAEvpB,GAAMupB,YAAR,QAAgB,GACpBN,cAAe,SAACvsB,EAAMoC,GAAW,IAAD,EACzBpC,GAELyE,GAAS,2BACJnB,IADG,uBAELtD,EAAOoC,GAFF,iCAAC,eAIFkB,GAAMkZ,MAJL,IAKJ2V,iBAAiB,KALb,QAUV,KAEa,IAAhB7uB,GAAM0J,MACL,cAAC,GAAD,CACEigB,eAAc,UAAE3pB,GAAM2pB,sBAAR,QAA0B,GACxCD,eAAc,UAAE1pB,GAAM0pB,sBAAR,QAA0B,GACxCG,KAAI,UAAE7pB,GAAM6pB,YAAR,QAAgB,GACpBD,KAAI,UAAE5pB,GAAM4pB,YAAR,QAAgB,GACpBX,cAAe,SAACvsB,EAAMoC,GAAW,IAAD,EACzBpC,GAELyE,GAAS,2BACJnB,IADG,uBAELtD,EAAOoC,GAFF,iCAAC,eAIFkB,GAAMkZ,MAJL,IAKJ4V,SAAS,KALL,QAUV,KAEa,IAAhB9uB,GAAM0J,MACL,cAAC,GAAD,CACEugB,OAAM,UAAEjqB,GAAMiqB,cAAR,QAAkB,GACxBC,QAAO,UAAElqB,GAAMkqB,eAAR,QAAmB,GAC1BC,OAAM,UAAEnqB,GAAMmqB,cAAR,QAAkB,GACxBJ,QAAO,UAAE/pB,GAAM+pB,eAAR,QAAmB,GAC1BK,aAAY,UAAEpqB,GAAMoqB,oBAAR,QAAwB,GACpCJ,QAAO,UAAEhqB,GAAMgqB,eAAR,QAAmB,GAC1BK,aAAY,UAAErqB,GAAMqqB,oBAAR,QAAwB,GACpCC,cAAa,UAAEtqB,GAAMsqB,qBAAR,QAAyB,GACtCrB,cAAe,SAACvsB,EAAMoC,GAAW,IAAD,EACzBpC,GAELyE,GAAS,2BACJnB,IADG,uBAELtD,EAAOoC,GAFF,iCAAC,eAIFkB,GAAMkZ,MAJL,IAKJ6V,UAAU,KALN,QAUV,KAEa,IAAhB/uB,GAAM0J,MACL,cAAC,GAAD,CACE8gB,KAAI,UAAExqB,GAAMwqB,YAAR,QAAgB,GACpBC,KAAI,UAAEzqB,GAAMyqB,YAAR,QAAgB,GACpBC,OAAM,UAAE1qB,GAAM0qB,cAAR,QAAkB,GACxBC,OAAM,UAAE3qB,GAAM2qB,cAAR,QAAkB,GACxBC,QAAO,UAAE5qB,GAAM4qB,eAAR,QAAmB,GAC1BC,QAAO,UAAE7qB,GAAM6qB,eAAR,QAAmB,GAC1BC,MAAK,UAAE9qB,GAAM8qB,aAAR,QAAiB,GACtBC,MAAK,UAAE/qB,GAAM+qB,aAAR,QAAiB,GACtBC,MAAK,UAAEhrB,GAAMgrB,aAAR,QAAiB,GACtB/B,cAAe,SAACvsB,EAAMoC,GAAW,IAAD,EACzBpC,GAELyE,GAAS,2BACJnB,IADG,uBAELtD,EAAOoC,GAFF,iCAAC,eAIFkB,GAAMkZ,MAJL,IAKJ8V,SAAS,KALL,QAUV,KAEa,IAAhBhvB,GAAM0J,MACL,cAAC,GAAD,CACEwhB,YAAW,UAAElrB,GAAMkrB,mBAAR,QAAuB,GAClCC,UAAS,UAAEnrB,GAAMmrB,iBAAR,QAAqB,GAC9BE,KAAI,UAAErrB,GAAMqrB,YAAR,QAAgB,GACpBC,KAAI,WAAEtrB,GAAMsrB,YAAR,UAAgB,GACpBC,YAAW,WAAEvrB,GAAMurB,mBAAR,UAAuB,GAClCtC,cAAe,SAACvsB,EAAMoC,GAAW,IAAD,EACzBpC,GAELyE,GAAS,2BACJnB,IADG,uBAELtD,EAAOoC,GAFF,iCAAC,eAIFkB,GAAMkZ,MAJL,IAKJgS,aAAa,KALT,QAUV,KAEa,IAAhBlrB,GAAM0J,MACL,cAAC,GAAD,CACEod,SAAQ,WAAE9mB,GAAM8mB,gBAAR,UAAoB,EAC5BC,SAAQ,WAAE/mB,GAAM+mB,gBAAR,UAAoB,EAC5BC,UAAS,WAAEhnB,GAAMgnB,iBAAR,UAAqB,EAC9BC,UAAS,WAAEjnB,GAAMinB,iBAAR,UAAqB,EAC9BC,MAAK,WAAElnB,GAAMknB,aAAR,UAAiB,EACtBC,MAAK,WAAEnnB,GAAMmnB,aAAR,UAAiB,EACtBC,SAAQ,WAAEpnB,GAAMonB,gBAAR,UAAoB,EAC5BC,SAAQ,WAAErnB,GAAMqnB,gBAAR,UAAoB,EAC5BC,iBAAgB,WAAEtnB,GAAMsnB,wBAAR,UAA4B,EAC5CC,iBAAgB,WAAEvnB,GAAMunB,wBAAR,UAA4B,EAC5CC,KAAI,WAAExnB,GAAMwnB,YAAR,UAAgB,EACpBC,KAAI,WAAEznB,GAAMynB,YAAR,UAAgB,EACpBC,SAAQ,WAAE1nB,GAAM0nB,gBAAR,UAAoB,EAC5BC,SAAQ,WAAE3nB,GAAM2nB,gBAAR,UAAoB,EAC5B8D,QAAO,WAAEzrB,GAAMyrB,eAAR,UAAmB,EAC1BC,MAAK,WAAE1rB,GAAM0rB,aAAR,UAAiB,EACtBC,MAAK,WAAE3rB,GAAM2rB,aAAR,UAAiB,EACtB1C,cAAe,SAACvsB,EAAMoC,GAAW,IAAD,EACzBpC,GAELyE,GAAS,2BACJnB,IADG,uBAELtD,EAAOoC,GAFF,iCAAC,eAIFkB,GAAMkZ,MAJL,IAKJ+V,YAAY,KALR,QAUV,KAEa,IAAhBjvB,GAAM0J,MACL,cAAC,GAAD,CACEoiB,cAAa,WAAE9rB,GAAM8rB,qBAAR,UAAyB,GACtC7C,cAAe,SAACvsB,EAAMoC,GAAW,IAAD,EACzBpC,GAELyE,GAAS,2BACJnB,IADG,uBAELtD,EAAOoC,GAFF,iCAAC,eAIFkB,GAAMkZ,MAJL,IAKJ4S,eAAe,KALX,QAUV,KAEa,IAAhB9rB,GAAM0J,MACL,sBAAKjI,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,cAAC,GAAD,CACE+L,YAAW,WAAExN,GAAMwN,mBAAR,UAAuB,KAClCsZ,SAAQ,WAAE9mB,GAAM8mB,gBAAR,UAAoB,GAC5BC,SAAQ,WAAE/mB,GAAM+mB,gBAAR,UAAoB,GAC5BC,UAAS,WAAEhnB,GAAMgnB,iBAAR,UAAqB,GAC9BC,UAAS,WAAEjnB,GAAMinB,iBAAR,UAAqB,GAC9ByI,SAAS,QACT7pB,MAAM,0BACNojB,cAAe,SAACnqB,GACdqC,GAAS,2BACJnB,IADG,IAENwN,YAAa1O,EACbwwB,YAAa,EACbpW,KAAK,2BACAlZ,GAAMkZ,MADP,IAEFgW,iBAAiB,QAIvBxwB,QAAQ,MAGXsB,GAAMwN,YACL,qBAAK/L,UAAU,MAAf,SACE,cAAC,GAAD,CACE+L,YAAW,WAAExN,GAAMsvB,mBAAR,UAAuB,KAClCxI,SAAQ,WAAE9mB,GAAM8mB,gBAAR,UAAoB,GAC5BC,SAAQ,WAAE/mB,GAAM+mB,gBAAR,UAAoB,GAC5BC,UAAS,WAAEhnB,GAAMgnB,iBAAR,UAAqB,GAC9BC,UAAS,WAAEjnB,GAAMinB,iBAAR,UAAqB,GAC9ByI,SAAS,QACT7pB,MAAM,0BACNojB,cAAe,SAACnqB,GACdqC,GAAS,2BACJnB,IADG,IAENsvB,YAAaxwB,EACboa,KAAK,2BACAlZ,GAAMkZ,MADP,IAEFgW,iBAAiB,QAIvBxwB,QAAQ,MAGV,QAEJ,WAGN,QAEN,qBAAK+C,UAAU,yBAAf,SACE,sBAAKA,UAAU,YAAYmC,KAAK,QAAhC,UACE,oBACE+F,KAAK,SACLlI,UAAU,kBACViC,QAAS,SAACkG,GACRA,EAAEC,iBACFzN,GAAQ4B,KAAK,gBACb4C,EAAMkE,mBANV,UASE,mBACErD,UACEzB,GAAM7E,GAAK,yBAA2B,oBAG1C,iCAAS6E,GAAM7E,GAAK,WAAa,cAElC6E,GAAM7E,GACL,yBACEsG,UAAU,kBACViC,QAAS,SAACkG,GACRA,EAAEC,kBAHN,UAOE,mBAAGpI,UAAU,sBAPf,cAUE,KACJ,yBACEE,KAAK,SACLF,UACE,WAAAzB,GAAM2c,eAAN,WAAexhB,GAAK,eAAiB,wBAEvCuI,QA/aO,WAEjB,IAAMtJ,EAAI,eACL4F,IAKG2c,EAAYviB,EAAZuiB,QAWR,UAVOviB,EAAK2R,eACL3R,EAAKsP,aACLtP,EAAK8e,YACL9e,EAAKuiB,eAELviB,EAAKg1B,UAEPh1B,EAAKk1B,oBAAoBl1B,EAAKk1B,YAC9Bl1B,EAAKoT,oBAAoBpT,EAAKoT,YAGhCpT,EAAK4sB,UAAY,IAAM5sB,EAAK8sB,OAC5B9sB,EAAK6sB,UAAY,IAAM7sB,EAAK+sB,MAO7B,OALA9tB,OAAOqM,KAAKC,KACV,cACA,+BACA,YAEK,EAGTtM,OAAOqM,KAAKC,KAAK,CACfE,MAAO,cACP5E,KAAM7G,EAAKe,GAAL,4CACgCwhB,EAAQjgB,KAAKvC,cAD7C,oDAEmCwiB,EAAQjgB,KAAKvC,cAFhD,KAGNyL,KAAM,WACNI,kBAAkB,EAClBC,kBAAmB7L,EAAKe,GAAK,aAAe,QAC5C+K,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,SAEPipB,GAAOjJ,SAAShsB,GAAMI,MAAK,SAACC,GAC1B,UAAIA,QAAJ,IAAIA,KAAKU,GACPP,QAAQkD,IAAI,uCAAwCrD,EAAIU,IACxDyF,EAAMkE,kBACN1I,GAAQ4B,KAAK,qBACR,GAAIvD,EAAImsB,eAAe,UAAW,CACvC,IAAMC,EAAWvrB,OAAO0hB,OAAOviB,EAAI2Z,QAEnCxZ,QAAQC,MAAM,mCAAoCJ,EAAI2Z,QACtD/a,OAAOqM,KAAKC,KAAK,CACfE,MAAO,cACP5E,KAAM4lB,EAAS,GACfjhB,KAAM,QACNE,mBAAmB,EACnBC,MAAO,cAuXPN,SAAU,WAAAzF,GAAM2c,eAAN,YAAexhB,GAN3B,UAQE,mBAAGsG,UAAU,qBACb,iCAASzB,GAAM7E,GAAK,aAAe,uBAOzC6E,GAAMovB,UAAUxzB,OACd,cAAC,EAAD,CACExB,KAAQ4F,GAAMovB,YAEf,QAQX,SAASD,KAA2B,IAAD,2KAAX/0B,GAAW,uDAAJ,GACzBsyB,GAAO,EAIX,OAHA,OAAGtyB,SAAH,IAAGA,IAAH,UAAGA,GAAMusB,gBAAT,OAAG,EAAgBvJ,MACjBsP,GAAOtyB,GAAKusB,SAASvJ,KAEhB,CACLjiB,GAAE,UAAEf,GAAKe,UAAP,QAAa,EACfiiB,IAAKhjB,GAAKgjB,IAAMhjB,GAAKgjB,IAAMsP,GAC3B/C,eAAc,UAAEvvB,GAAKuvB,sBAAP,QAAyB,GACvCD,eAAc,UAAEtvB,GAAKsvB,sBAAP,QAAyB,GACvCiG,YAAW,UAAEv1B,GAAKu1B,mBAAP,QAAsB,GACjCC,YAAW,UAAEx1B,GAAKw1B,mBAAP,QAAsB,GACjCzG,eAAc,UAAE/uB,GAAK+uB,sBAAP,QAAyB,GACvCT,QAAO,UAAEtuB,GAAKsuB,eAAP,QAAkB,EACzBG,aAAY,UAAEzuB,GAAKyuB,oBAAP,QAAuB,GACnCE,aAAY,UAAE3uB,GAAK2uB,oBAAP,QAAuB,EACnCR,QAAO,UAAEnuB,GAAKmuB,eAAP,QAAkB,EACzBkH,SAAQ,UAAEr1B,GAAKq1B,gBAAP,QAAmB,EAC3BjH,UAAS,UAAEpuB,GAAKouB,iBAAP,QAAoB,EAC7BC,WAAU,UAAEruB,GAAKquB,kBAAP,QAAqB,EAC/BG,UAAS,UAAExuB,GAAKwuB,iBAAP,QAAoB,EAC7BD,UAAS,UAAEvuB,GAAKuuB,iBAAP,QAAoB,EAC7BS,IAAG,UAAEhvB,GAAKgvB,WAAP,QAAc,GACjBE,KAAI,UAAElvB,GAAKkvB,YAAP,QAAe,GACnBC,KAAI,UAAEnvB,GAAKmvB,YAAP,QAAe,GACnBoB,OAAM,UAAEvwB,GAAKuwB,cAAP,QAAiB,GACvBD,OAAM,UAAEtwB,GAAKswB,cAAP,QAAiB,GACvBG,QAAO,UAAEzwB,GAAKywB,eAAP,QAAkB,GACzBD,QAAO,UAAExwB,GAAKwwB,eAAP,QAAkB,GACzBH,KAAI,UAAErwB,GAAKqwB,YAAP,QAAe,GACnBD,KAAI,UAAEpwB,GAAKowB,YAAP,QAAe,GACnBF,cAAa,UAAElwB,GAAKkwB,qBAAP,QAAwB,GACrCT,KAAI,UAAEzvB,GAAKyvB,YAAP,QAAe,GACnBD,KAAI,UAAExvB,GAAKwvB,YAAP,QAAe,GACnBsB,YAAW,UAAE9wB,GAAK8wB,mBAAP,QAAsB,GACjCC,UAAS,UAAE/wB,GAAK+wB,iBAAP,QAAoB,EAC7BI,YAAW,UAAEnxB,GAAKmxB,mBAAP,QAAsB,GACjCxE,SAAQ,UAAE3sB,GAAK2sB,gBAAP,QAAmB,EAC3BD,SAAQ,UAAE1sB,GAAK0sB,gBAAP,QAAmB,EAC3BG,UAAS,UAAE7sB,GAAK6sB,iBAAP,QAAoB,EAC7BD,UAAS,UAAE5sB,GAAK4sB,iBAAP,QAAoB,EAC7BG,MAAK,UAAE/sB,GAAK+sB,aAAP,QAAgB,EACrBD,MAAK,UAAE9sB,GAAK8sB,aAAP,QAAgB,EACrBG,SAAQ,UAAEjtB,GAAKitB,gBAAP,QAAmB,EAC3BD,SAAQ,UAAEhtB,GAAKgtB,gBAAP,QAAmB,EAC3BG,iBAAgB,UAAEntB,GAAKmtB,wBAAP,QAA2B,EAC3CD,iBAAgB,UAAEltB,GAAKktB,wBAAP,QAA2B,EAC3CG,KAAI,UAAErtB,GAAKqtB,YAAP,QAAe,EACnBD,KAAI,UAAEptB,GAAKotB,YAAP,QAAe,EACnBsD,MAAK,UAAE1wB,GAAK0wB,aAAP,QAAgB,GACrBC,MAAK,UAAE3wB,GAAK2wB,aAAP,QAAgB,GACrBC,MAAK,UAAE5wB,GAAK4wB,aAAP,QAAgB,GACrBS,QAAO,UAAErxB,GAAKqxB,eAAP,QAAkB,GACzBE,MAAK,UAAEvxB,GAAKuxB,aAAP,QAAgB,GACrBD,MAAK,UAAEtxB,GAAKsxB,aAAP,QAAgB,GACrBmE,SAAQ,UAAEz1B,GAAKy1B,gBAAP,QAAmB,GAC3BnI,SAAQ,UAAEttB,GAAKstB,gBAAP,QAAmB,EAC3BC,SAAQ,UAAEvtB,GAAKutB,gBAAP,QAAmB,EAC3B2D,KAAI,UAAElxB,GAAKkxB,YAAP,QAAe,EACnBD,KAAI,UAAEjxB,GAAKixB,YAAP,QAAe,EACnBS,cAAa,WAAE1xB,GAAK0xB,qBAAP,UAAwB,GACrChE,GAAE,WAAE1tB,GAAK0tB,UAAP,UAAa,EACfG,OAAM,WAAE7tB,GAAK6tB,cAAP,UAAiB,EACvBE,MAAK,WAAE/tB,GAAK+tB,aAAP,UAAgB,EACrBE,IAAG,WAAEjuB,GAAKiuB,WAAP,UAAc,EACjBC,SAAQ,WAAEluB,GAAKkuB,gBAAP,UAAmB,QAC3BP,QAAO,WAAE3tB,GAAK2tB,eAAP,UAAkB,QACzBG,YAAW,WAAE9tB,GAAK8tB,mBAAP,UAAsB,QACjCE,WAAU,WAAEhuB,GAAKguB,kBAAP,UAAqB,QAC/B6B,OAAM,WAAE7vB,GAAK6vB,cAAP,UAAiB,GACvBC,QAAO,WAAE9vB,GAAK8vB,eAAP,UAAkB,GACzBC,OAAM,WAAE/vB,GAAK+vB,cAAP,UAAiB,GACvBJ,QAAO,WAAE3vB,GAAK2vB,eAAP,UAAkB,EACzBC,QAAO,WAAE5vB,GAAK4vB,eAAP,UAAkB,EACzBI,aAAY,WAAEhwB,GAAKgwB,oBAAP,UAAuB,QACnCC,aAAY,WAAEjwB,GAAKiwB,oBAAP,UAAuB,QACnC1N,QAAO,WAAEviB,GAAKusB,gBAAP,UAAmB,GAC1BhpB,OAAM,WAAEvD,GAAKuD,cAAP,UAAiB,EACvBsY,WAAU,WAAE7b,GAAKusB,gBAAP,cAAE,GAAexrB,GAC3BqS,YAAW,WAAEpT,GAAKoT,mBAAP,UAAsB,EACjC8hB,YAAW,WAAEl1B,GAAKk1B,mBAAP,UAAsB,GLpkBrCpO,0BAAe,KAAMC,MMArB,IAAMzF,GAAiB,CACrBpR,KAAM,EACNrB,QAAS,aACTC,MAAO,OACPyB,OAAQ,GACRhN,OAAQ,GACRqM,UAAW,GACX8T,KAAM,GACNjhB,OAAQ,OAGK,SAASkpB,GAAMnlB,GAC5B,MAA0B5D,mBAAS,CACjC2J,QAAS+U,GACTgB,UAAW,OAFb,mBAAO1c,EAAP,KAAcmB,EAAd,KAIQhG,EAAOyF,EAAM+D,MAAMC,OAAnBzJ,GASR,OAPAyD,qBAAU,WACRuC,EAAS,2BACJnB,GADG,IAEN0c,YAAWvhB,OAEZ,CAACA,IAGF,cAAC2qB,GAAYjnB,SAAb,CAAsBC,MAAK,2BAAOkB,GAAP,IAAcyJ,IAAKtI,IAA9C,SACE,sBAAKM,UAAU,MAAM8D,MAAO,CAACgQ,UAAW,SAAxC,UACE,cAAC,GAAD,CACEmH,UAAW1c,EAAM0c,UACjB5X,gBAAiB,kBACf3D,EAAS,2BAAKnB,GAAN,IAAa0c,YAAW,OAAC1c,QAAD,IAACA,KAAO0c,iBAGhB,mBAApB1c,EAAM0c,UACZ,qBAAKjb,UAAU,sBAAf,SACGzB,EAAM0c,UACL,cAAC,GAAD,2BACM9b,GADN,IAEEkE,gBAAiB,kBACf3D,EAAS,2BAAKnB,GAAN,IAAa0c,WAAY1c,EAAM0c,iBAI3C,cAAC,GAAD,MAIJ,uDCvDH,IAAMoT,GAAc/zB,wBAAc,MAC5Bg0B,GAAO,kBAAM9zB,qBAAW6zB,KCgLtBE,OAjLf,YAKI,IAJF7oB,EAIC,EAJDA,MAIC,IAHD8oB,mBAGC,MAHa,EAGb,EAFYliB,EAEZ,EAFDoI,YACc+Z,EACb,EADDC,aAIA,EAAwBnzB,mBAAS,CAC/BmP,KAAM,KACNe,KAAM+iB,EACN7iB,MAAO,IAHT,mBAAOhT,EAAP,KAAakY,EAAb,KAMM7M,KAAWrL,EAAKgT,OAAS,GAAKkP,MAAMliB,EAAKgT,QAGzC+I,EAAc,WACZpI,GAAQA,KAiCdqiB,EAAmB,SAAC,GAAqB,IAAnB1zB,EAAkB,EAAlBA,KAAMoC,EAAY,EAAZA,MAC1BwT,EAAQ,2BACHlY,GADE,kBAEJsC,EAAO6B,SAASO,OAIvB,OACE,qBAAK2C,UAAU,gBAAgB8U,SAAS,KAAxC,SACE,qBAAK9U,UAAU,eAAemC,KAAK,WAAnC,SACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,oCACA,wBAAQE,KAAK,SAASF,UAAU,QAAQiC,QAASyS,EAAjD,SACE,sBAAM,cAAY,OAAlB,uBAGJ,qBAAK1U,UAAU,iBAAf,SACE,qBACEA,UAAU,iCACV8D,MAAO,CAAEC,OAAQ,SAFnB,SAIGpL,EAAK+R,MAAQ/R,EAAK+R,KAAKhR,GACtB,qCACE,qBAAKsG,UAAU,sBAAf,SACGrH,EAAK+R,KAAKkkB,WAEb,sBAAK5uB,UAAU,iBAAf,UACE,uBAAOA,UAAU,uBAAjB,sBACCwuB,EAAc,EACb,qBAAKxuB,UAAU,MAAf,SACE,uBACEE,KAAK,SACLC,YAAY,WACZlF,KAAK,OACL+E,UAAU,eACVM,aAAc3H,EAAK8S,KACnB7L,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBmuB,EAAiBnuB,QAI/C,sBAAMR,UAAU,cAAhB,SAA+BrH,EAAK8S,OAEtC,uBAAOzL,UAAU,uBAAjB,oBACA,qBAAKA,UAAU,MAAf,SACI,uBACEE,KAAK,SACLC,YAAY,SACZlF,KAAK,QACL+E,UAAU,eACVM,aAAc3H,EAAKgT,MAAM6B,WACzB5N,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBmuB,EAAiBnuB,cAMrD,uBAAOR,UAAU,iBAAjB,SACE,gCACG0F,EACC,mCACGA,EAAMvL,OACL,mCACGuL,EAAMzL,KAAI,SAACyQ,GAAD,OACT,+BACE,oBAAI1K,UAAU,aAAd,SACE,sBAAMA,UAAU,mBAAhB,SACG0K,EAAKrR,SAGV,oBAAI2G,UAAU,4BAAd,SACE,mBACEkI,KAAK,UACLjG,QAAS,SAACkG,GAAD,OAtGvB,SAACA,EAAGuC,GACpBvC,EAAEC,iBACFyI,EAAQ,2BACHlY,GADE,IAELgT,MAAOjB,EAAKiB,MACZjB,UAiG4CmkB,CAAgB1mB,EAAGuC,IAFrC,SAIGA,EAAKzP,SAGV,mCAAMyP,EAAKiB,WAdJjB,EAAKhR,SAmBlB,6BACE,iFAKN,6BACE,+BACE,mBAAGsG,UAAU,4BADf,+CAWd,sBAAKA,UAAU,eAAf,UACE,yBACEE,KAAK,SACLF,UAAU,kBACViC,QAASyS,EAHX,UAKE,mBAAG1U,UAAU,oBALf,cAQA,yBACEE,KAAK,SACLF,UAAU,kBACViC,QArIS,WACjB,IAAM6sB,EAAM,2BACPn2B,GADO,IAEV+R,KAAK,2BACA/R,EAAK+R,MADN,IAEFiB,MAAOhT,EAAKgT,UAIhB8iB,EAAQK,GAERje,EAAQ,CACNnG,KAAM,KACNe,KAAM,EACNE,MAAO,IAET+I,KAsHQ1Q,SAAaA,EAJf,UAME,mBAAGhE,UAAU,sBANf,4BClFNuL,GAAW,CACfgN,QAlFc,SAAC/Y,EAAMuvB,GACrBn3B,OAAOqM,KAAKC,KAAK,CACfE,MAAO,SACP5E,OACA2E,KAAM,UACNI,kBAAkB,EAClBC,kBAAmB,UACnBC,iBAAkB,aACjB1L,MAAK,YAAiB,EAAd4L,SAEHoqB,GAAOA,QAyEfC,cApEoB,SAAC9yB,GACrB,OAAQA,GACN,KAAK,EACH,MAAO,WACT,KAAK,EACH,MAAO,iBACT,KAAK,EACH,MAAO,kBACT,KAAK,EACH,MAAO,YACT,KAAK,EACH,MAAO,SACT,KAAK,EACH,MAAO,gBACT,QACE,MAAO,SAsDX+yB,WAjDiB,WACjB,OACEtX,KAAKC,SAASpK,SAAS,IAAIqK,UAAU,EAAG,IACxCF,KAAKC,SAASpK,SAAS,IAAIqK,UAAU,EAAG,IACxCF,KAAKC,SAASpK,SAAS,IAAIqK,UAAU,EAAG,IACxCF,KAAKC,SAASpK,SAAS,IAAIqK,UAAU,EAAG,IACxCF,KAAKC,SAASpK,SAAS,IAAIqK,UAAU,EAAG,IACxCF,KAAKC,SAASpK,SAAS,IAAIqK,UAAU,EAAG,IACxCF,KAAKC,SAASpK,SAAS,KA0CzB0hB,UAtCgB,SAACxpB,EAAOypB,GAA4B,IAAlBC,EAAiB,uDAAN,EAC7C,IAAK1pB,IAAU3L,MAAMC,QAAQ0L,KAAWA,EAAMvL,OAC5C,OAAO,EAGJJ,MAAMC,QAAQm1B,KACjBA,EAAW,IAGb,IAAME,EAAOF,EAASG,QAAO,SAAChY,EAAGkE,GAAJ,OAAUlE,EAAIkE,EAAEsE,QAAO,GAC9CA,EAAQpa,EAAM4pB,QAAO,SAAChY,EAAGkE,GAAJ,OAAUlE,EAAIkE,EAAE+T,WAAU,GAErD,OAAOzP,EAAQuP,EAAOD,GA2BtBI,YAxBkB,SAAC9pB,GACnB,OAAKA,GAAUA,EAAMvL,OAIduL,EAAM4pB,QAAO,SAAChY,EAAGkE,GAAJ,OAAUlE,EAAIkE,EAAE+T,WAAU,GAHrC,GAuBTE,SAjBe,SAACF,EAAUH,GAC1B,OAAOG,EAAWH,GAiBlBM,UAdgB,WAAoB,IAAnBP,EAAkB,uDAAP,GAC5B,OAAKA,GAAaA,EAASh1B,OAGpBg1B,EAASG,QAAO,SAAChY,EAAGkE,GAAJ,OAAUlE,EAAIkE,EAAEsE,QAAO,GAFrC,IAeIvU,MCwFAokB,OArKf,WAEE,MAAoCp0B,mBAAS,IAA7C,mBAAOq0B,EAAP,KAAmBC,EAAnB,KACA,EAAgCt0B,oBAAS,GAAzC,mBAAOke,EAAP,KAAiBqW,EAAjB,KACA,EAAsCv0B,mBAAS,GAA/C,mBAAOizB,EAAP,KAAoBuB,EAApB,KACA,EAAwBx0B,mBAAS,IAAjC,mBAAOupB,EAAP,KAAakL,EAAb,KAEMnQ,EAAOyO,KACLxyB,EAAY+jB,EAAZ/jB,QACF6T,EAAeP,KAWnB6gB,EAAa,WACX,GAAIL,EAAWz1B,OAAS,EAAG,CACzB,IAAMqX,EAAQoe,EAAWM,MAAM,KAC3BhnB,EAAS0mB,EAEQ,IAAjBpe,EAAMrX,SACR+O,EAASsI,EAAM,GACfue,EAAejzB,SAAS0U,EAAM,MAGhC7B,EAAaN,YAAYnG,GAAQnQ,MAAK,SAACJ,GACjCA,EACFq3B,EAAQr3B,EAAKA,MAEbQ,QAAQC,MAAM,kCAGlBy2B,EAAc,MAMlBM,EAAW,SAACx3B,GACV,MAAO,CACLe,GAAI,EACJ+R,KAAM9S,EAAK8S,KACXE,MAAOoF,WAAWpY,EAAK+R,KAAKiB,OAC5B4jB,SAAUzyB,SAASnE,EAAK8S,MAAQsF,WAAWpY,EAAK+R,KAAKiB,OACrDykB,UACEtzB,SAASnE,EAAK+R,KAAK2lB,aAAevzB,SAASnE,EAAK8S,MAClD6kB,IAAKxzB,SAASnE,EAAK+R,KAAK2lB,YAAcvzB,SAASnE,EAAK8S,MACpD8kB,YAAazzB,SAASnE,EAAK+R,KAAK2lB,YAChCv0B,UACA4P,eAAgB/S,EAAK+R,KAAKhR,GAC1B82B,YAAa73B,EAAK+R,KAAK8lB,YACvB5B,SAAUj2B,EAAK+R,KAAKzP,KAAKW,cACzBqR,SAAUtU,EAAK+R,KAAK+lB,UAAY93B,EAAK+R,KAAK+lB,UAAU/2B,GAAK,IAQ7Dg3B,EAAgB,SAAC9zB,GACf,IAAM+zB,EAAQ9Q,EAAKna,MAAM5G,QACvB,SAAC4L,GAAD,OAAUA,EAAKgB,iBAAmB9O,EAAO8O,kBAGvCklB,EAAW/Q,EAAKna,MAAM5G,QACxB,SAAC4L,GAAD,OAAUA,EAAKgB,iBAAmB9O,EAAO8O,kBAG3C,GAAIilB,EAAMx2B,OAAQ,CAChB,IAAMya,EAAW9X,SAASF,EAAO6O,MAAQ3O,SAAS6zB,EAAM,GAAGllB,MACzDf,EAAI,2BACCimB,EAAM,IADP,IAEFllB,KAAMmJ,EACN2a,SAAUxe,WAAWnU,EAAO+O,OAASiJ,EACrCwb,UAAWxb,GAAY9X,SAASF,EAAO2zB,aACvCD,IAAKxzB,SAASF,EAAO2zB,aAAe3b,IAExCgc,EAASr0B,KAAKmO,GACd9S,OAAOqM,KAAKC,KAAK,CACfE,MAAO,oBACP5E,KAAK,kBAAD,OAAoBmxB,EAAM,GAAG/B,SAA7B,eACJzqB,KAAM,UACNI,kBAAkB,EAClBC,kBAAmB,KACnBC,iBAAkB,WAClBC,qBAAqB,SAGvBksB,EAASr0B,KAAKK,GAGhB,IAAI2yB,EAAWld,GAAOmd,YAAYoB,GAElC/Q,EAAK7X,IAAL,2BACK6X,GADL,IAEEna,MAAOkrB,EACP9Q,MAAOzN,GAAOod,SAASF,EAAU1P,EAAKuP,UACtCG,SAAUA,MAgChB,OA5BApyB,qBAAU,WACR,GAAI2nB,EAAK3qB,OACP,GAAoB,IAAhB2qB,EAAK3qB,OAAc,CACrB,IAAMuQ,EAAOylB,EAAS,CACpBzlB,KAAMoa,EAAK,GACXrZ,KAAM+iB,GAA4B,IAGhC9jB,EAAKiB,OAAS,EAChB/T,OAAOqM,KAAKC,KAAK,CACfE,MAAO,YACP5E,KAAK,qFACL2E,KAAM,UACNI,kBAAkB,EAClBC,kBAAmB,KACnBC,iBAAkB,WAClBC,qBAAqB,KAGvBgsB,EAAchmB,GACdqlB,EAAe,SAGjBD,GAAY,KAGf,CAAChL,IAGF,sBAAK9kB,UAAU,qCAAf,UACE,uBACEA,UAAU,eACVG,YAAY,SACZP,SAAU,mBAhIe,SAAC,GAAe,IAAbvC,EAAY,EAAZA,MAC9BwyB,EAAcxyB,GA+HcwzB,CAAhB,EAAGrwB,SACbmJ,WAAY,mBA9HG,SAACC,GACN,UAARA,GACFqmB,IA4HyBa,CAAb,EAAGlnB,MACfvM,MAAOuyB,IAET,wBACE1vB,KAAK,SACLF,UAAU,kBACViC,QAASguB,EACTjsB,WAAU4rB,EAAWz1B,OAAS,GAJhC,SAME,mBAAG6F,UAAU,qBAGdyZ,GAAYqL,EAAK3qB,OAChB,cAAC,GAAD,CACEuL,MAAOof,EACP0J,YAAaA,EACb9Z,YArHa,WACjBob,GAAY,IAqHRpB,aAlGa,SAAC/1B,GAClB,IAAM+R,EAAOylB,EAASx3B,GACtB+3B,EAAchmB,GACdqlB,EAAe,MAiGX,SCxKK,SAASgB,KAEtB,IAAMlR,EAAOyO,KACP0C,EAAS3e,GAAOqd,UAAU7P,EAAKsP,UAC/B8B,IAAcpR,EAAK0P,SAAWyB,EAAS,GAAuB,IAAlBnR,EAAKuP,UAA6B,IAAX4B,GAoCzE,OACE,wBACEhxB,UAAU,uBACVoE,MAAM,oBACNnC,QApCsB,WACxB,IAAMmtB,EAAWx3B,OAAOs5B,OAAO,kCAI7B,GAAgB,OAAb9B,EACD,OAAO,KAEP,IAAI+B,EAAM,EAGV,GAFAtR,EAAKna,MAAM6P,SAAQ,SAAC7K,GAAD,OAAWymB,GAAOzmB,EAAK6kB,YAEtCH,EAASlsB,MATH,cASqB,CAC7B,IAAM7F,EAAQP,SAASsyB,GAEvBvP,EAAK7X,IAAL,2BACK6X,GADL,IAEEuP,SAAU/xB,EACVyiB,MAAOD,EAAK0P,SAAWlyB,UAGpB,GAAI+xB,EAASlsB,MAjBX,mBAiB4B,CACnC,IAAMkuB,EAAUt0B,SAASsyB,EAASzuB,QAAQ,IAAK,KAAO,IACtDtD,EAAQP,SAASq0B,EAAMC,GACvBvR,EAAK7X,IAAL,2BACK6X,GADL,IAEEuP,SAAU/xB,EACVyiB,MAAOD,EAAK0P,SAAWlyB,OAW7B2G,SAAUitB,EAJZ,SAME,mBAAGjxB,UAAU,qBCnDJ,SAASqxB,GAASnY,GAE/B,IAAMoY,EAAW,uCAAG,WAAOpoB,GAAP,iBAAAlN,EAAA,6DACZu1B,EAAe,CACnBC,QAAS,aACT/pB,MAAO,OACPc,UAAW,KAETW,IACFqoB,EAAaroB,OAASA,GAGlBtS,EAAM4C,EAAO,QAAS,KAAM+3B,GAVhB,SAWL56B,EAAIC,GAXC,mFAAH,sDAcX66B,EAAW,uCAAG,WAAO/3B,GAAP,eAAAsC,EAAA,6DACZpF,EAAM4C,EAAO,QAASE,GADV,SAEL/C,EAAIC,GAFC,mFAAH,sDAKX86B,EAAQ,uCAAG,WAAO7R,GAAP,mBAAA7jB,EAAA,sEAELtC,EAAOmmB,EAAPnmB,GACN9C,EAAM4C,EAAO,QAASE,GACtB7C,EAAS6C,EAAK,MAAQ,OAJX,SAMA/C,EAAIC,EAAKC,EAAQgpB,GANjB,wEAQb1mB,QAAQC,MACN,oDACA,KAAEE,SAVS,yDAAH,sDAed,MAAO,CACLg4B,cACAG,cACAC,YCqHWC,OAnJf,YAAyE,IAAlCrlB,EAAiC,EAA9CoI,YAAmCkd,EAAW,EAAzBlD,aACvCmD,EAASR,KAEf,EAA4B91B,mBAAS,IAArC,mBAAO2N,EAAP,KAAeC,EAAf,KAEA,EAAgC5N,mBAAS,IAAzC,mBAAOu2B,EAAP,KAAiBC,EAAjB,KAEMlS,EAAOyO,KAEP5oB,EACgB,IAApBosB,EAAS33B,OAAe23B,EAA2B,IAAhBjS,EAAK1lB,OAAe0lB,EAAO,GA0ChE,OAbA1iB,qBAAU,WACR00B,EACGP,YAAYpoB,GACZnQ,MAAK,SAACJ,GACDA,EACFo5B,EAAYp5B,EAAKA,MAEjBQ,QAAQC,MAAM,kCAGjBH,OAAM,SAACG,GAAD,OAAWD,QAAQC,MAAMA,QACjC,CAAC8P,IAGF,qBAAKlJ,UAAU,gBAAgB8U,SAAS,KAAxC,SACE,qBAAK9U,UAAU,eAAemC,KAAK,WAAnC,SACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,kCACA,wBAAQE,KAAK,SAASF,UAAU,QAAQiC,QAAS,kBAAMqK,KAAvD,SACE,sBAAM,cAAY,OAAlB,uBAGJ,sBAAKtM,UAAU,iBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBACEE,KAAK,OACLF,UAAU,eACVG,YAAY,4BACZP,SAAU,mBAlCH,SAAC,GAAe,IAAbvC,EAAY,EAAZA,MACtB8L,EAAU9L,GAiC4B20B,CAAhB,EAAGxxB,WAEf,wBACEN,KAAK,SACLF,UAAU,uBAFZ,SAIE,mBAAGA,UAAU,yBAInB,qBACEA,UAAU,iCACV8D,MAAO,CAAEC,OAAQ,SAFnB,SAIE,uBAAO/D,UAAU,iBAAjB,SACE,gCACG0F,EACC,mCACGA,EAAMvL,OACL,mCACGuL,EAAMzL,KAAI,SAACyQ,GAAD,OACT,+BACE,oBAAI1K,UAAU,aAAd,SACE,sBAAMA,UAAU,mBAAhB,SACG0K,EAAKhR,OAGV,oBAAIsG,UAAU,4BAAd,SACE,mBACEkI,KAAK,UACLjG,QAAS,SAACkG,GAAD,OAvFhB,SAACA,EAAG8pB,GACrB9pB,GAAGA,EAAEC,iBAELyX,EAAKna,MAAMvL,OACbvC,OAAOqM,KAAKC,KAAK,CACfE,MAAO,SACP5E,KAAK,qDACL2E,KAAM,WACNI,kBAAkB,EAClBC,kBAAmB,SACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YACN,GADuB,EAAd4L,QAIP,OAAO,KAFPitB,EAAQK,MAMZL,EAAQK,GAmEkCC,CAAiB/pB,EAAGuC,IAFtC,SAIGA,EAAKwa,SAAWxa,EAAKwa,SAASjqB,KAAO,SAG1C,oBAAI+E,UAAU,aAAd,SACGyB,IAAOiJ,EAAKhJ,YAAYC,cAfpB+I,EAAKhR,SAqBlB,oBAAIsG,UAAU,eAAd,SACE,qBAAIA,UAAU,eAAd,UACE,mBAAGA,UAAU,kCADf,+BAQN,6BACE,+BACE,mBAAGA,UAAU,4BADf,iEAUZ,qBAAKA,UAAU,eAAf,SACE,yBACEE,KAAK,SACLF,UAAU,kBACViC,QAAS,kBAAMqK,KAHjB,UAKE,mBAAGtM,UAAU,oBALf,wBCvIG,SAASmyB,KACtB,IAAMtS,EAAOyO,KACb,EAAwB/yB,oBAAS,GAAjC,mBAAO5C,EAAP,KAAakY,EAAb,KACM7M,IAAW6b,EAAKna,MAAMvL,OAkC5B,OACE,qCACE,wBACE6F,UAAU,uBACVoE,MAAM,mBACNnC,QApCsB,WACxB4O,GAAQ,IAoCN7M,SAAUA,EAJZ,SAME,mBAAGhE,UAAU,kBAGdrH,GACC,cAAC,GAAD,CACE+b,YAzCiB,WACrB7D,GAAQ,IAyCJ6d,aAvCa,SAACuD,GAAkB,IAAD,EAC/BjB,EAAS,EAqBb,OApBAiB,EAAa9C,SAAS5Z,SAAQ,SAAC6c,GAAD,OAAUpB,EAASoB,EAAItS,SACrDjP,GAAQ,GAERgP,EAAK7X,IAAI,CACPtO,GAAIu4B,EAAav4B,GACjB8a,WAAYyd,EAAa/M,SAASxrB,GAClCwrB,SAAU+M,EAAa/M,SACvBxf,MAAOusB,EAAavsB,MACpB5J,QAASm2B,EAAan2B,QACtBszB,SAAU6C,EAAa7C,SACvBG,SAAU0C,EAAa1C,SACvBzP,MAAOmS,EAAanS,MACpBqP,SAAU8C,EAAa9C,SACvBjyB,UAAW+0B,EAAa72B,OAAO1B,GAC/BgI,WAAYuwB,EAAavwB,WACzBisB,UAAWsE,EAAaruB,SACxB6D,MAAK,UAAEwqB,EAAaxqB,aAAf,QAAwB,EAC7B4qB,WAAW,IAGNrB,Q,OCrCE,SAASsB,GAAmBnzB,GACzC,IACMiS,EADwB7W,IAAtB+C,KAC0BlC,OAyBlC,OApBA+B,qBAAU,WACR,GAAKgC,EAAMxG,KAAX,CAKA,IAAM45B,EAAQ36B,OAAOmT,KACnB,GACA,SACA,uFAGFwnB,EAAMC,SAASC,MA+BnB,SAAiB95B,EAAMyC,GACrB,IAAMs3B,ECnDO,SAAwB7S,EAAMzkB,GAAS,IAAD,YAC7Ci0B,EAAOsD,GAAQjD,UAAU7P,EAAKsP,UAChCyD,EAAS/S,EAAKC,MAAQuP,EAEpBpT,EAAQpiB,OAAO0hB,OAAP,oBAAcsE,EAAKqF,gBAAnB,aAAc,EAAe5J,cAA7B,QAAuC,IAAIxc,QACvD,SAACmd,GAAD,OAAWA,KAGb,MAAM,2JAAN,OAGM4D,EAAKgT,SAAW,SAAW,OAHjC,4BAIchT,EAAKgT,SAAWhT,EAAKgT,SAAWhT,EAAKnmB,GAJnD,kgBAmBQ0B,EAAOH,KAnBf,sDAsBYG,EAAO6gB,MAtBnB,8CAwBY7gB,EAAOunB,QAxBnB,+CA0BclhB,IAAOoe,EAAKne,YAAYe,OAAO,QA1B7C,mJA8BM,UAAAod,EAAKqF,gBAAL,SAAejqB,KAAO4kB,EAAKqF,SAASjqB,KAAO,qBA9BjD,yFAkCUghB,EAAM9hB,OAAS8hB,EAAQ,KAlCjC,yIAwCsB4D,EAAKgT,SAAW,SAAW,OAxCjD,qhBA2DQhT,EAAKna,MAAMzL,KAAI,SAACyQ,EAAMrF,GAAW,IAAD,EAChC,MAAM,WAAN,OAAkBA,EAAlB,uHAEMqF,EAAKe,KAFX,yHAKMf,EAAKzP,YALX,QAKmByP,EAAKkkB,SALxB,wJAQQlkB,EAAKe,KAAOf,EAAKiB,MARzB,2CA5DR,oGA8E8B,IAAlBkU,EAAKuP,SAAL,+MAG2BvP,EAAK0P,gBAHhC,QAG4C,EAH5C,8LAM4B1P,EAAKuP,SANjC,mOAUsBvP,EAAKC,aAV3B,QAUoC,EAVpC,0MAasBD,EAAKC,aAb3B,QAaoC,EAbpC,mCA9EZ,oNAiGkCuP,EAjGlC,wDAoGcuD,EAAM,oIAEgBA,EAFhB,kQApGpB,4aD2CaE,CAAc,OAACn6B,QAAD,IAACA,IAAQ,GAAIyC,GAClCtE,EAAI,sFAAkF47B,EAAlF,UAEV,MAAM,8CAAN,OAGY/5B,EAAKk6B,SAAW,WAAal6B,EAAKk6B,SAAW,UAAYl6B,EAAKe,GAH1E,+IAOY5C,EAPZ,kCAnCuBi8B,CAAQ5zB,EAAMxG,KAAMyY,IACzCmhB,EAAM36B,OAAOo7B,QAEbT,EAAMU,eAAiB,WAlBvB9zB,EAAM+zB,iBAKJ/5B,QAAQC,MAAM,8CAgBf,IAGD,sBACE4G,UAAU,OACV8D,MAAO,CACLqvB,SAAU,QACV9U,OAAQ,IACRlL,MAAO,OACPtJ,IAAK,EACLC,KAAM,EACN/F,OAAQ,OACRqvB,QAAS,OACTC,cAAe,SACfC,eAAgB,SAChBC,WAAY,SACZC,gBAAiB,kBAbrB,UAgBE,oBAAI1vB,MAAO,CAAE2E,MAAO,QAASgrB,aAAc,MAA3C,gCACA,mBAAGzzB,UAAU,0BC/CnByB,IAAO8c,OAAO,MCsQCmV,OAjQf,YAAyD,IAAjCC,EAAgC,EAAhCA,QAAsBrnB,EAAU,EAAvBoI,YAEzBkf,EADSp5B,qBAAWuD,GACDpF,KAEnBknB,EAAOyO,KAGb,EAAwB/yB,mBAAS,CAC/B7B,GAAI,EACJm6B,WAAY,EACZC,WAAY,WACZhU,MAAO,EACPiU,QAAS,KACTC,QAAS,KACT12B,KAAM,KACNq2B,QAASA,IARX,mBAAOh7B,EAAP,KAAakY,EAAb,KAYMC,EAAoB,SAAC,GAA2B,IAAzB7V,EAAwB,EAAxBA,KAAMoC,EAAkB,EAAlBA,MAAO6C,EAAW,EAAXA,KAClCiP,EAAM9R,EACG,WAAT6C,GAA8B,eAATA,IAAuBiP,EAAM4B,WAAW1T,IACjEwT,EAAQ,2BACHlY,GADE,kBAEJsC,EAAOkU,MAGZ8kB,EAAmB,WACjB,IAAM9E,EAAQ,aAAOtP,EAAKsP,UACtB6B,EAAS,EAEb,IAAKr4B,EAAKmnB,MAOR,OANAloB,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,wCACPC,mBAAmB,EACnBC,MAAO,QAEF,EAGT,GACsB,IAApB3L,EAAKk7B,YACe,IAApBl7B,EAAKk7B,YACe,IAApBl7B,EAAKk7B,WACL,CAAC,IAAD,IACA,IAAKl7B,EAAKo7B,QAOR,OANAn8B,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,sBACPC,mBAAmB,EACnBC,MAAO,QAEF,EAET,IAAI,UAAA3L,EAAK2E,YAAL,eAAWnD,QAAS,EAOtB,OANAvC,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,kDACPC,mBAAmB,EACnBC,MAAO,QAEF,EACF,IAAI,UAAA3L,EAAK2E,YAAL,eAAWnD,QAAS,EAO7B,OANAvC,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,kCACPC,mBAAmB,EACnBC,MAAO,QAEF,EAIX,GAAwB,IAApB3L,EAAKk7B,aACFl7B,EAAK2E,KAOR,OANA1F,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,2CACPC,mBAAmB,EACnBC,MAAO,QAEF,EAIX6qB,EAAS5yB,KAAT,2BACK5D,GADL,IAEEe,GAAG,MAAD,OAAQif,KAAKC,MAAMpL,YACrBsmB,WAAYnB,GAAQ3D,cAAcr2B,EAAKk7B,YACvC/T,MAAO6T,EAAUh7B,EAAKmnB,MAAQ6T,EAAUh7B,EAAKmnB,SAG/CqP,EAAS5Z,SAAQ,SAAC6c,GAAD,OAAUpB,GAAUoB,EAAItS,SAEzCxT,IAEAuT,EAAK7X,IAAL,2BACK6X,GADL,IAEEsP,SAAUA,EACVkD,WAAW,MAQjB,OACE,qBAAKryB,UAAU,gBAAgB8U,SAAS,KAAxC,SACE,qBAAK9U,UAAU,eAAemC,KAAK,WAAnC,SACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,6BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQiC,QAAS,kBAAMqK,KAAvD,SACE,sBAAM,cAAY,OAAlB,uBAGJ,qBAAKtM,UAAU,iBAAf,SACE,uBAAMI,aAAa,MAAM2jB,SAhBd,SAAC5b,GAClBA,EAAEC,iBACF6rB,KAcM,UACE,qBAAKj0B,UAAU,yBAAf,SACE,qBAAKA,UAAU,MAAf,SACE,qBAAIA,UAAU,cAAd,wBACa,uBAAMA,UAAU,eAAhB,eAAkC2zB,YAInD,sBAAK3zB,UAAU,WAAf,UACE,sBAAKA,UAAU,MAAf,UACE,mDACA,yBACE/E,KAAK,aACL+E,UAAU,+BACVJ,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,IAC5CF,aAAc3H,EAAKk7B,WAJrB,UAME,wBAAQx2B,MAAM,IAAd,sBACA,wBAAQA,MAAM,IAAd,+BACA,wBAAQA,MAAM,IAAd,gCACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,IAAd,oBACA,wBAAQA,MAAM,IAAd,2BACA,wBAAQA,MAAM,IAAd,wBAGJ,sBAAK2C,UAAU,MAAf,UACE,6CACA,uBACEE,KAAK,SACL8Q,IAAI,IACJhR,UAAU,0BACV/E,KAAK,QACL2E,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,IAC5CH,WAAW,UAKI,IAApB1H,EAAKk7B,WACJ,sBAAK7zB,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACuB,IAApBrH,EAAKk7B,YAAwC,IAApBl7B,EAAKk7B,WAC7B,qCACE,0CACA,yBACE54B,KAAK,UACL+E,UAAU,+BACVJ,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,IAH9C,UAKE,wBAAQnD,MAAM,GAAd,qCACCu2B,EAAU35B,KAAI,SAACi6B,GACd,MAAqB,SAAdA,EAAKj5B,KACV,wBAAsBoC,MAAO62B,EAAKx6B,GAAlC,SACGw6B,EAAKv7B,MADKu7B,EAAKx6B,IAGhB,cAIPf,EAAKk7B,WAWR,oBAAI7zB,UAAU,uCAAd,uBAVA,qCACE,gDACA,uBACEE,KAAK,OACLjF,KAAK,UACL+E,UAAU,eACVJ,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,WASpD,sBAAKR,UAAU,MAAf,UACE,gCACuB,IAApBrH,EAAKk7B,WACF,oBACA,uBAEN,uBACE3zB,KAAK,OACLjF,KAAK,OACL+E,UAAU,eACVJ,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,YAIhD,KAEHmzB,EAAUh7B,EAAKmnB,MACd,qBAAK9f,UAAU,MAAf,SACE,qBAAKA,UAAU,MAAf,SACE,oBAAIA,UAAU,mBAAd,SACuB,IAApBrH,EAAKk7B,WACJ,+CAEE,uBAAM7zB,UAAU,OAAhB,eAA0BrH,EAAKmnB,MAAQ6T,QAGzC,uBAAM3zB,UAAU,cAAhB,UACE,mBAAGA,UAAU,4BADf,iDAQN,UAGR,sBAAKA,UAAU,eAAf,UACE,yBACEE,KAAK,SACLF,UAAU,kBACViC,QAAS,kBAAMqK,KAHjB,UAKE,mBAAGtM,UAAU,oBALf,cAQA,yBACEE,KAAK,SACLF,UAAU,kBACViC,QAAS,kBAAMgyB,KACfjwB,UAAWrL,EAAKmnB,OAASnnB,EAAKmnB,MAAQnnB,EAAKg7B,QAJ7C,UAME,mBAAG3zB,UAAU,2BANf,uBC7OG,SAASm0B,KAEtB,MAAwB54B,mBAAS,CAC/B64B,aAAa,IADf,mBAAOz7B,EAAP,KAAakY,EAAb,KAIMgP,EAAOyO,KAEPqF,EAAUhB,GAAQzD,UAAUrP,EAAKna,MAAOma,EAAKsP,SAAUtP,EAAKuP,UAE5D4B,EAA4B,IAAlBnR,EAAKuP,SAAiBuD,GAAQjD,UAAU7P,EAAKsP,UAAYwD,GAAQjD,UAAU7P,EAAKsP,UAAYtP,EAAKuP,SAC3GC,EAAOxP,EAAK0P,UAAYyB,EAgB9B,OACE,qCACE,wBACEhxB,UAAU,oCACViC,QAjBoB,WACtB4O,EAAQ,2BACHlY,GADE,IAELy7B,aAAa,MAebpwB,UAAW6b,EAAKna,MAAMvL,QAAW0lB,EAAK0P,UAAYF,EAHpD,SAKE,mBAAGrvB,UAAU,4BAEdrH,EAAKy7B,aACJ,cAAC,GAAD,CACE1f,YAlBe,WACnB7D,EAAQ,2BACHlY,GADE,IAELy7B,aAAa,MAgBXvU,KAAI,2BACCA,GADD,IAEFrL,WAAYqL,EAAKqF,SAASxrB,KAE5Bi6B,QAASA,OC9CJ,SAASU,GAAsBl1B,GAE5C,IAAM0gB,EAAOyO,KACPtqB,GAAW6b,EAAKqF,SAASxrB,KAAMmmB,EAAKna,MAAMvL,OACzCmD,EAAQ9C,qBAAWH,GAAnBiD,KACD3C,EAAUC,cAGV05B,EAAY,WAkBd,GAjBAzU,EAAK7X,IAAI,CACPtO,GAAI,EACJwrB,SAAU,CACRxrB,GAAI,EACJuB,KAAM,sBAERuZ,WAAY,EACZ9O,MAAO,GACP5J,QAAS62B,GAAQ1D,aACjBG,SAAU,EACVG,SAAU,EACVzP,MAAO,EACPqP,SAAU,GACVjyB,UAAWI,EAAKlC,OAAO1B,GACvB66B,SAAS,KAGPp1B,EAAM+D,MAAMC,OAAOzJ,GAGrB,OAAO,KAFPiB,EAAQ4B,KAAK,WAUnB,OACE,wBACEyD,UAAU,uBACVoE,MAAM,cACNnC,QARgB,WAChB0wB,GAAQpa,QAAQ,gEAA8D+b,IAQ9EtwB,SAAWA,EAJb,SAME,mBAAGhE,UAAU,0BCqJJw0B,OA9Lf,YAAuD,IAAXloB,EAAU,EAAvBoI,YAC7B,EAAwBnZ,mBAAS,CAC/Bq0B,WAAY,KADd,mBAAOj3B,EAAP,KAAakY,EAAb,KAIA,EAAmCtV,mBAAS,IAA5C,mBAAOk5B,EAAP,KAAkBC,EAAlB,KACM7U,EAAOyO,KACLhxB,EAAS9C,qBAAWH,GAApBiD,KACDgK,EAAaN,IAGd0N,EAAc,WACZpI,GAAQA,KAoBdqoB,EAAiB,WACf,IAAMj3B,EAAU,CACdwL,OAAQvQ,EAAKi3B,WACbrnB,UAAW,KACXipB,QAAS,KACT/pB,MAAO,QAGTH,EAAUL,YAAYvJ,GAAS3E,MAAK,SAACJ,GAChCA,EACD+7B,EAAa/7B,EAAKA,MAElBQ,QAAQC,MAAM,gCAqDtB,OACE,qBAAK4G,UAAU,gBAAgB8U,SAAS,KAAxC,SACE,qBAAK9U,UAAU,eAAemC,KAAK,WAAnC,SACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,mCACA,wBAAQE,KAAK,SAASF,UAAU,QAAQiC,QAASyS,EAAjD,SACE,sBAAM,cAAY,OAAlB,uBAGJ,sBAAK1U,UAAU,iBAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,aAAf,SACE,uBACEA,UAAU,eACVG,YAAY,iBACZP,SAAU,mBAnGL,SAAC,GAAe,IAAbvC,EAAY,EAAZA,MACpBwT,EAAQ,CACN+e,WAAYvyB,IAiGwBu3B,CAAhB,EAAGp0B,SACbmJ,WAAY,mBA/FH,SAACC,GACtB,GAAY,UAARA,EAAiB,CACnB,GAAIjR,EAAKi3B,WAAWz1B,OAAS,EAC3B,OAAOw6B,IAGT/8B,OAAOqM,KAAKC,KAAK,CACfE,MAAO,eACP5E,KAAM,kDACN2E,KAAM,aAsF2B0wB,CAAb,EAAGjrB,MACfnJ,OAAQ,kBAAM9H,EAAKi3B,WAAWz1B,OAAS,GAAKw6B,KAC5Ct0B,WAAW,MAGf,qBAAKL,UAAU,kBAAf,SACE,wBACEE,KAAK,SACLF,UAAU,yBACViC,QAAS0yB,EACT3wB,SAAUrL,EAAKi3B,WAAWz1B,OAAS,EAJrC,SAME,mBAAG6F,UAAU,yBAInB,qBACEA,UAAU,iCACV8D,MAAO,CAAEC,OAAQ,SAFnB,SAIE,uBAAO/D,UAAU,iBAAjB,SACE,kCACGy0B,EAAUx6B,KAAI,SAACirB,GAAD,OACb,+BACE,oBAAIllB,UAAU,aAAd,SACE,sBAAMA,UAAU,mBAAhB,SAAoCklB,EAASxrB,OAE/C,oBAAIsG,UAAU,YAAd,SACE,mBACEkI,KAAK,UACLjG,QAAS,SAACkG,GAAD,OAhGT,SAACA,EAAG+c,GAiCd,IAAD,EAhCT/c,EAAEC,iBACEyX,EAAKqF,SAASxrB,KAAOwrB,EAASxrB,GAC3B,CAAC,EAAG,GAAGjB,SAASonB,EAAKqF,SAASxrB,IA+BjCmmB,EAAK7X,IAAL,2BACK6X,GADL,IAEEqF,SAAS,CACPxrB,GAAIwrB,EAASxrB,GACbuB,KAAMiqB,EAASjqB,KAAOiqB,EAASjqB,KAAO,qBACtCqgB,OAAM,UAAE4J,EAAS5J,cAAX,QAAqB,IAE7B9G,WAAY0Q,EAASxrB,MACpBX,MAAK,kBAAOuT,OAtCf1U,OAAOqM,KAAKC,KAAK,CACfE,MAAO,SACP5E,KAAM,sFACN2E,KAAM,WACNI,kBAAkB,EAClBC,kBAAmB,QACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAkB,IACV,EADS,EAAd4L,UAEPkb,EAAK7X,IAAI,CACPtO,GAAI,EACJwrB,SAAU,CACRxrB,GAAGwrB,EAASxrB,GACZuB,KAAMiqB,EAASjqB,KACfqgB,OAAM,UAAE4J,EAAS5J,cAAX,QAAqB,IAE7B9G,WAAY0Q,EAASxrB,GACrBgM,MAAO,GACP5J,QAASg5B,GAAW7F,aACpBG,SAAU,EACVG,SAAU,EACVzP,MAAO,EACPqP,SAAU,GACVjyB,UAAWI,EAAKlC,OAAO1B,KAEzB4S,QAeNA,IAmDkCyoB,CAAoB5sB,EAAG+c,IACvCllB,UAAU,kBAHZ,SAKGklB,EAASjqB,KAAKW,oBAVZspB,EAASxrB,QAelB+6B,EAAUt6B,QACV,mCACG,CAAC,EAAG,GAAG1B,SAASonB,EAAKqF,SAASxrB,IAC7B,6BACE,8EAGF,6BACE,6BACE,uBAAMsG,UAAU,kCAAhB,oDAC0C,IACxC,2CAFF,8BAalB,qBAAKA,UAAU,eAAf,SACE,yBACEE,KAAK,SACLF,UAAU,kBACViC,QAASyS,EAHX,UAKE,mBAAG1U,UAAU,oBALf,wBCnLG,SAASg1B,KAGtB,MAA0Bz5B,oBAAS,GAAnC,mBAAO8a,EAAP,KAAcC,EAAd,KAGMI,EAAc,WAClBJ,GAAUD,IAGNwJ,EAAOyO,KAEb,OACE,qCACE,mBAAGtuB,UAAU,iCADf,WAGE,uBAAOA,UAAU,uBAAjB,SACG6f,EAAKqF,SAAWrF,EAAKqF,SAASjqB,KAAO,0BAExC,wBACEiF,KAAK,SACLF,UAAU,4BACVoE,MAAM,iBACNnC,QAASyU,EAJX,SAME,mBAAG1W,UAAU,0BAEdqW,GAAS,cAAC,GAAD,CAAqB3B,YAAagC,OCqDnCgd,OAtFf,YAA8D,IAAD,MAArCuB,eAAqC,MAA3B,GAA2B,EAAV3oB,EAAU,EAAvBoI,YACpC,OACE,qBAAK1U,UAAU,gBAAgB8U,SAAS,KAAxC,SACE,qBAAK9U,UAAU,eAAemC,KAAK,WAAnC,SACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,gCACA,wBAAQE,KAAK,SAASF,UAAU,QAAQiC,QAAS,kBAAMqK,KAAvD,SACE,sBAAM,cAAY,OAAlB,uBAGJ,sBAAKtM,UAAU,iBAAf,UACE,sBAAKA,UAAU,WAAf,UACE,sBAAKA,UAAU,MAAf,UACE,uBAAOA,UAAU,OAAjB,4BACA,+BAAOi1B,EAAQnB,gBAEjB,sBAAK9zB,UAAU,MAAf,UACE,uBAAOA,UAAU,OAAjB,8BACA,qCAAQi1B,EAAQnV,eAInBmV,EAAQC,OAASD,EAAQC,MAAMx7B,GAC9B,sBAAKsG,UAAU,WAAf,UACE,sBAAKA,UAAU,MAAf,UACE,uBAAOA,UAAU,OAAjB,mBACA,+BAAOi1B,EAAQC,MAAM73B,WAEvB,sBAAK2C,UAAU,MAAf,UACE,uBAAOA,UAAU,OAAjB,kBACA,yCAAOi1B,EAAQ33B,YAAf,QAAuB,aAGzB,KAEH23B,EAAQv7B,GACP,sBAAKsG,UAAU,WAAf,UACE,sBAAKA,UAAU,MAAf,UACE,uBAAOA,UAAU,eAAjB,mBACA,+BAAOi1B,EAAQv7B,QAEjB,sBAAKsG,UAAU,MAAf,UACE,uBAAOA,UAAU,eAAjB,mBACCi1B,EAAQvzB,WACP,+BAAOD,IAAOwzB,EAAQvzB,YAAYe,OAAO,QAEzC,yCAGJ,sBAAKzC,UAAU,MAAf,UACE,uBAAOA,UAAU,8BAAjB,qBACA,+BACGi1B,EAAQrZ,SAAWqZ,EAAQrZ,QAAQ3gB,KAChCg6B,EAAQrZ,QAAQ3gB,KAChB,aAKV,qBAAK+E,UAAU,WAAf,SACE,qBAAKA,UAAU,MAAf,SACE,uBAAMA,UAAU,wCAAhB,UACE,mBAAGA,UAAU,4BADf,gCAQR,qBAAKA,UAAU,eAAf,SACE,yBACEE,KAAK,SACLF,UAAU,kBACViC,QAAS,kBAAMqK,KAHjB,UAKE,mBAAGtM,UAAU,oBALf,wBCvEG,SAASm1B,GAAT,GAIX,IAAD,IAHDzqB,EAGC,EAHDA,KACO4B,EAEN,EAFD8oB,MACcC,EACb,EADDC,aAEA,EAAwB/5B,mBAAS,CAC/BkQ,KAAI,UAAEf,EAAKe,YAAP,QAAe,EACnBE,MAAK,UAAEjB,EAAKiB,aAAP,QAAgB,IAFvB,mBAAOhT,EAAP,KAAakY,EAAb,KAKMC,EAAoB,SAAC,GAAqB,IAAnB7V,EAAkB,EAAlBA,KAAMoC,EAAY,EAAZA,MAC/BwT,EAAQ,2BACHlY,GADE,kBAEJsC,EAAO6B,SAASO,OAIrBk4B,EAAmB,WACjBF,EAAQ,uCACH3qB,GACA/R,GAFE,IAGL42B,SAAU52B,EAAK8S,KAAO9S,EAAKgT,UAQjC,OACE,qBAAK3L,UAAU,gBAAgB8U,SAAS,KAAxC,SACE,qBAAK9U,UAAU,eAAemC,KAAK,WAAnC,SACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,SACE,sBAAMA,UAAU,gCAAhB,SACG0K,EAAKkkB,aAGV,wBAAQ1uB,KAAK,SAASF,UAAU,QAAQiC,QAAS,kBAAMqK,KAAvD,SACE,sBAAM,cAAY,OAAlB,uBAGJ,qBAAKtM,UAAU,iBAAf,SACE,sBAAKA,UAAU,WAAf,UACE,sBAAKA,UAAU,MAAf,UACE,6CACA,uBACEE,KAAK,SACL8Q,IAAI,IACJhR,UAAU,0BACV/E,KAAK,OACLqF,aAAc3H,EAAK8S,KACnB7L,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,SAGhD,sBAAKR,UAAU,MAAf,UACE,2CACA,uBACEE,KAAK,SACL8Q,IAAI,IACJhR,UAAU,0BACV/E,KAAK,QACLqF,aAAc3H,EAAKgT,MACnB/L,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,IAC5CmJ,WAAY,mBAxCT,SAACC,GACJ,UAARA,GAAiB2rB,IAuCgBC,CAAb,EAAG5rB,gBAKvB,sBAAK5J,UAAU,eAAf,UACE,yBACEE,KAAK,SACLF,UAAU,kBACViC,QAAS,kBAAMqK,KAHjB,UAKE,mBAAGtM,UAAU,oBALf,cAQA,yBACEE,KAAK,SACLF,UAAU,kBACViC,QAASszB,EAHX,UAKE,mBAAGv1B,UAAU,qBALf,uBCjEG,SAASy1B,KACtB,IAAM5V,EAAOyO,KACP0C,EAAUnR,EAAKuP,SAEjBuD,GAAQjD,UAAU7P,EAAKsP,UAAYtP,EAAKuP,SADxCuD,GAAQjD,UAAU7P,EAAKsP,UAErBE,EAAOxP,EAAK0P,UAAYyB,EAEtB31B,EADSb,qBAAWH,GAApBiD,KACAjC,MAER,EAAwBE,mBAAS,CAC/Bm6B,gBAAgB,EAChBC,oBAAoB,EACpBjrB,KAAM,GACNuqB,QAAS,KAJX,mBAAOt8B,EAAP,KAAakY,EAAb,KAQM9G,EAAmB,SAACW,GACtB,IAAMkmB,EAAW/Q,EAAKna,MAAM5G,QAC1B,SAAC82B,GAAD,OAAaA,EAAQlqB,iBAAmBhB,EAAKgB,kBAG3C6jB,EAAWoD,GAAQnD,YAAYoB,GAEnC/Q,EAAK7X,IAAL,2BACK6X,GADL,IAEEna,MAAOkrB,EACP9Q,MAAO6S,GAAQlD,SAASF,EAAU1P,EAAKuP,UACvCG,SAAUA,MAoBdsG,EAAsB,SAAC,GAA+B,IAA7Bn8B,EAA4B,EAA5BA,GAAIomB,EAAwB,EAAxBA,MACrBgW,GAD6C,EAAjBhC,WACdjU,EAAKsP,SAASrwB,QAAO,SAACm2B,GAAD,OAAaA,EAAQv7B,KAAOA,MAErEi5B,GAAQpa,QAAR,gDAAyDuH,IAAS,WAChED,EAAK7X,IAAL,2BACK6X,GADL,IAEEsP,SAAU2G,SAIhBC,EAAuB,SAAC5tB,EAAGuC,GACrBvC,GAAGA,EAAEC,iBACTyI,EAAQ,2BACHlY,GADE,IAEL+8B,gBAAgB,EAChBhrB,WA2BJsrB,EAAwB,WACtBnlB,EAAQ,2BACHlY,GADE,IAEL+8B,gBAAgB,EAChBhrB,KAAM,OAIZ,OACE,qCACE,uBAAO1K,UAAU,sBAAjB,SACE,kCACG6f,EAAKna,OAASma,EAAKna,MAAMvL,OACxB,mCACG0lB,EAAKna,MAAMzL,KAAI,SAACyQ,EAAMrF,GACrB,IAAMrB,EACH6b,EAAK0P,UAAYF,GAClBxP,EAAKsP,SAASh1B,QACd0lB,EAAKuP,SACD6G,EAAUx0B,IAAOkX,KAAKC,OAAOsF,KACjCzc,IAAOoe,EAAKne,YACZ,QAEF,OAAKgJ,EAAKgB,eAGR,+BACGwqB,GAAgBnsB,EAAkBW,EAAM1G,GACzC,qBACE/B,QAAS,SAACkG,GACM,WAAV9M,GAAkC,IAAZ46B,EACxBjf,MAAM,gCAEN+e,EAAqB,KAAMrrB,IALjC,UASE,mBACExC,KAAK,WACLlI,UAAU,2CACViC,QAAS,SAACkG,GACR,GAAc,WAAV9M,EACF,OAAO,KAEP06B,EAAqB5tB,EAAGuC,IAP9B,SAWGA,EAAKkkB,SAAWlkB,EAAKkkB,SAAWlkB,EAAKzP,OAExC,wBAAO+E,UAAU,iBAAjB,UACE,sBAAMA,UAAU,wBAAhB,SACG0K,EAAKe,OAFV,IAKE,uBACEzL,UAAW0K,EAAKiB,MAAQ,OAAS,mBADnC,cAGIjB,EAAKiB,SARX,IAWE,uBACE3L,UACE0K,EAAK6kB,SAAW,OAAS,mBAF7B,cAKI7kB,EAAK6kB,oBAxCNlqB,GAHsB,UAmDnC,KACHwa,EAAKuP,SACJ,+BACG8G,IA/HY,WACrBvD,GAAQpa,QAAQ,yCAAyC,WACvDsH,EAAK7X,IAAL,2BACK6X,GADL,IAEEuP,SAAU,UA2HiC,KAAMC,GAC7C,+BACE,sBAAMrvB,UAAU,4CAAhB,uBAGA,uBAAOA,UAAU,iBAAjB,SACE,uBAAMA,UAAU,mBAAhB,gBAAuC6f,EAAKuP,oBAIhD,KACHvP,EAAKsP,SAASh1B,OACb,mCACG0lB,EAAKsP,SAASl1B,KAAI,SAACm4B,EAAK/sB,GACvB,IAAMrB,KACJ6b,EAAKnmB,IAAOmmB,EAAKpY,WAEboY,EAAKnmB,KAAMmmB,EAAKpY,UAChBoY,EAAK0U,QAKX,OACE,+BACG2B,GAAgBL,EAAqBzD,EAAKpuB,GAC3C,+BACE,oBACEkE,KAAK,QACLlI,UAAU,iCACViC,QAAS,SAACkG,GAAD,OAtKF,SAACA,EAAG8sB,GACzB9sB,GAAGA,EAAEC,iBAETyI,EAAQ,2BACHlY,GADE,IAELg9B,oBAAoB,EACpBV,aAgKgCkB,CAAyBhuB,EAAGiqB,IAH9C,UAKE,sBAAMpyB,UAAU,eAAhB,mBACA,sBAAMA,UAAU,kBAAhB,SACGoyB,EAAI0B,gBAGT,wBAAO9zB,UAAU,iBAAjB,UACE,uBAAMA,UAAU,kBAAhB,UACGyB,IAAO2wB,EAAI1wB,YAAYe,OAAO,MADjC,OAGA,uBAAMzC,UAAU,OAAhB,cAAyBoyB,EAAItS,iBAjB1Bza,QAwBb,KAEHwa,EAAKwS,WAAaxS,EAAKpY,MACtB,oBAAIzH,UAAU,aAAd,SACE,oBAAIoL,QAAQ,IAAZ,SACE,uBAAMpL,UAAU,uDAAhB,UACE,mBAAGA,UAAU,yCADf,kEAOJ0C,QAAQ2sB,GAAQxP,EAAK0P,WACnB,oBAAIvvB,UAAU,aAAd,SACE,oBAAIoL,QAAQ,IAAZ,SACE,uBAAMpL,UAAU,uDAAhB,UACE,mBAAGA,UAAU,yCADf,6BAWXrH,EAAKg9B,oBACJ,cAACS,GAAD,CACE1hB,YAjLsB,WAC1B7D,EAAQ,2BACHlY,GADE,IAELg9B,oBAAoB,EACpBV,QAAS,OA8KPA,QAASt8B,EAAKs8B,UAIjBt8B,EAAK+8B,gBACJ,cAACP,GAAD,CACEzqB,KAAM/R,EAAK+R,KACX4qB,aAlLa,SAAC5qB,GAClB,IAAMkmB,EAAW/Q,EAAKna,MAAM5G,QAC1B,SAACuD,GAAD,OAAOA,EAAEqJ,iBAAmBhB,EAAKgB,kBAEnCklB,EAASr0B,KAAKmO,GAEd,IAAI6kB,EAAWoD,GAAQnD,YAAYoB,GAEnC/Q,EAAK7X,IAAL,2BACK6X,GADL,IAEEna,MAAOkrB,EACP9Q,MAAO6S,GAAQlD,SAASF,EAAU1P,EAAKuP,UACvCG,SAAUA,KAGZyG,KAoKIZ,MAAOY,OAOjB,SAASE,GAAgBG,GAAsC,IAAhC19B,EAA+B,uDAAxB,KAAMqL,EAAkB,wDAC5D,OACE,oBAAIF,MAAO,CAAEqP,MAAO,IAApB,SACE,wBACEjT,KAAK,SACLF,UAAWgE,EAAW,2BAA6B,kBACnD/B,QAAS,WACHo0B,IACE19B,EAAM09B,EAAK19B,GACV09B,MAGTryB,SAAUA,EATZ,SAWE,mBAAGhE,UAAU,gCC9RN,SAASg1B,KAEpB,IAAMnV,EAAOyO,KAEb,OACI,gCACI,uBAAOtuB,UAAU,OAAjB,oBACA,sBAAMA,UAAU,OAAhB,SAAwB6f,EAAKnmB,GAAKmmB,EAAKnmB,GAAK,UAC5C,uBAAOsG,UAAU,OAAjB,oBACA,sBAAMA,UAAU,OAAhB,SACCyB,IAAOoe,EAAKne,YAAYe,OAAO,OAE/Bod,EAAKpY,MACN,qCACI,uBAAOzH,UAAU,OAAjB,qBACA,sBAAMA,UAAU,OAAhB,SAAwB6f,EAAKpY,WAE7B,QChBD,SAAS6uB,KACpB,IAAMzW,EAAOyO,KACb,OACI,qCACI,sBAAMtuB,UAAU,UAAhB,wBACA,wBAAOA,UAAU,eAAjB,cACM2yB,GAAQzD,UAAUrP,EAAKna,MAAOma,EAAKsP,SAAUtP,EAAKuP,gBCRrD,SAASmH,KACpB,IAAM1W,EAAOyO,KACb,OACI,qCACI,sBAAMtuB,UAAU,UAAhB,oBACA,wBAAOA,UAAU,eAAjB,cAAkC6f,EAAK0P,eCLpC,SAASiH,GAAT,GAA+C,IAAflqB,EAAc,EAA1BoI,YAAoB/b,EAAM,EAANA,KACnD,OACI,qBAAKqH,UAAU,gBAAf,SACA,qBAAKA,UAAU,wBAAwBmC,KAAK,WAA5C,SAEI,sBAAKnC,UAAU,gBAAf,UACA,sBAAKA,UAAU,eAAf,UACI,oBAAIA,UAAU,cAAd,uBACA,wBAAQE,KAAK,SAASF,UAAU,QAAQiC,QAAS,kBAAMqK,KAAvD,SACA,sBAAM,cAAY,OAAlB,uBAGJ,cAAC,EAAD,CACI3T,KAAQA,IAGZ,qBAAKqH,UAAU,eAAf,SACQ,yBACAE,KAAK,SACLF,UAAU,kBACViC,QAAS,kBAAMqK,KAHf,UAKA,mBAAGtM,UAAU,oBALb,qBCfL,SAASy2B,KAAa,IAAD,EAE1BC,EAAcl8B,qBAAW6zB,IAE/B,EAAkC9yB,oBAAS,GAA3C,mBAAO4Z,EAAP,KAAkBwhB,EAAlB,KAEA,OACI,gCACI,wBACI32B,UAAU,oBACVoE,MAAM,gBACNJ,UAAY0yB,EAAYh9B,GACxBuI,QAAW,kBAAK00B,GAAa,IAJjC,SAMI,mBAAG32B,UAAU,kBAEhBmV,EACG,cAACqhB,GAAD,CACI79B,KAAI,UAAI+9B,EAAY/I,iBAAhB,QAA6B,GACjCjZ,YAAe,WAAKiiB,GAAa,MAEvC,QCrBC,SAASC,KAEpB,IAAMF,EAAcl8B,qBAAW6zB,IAEzB1zB,EAAUC,cAMhB,OACI,8BACI,wBACIoF,UAAU,oBACVoE,MAAM,SACNJ,UAAY0yB,EAAYjvB,MACxBxF,QAVO,WACftH,EAAQ4B,KAAR,mBAAyBm6B,EAAYjvB,SAKjC,SAMI,mBAAGzH,UAAU,wBCOd,SAAS62B,GAAoB13B,GAC1C,IAAQ7B,EAAS9C,qBAAWH,GAApBiD,KACFw5B,EAAWzF,KACXpzB,EAAe,CACnBvE,GAAI,EACJ+N,MAAO,EACPyd,SAAU,CACRxrB,GAAI,EACJuB,KAAM,qBACNqgB,OAAQ,IAEV9G,WAAY,EACZ9O,MAAO,GACP5J,QAASg5B,GAAW7F,aACpBG,SAAU,EACVG,SAAU,EACVzP,MAAO,EACPqP,SAAU,GACVjyB,UAAWI,EAAKlC,OAAO1B,GACvBi0B,UAAW,GACXqF,OAAO,EACPuB,SAAS,EACTlC,WAAW,EACX/nB,SAAS,GAGX,EAA0B/O,mBAAS0C,GAAnC,mBAAOM,EAAP,KAAcmB,EAAd,KAEMsxB,EAAS2B,GAAQjD,UAAUnxB,EAAM4wB,UAAY5wB,EAAM6wB,SACnDC,EAAO9wB,EAAMuhB,OAASkR,EACtBhtB,GAAWzF,EAAMkJ,SAElB4nB,IAAS9wB,EAAMmH,MAAMvL,QAsBpB48B,EAAgB,WACpB,IAAMp+B,EAAO,CACXe,GAAI6E,EAAM7E,GACV8a,WAAYjW,EAAMiW,WAClB4a,SAAU7wB,EAAM6wB,SAChB1pB,MAAO,GACPypB,SAAU,IAkCZ,OA/BK5wB,EAAM7E,KACTf,EAAKmD,QAAUyC,EAAMzC,SAGvByC,EAAMmH,MAAM6P,SAAQ,SAAC7K,GAAD,OAClB/R,EAAK+M,MAAMnJ,KAAK,CACd7C,GAAIgR,EAAKhR,GACT+R,KAAMf,EAAKe,KACXE,MAAOjB,EAAKiB,MACZD,eAAgBhB,EAAKgB,oBAIrBnN,EAAM4wB,SAASh1B,QACjBoE,EAAM4wB,SAAS5Z,SAAQ,SAAC0f,GACtB,IAAM7C,EAAM,CACV14B,GAAIu7B,EAAQv7B,GAAKu7B,EAAQv7B,GAAK,EAC9Bm6B,WAAYoB,EAAQpB,WACpB/T,MAAOmV,EAAQnV,OAGU,IAAvBmV,EAAQpB,aACVzB,EAAI90B,KAAO23B,EAAQ33B,KACQ,IAAvB23B,EAAQpB,aACVzB,EAAI2B,QAAUkB,EAAQlB,UAI1Bp7B,EAAKw2B,SAAS5yB,KAAK61B,MAGhBz5B,GAGH+4B,EAAW,WACf95B,OAAOqM,KAAKC,KAAK,CACfE,MAAO,SACP5E,KAAK,2CACL2E,KAAM,OACNI,kBAAkB,EAClBC,kBAAmB,eACnBC,iBAAkB,qBAClBC,qBAAqB,EACrBsyB,gBAAgB,IACfj+B,MAAK,YAAiB,EAAd4L,QAGcmyB,EAASpF,SAASqF,KAC1Bh+B,MAAK,YAAe,IAAZJ,EAAW,EAAXA,KACfA,EACE4F,EAAM7E,IAAM6E,EAAMkJ,MACpB/H,EAAS,2BACJnB,GADG,IAEN7E,GAAIf,EAAKe,GACT24B,WAAW,EACXW,OAAO,KAGTp7B,OAAOqM,KAAKC,KAAK,CACfE,MAAO,+BACP5E,KAAK,8CACL2E,KAAM,UACNI,kBAAkB,EAClBC,kBAAmB,WACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,QASPguB,GAAQpa,QAAQ,0BAA0B,WACxC7Y,EAASzB,MARXyB,EAAS,2BACJnB,GADG,IAEN7E,GAAIf,EAAKe,GACT24B,WAAW,EACXW,OAAO,QAUf75B,QAAQC,MAAM,gCAKG09B,EAASpF,SAASqF,KAC1Bh+B,MAAK,YAAe,IAAZJ,EAAW,EAAXA,KACfA,EACE4F,EAAM7E,IAAM6E,EAAMkJ,MACpB/H,EAAS,2BACJnB,GADG,IAEN7E,GAAIf,EAAKe,GACT24B,WAAW,KAIbz6B,OAAOqM,KAAKC,KAAK,CACfE,MAAO,+BACPD,KAAM,UACNI,kBAAkB,EAClBF,mBAAmB,EACnBK,qBAAqB,EACrBJ,MAAO,MAIXnL,QAAQC,MAAM,oCAqFxB,OA9EA+D,qBAAU,WAAO,IAAD,IACR2iB,EAAK,UAAGvhB,EAAMmH,aAAT,aAAG,EAAa4pB,QACzB,SAAC2H,EAAMvsB,GAAP,OAAgBA,EAAKe,KAAOf,EAAKiB,MAAQsrB,IACzC,GAEI9H,EAAQ,UAAG5wB,EAAM4wB,gBAAT,aAAG,EAAgBG,QAC/B,SAAC2H,EAAMvsB,GAAP,OAAgBA,EAAKoV,MAAQmX,IAC7B,GAEEC,EAAQx0B,UAAUod,EAAQvhB,EAAM6wB,SAAWD,IAC3CkD,GAAY9zB,EAAM7E,GAEjBomB,GAAUqP,EAGJ5wB,EAAM8zB,YACfA,GAAY,IAHZA,GAAY,EACZ6E,GAAQ,IAKc,IAApB34B,EAAM8zB,YAAsC,IAAf9zB,EAAMsE,OACrCwvB,GAAY,GAGd3yB,EAAS,2BACJnB,GADG,IAENg2B,QAAS2C,EACT7E,YACAxvB,MAAM,OAEP,CAACtE,EAAMmH,MAAOnH,EAAM4wB,SAAU5wB,EAAM6wB,WAEvCjyB,qBAAU,WACJoB,EAAMg2B,UACHh2B,EAAM7E,IAAO6E,EAAMkJ,OACtBiqB,OAGH,CAACnzB,EAAMg2B,UAEVp3B,qBAAU,WACJgC,EAAM+D,MAAMC,OAAOzJ,KACrBgG,EAAS,2BACJnB,GADG,IAEN+L,SAAS,KAEXwsB,EACGrF,YAAYtyB,EAAM+D,MAAMC,OAAOzJ,IAC/BX,MAAK,YAAe,IAAZJ,EAAW,EAAXA,KACHA,GACF+G,EAAS,2BACJnB,GADG,IAEN7E,GAAIf,EAAKe,GACT+N,MAAO9O,EAAK8O,MACZ+M,WAAY7b,EAAKusB,SAASxrB,GAC1BgM,MAAO/M,EAAK+M,MACZ5J,QAASnD,EAAKmD,QACdszB,SAAUz2B,EAAKy2B,SACfG,SAAU52B,EAAK42B,SACfzP,MAAOnnB,EAAKmnB,MACZqP,SAAUx2B,EAAKw2B,SACfjyB,UAAWvE,EAAKyC,OAAO1B,GACvBgI,WAAY/I,EAAK+I,WACjBisB,UAAWh1B,EAAKiL,SAChBshB,SAAUvsB,EAAKusB,SACfmN,WAAW,EACX/nB,SAAS,QAIdrR,OAAM,WACLyG,EAAS,2BACJnB,GADG,IAEN+L,SAAS,WAIhB,IAGD,cAAC+jB,GAAYjxB,SAAb,CAAsBC,MAAK,2BAAOkB,GAAP,IAAcyJ,IAlNzB,SAACmvB,GACjB,OAAO,IAAIngC,SAAQ,SAACC,GAClByI,EAASy3B,GACTlgC,UA+MF,SACE,sBAAK+I,UAAU,0BAAf,UACE,sBAAKA,UAAU,8BAAf,UACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,cAACg1B,GAAD,MAGF,qBAAKh1B,UAAU,MAAf,SACE,cAAC,GAAD,MAGF,qBAAKA,UAAU,QAAf,SACE,sBAAKA,UAAU,6CAAf,UACE,cAAC42B,GAAD,IAEA,cAACzE,GAAD,IAEA,cAACpB,GAAD,IAEA,cAAC,GAAD,eAAc5xB,IAEd,cAACs3B,GAAD,YAIN,qBACEz2B,UAAU,kDACV8D,MAAO,CAAEgQ,UAAW,QAFtB,SAIGvV,EAAM+L,QACL,sBAAKtK,UAAU,qEAAf,UACE,sDACA,qBACEA,UAAU,8BACVmC,KAAK,cAIT,cAACszB,GAAD,SAKN,qBAAKz1B,UAAU,cAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,mBAAf,SACE,cAACu2B,GAAD,MAGF,qBAAKv2B,UAAU,mBAAf,SACE,cAACs2B,GAAD,MAGF,sBAAKt2B,UAAU,mBAAf,UACE,cAAC,GAAD,IAEA,cAACm0B,GAAD,IAEA,yBACEn0B,UAAU,uBACViC,QAAS,WAzRjB1D,EAAM7E,IAAM6E,EAAMkJ,OAASlJ,EAAM8zB,UACnCX,IAEAhyB,EAAS,2BACJnB,GADG,IAENy0B,OAAO,MAqRChvB,SAAUA,EAHZ,UAKE,mBAAGhE,UAAU,sBALf,cASCzB,EAAMy0B,OACL,cAACV,GAAD,CACE35B,KAAI,2BAAO4F,GAAP,IAAcs0B,SAAUt0B,EAAMkJ,QAClCyrB,SAAU,kBAAMxzB,EAAS,2BAAKnB,GAAN,IAAay0B,OAAO,qB,aChW/C,SAASoE,GAAT,GAA6C,IAAZ15B,EAAW,EAAXA,QAC9C,EAA0BnC,mBAAS,CACjC4zB,SAAU,GACVjxB,KAAM,GACN2K,KAAM,EACNhG,MAAM,IAJR,mBAAOtE,EAAP,KAAcmB,EAAd,KAOM23B,EAAU,uCAAG,sCAAAr7B,EAAA,6DACXs7B,EADW,2BAEZ55B,GAFY,IAGf6K,UAAW,GACXM,KAAMtK,EAAMsK,OAEdnJ,EAAS,2BACJnB,GADG,IAENsE,MAAM,KAGF00B,EAAc/9B,EAAO,WAAY,KAAM89B,GAX5B,SAYqB3gC,EAAI4gC,GAZzB,gBAYT5+B,EAZS,EAYTA,KAAMW,EAZG,EAYHA,QAAS4E,EAZN,EAYMA,KAEnBvF,EACF+G,EAAS,2BACJnB,GADG,IAEN4wB,SAAUx2B,EACVuF,KAAMA,EACN2E,MAAM,KAECvJ,IACToG,EAAS,2BACJnB,GADG,IAENsE,MAAM,KAGR1J,QAAQC,MAAM,kDAAmDE,GACjE1B,OAAOqM,KAAKC,KAAK,oBAAqB5K,EAAS,UA5BhC,4CAAH,qDA0ChB,OAVA6D,qBAAU,WACRk6B,MACC,CACD35B,EAAQ85B,QACR95B,EAAQ+5B,WACR/5B,EAAQg6B,SACRh6B,EAAQR,UACRqB,EAAMsK,OAIN,sBAAK7I,UAAU,iCAAf,UACE,qBAAKA,UAAU,cAAf,SACE,oBAAIA,UAAU,0BAAd,yBAEF,qBAAKA,UAAU,YAAf,SACE,wBAAOA,UAAU,iBAAjB,UACE,gCACE,+BACE,wCACA,yCACA,wCACA,4CAGJ,gCACGzB,EAAM4wB,SAASh1B,OACdoE,EAAM4wB,SAASl1B,KAAI,SAACm4B,GAClB,OACE,qBAEEpyB,UAA0B,IAAfoyB,EAAIuF,OAAe,eAAiB,GAFjD,UAIE,oBAAI33B,UAAU,iBAAd,SAAgCoyB,EAAI0B,aACpC,oBAAI9zB,UAAU,kBAAd,SACGoyB,EAAIvS,MAAQuS,EAAIvS,KAAKqF,SAClBkN,EAAIvS,KAAKqF,SAASjqB,KAClB,OAEN,6BACE,sBACE+E,UAAU,sBACV8Z,IAAK,gBAAkBsY,EAAIwF,aAC3BxzB,MAAO,gBAAkBguB,EAAIwF,aAH/B,SAKGxF,EAAIvS,MAAQuS,EAAIvS,KAAKE,OAASqS,EAAIvS,KAAKE,OAAS,SAGrD,oBAAI/f,UAAU,aAAd,SAA4B63B,YAASp1B,OAAO2vB,EAAItS,WAlB3CsS,EAAI14B,OAuBf,6BACE,oBAAI0R,QAAQ,IAAIpL,UAAU,cAA1B,SACE,qBAAIA,UAAU,eAAd,UACE,mBAAGA,UAAU,qBADf,2CAWX0C,QAAQnE,EAAML,KAAK4hB,QAClB,sBAAK9f,UAAU,cAAf,UAC+B,IAA5BzB,EAAML,KAAK4K,aACV,mBAAGZ,KAAK,QAAQjG,QAAS,SAACkG,GAAD,OAAOA,EAAEC,kBAAlC,SACE,mBAAGpI,UAAU,qCAGf,mBACEkI,KAAK,QACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACF1I,EAAS,2BACJnB,GADG,IAENsK,KAAMtK,EAAMsK,KAAO,MANzB,SAUE,mBAAG7I,UAAU,2BAGhB,IAAMzB,EAAMsK,KAAO,MAAQtK,EAAML,KAAK6K,UAAY,IAClDxK,EAAML,KAAK4K,eAAiBvK,EAAML,KAAK6K,UACtC,mBAAGb,KAAK,QAAQjG,QAAS,SAACkG,GAAD,OAAOA,EAAEC,kBAAlC,SACE,mBAAGpI,UAAU,oCAGf,mBACEkI,KAAK,QACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACF1I,EAAS,2BACJnB,GADG,IAENsK,KAAMtK,EAAMsK,KAAO,MANzB,SAUE,mBAAG7I,UAAU,6BAMpBzB,EAAMsE,MACL,qBAAK7C,UAAU,eAAf,SACE,mBAAGA,UAAU,uCCtJR,SAAS83B,GAAT,GAAqD,IAA/Bp6B,EAA8B,EAA9BA,QAASq6B,EAAqB,EAArBA,YAAaz6B,EAAQ,EAARA,KACzD,EAA0B/B,mBAAS,CACjCL,IAAKoC,EAAKjC,MACVykB,MAAO,EACPkY,SAAU,EACVC,KAAM,KACNp1B,MAAM,IALR,mBAAOtE,EAAP,KAAcmB,EAAd,KAQM23B,EAAU,uCAAG,kDAAAr7B,EAAA,6DACjB0D,EAAS,2BACJnB,GADG,IAENsE,MAAM,KAGFq1B,EANW,2BAOZx6B,GAPY,IAQf6K,UAAW,GACXrI,KAAM,YAGFtJ,EAAM4C,EAAO,WAAY,KAAM0+B,GAZpB,SAaevhC,EAAIC,GAbnB,mBAaT+B,EAbS,EAaTA,KAAMW,EAbG,EAaHA,QAEdH,QAAQkD,IAAI,gCACR1D,EAhBa,oBAiBXw/B,EAAmBvgC,OAAOwgC,EAAE,eAAe9d,IAAI,GAAG+d,WAAW,MAC/DC,EAAe,CACbC,qBAAqB,EACrBC,YAAY,GAEdC,EAAS,GACTld,EAAS,GACTuE,EAAQ,EACRkY,EAAW,EACXU,EAAY,GAEVn6B,EAAM05B,MAAM15B,EAAM05B,KAAKU,UAEtBhgC,EAAKW,QA9BK,qBA+BTX,IAAQA,EAAKwB,OA/BJ,kCAgCLxB,EAAKsB,KAAI,SAAC2+B,GAOd,OANAH,EAAOl8B,KAAKq8B,EAAG/hC,QACf0kB,EAAOhf,KAAKq8B,EAAG9Y,MAAMzK,QAAQ,IACX,aAAdujB,EAAG/hC,SACLmhC,EAAWY,EAAG9Y,OAEhBA,GAAS8Y,EAAG9Y,MACL,QAvCE,gCA0CX2Y,EAAS,CAAC,gBACVld,EAAS,CAAC,GA3CC,QA8Cb7b,EAAS,2BACJnB,GADG,IAENuhB,QACAkY,WACAn1B,MAAM,KAlDK,wBAqDb1J,QAAQC,MAAM,0CAA2CT,EAAKW,SAC9Dm/B,EAAS,CAAC,gBACVld,EAAS,CAAC,KACV7b,EAAS,2BACJnB,GADG,IAENsE,MAAM,KA1DK,QA6Df61B,EAAY,CACVD,OAAQA,EACRI,SAAU,CACR,CACElgC,KAAM4iB,EACNiY,gBAAiB,CACf,UACA,UACA,UACA,UACA,UACA,UACA,WAKRj1B,EAAM05B,KAAO,IAAIrgC,OAAOkhC,MAAMX,EAAkB,CAC9Cj4B,KAAM,MACNvH,KAAM+/B,EACNxzB,QAASozB,IAjFI,+BAoFf1gC,OAAOqM,KAAKC,KAAK,CACfE,MAAO,SACP5E,KAAM,+CACN2E,KAAM,QACNK,kBAAmB,OAErB9E,EAAS,2BACJnB,GADG,IAENsE,MAAM,KA5FO,kBA+FRvJ,GA/FQ,4CAAH,qDAgHhB,OAbA6D,qBAAU,WACRk6B,MACC,CACD35B,EAAQ85B,QACR95B,EAAQ+5B,WACR/5B,EAAQg6B,SACRh6B,EAAQR,YAGVC,qBAAU,WACR46B,EAAY,CAAEgB,OAAQx6B,EAAMy5B,aAC3B,CAACz5B,EAAMy5B,WAGR,sBAAKh4B,UAAU,iCAAf,UACE,qBAAKA,UAAU,cAAf,SACE,oBAAIA,UAAU,0BAAd,iDAIF,sBAAKA,UAAU,YAAf,UACE,wBAAQtG,GAAG,eACX,8CACe,iCAASm+B,YAASp1B,OAAOlE,EAAMuhB,SAC5C,uBAFF,aAGY,iCAAS+X,YAASp1B,OAAOlE,EAAMy5B,kBAG5Cz5B,EAAMsE,MACL,qBAAK7C,UAAU,eAAf,SACE,mBAAGA,UAAU,uCC1IR,SAASg5B,GAAT,GAAkC,IAAZt7B,EAAW,EAAXA,QACnC,EAA0BnC,mBAAS,CACjC09B,SAAU,GACVpwB,KAAM,EACNlQ,KAAM,GACNkK,MAAM,IAJR,mBAAOtE,EAAP,KAAcmB,EAAd,KAOM23B,EAAU,uCAAG,oCAAAr7B,EAAA,6DACXk9B,EADW,2BAEZx7B,GAFY,IAGf6K,UAAW,GACXrI,KAAM,UAERR,EAAS,2BACJnB,GADG,IAENsE,MAAM,KAGFs2B,EAAW3/B,EAAO,WAAY,KAAM0/B,GAXzB,SAYeviC,EAAIwiC,GAZnB,gBAYTxgC,EAZS,EAYTA,KAAMW,EAZG,EAYHA,QAEVX,EACF+G,EAAS,2BACJnB,GADG,IAEN5F,KAAMA,EACNkK,MAAM,KAECvJ,IACToG,EAAS,2BACJnB,GADG,IAENsE,MAAM,KAER1J,QAAQC,MAAM,kDAAmDE,GACjE1B,OAAOqM,KAAKC,KAAK,oBAAqB5K,EAAS,UA1BhC,2CAAH,qDAuChB,OATA6D,qBAAU,WACRk6B,MACC,CACD35B,EAAQ85B,QACR95B,EAAQ+5B,WACR/5B,EAAQg6B,SACRh6B,EAAQR,YAIR,sBAAK8C,UAAU,iCAAf,UACE,qBAAKA,UAAU,cAAf,SACE,oBAAIA,UAAU,0BAAd,4CAIF,qBAAKA,UAAU,YAAf,SACE,oBAAIA,UAAU,aAAd,SACGzB,EAAM5F,KAAKwB,OACVoE,EAAM5F,KAAKsB,KAAI,SAACi6B,EAAM7xB,GACpB,OACE,qBACErC,UAAU,oEADZ,UAIE,uBAAOA,UAAU,iBAAjB,SAAmCk0B,EAAKj5B,OACxC,sBAAM+E,UAAU,sBAAhB,SACG63B,YAASp1B,OAAOyxB,EAAKpU,WAJnBzd,MAUX,oBAAIrC,UAAU,oEAAd,SACE,qBAAIA,UAAU,eAAd,UACE,mBAAGA,UAAU,qBADf,sCAQPzB,EAAMsE,MACL,qBAAK7C,UAAU,eAAf,SACE,mBAAGA,UAAU,uC,OC7ER,SAASo5B,GAAT,GAA4C,IAAzB17B,EAAwB,EAAxBA,QAASq6B,EAAe,EAAfA,YAEjCP,EAA6C95B,EAA7C85B,QAASt6B,EAAoCQ,EAApCR,UAAWw6B,EAAyBh6B,EAAzBg6B,SAAUD,EAAe/5B,EAAf+5B,WACtC,EAA0Bl8B,mBAAS,CACjC2B,YACAs6B,UACAC,aACAC,WAEA2B,SAAU,GACVx2B,MAAM,IAPR,mBAAOtE,EAAP,KAAcmB,EAAd,KAWM45B,EAAY97B,IAEZW,EADS3D,qBAAWuD,GACFpF,KAAKmG,QAAO,SAACgQ,GAAD,MAAkB,aAAXA,EAAE7T,QAcvCs+B,EAAmB,SAAC7Y,EAAOrE,GAC/B3c,EAAS,2BACJnB,GADG,kBAELmiB,EAAQjf,IAAO4a,GAAM5Z,OAAO,kBAG3B+2B,EAAa,WACjB95B,EAAS,2BACJnB,GADG,IAENsE,MAAM,KAERy2B,EAAU77B,aAAa,CAAEP,UAAWqB,EAAMrB,YAAanE,MAAK,YAAe,IAAZJ,EAAW,EAAXA,KAC7D,GAAIA,EAAM,CACR,IAAM8gC,EAAQ9gC,EAAKmG,QAAO,SAAC46B,GAAD,OAAQA,EAAEr+B,MAAM5C,SAAS,aACnDiH,EAAS,2BACJnB,GADG,IAEN86B,SAAUI,EACV52B,MAAM,UAGR1J,QAAQC,MAAM,uDACdsG,EAAS,2BACJnB,GADG,IAENsE,MAAM,SAed,OARA1F,qBAAU,WACRq8B,MACC,IAOD,qBAAKx5B,UAAU,0BAAf,SACE,qBAAKA,UAAU,yBAAf,SACE,sBAAKA,UAAU,+BAAf,UACE,qBAAKA,UAAU,2BAAf,SACE,mBAAGA,UAAU,0CAAb,uBAGF,qBAAKA,UAAU,mBAAf,SACE,qBAAKA,UAAU,YAAf,SACE,yBACEA,UAAU,+BACV3C,MAAOkB,EAAMrB,UACb0C,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRd,EAAS,2BAAKnB,GAAN,IAAarB,UAAWsD,EAAOnD,UAJ3C,UAOE,wBAAQA,MAAM,GAAd,SACGkB,EAAMsE,OAAS1E,EAAShE,OAAS,cAAgB,UAEnDgE,EAASlE,KAAI,SAACmB,GACb,OACE,wBAAwBiC,MAAOjC,EAAO1B,GAAtC,SACG0B,EAAOzC,KAAKsC,MADFG,EAAO1B,cAS9B,qBAAKsG,UAAU,mBAAf,SACE,qBAAKA,UAAU,YAAf,SACE,yBACEA,UAAU,+BACVM,aAAc/B,EAAMi5B,QACpB53B,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRd,EAAS,2BAAKnB,GAAN,IAAai5B,QAASh3B,EAAOnD,UAJzC,UAOE,wBAAQA,MAAM,GAAd,SAAkBkB,EAAMsE,KAAO,cAAgB,UAC9CtE,EAAM86B,SAASp/B,KAAI,SAACuB,GACnB,OACE,wBAAsB6B,MAAO7B,EAAK9B,GAAlC,SACG8B,EAAKP,MADKO,EAAK9B,cAS5B,sBAAKsG,UAAU,0BAAf,UACE,uBAAOA,UAAU,gDAAjB,iBAGA,qBAAKA,UAAU,YAAf,SACC,cAAC,KAAD,CACGA,UAAU,eACVwe,SACE,IAAI7F,KAAKlX,IAAOlD,EAAMk5B,YAAYh1B,OAAO,KAE3Cmc,SAAU,SAACvC,GAAD,OAAUkd,EAAiB,aAAcld,IACnDzc,SAAU,SAACyc,GAAD,OAAUkd,EAAiB,aAAcld,WAKzD,sBAAKrc,UAAU,kBAAf,UACE,uBAAOA,UAAU,2CAAjB,gBAGA,qBAAKA,UAAU,YAAf,SACE,cAAC,KAAD,CACEA,UAAU,eACVwe,SACE,IAAI7F,KAAKlX,IAAOlD,EAAMm5B,UAAUj1B,OAAO,KAEzCmc,SAAU,SAACvC,GAAD,OAAUkd,EAAiB,WAAYld,IACjDzc,SAAU,SAACyc,GAAD,OAAUkd,EAAiB,WAAYld,WAKvD,qBAAKrc,UAAU,8DAAf,SACE,wBACEE,KAAK,SACLF,UAAU,wCACViC,QAzIW,WACrB,IAAQu1B,EAA6Cj5B,EAA7Ci5B,QAASt6B,EAAoCqB,EAApCrB,UAAWw6B,EAAyBn5B,EAAzBm5B,SAAUD,EAAel5B,EAAfk5B,WAEtCM,EAAY,CACV76B,YACAs6B,UACAC,aACAC,aAEF8B,KA6HQ,8B,IC9JSG,G,gKACnB,WACE,IAAQZ,EAAWtR,KAAKtoB,MAAhB45B,OAER,OACE,qBAAK/4B,UAAU,kCAAf,SACE,sBAAKA,UAAU,qBAAf,UACE,oBAAIA,UAAU,4BAAd,8BACA,uBACA,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,MAAf,SACE,oBAAIA,UAAU,eAAd,SAA8B63B,YAASp1B,OAAOs2B,kB,GAXxBhR,aCKrB,SAAS/H,KACtB,IAAQ1iB,EAAS9C,qBAAWH,GAApBiD,KACR,EAA0B/B,mBAAS,CACjCi8B,QAAS,EACTC,WAAYh2B,MAASm4B,QAAQ,QAAQn3B,OAAO,cAC5Ci1B,SAAUj2B,MAASgB,OAAO,cAC1BvF,UAAWI,EAAKlC,OAAO1B,GACvBq/B,OAAQ,IALV,mBAAOx6B,EAAP,KAAcmB,EAAd,KAQMm6B,EAAiB,SAAC1C,GACH,kBAARA,EAKXz3B,EAAS,2BACJnB,GACA44B,IANHh+B,QAAQkD,IAAI,kDAAmD86B,IAUnE,OACE,sBAAKn3B,UAAU,UAAU8D,MAAO,CAAEgQ,UAAW,SAA7C,UACE,oBAAG9T,UAAU,wBAAb,uBAEE,sBAAMA,UAAU,wCAAhB,SACG1C,EAAKrC,KAAKW,gBAHf,yBAQA,qBAAKoE,UAAU,MAAf,SACE,qBAAKA,UAAU,0BAAf,SACE,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,sBAAf,SACE,cAACo5B,GAAD,CAAS17B,QAASa,EAAOw5B,YAAa8B,YAM9C,sBAAK75B,UAAU,MAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,sBAAf,SACE,cAAC,GAAD,CAAQ+4B,OAAQx6B,EAAMw6B,aAG1B,qBAAK/4B,UAAU,MAAf,SACE,qBAAKA,UAAU,sBAAf,SACE,cAAC83B,GAAD,CACEp6B,QAASa,EACTw5B,YAAa8B,EACbv8B,KAAMA,WAKd,qBAAK0C,UAAU,qBAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,qBAAf,SACE,cAACg5B,GAAD,CAAYt7B,QAASa,EAAOw5B,YAAa8B,MAE3C,qBAAK75B,UAAU,qBAAf,SACE,cAAC,GAAD,CAAiBtC,QAASa,EAAOw5B,YAAa8B,iBCzErD,IAAMC,GAAcx/B,wBAAc,MCE1B,SAASy/B,GAAT,GAAoF,IAA1C32B,EAAyC,EAA1DC,gBAA8C22B,EAAY,EAAvB/e,UAEjEgf,EAAez/B,qBAAWs/B,IAC1Bn/B,EAAUC,cAEhB,OACM,sBAAKoF,UAAU,YAAf,UAGE,yBAEEA,UACyB,UAAvBi6B,EAAahyB,MACT,4CACA,iCAGNhG,QAAS,SAACkG,GACRA,EAAEC,iBACFhF,KAGFY,SAAWg2B,EAbb,UAeI,mBAAGh6B,UAAU,qBAfjB,mBAmBEg6B,EAmFA,8BACE,oBAAIh6B,UAAU,kBAAd,SACF,oBACEkI,KAAK,QACLlI,UAAU,oDACViC,QAAS,SAACkG,GACRA,EAAEC,iBACFhF,IACAzI,EAAQ4B,KAAK,cANjB,wBAUE,sBAAMyD,UAAU,iCAAhB,SACE,mBAAGA,UAAU,iCA/FjB,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,uBAAd,UACE,mBAAGA,UAAU,2BADf,eAIF,qBAAKA,UAAU,gBAAf,SACE,qBAAIA,UAAU,4BAAd,UACE,qBAAIA,UAAU,eAAd,UACE,uBAAOsI,QAAQ,UAAf,yBACA,yBACEtI,UAAU,gBACV/E,KAAK,UACLvB,GAAG,UACH2D,MAAO48B,EAAa/0B,QAAQsC,QAC5B5H,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OAEJvF,EAAeuF,EAAfvF,KAAMoC,EAASmD,EAATnD,MACX48B,EAAajyB,IAAb,2BACOiyB,GADP,IAEI/0B,QAAQ,2BACD+0B,EAAa/0B,SADb,kBAEFjK,EAAOoC,QAZtB,UAiBE,wBAAQA,MAAM,aAAd,+BACA,wBAAQA,MAAM,aAAd,yCAGJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,QAAf,yBACA,yBACEtI,UAAU,gBACV/E,KAAK,QACLvB,GAAG,QACH2D,MAAO48B,EAAa/0B,QAAQuC,MAC5B7H,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACJvF,EAAeuF,EAAfvF,KAAMoC,EAASmD,EAATnD,MACX48B,EAAajyB,IAAb,2BACOiyB,GADP,IAEI/0B,QAAQ,2BACD+0B,EAAa/0B,SADb,kBAEFjK,EAAOoC,QAXtB,UAgBE,wBAAQA,MAAM,MAAd,sBACA,wBAAQA,MAAM,OAAd,6BAIJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,YAAf,gCACA,yBACEtI,UAAU,gBACV/E,KAAK,YACLvB,GAAG,YACH2D,MAAO48B,EAAa/0B,QAAQqD,UAC5B3I,SAAU,YAAgB,IAAbY,EAAY,EAAZA,OACJvF,EAAeuF,EAAfvF,KAAMoC,EAASmD,EAATnD,MACX48B,EAAajyB,IAAb,2BACOiyB,GADP,IAEI/0B,QAAQ,2BACD+0B,EAAa/0B,SADb,kBAEFjK,EAAOoC,QAXtB,UAgBE,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,MAAd,sCCpGT,SAAS68B,KACtB,IAAMv/B,EAAUC,cACV0I,EAAS9F,IACTy8B,EAAez/B,qBAAWs/B,IAChC,EAAwCv+B,mBAAS,IAAjD,mBAAO4+B,EAAP,KAAqBC,EAArB,KAEA,EAAwB7+B,mBAAS,CAC/Bk+B,MAAO,GACPv7B,KAAM,KAFR,mBAAOvF,EAAP,KAAakY,EAAb,KAKA,EAA8BtV,oBAAS,GAAvC,mBAAO+O,EAAP,KAAgB+vB,EAAhB,KAEQZ,EAAgB9gC,EAAhB8gC,MAAOv7B,EAASvF,EAATuF,KAETsM,EAAsB,SAACZ,EAAKvM,GAChC48B,EAAajyB,IAAb,2BACKiyB,GADL,IAEE/0B,QAAQ,2BACH+0B,EAAa/0B,SADX,kBAEJ0E,EAAMvM,QA+Db,OAhBAF,qBAAU,WACRk9B,GAAW,GACX/2B,EAAO7F,aAAaw8B,EAAa/0B,SAASnM,MAAK,SAACJ,GAC1CA,GACFkY,EAAQ,2BACHlY,GADE,IAEL8gC,MAAO9gC,EAAKA,KACZuF,KAAMvF,EAAKuF,QAEbm8B,GAAW,IAEXlhC,QAAQC,MAAM,mCAGjB,CAAC6gC,EAAa/0B,UAGf,cAAC,EAAD,CACEd,MAAM,qBACND,KAAK,WACLsE,MAAM,UACN6B,QAASA,EACTpM,KAAMA,EACNkM,aAAc+vB,EACdlxB,cAAegxB,EAAa/0B,QAAQgE,OACpCP,iBAAkB,SAACE,GAAD,OAAU2B,EAAoB,OAAQ3B,IACxDU,aAAc,SAACL,GAAD,OAAYsB,EAAoB,SAAUtB,IACxDa,iBArEe,WACjBswB,GAAW,GACX/2B,EACGzF,WAAWs8B,GACXphC,MAAK,SAACJ,GACLf,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,kCACPC,mBAAmB,EACnBC,MAAO,OAGT81B,EAAgB,CAAE1gC,GAAI,IAEtB4J,EAAO7F,aAAaw8B,EAAa/0B,SAASnM,MAAK,SAACJ,GAC1CA,IACFkY,EAAQ,2BACHlY,GADE,IAEL8gC,MAAO9gC,EAAKA,KACZuF,KAAMvF,EAAKuF,QAEbm8B,GAAW,UAIhBphC,OAAM,SAACG,GACND,QAAQC,MAAMA,OA4ChB4Q,eAxCqB,SAAC7B,GACpBgyB,EACFx/B,EAAQ4B,KAAR,mBAAyB49B,IAEzBviC,OAAOqM,KAAKC,KAAK,CACfE,MAAO,QACP5E,KAAM,iDACN2E,KAAM,WAkCR+F,WAAY,WACV+vB,EAAajyB,IAAb,2BACKiyB,GADL,IAEE/0B,QAAS,CACP2D,KAAM,EACNrB,QAAS,aACTC,MAAO,OACPc,UAAW,QAnBnB,SAwBE,wBAAOvI,UAAU,kCAAjB,UACE,gCACE,+BACE,uBACA,wCACA,+CACA,qCACA,0CACkC,eAAjCi6B,EAAa/0B,QAAQsC,QACpB,wCAEA,iDAIN,gCACGiyB,EAAMt/B,OACL,mCACGs/B,EAAMx/B,KAAI,SAACuB,GACV,OACE,+BACE,qBAAIwE,UAAU,sBAAd,UACE,uBACEE,KAAK,WACLF,UAAU,wBACV3C,MAAO7B,EAAK9B,GACZA,GAAI,QAAU8B,EAAK9B,GACnBqO,QAASoyB,IAAiB3+B,EAAK9B,GAC/BkG,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACHnD,EAAmBmD,EAAnBnD,MAAO0K,EAAYvH,EAAZuH,QACfqyB,EAAgBryB,EAAUjL,SAASO,GAAS,OAIhD,uBACEiL,QAAS,QAAU9M,EAAK9B,GACxBsG,UAAU,eAGd,oBACEA,UAAU,oEACV8D,MAAO,CAAEoQ,OAAQ,UAAWuH,SAAU,KACtCxZ,QAAS,SAACkG,GAERxN,EAAQ4B,KAAR,mBAAyBf,EAAK9B,MALlC,SAQG8B,EAAKP,OAER,oBAAI+E,UAAU,wCAAd,SACE,+BAAOxE,EAAKL,UAEd,oBAAI6E,UAAU,gBAAd,SACE,sBAAMA,UAAWs6B,GAAe9+B,EAAKH,MAAM,IAA3C,SACGG,EAAKH,MAAM,OAGhB,oBAAI2E,UAAU,gBAAd,SACE,sBAAMA,UAAU,kBAAhB,SACGxE,EAAKJ,OAAOzC,KAAKsC,SAGY,eAAjCg/B,EAAa/0B,QAAQsC,QACpB,oBAAIxH,UAAU,wCAAd,SACE,+BAAOyB,IAAOjG,EAAKkG,YAAYe,OAAO,UAGxC,oBAAIzC,UAAU,wCAAd,SACE,+BAAOyB,IAAOjG,EAAKoG,YAAYD,gBAhD5BnG,EAAK9B,SAwDpB,6BACE,oBAAIsG,UAAU,yBAAyBoL,QAAQ,IAA/C,kDAWd,SAASkvB,GAAen4B,GACtB,OAAQA,GACN,IAAK,QACH,MAAO,8CACT,IAAK,SACH,MAAO,iDACT,QACE,MAAO,kDCzMb,IAAM8X,GAAiB,CACrBpR,KAAM,EACNrB,QAAS,aACTC,MAAO,OACPc,UAAW,GACXW,OAAQ,IAGK,SAASqxB,GAAep7B,GACrC,MAA0B5D,mBAAS,CACjC2J,QAAS+U,GACThS,MAAO,KACPgT,UAAW,OAHb,mBAAO1c,EAAP,KAAcmB,EAAd,KAMQhG,EAAOyF,EAAM+D,MAAMC,OAAnBzJ,GASR,OAPAyD,qBAAU,WACRuC,EAAS,2BACJnB,GADG,IAEN0c,YAAWvhB,OAEZ,CAACA,IAGF,cAACogC,GAAY18B,SAAb,CAAsBC,MAAK,2BAAOkB,GAAP,IAAcyJ,IAAKtI,IAA9C,SACE,sBAAKM,UAAU,MAAM8D,MAAO,CAACgQ,UAAW,SAAxC,UACE,qBAAK9T,UAAU,WAAf,SACE,cAAC+5B,GAAD,CACE9e,UAAW1c,EAAM0c,UACjB5X,gBAAiB,kBACf3D,EAAS,2BACJnB,GADG,IAEN0c,WAAY1c,EAAM0c,kBAM1B,qBAAKjb,UAAU,YAAf,SAC8B,mBAApBzB,EAAM0c,UACZ,qBAAKjb,UAAU,gCAAf,UACuB,IAApBzB,EAAM0c,UACL,cAAC,EAAD,2BACM9b,GADN,IAEEkE,gBAAiB,kBACf3D,EAAS,2BACJnB,GADG,IAEN0c,WAAY1c,EAAM0c,kBAIF,IAApB1c,EAAM0c,UACR,cAAC,GAAD,IACE,OAGN,yDChEL,IAAMuf,GAAelgC,wBAAc,MCD3B,SAASmgC,KACtB,IAAMC,EAAa,uCAAG,WAAOx1B,GAAP,eAAAlJ,EAAA,6DACdpF,EAAM4C,EAAO,SAAU,KAAM0L,GADf,SAEPvO,EAAIC,GAFG,mFAAH,sDAKb+jC,EAAQ,uCAAG,WAAOjhC,GAAP,eAAAsC,EAAA,6DACTpF,EAAM4C,EAAO,SAAUE,GADd,SAEF/C,EAAIC,GAFF,mFAAH,sDAKRgkC,EAAS,uCAAG,WAAOjiC,GAAP,iBAAAqD,EAAA,6DACVnF,EAAS8B,EAAKe,GAAK,MAAQ,OACb,IAAhBf,EAAKuD,QAAiBvD,EAAKkiC,WAAW1gC,eACjCxB,EAAKkiC,WAERjkC,EAAM4C,EAAO,SAAUb,EAAKe,WAC3Bf,EAAKe,GANI,SAOH/C,EAAIC,EAAKC,EAAQ8B,GAPd,mFAAH,sDAUTmiC,EAAW,uCAAG,WAAOphC,GAAP,eAAAsC,EAAA,4DACH,SACTpF,EAAM4C,EAAO,SAAUE,GAFX,SAGL/C,EAAIC,EAFF,UADG,mFAAH,sDAMjB,MAAO,CACL8jC,gBACAC,WACAG,cACAF,aCvBJ,IAiQeG,GAjQa,SAAC57B,GAC3B,IAAM67B,EFPmBxgC,qBAAWggC,IEQ9BS,EAAYR,KACZv1B,EAAO,OAAG81B,QAAH,IAAGA,OAAH,EAAGA,EAAc91B,QAE9B,EAA8B3J,mBAAS,CACrC5C,KAAM,GACNuF,KAAM,GACNoM,SAAS,IAHX,mBAAO4wB,EAAP,KAAgBC,EAAhB,KAMQC,EAAej8B,EAAfi8B,WAEFzgC,EAAUC,cAEhB,EAA0CW,mBAAS,CAAE7B,GAAI,IAAzD,mBAAO2hC,EAAP,KAAsBC,EAAtB,KAsBM9wB,EAAsB,SAACZ,EAAKvM,GACpB,OAAZ29B,QAAY,IAAZA,KAAchzB,IAAd,2BACKgzB,GADL,IAEE91B,QAAQ,2BACHA,GADE,kBAEJ0E,EAAMvM,QAKPk+B,EAAoB,SAACpzB,GAA0B,IAAvBV,EAAsB,uDAAd,CAAE/N,GAAI,GACtCyO,GAAGA,EAAEC,iBACQ,IAAbX,EAAM/N,GACRiB,EAAQ4B,KAAR,mBAAyBkL,EAAM/N,KAE/BiB,EAAQ4B,KAAR,kBAAwB8+B,EAAc3hC,MA4D1C,OALAyD,qBAAU,YA1FM,WACd,IAAK+H,EAAS,OAAO,KAErBi2B,EAAW,2BACND,GADK,IAER5wB,SAAS,KAGX2wB,EAAUP,cAAcx1B,GAASnM,MAAK,SAACJ,GACjCA,EACFwiC,EAAW,CACTxiC,KAAMA,EAAKA,KACXuF,KAAMvF,EAAKuF,OAGb/E,QAAQC,MAAM,2CA4ElBoiC,KAEC,CAACt2B,IAGF,cAAC,EAAD,CACEd,MAAM,qBACND,KAAK,iBACLsE,MAAM,UACNvK,KAAMg9B,EAAQh9B,KACdkM,aAAcixB,EAAc3hC,GAC5B4Q,QAAS4wB,EAAQ5wB,QACjBrB,cAAa,OAAE/D,QAAF,IAAEA,OAAF,EAAEA,EAASgE,OACxBP,iBAAkB,SAACE,GAAD,OAAU2B,EAAoB,OAAQ3B,IACxDU,aAAc,SAACL,GAAD,OAAYsB,EAAoB,SAAUtB,IACxDc,eAAgBuxB,EAChBxxB,iBA/DgB,WAClBnS,OAAOqM,KAAKC,KAAK,CACfE,MAAO,4CACPD,KAAM,WACNI,kBAAkB,EAClB0G,mBAAoB,UACpBwwB,kBAAmB,OACnBj3B,kBAAmB,aAClBzL,MAAK,YAAiB,EAAd4L,UAEPs2B,EAAUH,YAAYO,EAAc3hC,IAEpC9B,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,gCACPC,mBAAmB,EACnBC,MAAO,MAGT02B,EAAahzB,IAAb,2BACKgzB,GADL,IAEE91B,QAAS,CACP2D,KAAM,EACNrB,QAAS,aACTC,MAAO,OACPc,UAAW,GACXrM,OAAQ,EACRgN,OAAQ,YAqCdgB,WAAY,WACV8wB,EAAahzB,IAAb,2BACKgzB,GADL,IAEE91B,QAAS,CACP2D,KAAM,EACNrB,QAAS,aACTC,MAAO,OACPc,UAAW,GACXrM,OAAQ,EACRgN,OAAQ,QAIde,aA3CiB,WACfoxB,EAAc3hC,IAAM2hC,EAAcva,OAAS,GAC7CzO,GAAO2O,gBACLqa,EAAc3hC,GACd,CAAEwC,OAAQ,GACVgJ,EACAk2B,GAGJE,EAAiB,CAAE5hC,GAAI,KASvB,SA2BE,wBAAOsG,UAAU,kCAAjB,UACE,gCACE,+BACE,uBACA,uCACA,yCACA,wCACA,sCACA,6BACwB,gBAAd,OAAPkF,QAAO,IAAPA,OAAA,EAAAA,EAASsC,SAA2B,aAAe,oBAI1D,gCACG0zB,EAAQviC,KAAKwB,OACZ+gC,EAAQviC,KAAKsB,KAAI,SAAC8lB,EAAQ1d,GACxB,OACE,+BACE,6BACE,sBAAKrC,UAAU,iBAAf,UACE,uBACEE,KAAK,WACLF,UAAU,wBACV3C,MAAO0iB,EAAOrmB,GACdA,GAAI,SAAWqmB,EAAOrmB,GACtBqO,QAASszB,EAAc3hC,KAAOqmB,EAAOrmB,GACrCsK,SAAU+b,EAAO7jB,OAAS,EAC1B0D,SAAU,mBA/GN,SAAC,EAAamgB,GAAW,EAAtBhY,UACbgY,EAAS,CAAErmB,GAAI,IAC7B4hC,EAAiBvb,GA8GK2b,CADQ,EAAGl7B,OACeuf,MAG9B,uBACEzX,QAAS,SAAWyX,EAAOrmB,GAC3BsG,UAAU,iBAIhB,mCAAM+f,EAAOrmB,MACb,oBACEsG,UAAU,uDACV8D,MAAO,CAAEoQ,OAAQ,WAFnB,SAIE,mBACEhM,KAAK,QACLjG,QAAS,SAACkG,GAAD,OAAOozB,EAAkBpzB,EAAG4X,IAFvC,SAIE,uBACE/f,UACE+f,EAAO7jB,OAAS,EACZ,aACA,sBAJR,UAOE,mBAAG8D,UAAU,6BACZ+f,EAAO4b,SAAS1gC,YAIvB,qBAAI+E,UAAU,kBAAd,UACGqS,GAAOuO,eAAeb,EAAO7jB,QACX,IAAlB6jB,EAAO7jB,OACN,gCACE,sBAAM8D,UAAU,iBAAhB,SACG+f,EAAO6b,IAAM7b,EAAO6b,IAAIvnB,OAAS,gBAEnC0L,EAAO6b,IAAM,KAAO7b,EAAO8b,WAAa,MAEvB,IAAlB9b,EAAO7jB,OACT,gCACG6jB,EAAO+b,MACJ,SAAW/b,EAAO+b,MAClB,qBAEH/b,EAAO7jB,OAQU,IAAlB6jB,EAAO7jB,OACT,uBAAO8D,UAAU,YAAjB,0BACE,KATF,gCACG+f,EAAOkF,KACmB,IAAvBlF,EAAOkF,KAAK/oB,OACV,oBACA,sBACF,0BAMV,oBAAI8D,UAAU,qBAAd,SACG+f,EAAOF,KACN,cAAC,IAAD,CAAMrN,GAAI,mBAAqBuN,EAAOF,KAAKnmB,GAA3C,SACE,sBAAMsG,UAAU,sBAAhB,SACG+f,EAAOF,KAAKnmB,OAIjB,OAGJ,oBAAIsG,UAAU,eAAd,SACuB,eAApBkF,EAAQsC,QACL/F,IAAOse,EAAOre,YAAYe,OAAO,MACjChB,IAAOse,EAAOne,YAAYD,cAlFzBoe,EAAOrmB,OAwFpB,6BACE,oBAAI0R,QAAQ,KAAKpL,UAAU,cAA3B,iDC9OGuL,GALE,CACb0jB,WAda,WACf,OACEtX,KAAKC,SAASpK,SAAS,IAAIqK,UAAU,EAAG,IACxCF,KAAKC,SAASpK,SAAS,IAAIqK,UAAU,EAAG,IACxCF,KAAKC,SAASpK,SAAS,IAAIqK,UAAU,EAAG,IACxCF,KAAKC,SAASpK,SAAS,IAAIqK,UAAU,EAAG,IACxCF,KAAKC,SAASpK,SAAS,IAAIqK,UAAU,EAAG,IACxCF,KAAKC,SAASpK,SAAS,IAAIqK,UAAU,EAAG,IACxCF,KAAKC,SAASpK,SAAS,MCgIduuB,OAlIf,SAA8B58B,GAC5B,IAAMwQ,EAAeP,KAGrB,EAGIjQ,EAFFuL,YADF,MACS,CAAEzP,KAAM,IADjB,EAEoB+gC,EAChB78B,EADF+L,iBAIF,EAA4B3P,mBAASmP,EAAKzP,MAA1C,mBAAOiO,EAAP,KAAeC,EAAf,OACoB5N,mBAAS,IAD7B,mBACC+I,EADD,KACQ8E,EADR,OAEkB7N,oBAAS,GAF3B,mBAECsH,EAFD,KAEO4V,EAFP,OAGoBld,mBAAS,IAH7B,mBAGCmK,EAHD,KAGQu2B,EAHR,KAYMvN,EAAe,SAAChkB,GACpBsxB,EAAkBtxB,GAClBvB,EAAUuB,EAAKzP,KAAKvC,eACpBujC,EAAS,KA+BX,OA5BA9+B,qBAAU,WACR,IAAImM,EAAU,KACVJ,EAAO/O,OAAS,IAAMuQ,EAAKgB,iBACzBpH,GAAOkF,aAAalF,GACxBgF,EAAUG,YAAW,WACnBkG,EAAaN,YAAYnG,GAAQnQ,MAAK,SAACJ,GACjCA,EACFsjC,EAAStjC,EAAKA,MAEdQ,QAAQC,MAAM,6CAGlBgQ,EAAS,IACTqP,GAAQ,KACP,KACHrP,EAASE,KAGNJ,EAAO/O,QAAUuL,EAAMvL,SACtBmK,GAAOkF,aAAalF,GACxBmU,GAAQ,IAGNvP,GACF+yB,EAAS,MAEV,CAAC/yB,IAGF,qCACE,6CAEGrG,EACC,sBACE7C,UAAU,sCACV8D,MAAO,CAAEua,OAAQ,MAAOxU,IAAK,KAF/B,yBAME,QAEN,uBACE7J,UAAU,4CACVE,KAAK,OACLC,YAAY,kBACZC,aAAa,MACb/C,MAAO6L,EACPtJ,SA3DqB,SAAC,GAAgB,IAClCvC,EADiC,EAAbmD,OACpBnD,MACR8L,EAAU9L,EAAMzB,eAChB6c,GAAQ,MA0DL/S,EAAMvL,QAAU+O,EAAO/O,OAAS,EAC/B,qBACE6F,UAAU,oFACV8D,MAAO,CAAEwa,UAAW,QAASD,OAAQ,OAFvC,SAIE,qBAAKre,UAAU,kCAAf,SACG0F,EACEw2B,MAAK,SAAClgC,EAAGsb,GACR,OAAItb,EAAEyP,KAAO6L,EAAE7L,MACL,EAENzP,EAAEyP,KAAO6L,EAAE7L,KACN,EAEF,KAERxR,KAAI,SAAC27B,GACJ,OAsChB,SAAuBvzB,EAAGqsB,GACxB,GAAIrsB,EAAEoJ,OAASpJ,EAAE8I,WACf,OAAK9I,EAAEoJ,MAAQpJ,EAAE8I,WAEb,oBAEEnL,UAAU,2FACVkI,KAAK,KACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACFsmB,EAAarsB,IANjB,UASE,uBAAMrC,UAAU,0CAAhB,iBACOqC,EAAEpH,QAET,sBAAM+E,UAAU,8BAAhB,SAA+CqC,EAAE8I,eAX5C9I,EAAE3I,IAgBX,oBAEEsG,UAAU,2FACVkI,KAAK,KACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACFsmB,EAAarsB,IANjB,UASE,sBAAMrC,UAAU,4CAAhB,SACGqC,EAAEpH,OAEL,sBAAM+E,UAAU,8BAAhB,SAA+CqC,EAAE8I,eAX5C9I,EAAE3I,IAcN,IAAK2I,EAAE8I,aAAe9I,EAAEoJ,KAC7B,OACE,oBAEEzL,UAAU,2FACVkI,KAAK,KACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACFsmB,EAAarsB,IANjB,UASE,uBAAMrC,UAAU,2CAAhB,iBACOqC,EAAEpH,QAET,sBAAM+E,UAAU,8BAAhB,SAA+CqC,EAAE8I,eAX5C9I,EAAE3I,IAgBb,OACE,oBAEEsG,UAAU,2FACVkI,KAAK,KACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACFsmB,EAAarsB,IANjB,UASE,sBAAMrC,UAAU,4CAAhB,SACGqC,EAAEpH,OAEL,sBAAM+E,UAAU,8BAAhB,SAA+CqC,EAAEoJ,SAX5CpJ,EAAE3I,IA/FUyiC,CAAcvG,EAASlH,UAcpC,SC4EK0N,OArLf,SAA+Bj9B,GAAQ,IAAD,EAE9BqC,EADahH,qBAAWH,GACCiD,KAG/B,EAKI6B,EAJFk9B,mBADF,MACgB,GADhB,IAKIl9B,EAHFqvB,mBAFF,MAEgB,EAFhB,EAGiB8N,EAEbn9B,EAFFuxB,cACkB6L,EAChBp9B,EADFq9B,iBAIF,EAAwBjhC,mBAAS,CAC7B7B,GAAI,EACJuB,KAAMohC,EACN5wB,KAAM+iB,EACN7iB,MAAO,EACP2kB,IAAK,EACLF,UAAW,EACXb,SAAU,EACV7jB,eAAgB,EAChB8kB,YAAa,GACbvjB,SAAU,IAVd,mBAAOvC,EAAP,KAAa7O,EAAb,OAY4BN,oBAAS,GAZrC,mBAYGkhC,EAZH,KAYaC,EAZb,KA6BEtH,EAAQ,WAbNv5B,EAAQ,CACNnC,GAAI,EACJuB,KAAM,GACN0Q,MAAO,EACP2kB,IAAK,EACL7kB,KAAM,EACN2kB,UAAW,EACXb,SAAU,EACV7jB,eAAgB,EAChB8kB,YAAa,GACbvjB,SAAU,KAKZsvB,KAiBFI,EAAmB,SAAC/yB,EAAKvM,GACvBxB,EAAQ,2BACH6O,GADE,kBAEJd,EAAc,gBAARA,EAAwBvM,EAAQP,SAASO,OAetD,OACE,qBAAK2C,UAAU,gBAAgB8U,SAAS,KAAxC,SACE,qBAAK9U,UAAU,qCAAqCmC,KAAK,WAAzD,SACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,qBAAIA,UAAU,qCAAd,UACE,mBAAGA,UAAU,qBADf,sBAIA,wBAAQE,KAAK,SAASF,UAAU,QAAQiC,QAAS,kBAAMmzB,KAAvD,SACE,sBAAM,cAAY,OAAlB,uBAGJ,qBAAKp1B,UAAU,aAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,wBAAf,SACE,cAAC,GAAD,CAAQ0K,KAAMA,EAAMQ,iBAjDV,SAACvS,GACrBkD,EAAQ,2BACH6O,GADE,IAELgB,eAAgB/S,EAAKe,GACrBA,GAAI,EACJuB,KAAMtC,EAAKsC,KAAKW,cAChB+P,MAAOoF,WAAWpY,EAAKgT,OACvB2kB,IAAK33B,EAAKwS,WACVM,KAAM,EACN2kB,UAAW,EACXb,SAAU52B,EAAKgT,MACf6kB,YAAa,GACbvjB,SAAUtU,EAAKsU,iBAuCRvC,EAAKgB,eACJ,qCACE,sBAAK1L,UAAU,QAAf,UACE,6CACA,uBACEE,KAAK,SACLF,UAAU,eACVG,YAAY,WACZG,aAAcoK,EAAKe,KACnBuF,IAAI,IACJqW,IAAI,MACJznB,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRm8B,EAAiB,OAAQn8B,EAAOnD,aAItC,sBAAK2C,UAAU,QAAf,UACE,2CACA,uBACEE,KAAK,SACLF,UAAU,0BACVG,YAAY,SACZ6Q,IAAI,IACJ3T,MAAK,UAAEqN,EAAKiB,aAAP,QAAgB,GACrB/L,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRm8B,EAAiB,QAASn8B,EAAOnD,aAItCo/B,EACC,qBAAKz8B,UAAU,cAAf,SACE,uBACEE,KAAK,OACLF,UAAU,eACVG,YAAY,0BACZ9C,MAAOqN,EAAK8lB,YACZ5wB,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRm8B,EAAiB,cAAen8B,EAAOnD,YAI3C,QAEJ,UAGR,qBAAK2C,UAAU,eAAf,SACE,sBAAKA,UAAU,YAAf,UACE,yBACEE,KAAK,SACLF,UAAU,yBACViC,QAAS,kBAAMmzB,KAHjB,UAKE,mBAAGp1B,UAAU,oBALf,cAQA,yBACEE,KAAK,SACLF,UAAU,yBACViC,QAAS,kBAAMy6B,GAAaD,IAC5Bz4B,UAAW0G,EAAKgB,eAJlB,UAME,mBAAG1L,UAAU,4BACZy8B,EAAW,cAAgB,gBAE9B,yBACEv8B,KAAK,SACLF,UAAU,mCACVgE,WACE0G,EAAKgB,gBAAkBhB,EAAKe,MAAQf,EAAKiB,OAE3C1J,QAAS,kBArGJ,WAGf,IAFeoQ,EAAO7G,WAAWd,GAEpB,OAAO,EAEpBA,EAAK0lB,UAAY1lB,EAAK4lB,KAAO5lB,EAAKe,KAClCf,EAAK4lB,IAAM5lB,EAAK4lB,KAAO5lB,EAAKe,KAAO,EAAIf,EAAKe,KAAOf,EAAK4lB,IACxD5lB,EAAK6kB,SAAWxe,WAAWrG,EAAKe,KAAOf,EAAKiB,OAC5CjB,EAAKxN,UAAYsE,EAAYpG,OAAO1B,GACpC4iC,EAAe5xB,GA4FUkyB,IANjB,UAQE,mBAAG58B,UAAU,qBARf,0BCvKC,SAAS68B,GAAkB19B,GACxC,MAA0B5D,mBAAS,CACjCuhC,SAAS,EACTzjC,KAAM,GACNoS,KAAM,EACNsxB,YAAY,EACZC,aAAa,EACbh5B,UAAU,EACV8b,MAAO,IAPT,mBAAOvhB,EAAP,KAAcmB,EAAd,KAUMu9B,EAAoB,SAACvjC,EAAI+R,GAC7B,IAOEyxB,EAPiB/9B,EAAMuG,MAAMzL,KAAI,SAACyQ,GAKhC,OAJIA,EAAKgB,iBAAmBhS,IAC1BgR,EAAKe,KAAOf,EAAKe,KAAOA,EACxBf,EAAK6kB,SAAW7kB,EAAKe,KAAOf,EAAKiB,OAE5BjB,KAEgB5L,QAAO,SAAC4L,GAAD,OAAUA,EAAKe,KAAO,KACxDtM,EAAMoV,YAAY,QAAS2oB,IAyE7B,OArCA//B,qBAAU,WACR,IAAMuI,EAAQvG,EAAMuG,MAAM5G,QAAO,SAAC4L,GAAD,cAC/B,CAAC,SAAU,YAAa,sBAAsBjS,SAA9C,UACEiS,EAAKuC,gBADP,iBACE,EAAe5T,YADjB,aACE,EAAqBke,iBAAiB,OAGpCuI,EAAQ3gB,EAAMuG,MAAM4pB,QACxB,SAAC6N,EAAKzyB,GAAN,OAAeA,EAAKe,KAAOf,EAAKiB,MAAQwxB,IACxC,GAEEJ,EAAar6B,QAAQgD,EAAMvL,QAC3B6J,EAAWzF,EAAMyF,SACjBg5B,EAAcz+B,EAAMy+B,YAEpB79B,EAAMgmB,eAAe,iBACvB6X,EAAc79B,EAAM69B,aAElB79B,EAAMgmB,eAAe,cACvBnhB,EAAW7E,EAAM6E,UAGf8b,GAAS3gB,EAAMoV,YACjBpV,EAAMoV,YAAY,aAAcwoB,GACtB59B,EAAMoV,cAChBvQ,GAAW,EACX+4B,GAAa,GAGfr9B,EAAS,2BACJnB,GADG,IAENw+B,aACAC,cACAh5B,WACA8b,aAED,CAAC3gB,EAAMuG,MAAOvG,EAAM6E,WAGrB,sBACEhE,UACEb,EAAMgmB,eAAe,aAAehmB,EAAMa,UAAY,eAF1D,UAKE,sBAAKA,UAAU,cAAf,UACE,qBAAIA,UAAU,aAAd,UACE,mBAAGA,UAAU,yBADf,yBAGA,qBAAKA,UAAU,aAAf,SACG0C,QAAQvD,EAAMrD,UACb,yBACEkE,UAAU,oCACVgE,SAAUzF,EAAMyF,SAChB/B,QAAS,SAACkG,GACRzI,EAAS,2BACJnB,GADG,IAENu+B,SAAUv+B,EAAMu+B,QAChBzjC,KAAM,GACNoS,KAAM,MARZ,UAYE,mBAAGzL,UAAU,qBAZf,mBAkBN,sBAAKA,UAAU,iCAAf,UACE,wBAAOA,UAAU,qBAAjB,UACE,gCACE,+BACGzB,EAAMy+B,aAAe,oBAAIl5B,MAAO,CAAEqP,MAAO,IAApB,kBAEtB,oBAAI0O,MAAM,MAAM/d,MAAO,CAAEqP,MAAO,IAAhC,kBAGA,oBAAI0O,MAAM,MAAV,yBAECtjB,EAAMy+B,aACL,qCACE,oBAAInb,MAAM,MAAM7hB,UAAU,aAAa8D,MAAO,CAAEqP,MAAO,KAAvD,oBAGA,oBAAI0O,MAAM,MAAM7hB,UAAU,aAAa8D,MAAO,CAAEqP,MAAO,KAAvD,sBAGA,oBACE0O,MAAM,MACN/d,MAAO,CAAEs5B,SAAU,OAAQ3hB,SAAU,QAFvC,SAIE,sBAAMzb,UAAU,UAAhB,gCAOV,kCACGb,EAAMuG,MAAMzL,KAAI,SAACyQ,GAChB,OACE,+BACGnM,EAAMy+B,aACL,+BACiB,IAAdtyB,EAAKe,MAAclN,EAAMyF,SACxB,mBAAGhE,UAAU,sCAEb,mBACEA,UAAU,sCACVoE,MAAM,SACNN,MAAO,CAAEoQ,OAAQ,WACjBjS,QAAS,kBACPg7B,EAAkBvyB,EAAKgB,gBAAiB,MAI7CnN,EAAMyF,SACL,mBAAGhE,UAAU,qCAEb,mBACEA,UAAU,qCACVoE,MAAM,UACNN,MAAO,CAAEoQ,OAAQ,WACjBlQ,SAAUzF,EAAMyF,SAChB/B,QAAS,kBACPg7B,EAAkBvyB,EAAKgB,eAAgB,SAOjD,oBAAImW,MAAM,MAAM7hB,UAAU,aAA1B,SACG0K,EAAKe,OAER,+BACE,sBAAMzL,UAAU,kBAAhB,SAAmC0K,EAAKzP,OACvCyP,EAAK8lB,aACJ,uBAAMxwB,UAAU,kBAAhB,cACI0K,EAAK8lB,YADT,OAID9lB,EAAK2yB,KACJ,uBAAMr9B,UAAU,kBAAhB,kBAAwC0K,EAAK2yB,UAIhD9+B,EAAMy+B,aACL,qCACE,qBAAIh9B,UAAU,aAAd,eACK+Q,WAAWrG,EAAKiB,OAAO0J,QAAQ,MAEpC,qBAAIrV,UAAU,aAAd,eACK0K,EAAK6kB,SAASla,QAAQ,MAE3B,oBAAIrV,UAAU,0BAAd,SACE,wBACEE,KAAK,SACLF,UAAU,uBACViC,QAAS,kBAhMd,SAACvI,GAClB,IAAMwjC,EAAc/9B,EAAMuG,MAAM5G,QAAO,SAACqJ,GAAD,OAAOA,EAAEuD,iBAAmBhS,KACnEyF,EAAMoV,YAAY,QAAS2oB,GA8LU13B,CAAWkF,EAAKgB,iBAC/B1H,SAAUzF,EAAMyF,SAJlB,SAME,mBAAGhE,UAAU,0BA7Dd0K,EAAKgB,oBAsEhBvM,EAAMuG,MAAMvL,QACZ,oBAAI6F,UAAU,GAAd,SACE,oBAAIA,UAAU,mBAAmBoL,QAAQ,IAAzC,SACE,uEAMP1I,QAAQvD,EAAMuG,MAAMvL,QAAUoE,EAAMy+B,cACnC,gCACE,+BACE,qBAAIh9B,UAAU,qBAAqBoL,QAAQ,IAA3C,UACE,sBAAMpL,UAAU,QAAhB,oBACA,uCAAUzB,EAAMuhB,MAAMzK,QAAQ,SAEhC,+CAMN9W,EAAMw+B,YACN,qBAAK/8B,UAAU,gCAAf,SACE,oBAAGA,UAAU,0CAAb,UACE,mBAAGA,UAAU,qBADf,yBAEwB,uCAFxB,sCAGY,4CAHZ,MAGsC,+CAHtC,YAQLzB,EAAMu+B,QACL,cAAC,GAAD,CACET,YAAa99B,EAAMlF,KACnBm1B,YAAajwB,EAAMkN,KACnBilB,cA5Oc,SAAChmB,GACrB,GAAKA,GAAwB,kBAATA,EAApB,CAIA,IAAMhF,EAAK,aAAOvG,EAAMuG,OAClB43B,EAAYn+B,EAAMuG,MAAM63B,WAC5B,SAACp1B,GAAD,OAAOA,EAAEuD,iBAAmBhB,EAAKgB,kBAGnC,IAAmB,IAAf4xB,EAAkB,CACpB,IAAM/N,EAAW7pB,EAAM43B,GAAW3xB,MAAQpN,EAAMkN,KAE5C/F,EAAM43B,GAAW3xB,QAAUjB,EAAKiB,OAClCjG,EAAM43B,GAAW7xB,KAAOlN,EAAMkN,KAC9B/F,EAAM43B,GAAW/N,SAAWA,GAE5B7pB,EAAMnJ,KAAKmO,QAGbhF,EAAMnJ,KAAKmO,GAGbvL,EAAMoV,YAAY,QAAS7O,GAC3BhG,EAAS,2BACJnB,GADG,IAENu+B,SAAS,UAxBT3jC,QAAQC,MAAM,qCAAsCsR,IA2OhD8xB,iBAAkB,kBAChB98B,EAAS,2BACJnB,GADG,IAENu+B,SAAS,QAIb,QC/QK,SAAS17B,GAAwBjC,GAC9C,MAA0B5D,mBAAS,CACjC+D,QAAS,UACTC,SAAU,GACVC,KAAM,kCACN6B,aAAa,IAJf,mBAAO9C,EAAP,KAAcmB,EAAd,KAOQO,EAAkDd,EAAlDc,IAAK9E,EAA6CgE,EAA7ChE,MAAwBqiC,EAAqBr+B,EAAtCs+B,gBACZn+B,EAAyCf,EAAzCe,QAASC,EAAgChB,EAAhCgB,SAAUC,EAAsBjB,EAAtBiB,KAAM6B,EAAgB9C,EAAhB8C,YAE3Bq8B,EAAc12B,IAuBd22B,EAAa,SAACn9B,GAClB,IAEMc,EAAcd,EAAOnD,MAAMsD,QAAQ,MAAO,IAD9C,uIAGQC,KAAKU,IACb5B,EAAS,2BACJnB,GADG,IAENe,QAAS,aACTC,SAAU,yBACVC,KAAM,MA/Ba,SAACrE,GACxBuiC,EAAYz2B,YAAY,CAAE9L,UAASpC,MAAK,SAACJ,GACnCA,EACEA,EAAKA,KAAKwB,QACZuF,EAAS,2BACJnB,GADG,IAENe,QAAS,aACTC,SAAU,wBACVC,KAAK,YAAD,OAAcrE,EAAd,6BAGNqiC,EAAiB,SAAS,EAAOriC,IAEjCqiC,EAAiB,SAAS,EAAMriC,GAGlChC,QAAQC,MAAM,0CAA2CT,MAkB3DkI,CAAiBS,KAEjB5B,EAAS,2BACJnB,GADG,IAENe,QAAS,SACTC,SAAU,wBACVC,KAAM,4CAERg+B,EAAiB,SAAS,KAI9B,OACE,sBAAKx9B,UAAW,OAASC,EAAzB,UACG9E,EAAMhB,OACL,gCACE,4CAGF,uBAEF,sBAAK6F,UAAU,cAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAW,oBAAsBV,EAAvC,SACG+B,EACC,mBAAGrB,UAAU,mBAEb,mBAAGA,UAAU,kBAInB,uBACEE,KAAK,QACLF,UAAW,eAAiBT,EAC5BY,YAAY,QACZlF,KAAK,QACLmF,aAAa,MACb/C,MAAOlC,EACPyE,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBrB,EAAMS,SAASY,EAAOnD,QAChDoD,OAAQ,gBAAGD,EAAH,EAAGA,OAAH,OAAgBm9B,EAAWn9B,IACnCmJ,WAAY,YAAsB,IAAnBC,EAAkB,EAAlBA,IAAKpJ,EAAa,EAAbA,OACN,UAARoJ,GACF+zB,EAAWn9B,IAGfO,SAAS,gBAGZxB,EAAW,uBAAOS,UAAU,aAAjB,SAA+BR,IAAgB,MChGlD,SAASo+B,GAAwBz+B,GAC9C,MAA0B5D,mBAAS,CACjC+D,QAAS,UACTC,SAAU,GACVC,KAAM,0CAHR,mBAAOjB,EAAP,KAAcmB,EAAd,KAMQO,EAAkDd,EAAlDc,IAAKgc,EAA6C9c,EAA7C8c,MAAwBuhB,EAAqBr+B,EAAtCs+B,gBACZn+B,EAAyCf,EAAzCe,QAASC,EAAgChB,EAAhCgB,SAAUC,EAAsBjB,EAAtBiB,KAAM6B,EAAgB9C,EAAhB8C,YAE3Bw8B,EAAa,SAAC5hB,GACJ,cAEJrb,KAAKqb,IACbvc,EAAS,2BACJnB,GADG,IAENe,QAAS,aACTC,SAAU,yBACVC,KAAM,MAERg+B,EAAiB,SAAS,EAAMvhB,IAGX,KAAjBA,EAAM9hB,QACRuF,EAAS,2BACJnB,GADG,IAENe,QAAS,SACTC,SAAU,wBACVC,KAAM,4CAERg+B,EAAiB,SAAS,IAChBvhB,EAAM9hB,SAChBuF,EAAS,2BACJnB,GADG,IAENe,QAAS,SACTC,SAAU,wBACVC,KAAM,gCAERg+B,EAAiB,SAAS,KAKhC,OACE,sBAAKx9B,UAAW,OAASC,EAAzB,UACGgc,EAAM9hB,OACL,gCACE,+CAGF,uBAEF,sBAAK6F,UAAU,cAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAW,oBAAsBV,EAAvC,SACG+B,EACC,mBAAGrB,UAAU,mBAEb,mBAAGA,UAAU,qBAInB,uBACEE,KAAK,OACLF,UAAW,eAAiBT,EAC5BY,YAAY,cACZlF,KAAK,QACLmF,aAAa,MACb/C,MAAO8B,EAAM8c,MACbhb,UAAU,KACVrB,SAAU,YAAiB,IAAdY,EAAa,EAAbA,OACL/I,EAAQqF,SAAS0D,EAAOnD,OAEzBwd,MAAMpjB,GAEC+I,EAAOnD,MAAMlD,QACvBgF,EAAMS,SAAS,IAFfT,EAAMS,SAASnI,EAAM+V,aAKzB/M,OAAQ,gBAAGD,EAAH,EAAGA,OAAH,OAAgBq9B,EAAWr9B,EAAOnD,QAC1CsM,WAAY,YAAsB,IAAnBC,EAAkB,EAAlBA,IAAKpJ,EAAa,EAAbA,OACN,UAARoJ,GACFi0B,EAAWr9B,EAAOnD,aAKzBkC,EAAW,uBAAOS,UAAU,aAAjB,SAA+BR,IAAgB,MClFlD,SAASs+B,GAAT,GAMX,IAAD,UALDnlC,YAKC,MALM,GAKN,EAJDqL,EAIC,EAJDA,SACsB+5B,EAGrB,EAHDC,qBACqBC,EAEpB,EAFDC,oBACcC,EACb,EADDC,aAEMV,EAAc12B,IACpB,EAA0BzL,mBAAS,CACjC8iC,MAAM,EACNpiB,MAAO,GACP9gB,MAAO,GACPmjC,aAAa,IAJf,mBAAO//B,EAAP,KAAcmB,EAAd,KAmFA,OA3BAvC,qBAAU,WAAO,IAAD,EAERme,EADczhB,OAAO0hB,OAAP,UAAc5iB,EAAK2iB,cAAnB,QAA6B,IACtBxc,QAAO,SAACy/B,GAAD,OAAQA,KAErCjjB,GAAWA,EAAOnhB,QAAWxB,EAAKwC,MASrCuE,EAAS,2BACJnB,GADG,IAEN8/B,MAAM,EACNpiB,MAAOX,EAAO,GACdngB,MAAOxC,EAAKwC,MACZmjC,aAAa,KAbf5+B,EAAS,2BACJnB,GADG,IAEN8/B,MAAM,EACNpiB,MAAOX,EAAO,GACdngB,MAAOxC,EAAKwC,MACZmjC,aAAa,OAWhB,IAEHnhC,qBAAU,WACRghC,EAAc5/B,EAAM8/B,QACnB,CAAC9/B,EAAM8/B,OAGR,sBAAKr+B,UAAU,2CAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,aAAd,UACE,mBAAGA,UAAU,yBADf,uBAGE,mBAAGA,UAAU,gCAGjB,sBAAKA,UAAU,oBAAf,UACE,mBAAGA,UAAU,sBAAb,wBAA4CrH,EAAKe,MACjD,oBAAGsG,UAAU,YAAb,UACE,mBAAGA,UAAU,4BACZrH,EAAKsC,KAAKvC,iBAGZ6F,EAAM8/B,KACL,gCACE,gCACE,cAACT,GAAD,CACE3hB,MAAK,UAAE1d,EAAM0d,aAAR,QAAiB,GACtBhc,IAAK,GACLL,SAAU,SAACvC,GACTqC,EAAS,2BACJnB,GADG,IAEN0d,MAAO5e,MAGXogC,gBAAiB,WACf,IAAIzR,EAAK,wCACJztB,EAAMpD,QAAO6wB,GAAQ,GAE1BtsB,EAAS,2BACJnB,GADG,IAEN+/B,YAAatS,QAInB,cAAC,GAAD,CACE7wB,MAAK,UAAEoD,EAAMpD,aAAR,QAAiB,GACtB2F,OAAQnI,EAAKe,GACbuG,IAAK,GACLL,SAAU,SAACvC,GACTqC,EAAS,2BACJnB,GADG,IAENpD,MAAOkC,MAGXogC,gBAAiB,WACf,IAAIzR,EAAK,wCACJztB,EAAM0d,QAAO+P,GAAQ,GAE1BtsB,EAAS,2BACJnB,GADG,IAEN+/B,YAAatS,WAKrB,sBAAKhsB,UAAU,kCAAf,WACIzB,EAAM+/B,aACN,yBACEt+B,UAAU,oBACVgE,WAAUzF,EAAMigC,QAChBv8B,QAAS87B,EAHX,UAKE,mBAAG/9B,UAAU,2BALf,aAUF,yBACEA,UAAU,yBACViC,QAAS,WAAO,IAAD,EAEPqZ,EADczhB,OAAO0hB,OAAP,UAAc5iB,EAAK2iB,cAAnB,QAA6B,IACtBxc,QAAO,SAACy/B,GAAD,OAAQA,KAE1C7+B,EAAS,2BACJnB,GADG,IAEN8/B,MAAM,EACNpiB,MAAOX,EAAO,GACdngB,MAAOxC,EAAKwC,UAGhB6I,SAAW,WAAO,IAAD,EAIf,OAHoBnK,OAAO0hB,OAAP,UAAc5iB,EAAK2iB,cAAnB,QAA6B,IACtBxc,QAAO,SAACy/B,GAAD,OAAQA,KAE9BpkC,UACPxB,EAAKwC,QACLoD,EAAM+/B,aANF,GAbb,UAwBE,mBAAGt+B,UAAU,oBAxBf,cA2BA,yBACEA,UAAU,kBACViC,QAhLD,WACX,GAAK1D,EAAM0d,MAKX,GAAK1d,EAAMpD,MAAX,CAKA,IAAMsjC,EAAc,CAClB/kC,GAAIf,EAAKe,GACT4hB,OAAO,2BACF3iB,EAAK2iB,QADJ,IAEJmH,KAAMlkB,EAAM0d,QAEd9gB,MAAOoD,EAAMpD,OAGfuiC,EAAYt2B,YAAYq3B,GAAa1lC,MAAK,SAACmiB,GACrCA,GACFtjB,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,uBACPC,mBAAmB,EACnBC,MAAO,MAET25B,EAAqB/iB,GACrBxb,EAAS,2BACJnB,GADG,IAEN8/B,MAAM,EACNC,aAAa,OAGfnlC,QAAQC,MACN,uDACAT,EAAKe,GACL+kC,GAEF7mC,OAAOqM,KAAKC,KAAK,CACfC,KAAM,QACNC,MAAO,0CACPC,mBAAmB,aApCvBlL,QAAQC,MAAM,uDALdD,QAAQC,MAAM,mDA+KJ4K,UAAWzF,EAAM+/B,YAHnB,UAKE,mBAAGt+B,UAAU,qBALf,mBAWJ,sBAAKA,UAAU,OAAf,UACE,oBAAGA,UAAU,0BAAb,UACE,mBAAGA,UAAU,mBADf,UAEGzB,EAAMpD,aAFT,QAEkB,yBAGlB,oBAAG6E,UAAU,YAAb,UACE,mBAAGA,UAAU,0BACZzB,EAAM0d,MAAQ1d,EAAM0d,MAApB,+BAMP,+BACI1d,EAAM8/B,MACN,qCACE,yBACEr+B,UAAU,oBACVgE,SAAUA,EACV/B,QAAS87B,EAHX,UAKE,mBAAG/9B,UAAU,2BALf,aAQA,yBACEA,UAAU,oBACVgE,SAAUA,EACV/B,QAAS,kBACPvC,EAAS,2BACJnB,GADG,IAEN8/B,MAAM,MANZ,UAUE,mBAAGr+B,UAAU,qBAVf,uBCrOC,SAAS0+B,GAAT,GAKX,IAJF/lC,EAIC,EAJDA,KACAqL,EAGC,EAHDA,SACc26B,EAEb,EAFDC,aACYC,EACX,EADD7qB,WAIA,OACE,qCACE,mBAAGhU,UAAU,YAAb,SACE,sBAAMA,UAAU,gCAAhB,qBAAsDrH,EAAKe,QAE7D,oBAAGsG,UAAU,mBAAb,oBACU,IACR,sBAAMA,UAAU,qBAAhB,SACGyB,IAAO9I,EAAK+I,YAAYC,eAG7B,oBAAG3B,UAAU,mBAAb,mBACS,IACP,sBAAMA,UAAU,qBAAhB,SACGyB,IAAO9I,EAAK+I,YAAYe,OAAO,WAGpC,oBAAGzC,UAAU,mBAAb,qBACW,IACT,sBAAMA,UAAU,qBAAhB,SACGrH,EAAKuD,OAAS,WAAa,kBAIhC,gCACE,yBACE8D,UAAU,yBACVgE,SAAUA,EACV/B,QAAS,WACPrK,OAAOqM,KAAKC,KAAK,CACfC,KAAM,WACNC,MAAO,yCACPC,mBAAmB,EACnBG,kBAAmB,QACnBD,kBAAkB,EAClBu6B,kBAAmB,aAClB/lC,MAAK,YAAiB,EAAd4L,SAEPg6B,QAbR,UAkBE,mBAAG3+B,UAAU,2BAlBf,aAqBA,yBACEA,UAAU,eACVgE,SAAUA,EACV/B,QAAS48B,EAHX,UAKE,mBAAG7+B,UAAU,qBALf,kBCrDO,SAAS++B,GAAT,GAIX,IAHF3e,EAGC,EAHDA,MACA4e,EAEC,EAFDA,YACaC,EACZ,EADDC,YAEMC,EAAW5a,KAyBjB,OACE,qCACE,mBAAGvkB,UAAU,yBAAb,kEAGCogB,EAAMnmB,KAAI,SAACgrB,GAAD,OACT,qBACEjlB,UAAU,4CAEViC,QAAS,kBAAMg9B,EAAaha,IAH9B,SAKE,oBAAGjlB,UAAU,YAAb,UACE,sBAAMA,UAAU,gCAAhB,qBAAsDilB,EAAKvrB,MAC1D+H,IAAOwjB,EAAKvjB,YAAYC,UACzB,sBAAM3B,UAAU,wBAAhB,SACGilB,EAAK/oB,OAAS,WAAa,mBAP3B+oB,EAAKvrB,OAYd,yBACEsG,UAAU,mCACViC,QA9CsB,WAC1B,IAAIm9B,EAAc,CAChB5qB,WAAYwqB,GAGdG,EAASxa,SAASya,GAAarmC,MAAK,SAACksB,GAC/BA,GACFga,EAAaha,GACbrtB,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,8BACPC,mBAAmB,EACnBC,MAAO,OAGT1M,OAAOqM,KAAKC,KAAK,CACfC,KAAM,QACNC,MAAO,2BACPC,mBAAmB,QA0BvB,UAIE,mBAAGrE,UAAU,qBAJf,cCnDS,SAASq/B,GAAT,GAA2D,IAAlC1mC,EAAiC,EAAjCA,KAAkBkmC,EAAe,EAA3B7qB,WAC5C,EAA0BzY,mBAAS,CACjCsqB,iBAAkB,EAClBC,iBAAkB,EAClBC,KAAM,EACNC,KAAM,IAJR,mBAAOznB,EAAP,KAAcmB,EAAd,KAMM4/B,EAAiB,SAAC,GAAqB,IAAnBjiC,EAAkB,EAAlBA,MAAOpC,EAAW,EAAXA,KAC/ByE,EAAS,2BACJnB,GADG,kBAELtD,EAAO6B,SAASO,OAarB,OATAF,qBAAU,WACRuC,EAAS,2BACJnB,GADG,IAENsnB,iBAAkBltB,EAAKktB,iBACvBC,iBAAkBntB,EAAKktB,iBACvBE,KAAMptB,EAAKktB,iBACXG,KAAMrtB,EAAKktB,sBAEZ,IAED,qCACE,sBAAK7lB,UAAU,cAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,mBAAGA,UAAU,oBADf,cAGA,sBAAKA,UAAU,qBAAf,UACE,mBAAGA,UAAU,oBADf,mBAKF,qBAAKA,UAAU,mBAAf,SACE,qBAAKA,UAAU,qBAAf,SACE,sDAGJ,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,qBAAf,SACE,uBACEE,KAAK,OACLF,UAAU,eACV3C,MAAOkB,EAAMsnB,iBACb5qB,KAAK,mBACL2E,SAAU0/B,MAGd,qBAAKt/B,UAAU,qBAAf,SACE,uBACEE,KAAK,OACLF,UAAU,eACV3C,MAAOkB,EAAMunB,iBACb7qB,KAAK,mBACL2E,SAAU0/B,SAKhB,qBAAKt/B,UAAU,mBAAf,SACE,qBAAKA,UAAU,qBAAf,SACE,0DAGJ,sBAAKA,UAAU,WAAf,UACE,qBAAKA,UAAU,qBAAf,SACE,uBACEE,KAAK,OACLF,UAAU,eACV3C,MAAOkB,EAAMwnB,KACb9qB,KAAK,OACL2E,SAAU0/B,MAGd,qBAAKt/B,UAAU,qBAAf,SACE,uBACEE,KAAK,OACLF,UAAU,eACV3C,MAAOkB,EAAMynB,KACb/qB,KAAK,OACL2E,SAAU0/B,SAKhB,qBAAKt/B,UAAU,WAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,yBAAQA,UAAU,yBAAyBiC,QAAS48B,EAApD,UACE,mBAAG7+B,UAAU,oBADf,cAIA,yBACEA,UAAU,kBACVgE,UAAU,EAFZ,UAIE,mBAAGhE,UAAU,qBAJf,qBCzFK,SAASu/B,GAAT,GAOX,IANF5mC,EAMC,EANDA,KACAusB,EAKC,EALDA,SACAsa,EAIC,EAJDA,aACAx7B,EAGC,EAHDA,SACcy7B,EAEb,EAFD/Q,aACcgR,EACb,EADDC,aAEA,EAA0BpkC,mBAAS,CACjC6kB,MAAO,GACPie,MAAM,IAFR,mBAAO9/B,EAAP,KAAcmB,EAAd,KAYA,OAPAvC,qBAAU,WACRuC,EAAS,2BACJnB,GADG,IAEN6hB,MAAO8E,EAAS9E,WAEjB,IAGD,sBAAKpgB,UAAU,sCAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,aAAd,UACE,mBAAGA,UAAU,8BADf,SAGG0C,QAAQ7I,OAAOC,KAAKnB,GAAMwB,SACzB,qDACe,mBAAG6F,UAAU,mCAKlC,qBAAKA,UAAU,oBAAf,SACGw/B,EACC,oBAAGx/B,UAAU,sBAAb,UACE,mBAAGA,UAAU,qBADf,mEAIEzB,EAAM8/B,KACR,cAACgB,GAAD,CACE1mC,KAAMA,EACNqb,WAAY,kBAAMtU,EAAS,2BAAKnB,GAAN,IAAa8/B,MAAO9/B,EAAM8/B,WAGtD,mCACGxkC,OAAOC,KAAKnB,GAAMwB,OACjB,cAACukC,GAAD,CACE/lC,KAAMA,EACNqL,SAAUA,EACV46B,aAAcc,EACd1rB,WAAY,kBAAMtU,EAAS,2BAAKnB,GAAN,IAAa8/B,MAAO9/B,EAAM8/B,WAGtD,mCACE,cAACU,GAAD,CACE3e,MAAO7hB,EAAM6hB,MACb4e,YAAa9Z,EAASxrB,GACtBwlC,YAAaO,aC7DhB,SAASG,GAAT,GAIX,IAAD,IAHDjnC,EAGC,EAHDA,KACAqL,EAEC,EAFDA,SACmB67B,EAClB,EADDC,kBAEA,EAA0BvkC,mBAAS,CACjCsoB,UAAU,EACVuL,SAAU,KACV2Q,OAAQ,IAHV,mBAAOxhC,EAAP,KAAcmB,EAAd,KAMMsgC,EAAc,WAClB,IAEI3iC,EAAQ,EAEZ,GAAKkB,EAAM6wB,SAAX,CAQA,GAAI7wB,EAAM6wB,SAASlsB,MAZD,cAchB7F,GADAA,EAAQP,SAASyB,EAAM6wB,WACPz2B,EAAKmnB,MAAQnnB,EAAKmnB,MAAQhjB,SAASyB,EAAM6wB,eACpD,GAAI7wB,EAAM6wB,SAASlsB,MAdT,mBAc0B,CACzC,IAAMkuB,EAAUt0B,SAASyB,EAAM6wB,SAASzuB,QAAQ,IAAK,KAAO,IAC5DtD,EAAQ+zB,GAAW,EAAIz4B,EAAKmnB,MAAQhjB,SAASnE,EAAKmnB,MAAQsR,GAG5DyO,EAAmB,OAAD,YAAC,eACdlnC,GADa,IAEhBy2B,SAAU/xB,KAEZqC,EAAS,2BACJnB,GADG,IAENslB,UAAU,UArBVnkB,EAAS,2BACJnB,GADG,IAENslB,UAAU,MAuBhB,OACE,mCACE,sBAAK7jB,UAAU,gBAAf,UACE,qBAAKA,UAAU,6BAAf,SACE,qBAAIA,UAAU,aAAd,UACE,mBAAGA,UAAU,wBADf,iBAKF,qBAAKA,UAAU,YAAf,SACGzB,EAAMslB,SACL,qCACE,mBAAG7jB,UAAU,sBAAb,sEAGA,sBAAKA,UAAU,WAAf,UACE,qBAAKA,UAAU,QAAf,SACE,uBACE3C,MAAK,UAAEkB,EAAM6wB,gBAAR,QAAoB,GACzBpvB,UAAU,eACVE,KAAK,OACLN,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRd,EAAS,2BAAKnB,GAAN,IAAa6wB,SAAU5uB,EAAOnD,UAExCsM,WAAY,kBAAqB,UAArB,EAAGC,KAA6Bo2B,SAGhD,qBAAKhgC,UAAU,MAAf,SACE,wBAAQA,UAAU,kBAAkBiC,QAAS+9B,EAA7C,SACGzhC,EAAM6wB,SACL,qCACE,mBAAGpvB,UAAU,qBADf,cAIA,qCACE,mBAAGA,UAAU,oBADf,yBASV,qCACE,oBAAIA,UAAU,mBAAd,SACGgE,IAAazF,EAAM6wB,SAClB,uBAAMpvB,UAAU,sBAAhB,UACE,mBAAGA,UAAU,4BADf,mBAEkB,+CAFlB,mCAMA,kDAEE,uBAAMA,UAAU,0BAAhB,yBACKrH,EAAKy2B,gBADV,aACK,EAAe/Z,QAAQ,WAMlC,sBAAKrV,UAAU,YAAf,UACE,yBACEE,KAAK,SACLF,UAAU,2BACVgE,UAAWtB,QAAQ/J,EAAKy2B,UACxBntB,QAAS,WACP49B,EAAmB,OAAD,YAAC,eACdlnC,GADa,IAEhBy2B,SAAU,KAEZ1vB,EAAS,2BACJnB,GADG,IAEN6wB,SAAU,MAXhB,UAeE,mBAAGpvB,UAAU,6BAff,cAkBA,yBACEA,UAAU,uBACVgE,SAAUA,EACV/B,QAAS,WACPvC,EAAS,2BACJnB,GADG,IAENslB,UAAU,MANhB,UAUE,mBAAG7jB,UAAU,qBAVf,yBCmID0zB,OAxPf,YAKI,IAJFC,EAIC,EAJDA,QACarnB,EAGZ,EAHDoI,YAEmBurB,GAClB,EAFDpgB,KAEC,EADDqgB,mBAGMtM,EADSp5B,qBAAWuD,GACDpF,KAGzB,EAAwB4C,mBAAS,CAC/B7B,GAAI,EACJm6B,WAAY,EACZC,WAAY,WACZhU,MAAO,EACPiU,QAAS,KACTC,QAAS,KACT12B,KAAM,KAPR,mBAAO3E,EAAP,KAAakY,EAAb,KAWMC,EAAoB,SAAC,GAA2B,IAAzB7V,EAAwB,EAAxBA,KAAMoC,EAAkB,EAAlBA,MAAO6C,EAAW,EAAXA,KAClCiP,EAAM9R,EAEG,WAAT6C,GAA8B,eAATA,IAAuBiP,EAAM4B,WAAW1T,IAEjEwT,EAAQ,2BACHlY,GADE,kBAEJsC,EAAOkU,MAGZ8kB,EAAmB,WACjB,IAAKt7B,EAAKmnB,MAOR,OANAloB,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,wCACPC,mBAAmB,EACnBC,MAAO,QAEF,EAGT,GACsB,IAApB3L,EAAKk7B,YACe,IAApBl7B,EAAKk7B,YACe,IAApBl7B,EAAKk7B,WACL,CAAC,IAAD,IACA,IAAKl7B,EAAKo7B,QAOR,OANAn8B,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,sBACPC,mBAAmB,EACnBC,MAAO,OAEF,EAGT,IAAI,UAAA3L,EAAK2E,YAAL,eAAWnD,QAAS,EAOtB,OANAvC,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,kDACPC,mBAAmB,EACnBC,MAAO,OAEF,EACF,IAAI,UAAA3L,EAAK2E,YAAL,eAAWnD,QAAS,EAO7B,OANAvC,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,kCACPC,mBAAmB,EACnBC,MAAO,OAEF,EAIX,GAAwB,IAApB3L,EAAKk7B,aACFl7B,EAAK2E,KAOR,OANA1F,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,2CACPC,mBAAmB,EACnBC,MAAO,QAEF,EAIX27B,EAAmB,2BACdtnC,GADa,IAEhBe,GAAG,MAAD,OAAQif,KAAKC,MAAMpL,YACrBsmB,WAAYnB,GAAQ3D,cAAcr2B,EAAKk7B,YACvC/T,MAAO6T,EAAUh7B,EAAKmnB,MAAQ6T,EAAUh7B,EAAKmnB,UAQnD,OACE,qBAAK9f,UAAU,gBAAgB8U,SAAS,KAAxC,SACE,qBAAK9U,UAAU,eAAemC,KAAK,WAAnC,SACE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,6BACA,wBAAQE,KAAK,SAASF,UAAU,QAAQiC,QAAS,kBAAMqK,KAAvD,SACE,sBAAM,cAAY,OAAlB,uBAGJ,qBAAKtM,UAAU,iBAAf,SACE,uBAAMI,aAAa,MAAM2jB,SAhBd,SAAC5b,GAClBA,EAAEC,iBACF6rB,KAcM,UACE,qBAAKj0B,UAAU,yBAAf,SACE,qBAAKA,UAAU,MAAf,SACE,qBAAIA,UAAU,cAAd,wBACa,uBAAMA,UAAU,eAAhB,eAAkC2zB,YAInD,sBAAK3zB,UAAU,WAAf,UACE,sBAAKA,UAAU,MAAf,UACE,mDACA,yBACE/E,KAAK,aACL+E,UAAU,+BACVJ,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,IAC5CF,aAAc3H,EAAKk7B,WAJrB,UAME,wBAAQx2B,MAAM,IAAd,sBACA,wBAAQA,MAAM,IAAd,+BACA,wBAAQA,MAAM,IAAd,gCACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,IAAd,oBACA,wBAAQA,MAAM,IAAd,2BACA,wBAAQA,MAAM,IAAd,wBAGJ,sBAAK2C,UAAU,MAAf,UACE,6CACA,uBACEE,KAAK,SACL8Q,IAAI,IACJhR,UAAU,0BACV/E,KAAK,QACL2E,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,IAC5CH,WAAW,UAKI,IAApB1H,EAAKk7B,WACJ,sBAAK7zB,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,SACuB,IAApBrH,EAAKk7B,YAAwC,IAApBl7B,EAAKk7B,WAC7B,qCACE,0CACA,yBACE54B,KAAK,UACL+E,UAAU,+BACVJ,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,IAH9C,UAKE,wBAAQnD,MAAM,GAAd,qCACCu2B,EAAU35B,KAAI,SAACi6B,GACd,MAAqB,SAAdA,EAAKj5B,KACV,wBAAsBoC,MAAO62B,EAAKx6B,GAAlC,SACGw6B,EAAKv7B,MADKu7B,EAAKx6B,IAGhB,cAIPf,EAAKk7B,WAWR,oBAAI7zB,UAAU,uCAAd,uBAVA,qCACE,gDACA,uBACEE,KAAK,OACLjF,KAAK,UACL+E,UAAU,eACVJ,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,WASpD,sBAAKR,UAAU,MAAf,UACE,gCACuB,IAApBrH,EAAKk7B,WACF,oBACA,uBAEN,uBACE54B,KAAK,OACL+E,UAAU,eACVJ,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OAAgBsQ,EAAkBtQ,YAIhD,KAEHmzB,EAAUh7B,EAAKmnB,MACd,qBAAK9f,UAAU,MAAf,SACE,qBAAKA,UAAU,MAAf,SACE,oBAAIA,UAAU,mBAAd,SACuB,IAApBrH,EAAKk7B,WACJ,+CAEE,uBAAM7zB,UAAU,OAAhB,eAA0BrH,EAAKmnB,MAAQ6T,QAGzC,uBAAM3zB,UAAU,cAAhB,UACE,mBAAGA,UAAU,4BADf,iDAQN,UAGR,sBAAKA,UAAU,eAAf,UACE,yBACEE,KAAK,SACLF,UAAU,kBACViC,QAAS,kBAAMqK,KAHjB,UAKE,mBAAGtM,UAAU,oBALf,cAQA,yBACEE,KAAK,SACLF,UAAU,kBACViC,QAAS,kBAAMgyB,KACfjwB,UAAWrL,EAAKmnB,MAJlB,UAME,mBAAG9f,UAAU,2BANf,uBC3OG,SAASmgC,GAAT,GAIX,IAAD,MAHDxnC,YAGC,MAHM,GAGN,EAFDqL,EAEC,EAFDA,SACmBi8B,EAClB,EADDC,kBAEA,EAA0B3kC,mBAAS,CACjC4Z,WAAW,EACXyd,OAAQ,EACRmN,OAAQ,IAHV,mBAAOxhC,EAAP,KAAcmB,EAAd,KAqBA,OAJAvC,qBAAU,YAXW,WAAO,IAAD,EACnBy1B,EAAM,UAAGj6B,EAAKw2B,gBAAR,aAAG,EAAeG,QAAO,SAAC2H,EAAM7E,GAAP,OAAeA,EAAItS,MAAQmX,IAAM,GAChE8I,GAAUpnC,EAAK42B,SAAW52B,EAAK42B,SAAU52B,EAAKmnB,QAArC,OAA+C8S,QAA/C,IAA+CA,IAAU,GAAKj6B,EAAKy2B,SAElF1vB,EAAS,2BACJnB,GADG,IAENwhC,SACAnN,OAAM,OAAEA,QAAF,IAAEA,IAAU,KAKpBwN,KACC,CAACznC,EAAKmnB,MAAOnnB,EAAKy2B,SAAUz2B,EAAKw2B,SAAU5wB,EAAM4W,YAGlD,qCACE,sBAAKnV,UAAU,qBAAf,UACE,qBAAKA,UAAU,6BAAf,SACE,qBAAIA,UAAU,aAAd,UACE,mBAAGA,UAAU,+BADf,uBAMF,sBAAKA,UAAU,YAAf,UACG,UAAArH,EAAKw2B,gBAAL,SAAeh1B,OACd,qBAAK6F,UAAU,YAAf,SACGrH,EAAKw2B,SAASl1B,KAAI,SAACg7B,EAAS5vB,GAAV,OACjB,sBAAKrF,UAAU,MAAMtG,GAAIu7B,EAAQv7B,GAAjC,UACE,qBAAKsG,UAAU,QAAf,SAAwBqF,EAAQ,IAChC,qBAAKrF,UAAU,wCAAf,SACE,qBACEA,UACyB,aAAvBi1B,EAAQnB,WACJ,eACA,YAJR,UAOE,sBAAM9zB,UAAU,iBAAhB,SACGi1B,EAAQnB,aAEVmB,EAAQ33B,MACP,uBAAM0C,UAAU,aAAhB,eAAgCi1B,EAAQ33B,aAI9C,qBAAK0C,UAAU,mBAAf,SACE,mCAAMi1B,EAAQnV,WAEhB,qBAAK9f,UAAU,mBAAf,SACE,wBACEA,UAAU,uBACVtG,GAAIu7B,EAAQv7B,GACZuI,QAAS,WACP,IAAMktB,EAAWx2B,EAAKw2B,SAASrwB,QAC7B,SAACszB,GAAD,OAASA,EAAI14B,KAAOu7B,EAAQv7B,MAG9BumC,EAAmB,OAAD,YAAC,eACdtnC,GADa,IAEhBw2B,eAGJnrB,UAAWtB,QAAQnE,EAAMwhC,SAAW/7B,EAbtC,SAeE,mBAAGhE,UAAU,uBArCuBqF,QA4C9C,qBAAIrF,UAAU,yBAAd,UACE,mBAAGA,UAAU,2BADf,oCAMF,sBAAKA,UAAU,oDAAf,UACE,qBAAKA,UAAU,OAAf,SACE,yBACEA,UAAU,uBACViC,QAAS,WACPvC,EAAS,2BACJnB,GADG,IAEN4W,WAAW,MAGfnR,UAAWtB,QAAQnE,EAAMwhC,SAAW/7B,EARtC,UAUE,mBAAGhE,UAAU,+BAVf,cAcF,qBAAIA,UAAU,oBAAd,UACE,sBAAMA,UAAU,kCAAhB,0BAEQ,IAHV,KAIKzB,EAAMq0B,UAEX,qBAAI5yB,UAAU,cAAd,UACE,sBAAMA,UAAU,kCAAhB,wBADF,KAIKzB,EAAMwhC,mBAMhBxhC,EAAM4W,UACL,cAAC,GAAD,CACET,YAAa,WACXhV,EAAS,2BACJnB,GADG,IAEN4W,WAAW,MAGf0K,KAAMlnB,EACNg7B,QAASp1B,EAAMwhC,OACfG,kBAAmB,SAAC9N,GAClB,IAAMjD,EAAWx2B,EAAKw2B,SAChB9pB,EAAQ8pB,EAASoO,WACrB,SAAC/hB,GAAD,OAAOA,EAAEqY,aAAezB,EAAIyB,cAG1BxuB,EAAQ,EACV8pB,EAAS5yB,KAAK61B,GAEdjD,EAAS9pB,GAAOya,OAASsS,EAAItS,MAG/BmgB,EAAmB,OAAD,YAAC,eACdtnC,GADa,IAEhBw2B,cAEFzvB,EAAS,2BACJnB,GADG,IAEN4W,WAAW,QAIf,QC5IK,SAASkrB,GAAkBlhC,GAAQ,IAAD,iBAC/C,EAA0B5D,mBAAS,CACjC7B,GAAI,EACJ8a,WAAY,EACZ0G,QAAS,GACTsjB,QAAS,EACTvZ,KAAM,GACNqb,UAAW,GACX56B,MAAO,GACP5J,QAASykC,GAActR,aACvBpP,KAAM,CACJC,MAAO,EACPsP,SAAU,EACVD,SAAU,IAEZ6D,OAAO,EACPwM,cAAc,EACdzC,YAAY,IAhBd,mBAAOx+B,EAAP,KAAcmB,EAAd,KAkBMs7B,EAAexgC,qBAAWggC,IAC1BS,EAAYR,KAgFZ3pB,EAAoB,SAAClH,EAAKvM,GAC9B,GAAY,SAARuM,EAmBF,OAlBIvM,EAAM0O,aACRyO,EAAoBnd,EAAM0O,kBAGvB1O,EAAM3D,GAOTgG,EAAS,2BACJnB,GADG,IAENigC,QAASnhC,EAAM3D,GACfurB,KAAM5nB,KATRqC,EAAS,2BACJnB,GADG,IAENigC,QAAS,EACTvZ,KAAM,OAaZ,GAAY,UAARrb,EAiBJlK,EAAS,2BACJnB,GADG,kBAELqL,EAAMvM,SAnBT,CACE,IAAMyiB,EAAQziB,EAAMiyB,QAClB,SAAC6N,EAAKzyB,GAAN,OAAeA,EAAKe,KAAOf,EAAKiB,MAAQwxB,IACxC,GAGFz9B,EAAS,2BACJnB,GADG,IAENmH,MAAOrI,EACPwiB,KAAK,2BACAthB,EAAMshB,MADP,IAEFC,MAAOA,SAWTtF,EAAsB,SAACgmB,IAE3BC,EADyB,EAAKthC,MAAtBshC,cACK,CAAE/mC,GAAI8mC,KAGfE,EAAc,SAAC/nC,GACnBsiC,EAAUL,UAAUjiC,GAAMI,MAAK,YAAe,IAAZJ,EAAW,EAAXA,KAC5BA,EACFf,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,gCACPC,mBAAmB,EACnBC,MAAO,MACNvL,MAAK,YAAiB,EAAd4L,SAEPjF,EAAS,2BACJnB,GADG,IAEN7E,GAAIf,EAAKe,GACTmmB,KAAM,CACJnmB,GAAIf,EAAKknB,KAAKnmB,GACdomB,MAAOnnB,EAAKknB,KAAKC,MACjByP,SAAU52B,EAAKknB,KAAK0P,SACpBH,SAAUz2B,EAAKknB,KAAK8gB,UACpBxR,SAAUx2B,EAAKknB,KAAKsP,SACpBE,KAAM12B,EAAKknB,KAAKwP,KAChBnK,SAAUvsB,EAAKgjC,UAEjB3I,OAAO,QAKbp7B,OAAOqM,KAAKC,KAAK,CACfC,KAAM,SACNC,MAAO,6BACPC,mBAAmB,QAKrBu8B,EAAsB,WAC1B5F,EAAahzB,IAAb,2BACKgzB,GADL,IAEE/yB,MAAO,YAIX,OACE,qBAAKjI,UAAU,yBAAf,SACE,sBAAKA,UAAU,2CAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,aAAd,UACE,mBAAGA,UAAU,+BADf,oBAMF,sBAAKA,UAAU,oDAAf,UAEIzB,EAAMiW,WAuBN,cAACspB,GAAD,CACEnlC,KAAM4F,EAAM2c,QACZ8iB,qBAAsB,WACpBt+B,EAAS,CACP5D,QAASykC,GAActR,aACvBza,WAAY,EACZ0G,QAAS,GACTxV,MAAO,GACP84B,QAAS,EACTvZ,KAAM,MAGViZ,oBAAqB,SAAChjB,GAAD,OACnBxb,EAAS,2BAAKnB,GAAN,IAAa2c,UAASskB,cAAc,MAE9CpB,aAAc,SAACliC,GAAD,OACZwD,EAAS,2BAAKnB,GAAN,IAAaihC,aAActjC,MAErC8H,SAAUtB,QAAQnE,EAAMigC,WAxC1B,qBAAKx+B,UAAU,sBAAf,SACE,cAAC,GAAD,CACEoE,MAAM,WACN0oB,OACGvuB,EAAMiW,WAEH,KADA,0DAGNuY,oBAAqB,SAAC7R,GACH,IAAD,EAAZA,EAAQxhB,IACVgG,EAAS,2BACJnB,GADG,IAENiW,WAAU,UAAE0G,EAAQxhB,UAAV,QAAgB,EAC1B4mC,UAAWplB,EAAQkF,MAAMjmB,OAAS+gB,EAAQkF,MAAQ,GAClDlF,cAINviB,KAAM4F,EAAM2c,YA2BjBxY,QAAQnE,EAAMiW,aACb,cAAC+qB,GAAD,CACE5mC,KAAM4F,EAAM0mB,KACZC,SAAU3mB,EAAM2c,QAChBskB,aAAcjhC,EAAMihC,aACpBx7B,SAAUtB,QAAQnE,EAAMmH,MAAMvL,QAC9Bu0B,aAAc,SAACzJ,GAAD,OACZvlB,EAAS,2BAAKnB,GAAN,IAAaigC,QAASvZ,EAAKvrB,GAAIurB,WAEzC0a,aAAc,kBAAMjgC,EAAS,2BAAKnB,GAAN,IAAaigC,QAAS,EAAGvZ,KAAM,YAMhEviB,QAAQnE,EAAMigC,UACb,qBAAKx+B,UAAU,gEAAf,SACE,cAAC,GAAD,CACE0F,MAAK,UAAEnH,EAAMmH,aAAR,QAAiB,GACtB5J,QAASyC,EAAMzC,QACfkI,SAAUtB,QAAO,UAACnE,EAAMshB,YAAP,iBAAC,EAAYsP,gBAAb,aAAC,EAAsBh1B,QACxCoa,YAAazD,EACb9Q,UACEzB,EAAMmH,MAAMvL,OACR,uCACA,2CAOXuI,QAAQnE,EAAMmH,MAAMvL,SAAWoE,EAAMw+B,YACpC,sBAAK/8B,UAAU,8CAAf,UACE,cAAC4/B,GAAD,CACEjnC,KAAI,UAAE4F,EAAMshB,YAAR,QAAgB,GACpBigB,kBAAmBhvB,EACnB9M,SAAW,WAAO,IAAD,EACT4uB,EAAM,UAAGr0B,EAAMshB,KAAKsP,gBAAd,aAAG,EAAqBG,QAClC,SAAC2H,EAAM7E,GAAP,OAAeA,EAAItS,MAAQmX,IAC3B,GAGF,QAAI14B,EAAM7E,OACNk5B,IAEIlwB,QACNnE,EAAMshB,KAAKC,MAAQvhB,EAAMshB,KAAKuP,SAAWwD,IAVlC,KAeb,cAACuN,GAAD,CACExnC,KAAI,UAAE4F,EAAMshB,YAAR,QAAgB,GACpBqgB,kBAAmBpvB,EACnB9M,SAAUtB,QAAQnE,EAAM7E,SAK7B6E,EAAMy0B,OACL,cAACV,GAAD,CACE35B,KAAI,2BACC4F,EAAMshB,MADP,IAEFna,MAAOnH,EAAMmH,MACbmtB,SAAUt0B,EAAM7E,GAChBgI,WAAYnD,EAAMmD,aAEpBwxB,SAAU,kBAAMxzB,EAAS,2BAAKnB,GAAN,IAAay0B,OAAO,QAIhD,qBAAKhzB,UAAU,uEAAf,SACE,sBAAKA,UAAU,uBAAf,UACE,yBACEA,UAAU,oBACViC,QAAS,WACH1D,EAAMiW,aAAejW,EAAM7E,GAC7B9B,OAAOqM,KAAKC,KAAK,CACfC,KAAM,WACNC,MAAO,qDACPC,mBAAmB,EACnBG,kBAAmB,QACnBD,kBAAkB,EAClBu6B,kBAAmB,aAClB/lC,MAAK,YAAiB,EAAd4L,SAEPi8B,OAIJA,KAjBN,UAqBE,mBACE5gC,UACEzB,EAAM7E,GAAK,wBAA0B,oBAGxC6E,EAAM7E,GAAK,SAAW,cAGxB6E,EAAM7E,GACL,yBACEsG,UAAU,uBACViC,QAAS,kBAAMvC,EAAS,2BAAKnB,GAAN,IAAay0B,OAAQz0B,EAAMy0B,UAFpD,UAIE,mBAAGhzB,UAAU,sBAJf,cAQA,yBACEA,UAAU,uBACVgE,WACGzF,EAAMmH,MAAMvL,SAAUoE,EAAM7E,IAAO6E,EAAMw+B,YAI5C96B,QA3VK,SAACkG,GAAO,IAAD,EACpB04B,EAAmB,EAERC,EAAoDviC,EAA3DmH,MAAoB84B,EAAuCjgC,EAAvCigC,QAAS1iC,EAA8ByC,EAA9BzC,QAAS0Y,EAAqBjW,EAArBiW,WAAYqL,EAASthB,EAATshB,KAEpDna,EAAQo7B,EAAY7mC,KAAI,SAACyQ,GAG7B,OAFsB,IAAlBA,EAAKuC,UAAgB4zB,IAElB,CACLp1B,KAAMf,EAAKe,KACXE,MAAOjB,EAAKiB,MACZ4jB,SAAU7kB,EAAK6kB,SACfa,UAAW1lB,EAAK0lB,UAChBt0B,QAASA,EACTw0B,IAAK5lB,EAAK4lB,IACVE,YAAa9lB,EAAK8lB,YAClB9kB,eAAgBhB,EAAKgB,mBAIzB,GAAIhG,EAAMvL,SAAW0mC,EAOnB,OANAjpC,OAAOqM,KAAKC,KAAK,CACfE,MAAO,eACP5E,KAAM,8CACN2E,KAAM,UACNG,MAAO,OAEF,EAGT,IAAI3L,EAAO,CACTmD,QAASA,EACT0Y,WAAYA,EACZ9O,MAAOA,EACPma,KAAM,CACJuP,SAAUvP,EAAKuP,WAInB,GAAIvP,EAAKsP,SAASh1B,OAAQ,CACxB,IAAI4mC,EAAgBlhB,EAAKsP,SACzB4R,EAAcxrB,SAAQ,SAAC0f,UACdA,EAAQv7B,UACRu7B,EAAQnB,cAEjBn7B,EAAKknB,KAAKsP,SAAW4R,EAGnBvC,IAAS7lC,EAAK6lC,QAAU1hC,SAAS0hC,IAEjC,UAAC7lC,EAAKknB,KAAKsP,gBAAX,OAAC,EAAoBh1B,OAcvBvC,OAAOqM,KAAKC,KAAK,CACfC,KAAM,WACNC,MAAO,2CACPC,mBAAmB,EACnBG,kBAAmB,KACnBD,kBAAkB,EAClBy8B,eAAgB,OACfjoC,MAAK,YAAiB,EAAd4L,SAEP+7B,EAAY/nC,MAtBhBf,OAAOqM,KAAKC,KAAK,CACfC,KAAM,WACNC,MAAO,gDACPC,mBAAmB,EACnBG,kBAAmB,KACnBD,kBAAkB,EAClBy8B,eAAgB,OACfjoC,MAAK,YAAiB,EAAd4L,SAEP+7B,EAAY/nC,OAwRR,UASE,mBAAGqH,UAAU,qBATf,uBC1XC,SAASihC,GAAT,GAKX,IAAD,IAJD/kC,cAIC,aAHDglC,cAGC,MAHQ,GAGR,MAFDC,iBAEC,MAFW,GAEX,EADaC,EACb,EADD7gC,aAGM0Z,EAAiB,CACrBpR,KAAM,EACNrB,QAAS,aACTC,MAAO,OACPc,UAAW,IACXrI,KAAK,EACLwa,SAAS,GAGX,EAAkCnf,mBAAS,IAA3C,mBAAOgM,EAAP,KAAkB85B,EAAlB,KACA,EAAoC9lC,mBAAS,IAA7C,mBAAO+lC,EAAP,KAAmBC,EAAnB,KACMC,EAAgBx6B,IAiBhBuN,EAAc,SAACpM,GACnBA,EAAEC,iBACF,MAAwBD,EAAE3H,OAAlBvF,EAAR,EAAQA,KAAMoC,EAAd,EAAcA,MACV8R,EAAM9R,EAEG,WAATpC,IAAmBkU,EAAMrS,SAASO,IAElC+jC,GAAeA,EAAcnmC,EAAMkU,IASzC,OANAhS,qBAAU,WAxBRqkC,EAAav6B,YAAYgT,GAAgBlhB,MAAK,SAACJ,GAC7C,GAAGA,EAAK,CACN0oC,EAAa1oC,EAAKA,MAClB,IAAM2oC,EAAa3oC,EAAKA,KAAKmG,QAAO,SAAC8H,GAAD,OAAaA,EAASlN,KAAOwnC,KACjE,IAAII,EAAWnnC,OACb,OAAO,KAEPonC,EAAcD,EAAW,GAAGrmC,YAqBjC,IAGD,sBAAK+E,UAAU,UAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,oCAAf,UACE,gDAEA,yBACEA,UAAW9D,EAAS,EAAI,wBAA0B,eAClD8H,SAAU9H,EAAS,EACnBjB,KAAK,SACLqF,aAAc4gC,EACdthC,SAAU2U,EALZ,UAOE,wBAAQlX,MAAM,IAAd,SACc,IAAX6jC,EAAe,0BAA4BI,IAE7C/5B,EAAUtN,KAAI,SAACkf,GACV,OACE,wBAAmB9b,MAAO8b,EAAEzf,GAA5B,SACGyf,EAAEle,MADQke,EAAEzf,eAS7B,qBAAKsG,UAAU,MAAf,SACE,sBAAKA,UAAU,oCAAf,UACE,0CACA,uBACEE,KAAK,OACLF,UAAW9D,EAAS,EAAI,wBAA0B,eAClD8H,SAAU9H,EAAS,EACnBjB,KAAK,YACLgG,UAAU,KACVX,aAAc6gC,EACdvhC,SAAU2U,YCzFP,SAASktB,GAAT,GAKX,IAAD,IAJDvlC,cAIC,aAHDwlC,cAGC,MAHQ,GAGR,MAFD7G,kBAEC,MAFY,GAEZ,EADauG,EACb,EADD7gC,aAEMgU,EAAc,SAACpM,GACnBA,EAAEC,iBACF,MAAwBD,EAAE3H,OAAlBvF,EAAR,EAAQA,KAAMoC,EAAd,EAAcA,MACV8R,EAAM9R,EAEG,SAATpC,IAAiBkU,EAAMrS,SAASO,IAEhC+jC,GAAeA,EAAcnmC,EAAMkU,IAGzC,OACE,sBAAKnP,UAAU,UAAf,UACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,oCAAf,UACE,uBAAOsI,QAAQ,MAAf,kBACA,uBACEpI,KAAK,SACLF,UAAW9D,EAAS,EAAI,wBAA0B,eAClD8H,SAAU9H,EAAS,EACnBjB,KAAK,SACL+V,IAAI,IACJ1Q,aAAcohC,EACd9hC,SAAU2U,SAIhB,qBAAKvU,UAAU,MAAf,SACE,sBAAKA,UAAU,oCAAf,UACE,kDACA,0BACE/E,KAAK,aACL+E,UAAW9D,EAAS,EAAI,wBAA0B,eAClD8H,SAAU9H,EAAS,EACnBoE,aAAcu6B,EACdj7B,SAAU2U,YCrCtB,IAgJeotB,GAhJe,SAACxiC,GAAW,IAAD,8BACvC,EAKIA,EAJF8lB,YADF,MACS,GADT,IAKI9lB,EAHFyiC,gBAFF,SAGeC,EAEX1iC,EAFF2iC,YACAC,EACE5iC,EADF4iC,UAGF,EAA8BxmC,mBAAS,CACrC8pB,SAAUJ,EAAKI,SACfC,SAAUL,EAAKK,SACfC,UAAWN,EAAKM,UAChBC,UAAWP,EAAKO,UAChBC,MAAOR,EAAKQ,MACZC,MAAOT,EAAKS,MACZC,SAAUV,EAAKU,SACfC,SAAUX,EAAKW,SACfC,iBAAkBZ,EAAKY,iBACvBC,iBAAkBb,EAAKa,iBACvBC,KAAMd,EAAKc,KACXC,KAAMf,EAAKe,KACXC,SAAUhB,EAAKgB,SACfC,SAAUjB,EAAKiB,SACf8D,QAAS/E,EAAK+E,QACdC,MAAOhF,EAAKgF,MACZC,MAAOjF,EAAKiF,QAjBd,mBAAO8X,EAAP,KAAgBC,EAAhB,KA6BMC,EAAmB,WACvBL,EAAa,YAAY,IAwB3B,OACE,qCACE,sBAAK7hC,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,uCACQ,uBADR,IACgBilB,EAAKvrB,QAGvB,sBAAKsG,UAAU,MAAf,UACE,uCACA,uBACA,mBAAGA,UAAU,yBACZyB,IAAOwjB,EAAKvjB,YAAYe,OAAO,QAElC,sBAAKzC,UAAU,MAAf,UACE,wCACA,uBACCilB,EAAKnE,OACJ,uBAAM9gB,UAAU,sBAAhB,UACE,mBAAGA,UAAU,iBADf,gBAIA,uBAAMA,UAAU,wBAAhB,UACE,mBAAGA,UAAU,qBADf,mBAOLilB,EAAKoF,cACJ,qBAAKrqB,UAAU,kBAAf,SACE,sBAAKA,UAAU,uBAAf,UACE,qBAAIA,UAAU,sBAAd,UACE,mBAAGA,UAAU,gBADf,qBAGCilB,EAAKoF,mBAGR,KAEJ,qBAAKrqB,UAAU,WAAf,SACE,qBAAKA,UAAU,MAAf,SACE,cAAC,GAAD,CACEqlB,SAAQ,UAAE2c,EAAQ3c,gBAAV,QAAsB,EAC9BC,SAAQ,UAAE0c,EAAQ1c,gBAAV,QAAsB,EAC9BC,UAAS,UAAEyc,EAAQzc,iBAAV,QAAuB,EAChCC,UAAS,UAAEwc,EAAQxc,iBAAV,QAAuB,EAChCC,MAAK,UAAEuc,EAAQvc,aAAV,QAAmB,EACxBC,MAAK,UAAEsc,EAAQtc,aAAV,QAAmB,EACxBC,SAAQ,UAAEqc,EAAQrc,gBAAV,QAAsB,EAC9BC,SAAQ,UAAEoc,EAAQpc,gBAAV,QAAsB,EAC9BC,iBAAkBmc,EAAQnc,iBAC1BC,iBAAkBkc,EAAQlc,iBAC1BC,KAAI,UAAEic,EAAQjc,YAAV,QAAkB,EACtBC,KAAI,UAAEgc,EAAQhc,YAAV,QAAkB,EACtBC,SAAQ,UAAE+b,EAAQ/b,gBAAV,QAAsB,EAC9BC,SAAQ,UAAE8b,EAAQ9b,gBAAV,QAAsB,EAC9B8D,QAAO,UAAEgY,EAAQhY,eAAV,QAAqB,EAC5BC,MAAK,UAAE+X,EAAQ/X,aAAV,QAAmB,EACxBC,MAAK,UAAE8X,EAAQ9X,aAAV,QAAmB,EACxB3D,UAAWqb,EACXpa,cA/Fa,SAAC5d,EAAKuF,GAC3B,IAAMxW,EAAI,2BACLqpC,GADK,kBAEPp4B,EAAMmH,WAAW5B,KAEpB8yB,EAAWtpC,GACXkpC,EAAa,QAAS,WA6FnBD,EACC,qBAAK5hC,UAAU,kBAAf,SACE,sBAAKA,UAAU,YAAf,UACE,yBAAQA,UAAU,kBAAkBiC,QAASigC,EAA7C,UACE,mBAAGliC,UAAU,sBADf,aAGA,yBAAQA,UAAU,eAAeiC,QA5FpB,WACrBrK,OAAOqM,KAAKC,KAAK,CACfE,MAAO,iBACP5E,KAAM,2CACN2E,KAAM,WACNI,kBAAkB,EAClB0G,mBAAoB,UACpBzG,kBAAmB,aACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,SAAC6D,GACFA,EAAO+H,UACVo9B,EAAU,CACRroC,GAAIurB,EAAKvrB,GACTf,KAAMqpC,IAERE,SA4EI,UACE,mBAAGliC,UAAU,qBADf,mBAKF,SC5IK,SAASmiC,GAAT,GAAmD,IAAjB71B,EAAgB,EAA7BoI,YAAqBuQ,EAAQ,EAARA,KACvD,OACE,qBAAKjlB,UAAU,gBAAf,SACE,qBAAKA,UAAU,wBAAwB8D,MAAO,CAAC2X,SAAS,OAAQtZ,KAAK,WAArE,SAEE,sBAAKnC,UAAU,gBAAf,UAEE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,oBACA,wBAAQE,KAAK,SAASF,UAAU,QAAQiC,QAAS,kBAAMqK,KAAvD,SACE,sBAAM,cAAY,OAAlB,uBAIJ,qBAAKtM,UAAU,iBAAf,SACE,qBAAKA,UAAU,wBAAf,SACCilB,GAAQA,EAAKvrB,GACZ,qBAAKsG,UAAU,WAAf,SACE,qBAAKA,UAAU,OAAf,SACE,qBAAKA,UAAU,YAAf,SACE,qBAAKA,UAAU,2BAAf,SACE,cAAC,GAAD,CAAMtG,GAAIurB,EAAKvrB,GAAIkoC,UAAU,EAAO3c,KAAMA,YAKhD,SAIN,qBAAKjlB,UAAU,eAAf,SACE,yBACEE,KAAK,SACLF,UAAU,kBACViC,QAAS,kBAAMqK,KAHjB,UAKE,mBAAGtM,UAAU,oBALf,uBC9BG,SAASoiC,GAAT,GAAkD,IAAhB91B,EAAe,EAA5BoI,YAAqBmL,EAAO,EAAPA,KAGjDllB,EAAWC,cAEXynC,EAAgB,WAEpB,OADevN,GAAWrF,SAAS5P,EAAK0P,SAAU1P,EAAKuP,UAAY0F,GAAWpF,UAAU7P,EAAKsP,WAS/F,OACI,qBAAKnvB,UAAU,gBAAf,SACA,qBAAKA,UAAU,eAAemC,KAAK,WAAnC,SAEE,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,oBAAIA,UAAU,cAAd,kBACA,wBAAQE,KAAK,SAASF,UAAU,QAAQiC,QAAS,kBAAMqK,KAAvD,SACE,sBAAM,cAAY,OAAlB,uBAIJ,qBAAKtM,UAAU,iBAAf,SACC6f,EAAKnmB,GACC,gCACI,qBAAKsG,UAAU,wBAAf,SACI,qBAAIA,UAAU,0BAAd,iCAA4D,uBAAMA,UAAU,sBAAhB,cAAwC6f,EAAKnmB,WAE7G,sBAAKsG,UAAU,cAAf,UACG,sBAAKA,UAAU,WAAf,UACI,4CAAc,uBAAMA,UAAU,yCAAhB,cAA2D6f,EAAKuP,eAC9E,2CAAa,uBAAMpvB,UAAU,8CAAhB,cAAgE6f,EAAK0P,eAClF,qBAAIvvB,UAAU,mBAAd,mBAAuC,uBAAMA,UAAU,oCAAhB,cAAsD6f,EAAKC,eAGtG,sBAAK9f,UAAU,6EAAf,UACI,qBAAIA,UAAU,mBAAd,qBAAyC,uBAAMA,UAAU,uCAAhB,cA9B1D80B,GAAWpF,UAAU7P,EAAKsP,gBA+BT,qBAAInvB,UAAU,mBAAd,uBAA2C,uBAAMA,UAAU,sCAAhB,cAAwDqiC,gBAGrF,IAApBA,IAAwB,oBAAIriC,UAAU,6BAAd,6BAAkE,QAG/F,gEAIP,sBAAKA,UAAU,eAAf,UACM,yBACAE,KAAK,SACLF,UAAU,kBACViC,QAAS,kBAAMqK,KAHf,UAKA,mBAAGtM,UAAU,oBALb,cASA,yBAAQA,UAAU,eAAeiC,QAAS,kBAAItH,EAAQ4B,KAAR,iBAAuBsjB,EAAKnmB,MAA1E,UACE,mBAAGsG,UAAU,+BADf,2BC3CD,SAASsiC,GAAmBnjC,GAAQ,IAAD,MAChD,EAA0B5D,mBAAS,CACjC7B,GAAI,EACJiiC,SAAU,GACV7/B,QAAS,KACTolC,OAAQ,EACRC,UAAW,GACXtG,WAAY,GACZ6G,OAAQ,EACRh8B,MAAO,GACPma,KAAM,GACNoF,KAAM,GACNzT,MAAO,GACPtV,OAAQ,EACR0f,QAAS,GACTla,WAAY,KACZ4e,QAAS,GACT1e,WAAY,KACZoxB,OAAO,EACPuP,cAAe,IAlBjB,mBAAOhkC,EAAP,KAAcmB,EAAd,KAqBA,EAAkCnE,oBAAS,GAA3C,mBAAO4Z,EAAP,KAAkBwhB,EAAlB,KACA,EAA0Cp7B,oBAAS,GAAnD,mBAAOinC,EAAP,KAAsBC,EAAtB,KAGE/oC,EAUE6E,EAVF7E,GACAiiC,EASEp9B,EATFo9B,SACAuF,EAQE3iC,EARF2iC,OACAC,EAOE5iC,EAPF4iC,UACAO,EAMEnjC,EANFmjC,OACA7G,EAKEt8B,EALFs8B,WACAn1B,EAIEnH,EAJFmH,MAPF,EAWInH,EAHF0mB,YARF,MAQS,GART,EASE/oB,EAEEqC,EAFFrC,OACAwF,EACEnD,EADFmD,WAGIghC,EAAYjI,KAEZt4B,EADc3H,qBAAWH,GACNiD,KAAKjC,MACxBV,EAAUC,cACVogC,EAAexgC,qBAAWggC,IAEf1oB,EAAY3S,EAArBmL,QAEFq4B,EACJ,IAAIhqB,KAAJ,UAASgjB,EAAS3f,gBAAlB,QAA8B,IAAM,IAAIrD,KACpClX,IAAOk6B,EAAS3f,UAChB,KAEAe,EAAYljB,OAAO0hB,OAAP,UAAcogB,EAASrgB,cAAvB,QAAiC,IAAIxc,QAAO,SAAC8jC,GAAD,OAASA,KAqDjEC,EAAiB,SAAClqC,GACtB+pC,EAAU9H,UAAUjiC,GAAMI,MAAK,SAACJ,GAC1BA,GACFf,OAAOqM,KAAKC,KAAK,CACfE,MAAO,gCACPD,KAAM,UACNI,kBAAkB,EAClBF,mBAAmB,EACnB4G,mBAAoB,UACpBwwB,kBAAmB,OACnBj3B,kBAAmB,WACnBF,MAAO,MAET02B,EAAahzB,IAAb,2BACKgzB,GADL,IAEE/yB,MAAO,WAETtN,EAAQ4B,KAAK,aAEb3E,OAAOqM,KAAKC,KAAK,CACfE,MAAO,gCACPD,KAAM,QACNI,kBAAkB,EAClB0G,mBAAoB,UACpBwwB,kBAAmB,OACnBj3B,kBAAmB,iBAgCrBsM,EAAoB,SAAClH,EAAKvM,GAC9BqC,EAAS,2BACJnB,GADG,kBAELqL,EAAMvM,MAiDX,OA7CAF,qBAAU,WACR,IAAQzD,EAAOyF,EAAM+D,MAAMC,OAAnBzJ,GACRP,QAAQkD,IAAI,+BAAgC3C,GAC5CgpC,EAAU/H,SAASjhC,GAAIX,MAAK,YAAe,IAAZJ,EAAW,EAAXA,KAC7B,GAAIA,EAAM,CAAC,IAAD,gCACF8O,EAAQ,CACZ/N,GAAE,UAAEf,EAAKe,UAAP,QAAa,EACfiiC,SAAQ,UAAEhjC,EAAKgjC,gBAAP,QAAmB,GAC3B7/B,QAAO,UAAEnD,EAAKmD,eAAP,QAAkB,KACzBolC,OAAQvoC,EAAKijC,IAAMjjC,EAAKijC,IAAIliC,GAAK,EACjCynC,UAAS,UAAExoC,EAAKwoC,iBAAP,QAAoB,GAC7BtG,WAAU,UAAEliC,EAAKkiC,kBAAP,QAAqB,GAC/B6G,OAAM,UAAE/oC,EAAK+oC,cAAP,QAAiB,EACvBh8B,MAAK,UAAE/M,EAAK+M,aAAP,QAAgB,GACrBuf,KAAI,UAAEtsB,EAAKssB,YAAP,QAAe,GACnBzT,MAAK,UAAE7Y,EAAK6Y,aAAP,QAAgB,GACrBtV,OAAM,UAAEvD,EAAKuD,cAAP,QAAiB,EACvB0f,QAAO,UAAEjjB,EAAKijB,eAAP,QAAkB,GACzBla,WAAU,UAAE/I,EAAK+I,kBAAP,QAAqB,KAC/B4e,QAAO,UAAE3nB,EAAK2nB,eAAP,QAAkB,GACzB1e,WAAU,UAAEjJ,EAAKiJ,kBAAP,QAAqB,KAC/B4S,WAAY7b,EAAKgjC,SAASjiC,GAC1Bi0B,UAAS,UAAEh1B,EAAKiL,gBAAP,QAAmB,GAC5B2+B,cAAa,UAAE5pC,EAAKuD,cAAP,QAAiB,EAC9B2jB,KAAM,IAEJlnB,EAAKknB,OACPpY,EAAMoY,KAAO,CACXnmB,GAAIf,EAAKknB,KAAKnmB,GACdomB,MAAOnnB,EAAKknB,KAAKC,MACjByP,SAAU52B,EAAKknB,KAAK0P,SACpBzzB,QAASnD,EAAKknB,KAAK/jB,QACnBqzB,SAAUx2B,EAAKknB,KAAKsP,SACpBE,KAAM12B,EAAKknB,KAAKwP,KAChBD,SAAUz2B,EAAKknB,KAAK8gB,UACpBzb,SAAUvsB,EAAKgjC,WAGnBj8B,EAAS+H,QAETtO,QAAQC,MAAM,mCAGjB,CAACM,IAGF,qCACG6E,EACC,qCACE,sBAAKyB,UAAU,8CAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,mBAAd,UACE,mBAAGA,UAAU,+BADf,SAGE,uBAAMA,UAAU,sCAAhB,cACItG,KAEJ,uBAAMsG,UAAU,+CAAhB,+BACqByB,IAAOC,GAAYC,kBAK5C,sBAAK3B,UAAU,2BAAf,UACE,sBAAKA,UAAU,gBAAf,UAEE,qBAAIA,UAAU,cAAd,UACE,mBAAGA,UAAU,qBACb,sBAAMA,UAAU,qCAAhB,SACG27B,EAAS1gC,UAIb0gC,EAASxgC,MACR,qBAAI6E,UAAU,OAAd,UACE,mBAAGA,UAAU,yBACb,sBAAMA,UAAU,aAAhB,SAA8B27B,EAASxgC,WAGzC,qBAAI6E,UAAU,OAAd,UACE,mBAAGA,UAAU,yBACb,sBAAMA,UAAU,aAAhB,oCAIH+c,EAAU5iB,OACT,qBAAI6F,UAAU,OAAd,UACE,mBAAGA,UAAU,sBACb,sBAAMA,UAAU,kBAAhB,SACG+c,EAAU+lB,KAAK,UAIpB,qBAAI9iC,UAAU,OAAd,UACE,mBAAGA,UAAU,sBACb,sBAAMA,UAAU,aAAhB,wCAKM,UAATmC,EACC,uBAAMnC,UAAU,oBAAhB,iCACuB,IACpB2iC,EACC,qCACGA,EAAYlgC,OAAO,MACpB,wBAAOzC,UAAU,OAAjB,cACIyB,MAASyc,KAAKykB,EAAa,SAD/B,kBAKF,mBAGF,QAGN,sBAAK3iC,UAAU,wEAAf,UACE,qBAAKA,UAAU,oEAAf,SACE,qBAAKA,UAAU,YAAf,SACGzB,EAAMwiB,OAASxiB,EAAMwiB,KAAKrnB,GACzB,wBACEwG,KAAK,SACLF,UAAU,yBACVoE,MAAM,WACNnC,QA9JI,WACxBrK,OAAOqM,KAAKC,KAAK,CACfE,MAAO,4CACPD,KAAM,WACNI,kBAAkB,EAClB0G,mBAAoB,UACpBwwB,kBAAmB,OACnBj3B,kBAAmB,aAClBzL,MAAK,YAAiB,EAAd4L,UAEP+9B,EAAU5H,YAAYphC,GACtB9B,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACNC,MAAO,gCACPC,mBAAmB,EACnBC,MAAO,MAGT02B,EAAahzB,IAAb,2BACKgzB,GADL,IAEE/yB,MAAO,gBAsIK,SAME,mBAAGjI,UAAU,uBAEb,SAIR,qBAAKA,UAAU,oEAAf,SACE,sBAAKA,UAAU,QAAf,UACE,yBACEA,UAAU,oBACViC,QAAS,kBAAM00B,GAAa,IAC5B3yB,UAAUnK,OAAOC,KAAKmrB,GAAM9qB,OAH9B,UAKGN,OAAOC,KAAKmrB,GAAM9qB,OACf,aACA,sBACJ,mBAAG6F,UAAU,uBAGf,yBACEA,UAAU,uBACViC,QAAS,kBAAMwgC,GAAiB,IAFlC,qBAKE,mBAAGziC,UAAU,8BAGf,yBACEA,UAAU,oBACViC,QAAS,kBAAMvC,EAAS,2BAAKnB,GAAN,IAAay0B,OAAO,MAF7C,qBAKE,mBAAGhzB,UAAU,uCAQzB,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,2CAAf,UAEE,oBAAIA,UAAU,iCAAd,oBACA,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,qBAAf,SACGqS,GAAOgP,cAAcpnB,KAAI,SAACiG,EAAMmF,GAAP,OACxB,wBAEEnF,KAAK,SACLF,UACE9D,IAAWmJ,EACP,mDACA,yCAENpD,QAAS,SAACkG,GACRzI,EAAS,2BACJnB,GADG,IAENrC,OAAQmJ,MAXd,SAeGnF,GAdImF,QAkBVyM,EACC,qBAAK9R,UAAU,eAAf,SACE,mBAAGA,UAAU,oCAEb,QAGN,sBAAKA,UAAU,qCAAf,UACE,yBACEA,UAAU,yBACViC,QAAS,SAACkG,GAAD,OA7TvB6yB,EAAahzB,IAAb,2BACKgzB,GADL,IAEE/yB,MAAO,gBAGTtN,EAAQ4B,KAAK,aAsTD,mBAKE,mBAAGyD,UAAU,kCAGf,yBACEA,UAAU,kBAEViC,QA9TG,WACjB,IAAQvI,EAAsD6E,EAAtD7E,GAAIynC,EAAkD5iC,EAAlD4iC,UAAWO,EAAuCnjC,EAAvCmjC,OAAQxlC,EAA+BqC,EAA/BrC,OAAQglC,EAAuB3iC,EAAvB2iC,OAAQrG,EAAet8B,EAAfs8B,WAC/C,OAAe,IAAX3+B,EACK,KAGM,IAAXA,IAAiBglC,GAAU1zB,SAAS2zB,GAAWhnC,QACjDvC,OAAOqM,KAAKC,KACV,kBACA,sCACA,UAEK,IACa,IAAXhI,GACT2mC,EAAe,CACbnpC,KACAwC,SACAglC,SACAC,cAIW,IAAXjlC,GAAiBwlC,GAGC,IAAXxlC,GACT2mC,EAAe,CACbnpC,KACAwC,SACAwlC,SACA7G,oBAIA3+B,GAAU,GACZ2mC,EAAe,CACbnpC,KACAwC,cAdFtE,OAAOqM,KAAKC,KAAK,kBAAgB,+BAAgC,UAC1D,KAmSG,oBAME,mBAAGlE,UAAU,mCAMnB,qBAAKA,UAAU,MAAf,SAEI,sBAAKA,UAAU,iBAAf,UACE,qBAAKA,UAAU,2BAAf,SACE,qBAAIA,UAAU,0DAAd,UACE,mBAAGA,UAAU,2BACZqS,GAAOmO,mBAAmBtkB,QAI/B,qBAAK8D,UAAU,gBAAf,SACE,sBAAKA,UAAU,+BAAf,WACI0C,QAAQxG,IAAW,cAAC,GAAD,CAAOwJ,MAAOA,IAEvB,IAAXxJ,EACC,cAAC,GAAD,CACEglC,OAAQA,EACRC,UAAWA,EACXjlC,OAAQA,EACRqE,aAAcuQ,IAEd,KAEQ,IAAX5U,EACC,cAAC,GAAD,CACEwlC,OAAQA,EACR7G,WAAYA,EACZ3+B,OAAQA,EACRqE,aAAcuQ,IAEd,KAEH5U,GAAU,EACT,qBAAK8D,UAAU,OAAf,SACE,qBAAKA,UAAU,uDAAf,SACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,kCAGA,sBAAKA,UAAU,+BAAf,UACE,uBACEE,KAAK,WACL6H,QAAoB,IAAX7L,EACTxC,GAAG,mBACHkG,SAAU,SAACuI,GAAD,OACR2I,EACE,SACW,IAAX5U,EAAe,EAAI,MAIzB,uBAAOoM,QAAQ,+BAKrB,UAIPwJ,EACC,qBAAK9R,UAAU,4BAAf,SACE,mBAAGA,UAAU,oCAEb,aAOXmV,EACC,cAACgtB,GAAD,CACEztB,YAAa,kBAAMiiB,GAAa,IAChC1R,KAAM1mB,EAAM0mB,OAEZ,KAGHud,EACC,cAACJ,GAAD,CACE1tB,YAAa,kBAAM+tB,GAAiB,IACpC5iB,KAAMthB,EAAMshB,OAEZ,QAEJ,KAEHthB,EAAMy0B,OACL,cAACV,GAAD,CACE35B,KAAI,2BACC4F,EAAMshB,MADP,IAEFna,MAAOnH,EAAMmH,MACbmtB,SAAUt0B,EAAM7E,GAChBgI,WAAYnD,EAAMmD,aAEpBwxB,SAAU,kBAAMxzB,EAAS,2BAAKnB,GAAN,IAAay0B,OAAO,QAIhD,cAAC,EAAD,CAAWr6B,KAAI,UAAE4F,EAAMovB,iBAAR,QAAqB,QC1f3B,SAASoV,GAAT,GAAsC,IAAjBC,EAAgB,EAAhBA,MAAOC,EAAS,EAATA,MACnCC,ECLO,WACb,IAAMC,EAAW,uCAAG,WAAOj+B,GAAP,eAAAlJ,EAAA,6DACZpF,EAAM4C,EAAO,aAAc,KAAM0L,GADrB,SAGLvO,EAAIC,GAHC,mFAAH,sDAMXwsC,EAAa,uCAAG,WAAOC,GAAP,eAAArnC,EAAA,0DAChBqnC,EADgB,uBAEZzsC,EAAM4C,EAAO,cAFD,SAGL7C,EAAIC,EAAK,OAAQysC,GAHZ,mFAAH,sDAOnB,MAAO,CACLF,cACAC,iBDXoBE,GAEdvoC,EADYP,qBAAWH,GACvBU,OAER,EAA0BQ,mBAAS,CACjC6pB,SAAU,GACV5pB,KAAM,GACNqH,MAAM,EACNvJ,QAAS,KAJX,mBAAOiF,EAAP,KAAcmB,EAAd,KA+BM0jC,EAAgB,WACpB,IAAM9pC,EAAUiF,EAAMjF,QAChB+pC,EAAc,CAClBL,MAAOA,EACPC,MAAOA,EACP3pC,QAASA,GAGXoG,EAAS,2BACJnB,GADG,IAENsE,MAAM,EACNvJ,QAAS,MAGX4pC,EACGE,cAAcC,GACdtqC,MAAK,SAACJ,GAEH+G,EADE/G,EACO,2BACJ4F,GADG,IAEN6mB,SAAS,CAAEzsB,EAAKA,MAAR,oBAAiB4F,EAAM6mB,WAC/B9rB,QAAS,GACTuJ,MAAM,IAGC,2BACJtE,GADG,IAENsE,MAAM,EACNvJ,gBAILL,OAAM,SAACG,GACNsG,EAAS,2BACJnB,GADG,IAENsE,MAAM,EACNvJ,iBASR,OAJA6D,qBAAU,YAjEW,WACnB,IAAM+H,EAAU,CACd89B,QACAC,SAEFC,EAAcC,YAAYj+B,GAASnM,MAAK,SAACJ,GACnCA,EAAKA,MACP+G,EAAS,2BACJnB,GADG,IAEN6mB,SAAUzsB,EAAKA,KACf6C,KAAMT,EACN8H,MAAM,QAuDZ0gC,KACC,IAGD,sBAAKvjC,UAAU,oDAAf,UACE,qBAAKA,UAAU,cAAf,SACE,qBAAIA,UAAU,aAAd,UACE,mBAAGA,UAAU,yBADf,OAGE,sBAAMA,UAAU,wCAAhB,SAAyDijC,SAI5D1kC,EAAMsE,KACL,qBAAK7C,UAAU,YAAf,SACE,qBAAKA,UAAU,4BAAf,SACE,qBAAKA,UAAU,8BAA8BmC,KAAK,SAAlD,SACE,sBAAMnC,UAAU,UAAhB,8BAIJzB,EAAM6mB,SAASjrB,OACjB,mCACE,qBAAK6F,UAAU,YAAf,SACE,qBAAKA,UAAU,uBAAuBtG,GAAG,UAAzC,SACG6E,EAAM6mB,SAASnrB,KAAI,SAACX,GACnB,IAAIkqC,EAAS,2BAQb,OANiC,IAA7BlqC,EAAQs+B,aAAa18B,MACvBsoC,EAAS,4BACNlqC,EAAQs+B,aAAa18B,MACxBsoC,EAAS,4BACqB,IAA5BlqC,EAAQs+B,aAAal+B,KACvB8pC,EAAS,4BAET,sBACExjC,UACE1G,EAAQs+B,aAAal+B,KAAO6E,EAAM/C,KAC9B,wBACA,kBAJR,UAQE,sBAAKwE,UAAU,6BAAf,UACE,sBACEA,UACE1G,EAAQs+B,aAAal+B,KAAO6E,EAAM/C,KAC9B,+BACA,8BAJR,SAOGlC,EAAQs+B,aAAa38B,OAExB,sBACE+E,UACE1G,EAAQs+B,aAAal+B,KAAO6E,EAAM/C,KAC9B,mCACA,oCAJR,SAOGiG,IAAOnI,EAAQsI,YAAYa,OAAO,YAGvC,qBACEzC,UAAU,kBACVyjC,IAC8B,IAA5BnqC,EAAQs+B,aAAal+B,GACjB,2BACA8pC,EAEN1pB,IAAI,wBAEN,qBAAK9Z,UAAU,mBAAf,SAAmC1G,EAAQoqC,YA/BtCpqC,EAAQI,aAuCzB,qBAAKsG,UAAU,YAAf,SACE,qBAAKA,UAAU,4BAAf,SACE,+BACE,mBAAGA,UAAU,8BADf,6BAQN,qBAAKA,UAAU,cAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBACEE,KAAK,OACLjF,KAAK,UACLkF,YAAY,yBACZH,UAAU,eACV3C,MAAOkB,EAAMjF,QACbsG,SAnJY,SAACuI,GACrBzI,EAAS,2BACJnB,GADG,IAENjF,QAAS6O,EAAE3H,OAAOnD,UAiJZsM,WAAY,YACE,UADW,EAAVC,KAEXw5B,OAIN,sBAAMpjC,UAAU,qBAAhB,SACE,wBACEE,KAAK,SACLF,UAAU,kBACViC,QAASmhC,EACTp/B,WAAUzF,EAAMjF,QAAQa,OAAS,GAJnC,8BEvLG,SAASwpC,KACtB,IAAM3I,EAAexgC,qBAAWggC,IAC1Bt1B,EAAU81B,EAAa91B,QAErBxL,EAAOkqC,cAAPlqC,GAEFoO,EAAyB,SAAC,GAAgB,IAAdtH,EAAa,EAAbA,OACxBnD,EAAgBmD,EAAhBnD,MAAOpC,EAASuF,EAATvF,KAEf+/B,EAAahzB,IAAb,2BACKgzB,GADL,IAEE91B,QAAQ,2BACHA,GADE,kBAEJjK,EAAOoC,QAKd,OACE,qBAAK2C,UAAU,MAAf,SACE,sBAAKA,UAAU,mCAAf,UACE,oBACEkI,KAAK,OACLlI,UACE,CAAC,OAAQ,YAAYvH,SAASuiC,EAAa/yB,OACvC,4CACA,iCAENhG,QAAS,SAACkG,GACRA,EAAEC,iBACF4yB,EAAahzB,IAAb,2BACKgzB,GADL,IAEE/yB,MAAO,eAGXjE,WACE,CAAC,OAAQ,YAAYvL,SAASuiC,EAAa/yB,OAf/C,UAkBE,mBAAGjI,UAAU,qBAlBf,kBAsBwB,UAAvBg7B,EAAa/yB,OACZ,cAAC,EAAD,CAAS7D,MAAM,UAAf,SAC0B,UAAvB42B,EAAa/yB,MACZ,qCACE,oBAAIjI,UAAU,WAAd,kBACA,qBAAIA,UAAU,eAAd,UACE,uBAAOsI,QAAQ,SAAf,+BACA,yBACEtI,UAAU,eACV/E,KAAK,SACLvB,GAAG,SACH2D,MAAO6H,EAAQhJ,OACf0D,SAAUkI,EALZ,UAOE,wBAAQzK,MAAM,GAAd,yBACA,wBAAQA,MAAM,IAAd,wBACA,wBAAQA,MAAM,IAAd,yBACA,wBAAQA,MAAM,IAAd,2BACA,wBAAQA,MAAM,IAAd,uBACA,wBAAQA,MAAM,IAAd,6BAGJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,UAAf,yBACA,yBACEtI,UAAU,gBACV/E,KAAK,UACLvB,GAAG,UACH2D,MAAO6H,EAAQsC,QACf5H,SAAUkI,EALZ,UAOE,wBAAQzK,MAAM,aAAd,+BACA,wBAAQA,MAAM,aAAd,yCAGJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,QAAf,yBACA,yBACEtI,UAAU,gBACV/E,KAAK,QACLvB,GAAG,QACH2D,MAAO6H,EAAQuC,MACf7H,SAAUkI,EALZ,UAOE,wBAAQzK,MAAM,MAAd,sBACA,wBAAQA,MAAM,OAAd,6BAGJ,qBAAI2C,UAAU,eAAd,UACE,uBAAOsI,QAAQ,YAAf,+BACA,yBACEtI,UAAU,gBACV/E,KAAK,YACLvB,GAAG,YACH2D,MAAO6H,EAAQqD,UACf3I,SAAUkI,EALZ,UAOE,wBAAQzK,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,KAAd,oBACA,wBAAQA,MAAM,MAAd,8BAIJ,OAIgB,SAAvB29B,EAAa/yB,OACZ,cAAC86B,GAAD,CAAWC,MAAM,SAASC,MAAOvpC,SC7G3C,IAAMmqC,GAAiB,CACrBh7B,KAAM,EACNrB,QAAS,aACTC,MAAO,OACPc,UAAW,GACXrM,OAAQ,GACRgN,OAAQ,IAGK,SAAS46B,GAAoB3kC,GAC1C,MAA0B5D,mBAAS,CACjC0M,MAAO,KACP/C,QAAS2+B,GACTp8B,MAAO,KAHT,mBAAOlJ,EAAP,KAAcmB,EAAd,KAMQhG,EAAOyF,EAAM+D,MAAMC,OAAnBzJ,GASR,OAPAyD,qBAAU,WACRuC,EAAS,2BACJnB,GADG,IAEN0J,MAAOvO,EAAK,OAAS,aAEtB,CAACA,IAGF,cAAC8gC,GAAap9B,SAAd,CAAuBC,MAAK,2BAAOkB,GAAP,IAAcyJ,IAAKtI,IAA/C,SACE,sBAAKM,UAAU,MAAM8D,MAAO,CAAEgQ,UAAW,SAAzC,UACE,qBAAK9T,UAAU,qBAAf,SACE,cAAC2jC,GAAD,MAEF,sBAAK3jC,UAAU,sBAAf,UACmB,UAAhBzB,EAAM0J,OAAqB,cAAC,GAAD,IACX,aAAhB1J,EAAM0J,OAAwB,cAAC,GAAD,eAAc9I,IAC5B,SAAhBZ,EAAM0J,OAAoB,cAAC,GAAD,eAAc9I,YCtCpC,SAAS4kC,KACtB,IASIC,EATJ,EAAqDxpC,qBAAWH,GAAxDiD,EAAR,EAAQA,KAAMd,EAAd,EAAcA,iBAAkBE,EAAhC,EAAgCA,iBAChC,EAA0BnB,mBAAS,CACjC0oC,cAAe,GACf35B,SAAS,EACT45B,SAAU5mC,EAAKjC,QAHjB,mBAAOkD,EAAP,KAAcmB,EAAd,KAKQukC,EAAqC1lC,EAArC0lC,cAAe35B,EAAsB/L,EAAtB+L,QAAS45B,EAAa3lC,EAAb2lC,SAC9BC,EAAcF,EAAgBA,EAAc9pC,OAAS,EACrDiqC,EAAoBH,EAAc7xB,MAAM,EAAG,IAIvCiyB,EAAsB,WACxB7nC,IACGzD,MAAK,SAACkrC,GACLvkC,EAAS,2BACJnB,GADG,IAEN0lC,gBACA35B,SAAS,QAGZrR,OAAM,WACLyG,EAAS,2BACJnB,GADG,IAEN+L,SAAS,SAIjBg6B,EAAkB,SAACn8B,EAAGzO,IACR,IAARA,GAAWyO,EAAEC,iBACjB1L,EAAiB,CAAEhD,QAoBvB,OAjBAyD,qBAAU,WAYR,OAXAknC,IAEAL,EAAcO,aAAY,WACxBprC,QAAQkD,IAAI,qCACZqD,EAAS,2BACJnB,GADG,IAEN+L,SAAS,KAEX+5B,MACC,KAEI,WACLG,cAAcR,MAEf,IAGD,qBAAIhkC,UAAU,oBAAd,UACE,mBAAGA,UAAU,WAAW,cAAY,WAAWkI,KAAK,OAApD,SACGoC,EACC,mBAAGtK,UAAU,2BAEb,qCACE,mBAAGA,UAAU,gBACZmkC,EACC,sBAAMnkC,UAAU,mCAAhB,SACGmkC,IAED,UAKV,sBAAKnkC,UAAU,qDAAf,UACE,uBAAMA,UAAU,kBAAhB,UAAmCmkC,EAAnC,qBACA,qBAAKnkC,UAAU,qBACdokC,EAAkBnqC,KAAI,SAACwqC,GACtB,IAAMC,EAAaD,EAAOvkC,KAAKgwB,MAAM,KAAM,GACvC9rB,EAAQ,UACVD,EAAO,UACPwgC,EAAOljC,IAAOgjC,EAAO/iC,YAAYC,UACjC/K,EAAM,OAaR,MAXsB,qBAAlB8tC,EAAW,KACI,WAAbR,GACF9/B,EAAQ,gBACRxN,EAAM,yBAA2B6tC,EAAO9rC,KAAKe,KAE7C0K,EAAQ,qBACRxN,EAAM,qBAERuN,EAAO,eAIP,eAAC,IAAD,CACEqO,GAAI5b,EACJoJ,UAAU,gBAEViC,QAAS,SAACkG,GACRm8B,EAAgBn8B,EAAGs8B,EAAO/qC,KAL9B,UAQE,mBAAGsG,UAAW,OAASmE,EAAO,UARhC,IAQ+CC,EAC7C,sBAAMpE,UAAU,iCAAhB,SAAkD2kC,MAN7CF,EAAO/qC,OAUjByqC,EACC,eAAC,WAAD,WACE,qBAAKnkC,UAAU,qBACf,mBACEkI,KAAK,OACLlI,UAAU,gCACViC,QAAS,SAACkG,GACRA,EAAEC,iBACFk8B,EAAgBn8B,GAAI,IALxB,8BAWA,WCzHG,SAASy8B,KACtB,OACE,sBAAK5kC,UAAU,gEAAf,UACE,oBAAIA,UAAU,aAAd,SACE,oBAAIA,UAAU,WAAd,SACE,mBACEA,UAAU,WACV,cAAY,WACZkI,KAAK,UACL/F,KAAK,SACLF,QAAS,SAACkG,GACRA,EAAEC,iBACFxQ,OAAOwgC,EAAE,SAASyM,YAAY,gBAC9BjtC,OAAOwgC,EAAE,SAASyM,YAAY,qBARlC,SAWE,mBAAG7kC,UAAU,sBAInB,qBAAIA,UAAU,qBAAd,UACE,qBAAIA,UAAU,oBAAd,UACE,mBAAGkI,KAAK,OAAOlI,UAAU,WAAW,cAAY,WAAhD,SACE,mBAAGA,UAAU,sBAEf,sBAAKA,UAAU,qDAAf,UACE,sBAAMA,UAAU,kBAAhB,6BACA,qBAAKA,UAAU,2BAGnB,cAAC,GAAD,UCxBO,SAAS8kC,KAAuB,IAAD,cAC5C,EAA4BtqC,qBAAWH,GAA/BiD,EAAR,EAAQA,KAAMN,EAAd,EAAcA,UACRqd,EAAS7f,qBAAWuD,GACpBgnC,EAAWC,cAAc1oC,SAAS4zB,MAAM,KAGxC+U,GAFYF,GAAYA,EAAS5qC,OAAS4qC,EAAW,CAAC,cAC/BjmC,QAAO,SAAComC,GAAD,OAAW,CAAC,IAAIzsC,SAASysC,MACjC,GACtB9zB,EAAgB9T,EAAKlC,OAC3B,EAA0BG,mBAAS,CACjC4pC,mBAAmB,EACnB9oB,KAAM5a,MAASgB,OAAO,QACtB2iC,aAAch0B,EAAc1X,KAH9B,mBAAO6E,EAAP,KAAcmB,EAAd,KAMMvB,EAAQ,oBAAGkc,EAAO1hB,YAAV,aAAG,EAAamG,QAAO,SAACgQ,GAAD,MAAkB,aAAXA,EAAE7T,eAAhC,QAAwD,GAWhEoqC,EAAoB,WACxB3lC,EAAS,2BAAKnB,GAAN,IAAa4mC,mBAAmB,MAEpCG,EAA0B,WAC9B,IAAsBpoC,EAAcqB,EAA5B6mC,aAIR,GAFAC,KAEKnoC,EAGH,OAFA/D,QAAQC,MAAM,gDACdxB,OAAOC,SAAS0tC,SAIlB3tC,OAAOqM,KAAKC,KAAK,CACf1E,KAAM,6CACN2E,KAAM,WACNI,kBAAkB,EAClB0G,mBAAoB,OACpBzG,kBAAmB,YACnBC,iBAAkB,WAClBC,qBAAqB,IACpB3L,MAAK,YAAiB,EAAd4L,SAEP3H,EAAUE,GACPnE,MAAK,SAACC,GACDA,EACFpB,OAAOC,SAAS0tC,SAEhB3tC,OAAOqM,KAAKC,KAAK,CACfC,KAAM,QACN3E,KAAM,gFACN6E,mBAAmB,EACnBC,MAAO,IACP6uB,SAAU,kBAKfl6B,OAAM,SAACG,GACFA,GACFD,QAAQC,MAAM,oCAAqCA,EAAME,gBAuCrE,OACE,sBAAK0G,UAAU,iBAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,MAAf,SACE,qBAAIA,UAAU,gCAAd,UACE,mBAAGA,UAAU,qBADf,IACwCilC,OAG1C,sBAAKjlC,UAAU,kBAAf,UACE,wBACEA,UAAU,4CACV8Z,IAAI,cACJ1V,MAAM,cAHR,UAKE,mBAAGpE,UAAU,kCALf,UAMGqa,EAAOhc,cANV,aAMG,EAAevG,KACf,UAAAuiB,EAAOhc,cAAP,SAAepG,MAAgC,QAAxB,UAAAoiB,EAAOhc,cAAP,eAAepG,MAAtC,qBACOoiB,EAAOhc,cADd,aACO,EAAepG,MACnB,QAEN,wBACE+H,UAAU,sDACV8Z,IAAI,iBACJ1V,MAAM,iBAHR,UAKE,mBAAGpE,UAAU,oCACZ,UAAA1C,EAAKhC,mBAAL,SAAkB7C,SAAS,qBAC1B,mBACEyP,KAAK,QACLlI,UAAU,aACViC,QAvHW,SAACkG,GAC1BA,EAAEC,iBAEF1I,EAAS,2BACJnB,GADG,IAEN4mC,mBAAmB,MA+GT,SAKG/zB,EAAcnW,OAGjBmW,EAAcnW,QAGlB,wBACE+E,UAAU,sDACV8Z,IAAI,oBACJ1V,MAAM,oBAHR,UAKE,mBAAGpE,UAAU,+BALf,IAKkD1C,EAAKtC,YAEtDuD,EAAM4mC,kBACL,cAAC,GAAD,CACE/gC,MAAM,sBACNtN,KAlFM,WAClB,IAAQsuC,EAAiB7mC,EAAjB6mC,aAER,OACE,sBAAKplC,UAAU,aAAf,UACE,2DACA,wBACEA,UAAU,+BACVJ,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRd,EAAS,2BAAKnB,GAAN,IAAa6mC,aAActoC,SAAS0D,EAAOnD,WAErDiD,aAAY,OAAE8Q,QAAF,IAAEA,OAAF,EAAEA,EAAe1X,GAL/B,SAOGyE,EAASlE,KAAI,SAACmB,GAAD,OACZ,wBAAwBiC,MAAOjC,EAAO1B,GAAtC,SACG0B,EAAOzC,KAAKsC,MADFG,EAAO1B,SAKxB,qBAAKsG,UAAU,kBAAf,SACE,wBACEA,UAAU,kBACVE,KAAK,SACL+B,QAASqjC,EACTthC,SAAUohC,KAAY,OAAKh0B,QAAL,IAAKA,OAAL,EAAKA,EAAe1X,IAJ5C,0BA8DY8rC,GACNrtB,aAAcktB,IAEd,QAEN,qBAAKrlC,UAAU,MAAf,SACE,qBAAIA,UAAU,wBAAd,UACE,mBAAGA,UAAU,yBADf,IAC4CzB,EAAM8d,eAKxD,0BC1KS,SAASopB,KACtB,MAA6BjrC,qBAAWH,GAAhCiD,EAAR,EAAQA,KAAMnB,EAAd,EAAcA,WAwBRupC,EAAc,gBAClBC,EAASX,cAAc1oC,SAASqE,QAAQ,IAAK,IAE3C6iC,EAAS,2BAKb,MAJmB,WAAflmC,EAAKjC,QAAoBmoC,EAAS,4BACnB,UAAflmC,EAAKjC,QAAmBmoC,EAAS,4BACjB,IAAhBlmC,EAAKvC,SAAcyoC,EAAS,4BAG9B,wBAAOxjC,UAAU,oCAAjB,UACE,eAAC,IAAD,CAAMwS,GAAG,IAAIxS,UAAU,aAAvB,UACE,qBACEyjC,IAAI,gBACJ3pB,IAAK4rB,EAAc,SACnB1lC,UAAU,qCACV8D,MAAO,CAAE8hC,QAAS,GAAKtnB,UAAW,MAEpC,sBAAMte,UAAU,8CAAhB,SACG0lC,OAGL,sBAAK1lC,UAAU,UAAf,UACE,sBAAKA,UAAU,mCAAf,UACE,qBAAKA,UAAU,QAAf,SACE,qBACEyjC,IAAKD,EACLxjC,UAAU,yBACV8Z,IAAKxc,EAAKrC,SAGd,qBAAK+E,UAAU,OAAf,SACE,oBAAGkI,KAAK,OAAOlI,UAAU,0BAAzB,UACG1C,EAAKrC,KACN,wBAAO+E,UAAU,iBAAjB,cAAoC1C,EAAKtC,SAAzC,OACA,uBACA,sBAAMgF,UAAU,oBAAhB,SACkB,UAAf1C,EAAKjC,MACa,WAAfiC,EAAKjC,MACH,SACA,eACF,0BAKZ,qBAAK2E,UAAU,OAAf,SACE,qBACEA,UAAU,wCACV,cAAY,WACZmC,KAAK,OACL,iBAAe,QAJjB,UAMkB,UAAf7E,EAAKjC,MACJ,oBAAI2E,UAAU,WAAd,SACE,eAAC,IAAD,CACEwS,GAAG,IACHxS,UAAsB,KAAX2lC,EAAgB,kBAAoB,WAFjD,UAIE,mBAAG3lC,UAAU,mCACb,0CAEE,mBAAGA,UAAU,oCAIjB,KAEJ,oBAAIA,UAAU,WAAd,SACE,eAAC,IAAD,CACEwS,GAAG,aACHxS,UACa,cAAX2lC,EAAyB,kBAAoB,WAHjD,UAME,mBAAG3lC,UAAU,iCACb,0CAEE,mBAAGA,UAAU,oCAKnB,oBAAIA,UAAU,WAAd,SACE,eAAC,IAAD,CACEwS,GAAG,eACHxS,UACa,gBAAX2lC,GACY,KAAXA,GAAgC,WAAfroC,EAAKjC,MACnB,kBACA,WANR,UASE,mBAAG2E,UAAU,kCACb,yCAEE,mBAAGA,UAAU,oCAKH,WAAf1C,EAAKjC,MACJ,qCACE,oBAAI2E,UAAU,WAAd,SACE,eAAC,IAAD,CACEwS,GAAG,WACHxS,UACa,YAAX2lC,GACY,KAAXA,GAAgC,WAAfroC,EAAKjC,MACnB,kBACA,WANR,UASE,mBAAG2E,UAAU,mCACb,wCAEE,mBAAGA,UAAU,oCAInB,oBAAIA,UAAU,WAAd,SACE,eAAC,IAAD,CACEwS,GAAG,SACHxS,UACa,UAAX2lC,EAAqB,kBAAoB,WAH7C,UAME,mBAAG3lC,UAAU,kCACb,uCAEE,mBAAGA,UAAU,uCAKnB,KAEY,UAAf1C,EAAKjC,MACJ,qCACE,oBACE2E,UACa,YAAX2lC,EACI,kCACA,yBAJR,SAOE,eAAC,IAAD,CACEnzB,GAAG,WACHxS,UACa,YAAX2lC,EAAuB,kBAAoB,WAH/C,UAME,mBAAG3lC,UAAU,6BACb,wCAEE,mBAAGA,UAAU,oCAInB,oBAAIA,UAAU,WAAd,SACE,eAAC,IAAD,CACEwS,GAAG,YACHxS,UACa,aAAX2lC,EAAwB,kBAAoB,WAHhD,UAME,mBAAG3lC,UAAU,yBACb,yCAEE,mBAAGA,UAAU,oCAInB,oBAAIA,UAAU,WAAd,SACE,eAAC,IAAD,CACEwS,GAAG,mBACHxS,UACa,oBAAX2lC,EACI,kBACA,WALR,UAQE,mBAAG3lC,UAAU,0BACb,gDAEE,mBAAGA,UAAU,uCAKnB,KAEJ,oBAAIA,UAAU,WAAd,SACE,eAAC,IAAD,CAAMwS,GAAG,IAAIxS,UAAU,WAAWiC,QAvNzB,SAACkG,GACpBA,EAAEC,iBAEFxQ,OAAOqM,KAAKC,KAAK,CACfE,MAAO,UACP5E,KAAM,uCACN2E,KAAM,WACNI,kBAAkB,EAClB0G,mBAAoB,UACpBzG,kBAAmB,KACnBC,iBAAkB,aACjB1L,MAAK,YAAiB,EAAd4L,UAEPxI,IAEAsN,YAAW,WACT7R,OAAOC,SAAS0tC,WACf,UAsMG,UACE,mBAAGvlC,UAAU,iCACb,8DC3ND,SAAS6lC,GAAT,GAA6B,IAAbnrC,EAAY,EAAZA,SACvB/B,EAAO,GAEb,OACE,sBAAKqH,UAAU,UAAf,UACE,cAAC,GAAD,CAAQ8lC,OAAQ,aAAUntC,KAAMA,EAAMkQ,KAAM,eAE5C,cAAC,GAAD,CACE68B,YAAa,UACblqC,KAAM7C,EACNkQ,KAAM,aACNi9B,OAAQ,aACRH,OAAQ,WAGV,sBAAK3lC,UAAU,kBAAf,UACE,cAAC,GAAD,IACA,qBAAKA,UAAU,UAAf,SACE,qBAAKA,UAAU,kBAAf,SACE,qBAAKA,UAAU,MAAM8D,MAAO,CAACgQ,UAAU,SAAvC,SACE,qBAAK9T,UAAU,YAAf,SAA4BtF,gBCV3B,SAASqrC,GAAT,GAA4B,IAATzoC,EAAQ,EAARA,KAChC,OACE,cAAC,EAAD,UACE,eAACuoC,GAAD,WACE,cAAC,IAAD,CACEG,OAAK,EACLd,KAAK,IACLe,OAAQ,SAAC9mC,GACP,OAAQ7B,EAAKjC,OACX,IAAK,SACH,OAAO,cAAC,GAAD,eAAW8D,IAEpB,IAAK,SACH,OAAO,cAAC,GAAD,eAAYA,IAErB,QACE,OAAO,cAAC,GAAD,eAAeA,QAK9B,cAAC,IAAD,CACE+lC,KAAK,0BACLe,OAAQ,SAAC9mC,GAAD,OAAW,cAAC,EAAD,2BAAaA,GAAb,IAAoB0J,KAAM,mBAG/C,cAAC,IAAD,CACEq8B,KAAK,iBACLe,OAAQ,SAAC9mC,GAAD,OAAW,cAAC,GAAD,2BAAWA,GAAX,IAAkB0J,KAAM,mBAG7C,cAAC,IAAD,CACEq8B,KAAK,gBACLe,OAAQ,SAAC9mC,GAAD,OAAW,cAAC,GAAD,2BAAWA,GAAX,IAAkB0J,KAAM,mBAG7C,cAAC,IAAD,CACEq8B,KAAK,kBACLe,OAAQ,SAAC9mC,GAAD,OAAW,cAAC,GAAD,2BAAcA,GAAd,IAAqB0J,KAAM,mBAGhD,cAAC,IAAD,CACEq8B,KAAK,oBACLe,OAAQ,SAAC9mC,GAAD,OAAW,cAAC,GAAD,eAAWA,OAGhC,cAAC,IAAD,CACE+lC,KAAK,mBACLe,OAAQ,SAAC9mC,GAAD,OAAW,cAAC,GAAD,2BAAWA,GAAX,IAAkB0J,KAAM,mBAG7C,cAAC,IAAD,CAAOq8B,KAAK,gBAAgBe,OAAQ,SAAC9mC,GAAD,OAAW,cAAC,GAAD,eAAYA,OAE3D,cAAC,IAAD,CACE+lC,KAAK,cACLe,OAAQ,SAAC9mC,GAAD,OAAW,cAAC,GAAD,2BAAWA,GAAX,IAAkB0J,KAAM,wBCrEtC,SAASmX,KACtB,OACE,sBAAKhgB,UAAU,wBAAf,UACE,sDACA,6EACA,wBACEiC,QAAS,WACPrK,OAAOC,SAASqQ,KAAO,UAEzBhI,KAAK,SAJP,wBCFS,SAASgmC,KACtB,OACE,mCACE,cAAC,IAAD,CAAOF,OAAK,EAACd,KAAK,IAAIe,OAAQ,SAAC9mC,GAAD,OAAW,cAAC,GAAD,SCLhC,SAASgnC,KACtB,OACE,qBAAKnmC,UAAU,4EAAf,SACE,iDCES,SAASomC,KAAS,IAAD,MACxBzrC,EAAUC,cACV0C,EAAO9C,qBAAWH,GAClBlD,EAAKC,aAAaC,QAAQ,cAC1BgvC,EAAiB,CACrB3uC,SAAUE,OAAOC,SAASH,SAASiJ,QAAQ,IAAK,IAChD7I,KAAMF,OAAOC,SAASG,SACtBC,KAAML,OAAOC,SAASI,MAElByG,EAAUvH,EAAKK,KAAKC,MAAMN,GAAMkvC,EAChChoC,EAAM,oBAAMK,EAAQhH,SAAW,aAAzB,QAAkC,IAAlC,iBAAuCgH,EAAQ5G,YAA/C,QAAuD,IAAvD,iBACV,IAAM4G,EAAQzG,YADJ,QACY,IAExB,EAA0BsD,mBAAS,CACjCsH,MAAM,EACN1H,MAAO,GACPc,SAAU,GACVqqC,QAASjoC,EACTkoC,UAAUloC,IALZ,mBAAOE,EAAP,KAAcmB,EAAd,KAQM8mC,EAAannC,mBACbonC,EAAgBpnC,mBAGhBqnC,EAAc,WAElB,IAAKnoC,EAAMpD,MACT,OAAOvD,OAAOqM,KAAKC,KAAK,CACtBC,KAAM,QACN3E,KAAM,8CACN6E,mBAAmB,EACnBC,MAAO,KACP6uB,SAAU,eACTp6B,MAAK,WACNytC,EAAWzmC,QAAQ4mC,WAIvB,GAAI,MAAM/lC,KAAKrC,EAAMpD,OAAQ,CAC3B,IAAMK,EAAO+C,EAAMpD,MAAMwF,QAAQ,IAAK,IAEtCpC,EAAMpD,MAAN,UAAiBK,EAAjB,oBACK,IAjBa,gDAiBIoF,KAAKrC,EAAMpD,OACjC,OAAOvD,OAAOqM,KAAKC,KAAK,CACtBC,KAAM,QACN3E,KAAM,0CACN6E,mBAAmB,EACnBC,MAAO,KACP6uB,SAAU,eACTp6B,MAAK,WACNytC,EAAWzmC,QAAQ4mC,WAIvB,MACG,CAAC,aAAc,oBAAoBluC,SAAS8F,EAAMpD,MAAM+0B,MAAM,KAAK,IAgBjE3xB,EAAMtC,SAYPsC,EAAMtC,SAAS9B,OAAS,EACnBvC,OAAOqM,KAAKC,KAAK,CACtBC,KAAM,QACN3E,KAAM,kDACN6E,mBAAmB,EACnBC,MAAO,KACP6uB,SAAU,eACTp6B,MAAK,WACN0tC,EAAc1mC,QAAQ4mC,YAI1BjnC,EAAS,2BACJnB,GADG,IAENsE,MAAM,UAGRvF,EACGC,WAAW,CAAEpC,MAAOoD,EAAMpD,MAAOc,SAAUsC,EAAMtC,WACjDlD,MAAK,SAACC,GAML,GALA0G,EAAS,2BACJnB,GADG,IAENsE,MAAM,MAGH7J,EAAIkD,OAAQ,CAAC,IAAD,EAGO,EAFlB5C,EAAUN,EAAIM,QAElB,aAAIN,EAAIL,YAAR,OAAI,EAAUga,OACZrZ,EAAO,UAAGN,EAAIL,YAAP,aAAG,EAAUga,OAAO9Y,OAAOC,KAAKd,EAAIL,KAAKga,QAAQ,IAAI,GAK9D,OAFKrZ,GAAWN,EAAIL,OAAMW,EAAUN,EAAIL,KAAKW,SAEtC1B,OAAOqM,KAAKC,KAAK,CACtBC,KAAM,QACN3E,KAAMlG,EACN+K,mBAAmB,EACnBC,MAAO,KACP6uB,SAAU,eAIdx4B,EAAQ4B,KAAK,SAtDR3E,OAAOqM,KAAKC,KAAK,CACtBC,KAAM,QACN3E,KAAM,0CACN6E,mBAAmB,EACnBC,MAAO,KACP6uB,SAAU,eACTp6B,MAAK,WACN0tC,EAAc1mC,QAAQ4mC,WAtBjB/uC,OAAOqM,KAAKC,KAAK,CACtBC,KAAM,QACN3E,KAAM,2CACN6E,mBAAmB,EACnBC,MAAO,KACP6uB,SAAU,eACTp6B,MAAK,WACN2G,EAAS,2BACJnB,GADG,IAENpD,MAAO,UA+DTyrC,EAAiB,SAACh9B,EAAK0T,GACf,UAAR1T,GACF0T,KAGEupB,EAAqB,WACzB,IAAQP,EAAY/nC,EAAZ+nC,QAER,IAAKA,EACH,OAAO1uC,OAAOqM,KAAKC,KAAK,CACtBC,KAAM,QACN3E,KAAM,4CACN6E,mBAAmB,EACnBC,MAAO,KACP6uB,SAAU,eAId,IACIr7B,EAAMG,EAAMP,EADV2G,EAASioC,EAAQpW,MAAM,KAGP,IAAlB7xB,EAAOlE,QACTzC,EAAWE,OAAOC,SAASH,SAASiJ,QAAQ,IAAK,IACjD7I,EAAOuG,EAAO,GAAGsC,QAAQ,KAAM,IAC/B1I,EAAOoG,EAAO,IACa,IAAlBA,EAAOlE,QAChBzC,EAAW2G,EAAO,GAClBvG,EAAOuG,EAAO,GAAGsC,QAAQ,KAAM,IAC/B1I,EAAOoG,EAAO,KAEd3G,EAAWE,OAAOC,SAASH,SAASiJ,QAAQ,IAAK,IACjD7I,EAAOF,OAAOC,SAASG,SACvBC,EAAOL,OAAOC,SAASI,MAGzBb,aAAayE,QACX,aACArE,KAAKoB,UAAL,2BACK8F,GADL,IAEEhH,WACAI,OACAG,OACAE,MAAO,OAIXuH,EAAS,2BACJnB,GADG,IAENgoC,UAAU,KAGZ3uC,OAAOqM,KAAKC,KAAK,CACfC,KAAM,UACN3E,KAAM,6BACN6E,mBAAmB,EACnBC,MAAO,KACP6uB,SAAU,gBAGR2T,EAAmB,WACnBvoC,EAAMpD,OAAOsrC,EAAc1mC,QAAQ4mC,SASzC,OANAxpC,qBAAU,WAAO,IAAD,EACd,UAAIG,EAAKA,YAAT,OAAI,EAAWxC,UACbH,EAAQ4B,KAAK,OAEd,IAGD,qBAAKyD,UAAU,aAAf,SACE,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,aAAf,SACE,oBAAGkI,KAAK,QAAQjG,QAAS,SAACkG,GAAD,OAAOA,EAAEC,kBAAlC,UACE,mBAAGpI,UAAU,eAAb,kBADF,YAKF,qBAAKA,UAAU,yBAAf,SACE,sBAAKA,UAAU,4BAAf,UACE,oBAAGA,UAAU,+BAAb,UACE,sBAAMA,UAAU,4BAAhB,SA/LI,kBAgMJ,uBACA,uBAAOA,UAAU,4BAAjB,oBAAkDzB,EAAM+nC,QAAxD,UAEF,uBAAMlmC,aAAa,MAAnB,UACE,sBAAKJ,UAAU,mBAAf,UACE,uBACEE,KAAK,QACLF,UAAU,8BACVG,YAAY,oBACZP,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRd,EAAS,2BAAKnB,GAAN,IAAapD,MAAOqF,EAAOnD,MAAMzB,kBAE3C+N,WAAY,gBAAGC,EAAH,EAAGA,IAAH,OACVg9B,EAAeh9B,EAAKk9B,IAEtBxmC,aAAc/B,EAAMpD,MACpBiF,aAAa,QACbsJ,IAAK88B,EACLnmC,WAAW9B,EAAMpD,QAEnB,qBAAK6E,UAAU,qBAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAMA,UAAU,uBAKtB,sBAAKA,UAAU,mBAAf,UACE,uBACEE,KAAK,WACLF,UAAU,eACVG,YAAY,gBACZP,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRd,EAAS,2BAAKnB,GAAN,IAAatC,SAAUuE,EAAOnD,UAExCsM,WAAY,gBAAGC,EAAH,EAAGA,IAAH,OAAag9B,EAAeh9B,EAAK88B,IAC7CpmC,aAAc/B,EAAMtC,SACpBmE,aAAa,QACbsJ,IAAK+8B,EACLpmC,YACE9B,EAAMpD,QAASoD,EAAMtC,WAGzB,qBAAK+D,UAAU,qBAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAMA,UAAU,uBAKtB,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,cAAf,UACE,oBACEkI,KAAK,SACLjG,QAAS,SAACkG,GACRA,EAAEC,iBACF1I,EAAS,2BAAKnB,GAAN,IAAagoC,UAAWhoC,EAAMgoC,aAExCvmC,UAAU,aANZ,UAQE,mBAAGA,UAAU,qBARf,eAUCzB,EAAMgoC,SACL,sBAAKvmC,UAAU,mBAAf,UACE,uBACEE,KAAK,OACLF,UAAU,eACVG,YAAY,WACZC,aAAa,MACbR,SAAU,gBAAGY,EAAH,EAAGA,OAAH,OACRd,EAAS,2BACJnB,GADG,IAEN+nC,QAAS9lC,EAAOnD,MAAMzB,kBAG1B0E,aAAc/B,EAAM+nC,QACpB38B,WAAY,gBAAGC,EAAH,EAAGA,IAAH,OACVg9B,EAAeh9B,EAAKi9B,MAGxB,qBAAK7mC,UAAU,qBAAf,SACE,qBAAKA,UAAU,mBAAf,SACE,sBAAMA,UAAU,yBAIpB,UAGR,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,qBAAf,SACE,wBACEE,KAAK,SACLF,UACEzB,EAAMsE,KACF,sCACA,4BAENZ,QAASykC,EACT1iC,WAAUzF,EAAMsE,KARlB,SAUGtE,EAAMsE,KACL,qBAAK7C,UAAU,gCAAf,SACE,sBAAMA,UAAU,UAAhB,0BAGF,qCC3TP,SAAS+mC,KACtB,IAAQzpC,EAAS9C,qBAAWH,GAApBiD,KAER,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO4nC,KAAK,SAASe,OAAQ,kBAAM,cAACG,GAAD,OAC9B,OAAJ9oC,QAAI,IAAJA,KAAMxC,SAAW,cAAC,GAAD,CAAYwC,KAAMA,IAAW,cAAC4oC,GAAD,IAC/C,cAAC,IAAD,CAAOc,UAAWC,QCPT,SAASC,KACtB,IAAM/vC,EAAKC,aAAaC,QAAQ,cAC1BgvC,EAAiB,CACrB3uC,SAAUE,OAAOC,SAASH,SAASiJ,QAAQ,IAAK,IAChD7I,KAAMF,OAAOC,SAASG,SACtBC,KAAML,OAAOC,SAASI,MAElByG,EAAUvH,EAAKK,KAAKC,MAAMN,GAAMkvC,EAMtC,OAJAlpC,qBAAU,WACR/F,aAAayE,QAAQ,aAAcrE,KAAKoB,UAAU8F,MACjD,IAGD,cAAC,IAAD,UACE,cAAC,EAAD,UACE,cAACqoC,GAAD,QCtBRd,iBAAO,cAACiB,GAAD,IAAS1U,SAAS2U,eAAe,U,iBCHxCC,EAAOC,QAAU,CACfxP,SAAUyP,KAAKC,aAAa,QAAS,CACnCzjC,MAAO,WACP0jC,SAAU,W","file":"static/js/main.af38efb6.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport function getLastParam() {\n  const url = window.location.pathname.split(\"/\");\n\n  return parseInt(url.pop());\n}\n\nexport function api(url, method = \"GET\", body, controller = null) {\n  return new Promise((done, reject) => {\n    const LS = localStorage.getItem(\"OrusSystem\"),\n      SS = sessionStorage.getItem(\"OrusSystemLogin\"),\n      {\n        protocol: PROTOCOL = window.location.protocol,\n        host: HOST = window.location.hostname,\n        port: PORT = window.location.port,\n      } = JSON.parse(LS ? LS : \"{}\"),\n      { token: TOKEN = \"\" } = JSON.parse(SS ? SS : \"{}\");\n    const param = {\n      method,\n      url: `${PROTOCOL}://${HOST}:${PORT}/api/${url}`,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + TOKEN,\n      },\n    };\n\n    if ([\"POST\", \"PUT\"].includes(method.toUpperCase()) && body) {\n      param.data = JSON.stringify(body);\n    }\n    if (controller) param.signal = controller.signal;\n\n    axios(param)\n      .then((res) => {\n        return done(res.data);\n      })\n      .catch((err) => {\n        console.error(\"[Orus System] Query API failer:\", url);\n        console.error(\"[Orus System] Query API code:\", err?.code);\n        console.error(\"[Orus System] Query API message:\", err?.message);\n        return reject(err.response?.data);\n      });\n  });\n}\n\nexport function setUrl(endpoint, id, param = {}) {\n  let url = endpoint,\n    paramString = null;\n  const paramKeys = Object.keys(param);\n\n  if (id) {\n    url += `/${id}`;\n  }\n\n  if (typeof param !== \"object\" || Array.isArray(param)) {\n    return url;\n  }\n\n  if (paramKeys) {\n    paramKeys.map((k) => {\n      if (param[k] === null || param[k] === \"\") {\n        delete param[k];\n      }\n      return null;\n    });\n\n    if (paramKeys.length) {\n      paramString = new URLSearchParams(param);\n      url += `?${paramString}`;\n    }\n  }\n\n  return url;\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { api, setUrl } from \"../utils/url\";\n\nexport const AuthContext = createContext(null);\nexport const Auth = () => useContext(AuthContext);\n\nexport default function useUser({ children }) {\n  const history = useHistory();\n\n  //const LS = localStorage.getItem(\"OrusSystemLogin\");\n  const LS = sessionStorage.getItem(\"OrusSystemLogin\");\n\n  let initialSession = {\n    isLogged: false,\n    idUser: 0,\n    username: \"\",\n    name: \"\",\n    rol: null,\n    email: \"\",\n    token: \"\",\n    branch: \"\",\n    roles: \"\",\n    permissions: [],\n\n  };\n\n  const [user, setUser] = useState(() => {\n    if (LS && LS !== \"undefined\") {\n      initialSession = JSON.parse(LS);\n    }\n\n    return initialSession;\n  });\n\n  // Functions\n  const setUserData = (data) => {\n      if (!data) return;      \n\n      const toSave = {\n        isLogged: data.isLogged ?? user.isLogged,\n        idUser: data.id,\n        username: data.username.toLowerCase(),\n        name: data.name.toLowerCase(),\n        rol: 2,\n        email: data.email,\n        token: data.token ?? user.token,\n        branch: { ...data.branch.data, id: data.branch.id },\n        roles: data.roles[0],\n        permissions: data.permissions,\n      };      \n      setUser(toSave);\n      //localStorage.setItem('OrusSystemLogin', JSON.stringify(toSave));\n      sessionStorage.setItem(\"OrusSystemLogin\", JSON.stringify(toSave));\n    },\n    session = async (credentials) => {\n      const { email, password } = credentials;\n\n      if (!email || !password) {\n        return {\n          status: false,\n          message: \"The fields user or passwors are required\",\n        };\n      }\n\n      return await api(\"user/login\", \"POST\", credentials)\n        .then((data) => {\n          if (!data.status) {\n            return { status: false, data };\n          }\n\n          const { data: user } = data;\n\n          setUserData({\n            ...user,\n            token: data.token,\n            isLogged: true,\n          });\n\n          return { status: true, message: data.message };\n        })\n        .catch((err) => {\n          return {\n            status: false,\n            message: \"Error en el servidor: \" + err?.message,\n          };\n        });\n    },\n    outSession = async () => {\n      return await api(\"user/logout\", \"POST\")\n        .then(() => {\n          setUser(initialSession);\n          //localStorage.setItem('OrusSystemLogin', '{}');\n          sessionStorage.setItem(\"OrusSystemLogin\", \"{}\");\n\n          return true;\n        })\n        .catch((err) => console.error(\"[Server] When close session:\", err));\n    },\n    getCurrentUser = async () => {\n      return await api(\"user\")\n        .then((data) => data.data)\n        .catch((err) => {\n          if (err?.message === \"Unauthenticated.\") {\n            if (history.location?.pathname !== \"/login\") {\n              setUser(initialSession);\n              //localStorage.setItem('OrusSystemLogin', JSON.stringify(initialSession));\n              sessionStorage.setItem(\n                \"OrusSystemLogin\",\n                JSON.stringify(initialSession)\n              );\n\n              history.push(\"/login\");\n            }\n            return;\n          }\n          console.log(\"[Orus System] Responses:\", err);\n        });\n    },\n    getNotifications = async () => {\n      const user = await getCurrentUser().catch(() => {\n        // outSession();\n        return null;\n      });\n\n      if (!user) return [];\n\n      return user.unreadNotifications;\n    },\n    setNotifications = async (payload) => {\n      if (typeof payload !== \"object\") {\n        return {\n          status: false,\n          message: \"Payload should be object\",\n        };\n      }\n\n      return await api(\"user/readAllNotifications\", \"POST\", payload).then(\n        (result) => {\n          const count = parseInt(payload.id) < 0 ? \"Todas\" : 1;\n\n          if (result.success) {\n            console.log(\"[Orus System] Notificaciones marcadas leidas:\", count);\n            return true;\n          }\n\n          return false;\n        }\n      );\n    },\n    setBranch = async (branch) => {\n      const url = setUrl(\"users\", user.idUser);\n\n      const update = {\n        branch_id: branch,\n        name: user.name,\n        username: user.username,\n      };\n      \n      return await api(url, \"PUT\", update).then((result) => {\n        if (result.data && !result.message) return true;\n        else return false;\n      });\n    };\n\n  useEffect(() => {\n    getCurrentUser().then((data) => {\n      if (!data) return;\n\n      console.log(\"[Orus system] Session was created\");\n      setUserData({ ...data, isLogged: true });\n    });\n  }, [user.isLogged]);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        auth: user,\n        setSession: session,\n        outSession,\n        getNotifications,\n        setNotifications,\n        setBranch,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useUsers() {\n\n  const getListUsers = async (filters)=>{\n    const url = setUrl('users', null, filters);\n    return await api(url);\n  }\n\n  const getUserById = async(ID) => {\n    const url = setUrl('users', ID);\n    return await api(url)\n  }\n\n  const deleteUser = async (ID) => {\n    const url = setUrl('users', ID);\n    return await api(url, 'DELETE', null);\n  }\n\n  const saveUser = async (data, ID)=> {\n\n    if(ID){\n      //Actualizamos\n      const url = setUrl('users', ID);\n      return await api(url, 'PUT',data);\n    }else{\n      //Creamos uno nuevo\n\n      const url = setUrl('users');\n      return await api(url, \"POST\", data);\n    }\n  }\n\n  return{\n    getListUsers,\n    getUserById,\n    deleteUser,\n    saveUser,\n  }\n\n}\n\n\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useState, useEffect, useContext } from \"react\";\nimport { api } from \"../utils/url\";\n\nexport const ConfigContext = createContext(null);\nexport const Config = () => useContext(ConfigContext);\n\nconst storage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\nconst initialState = {\n  data: [],\n  meta: {},\n  branches: [],\n  banks: [],\n  server: storage,\n};\n\nexport default function useConfig({ children }) {\n  const [state, setstate] = useState(initialState);\n  // Functions\n  const setStorage = (storage) => {\n    if (typeof storage !== \"object\") {\n      return false;\n    }\n\n    const newStorage = {\n      ...state.server,\n      ...storage,\n    };\n\n    setstate({\n      ...state,\n      server: newStorage,\n    });\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(newStorage));\n    return true;\n  };\n  const handleGetConfig = () => {\n    return api(\"config?itemsPage=100\", \"GET\").then((res) => res);\n  };\n  const handleSetState = async () => {\n    const req = await handleGetConfig();\n    const banks = req.data?.filter((con) => con.name === \"bank\");\n    const reqBranches = req.data?.filter((con) => con.name === \"branches\");\n    const branches = reqBranches.map((row) => ({ ...row.data, id: row.id }));\n\n    setstate({\n      ...state,\n      data: req.data,\n      meta: req.meta,\n      branches,\n      banks,\n      setStorage,\n    });\n  };\n\n  useEffect(() => {\n    handleSetState();\n  }, []);\n\n  return (\n    <ConfigContext.Provider value={state}>{children}</ConfigContext.Provider>\n  );\n}\n","import { useEffect, useRef, useState } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\n\nexport default function UserNameInputComponent(props) {\n  const user = useUsers();\n  const mounted = useRef(true);\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"Debe de tener al menos 4 caracteres.\",\n    searchUser: false,\n  });\n  const { onChange: _onChange, handleValidate: _handleValidate } = props;\n\n  const handleChange = ({ value }) => {\n    _onChange({\n      name: \"username\",\n      value: value.toLowerCase(),\n    });\n  };\n  const validUser = () => {\n    if (!mounted.current) return;\n\n    const regex = /^[\\w]{4,16}$/,\n      userSearch = props.username.replace(/\\s/g, \"\");\n\n    if (regex.test(userSearch)) {\n      //User valid, next search if exist\n      setState({\n        ...state,\n        searchUser: true,\n      });\n\n      handleSearchUser(userSearch, props.userId, user).then((status) => {\n        if (!mounted.current) return;\n\n        if (status) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"El usuario ya esta registrado.\",\n            searchUser: false,\n          });\n          _handleValidate({\n            name: \"validUserName\",\n            value: false,\n          });\n        } else {\n          setState({\n            ...state,\n            bgColor: \"bg-blue\",\n            validate: \"\",\n            text: \"\",\n            searchUser: false,\n          });\n          _handleValidate({\n            name: \"validUserName\",\n            value: true,\n          });\n        }\n      });\n    } else {\n      //User no valid\n      if (userSearch.length > 4) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"No tiene el formato de usuario\",\n        });\n        _handleValidate({\n          name: \"validUserName\",\n          value: false,\n        });\n      } else if (!userSearch.length) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"Debe de tener de 4 a 16 caracteres alfanumericos.\",\n        });\n        _handleValidate({\n          name: \"validUserName\",\n          value: false,\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      mounted.current = false;\n    };\n  });\n\n  return (\n    <div className={\"col-\" + props.col}>\n      {props.username.length ? (\n        <small>\n          <label>Usuario</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + state.bgColor}>\n            {state.searchUser ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-user-check\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"text\"\n          className={\"form-control\" + state.validate}\n          placeholder=\"Usuario\"\n          autoComplete=\"off\"\n          autoFocus=\"autofocus\"\n          defaultValue={props.username}\n          onChange={({ target }) => handleChange(target)}\n          onBlur={validUser}\n          required=\"required\"\n          minLength=\"4\"\n          maxLength=\"16\"\n          pattern=\"^[\\w]{4,16}$\"\n        />\n      </div>\n      {state.validate ? <small className=\"text-muted\">{state.text}</small> : \"\"}\n    </div>\n  );\n}\n\nconst handleSearchUser = async (username, userId = null, user) => {\n  const result = await user.getListUsers({ username, userId, deleted: 0 });\n\n  if (result.data && result.data.length) {\n    const { username: user } = result.data[0];\n\n    if (user.toLowerCase() === username) {\n      return true;\n    }\n  }\n  return false;\n};\n","import { useState } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\n\nexport default function UserEmailInputComponent(props) {\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"No tiene el formato de un email\",\n    searchEmail: false,\n  });\n\n  const user = useUsers();\n\n  //Vars\n  const { col, email, userId, onChange: _onChange } = props,\n    { bgColor, validate, text, searchEmail } = state;\n\n  //Functions\n  const handleChange = ({ name, value }) => {\n      _onChange({\n        name,\n        value: value.toLowerCase(),\n      });\n    },\n\n    validEmail = () => {\n      const regex =\n          /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n        emailSearch = email.replace(/\\s/g, \"\");\n\n      if (regex.test(emailSearch)) {\n        //User valid, next search if exist\n        setState({\n          ...state,\n          searchUser: true,\n        });\n        \n        handleSearchUser(emailSearch, userId, user).then((response) => {\n          if (response) {\n            setState({\n              bgColor: \"bg-red\",\n              validate: \" border border-danger\",\n              text: \"El usuario ya esta registrado.\",\n              searchUser: false,\n            });\n            _onChange({\n              name: \"validUserEmail\",\n              value: false,\n            });\n          } else {\n            setState({\n              ...state,\n              bgColor: \"bg-blue\",\n              validate: \"\",\n              text: \"\",\n            });\n            _onChange({\n              name: \"validUserEmail\",\n              value: true,\n            });\n          }\n        });\n      } else {\n        //User no valid\n        if (emailSearch.length > 8) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"No tiene el formato de un email valido\",\n          });\n          _onChange({\n            name: \"validUserEmail\",\n            value: false,\n          });\n        } else if (!emailSearch.length) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"Escriba un email valido\",\n          });\n          _onChange({\n            name: \"validUserEmail\",\n            value: false,\n          });\n        }\n      }\n    };\n\n  return (\n    <div className={\"col-\" + col}>\n      {email.length ? (\n        <small>\n          <label>Email</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + bgColor}>\n            {searchEmail ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-at\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"email\"\n          className={\"form-control\" + validate}\n          placeholder=\"email\"\n          name=\"email\"\n          autoComplete=\"off\"\n          defaultValue={email}\n          onChange={({ target }) => handleChange(target)}\n          onBlur={validEmail}\n          required=\"required\"\n        />\n      </div>\n      {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n    </div>\n  );\n}\n\n\nconst handleSearchUser = async (username, userId = null, user) => {\n  const result = await user.getListUsers({ username, userId, deleted: 0 });\n\n  if (result.data && result.data.length) {\n    const { username: user } = result.data[0];\n\n    if (user.toLowerCase() === username) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n\n/* const handleSearchUser = async (email, userId = null, user) => {\n  const result = await user.getListUser\n  const url = getUrl(\"users\", null, { email, userId, deleted: 0 }),\n    result = await api(url);\n\n  if (result.data && result.data.length) {\n    const { email: user } = result.data[0];\n\n    if (user.toLowerCase() === email) {\n      return true;\n    }\n  }\n  return false;\n};\n */\n","import moment from \"moment\";\n\nexport default function MetadataComponent({ data: currentUser }) {\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-primary\">\n          <i className=\"fas fa-database mr-2\"></i>\n          Metadata\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        {currentUser.data?.session ? (\n          <ul className=\"list-group\">\n            <li className=\"list-group-item\">\n              <h6>Datos del usuario</h6>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <span className=\"text-primary\">Registrado</span>\n                  <p>{moment(currentUser.data.created_at).fromNow()}</p>\n                </div>\n                <div className=\"col\">\n                  <span className=\"text-primary\">Ultima actualizacion</span>\n                  <p>{moment(currentUser.data.updated_at).fromNow()}</p>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              <h6>Actividad</h6>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <span className=\"text-primary\">IP</span>\n                  <p>\n                    {currentUser.data.session?.ip_address\n                      ? currentUser.data.session.last_activity\n                      : \"--\"}\n                  </p>\n                </div>\n                <div className=\"col\">\n                  <span className=\"text-primary\">Ultima actividad</span>\n                  <p>\n                    {currentUser.data.session?.last_activity\n                      ? moment(currentUser.data.session.last_activity).fromNow()\n                      : \"--\"}\n                  </p>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"text-primary\">Navegador y OS</span>\n              <p>\n                {currentUser.data.session?.user_agent\n                  ? currentUser.data.session.user_agent\n                  : \"--\"}\n              </p>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"text-primary\">Token</span>\n              <p>\n                {currentUser.data.session?.user_data\n                  ? currentUser.data.session.user_data\n                  : \"--\"}\n              </p>\n            </li>\n          </ul>\n        ) : (\n          <p>Usuario no ha registrado actividad.</p>\n        )}\n      </div>\n      {currentUser.data.session && (\n        <div className=\"card-footer text-right\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            onClick={() => {\n              // close session when session is active\n            }}\n          >\n            <i className=\"fas fa-sign-out-alt mr-1\"></i>\n            Cerrar session\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","export default function PermissionsComponent({ data: currentUser }) {\n  return (\n    <div className=\"card card-primary card-outline mt-4\">\n      <div className=\"card-header\">\n        <h5 className=\"card-title text-primary\">Tipo y permisos</h5>\n      </div>\n      <div className=\"card-body\">\n        <span className=\"badge badge-dark m-1\">{currentUser.role}</span>\n        {currentUser.data?.permissions?.map((permission, i) => (\n          <span className=\"badge badge-primary m-1\" key={i}>\n            {permission}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import moment from \"moment\";\nexport default function ActivitysComponents(props) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title text-muted text-bold w-100 mb-4 text-left\">\n          <i className=\"fas fa-bars mr-1\"></i>\n          Actividad\n        </h5>\n\n        {props.data.map((ac, i) => {\n          const { data, type } = ac;\n\n          return (\n            <p className=\"card-text border-bottom text-left\" key={i}>\n              <span\n                className={\n                  type !== \"deleted\"\n                    ? type === \"created\"\n                      ? \"badge badge-success text-uppercase\"\n                      : \"badge badge-primary text-uppercase\"\n                    : \"badge badge-danger text-uppercase\"\n                }\n              >\n                {type}\n              </span>\n              <span className=\"mx-2 text-uppercase\">\n                {moment(data.datetime).format(\"DD-MMMM-YYYY HH:mm\")}\n              </span>\n              <span className=\"text-bold text-capitalize\">\n                {data.user?.name.toLowerCase()}\n              </span>\n\n              {Boolean(Object.keys(data.inputs).length) && (\n                <span className=\"px-2\">\n                  {Object.keys(data.inputs).map((input, i) => (\n                    <span\n                      key={i}\n                      className=\"badge badge-light text-uppercase mx-1\"\n                    >\n                      {input} / {data.inputs[input]}\n                    </span>\n                  ))}\n                </span>\n              )}\n            </p>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport useUsers from \"../../hooks/useUsers\";\nimport { Config } from \"../../context/ConfigContext\";\nimport { useHistory } from \"react-router-dom\";\n\n//Component\nimport UserNameInput from \"./views/userNameInput\";\nimport UserEmailInput from \"./views/userEmailInput\";\nimport Metadata from \"./Metadata\";\nimport Permissions from \"./Permissions\";\nimport Activities from \"../Activitys\";\n\nconst initialState = {\n  id: 0,\n  role: \"ventas\",\n  password: \"\",\n  username: \"\",\n  name: \"\",\n  email: \"\",\n  branch_id: 12,\n  data: {\n    session: {},\n    roles: [],\n    permissions: [],\n    load: false,\n    validUserName: false,\n    validUserEmail: false,\n    created_at: \"\",\n    updated_at: \"\",\n    activities: [],\n  },\n};\n\nexport default function UserAddComponent(props) {\n  const { id } = props.match.params;\n  const { handleNewOrEdit: _handleNewOrEdit } = props;\n  const _users = useUsers();\n  const configContext = Config();\n  const branchs = configContext.data;\n  const [currentUser, setCurrentUser] = useState(initialState);\n  const history = useHistory();\n  const send =\n    currentUser.name.length &&\n    !currentUser.data.load &&\n    currentUser.data.validUserName &&\n    currentUser.data.validUserEmail\n      ? false\n      : true;\n\n  function processData(data) {\n    if (data) {      \n      setCurrentUser({\n        id: data.id,\n        role: data.roles[0],\n        username: data.username,\n        name: data.name,\n        email: data.email,\n        password: \"\",\n        branch_id: data.branch.id,\n        data: {\n          session: data.session ? data.session : {},\n          permissions: data.permissions,\n          roles: data.roles,\n          load: data.load ? data.load : false,\n          validUserName: true,\n          validUserEmail: true,\n          created_at: data.created_at,\n          updated_at: data.updated_at,\n          activities: data.activity,\n        },\n      });\n    }\n  }\n\n  const handleValidate = ({ name, value }) => {\n    setCurrentUser({\n      ...currentUser,\n      data: {\n        ...currentUser.data,\n        [name]: value,\n      },\n    });\n  };\n\n  const catchInputs = ({ name, value, type }) => {\n    if (type === \"text\") {\n      value = value\n        .toLowerCase()\n        .normalize(\"NFD\")\n        .replace(/[\\u0300-\\u036f]/g, \"\");\n    }\n\n    setCurrentUser({\n      ...currentUser,\n      [name]: value,\n    });\n  };\n\n  const handleSave = () => {\n    const { id, name, username, role, password, email, branch_id } =\n      currentUser;\n\n    //Valid primary data\n    if (!currentUser.data.validUserName) {\n      window.Swal.fire({\n        icon: \"error\",\n        title: \"El nombre de usuario ya esta en uso\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return false;\n    }\n    if (!currentUser.data.validUserEmail) {\n      window.Swal.fire({\n        icon: \"error\",\n        title: \"El correo ya esta en uso\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return false;\n    }\n\n    let data = {\n      name,\n      username,\n      role,\n      email,\n      branch_id,\n    };\n\n    if (password.length >= 8) data.password = password;\n\n    _users.saveUser(data, id).then((data) => {\n      if (data) {\n        window.Swal.fire({\n          title: \"Usuarios\",\n          text: id\n            ? `Usuario actualizado correctamente`\n            : `Usuario guardado correctamente`,\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonText: \"Hecho!\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            history.push(\"/usuarios\");\n            _handleNewOrEdit();\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      _users.getUserById(id).then((data) => {\n        if (data) {          \n          processData(data.data);\n        }\n      });\n    }\n  }, [id]);\n\n  return (\n    <div className=\"row\" style={{ height: \"100vh\" }}>\n      <div className={`col-${id ? 8 : 12}`}>\n        <form className=\"card card-primary card-outline\" autoComplete=\"off\">\n          <div className=\"card-header\">\n            <h1 className=\"card-title text-primary\">\n              <i className=\"fas fa-user mr-2\"></i>\n              {id ? \"Editar usuario\" : \"Registrar nuevo usuario\"}\n            </h1>\n          </div>\n          <div className=\"card-body was-validated\">\n            {currentUser.load ? (\n              <div className=\"alert alert-light text-center p-4\">\n                <div className=\"spinner-border text-primary\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            ) : (\n              <>\n                <div className=\"row mb-3\">\n                  <UserNameInput\n                    username={currentUser.username}\n                    userId={id ? id : \"\"}\n                    col={6}\n                    onChange={catchInputs}\n                    handleValidate={handleValidate}\n                  />\n                  <div className=\"col-6\">\n                    {currentUser.name.length ? (\n                      <small>\n                        <label>Nombre completo</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-user-tag\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control text-capitalize\"\n                        placeholder=\"Nombre completo\"\n                        name=\"name\"\n                        autoComplete=\"off\"\n                        defaultValue={currentUser.name}\n                        onChange={({ target }) => catchInputs(target)}\n                        required=\"required\"\n                        minLength=\"8\"\n                        pattern=\"^[a-zA-Z]{2,20}[\\s]{1}[a-zA-Z]{2,20}.*\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    {currentUser.password.length || id ? (\n                      <small>\n                        <label>Contrasea</label>\n                        {!id && (\n                          <span className=\"ml-2 text-muted\">\n                            De 8 a 16 caracteres, por lo menos una mayuscula, un\n                            numero y un caracter especial\n                          </span>\n                        )}\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-lock\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"password\"\n                        className=\"form-control\"\n                        placeholder=\"Contrasea\"\n                        name=\"password\"\n                        autoComplete=\"off\"\n                        defaultValue={currentUser.password}\n                        onChange={({ target }) => catchInputs(target)}\n                        required={id ? false : true}\n                        minLength=\"8\"\n                        maxLength=\"16\"\n                        pattern=\"^(?=.*[A-Z])(?=.*[!@#$&.*])(?=.*[0-9])(?=.*[a-z]).{8,16}$\"\n                      />\n                    </div>\n                  </div>\n                  <UserEmailInput\n                    email={currentUser.email}\n                    userId={id ? id : \"\"}\n                    col={6}\n                    onChange={catchInputs}\n                  />\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    <small>\n                      <label>Tipo de usuario</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-id-card\"></i>\n                        </span>\n                      </div>\n                      <select\n                        className=\"custom-select\"\n                        name=\"role\"\n                        /* defaultValue={currentUser.role} */\n                        value={currentUser.role}\n                        onChange={({ target }) => catchInputs(target)}\n                      >\n                        <option value=\"admin\">Administrador</option>\n                        <option value=\"ventas\">Ventas</option>\n                        <option value=\"doctor\">Optometrista</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"col-md-6\">\n                    <small>\n                      <label>Sucursal</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-store\"></i>\n                        </span>\n                      </div>\n                      <select\n                        className=\"custom-select text-uppercase\"\n                        name=\"branch_id\"\n                        value={currentUser.branch_id}\n                        onChange={({ target }) => catchInputs(target)}\n                      >\n                        {branchs.map((branch) =>\n                          branch.name !== \"bank\" ? (\n                            <option value={branch.id} key={branch.id}>\n                              {branch.data.name}\n                            </option>\n                          ) : null\n                        )}\n                      </select>\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n          <div className=\"card-footer\">\n            <div className=\"row\">\n              <div className=\"col-md-12 text-right\">\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-dark\"\n                    onClick={() => {\n                      history.push(`/usuarios`);\n                      _handleNewOrEdit();\n                    }}\n                  >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={\n                      currentUser.load\n                        ? \"btn btn-primary disabled\"\n                        : \"btn btn-primary\"\n                    }\n                    disabled={send ? true : false}\n                    onClick={handleSave}\n                  >\n                    <i className=\"fas fa-save mr-1\"></i>\n                    {id ? \"Actualizar\" : \"Guardar\"}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n\n        <Permissions data={currentUser} />\n      </div>\n      {id && (\n        <div className=\"col-4\">\n          <Metadata data={currentUser} />\n          <Activities data={currentUser.data.activities} />\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const StoreContext = createContext(null);\nexport const Store = () => useContext(StoreContext);\n","import React from \"react\";\n\nexport default function SideBarPartial(props) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <h5 className=\"card-title\">\n          <i\n            className={\n              props.icon\n                ? \"mr-2 fas fa-\" + props.icon\n                : \"mr-2 fas fa-ellipsis-v\"\n            }\n          ></i>\n          {props.title ?? \"Menu\"}\n        </h5>\n      </div>\n      <div className=\"card-body p-0\">\n        <ul className=\"list-group nav list-group-flush\">{props.children}</ul>\n      </div>\n    </div>\n  );\n}\n","export default function Input(props) {\n  const { showIcon = true } = props;\n\n  return (\n    <div className=\"input-group mb-3\">\n      {showIcon && (\n        <div className=\"input-group-prepend\">\n          <span\n            className={\n              props.value\n                ? \"input-group-text bg-primary\"\n                : \"input-group-text bg-warning\"\n            }\n          >\n            <i className={`fas fa-${props.icon ?? \"sort-amount-down\"}`}></i>\n          </span>\n        </div>\n      )}\n\n      <select        \n        className=\"custom-select text-uppercase\"\n        value={props.value ?? \"\"}\n        disabled={props.load ?? false}\n        onChange={({ target }) => {\n          if (props.handleChange) {\n            props.handleChange(parseInt(target.value));\n          }\n        }}\n      >\n        {props.load ? (\n          <option value=\"\">{props.loadText ?? \"Cargando opciones\"}</option>\n        ) : (\n          <>\n            {!Boolean(props.options?.length) ? (\n              <option value=\"\">{props.emptyText ?? \"No hay opciones\"}</option>\n            ) : (\n              <option value=\"0\">--{props.text ?? \"Seleccione uno\"}--</option>\n            )}\n          </>\n        )}\n\n        {props.options?.map((cat, index) => {\n          return (\n            <option value={cat.id} key={cat.id} id={index}>\n              {cat.name}\n            </option>\n          );\n        })}\n      </select>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useStore() {\n  const getItems = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"store\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get items list in hook:\",\n          err.message\n        );\n\n        return err.response.data;\n      });\n  };\n\n  const getItem = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"store\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const deleteItem = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"store\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveItemByList = async (items) => {\n    if (!items) return;\n    const url = setUrl(\"store/bylist\");\n\n    return await api(url, \"POST\", { items })\n      .then((res) => {\n        return res;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when save items by list in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveItem = async (data) => {\n    const { id } = data;\n    const url = setUrl(\"store\", id);\n    const method = !id ? \"POST\" : \"PUT\";\n\n    return await api(url, method, data);\n  };\n\n  const saveQantityandPrice = async (data) => {\n    delete data.readyToSave;\n    const { id } = data;\n\n    if (id === 0) {\n      const url = setUrl(\"branches\");\n      const method = \"POST\";\n      return await api(url, method, data);\n    } else {\n      const url = setUrl(\"branches\", id);\n      const method = \"PUT\";\n      return await api(url, method, data);\n    }\n  };\n\n  const saveGlobalPrice = async (data) => {\n    const idCategory = data.productCategoryId;\n    const URL = setUrl(`categories/setprice/${idCategory}`);\n    const method = \"POST\";\n\n    delete data.productCategoryId;\n    delete data.branchSelected;\n\n    return await api(URL, method, data);\n  };\n\n  const saveQantity = async (data) => {\n    const product_id = data.product_id;\n    const url = setUrl(`store/setcant/${product_id}`);\n    const method = \"POST\";\n    return await api(url, method, data);\n  };\n\n  // Brands functions -------------------------\n  const getBrands = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"brands\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get brands list in hook:\",\n          err.message\n        );\n        throw err;\n      });\n  };\n\n  const getBrand = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"brands\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get brands in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveBrand = async (data) => {\n    const url = setUrl(\"brands\");\n    return await api(url, \"POST\", data);\n  };\n\n  const deleteBrand = async (id) => {\n    const url = setUrl(\"brands\", id);\n    return await api(url, \"DELETE\", null)\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  return {\n    getItems,\n    getItem,\n    deleteItem,\n    saveItem,\n    saveItemByList,\n    saveQantityandPrice,\n    saveGlobalPrice,\n    getBrands,\n    getBrand,\n    saveBrand,\n    deleteBrand,\n    saveQantity,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\nimport Input from \"../Input\";\nimport useStore from \"../../hooks/useStore\";\n\nexport default function Brands(props) {\n  const [state, setState] = useState({\n    brands: [],\n    load: true,\n  });\n\n  const _store = useStore();\n\n  const getBrands = () => {\n    _store.getBrands({ supplier: props.supplier }).then((brands) => {\n      if (brands) {\n        setState({\n          ...state,\n          brands: brands.data,\n          load: false,\n        });\n      } else {\n        console.error(\"Error al obetner las marcas\");\n      }\n    });\n  };\n\n  const filterBrandName = (id) => {\n    const brandName = state.brands.filter((brand) => brand.id === id);\n    return brandName[0].name;\n  };\n\n  useEffect(() => {\n    getBrands();\n  }, [props.supplier]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <small>\n          <label>Marca</label>\n        </small>\n        <Input\n          options={state.brands}\n          value={props.brand}\n          text=\"Seleccione una marca\"\n          icon=\"copyright\"\n          emptyText=\"No hay marcas para este proveedor\"\n          load={state.load}\n          loadText=\"Cargando marcas\"\n          handleChange={(id) => {\n            if (props.handleChangeBrand) {\n              props.handleChangeBrand(id, filterBrandName(id));\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useContact() {\n\n  const getContacts = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"contacts\", null, options);\n    //type, bussiness\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contacts list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n  const getContact = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"contacts\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contact in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n\n  const deleteContact = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"contacts\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete contact in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n\n  \n  const saveContact = async (data) => {\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"contacts\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save contact in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    } else {\n      const url = setUrl(\"contacts\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save contact in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    }\n  };\n\n  return {\n    getContacts,\n    getContact,\n    deleteContact,\n    saveContact,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\nimport useContact from \"../../hooks/useContact\";\nimport Input from \"../Input\";\n\nexport default function Suppliers(props) {\n  \n  const _contacts = useContact();\n  const [state, setState] = useState({\n    suppliers: [],\n    load: true,\n  });\n\n  const getSuppliers = () => {\n    _contacts\n      .getContacts({\n        type: 1,\n        orderby: \"name\",\n        order: \"asc\",\n      })\n      .then((sup) => {\n        setState({\n          suppliers: sup.data,\n          load: false,\n        });\n      });\n  };\n\n  useEffect(() => {\n    getSuppliers();\n  }, []);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <small>\n          <label>Proveedor</label>\n        </small>\n        <Input\n          options={state.suppliers}\n          value={props.supplier ?? \"\"}\n          text=\"Seleccione un provedor\"\n          icon=\"address-book\"\n          load={state.load}\n          handleChange={(id) => {\n            if (props.handleChangeSupplier) {\n              props.handleChangeSupplier(id);\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import { Store } from \"../../context/StoreContext\";\n//Components\nimport SideBar from \"../../pages/partials/SideBar\";\n\nimport BrandsInput from \"./Brands\";\nimport SuppliersInput from \"./Suppliers\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function ToolBar() {\n  const context = Store();\n  const history = useHistory();\n\n  //Funciones\n  const handleSetSelectOptions = ({ name, value, checked }) => {\n    if (name === \"itemsPage\") value = parseInt(value);\n    if (name === \"supplier\" && value > 0) value = parseInt(value);\n    if (name === \"zero\") {\n      if (checked) value = \"true\";\n      else value = \"false\";\n    }\n\n    context.set({\n      ...context,\n      options: {\n        ...context.options,\n        [name]: value,\n      },\n    });\n  };\n\n  const handleChangeSupplier = (id) => {\n    context.set({\n      ...context,\n      options: {\n        ...context.options,\n        brand: \"\",\n        supplier: id,\n      },\n    });\n  };\n\n  return (\n    <SideBar title={context.panel === \"inbox\" ? \"Menu y filtros\" : \"Menu\"}>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"inbox\" ? \"nav-link  disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n            context.set({\n              ...context,\n              panel: \"inbox\",\n            });\n            history.push(\"/almacen\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"inbox\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Productos\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"category\" ? \"nav-link disabled\" : \"nav-link \"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"category\",\n            });\n\n            history.push(\"/almacen/categorias\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"category\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Categorias\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"brands\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"brands\",\n            });\n\n            history.push(\"/almacen/marcas\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"brands\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Marcas\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"inventory\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"inventory\",\n            });\n\n            history.push(\"/almacen/inventario\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"inventory\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Inventario\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"entries\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"entries\",\n            });\n\n            history.push(\"/almacen/entradas\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"entries\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Entrada armazon\n        </a>\n      </li>\n\n      {context.panel === \"inbox\" && (\n        <>\n          <li className=\"nav-item p-1\">\n            <SuppliersInput\n              supplier={context.options?.supplier}\n              showIcon={false}\n              handleChangeSupplier={(id) => handleChangeSupplier(id)}\n            />\n          </li>\n          {context.options?.supplier && (\n            <li className=\"nav-item p-1\">\n              <BrandsInput\n                supplier={context.options?.supplier}\n                brand={context.options?.brand}\n                showIcon={false}\n                handleChangeBrand={(id) => {\n                  handleSetSelectOptions({\n                    name: \"brand\",\n                    value: id,\n                  });\n                }}\n              />\n            </li>\n          )}\n          <li className=\"nav-item p-1\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"zero\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"zero\"\n                checked={context.options?.zero === \"true\" ? true : false}\n                onChange={({ target }) => handleSetSelectOptions(target)}\n              />\n              <label\n                className=\"custom-control-label font-weight-normal\"\n                htmlFor=\"zero\"\n              >\n                Cantidades en cero\n              </label>\n            </div>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"orderby\">Ordenar por</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"orderby\"\n              id=\"orderby\"\n              value={context.options?.orderby}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"created_at\">Fecha de registro</option>\n              <option value=\"updated_at\">Fecha de modificacion</option>\n            </select>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"order\">Mostrar por</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"order\"\n              id=\"order\"\n              value={context.options?.order}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"asc\">Antiguos</option>\n              <option value=\"desc\">Recientes</option>\n            </select>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"itemsPage\">Numero de productos</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"itemsPage\"\n              id=\"itemsPage\"\n              value={context.options?.itemsPage}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"25\">ver 25</option>\n              <option value=\"50\">ver 50</option>\n              <option value=\"75\">ver 75</option>\n              <option value=\"100\">ver 100</option>\n            </select>\n          </li>\n        </>\n      )}\n    </SideBar>\n  );\n}\n","export default function PaginationComponent({\n  meta,\n  color,\n  handlePagination: _handlePagination,\n}) {\n\n\n\n  const handleChangePage = (page) => {\n    if (_handlePagination) {\n      _handlePagination(page);\n    } else {\n      console.error(\"[OrusSystem] Funcion de paginador no definida\");\n    }\n  };\n\n  return (\n    <div className=\"btn-group\">\n      <ul className=\"pagination pagination-sm m-0 mb-1\">\n        <li\n          className={\n            meta.current_page === 1 ? \"page-item disabled\" : \"page-item test-\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === 1\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(1);\n            }}\n          >\n            Primero\n          </a>\n        </li>\n        <li\n          className={\n            meta.current_page === 1 ? \"page-item disabled\" : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === 1\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.current_page - 1);\n            }}\n          >\n            <i className=\"fas fa-caret-left\"></i>\n          </a>\n        </li>\n        <li className=\"page-item\">\n          <span className=\"page-link text-dark\">\n            {meta.current_page && meta.last_page ? (\n              <>\n                {meta.current_page} /{meta.last_page}\n              </>\n            ) : (\n              \"...\"\n            )}\n          </span>\n        </li>\n        <li\n          className={\n            meta.current_page === meta.last_page\n              ? \"page-item disabled\"\n              : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === meta.last_page\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.current_page + 1);\n            }}\n          >\n            <i className=\"fas fa-caret-right\"></i>\n          </a>\n        </li>\n        <li\n          className={\n            meta.current_page === meta.last_page\n              ? \"page-item disabled\"\n              : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === meta.last_page\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.last_page);\n            }}\n          >\n            Ultimo\n          </a>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport Pagination from \"../layouts/pagination\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nconst ListInbox = (props) => {\n  \n  //Const\n  const { defaultSearch = \"\" } = props;\n  //States\n  const [search, setSearch] = useState(defaultSearch);\n  const [timer, setTimer] = useState(\"\");\n  const inputRef = useRef();\n\n  const _authContext = useContext(AuthContext);\n  const { auth } = _authContext;\n\n  useEffect(() => {\n    let toTimer = null;\n    if (props.handleSearch) {\n      if (search.length) {\n        if (timer) clearTimeout(timer);\n        toTimer = setTimeout(() => {\n          props.handleSearch(search);\n        }, 1000);\n        setTimer(toTimer);\n      } else {\n        props.handleSearch(\"\");\n      }\n    }\n    // eslint-disable-next-line\n  }, [search]);\n\n  return (\n    <div className={\"card card-\" + props.color + \" card-outline\"}>\n      <div className=\"card-header\">\n        <h3 className={\"card-title text-\" + props.color}>\n          <i\n            className={\n              props.icon ? \"mr-1 fas fa-\" + props.icon : \"mr-1 fas fa-user\"\n            }\n          ></i>\n          {props.title}\n        </h3>\n        <div className=\"card-tools\">\n          {props.handleSearch && (\n            <div className=\"input-group input-group-sm position-relative\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Buscar\"\n                defaultValue={search}\n                ref={inputRef}\n                onChange={({ target }) => {\n                  const { value } = target;\n                  setSearch(value);\n                }}                                \n                onKeyPress={(e) => {\n                  const { key } = e;\n                  if (key === \"Enter\") {\n                    if (timer) clearTimeout(timer);\n                    props.handleSearch(search);\n                  }\n                }}\n              />\n              <div\n                className=\"position-absolute\"\n                style={{ top: 5, left: -20, color: \"#ced4da\" }}\n              >\n                <i className=\"fas fa-search\"></i>\n              </div>\n              {search.length > 2 ? (\n                <div className=\"input-group-append\">\n                  <div\n                    className=\"btn btn-secondary\"\n                    onClick={(e) => {\n                      inputRef.current.value = \"\";\n                      setSearch(\"\");\n                    }}\n                  >\n                    <i className=\"fas fa-window-close\"></i>\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          )}\n        </div>\n      </div>\n      <div className=\"p-0 card-body\">\n        {props.handleDeleteItem ||\n        props.handleEditItem ||\n        props.handleStatus ||\n        props.handleSync ||\n        props.meta ||\n        props.handleDownload ? (\n          <div className=\"mailbox-controls\">\n            <div className=\"btn-group\">\n              {props.handleDeleteItem ? (\n                \n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm text-danger\"\n                  title=\"Eliminar\"\n                  disabled = {props.itemSelected ? (props.itemSelected === auth.idUser) ? true : false : true}\n                  onClick={(e) => props.handleDeleteItem()}\n                >\n                  <i className=\"fas fa-trash-alt\"></i>\n                </button>\n              ) : null}\n\n              {props.handleEditItem ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Editar\"\n                  disabled={props.itemSelected ? false : true}\n                  onClick={(e) => props.handleEditItem()}\n                >\n                  <i className=\"fas fa-edit\"></i>\n                </button>\n              ) : null}\n\n              {props.handleStatus ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Estado\"\n                  disabled={props.itemSelected ? false : true}\n                  onClick={(e) => props.handleStatus()}\n                >\n                  <i className=\"fas fa-check-circle\"></i>\n                </button>\n              ) : null}\n\n              {props.handleSync ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Recargar\"\n                  onClick={(e) => props.handleSync()}\n                >\n                  <i className=\"fas fa-sync-alt\"></i>\n                </button>\n              ) : null}\n\n              {props.handlePrint ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Imprimir\"\n                  onClick={(e) => props.handlePrint()}\n                >\n                  <i className=\"fas fa-print\"></i>\n                </button>\n              ) : null}\n\n              {props.handleDownload ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Exportar\"\n                  onClick={(e) => props.handleDownload()}\n                >\n                  <i className=\"fas fa-file-csv\"></i>\n                </button>\n              ) : null}\n            </div>\n\n            <div className=\"float-right\">\n              {props.meta && (\n                <Pagination\n                  meta={props.meta}\n                  color={props.color}\n                  handlePagination={props.handlePagination}\n                />\n              )}\n            </div>\n          </div>\n        ) : null}\n\n        <div className=\"table-responsive mailbox-messages\">\n          {props.children}\n        </div>\n      </div>\n      {props.loading ? (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default ListInbox;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Store } from \"../../context/StoreContext\";\nimport useStore from \"../../hooks/useStore\";\n\n//Components\nimport ListInbox from \"../../layouts/list_inbox\";\n//import { api, getUrl } from \"../../redux/sagas/api\";\nimport {api, setUrl} from '../../utils/url';\n\nexport default function Inbox(props) {\n  const context = Store();\n  const _store = useStore();\n  const history = useHistory();\n  //const storeContext = useContext(StoreContext);\n\n  //States\n  const [state, setState] = useState({\n    itemSelected: {},\n    items: [],\n    meta: {},\n    loading: false,\n  });\n  //Functions\n  const handleChangeOptions = (key, value) => {\n      if (context.options[key] !== value) {\n        context.set({\n          ...context,\n          options: {\n            ...context.options,\n            [key]: value,\n          },\n        });\n      }\n    },\n    deleteItem = () => {\n      window.Swal.fire({\n        title: \"Productos\",\n        text: \"Desea eliminar el producto seleccionado?\",\n        icon: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#007bff\",\n        confirmButtonText: \"Eliminar\",\n        cancelButtonText: \"Cancelar\",\n        showLoaderOnConfirm: true,\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          //Hook de eliminar producto\n          _store.deleteItem(state.itemSelected.id).then((data)=>{\n            if(data === true){\n              window.Swal.fire({\n                title: \"Productos\",\n                text: \"Producto eliminado correctamente\",\n                icon: \"success\",\n                showCancelButton: false,\n                confirmButtonColor: \"#007bff\",\n                confirmButtonText: \"Ok\",\n                cancelButtonText: \"Cancelar\",\n                showLoaderOnConfirm: true,\n              }).then(({ dismiss }) => {\n                if (!dismiss) {\n                  setState({\n                    ...state,\n                    itemSelected: {},\n                  });\n\n                  setState({\n                    ...state,\n                    loading: true,\n                  });\n\n                  _store.getItems(context.options).then((res) => {\n                    if (res) {\n                      setState({\n                        ...state,\n                        items: res.data,\n                        meta: res.meta,\n                        loading: false,\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          })\n        }\n      });\n\n\n      //helper.handleDeleteItem(state.itemSelected, context.options, () => {});\n      /* setState({\n        ...state,\n        itemSelected: {},\n      }); */\n    },\n\n    handleItemSelect = ({ checked }, item) => {\n      setState({\n        ...state,\n        itemSelected: checked ? item : {},\n      });\n    },\n\n\n    handleSelectItem = (e, item) => {\n      if (e) e.preventDefault();\n\n      if (item?.id) {\n        history.push(`/almacen/${item.id}`);\n      } else if (state.itemSelected?.id) {\n        history.push(`/almacen/${state.itemSelected.id}`);\n      }\n    },\n    handleDownload = async () => {\n      setState({\n        ...state,\n        loading: true\n      }); \n      const newOptions = { ...context.options, responseType: \"csv\" };\n      console.log(\"[Orus Sytem] Start donwload csv\");\n      const url = setUrl(\"store\", null, newOptions);\n      const data = await api(url);           \n      if (data) {\n        console.log(\"[Orus Sytem] Process data csv\");                        \n        var fileData = [data];\n        var oMyBlob = new Blob(fileData, {type : 'text/csv'}); // the blob        \n        window.open(URL.createObjectURL(oMyBlob));                \n        console.log(\"[Orus Sytem] Donwload is ok\");\n        setState({\n          ...state,\n          loading: false\n        });\n        window.Swal.fire({\n          title: \"Descargas\",\n          text: \"El archivo CSV fue generado correctamente\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      } else {\n        setState({\n          ...state,\n          loading: false\n        });\n        window.Swal.fire({\n          title: \"Descargas\",\n          text: \"El archivo CSV no se genero correctamente\",\n          icon: \"error\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n      }\n    };\n\n\n  const handleSync = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n    _store.getItems(context.options).then((res) => {\n      if (res) {\n        setState({\n          ...state,\n          items: res.data,\n          meta: res.meta,\n          loading: false,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    handleSync();\n  }, [context.options]);// eslint-disable-line react-hooks/exhaustive-deps\n  return (\n    <ListInbox\n      title=\"Lista de productos\"\n      icon=\"id-badge\"\n      color=\"primary\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.itemSelected?.id}\n      defaultSearch={context.options.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleDeleteItem={deleteItem}\n      handleEditItem={handleSelectItem}\n      handleDownload={handleDownload}\n      handleSync={handleSync}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Codigo</th>\n            <th>Describcin</th>\n            <th>Proveedor</th>\n            <th>Marca</th>\n            <th>Cant</th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.items.length ? (\n            <>\n              {state.items.map((item) => {\n                return (\n                  <tr key={item.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={item.id}\n                        id={\"item_\" + item.id}\n                        checked={\n                          state.itemSelected?.id === item.id ? true : false\n                        }\n                        onChange={({ target }) =>\n                          handleItemSelect(target, item)\n                        }\n                      />\n                      <label\n                        htmlFor={\"item_\" + item.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td className=\"icheck-primary\">\n                      <div className=\"badge badge-dark text-uppercase\">\n                        {item.code}\n                      </div>\n                    </td>\n                    <td className=\"mailbox-name text-capitalize text-truncate\">\n                      <a\n                        href=\"link\"\n                        onClick={(e) => handleSelectItem(e, item)}\n                        className=\"text-bold\"\n                      >\n                        {item.name}\n                      </a>\n                    </td>\n                    <td className=\"mailbox-attachment text-capitalize text-truncate text-muted\">\n                      <span>{item.supplier ? item.supplier.name : \"--\"}</span>\n                    </td>\n                    <td className=\"mailbox-attachment text-uppercase text-truncate text-muted\">\n                      <span>{item.brand ? item.brand.name : \"--\"}</span>\n                    </td>\n                    <td className=\"mailbox-date text-muted text-truncate text-right\">\n                      <span>{item.cant_total}</span>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"6\">\n                No hay productos registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </ListInbox>\n  );\n}\n","const verifyItem = (item) => {\n  if (item.cant <= 0) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"La cantidad debe de ser un valor valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n  if (!item.store_items_id) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"No se selecciono un producto valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n  if (!item.price) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"El precio no es valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n\n  return true;\n};\nconst handleVerifyData = (data, codeRef) => {\n  const {\n    category_id,\n    category_id1,\n    category_id2,\n    category_id4,\n    supplier,\n    brand_id,\n    code,\n  } = data;\n\n  if (!category_id) {\n    window.Swal.fire(\n      \"Verificacin\",\n      \"Selecione una categoria primero\",\n      \"warning\"\n    );\n    return false;\n  }\n\n  if (category_id) {\n    if (category_id1 === 1 && category_id4 !== category_id) {\n      window.Swal.fire(\n        \"Verificacin\",\n        \"Selecione una categoria valida para lentes\",\n        \"warning\"\n      );\n      return false;\n    } else if (category_id1 === 2 && category_id2 !== category_id) {\n      window.Swal.fire(\n        \"Verificacin\",\n        \"Selecione una categoria valida para armazones\",\n        \"warning\"\n      );\n      return false;\n    }\n  }\n\n  if (category_id1 === 2 && !supplier) {\n    window.Swal.fire(\n      \"Verificacin\",\n      \"Selecione un PROVEEDOR valido primero\",\n      \"warning\"\n    );\n    return false;\n  }\n  if (category_id1 === 2 && !brand_id) {\n    window.Swal.fire(\n      \"Verificacin\",\n      \"Selecione una MARCA valida primero\",\n      \"warning\"\n    );\n    return false;\n  }\n  if (!code && !codeRef.current.value) {\n    window.Swal.fire(\n      \"Verificacin\",\n      \"Escriba una CODIGO para este producto\",\n      \"warning\"\n    );\n    return false;\n  }\n\n  return true;\n};\nconst handleDeleteItem = (item, options, _delete, text) => {\n  if (item.id) {\n    //Check text\n    if (!text) text = `Esta seguro de eliminar el producto ${item.code}?`;\n    //delete confirm\n    window.Swal.fire({\n      text,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss && _delete) {\n        _delete({\n          id: item.id,\n          options,\n        });\n        return true;\n      }\n    });\n    return false;\n  }\n};\nconst handleSaveItem = (id, data, options, _save, _close, text) => {\n  if (!text) {\n    text = id\n      ? \"Esta seguro de actualizar el producto?\"\n      : \"Esta seguro de crear un nuevo producto?\";\n  }\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text,\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonColor: \"#007bff\",\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      //Save\n      _save({\n        id,\n        data,\n        options,\n      });\n      //close\n      if (_close) _close();\n    }\n  });\n};\nconst handleCatOne = (data) => ({\n    category_id: data.id,\n    category_id1: data.id,\n    category_id2: 0,\n    category_list2: data.hijos,\n    category_id3: 0,\n    category_list3: [],\n    category_id4: 0,\n    category_list4: [],\n    supplier: 0,\n  }),\n  handleCatTwo = (data) => ({\n    category_id: data.id,\n    category_id2: data.id,\n    category_id3: 0,\n    category_list3: data.hijos,\n    category_id4: 0,\n    category_list4: [],\n  }),\n  handleCatTree = (data) => ({\n    category_id: data.id,\n    category_id3: data.id,\n    category_id4: 0,\n    category_list4: data.hijos,\n  });\nconst handleCodeString = ( stringcode = \"armazon\", category, brand, code = \"\") => { \n\n\n    stringcode += category !== null ? \" \" + category.trim() : \"\";\n\n    stringcode += brand !== null  ? \" \" + brand.trim().replace(/\\s/gim, \"\"): \"\";\n\n    if (code) {\n      stringcode += \" \" + code.replace(/[\\s]+/gm, \"\");\n    }\n    return stringcode.toLowerCase();  \n  },\n\n\n  codeLentString = (string) => {\n    switch (string) {\n      case \"monofocales\":\n        return \"MF\";\n      case \"bifocales\":\n        return \"BF\";\n      case \"progresivo basico\":\n      case \"progresivo-basico\":\n        return \"PB\";\n      case \"progresivo digital\":\n      case \"progresivo-digital\":\n        return \"PD\";\n      case \"plastico\":\n        return \"CR\";\n      case \"policarbonato\":\n        return \"PL\";\n      case \"hi-index\":\n      case \"hi index\":\n        return \"HI\";\n      case \"antirreflejantes\":\n        return \"AR\";\n      case \"photo\":\n        return \"PH\";\n      case \"ar & photo\":\n      case \"antirreflejante-photo\":\n        return \"ARPH\";\n      case \"blanco\":\n        return \"BL\";\n      case \"polarizado\":\n        return \"PO\";\n      case \"bifocal invisible\":\n      case \"bifocal-invisible\":\n        return \"BI\";\n      case \"monofocal drivesafe\":\n      case \"monofocal-drivesafe\":\n      case \"monofocal digital drivesafe\":\n      case \"monofocal digital DriveSafe\":\n        return \"MDSF\";\n      case \"monofocal superb\":\n      case \"monofocal-superb\":\n      case \"monofocal digital superb\":\n        return \"MDSU\";\n      case \"monofocal individual\":\n      case \"monofocal-individual\":\n      case \"monofocal digital individual\":\n        return \"MDIN\";\n      default:\n        return \"XX\";\n    }\n  },\n  handleCodeLent = (grad, category1, category2, category3) => {\n    if (!category1 || !category2 || !category3) {\n      return \"\";\n    }\n\n    let stringcode =\n      category1 !== null\n        ? codeLentString(\n            category1\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n    stringcode +=\n      category2 !== null\n        ? codeLentString(\n            category2\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n    stringcode +=\n      category3 !== null\n        ? codeLentString(\n            category3\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n\n    return stringcode + grad.toString().trim().replace(/\\s/gim, \"\");\n  },\n\n\n  handleNameLent = (grad, category1, category2, category3) => {\n    if (!category1 || !category2 || !category3) {\n      return \"\";\n    }\n\n    let stringcode = \"\";\n\n    stringcode +=\n      category1 !== null\n        ? category1.trim()\n        : \"\";\n      \n    stringcode +=\n      category2 !== null\n        ? \" \" +\n          category2.trim()\n        : \"\";\n\n\n    stringcode +=\n      category3 !== null\n        ? \" \" +\n          category3.trim()\n        : \"\";\n\n    stringcode += \" \" + grad.toString();\n\n    return stringcode.toLowerCase();\n\n  };\n\nconst toExport = {\n  verifyItem,\n  handleDeleteItem,\n  handleVerifyData,\n  handleSaveItem,\n  handleCatOne,\n  handleCatTwo,\n  handleCatTree,\n  handleCodeString,\n  handleCodeLent,\n  codeLentString,\n  handleNameLent,\n};\n\nexport default toExport;\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useCategory() {\n  \n  const getCategories = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"categories\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get categories list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n\n  const getCategory = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"categories\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get category in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n  \n  const deleteCategory = async (id) => {\n    if (!id) return false;\n    \n    const url = setUrl(\"categories\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete category in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n  const saveCategory = async (data) => {\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"categories\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save category in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    } else {\n      const url = setUrl(\"categories\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save category in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    }\n  };\n\n  return {\n    getCategories,\n    getCategory,\n    deleteCategory,\n    saveCategory,\n  };\n}\n","import { useEffect, useState } from \"react\";\n//Hooks\nimport useCategory from \"../../hooks/useCategory\";\n\n//Components\nimport Input from \"../Input\";\n\nexport default function Categories(props) {\n  const _categories = useCategory();\n\n  const [state, setState] = useState({\n    categories: [],\n    cat1: 0,\n    cat2: 0,\n    cat3: 0,\n    cat4: 0,\n    catNameSelect: [],\n    load: true,\n  });\n\n  const input2 = state.categories.filter((cat) => cat.id === state.cat1)[0];\n  const input3 = input2?.sons?.filter((cat) => cat.id === state.cat2)[0];\n  const input4 = input3?.sons?.filter((cat) => cat.id === state.cat3)[0];\n  const input5 = input4?.sons?.filter((cat) => cat.id === state.cat4)[0];\n\n  // Functions\n  const getCategories = () => {\n    _categories\n      .getCategories({\n        categoryid: \"raiz\",\n      })\n      .then(({ data: cat }) => {\n        setState({\n          ...state,\n          categories: cat,\n          load: false,\n        });\n      });\n  };\n\n  const handleCodeName = (categories, select) => {\n    const cat = categories.filter((c) => c.id === select)[0];\n\n    if (cat?.codeName && cat.codeName.length) {\n      //TODO: To send fhater\n      props.handleSetCatName(cat.codeName);\n    }\n  };\n\n  const getCategory = (id) => {\n    _categories.getCategory(id).then((cat) => {\n      if (state.cat1 === parseInt(cat.code[0])) {\n        if (state.cat2 === parseInt(cat.code[1])) {\n          if (state.cat3 === parseInt(cat.code[2])) {\n            if (state.cat4 === parseInt(cat.code[3])) {\n              return;\n            }\n          }\n        }\n      }\n\n      setState({\n        ...state,\n        cat1: parseInt(cat.code[0]),\n        cat2: parseInt(cat.code[1]),\n        cat3: parseInt(cat.code[2]),\n        cat4: parseInt(cat.code[3]),\n        load: false,\n      });\n    });\n  };\n\n  const handleReturn = () => {\n    if (state.cat1 && input2 && !input2.sons?.length) {\n      return props.handleChange(state.cat1, input2.code);\n    } else if (props.category) {\n      if (state.cat1 && !state.cat2 && !state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat2 && input3 && !input3.sons?.length) {\n      return props.handleChange(state.cat2, input3.code);\n    } else if (props.category) {\n      if (state.cat1 && state.cat2 && !state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat3 && input4 && !input4.sons?.length) {\n      return props.handleChange(state.cat3, input4.code);\n    } else if (props.category) {\n      if (state.cat1 && state.cat2 && state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat4) {\n      return props.handleChange(state.cat4, input5?.code);\n    }\n  };\n\n  useEffect(() => {\n    if (!state.categories.length) {\n      getCategories();\n    }\n\n    handleReturn();\n  }, [state]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (state.categories.length && props.category) {\n      getCategory(props.category);\n    }\n  }, [state.categories, props.category]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div>\n      <Input\n        text=\"Seleccione una categoria principal\"\n        options={state.categories}\n        value={state.cat1}\n        load={state.load}\n        handleChange={(val) => {\n          handleCodeName(state.categories, val);\n          setState({ ...state, cat1: val, cat2: 0, cat3: 0, cat4: 0 });\n        }}\n      />\n\n      {Boolean(state.cat1) && Boolean(input2?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input2.name}`}\n          options={input2.sons}\n          value={state.cat2}\n          handleChange={(val) => {\n            handleCodeName(input2.sons, val);\n            setState({ ...state, cat2: val, cat3: 0, cat4: 0 });\n          }}\n        />\n      )}\n\n      {Boolean(state.cat2) && Boolean(input3?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input3.name}`}\n          options={input3.sons}\n          value={state.cat3}\n          handleChange={(val) => {\n            handleCodeName(input3.sons, val);\n            setState({ ...state, cat3: val, cat4: 0 });\n          }}\n        />\n      )}\n\n      {Boolean(state.cat2) && Boolean(input4?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input4.name}`}\n          options={input4.sons}\n          value={state.cat4}\n          handleChange={(val) => {\n            handleCodeName(input4.sons, val);\n            setState({ ...state, cat4: val });\n          }}\n        />\n      )}\n    </div>\n  );\n}\n","import {api, setUrl} from '../utils/url';\n\n\n\nexport default function useProducts(){\n    \n    //Funciones\n    const getProducts = async (searchBy)=> {\n        const url = setUrl('store', null, {search: searchBy});\n        return await api(url);\n    }\n\n\n    const getProductById = async (id)=>{\n        const url = setUrl('store', id);\n        return await api(url);\n    }\n\n    const getProductByCode = async(code, id) =>{\n        const url = setUrl('store', null, {code, id})\n        return await api(url);\n    }\n\n\n    const saveProduct = async(data)=>{\n        const {id} = data;\n        const url = setUrl('store');\n\n        if(id){\n            //PUT\n            return await api(url, 'PUT', data);\n        }else{\n            return await api(url, 'POST', data);\n        }\n    }\n\n    return {\n        getProducts, \n        getProductById,\n        getProductByCode,\n        saveProduct,\n    };\n}\n","import { useEffect, useState } from \"react\";\nimport useProducts from \"../../hooks/useProducts\";\n\nexport default function Code(props) {\n  const hookProducts = useProducts();\n  const [state, setState] = useState({\n    codeMessage: \"\",\n    codeStatus: \"empty\",\n    rendered: false,\n  });\n\n  useEffect(() => {\n    if (!props.code.length) {\n      setState({\n        ...state,\n        codeMessage: \"Cdigo vacio\",\n        codeStatus: \"empty\",\n      });\n    } else {\n      if (state.rendered) {\n        return null;\n      } else {\n        validCode();\n      }\n    }\n  }, [props.code]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    props.onChangeStatusCode(state.codeStatus);\n  }, [state.codeStatus]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const validCode = () => {\n    setState({\n      ...state,\n      codeMessage: \"Validando cdigo . . .\",\n      codeStatus: \"validating\",\n    });\n    hookProducts\n      .getProductByCode(props.code, props.id)\n      .then((data) => {\n        if (data.data.length) {\n          setState({\n            ...state,\n            codeMessage: \"Cdigo ya en uso\",\n            codeStatus: \"inUse\",\n            rendered: true,\n          });\n        } else {\n          setState({\n            ...state,\n            codeMessage: \"Cdigo disponible\",\n            codeStatus: \"available\",\n            rendered: true,\n          });\n        }\n      })\n      .catch((error) => console.log(error));\n  };\n\n  return (\n    <div className=\"input-group mb-3\">\n      <div className=\"input-group-prepend\">\n        <span\n          className={\n            state.codeStatus === \"empty\" || state.codeStatus === \"inUse\"\n              ? \"input-group-text bg-warning\"\n              : \"input-group-text bg-primary\"\n          }\n        >\n          <i className=\"fas fa-code\"></i>\n        </span>\n      </div>\n      <input\n        type=\"text\"\n        className=\"form-control text-uppercase\"\n        placeholder=\"Codigo\"\n        name=\"code\"\n        value={props.code}\n        onChange={({ target }) => {\n          const { value } = target;\n          props.onChangeProductCode(value);\n        }}\n        onBlur={() => {\n          if (props.type === \"lentes\") {\n            validCode();\n          } else {\n            validCode();\n            props.createName();\n          }\n        }}\n        autoComplete=\"off\"\n        maxLength=\"18\"\n      />\n      <span className=\"text-muted text-xs d-block w-100\">\n        {state.codeMessage}\n      </span>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useContext } from \"react\";\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\nexport default function BranchesSelect({ branch_default , showIcon = true, setBranchId }) {\n  \n  const configContext = useContext(ConfigContext);\n  const listBranches = configContext.data.filter((c) => c.name === \"branches\");\n  \n  return (\n    <div className=\"input-group mb-3\">\n      {showIcon && (\n        <div className=\"input-group-prepend\">\n          <span className=\"input-group-text bg-primary\">\n            <i className=\"fas fa-store-alt\"></i>\n          </span>\n        </div>\n      )}\n      <select\n        className=\"custom-select text-uppercase\"\n        name=\"branch_id\"\n        value={branch_default}\n        onChange={({ target }) => setBranchId(target)}\n      >\n        <option value=\"0\">-- Ninguna --</option> \n        {listBranches.map((branch)=>(\n           <option value={branch.id} key={branch.id}>\n           {branch.data.name}\n         </option> \n        ))}       \n      </select>\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\n//Hooks\nimport useStore from \"../../../hooks/useStore\";\n\nexport default function BranchesFormInputs({ inBranch, branchID, storeItemID }) {\n\n  const hookStore = useStore();\n\n  const [data, setData] = useState({\n    id: 0,\n    cant:0,\n    price: 1,\n    store_item_id: 0,\n    branch_id:0,\n    readyToSave: false,\n  });\n\n  const handleChangeInput = ({ name, value }) => {\n    let readyToSave = false;\n    if (name === \"cant\") {\n      value = parseInt(value);\n    } else {\n      value = parseFloat(value);\n    }\n\n    if (inBranch[name] !== value) {\n      readyToSave = true;\n    }\n    setData({\n      ...data,\n      readyToSave,\n      [name]: value,\n    });\n  };\n\n  const handleSaveInBranch = () => {\n    hookStore.saveQantityandPrice(data).then((data)=>{\n      if(data){\n      }else{\n        console.error(\"Error al guardar la informacion\");\n      }\n    });\n    setData({\n      ...data,\n      readyToSave: false,\n    });\n  };\n\n  useEffect(()=>{\n    setData({\n      id: inBranch.id ? inBranch.id : 0,\n      cant: inBranch.cant ? inBranch.cant : 0,\n      price: inBranch.price ? inBranch.price : 0,\n      readyToSave: false,\n      store_item_id: storeItemID,\n      branch_id: branchID,\n    });\n  }, [inBranch])// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col\">\n          <small>\n            <label>Cantidad en existencia</label>\n          </small>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text bg-primary\">\n                <i className=\"fas fa-database\"></i>\n              </span>\n            </div>\n            <input\n              type=\"number\"\n              className=\"form-control text-right\"\n              placeholder=\"Cantidades en existencia\"\n              name=\"cant\"\n              onChange={({ target }) => handleChangeInput(target)}\n              value={data.cant}\n              min={0}\n            />\n          </div>\n        </div>\n        <div className=\"col\">\n          <small>\n            <label>Precio</label>\n          </small>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text bg-primary\">\n                <i className=\"fas fa-money-bill\"></i>\n              </span>\n            </div>\n            <input\n              type=\"number\"\n              className=\"form-control text-right\"\n              placeholder=\"Precio\"\n              name=\"price\"\n              onChange={({ target }) => handleChangeInput(target)}\n              value={data.price}\n              min={0}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col text-right\">\n          <button\n            className={\n              !data.readyToSave ? \"btn btn-secondary\" : \"btn btn-success\"\n            }\n            type=\"button\"\n            onClick={handleSaveInBranch}\n            disabled={!data.readyToSave}\n          >\n            <i className=\"fas fa-save mr-1\"></i> Guardar\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useContext } from \"react\";\n\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\n//Components\nimport BranchesFormInputs from \"./BranchesFormInputs\";\n\nexport default function BranchesForm({ branches, storeItemID, defaultBranch }) {\n\n  const configContext = useContext(ConfigContext);\n  const configBranches = configContext.data.filter((c)=>c.name === 'branches');\n\n  return (\n    <form>\n\n      {defaultBranch === 0 ? \n        configBranches.map((branch) => {\n          const currentBranch = branches.filter((i)=> i.branch_id === branch.id )          \n          return (\n            <div className=\"card\" key={branch.id}>\n              <div className=\"card-header\">\n                <h5 className=\"card-title text-primary text-capitalize\">\n                  <i className=\"fas fa-store-alt mr-1\"></i> {branch.data.name}\n                </h5>\n              </div>\n              <div className=\"card-body\">\n              <BranchesFormInputs\n                inBranch={currentBranch[0] ?? {}}\n                branchID = {branch.id}\n                storeItemID = {storeItemID}\n              />\n              </div>\n            </div>\n          );\n        })      \n      :\n        configBranches.map((branch) => {\n          \n          const currentBranch = branches.filter((i)=> i.branch_id === branch.id );          \n\n          if(branch.id === defaultBranch){\n            return (\n              <div className=\"card\" key={branch.id}>\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-primary text-capitalize\">\n                    <i className=\"fas fa-store-alt mr-1\"></i> {branch.data.name}\n                  </h5>\n                </div>\n                <div className=\"card-body\">\n                <BranchesFormInputs\n                  inBranch={currentBranch[0] ?? {}}\n                  branchID = {branch.id}\n                  storeItemID = {storeItemID}\n                />\n                </div>\n              </div>\n            )\n          }else{ return null}\n        }         \n        )\n      }\n    </form>\n  );\n}","import { useEffect, useState, useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\n//Context\nimport { StoreContext } from \"../../context/StoreContext\";\n\n//Hooks\nimport useStore from \"../../hooks/useStore\";\n\n//Helper\nimport helper from \"../Store/helpers\";\n\n// Components\nimport CategoryInput from \"./Categories\";\nimport Suppliers from \"./Suppliers\";\nimport Brands from \"./Brands\";\nimport Code from \"./Code\";\nimport Activitys from \"../Activitys\";\nimport BranchesSelect from \"../../components/Store/views/BranchesSelect\";\nimport BranchesForm from \"../../components/Store/views/BranchesForm\";\n\nconst initialState = {\n  id: 0,\n  code: \"\",\n  codebar: \"\",\n  grad: \"\",\n  brand_id: 0,\n  name: \"\",\n  unit: \"PZ\",\n  cant: 1,\n  price: 1,\n  supplier_id: 0,\n  category_id: 0,\n  branch_default: 0,\n  data: {\n    category: \"\",\n    categories: [],\n    branches: [],\n    codes: [],\n    category_code: [],\n    activity: [],\n    codenames: [],\n    brandname: \"\",\n  },\n  codeStatus: \"empty\",\n  loading: false,\n  readyToSave: false,\n};\n\nexport default function Add(props) {\n  const storeContext = useContext(StoreContext);\n  const { id } = props.match.params;\n  const [state, setState] = useState(initialState);\n  const _store = useStore();\n  const { code, loading: LOADING } = state;\n  const history = useHistory();\n\n  // Functions\n  const saveProduct = () => {\n    const dataSend = {\n      ...state,\n    };\n\n    if (!dataSend.brand_id) {\n      delete dataSend.brand_id;\n    }\n\n    if (!dataSend.supplier_id) {\n      delete dataSend.supplier_id;\n    }\n\n    _store\n      .saveItem(dataSend)\n      .then((data) => {\n        if (data) {\n          const { id } = data.data;\n          window.Swal.fire({\n            title: \"Productos\",\n            text: \"Producto guardado correctamente\",\n            icon: \"success\",\n            showConfirmButton: false,\n            timerProgressBar: true,\n            showLoaderOnConfirm: true,\n            timer: 3000,\n          }).then(() => {\n            history.push(`/almacen/${id}`);\n          });\n        }\n      })\n      .catch((error) => {\n        window.Swal.fire({\n          title: \"Error al guardar el producto\",\n          text: error.errors.name[0],\n          icon: \"info\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"Cambiar nombre\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        });\n      });\n  };\n\n  const getItem = () => {\n    _store.getItem(id).then((res) => {\n      setState({\n        ...state,\n        id: res.id ? res.id : 0,\n        name: res.name ? res.name : \"\",\n        category_id: res.category?.id,\n        supplier_id: res.supplier?.id,\n        brand_id: res.brand?.id,\n        branch_default: res.branch_default ?? 0,\n        code: res.code ? res.code : \"\",\n        codebar: res.barcode ? res.barcode : \"\",\n        data: {\n          ...state.data,\n          category: res.category ? res.category : [],\n          inBranches: res.inBranches ? res.inBranches : \"\",\n          branches: res.branches ? res.branches : [],\n          activity: res.activity ? res.activity : [],\n        },\n        loading: false,\n      });\n    });\n  };\n\n  let readyToSave = false;\n\n  if (state.data.codenames[0] === \"lentes\") {\n    if (\n      state.category_id &&\n      state.code &&\n      state.codeStatus === \"available\" &&\n      state.name.length\n    ) {\n      readyToSave = true;\n    } else {\n      readyToSave = false;\n    }\n  } else {\n    if (\n      state.category_id &&\n      state.supplier_id &&\n      state.brand_id &&\n      state.code &&\n      state.codeStatus === \"available\" &&\n      state.name.length\n    ) {\n      readyToSave = true;\n    } else {\n      readyToSave = false;\n    }\n  }\n\n  useEffect(() => {\n    if (id) {\n      getItem();\n    }\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const getNameCodeDefault = (id, brandName) => {\n    const { code: currentCode, grad } = state;\n    const { codenames } = state.data;\n\n    // Make name\n    if (codenames[0] !== \"lentes\") {\n      // To other categories\n      const type =\n        codenames[0] !== null\n          ? codenames[0].trim().replace(/\\s/gim, \"\").slice(0, 7)\n          : \"\";\n\n      const name = helper.handleCodeString(\n        type === \"varios\" ? \"\" : type,\n        codenames[1],\n        brandName,\n        currentCode\n      );\n\n      setState({\n        ...state,\n        brand_id: id,\n        name: name,\n        data: {\n          ...state.data,\n          brandname: brandName,\n        },\n      });\n    } else {\n      const name = helper.handleNameLent(\n        grad,\n        codenames[1],\n        codenames[2],\n        codenames[3]\n      );\n\n      const code = helper.handleCodeLent(\n        grad,\n        codenames[1],\n        codenames[2],\n        codenames[3]\n      );\n\n      if (!state.grad) {\n        setState({\n          ...state,\n          name: name,\n        });\n      } else {\n        setState({\n          ...state,\n          name: name,\n          code: code,\n        });\n      }\n    }\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title text-primary text-bold\">\n              <i className=\"fas fa-database mr-1\"></i>\n              {id ? `Editar producto (${code})` : \"Registrar nuevo producto\"}\n            </h3>\n          </div>\n          <form className=\"card-body\" autoComplete=\"off\">\n            <div className=\"row\">\n              <div className=\"col\">\n                <fieldset>\n                  <small className=\"mr-2\">\n                    <label>Categoria</label>\n                  </small>\n\n                  <CategoryInput\n                    category={state.category_id}\n                    handleChange={(id, code, name) => {\n                      setState({\n                        ...state,\n                        category_id: id,\n                        data: {\n                          ...state.data,\n                          category_code: code,\n                        },\n                      });\n                    }}\n                    handleSetCatName={(codenames) => {\n                      setState({\n                        ...state,\n                        data: {\n                          ...state.data,\n                          codenames,\n                        },\n                        loading: false,\n                      });\n                    }}\n                  />\n                </fieldset>\n              </div>\n            </div>\n\n            {Boolean(state.data.category_code.length) &&\n              !state.data.category_code.includes(\"1\") && (\n                <Suppliers\n                  supplier={state.supplier_id}\n                  handleChangeSupplier={(id) => {\n                    setState({\n                      ...state,\n                      supplier_id: id,\n                      brand_id: 0,\n                    });\n                  }}\n                />\n              )}\n\n            {Boolean(state.supplier_id) && (\n              <Brands\n                brand={state.brand_id}\n                supplier={state.supplier_id}\n                textSelect=\"Selecione la marca\"\n                handleChangeBrand={(id, brandName) => {\n                  setState({\n                    ...state,\n                    brand_id: id,\n                    data: {\n                      ...state.data,\n                      brandname: brandName,\n                    },\n                  });\n                  //getNameCodeDefault(id, brandName);\n                }}\n              />\n            )}\n\n            {state.category_id ? (\n              <>\n                <div className=\"row\">\n                  {state.data.category_code.includes(\"1\") && (\n                    <div className=\"col-3\">\n                      <small>\n                        <label>Graduacion</label>\n                      </small>\n                      <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                          <span className=\"input-group-text bg-primary\">\n                            <i className=\"fas fa-glasses\"></i>\n                          </span>\n                        </div>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          placeholder=\"+100100\"\n                          defaultValue={state.grad}\n                          onChange={({ target }) =>\n                            setState({ ...state, grad: target.value })\n                          }\n                          onBlur={() => {\n                            getNameCodeDefault();\n                          }}\n                          maxLength=\"7\"\n                          autoComplete=\"off\"\n                        />\n                      </div>\n                    </div>\n                  )}\n                  <div className=\"col\">\n                    {state.unit ? (\n                      <small>\n                        <label>Unidad de presentacion</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span\n                          className={\n                            state.unit\n                              ? \"input-group-text bg-primary\"\n                              : \"input-group-text bg-warning\"\n                          }\n                        >\n                          <i className=\"fas fa-balance-scale\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Unidad de presentacin\"\n                        defaultValue={state.unit}\n                        onChange={({ target }) =>\n                          setState({ ...state, unit: target.value })\n                        }\n                        maxLength=\"4\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">\n                    {state.code ? (\n                      <small>\n                        <label>Codigo</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n\n                    <Code\n                      code={state.code}\n                      id={state.id}\n                      type={state.data.codenames[0]}\n                      createName={() =>\n                        getNameCodeDefault(state.brand_id, state.data.brandname)\n                      }\n                      onChangeStatusCode={(status) => {\n                        setState({\n                          ...state,\n                          codeStatus: status,\n                        });\n                      }}\n                      onChangeProductCode={(codeReceibed) => {\n                        if (codeReceibed?.length > 18) {\n                          return;\n                        }\n\n                        setState({\n                          ...state,\n                          code: codeReceibed.replace(\" \", \"\"),\n                        });\n                      }}\n                    />\n                  </div>\n                  <div className=\"col\">\n                    <small>\n                      <label>Codigo de barras</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-primary\">\n                          <i className=\"fas fa-barcode\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Codigo de barras\"\n                        name=\"codebar\"\n                        defaultValue={state.codebar}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            codebar: target.value,\n                          });\n                        }}\n                        autoComplete=\"off\"\n                        maxLength=\"100\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col\">\n                    {state.name ? (\n                      <small>\n                        <label>Nombre del producto</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span\n                          className={\n                            state.name\n                              ? \"input-group-text bg-primary\"\n                              : \"input-group-text bg-warning\"\n                          }\n                        >\n                          <i className=\"fas fa-archive\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control text-uppercase\"\n                        placeholder=\"Nombre\"\n                        name=\"name\"\n                        defaultValue={state.name}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            name: target.value,\n                          });\n                        }}\n                        maxLength=\"149\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <div className=\"row\">\n                <div className=\"col\">\n                  <h6 className=\"text-warning\">\n                    Seleccione primero una categora.\n                  </h6>\n                </div>\n              </div>\n            )}\n          </form>\n          <div className=\"card-footer text-right\">\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <div className=\"btn-group\" role=\"group\">\n                  <Link\n                    to=\"/almacen\"\n                    className=\"btn btn-default\"\n                    onClick={() => {\n                      storeContext.set({\n                        ...storeContext,\n                        panel: \"inbox\",\n                      });\n                    }}\n                  >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                    {id ? \"Cerrar\" : \"Cancelar\"}\n                  </Link>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      saveProduct();\n                    }}\n                    className={\"btn btn-primary\"}\n                    disabled={!readyToSave}\n                    /* disabled={state.data.codenames[0] === \"lentes\" ? readyToSave : !readyToSave} */\n                  >\n                    <i className=\"fas fa-save mr-1\"></i>\n                    Guardar\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          {LOADING && (\n            <div className=\"overlay dark\">\n              <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n            </div>\n          )}\n        </div>\n      </div>\n      {id ? (\n        <div className=\"col\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <div className=\"card card-primary card-outline\">\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-primary\">\n                    Sucursal por defecto\n                  </h5>\n                </div>\n                <div className=\"card-body\">\n                  <BranchesSelect\n                    branch_default={state.branch_default}\n                    showIcon={false}\n                    setBranchId={(target) => {\n                      const { value } = target;\n                      setState({\n                        ...state,\n                        branch_default: parseInt(value),\n                      });\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col\">\n              <BranchesForm\n                branches={state.data.branches}\n                storeItemID={state.id}\n                defaultBranch={state.branch_default}\n              />\n            </div>\n          </div>\n        </div>\n      ) : null}\n\n      {state.data.activity.length ? (\n        <div className=\"col-lg-12\">\n          <Activitys data={state.data.activity} />\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React, { useEffect, useState, useContext } from \"react\";\nimport useCategory from \"../../../hooks/useCategory\";\nimport { StoreContext } from \"../../../context/StoreContext\";\n\n\nexport default function CategoryListComponent(props){\n\n  const hookCategory = useCategory();\n  \n  const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\n  const storeContext = useContext(StoreContext);\n\n  const [state, setState] = useState({\n    id: 0,\n    meta: {},\n    dd: false,\n    name: \"\",\n    category_raiz: [],\n    category_id: props.category,\n    page: 1,\n    host: ls.host,\n    token: ls.token,\n    load: false,\n  });\n\n  const { category_raiz, category_id, name, add } = state, { loading: load } = props;\n\n  useEffect(()=>{\n\n    const { categoryData = [] } = props;\n\n    if (categoryData) {\n      setState({\n        ...state, \n        category_raiz: categoryData,\n      });\n    }\n  },[props])// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const handleClickAdd = () => {\n    setState({\n      ...state,\n      add: !state.add,\n      name: \"\",\n    });\n  };\n\n  const handleSelectCategory = (cat) => {\n\n    const { last, categorySelect: _categorySelect } = props, { category_raiz } = state;\n\n    if (last) return false;\n    if (!cat.sons || (cat.sons && !cat.sons.length)) return false;\n\n    _categorySelect({\n      category_id: cat.id,\n      category_data: category_raiz,\n    });\n\n    setState({\n      ...state, \n      category_id: cat.id,\n    });\n  };\n\n  const handleClickDelete = (id, name) => {\n    if (id) {\n      //const { _delete } = this.props;\n      /* const item = { id }, options = { categoryid: \"raiz\" },\n      text =\n      \"Esta seguro de eliminar la categoria: \" + name.toUpperCase() + \"?\"; */\n\n      //Ejecutar hook para eliminar la categoria\n      hookCategory.deleteCategory(id).then((data)=>{\n        if(data){\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Categoria eliminada correctamente',\n            icon: \"success\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              storeContext.set({\n                ...storeContext,\n                panel:\"inbox\",\n              })\n            }\n          });\n        }else{\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Error al eliminar la categoria',\n            icon: \"error\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          })\n        }\n      })\n      //helper.handleDeleteItem(item, options, _delete, text);\n    }\n  };\n\n\n const catchInputs = (e) => {\n    const { name, value } = e.target;\n    setState({\n      ...state, \n      [name]: value.toLowerCase(),\n    });\n  };\n\n\n  const handleClickSave = () => {\n    //Verificamos campos validos\n    if (state.name.length < 4) {\n      window.Swal.fire(\n        \"Verificacin\",\n        \"Debe de escribir el nombre de la categoria\",\n        \"warning\"\n      );\n      //this.nameInput.focus();\n      return false;\n    }\n\n    const { category_id, name } = state;\n    const data = { name, category_id: category_id};\n    //const { _save } = this.props;\n    \n    //const options = { categoryid: \"raiz\" };\n\n   /*  const text = id\n        ? \"Esta seguro de actualizar la categoria?\"\n        : \"Esta seguro de crear una nueva categoria?\",\n      _close = () => {\n        setState({\n          ...state,\n          name: \"\",\n          category_id: 0,\n          add: false,\n        });\n      };\n */\n\n      hookCategory.saveCategory(data).then((data)=>{\n        if(data){\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Categoria guardada correctamente',\n            icon: \"success\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              storeContext.set({\n                ...storeContext,\n                panel:\"inbox\",\n              })\n            }\n          });\n        }else{\n          window.Swal.fire(\n            \"Categorias\",\n            \"Error al guardar la categoria\",\n            \"error\"\n          );\n        }\n      });\n\n      \n\n\n    //helper.handleSaveItem(id, data, options, _save, _close, text);\n  };\n\n\n\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-body\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>Nombre</th>\n              <th style={{ width: 48 }}></th>\n            </tr>\n          </thead>\n          <tbody>\n            {category_raiz.length ? (\n              <React.Fragment>\n                {category_raiz.map((cat) => {                  \n                  return (\n                    <tr key={cat.id}>\n                      <td className=\"text-capitalize\">\n                        <a\n                          href={\"#select!\" + cat.id}\n                          onClick={(e) => {\n                            e.preventDefault();\n                            handleSelectCategory(cat);\n                          }}\n                          className={\n                            cat.sons && cat.sons.length\n                              ? \"text-primary\"\n                              : \"text-dark\"\n                          }\n                        >\n                          {cat.name}\n                        </a>\n                      </td>\n                      <td className=\"btn-group\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-default\"\n                          disabled={true}\n                          title=\"Proximamente\"\n                        >\n                          <i className=\"fas fa-edit\"></i>\n                        </button>\n                        <button\n                          type=\"button\"\n                          title=\"Eliminar\"\n                          className={\n                            cat.hijos && cat.hijos.length\n                              ? \"btn btn-outline-secondary btn-sm\"\n                              : \"btn btn-outline-danger btn-sm\"\n                          }\n                          onClick={(e) => {\n                            handleClickDelete(cat.id, cat.name);\n                          }}\n                          disabled={cat.hijos && cat.hijos.length}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </React.Fragment>\n            ) : (\n              <tr>\n                <td colSpan=\"8\" className=\"text-center\">\n                  <span className=\"mr-3\">Cargando categorias </span>\n                  <div className=\"spinner-border text-primary\" role=\"status\">\n                    <span className=\"sr-only\">Cargando ...</span>\n                  </div>\n                </td>\n              </tr>\n            )}\n          </tbody>\n          {add && !load ? (\n            <tfoot>\n              <tr>\n                <td>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    className=\"form-control text-uppercase\"\n                    autoComplete=\"off\"\n                    value={name}\n                    onChange={catchInputs}\n                    ref={(input) => {\n                      //this.nameInput = input;\n                    }}\n                  />\n                </td>\n                <td>\n                  <button\n                    className=\"btn btn-dark btn-sm\"\n                    onClick={handleClickSave}\n                    disabled={name.length < 3}\n                    title=\"Guardar categoria\"\n                  >\n                    <i className=\"fas fa-save\"></i>\n                  </button>\n                </td>\n              </tr>\n            </tfoot>\n          ) : null}\n        </table>\n      </div>\n      <div className=\"card-footer text-right\">\n        <button\n          className={\n            add\n              ? \"btn btn-secondary btn-sm text-bold\"\n              : \"btn btn-primary btn-sm\"\n          }\n          onClick={handleClickAdd}\n          disabled={!category_id}\n          title={add ? \"Cancelar\" : \"Crear nueva categoria\"}\n        >\n          {add ? (\n            <>\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </>\n          ) : (\n            <>\n              <i className=\"fas fa-plus mr-1\"></i>\n              Agregar\n            </>\n          )}\n        </button>\n      </div>\n    </div>\n  );\n}\n\n","import React, { useState, useEffect } from \"react\";\n//Components\nimport Catalogo from \"../components/Store/data/Category_list\";\nimport useCategory from \"../hooks/useCategory\";\n\nexport default function CategoriesStoreComponent(){\n\n  const hookCategory = useCategory();\n\n  const [state, setState] = useState({\n    category_id: 0,\n    category_data: [],\n  })\n\n  const { category_id, category_data } = state;\n  \n  let category_view_sons = category_data, category_current = {};\n  \n  if (category_id) {\n    const category_cache = category_data.filter(\n      (cat) => cat.id === category_id\n    );\n\n    if (category_cache.length) {\n      category_current = category_cache[0];\n      if (category_current && category_current.sons) {\n        category_view_sons = category_current.sons;\n      }\n    }\n  }\n\n  const handleLoadCategories = () => {\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data){\n        setState({\n          ...state,\n          category_data: data.data,\n        })\n      }else{\n        console.error(\"Error al obtener la lista de categorias\");\n      }\n    })\n  };\n\n  const handleChangeState = (data) => {\n    setState(data);\n  };\n\n\n  const handleClickParent = (e) => {\n    if (e) e.preventDefault();\n\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data){\n        setState({\n          category_data: data.data,\n          category_id: null,\n        });\n      }else{\n        console.error(\"Error al obtener la lista de categorias\");\n      }\n    })\n  };\n\n  useEffect(()=>{\n    handleLoadCategories();\n  },[]);// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  return (\n    <div className=\"row\" style={{minHeight:'100vh'}}>\n      <div className=\"col-8\">\n        <nav>\n          <ol className=\"breadcrumb\">\n            { state.category_id ? (\n              <>\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                  <a href=\"#link\" onClick={handleClickParent}>\n                    Raiz\n                  </a>\n                </li>\n                {category_current.id ? (\n                  <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                    {category_current.name}\n                  </li>\n                ) : null}\n              </>\n            ) : (\n              <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                Seleccione una categoria para ver su contenido\n              </li>\n            )}\n          </ol>\n        </nav>\n        <Catalogo\n          category={category_id}\n          categoryData={category_view_sons ?? []}\n          categorySelect={handleChangeState}\n        />\n      </div>\n    </div>\n  );\n}\n\n\n","export default function BrandsList({\n  brands,\n  handleEdit = null,\n  handleDelete = null,\n}) {\n  return (\n    <ul className=\"card-text list-group\">\n      {!brands.length ? (\n        <li className=\"list-group-item\">  \n          <p className=\"text-danger\">\n            <i className=\"fas fa-info-circle mr-1\"></i>\n            No exiten marcas para este proveedor!\n          </p>\n        </li>\n      ) : (\n        brands.map((brand) => {\n          return (\n            <li\n              className=\"list-group-item d-flex justify-content-between align-items-center\"\n              key={brand.id}\n            >\n              <span className=\"text-dark text-uppercase text-truncate\">\n                <i className=\"fas fa-thumbtack mr-1\"></i>\n                {brand.name}\n              </span>\n              \n              <div>\n                {handleEdit && (\n                  <span\n                    className=\"badge badge-dark badge-pill py-1 mr-2\"\n                    style={{ cursor: \"pointer\" }}\n                    title=\"Editar\"\n                    onClick={() => handleEdit(brand)}\n                  >\n                    <i className=\"fas fa-edit\"></i>\n                  </span>\n                )}\n\n                {handleDelete && (\n                  <span\n                    className=\"badge badge-danger badge-pill py-1\"\n                    style={{ cursor: \"pointer\" }}\n                    title=\"Eliminar\"\n                    onClick={() => handleDelete(brand)}\n                  >\n                    <i className=\"fas fa-trash\"></i>\n                  </span>\n                )}\n              </div>\n            </li>\n          );\n        })\n      )}\n    </ul>\n  );\n}\n","import React, {useState, useEffect, useContext } from \"react\";\nimport useStore from \"../hooks/useStore\";\nimport { StoreContext } from \"../context/StoreContext\";\n\n//Components\nimport Suppliers from \"../components/Store/Suppliers\";\nimport BrandsList from \"../components/Store/data/BrandsList\";\n\n\nexport default function BrandsComponent(){\n\n  const storeHook = useStore();\n\n  const storeContext = useContext(StoreContext);\n\n  const [state, setState] = useState({\n    id: null,\n    supplier: 0,\n    brands: [],\n    name: \"\",\n    loading: false,\n  });\n\n  useEffect(()=>{\n    getBrands();\n  },[state.supplier]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const getBrands = () => {\n    const { supplier } = state;\n    if (supplier) {\n      storeHook.getBrands({supplier, order: \"name\"}).then((data)=>{ \n        if(data){\n          setState({\n            ...state,\n            brands: data.data,\n          })\n        }else{\n          console.error(\"Error al obtener la lista de marcas\");\n        }\n      })\n    }\n  };\n\n  const handleCancelBtn = () => {\n    setState({\n      ...state, \n      name: \"\",\n      id: null,\n    });\n  };\n\n  const saveBrand = (e) => {\n    e.preventDefault();\n    const {  name, supplier } = state, data = { name, contact_id: supplier};\n\n    if (name.length < 3) {\n      window.Swal.fire(\n        \"Error\",\n        \"El nombre de la marca debe de tener por lo menos 3 caracteres\",\n        \"error\"\n      );\n      return false;\n    } else if (!supplier) {\n      window.Swal.fire(\n        \"Error\",\n        \"Debe de elegir a un proveedor primero\",\n        \"error\"\n      );\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"Esta seguro de CREAR un nuevo producto?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        storeHook.saveBrand(data).then((data)=>{\n          if(data){\n            window.Swal.fire({\n              title: \"Almacenamiento\",\n              text: \"Producto almacenado correctamente\",\n              icon:'success',\n              showCancelButton: false,\n              confirmButtonColor: \"#007bff\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n            })\n          }\n          else{\n            console.error(\"Error al guardar la data enviada\");\n          }\n        })\n\n        storeContext.set({\n          ...storeContext,\n          panel: 'inbox',\n        })\n\n        setState({\n          ...state, \n          name: \"\",\n          id: null,\n        });\n      }\n    });\n  };\n\n  const prevEdit = (brand) => {\n    setState({\n      ...state, \n      name: brand.nombre,\n      id: brand.id,\n    });\n  };\n\n  const deleteBrand = (id, item) => {\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"Esta seguro de eliminar la marca \" + item.toUpperCase() + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        storeHook.deleteBrand(id).then((data)=>{\n          if(data === true){\n            window.Swal.fire({\n              title:'Marcas',\n              text:'Marca eliminada correctamente',\n              icon:'success',\n              showCancelButton: false,\n              confirmButtonColor: \"#007bff\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n\n            })\n          }\n          else{\n            window.Swal.fire({\n              title:'Marcas',\n              text:'Error al eliminar la marca',\n              icon:'error',\n              showCancelButton: false,\n              confirmButtonColor: \"#d33\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n\n            })\n          }\n        })\n        storeContext.set({\n          ...storeContext,\n          panel: 'inbox',\n        })\n      }\n    });\n  };\n  \n  const changeInput = ({ name, value }) => {\n    setState({\n      ...state, \n      [name]: value.toLowerCase(),\n    });\n  };\n\n  const { id, supplier, name } = state;\n\n  const { loading } = state;\n\n  return (\n    <div className=\"row\" style={{minHeight:'100vh'}}>\n      <div className = {supplier ? \"col-lg-6\" : \"col-lg-12\"}>\n        <div className=\"card card-primary card-outline\">\n          <h5 className=\"card-title mt-2 ml-2 text-bold\">\n            Marcas para productos\n          </h5>\n          <div className=\"card-body\">\n            <Suppliers\n              supplier={supplier}\n              handleChangeSupplier={(id) => {\n                setState({\n                  ...state, \n                  supplier: id,\n                  brands: id ? state.brands : [],\n                });\n              }}\n            />\n            {!state.brands.length && (\n              <p className=\"card-text\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Para iniciar, primero seleccione a un proveedor\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {supplier ? (\n        <div className=\"col\">\n          <div className=\"card card-primary card-outline\">\n            <div className=\"card-body\">\n              <h5 className=\"card-title text-dark mb-4 text-bold\">\n                Listado de marcas\n              </h5>\n              <BrandsList\n                brands={state.brands}\n                handleEdit={(brand) => prevEdit(brand)}\n                handleDelete={(brand) => {\n                  deleteBrand(brand.id, brand.name);\n                }}\n              />\n            </div>\n            <div className=\"card-footer\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control mr-1\"\n                  name=\"name\"\n                  value={name}\n                  onChange={({ target }) => changeInput(target)}\n                />\n                <div className=\"btn-group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-default\"\n                    disabled={!name}\n                    onClick={handleCancelBtn}\n                  >\n                    <i className=\"fas fa-eraser\"></i>\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={id ? \"btn btn-success\" : \"btn btn-primary\"}\n                    onClick={saveBrand}\n                    disabled={!name}\n                  >\n                    <i className=\"fas fa-save\"></i>\n                  </button>\n                </div>\n              </div>\n            </div>\n            {loading ? (\n              <div className=\"overlay dark\">\n                <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\n\n","import { useState } from \"react\";\nimport useStore from \"../../../hooks/useStore\";\n\nfunction SetQantityModal({item, handleClose, handleUpdateItems}) {\n\n  const [cantidad, setCantidad] = useState(0);\n  const hookStore = useStore();\n\n  const saveQantity = ()=>{\n\n    const data = {\n      product_id: item.id,\n      //branch_default: state.item.branch_default,\n      cant: cantidad,\n    };\n\n    hookStore.saveQantity(data).then((data)=>{\n      if(data){\n        handleClose(data.data);\n      }\n      else{\n        console.error(\"Error al guardar la cantidad\");\n      }\n    })\n  };\n\n    return (\n        <div className=\"modal d-block\" tabIndex=\"-1\">\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">Asignar Cantidad</h5>\n              <button type=\"button\" className=\"close\" onClick={handleClose}>\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n  \n            <div className=\"modal-body p-2\">\n                <h5 className=\"text-center mt-2 mb-3\"><span class=\"badge badge-info\">{item.name.toUpperCase()}</span></h5>\n                <h6 className=\"text-center font-weight-bold\">Cantidad actual: <span className=\"font-weight-normal\">{item.cant}</span></h6>\n                <div className=\"\">\n                    <label>Cantidad</label>\n                    <input \n                        name = \"price\" \n                        type=\"number\" \n                        defaultValue={0} \n                        className=\"form-control\" \n                        placeholder=\"Cantidad\" \n                        onChange={(e)=>setCantidad(e.target.value)}                        \n                    />\n                </div>                        \n            </div>\n  \n            <div className=\"modal-footer\">\n             <button type=\"button\" className=\"btn btn-default\" onClick={handleClose}>\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n              </button>\n  \n              <button type=\"button\" className=\"btn btn-success\" disabled = { cantidad <= 0 || cantidad === '0' || !cantidad ? true : false} onClick={saveQantity}>\n                Asignar\n              </button>\n            </div>\n  \n          </div>\n        </div>\n      </div>\n    );\n  }\n  \n  export default SetQantityModal;\n  \n\n\n\n ","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SetQantityModal from \"./SetQantityModal\";\n\nexport default function InventoryTableView({ header, body, itemsProp }) {\n  const [state, setState] = useState({\n    item: {},\n    showModal: false,\n    items: [],\n  });\n\n  const handleUpdateItems = (newItem) => {\n    const items = [...state.items];\n\n    items.forEach((item) => {\n      if (item.id === newItem.id) {\n        item.cant = newItem.cant;\n      }\n    });\n\n    setState({\n      ...state,\n      items: items,\n      showModal: false,\n    });\n  };\n\n  useEffect(() => {\n    setState({\n      ...state,\n      items: itemsProp,\n    });\n  }, []);\n\n  return (\n    <div className=\"table-responsive\" style={{ height: \"100vh\" }}>\n      <table className=\"table table-sm table-bordered table-hover\">\n        <thead>\n          <tr>\n            <th>/</th>\n            {header}\n          </tr>\n        </thead>\n        <tbody>\n          {body.map((row, i) => {\n            const zero = row.props.children.type === \"label\" ? true : false;\n            return (\n              <tr className={zero ? \"table-secondary\" : \"\"} key={i}>\n                {row}\n                {header.map((h, i) => {\n                  let grad = zero\n                    ? parseFloat(row.props.children.props.children)\n                        .toFixed(2)\n                        .replace(\".\", \"\")\n                    : parseFloat(row.props.children)\n                        .toFixed(2)\n                        .replace(\".\", \"\");\n                  if (parseInt(grad) >= 0) grad = \"+\" + grad;\n                  grad += parseFloat(h.props.children)\n                    .toFixed(2)\n                    .replace(/[-.]/g, \"\");\n\n                  return (\n                    <td key={grad + i} className=\"text-center\">\n                      {state.items.length ? (\n                        state.items.map((item, index) => {\n                          return grad === item.grad ? (\n                            <div key={index}>\n                              {item.cant_total ? (\n                                <span\n                                  onClick={() => {\n                                    setState({\n                                      ...state,\n                                      item: item,\n                                      showModal: true,\n                                    });\n                                  }}\n                                  style={{ cursor: \"pointer\" }}\n                                  title={item.grad}\n                                  key={item.id + index}\n                                  className={\n                                    item.cant > 0\n                                      ? \"badge badge-success\"\n                                      : \"badge badge-danger\"\n                                  }\n                                >\n                                  {item.cant}\n                                </span>\n                              ) : null}\n                            </div>\n                          ) : null;\n                        })\n                      ) : (\n                        <Link to=\"/almacen/registro\">\n                          <i className=\"fas fa-plus text-secondary\"></i>\n                        </Link>\n                      )}\n                    </td>\n                  );\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n\n      {state.showModal ? (\n        <SetQantityModal item={state.item} handleClose={handleUpdateItems} />\n      ) : null}\n    </div>\n  );\n}\n","import { useState } from \"react\";\n\nfunction SetPriceModal({\n  category,\n  handleSave: _handleSave,\n  handleClose: _close,\n}) {\n  const [showLoader, setShowLoader] = useState(false);\n  const [price, setPrice] = useState(0);\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Asignar Precio</h5>\n            <button onClick={_close} type=\"button\" className=\"close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n          <div className=\"modal-body p-2\">\n            {showLoader ? (\n              <div className=\"text-center\">\n                <h4 className=\"text-primary\">Asignando precios </h4>\n                <div className=\"spinner-border text-primary ml-4\" role=\"status\">\n                  <span className=\"sr-only\">Cargando ...</span>\n                </div>\n              </div>\n            ) : (\n              <div className=\"d-flex flex-column justify-content-start align-items-start\">\n                <h5 className=\"text-center mt-2 mb-3\">\n                  <span className=\"badge badge-info\">\n                    {category.toUpperCase()}\n                  </span>\n                </h5>\n                <label>Precio</label>\n                <input\n                  onChange={({ target }) => {\n                    const { value } = target;\n                    setPrice(value);\n                  }}\n                  name=\"price\"\n                  type=\"number\"\n                  defaultValue={price}\n                  className=\"form-control\"\n                  placeholder=\"Precio\"\n                />\n              </div>\n            )}\n          </div>\n\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={_close}\n              disabled={showLoader ? true : false}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n\n            <button\n              disabled={showLoader || !price || price === \"0\" ? true : false}\n              type=\"button\"\n              className=\"btn btn-success\"\n              onClick={() => {\n                _handleSave(price);\n                setShowLoader(true);\n              }}\n            >\n              Asignar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SetPriceModal;\n","import React, { useState, useEffect } from \"react\";\nimport InventoryTableView from \"../components/Store/views/Inventory_table\";\nimport SetPriceModal from \"../components/Store/views/SetPriceModal\";\n\n//Hooks\nimport useCategory from \"../hooks/useCategory\";\nimport useStore from \"../hooks/useStore\";\n\n//Context\n// import { AuthContext } from \"../context/AuthContext\";\n\nexport default function Inventory() {\n  // const authContext = useContext(AuthContext);\n\n  const [state, setState] = useState({\n    catData_1: [],\n    catData_2: [],\n    catData_3: [],\n    catid_1: 0,\n    catid_2: 0,\n    catid_3: 0,\n    load: false,\n    items: [],\n    meta: {},\n    price: 0,\n  });\n  const [modal, setModal] = useState(false);\n\n  const hookCategory = useCategory();\n  const hookStore = useStore();\n\n  const header = [];\n  const body = [];\n\n  let i = 0;\n  do {\n    header.push(<th key={i}>{i.toFixed(2)}</th>);\n    i = i - 0.25;\n  } while (i > parseFloat(state.meta.cil) - 0.25);\n\n  i = parseFloat(state.meta.rangoInf);\n  do {\n    if (i === 0)\n      body.push(\n        <td>\n          <label>0.00</label>\n        </td>\n      );\n    else body.push(<td>{i.toFixed(2)}</td>);\n    i = i + 0.25;\n  } while (i < parseFloat(state.meta.rangoSup) + 0.25);\n\n  const disabled = state.items.length !== 0 ? false : true;\n\n  const handleModal = () => {\n    setModal(!modal);\n  };\n\n  const savePriceGlobal = (price) => {\n    hookStore\n      .saveGlobalPrice({\n        price,\n        productCategoryId: state.catid_3,\n      })\n      .then((data) => {\n        handleModal();\n        if (data) {\n          window.Swal.fire({\n            title: \"Productos\",\n            text: \"Precio asignado correctamente\",\n            icon: \"success\",\n            showCancelButton: false,\n            confirmButtonColor: \"#007bff\",\n            confirmButtonText: \"OK\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              console.log(\"[DEBUG] Show message ok\");\n            }\n          });\n        } else {\n          console.error(\"Error en la cosulta\");\n          window.Swal.fire({\n            title: \"Productos\",\n            text: \"Erro al guardar el precio global\",\n            icon: \"error\",\n            showCancelButton: false,\n            confirmButtonColor: \"#007bff\",\n            confirmButtonText: \"OK\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              console.log(\"[DEBUG] Show message failer\");\n            }\n          });\n        }\n      });\n  };\n\n  const getItems = async (catid) => {\n    const { load } = state;\n    const filters = {\n      cat: catid,\n      itemsPage: 500,\n    };\n    //Cargando\n    if (!load) {\n      setState({\n        ...state,\n        load: true,\n      });\n    }\n\n    hookStore.getItems(filters).then((data) => {\n      if (data) {\n        const noGraduationData = data.data.filter(\n          (item) => item.grad !== \"+000000\"\n        );\n        setState({\n          ...state,\n          items: noGraduationData ? noGraduationData : [],\n          catid_3: catid,\n          load: false,\n        });\n      } else {\n        console.error(\"Error al obtener la lista de productos\");\n        setState({\n          ...state,\n          load: false,\n        });\n      }\n    });\n  };\n\n  const handleClickCat = (e) => {\n    const { name, value } = e.target;\n    const { catData_1, catData_2 } = state;\n    let sons = [];\n    let meta = {};\n\n    if (name === \"catid_1\") {\n      catData_1.map((cat) => {\n        if (cat.id === parseInt(value)) {\n          sons = cat.sons;\n          meta = cat.meta;\n          return true;\n        } else return false;\n      });\n\n      setState({\n        ...state,\n        catid_1: parseInt(value),\n        catid_2: 0,\n        catid_3: 0,\n        catData_2: sons,\n        catData_3: [],\n        meta,\n      });\n    } else if (name === \"catid_2\") {\n      catData_2.map((cat) => {\n        if (cat.id === parseInt(value)) {\n          sons = cat.sons;\n          return true;\n        } else return false;\n      });\n\n      setState({\n        ...state,\n        catid_2: parseInt(value),\n        catid_3: 0,\n        catData_3: sons,\n      });\n    }\n  };\n\n  const getCategories = () => {\n    hookCategory.getCategories({ categoryid: \"raiz\" }).then((data) => {\n      if (data && data.data) {\n        setState({\n          ...state,\n          catid_1: 5,\n          meta: data.data[0].meta,\n          catData_1: data.data[0].sons,\n          catData_2: data.data[0].sons[0].sons,\n        });\n      } else {\n        console.error(\"Error al descargar categoras\");\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n      }\n    });\n  };\n\n  useEffect(() => {\n    getCategories();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"row\" style={{ height: \"1000px\" }}>\n      <div className=\"col\">\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <div className=\"d-flex justify-content-around align-items-center\">\n              <div className=\"col-lg-3\">\n                <select\n                  className=\"custom-select\"\n                  name=\"catid_2\"\n                  value={state.catid_2}\n                  onChange={handleClickCat}\n                >\n                  <option value=\"0\">Seleccione un material</option>\n                  {state.catData_2.map((cat) => {\n                    return (\n                      <option key={cat.id} value={cat.id}>\n                        {cat.name}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n\n              {state.catid_2 && state.catData_3.length ? (\n                <div className=\"col-lg-9 d-flex justify-content-around align-items-center\">\n                  <div\n                    className=\"btn-group col-lg-8\"\n                    role=\"group\"\n                    aria-label=\"Basic example\"\n                    style={{ height: \"3rem\" }}\n                  >\n                    {state.catData_3.map((cat) => {\n                      return (\n                        <button\n                          key={cat.id}\n                          className={\n                            state.catid_3 === cat.id\n                              ? \"btn btn-primary\"\n                              : \"btn btn-secondary\"\n                          }\n                          onClick={(e) => {\n                            getItems(cat.id);\n                            setState({\n                              ...state,\n                              catid_3: cat.id,\n                              load: true,\n                            });\n                          }}\n                        >\n                          {cat.name}\n                        </button>\n                      );\n                    })}\n                  </div>\n                  <div className=\"col-lg-4 d-flex flex-column align-items-center justify-content-center\">\n                    <p>Total de productos: {state.items.length}</p>\n                    <button\n                      disabled={disabled}\n                      className=\"btn btn-success bg-success\"\n                      onClick={handleModal}\n                    >\n                      Asignar Precio\n                      <i className=\"fas fa-money-bill ml-2\"></i>\n                    </button>\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          </div>\n\n          <div className=\"card-body\">\n            {state.catid_3 ? (\n              <React.Fragment>\n                {state.load ? (\n                  <div className=\"text-center\">\n                    <span className=\"text-primary\">Cargando productos</span>\n                    <div\n                      className=\"spinner-border text-primary ml-4\"\n                      role=\"status\"\n                    >\n                      <span className=\"sr-only\">Cargando ...</span>\n                    </div>\n                  </div>\n                ) : (\n                  <React.Fragment>\n                    <div className=\"row mb-2\">\n                      <div className=\"col mt-2\"></div>\n                      <div className=\"col\"></div>\n                      <div className=\"col-6\">\n                        <div className=\"row\"></div>\n                      </div>\n                    </div>\n\n                    {modal && (\n                      <SetPriceModal\n                        handleClose={handleModal}\n                        handleSave={savePriceGlobal}\n                        category={(() => {\n                          const cat1 = state.catData_1.filter(\n                            (item) => item.id === state.catid_1\n                          );\n                          const cat2 = state.catData_2.filter(\n                            (item) => item.id === state.catid_2\n                          );\n                          const cat3 = state.catData_3.filter(\n                            (item) => item.id === state.catid_3\n                          );\n                          const name = `${cat1[0].name} / ${cat2[0].name} / ${cat3[0].name}`;\n\n                          return `${name}`;\n                        })()}\n                      />\n                    )}\n\n                    <InventoryTableView\n                      header={header}\n                      body={body}\n                      itemsProp={state.items}\n                    />\n                  </React.Fragment>\n                )}\n              </React.Fragment>\n            ) : (\n              <div className=\"alert alert-warning text-light\" role=\"alert\">\n                <h4 className=\"alert-heading\">\n                  <i className=\"fas fa-exclamation\"></i> Seleccion.\n                </h4>\n                <hr />\n                <ul>\n                  {/* {!state.catid_1 ? (\n                      <li>Selecciones primero el tipo de lente</li>\n                    ) : null} */}\n                  {!state.catid_2 ? <li>Seleccione el material</li> : null}\n                  <li>Por ultimo el tratamiento</li>\n                </ul>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { Store } from \"../../../context/StoreContext\";\n\nexport default function FormEntries({\n  state,\n  setState,\n  brands,\n  itemSearch,\n  searchFn,\n}) {\n  const context = Store();\n\n  const [alert, setAlert] = useState({\n    status: false,\n    class: \"danger\",\n    message: \"\",\n  });\n  const [braDef, setBraDef] = useState({ status: false, branch_id: null });\n\n  const handleSetName = () => {\n    const category = context.cats.filter((cat) => cat.id === state.category_id);\n    const category_name = category[0].name;\n    const brand = brands.filter((bra) => bra.id === state.brand_id);\n    const brand_name = brand[0].name;\n    const name =\n      \"Armazon \" + category_name + \" \" + brand_name + \" \" + state.code;\n\n    console.log(\"[Orus System] Set name:\", name);\n    handleSetPrice(name);\n  };\n  const handleSetPrice = (name) => {\n    if (itemSearch?.id) {\n      const branch_selected = itemSearch.branch_default\n        ? itemSearch.branch_default\n        : state.branch_id;\n      const branch = itemSearch.branches.filter(\n        (b) => b.branch_id === branch_selected\n      )[0];\n      if (branch && branch.price) {\n        const {\n          code: { codeNameCategory },\n        } = itemSearch.category;\n        if (codeNameCategory[0] === \"armazones\") {\n          console.log(\"[Orus System] set price from branch:\", branch.price);\n          const data = {\n            ...state,\n            price: parseFloat(branch.price),\n          };\n          if (name) data.name = name;\n\n          setState(data);\n        }\n      }\n    } else if (name) {\n      setState({\n        ...state,\n        name,\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (!itemSearch) return;\n\n    if (itemSearch.branch_default && !braDef.status) {\n      setBraDef({\n        status: true,\n        branch_id: itemSearch.branch_default,\n      });\n      setState({\n        ...state,\n        branch_id: itemSearch.branch_default,\n      });\n    }\n\n    if (state.price && state.cost) {\n      if (state.cost > state.price) {\n        setAlert({\n          status: true,\n          message: \"El costo no puede se mayor al precio.\",\n        });\n        setState({\n          ...state,\n          used: true,\n        });\n        return;\n      }\n    }\n\n    if (state.category_id) {\n      const {\n        category: { code },\n      } = itemSearch;\n\n      if (code.codeNameCategory[0] !== \"armazones\") {\n        setAlert({\n          status: true,\n          message: \"Este codigo esta siendo usado en otra categoria.\",\n          class: \"danger\",\n        });\n        setState({\n          ...state,\n          used: true,\n        });\n        return;\n      }\n    }\n\n    if (state.supplier_id) {\n      const { supplier } = itemSearch;\n\n      if (supplier.id !== state.supplier_id) {\n        setAlert({\n          status: true,\n          message: \"Este CODIGO de armazon esta asignado a otro proveedor\",\n          class: \"warning\",\n        });\n        setState({\n          ...state,\n          used: false,\n        });\n        return;\n      }\n    }\n\n    setAlert({\n      status: false,\n      message: \"\",\n      class: \"danger\",\n    });\n    setState({\n      ...state,\n      used: false,\n    });\n    return;\n  }, [itemSearch?.id, state.category_id, state.cost]);\n\n  return (\n    <>\n      {alert.status && (\n        <div className={\"alert alert-\" + (alert.class ?? \"danger\") + \" w-100\"}>\n          <h6>\n            <i className=\"fas fa-exclamation-triangle mr-1\"></i>\n            {alert.message}\n          </h6>\n        </div>\n      )}\n      <div className=\"row\">\n        <div className=\"form-group col-4\">\n          <label htmlFor=\"code\">Codigo</label>\n          <input\n            type=\"text\"\n            className=\"form-control text-uppercase\"\n            placeholder=\"Codigo del producto\"\n            value={state.code ?? \"\"}\n            maxLength=\"18\"\n            onChange={({ target: { value } }) =>\n              setState({ ...state, code: value.toLowerCase().replace(\" \", \"\") })\n            }\n          />\n        </div>\n\n        <div className=\"form-group col-8\">\n          <label htmlFor=\"code\">Codigo de barras</label>\n          <input\n            type=\"text\"\n            className=\"form-control text-uppercase\"\n            placeholder=\"Codigo de barras\"\n            defaultValue={state.codeBar ?? \"\"}\n            onChange={({ target: { value } }) =>\n              setState({ ...state, codeBar: value.toLowerCase() })\n            }\n          />\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"form-group col\">\n          <label htmlFor=\"code\">Categoria</label>\n          <select\n            className=\"form-control text-uppercase\"\n            defaultValue={state.category_id ?? \"\"}\n            onChange={({ target: { value } }) =>\n              setState({ ...state, category_id: parseInt(value) })\n            }\n            disabled={(() => {\n              // console.log(\"[DEBUG] codes:\", state.code, state.codeBar);\n              if (state.codeBar?.length > 10) {\n                return false;\n              }\n              if (state.code?.length > 3) {\n                return false;\n              }\n\n              return true;\n            })()}\n            onBlur={() => {\n              const code = (Math.random() + 1).toString(36).substring(7);\n              if (!state.code) {\n                setState({\n                  ...state,\n                  code,\n                });\n              }\n              searchFn(!state.code ? code : state.code);\n            }}\n          >\n            <option>-- Seleccione uno --</option>\n            {context.cats.map((cat) => (\n              <option key={cat.id} value={cat.id}>\n                {cat.name}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"form-group col\">\n          <label htmlFor=\"code\">Marca</label>\n          <select\n            className=\"form-control text-uppercase\"\n            defaultValue={state.brand_id ?? \"\"}\n            onChange={({ target: { value } }) =>\n              setState({ ...state, brand_id: parseInt(value) })\n            }\n            disabled={!state.category_id}\n            onBlur={handleSetName}\n          >\n            <option>\n              --{\" \"}\n              {brands.length\n                ? \"Seleccione una marca\"\n                : \"Primero seleccione un proveedor\"}{\" \"}\n              --\n            </option>\n\n            {brands.map((brand) => (\n              <option key={brand.id} value={brand.id}>\n                {brand.name}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"form-group col-5\">\n          <label htmlFor=\"code\">Sucrusal</label>\n          <select\n            className=\"form-control text-uppercase\"\n            value={braDef.status ? braDef.branch_id : state.branch_id ?? \"\"}\n            onChange={({ target: { value } }) =>\n              setState({ ...state, branch_id: parseInt(value) })\n            }\n            disabled={!state.brand_id || braDef.status}\n            onBlur={() => handleSetPrice()}\n          >\n            <option>-- Seleccione uno --</option>\n            {context.branches.map((br) => (\n              <option key={br.id} value={br.id}>\n                {br.name}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"form-group col-7\">\n          <label htmlFor=\"code\">Descripcion</label>\n          <input\n            type=\"text\"\n            min={1}\n            className=\"form-control text-uppercase\"\n            placeholder=\"Descripcion del producto\"\n            value={state.name ?? \"\"}\n            onChange={({ target: { value } }) =>\n              setState({ ...state, name: value.toLowerCase() })\n            }\n            disabled={!state.brand_id}\n          />\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"form-group col-3\">\n          <label htmlFor=\"code\">Cantidad</label>\n          <input\n            type=\"number\"\n            min={1}\n            className=\"form-control text-uppercase\"\n            placeholder=\"Cantidad inicial\"\n            defaultValue={state.cant ?? \"\"}\n            onChange={({ target: { value } }) =>\n              setState({ ...state, cant: parseInt(value) })\n            }\n            disabled={!state.branch_id}\n          />\n        </div>\n\n        <div className=\"form-group col-3\">\n          <label htmlFor=\"code\">Precio</label>\n          <input\n            type=\"number\"\n            min={1}\n            className=\"form-control text-uppercase\"\n            placeholder=\"Cantidad inicial\"\n            value={state.price ?? \"\"}\n            onChange={({ target: { value } }) =>\n              setState({ ...state, price: parseFloat(value) })\n            }\n            disabled={!state.branch_id}\n          />\n        </div>\n\n        <div className=\"form-group col-3\">\n          <label htmlFor=\"code\">Costo</label>\n          <input\n            type=\"text\"\n            min={1}\n            className=\"form-control text-uppercase\"\n            placeholder=\"Descripcion del producto\"\n            defaultValue={state.cost ?? \"\"}\n            onChange={({ target: { value } }) =>\n              setState({ ...state, cost: parseFloat(value) })\n            }\n            disabled={!state.price}\n            onBlur={() => {}}\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { Store } from \"../../context/StoreContext\";\nimport useStore from \"../../hooks/useStore\";\nimport FormEntries from \"./views/FormEntries\";\nimport { Auth } from \"../../context/AuthContext\";\n\nexport default function ModalComponents({\n  handleCancel: _handleCancel,\n  handleAdd: _handleAdd,\n  supplier_id,\n}) {\n  const context = Store();\n  const user = Auth().auth;\n  const hookStore = useStore();\n  const [brands, setBrands] = useState([]);\n  const [confirm, setConfirm] = useState(false);\n  const [load, setLoad] = useState(false);\n  const [itemSearch, setItemSearch] = useState(null);\n  const [state, setState] = useState({\n    id: Date.now(),\n    code: \"\",\n    codeBar: \"\",\n    category_id: \"\",\n    brand_id: \"\",\n    branch_id: user.branch.id,\n    cant: 1,\n    name: \"\",\n    price: 0,\n    cost: 0,\n    saved: false,\n    cantAdd: false,\n    used: false,\n  });\n  const handleSearchItem = (search) => {\n    return hookStore\n      .getItems({\n        search,\n      })\n      .then((res) => {\n        const items = res.data.filter((i) => i.code === state.code);\n        const item = items.length ? items[0] : null;\n        setItemSearch(item);\n        return item;\n      });\n  };\n\n  useEffect(() => {\n    console.log(\"[Orus System] Selected supplier id:\", supplier_id);\n    console.log(\"[Orus System] Branch id default:\", user.branch.id);\n    if (!supplier_id) {\n      setBrands([]);\n      return;\n    }\n\n    const supplierSelected = context.suppliers.filter(\n      (sup) => sup.id === supplier_id\n    );\n\n    if (supplierSelected && !supplierSelected.length) {\n      console.log(\n        \"[Orus System] Not found supplier from list:\",\n        supplierSelected\n      );\n      setBrands([]);\n      return;\n    }\n\n    const brands = supplierSelected[0].brands;\n    setBrands(brands);\n  }, []);\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-dark text-bold text-capitalize\">\n              Agregar nuevo armazon\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={_handleCancel}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            <FormEntries\n              state={state}\n              setState={setState}\n              brands={brands}\n              itemSearch={itemSearch}\n              searchFn={handleSearchItem}\n            />\n          </div>\n          <div className=\"modal-footer\">\n            {confirm ? (\n              <div className=\"alert alert-warning w-100\">\n                <div className=\"row\">\n                  <div className=\"col-9\">\n                    El <strong>codigo</strong> ya se encuentra registrado.{\" \"}\n                    <br />\n                    <strong>\n                      Desea agregar las cantidades a este Armazon?\n                    </strong>\n                  </div>\n                  <div className=\"col-3 text-rigth\">\n                    <button\n                      className=\"btn btn-dark\"\n                      onClick={() => _handleAdd(state)}\n                    >\n                      Confirmar\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"btn-group\">\n                <button\n                  className=\"btn btn-dark\"\n                  onClick={() => _handleCancel()}\n                >\n                  <i className=\"fas fa-ban mr-1\" />\n                  Cancelar\n                </button>\n                <button\n                  className=\"btn btn-primary\"\n                  onClick={() => {\n                    setLoad(true);\n                    if (itemSearch) {\n                      const branches = itemSearch.branches.filter(\n                        (b) => b.branch_id === state.branch_id\n                      );\n                      const branch = branches.length ? branches[0] : null;\n\n                      if (branch) {\n                        console.log(\"[Orus System] Sent confirm\");\n                        setState({\n                          ...state,\n                          saved: true,\n                        });\n                        setConfirm(true);\n                        setLoad(false);\n                        return itemSearch;\n                      }\n                    }\n\n                    console.log(\"[Orus System] Add new item\");\n                    _handleAdd(state);\n                    return;\n                  }}\n                  disabled={(() => {\n                    if (\n                      load ||\n                      !state.brand_id ||\n                      !state.branch_id ||\n                      !state.cant ||\n                      state.cant < 1 ||\n                      !state.name ||\n                      state.name.length < 8 ||\n                      state.price < 1 ||\n                      state.used\n                    ) {\n                      return true;\n                    }\n\n                    if (state.price < state.cost) {\n                      return true;\n                    }\n                    return false;\n                  })()}\n                >\n                  <i className=\"fas fa-plus mr-1\" />\n                  {load ? \"Guardando...\" : \"Agregar\"}\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { Store } from \"../../../context/StoreContext\";\n\nexport default function StoreEntriesTr({ item, newRow, supplier_id }) {\n  const ctx = Store();\n  const cat = ctx.cats.filter((c) => c.id === item.category_id)[0];\n  const supplier = ctx.suppliers.filter((s) => s.id === supplier_id)[0];\n  const brand = supplier.brands.filter((b) => b.id === item.brand_id)[0];\n  const branch = ctx.branches.filter((b) => b.id === item.branch_id)[0];\n\n  return (\n    <tr className={newRow && newRow === item.id ? \"bg-info\" : \"\"}>\n      <td>\n        {item.code.toUpperCase()}\n        {item.codeBar && (\n          <>\n            {\" \"}\n            / <i className=\"fas fa-barcode\"></i> {item.codeBar.toUpperCase()}\n          </>\n        )}\n      </td>\n      <td\n        className={\n          newRow && newRow === item.id\n            ? \"small\"\n            : item.saved\n            ? \"text-warning small\"\n            : \"text-secondary small\"\n        }\n      >\n        {item.name.toUpperCase()}\n      </td>\n      <td className={item.cantAdd ? \"font-weight-bold\" : \"\"}>{item.cant}</td>\n      <td>$ {item.price}</td>\n      <td className=\"text-capitalize\">{cat.name}</td>\n      <td className=\"text-capitalize\">{brand.name}</td>\n      <td className=\"text-capitalize\">{branch.name}</td>\n      <td>\n        <i className=\"fas fa-trash text-danger\"></i>\n      </td>\n    </tr>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { Store } from \"../../../context/StoreContext\";\n\nexport default function FormEntriesInvoice({ state, setState }) {\n  const context = Store();\n  const [btnStatus, setBtnStatus] = useState(true);\n\n  const handleShowList = () => {\n    if (state.invoice && state.supplier_id) {\n      setState({\n        ...state,\n        showList: true,\n      });\n      setBtnStatus(false);\n    } else if (btnStatus) {\n      setBtnStatus(true);\n    }\n  };\n\n  useEffect(() => {\n    if (!state.invoice || !state.supplier_id) {\n      setBtnStatus(true);\n    }\n  }, [state.invoice, state.supplier_id]);\n\n  return (\n    <div className=\"row\">\n      <div className=\"form-group col\">\n        <label className=\"mr-2\" htmlFor=\"code\">\n          Nmero de factura\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control text-uppercase\"\n          placeholder=\"Ej: FAC2023001\"\n          id=\"code\"\n          value={state.invoice ?? \"\"}\n          maxLength=\"50\"\n          onChange={({ target: { value } }) =>\n            setState({ ...state, invoice: value.toLowerCase() })\n          }\n          onBlur={handleShowList}\n          onKeyPress={({ key }) => key === \"Enter\" && handleShowList}\n        />\n      </div>\n\n      <div className=\"form-group col\">\n        <label htmlFor=\"code\">Proveedor</label>\n        <select\n          className=\"form-control text-uppercase\"\n          value={state.supplier_id ?? \"\"}\n          onChange={({ target: { value } }) =>\n            setState({ ...state, supplier_id: parseInt(value) })\n          }\n          onBlur={handleShowList}\n          disabled={!btnStatus}\n        >\n          {/* Load suppliers */}\n          <option>-- Seleccione uno --</option>\n          {context.suppliers.map((sup) => (\n            <option key={sup.id} value={sup.id}>\n              {sup.name}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {btnStatus && (\n        <div className=\"form-group col-2 pt-4\">\n          <button className=\"btn btn-dark mt-1\">Empezar</button>\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n// import FormEntries from \"../components/Store/FormEntries\";\nimport Modal from \"../components/Store/StoreEntriesArmModal\";\nimport useStore from \"../hooks/useStore\";\nimport Tr from \"../components/Store/views/StoreEntriesTr\";\nimport FormInvoice from \"../components/Store/views/FormEntriesInvoice\";\n\nexport default function StoreEntriesArm() {\n  const initialState = {\n    invoice: \"\",\n    supplier_id: \"\",\n    items: [],\n    showList: false,\n    btnStatus: false,\n    showModal: false,\n    showLoader: false,\n  };\n  const store = useStore();\n  const [state, setState] = useState({ ...initialState });\n  const [newRow, setNewRow] = useState(null);\n  const saveItems = () => {\n    window.Swal.fire({\n      title: \"Almacen\",\n      html: `Se va a guardar los datos de la factura: <strong>${state.invoice.toUpperCase()}</strong><br/> Realmente desea realizar esta accin?`,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonText: \"Guardar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (dismiss === \"cancel\") {\n        return false;\n      }\n\n      const items = [...state.items];\n\n      for (let i = 0; i < items.length; i++) {\n        items[i].invoice = state.invoice;\n        items[i].supplier_id = state.supplier_id;\n        delete items[i].saved;\n        delete items[i].cantAdd;\n        delete items[i].id;\n        delete items[i].used;\n      }\n\n      setState({\n        ...state,\n        showLoader: true,\n      });\n\n      store\n        .saveItemByList(items)\n        .then((res) => {\n          window.Swal.fire({\n            title: \"Almacen\",\n            text: \"Productos almacenados con exito\",\n            icon: \"success\",\n            timer: 2500,\n          });\n\n          console.log(\"[DEBUG] Send items\", items);\n          setState({\n            numFactura: \"\",\n            btnStatus: false,\n            showList: false,\n            items: [],\n          });\n        })\n        .catch((err) => console.error(\"Error when save items:\", err.message));\n    });\n  };\n\n  useEffect(() => {\n    // console.log(\"[DEBUG] Items useEffect:\", state.items);\n    let btnStatus = true;\n    const itemsValid = state.items.filter(\n      (i) => i.id && i.branch_id && i.cant && i.price && i.price >= i.cost\n    );\n\n    if (!Boolean(state.invoice)) {\n      btnStatus = false;\n    }\n\n    if (!itemsValid.length) {\n      btnStatus = false;\n    }\n\n    if (state.btnStatus !== btnStatus) {\n      setState({\n        ...state,\n        btnStatus,\n      });\n    }\n  }, [state.items, state.invoice]);\n\n  return (\n    <>\n      <div className=\"row\" style={{ height: \"100vh\" }}>\n        <div className=\"col-12\">\n          <div className=\"card card-primary card-outline\">\n            <div className=\"card-header\">\n              <h5 className=\"card-title mt-2 ml-2 text-bold\">\n                Entradas de armazones por lote\n              </h5>\n            </div>\n\n            <div className=\"card-body\">\n              <FormInvoice state={state} setState={setState} />\n\n              {state.showList && (\n                <table className=\"table table-sm\">\n                  <thead>\n                    <tr>\n                      <th>Codigos</th>\n                      <th>Descripcion</th>\n                      <th>Cant</th>\n                      <th>Precio</th>\n                      <th>Categoria</th>\n                      <th>Marca</th>\n                      <th>Suc</th>\n                      <th>{\"\"}</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {state.items.map((item) => (\n                      <Tr\n                        item={item}\n                        key={item.id}\n                        newRow={newRow}\n                        supplier_id={state.supplier_id}\n                      />\n                    ))}\n                  </tbody>\n                </table>\n              )}\n            </div>\n            {state.showList && (\n              <div className=\"card-footer text-right\">\n                <div className=\"btn-group\">\n                  <button\n                    className=\"btn btn-dark\"\n                    alt=\"Agregar una linea nueva\"\n                    onClick={() => setState({ ...state, showModal: true })}\n                  >\n                    <i className=\"fas fa-plus mr-1\" /> Armazon\n                  </button>\n                  <button\n                    className=\"btn btn-secondary\"\n                    alt=\"Agregar una linea nueva\"\n                    onClick={() => setState({ ...initialState })}\n                  >\n                    <i className=\"fas fa-ban mr-1\" /> Cancelar\n                  </button>\n                  <button\n                    className=\"btn btn-success\"\n                    onClick={saveItems}\n                    disabled={!state.btnStatus}\n                  >\n                    <i className=\"fas fa-save mr-1\" />\n                    Enviar\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {(state.showLoader || state.showModal) && (\n              <div className=\"overlay\">\n                <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      {state.showModal && (\n        <Modal\n          supplier_id={state.supplier_id}\n          handleCancel={() => setState({ ...state, showModal: false })}\n          handleAdd={(item) => {\n            const items = [...state.items];\n            const itemCode = items.filter(\n              (i) => i.code === item.code && i.branch_id === item.branch_id\n            );\n\n            if (itemCode.length) {\n              console.log(\"[Orus System] Update item\");\n              items.forEach((i) => {\n                if (i.code === item.code && i.branch_id === item.branch_id) {\n                  i.cant += item.cant;\n                  i.cantAdd = !i.cantAdd;\n                }\n              });\n            } else {\n              console.log(\"[Orus System] Add new item\");\n              items.push(item);\n            }\n\n            setNewRow(item.id);\n            setTimeout(() => setNewRow(null), 1000);\n            setState({ ...state, items: items, showModal: false });\n          }}\n        />\n      )}\n    </>\n  );\n}\n","import { useEffect, useState } from \"react\";\n\n// Context\nimport { StoreContext } from \"../context/StoreContext\";\n\n// Components\nimport ToolBar from \"../components/Store/ToolBar\";\nimport Inbox from \"../components/Store/Inbox\";\nimport Add from \"../components/Store/Add\";\nimport Categories from \"./StoreCategories\";\nimport Brands from \"./StoreBrand\";\nimport Inventory from \"./StoreInventory\";\nimport Entries from \"./StoreEntriesArm\";\n// Hooks\nimport CatHook from \"../hooks/useCategory\";\nimport ContHook from \"../hooks/useContact\";\nimport ConfigHook from \"../hooks/useConfig\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  search: \"\",\n  itemsPage: 25,\n  supplier: \"\",\n  brand: \"\",\n  zero: \"false\",\n};\n\nexport default function Store(props) {\n  const [state, setState] = useState({\n    panel: \"\",\n    cats: [],\n    suppliers: [],\n    branches: [],\n    options: optionsDefault,\n  });\n  const categories = CatHook();\n  const contacts = ContHook();\n  const config = ConfigHook();\n  const { id } = props.match.params;\n\n  const handleGetCategories = async () => {\n    return await categories\n      .getCategories({ search: \"armazones\" })\n      .then(({ data }) => {\n        const dataFilter = data.filter((cat) => cat.name === \"armazones\");\n        return dataFilter[0].sons;\n      });\n  };\n  const handleGetSuppliers = async () => {\n    return await contacts\n      .getContacts({ type: 1, business: 0 })\n      .then(({ data }) => {\n        const filters = data.filter((row) => row.brands && row.brands.length);\n\n        return filters;\n      });\n  };\n  const handleGetBranchs = async () => {\n    return await config.get({ itemsPage: 100 }).then(({ data }) => {\n      const filters = data.filter((row) => row.name === \"branches\");\n      const branches = filters.map((row) => ({ ...row.data, id: row.id }));\n\n      return branches;\n    });\n  };\n  const handleSet = async (panel) => {\n    const cats = await handleGetCategories();\n    const suppliers = await handleGetSuppliers();\n    const branches = await handleGetBranchs();\n\n    setState({\n      ...state,\n      cats,\n      suppliers,\n      panel,\n      branches,\n    });\n  };\n\n  useEffect(() => {\n    let panel = \"inbox\";\n\n    if (id) {\n      if (!isNaN(id)) {\n        panel = \"neworedit\";\n      } else {\n        switch (id?.toLowerCase()) {\n          case \"categorias\":\n            panel = \"category\";\n            break;\n          case \"marcas\":\n            panel = \"brands\";\n            break;\n          case \"inventario\":\n            panel = \"inventory\";\n            break;\n          case \"entradas\":\n            panel = \"entries\";\n            break;\n          default:\n            panel = \"inbox\";\n        }\n      }\n    }\n    handleSet(panel);\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <StoreContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{ minHeight: \"100vh\" }}>\n        <div className=\"col-sm-12 col-md-2\">\n          <button\n            className=\"btn bg-primary btn-block mb-3\"\n            type=\"button\"\n            disabled={state.panel !== \"inbox\"}\n            onClick={() => setState({ ...state, panel: \"neworedit\" })}\n          >\n            <i className=\"fas fa-plus mr-1\"></i>\n            Nuevo producto\n          </button>\n          <ToolBar />\n        </div>\n        <div className=\"col-sm-12 col-md-10\">\n          {state.panel === \"inbox\" && <Inbox />}\n          {state.panel === \"neworedit\" && <Add {...props} />}\n          {state.panel === \"category\" && <Categories></Categories>}\n          {state.panel === \"brands\" && <Brands></Brands>}\n          {state.panel === \"inventory\" && <Inventory></Inventory>}\n          {state.panel === \"entries\" && <Entries></Entries>}\n        </div>\n      </div>\n    </StoreContext.Provider>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useConfig() {\n  const get = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"config\", null, options);\n\n    return await api(url, \"GET\")\n      .then((res) => res)\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get Configs list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n  return {\n    get,\n  };\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const ContactContext = createContext(null);\nexport const Contacts = () => useContext(ContactContext);\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useHistory } from \"react-router-dom\";\n\nimport SideBar from \"../../pages/partials/SideBar\";\nimport { Contacts } from \"../../context/ContactContext\";\n\nexport default function ToolBarContact({\n  newOrEdit = false,\n  handleNewOrEdit: _handleNewOrEdit,\n}) {\n  const context = Contacts();\n  const history = useHistory();\n\n  return (\n    <div className=\"col-sm-12 col-md-2\">\n      <button\n        className=\"btn bg-indigo btn-block mb-3\"\n        type=\"button\"\n        disabled={newOrEdit}\n        onClick={() => _handleNewOrEdit()}\n      >\n        <i className=\"fas fa-plus mr-1\"></i>\n        Nuevo contacto\n      </button>\n      <SideBar title={newOrEdit ? \"Menu\" : \"Filtros\"}>\n        {!newOrEdit ? (\n          <>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"type\">Tipo</label>\n              <select\n                className=\"form-control \"\n                name=\"type\"\n                id=\"type\"\n                value={context.options?.type}\n                onChange={({ target }) => {\n                  const value = parseInt(target.value);\n\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      type: !isNaN(value) ? value : \"\",\n                    },\n                  });\n                }}\n              >\n                <option value=\"\">-- Todos --</option>\n                <option value=\"0\">Clientes</option>\n                <option value=\"1\">Proveedores</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"orderby\">Ordenar por</label>\n              <select\n                className=\"form-control \"\n                name=\"orderby\"\n                id=\"orderby\"\n                value={context.options?.orderby}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      orderby: target.value,\n                    },\n                  });\n                }}\n              >\n                <option value=\"created_at\">Fecha de registro</option>\n                <option value=\"updated_at\">Fecha de modificacion</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"order\">Mostrar por</label>\n              <select\n                className=\"form-control \"\n                name=\"order\"\n                id=\"order\"\n                value={context.options?.order}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      order: target.value,\n                    },\n                  });\n                }}\n              >\n                <option value=\"asc\">Antiguos</option>\n                <option value=\"desc\">Recientes</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"itemsPage\">Numero de contactos</label>\n              <select\n                className=\"form-control \"\n                name=\"itemsPage\"\n                id=\"itemsPage\"\n                value={context.options?.itemsPage}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      itemsPage: parseInt(target.value),\n                    },\n                  });\n                }}\n              >\n                <option value=\"25\">ver 25</option>\n                <option value=\"50\">ver 50</option>\n                <option value=\"75\">ver 75</option>\n                <option value=\"100\">ver 100</option>\n              </select>\n            </li>\n          </>\n        ) : (\n          <>\n            <li className=\"list-group-item\">\n              <a\n                href=\"#back\"\n                className=\"d-flex justify-content-between align-items-center\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  history.push(\"/contactos\");\n                  window.location.href = \"/contactos\";\n                }}\n              >\n                Ver listado\n                <span className=\"badge badge-primary badge-pill\">\n                  <i className=\"fas fa-chevron-left\"></i>\n                </span>\n              </a>\n            </li>\n            {context.contact?.id ? (\n              <li className=\"list-group-item\">\n                <a\n                  href=\"#details\"\n                  className=\"d-flex justify-content-between align-items-center\"\n                >\n                  Detalles\n                  <span className=\"badge badge-primary badge-pill\">\n                    <i className=\"fas fa-chevron-right\"></i>\n                  </span>\n                </a>\n              </li>\n            ) : null}\n          </>\n        )}\n      </SideBar>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n//Components\nimport Inbox from \"../../layouts/list_inbox\";\nimport useContact from \"../../hooks/useContact\";\n\n//Context\nimport { Contacts } from \"../../context/ContactContext\";\n\nexport default function InboxContact() {\n  const context = Contacts();\n  const _contacts = useContact();\n  const history = useHistory();\n  const [state, setState] = useState({\n    contactSelected: \"\",\n    contacts: [],\n    meta: {},\n    loading: false,\n  });\n\n  // Functions\n  const handleLoadContacts = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n\n    _contacts\n      .getContacts({\n        ...context.options,\n      })\n      .then((res) => {\n        setState({\n          ...state,\n          loading: false,\n          contacts: res.data,\n          meta: res.meta,\n          contactSelected: \"\",\n        });\n      });\n  };\n\n  useEffect(() => {\n    if (Object.keys(context.options).length) {\n      handleLoadContacts();\n    }\n  }, [context.options]);\n\n  return (\n    <Inbox\n      title=\"Lista de contactos\"\n      icon=\"id-badge\"\n      color=\"indigo\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.contactSelected}\n      handlePagination={(page) => {\n        if (page) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              page,\n            },\n          });\n        }\n      }}\n      handleSearch={(search) => {\n        if (search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search,\n              page: 1,\n            },\n          });\n        } else if (context.options.search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search: \"\",\n              page: 1,\n            },\n          });\n        }\n      }}\n      handleDeleteItem={(select) => {\n        if (state.contactSelected) {\n          window.Swal.fire({\n            title: \"Contactos\",\n            text: \"Desea eliminar a este contacto?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Eliminar\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              _contacts\n                .deleteContact(state.contactSelected)\n                .then(() => {\n                  handleLoadContacts();\n                })\n                .catch((err) => {\n                  console.error(\n                    \"[Orus System] Catch when delete contact:\",\n                    err.message\n                  );\n                });\n            } else {\n              setState({\n                ...state,\n                contactSelected: \"\",\n              });\n            }\n          });\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un contacto seleccionado\",\n            icon: \"error\",\n            timer: 3000,\n          });\n        }\n      }}\n      handleEditItem={() => {\n        if (state.contactSelected) {\n          history.push(`contactos/${state.contactSelected}`);\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un contacto seleccionado\",\n            icon: \"error\",\n            timer:3000\n          });\n        }\n      }}\n      handleSync={() => {\n        context.set({\n          ...context,\n          options: {\n            ...context.options,\n            page: 1,\n          },\n        });\n      }}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Edad</th>\n            <th>E-mail</th>\n            <th>Telefono</th>\n            <th>Creado por</th>\n            <th>\n              {context.options.orderby === \"created_at\"\n                ? \"Registrado\"\n                : \"Actualizado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.contacts?.map((contact) => {\n            const phones = Object.values(contact.phones).filter((p) => p);\n\n            return (\n              <tr key={contact.id}>\n                <td className=\"icheck-primary pl-2\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"form-check-input mt-4\"\n                    value={contact.id}\n                    id={\"contact_\" + contact.id}\n                    //disabled={contact.enUso}\n                    checked={\n                      state.contactSelected === contact.id ? true : false\n                    }\n                    onChange={({ target }) => {\n                      const { value, checked } = target;\n                      setState({\n                        ...state,\n                        contactSelected: checked ? parseInt(value) : \"\",\n                      });\n                    }}\n                  />\n                  <label\n                    htmlFor={\"contact_\" + contact.id}\n                    className=\"sr-only\"\n                  ></label>\n                </td>\n                <td\n                  className=\"mailbox-name text-capitalize text-truncate\"\n                  style={{ cursor: \"pointer\", maxWidth: 180 }}\n                  onClick={() => {\n                    history.push(`contactos/${contact.id}`);\n                  }}\n                >\n                  <label\n                    style={{ cursor: \"pointer\" }}\n                    className={contact.enUso ? \"text-indigo\" : \"\"}\n                  >\n                    {contact.type ? (\n                      <i className=\"fas fa-store text-sm mr-2\"></i>\n                    ) : (\n                      <i className=\"fas fa-user text-sm mr-2\"></i>\n                    )}\n                    {contact.name.toLowerCase()}\n                  </label>\n                </td>\n                <th>{contact.age ? contact.age : \"--\"}</th>\n                <td\n                  className=\"mailbox-attachment text-lowercase text-truncate\"\n                  style={{ maxWidth: 180 }}\n                >\n                  <span>\n                    <i className=\"fas fa-envelope text-sm mr-2\"></i>\n                    <a href={\"mailto:\" + contact.email} className=\"text-muted\">\n                      {contact.email?.toLowerCase()}\n                    </a>\n                  </span>\n                </td>\n                <td className=\"mailbox-date text-muted text-truncate text-right\">\n                  <span>\n                    <i className=\"fas fa-phone text-sm mr-2\"></i>\n                    {phones.length ? phones[0] : \"--\"}\n                  </span>\n                </td>\n                <td className=\"text-capitalize\">\n                  {contact.created.name.toLowerCase()}\n                </td>\n                <td>\n                  {moment(\n                    context.options.orderby === \"created_at\"\n                      ? contact.created_at\n                      : contact.updated_at\n                  ).fromNow()}\n                </td>\n              </tr>\n            );\n          })}\n\n          {!state.contacts?.length && (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"7\">\n                <i className=\"fa fa-info mx-2\"></i>\n                {context.options.search ? (\n                  <span>\n                    La busqueda\n                    <strong className=\"text-dark mx-1\">\n                      \"{context.options.search}\",\n                    </strong>\n                    no coincide con ning&uacute;n contacto.\n                  </span>\n                ) : (\n                  \"No hay contactos registrados\"\n                )}\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Inbox>\n  );\n}\n","/* eslint-disable no-useless-escape */\nconst patternEmail =\n  /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})$/i;\n\nconst handleVerificationData = (data, showMsg = true) => {\n  const { name, email, birthday, phone, type } = data,\n    patternName =\n      /^[A-Z]+\\s[A-Z]{2,}(\\s?[A-Z]+){1,}/gim,\n    patternPhone = /^\\d{10}$/gim;\n\n  if (!type && !patternName.test(name)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El nombre del contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n    return {\n      result: false,\n      name: \"name\",\n    };\n  }\n  if (!patternEmail.test(email)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El correo electrnico del contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"email\",\n    };\n  }\n\n  let telefonoVerify = patternPhone.test(phone);\n\n  if (!type && !telefonoVerify) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El numero de contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"telnumbers\",\n    };\n  }\n\n  const date = new Date(birthday),\n    today = new Date(),\n    anos = today.getFullYear() - date.getFullYear();\n\n  if (!type && (!birthday || anos < 1)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"La fecha de nacimiento es erronea\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"bithday\",\n    };\n  }\n\n  return {\n    result: true,\n  };\n};\n\nconst saveContact = (title = \"contacto\", data, _save, id = null) => {\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `Esta seguro de actualizar al ${title}?`\n      : `Esta seguro de crear un nuevo ${title}?`,\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        id,\n        data,\n      });\n    }\n  });\n};\n\nconst changeDataInput = (input, data, _setData) => {\n  const { name, value } = input;\n  let val = value;\n\n  if (name === \"telnumbers\") {\n    val = {\n      ...data.telnumbers,\n      t_movil: value,\n    };\n  }\n\n  _setData({\n    ...data,\n    [name]: val,\n  });\n};\n\nconst dataPrimary = {\n  name: \"\",\n  telnumbers: { t_casa: \"\", t_oficina: \"\", t_movil: \"\" },\n  email: \"\",\n  birthday: \"\",\n  type: 0,\n  business: 0,\n  gender: \"female\",\n};\n\nconst handleGetDataObject = (key, value, verification) => {\n  switch (key) {\n    case \"name\":\n      return {\n        name: value,\n        verification: {\n          ...verification,\n          name: true,\n        },\n      };\n    case \"email\":\n      return {\n        email: value,\n        verification: {\n          ...verification,\n          email: true,\n        },\n      };\n    case \"birthday\":\n      return {\n        birthday: value,\n        verification: {\n          ...verification,\n          birthday: true,\n        },\n      };\n    case \"telefonos\":\n      return {\n        telefonos: value,\n        verification: {\n          ...verification,\n          telefonos: true,\n        },\n      };\n    default:\n      return {\n        [key]: value,\n      };\n  }\n};\n\nfunction isEmail(email) {\n  return email ? patternEmail.test(email) : false;\n}\n\nconst toExport = {\n  handleVerificationData,\n  saveContact,\n  changeDataInput,\n  handleGetDataObject,\n  dataPrimary,\n  isEmail,\n};\n\nexport default toExport;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport { useEffect, useState } from \"react\";\n\nimport helper from \"../helper\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function Personal({ data = {}, handleChange, fn }) {\n  const [state, setState] = useState({\n    emailVerification: null,\n    emailColor: \"dark\",\n    nameVerification: null,\n    nameColor: \"dark\",\n    birthdayVerification: false,\n    birthdayColor: \"dark\",\n    contatcs: [],\n  });\n\n  const handleValidContact = (type, value) => {\n    if (!type || !value) return;\n\n    if (type === \"email\" && helper.isEmail(value)) {\n      fn.getContacts({\n        page: 1,\n        orderby: \"created_at\",\n        order: \"desc\",\n        itemsPage: 10,\n        email: value,\n        except: data.id,\n      }).then((res) => {\n        setState({\n          ...state,\n          emailVerification: Boolean(res.data?.length),\n          emailColor: !res.data?.length ? \"dark\" : \"danger\",\n        });\n        handleChange(\"validates\", {\n          ...data.validates,\n          email: !Boolean(res.data?.length),\n        });\n      });\n    }\n\n    if (type === \"name\") {\n      fn.getContacts({\n        page: 1,\n        orderby: \"created_at\",\n        order: \"desc\",\n        itemsPage: 10,\n        name: value,\n        except: data.id,\n      }).then((res) => {\n        setState({\n          ...state,\n          contacts: res.data?.length ? res.data : [],\n          nameVerification: Boolean(res.data?.length),\n          nameColor: !res.data?.length ? \"dark\" : \"danger\",\n        });\n        handleChange(\"validates\", {\n          ...data.validates,\n          name: !Boolean(res.data?.length),\n        });\n      });\n    }\n  };\n\n  useEffect(() => {\n    const check = {\n      birthday: Boolean(moment().diff(data.birthday, \"days\") > 0),\n      test: moment().diff(data.birthday, \"days\"),\n    };\n\n    if (check.birthday !== state.birthdayVerification) {\n      setState({\n        ...state,\n        birthdayVerification: check.birthday,\n        birthdayColor: check.birthday ? \"dark\" : \"danger\",\n      });\n      handleChange(\"validates\", {\n        ...data.validates,\n        birthday: check.birthday,\n      });\n    }\n  }, [data.name, data.email, data.birthday]);\n\n  return (\n    <>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Tipo de contacto</label>\n          <select\n            className=\"custom-select\"\n            name=\"type\"\n            value={data.type ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"type\", parseInt(target.value))\n            }\n          >\n            <option value=\"0\">Cliente</option>\n            <option value=\"1\">Proveedor</option>\n          </select>\n        </div>\n        {data.type ? (\n          <div className=\"form-group custom-control custom-checkbox\">\n            <input\n              type=\"checkbox\"\n              name=\"business\"\n              className=\"custom-control-input\"\n              checked={data.business ?? false}\n              onChange={({ target }) =>\n                handleChange(\"business\", target.checked)\n              }\n              id=\"business_checkbox\"\n            />\n            <label\n              htmlFor=\"business_checkbox\"\n              className=\"custom-control-label cursor-pointer\"\n            >\n              <small>Es un laboratorio?</small>\n            </label>\n          </div>\n        ) : null}\n        <div className=\"form-group\">\n          <label>RFC</label>\n          <input\n            type=\"text\"\n            className=\"form-control text-uppercase text-truncate\"\n            placeholder=\"facturas\"\n            name=\"rfc\"\n            defaultValue={data.rfc ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"rfc\", target.value.toUpperCase())\n            }\n            minLength=\"10\"\n          />\n        </div>\n\n        {!data.type && (\n          <div className=\"form-group\">\n            <label>Gnero</label>\n            <select\n              className=\"custom-select\"\n              name=\"gender\"\n              value={data.gender ?? \"\"}\n              onChange={({ target }) => handleChange(\"gender\", target.value)}\n            >\n              <option value=\"male\">Hombre</option>\n              <option value=\"female\">Mujer</option>\n            </select>\n          </div>\n        )}\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group position-relative\">\n          <label>\n            Nombre completo <span className=\"text-orange\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            className={`form-control text-capitalize text-truncate text-${state.nameColor}`}\n            placeholder=\"Ej: Juan Perez G\"\n            name=\"name\"\n            defaultValue={data.name ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"name\", target.value.toLowerCase())\n            }\n            onBlur={({ target }) =>\n              handleValidContact(\"name\", target.value.toLowerCase())\n            }\n            onKeyDown={({ key }) => {\n              if (key === \"Escape\") {\n                setState({\n                  ...state,\n                  contacts: [],\n                });\n              }\n            }}\n          />\n          {!data.name && (\n            <small>\n              <span className=\"text-orange\">Este campo es requerido</span>\n            </small>\n          )}\n\n          {state.contacts?.length && data.name?.length > 5 && !data.id\n            ? showContacts(state.contacts)\n            : null}\n        </div>\n\n        <div className=\"form-group\">\n          <label>\n            Correo electr&oacute;nico <span className=\"text-orange\">*</span>\n          </label>\n          <input\n            type=\"email\"\n            className={`form-control text-lowercase text-truncate text-${state.emailColor}`}\n            placeholder=\"Ej: correo@domain.com\"\n            name=\"email\"\n            defaultValue={data.email ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"email\", target.value.toLowerCase())\n            }\n            onBlur={({ target }) => handleValidContact(\"email\", target.value)}\n          />\n          {!data.email && (\n            <small>\n              <span className=\"text-orange\">Este campo es requerido</span>\n            </small>\n          )}\n\n          {data.email && !helper.isEmail(data.email) && (\n            <small>\n              <span className=\"text-orange\">Este no es un correo valido</span>\n            </small>\n          )}\n\n          {state.emailVerification &&\n            typeof state.emailVerification === \"boolean\" && (\n              <small>\n                <span className=\"text-orange\">\n                  Este e-mail ya se encuentra registrado\n                </span>\n              </small>\n            )}\n        </div>\n\n        {!data.type ? (\n          <div className=\"form-group\">\n            <label>\n              Fecha de nacimiento <span className=\"text-orange\">*</span>\n            </label>\n            <DatePicker\n              className={`form-control text-${state.birthdayColor}`}\n              locale=\"es\"\n              selected={new Date(data.birthday.format(\"YYYY/MM/DD\"))}\n              dateFormat=\"dd/MM/yyyy\"\n              maxDate={new Date()}\n              placeholderText=\"Seleccione una fecha\"\n              onSelect={(date) => {\n                if (date) {\n                  date = date.toLocaleDateString(\"es-MX\");\n                  const birthday = moment(date, \"DD/MM/YYYY\");\n\n                  if (birthday.isValid()) {\n                    handleChange(\"birthday\", birthday);\n                  }\n                }\n              }}\n              onChange={(date) => {\n                if (date) {\n                  date = date.toLocaleDateString(\"es-MX\");\n                  const birthday = moment(date, \"DD/MM/YYYY\");\n\n                  if (birthday.isValid()) {\n                    handleChange(\"birthday\", birthday);\n                  }\n                }\n              }}\n            />\n            {!state.birthdayVerification && (\n              <small>\n                <span className=\"text-orange\">Este campo es requerido</span>\n              </small>\n            )}\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n}\n\nfunction showContacts(contacts) {\n  return (\n    <div\n      className=\"position-absolute border rounded p-0 bg-white overflow-auto \"\n      style={{\n        zIndex: \"50\",\n        top: \"4.1rem\",\n        width: \"100%\",\n        maxHeight: \"8rem\",\n      }}\n    >\n      <ul className=\"list-group\">\n        {contacts.map((contact) => {\n          return (\n            <li className=\"list-group-item text-truncate\" key={contact.id}>\n              <i className=\"fas fa-minus mr-1 text-danger\"></i>\n              <span className=\"text-capitalize text-muted text-monospace text-sm\">\n                {contact.name?.toLowerCase()}\n              </span>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n","export default function Address({ data, handleChange }) {  \n  return (\n    <>\n      <div className=\"col\">\n        {data.address_street ? (\n          <small>\n            <label>Calle y numero</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-road\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Calle y numero\"\n            value={data.address_street ?? \"\"}\n            onChange={({ target }) =>{\n              console.log(\"FUNCTION COMPONENT\", target.value);\n              handleChange(\"address_street\", target.value.toLowerCase());\n            }}\n          />\n        </div>\n        {data.address_neighborhood ? (\n          <small>\n            <label>Colonia</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-location-arrow\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Colonia\"\n            defaultValue={data.address_neighborhood ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_neighborhood\", target.value.toLowerCase())\n            }\n          />\n        </div>\n        {data.address_location ? (\n          <small>\n            <label>Municipio</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-location-arrow\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Municipio\"\n            defaultValue={data.address_location ? data.address_location : \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_location\", target.value.toLowerCase())\n            }\n          />\n        </div>\n      </div>\n      <div className=\"col\">\n        {data.address_state ? (\n          <small>\n            <label>Estado</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-map-marker\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Estado\"\n            defaultValue={data.address_state ? data.address_state : \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_state\", target.value.toLowerCase())\n            }\n          />\n        </div>\n        {data.address_zip ? (\n          <small>\n            <label>Codigo postal</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-map-marker\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Codigo Postal\"\n            defaultValue={data.address_zip ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_zip\", target.value.toLowerCase())\n            }\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from \"react\";\n\nexport default function Phones({ data, handleChange }) {\n  useEffect(() => {\n    const check = Boolean(\n      [data.phone_notices, data.phone_cell, data.phone_office].filter(\n        (phone) => phone.length === 10\n      ).length\n    );\n\n    if (check !== data.validates?.phones) {\n      handleChange(\"validates\", {\n        ...data.validates,\n        phones: check,\n      });\n    }\n  }, [data.phone_notices, data.phone_cell, data.phone_office]);\n\n  return (\n    <>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono para recados</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_notices}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_notices\", target.value);\n                }\n              }}\n            />\n          </div>\n          {data.phone_notices && data.phone_notices.length !== 10 && (\n            <small>\n              <span className=\"text-orange\">Telefono a 10 numeros</span>\n            </small>\n          )}\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono personal / whatsApp</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_cell}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_cell\", target.value);\n                }\n              }}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono del trabajo</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_office}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_office\", target.value);\n                }\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport moment from \"moment\";\n\nconst ListOfSalesComponent = (props) => {\n  const { sales } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Total</th>\n          <th>Orden</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {sales.map((sale) => {\n          return (\n            <tr key={sale.id}>\n              <th>#{sale.id}</th>\n              <td>$ {sale.total.toFixed(2)}</td>\n              <td>#{sale.pedido}</td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(sale.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfSalesComponent;\n","import moment from \"moment\";\n\nexport default function Dashboard({ analytics, metadata }) {\n  const { purchases, exams, brands, orders, suppliers } = analytics;\n  const { created_at, created, updated, updated_at } = metadata;\n\n  return (\n    <div className=\"row\">\n      {brands ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-orange\">\n            <div className=\"inner\">\n              <h5>{brands}</h5>\n\n              <p>Marcas</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-shopping-bag\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {suppliers ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-indigo\">\n            <div className=\"inner\">\n              <h5>{suppliers}</h5>\n\n              <p>Laboratorio</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-building\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {purchases ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-success\">\n            <div className=\"inner\">\n              <h5>{purchases}</h5>\n\n              <p>Compras</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-money-bill\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {exams ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-info\">\n            <div className=\"inner\">\n              <h5>{exams}</h5>\n\n              <p>Examenes</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-notes-medical\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {orders ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-warning\">\n            <div className=\"inner\">\n              <h5>{orders}</h5>\n\n              <p>Pedidos</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-shopping-basket\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {created_at && (\n        <div className=\"col\">\n          <div className=\"small-box bg-primary\">\n            <div className=\"inner\">\n              <h5>\n                {moment().diff(created_at, \"days\") >= 0\n                  ? created_at.format(\"DD/MMMM/Y\")\n                  : \"--/--/--\"}\n              </h5>\n\n              <p>Registrado</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-calendar\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              {moment().diff(updated_at, \"days\") >= 0\n                ? `Modificado: ${updated_at.format(\"DD/MMMM/Y\")}`\n                : \"Modificado --/--/--\"}\n            </a>\n          </div>\n        </div>\n      )}\n\n      {created && (\n        <div className=\"col\">\n          <div className=\"small-box bg-primary\">\n            <div className=\"inner text-capitalize\">\n              <h5 className=\"text-truncate\">{created}</h5>\n\n              <p>Registrado por</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-user\"></i>\n            </div>\n            <a\n              href=\"#details\"\n              className=\"small-box-footer text-xs text-truncate text-capitalize\"\n            >\n              Modificado: {updated}\n            </a>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport moment from \"moment\";\n\nconst ListOfBrandsComponent = (props) => {\n  const { brands } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>Nombre</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {brands.map((brand) => {\n          return (\n            <tr key={brand.id}>\n              <td className=\"text-uppercase\">{brand.name}</td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(brand.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfBrandsComponent;\n","const handleStatusString = (status) => {\n  switch (status) {\n    case 0:\n      return \"procesando\";\n    case 1:\n      return \"laboratorio\";\n    case 2:\n      return \"bicelacion\";\n    case 3:\n      return \"terminado\";\n    case 4:\n      return \"entregado\";\n    default:\n      return \"garantia\";\n  }\n};\nconst getBadgeStatus = (status) => {\n  switch (status) {\n    case 0:\n      return (\n        <span className=\"badge badge-light mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    case 1:\n    case 2:\n      return (\n        <span className=\"badge badge-primary mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    case 3:\n      return (\n        <span className=\"badge badge-info mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    case 4:\n      return (\n        <span className=\"badge badge-secondary mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    default:\n      return (\n        <span className=\"badge badge-dark mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n  }\n};\n\nconst getStatusType = [\n  \"procesando\",\n  \"laboratorio\",\n  \"bicelacion\",\n  \"terminado\",\n  \"entregado\",\n];\n\nconst handleDeleteOrder = (order, options, _delete) => {\n  if (order.id) {\n    if (order.estado) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El pedido tiene un proceso avanzado\",\n        icon: \"warning\",\n      });\n      return false;\n    }\n    if (order.nota) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"No se puede eliminar un pedido con una venta activa\",\n        icon: \"warning\",\n      });\n      return false;\n    }\n\n    window.Swal.fire({\n      text: `Esta seguro de eliminar el pedido ${order.id}?`,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss && _delete) {\n        _delete({\n          id: order.id,\n          options,\n        });\n        console.log(\"[Orus System] Eliminando pedido: \" + order.id);\n        return true;\n      }\n    });\n    return false;\n  }\n};\n\nconst handleSaveOrder = (id, data, options, _save, _erase) => {\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `Esta seguro de actualizar el pedido ${id}?`\n      : \"Esta seguro de crear un nuevo pedido?\",\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        data,\n        id,\n        options,\n      });\n      if (_erase) _erase();\n      removeDataTemporary(data.contact_id);\n    }\n  });\n};\n\nconst getDataTemporary = (field) => {\n    const data = JSON.parse(localStorage.getItem(\"OrusSystem\") ?? \"\");\n\n    if (!data.orders) {\n      data.orders = [];\n    }\n\n    return field ? data.orders : data;\n  },\n  addDataTemporary = (data) => {\n    const local = getDataTemporary();\n    let localToSave = {\n      ...local,\n      orders: local.orders.filter((item) => item.id !== data.id),\n    };\n\n    localToSave.orders.push(data);\n    // localStorage.setItem(\"OrusSystem\", JSON.stringify(localToSave));\n  },\n  removeDataTemporary = (id, fn) => {\n    // const local = getDataTemporary(),\n    //   data = {\n    //     ...local,\n    //     orders: local.orders.filter((item) => item.id !== id),\n    //   };\n    // localStorage.setItem(\"OrusSystem\", JSON.stringify(data));\n    if (fn) fn();\n  },\n  getDataOneItem = (id) => {\n    const local = getDataTemporary(),\n      data = local.orders.filter((item) => item.id === id);\n    if (data) {\n    }\n    return data[0] ?? {};\n  };\n\nconst toExport = {\n  handleStatusString,\n  getBadgeStatus,\n  handleDeleteOrder,\n  handleSaveOrder,\n  getDataTemporary,\n  addDataTemporary,\n  removeDataTemporary,\n  getDataOneItem,\n  getStatusType,\n};\n\nexport default toExport;\n","import React from \"react\";\nimport moment from \"moment\";\nimport helper from \"../helpers\";\n\nconst ListOfOrdersComponent = (props) => {\n  const { orders } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Folio LAB</th>\n          <th>Nota</th>\n          <th>Estado</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {orders.map((order) => {\n          return (\n            <tr key={order.id}>\n              <th>#{order.id}</th>\n              <td>{order.order_foreing ? `#${order.order_foreing}` : \"--\"}</td>\n              <td>{order.nota ? `#${order.nota}` : \"--\"}</td>\n              <td className=\"text-uppercase\">\n                <span className=\"badge badge-secondary\">\n                  {helper.handleStatusString(order.status)}\n                </span>\n              </td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(order.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfOrdersComponent;\n","import { useState } from \"react\";\nimport moment from \"moment\";\n\nexport default function List(props) {\n  const {\n    exams = [],\n    allSelect = false,\n    handleSelectedExam: _handleSelectedExam,\n  } = props;\n\n  const [select, setSelect] = useState(\"\");\n\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th scope=\"col\"></th>\n          <th scope=\"col\">Folio</th>\n          <th scope=\"col\">Registrado</th>\n          <th scope=\"col\">Estado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {!exams.length ? (\n          <tr>\n            <th colSpan=\"4\" className=\"text-center\">\n              <i className=\"fas fa-info-circle mr-1\"></i>\n              No hay registros\n            </th>\n          </tr>\n        ) : null}\n        {exams.map((row) => {\n          return (\n            <tr\n              key={row.id}\n              className={\n                moment(new Date()).isSame(moment(row.created_at), \"day\")\n                  ? \"text-primary\"\n                  : \"\"\n              }\n            >\n              <td>\n                <div className=\"icheck-primary\">\n                  {_handleSelectedExam ? (\n                    <>\n                      <input\n                        type=\"checkbox\"\n                        name={\"exam_\" + row.id}\n                        id={\"exam_\" + row.id}\n                        defaultValue={row.id}\n                        onChange={({ target }) => {\n                          if (target.checked) {\n                            setSelect(row.id);\n                            _handleSelectedExam(row);\n                          } else {\n                            setSelect(\"\");\n                          }\n                        }}\n                        disabled={!allSelect}\n                        checked={select === row.id}\n                      />\n                      <label htmlFor={\"exam_\" + row.id}></label>\n                    </>\n                  ) : null}\n                </div>\n              </td>\n              <th scope=\"row\">\n                <span className=\"text\">#{row.id}</span>\n              </th>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(row.created_at).fromNow()}\n              </td>\n              <td>\n                {row.status ? (\n                  <span className=\"badge badge-success\">\n                    <i className=\"fas fa-check\"></i> Terminado\n                  </span>\n                ) : (\n                  <span className=\"badge badge-secondary\">\n                    <i className=\"fas fa-hourglass\"></i> Activo\n                  </span>\n                )}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n","import ListExam from \"../views/List\";\n\nexport default function List({ showBottons = false, exams = [] }) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title text-indigo text-bold\">\n          <i className=\"fas fa-notes-medical mr-1\"></i>\n          Examenes\n        </h5>\n        {exams.length ? (\n          <ListExam\n            allSelect={true}\n            exams={exams}\n            handleSelectedExam={(examSelect) => {\n            }}\n          />\n        ) : (\n          <div className=\"alert alert-info mt-5\">\n            <h5>\n              <i className=\"fas fa-info-circle mr-1\"></i>\n              Aun no hay examenes para este contacto\n            </h5>\n          </div>\n        )}\n      </div>\n      {showBottons && (\n        <div className=\"card-footer text-right\">\n          <div className=\"btn-group\">\n            <button className=\"btn btn-secondary\">Nuevo</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","function ModalComponents({\n  title = \"confirmacin\",\n  body,\n  handleCancel: _handleCancel,\n}) {\n  const handleClose = () => {\n    if (_handleCancel) _handleCancel();\n  };\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-dark text-bold text-capitalize\">\n              {title}\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">{body}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ModalComponents;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\n//Components\nimport Personal from \"./views/Personal\";\nimport Domicilio from \"./views/Address\";\nimport Telefono from \"./views/Phones\";\nimport ListSales from \"../Sales/views/listOfSales_delete\";\nimport Dashboard from \"./Dashboard\";\nimport ListBrands from \"../Store/views/listOfBrands\";\nimport ListOrders from \"../Order/views/listOfOrders\";\nimport CardExams from \"../Exam/cards/List\";\nimport Confirm from \"../../layouts/modal\";\nimport useContact from \"../../hooks/useContact\";\nimport helper from \"./helper\";\nimport Activitys from \"../Activitys\";\n\nconst initialState = {\n  id: 0,\n  name: \"\",\n  rfc: \"\",\n  gender: \"male\",\n  email: \"\",\n  type: 0,\n  business: 0,\n  birthday: moment(),\n  phone_notices: \"\",\n  phone_cell: \"\",\n  phone_office: \"\",\n  age: \"\",\n  address_street: \"\",\n  address_neighborhood: \"\",\n  address_location: \"\",\n  address_state: \"\",\n  address_zip: \"\",\n  done: {\n    purchases: [],\n    brands: [],\n    supplier_of: [],\n    orders: [],\n    exams: [],\n  },\n  analytics: {\n    purchases: 0,\n    exams: 0,\n    brands: 0,\n    suppliers: 0,\n    orders: 0,\n  },\n  metadata: {\n    created_at: \"\",\n    updated_at: \"\",\n    deleted_at: \"\",\n    created: \"\",\n    updated: \"--\",\n  },\n  validates: {\n    name: false,\n    email: false,\n    birthday: false,\n    phones: false,\n  },\n  activity: [],\n  loading: false,\n};\n\n/**\n * DEFAULT COMPONENT\n */\nexport default function AddContact(props) {\n  const { id } = props.match.params;\n  const { handleNewOrEdit: _handleNewOrEdit, showModal = false } = props;\n  const _contacts = useContact();\n  const [contact, setContact] = useState(initialState);\n  const {\n    done: { purchases, brands, supplier_of, orders, exams },\n    analytics,\n    metadata,\n  } = contact;\n  const history = useHistory();\n\n  // Functions\n  const handleChangeData = (key, value) => {\n    if (!key) return;\n\n    if (contact[key] === value) {\n      return;\n    }\n\n    setContact({\n      ...contact,\n      [key]: value,\n    });\n  };\n  const handleSaveContact = () => {\n    const data = {\n      id: contact.id,\n      name: contact.name,\n      rfc: contact.rfc,\n      gender: contact.gender,\n      email: contact.email,\n      type: contact.type,\n      business: contact.business,\n      birthday: contact.birthday.format(\"YYYY/MM/DD\"),\n      phones: {\n        notices: contact.phone_notices,\n        cell: contact.phone_cell,\n        office: contact.phone_office,\n      },\n      domicilio: {\n        street: contact.address_street,\n        neighborhood: contact.address_neighborhood,\n        location: contact.address_location,\n        state: contact.address_state,\n        zip: contact.address_zip,\n      },\n    };\n\n    if (contact.address_street?.length) {\n      if (!contact.address_neighborhood) {\n        return window.Swal.fire({\n          title: \"Contactos\",\n          icon: \"warning\",\n          text: \"Completa el campo Colonia\",\n          showCancelButton: false,\n          confirmButtonText: \"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        });\n      }\n      if (!contact.address_location) {\n        return window.Swal.fire({\n          title: \"Contactos\",\n          icon: \"warning\",\n          text: \"Completa el campo Municipio\",\n          showCancelButton: false,\n          confirmButtonText: \"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        });\n      }\n      if (!contact.address_state) {\n        return window.Swal.fire({\n          title: \"Contactos\",\n          icon: \"warning\",\n          text: \"Completa el campo Estado\",\n          showCancelButton: false,\n          confirmButtonText: \"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        });\n      }\n      if (!contact.address_zip) {\n        return window.Swal.fire({\n          title: \"Contactos\",\n          icon: \"warning\",\n          text: \"Completa el campo cdigo postal\",\n          showCancelButton: false,\n          confirmButtonText: \"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        });\n      }\n    }\n\n    window.Swal.fire({\n      title: \"Contactos\",\n      text: data.id\n        ? \"Desea actualizar a este contacto?\"\n        : \"Desea crear un nuevo contacto?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonText: data.id ? \"Actualizar\" : \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        delete data.domicilio;\n        _contacts.saveContact(data).then((res) => {\n          if (res?.id) {\n            console.log(\"[Orus System] Create contatc successfully\", res.id);\n            _handleNewOrEdit();\n            history.push(\"/contactos\");\n          }\n        });\n      }\n    });\n  };\n  const validateBussines = () => {\n    if (!contact.name) {\n      return true;\n    }\n    if (!contact.email) {\n      return true;\n    }\n    if (\n      contact.phone_notices.length < 10 &&\n      contact.phone_cell.length < 10 &&\n      contact.phone_office.length < 10\n    ) {\n      return true;\n    }\n\n    return false;\n  };\n  const validateClient = () => {\n    if (validateBussines()) {\n      return true;\n    }\n    if (!contact.birthday) {\n      return true;\n    }\n    if (!Boolean(moment().diff(contact.birthday, \"days\") > 0)) {\n      return true;\n    }\n\n    return false;\n  };\n  const handleValidateBtn = () => {\n    // Validate busssines\n    if (contact.type) {\n      return validateBussines();\n    }\n\n    // Validate client\n    return validateClient();\n  };\n\n  useEffect(() => {\n    if (id) {\n      setContact({\n        ...contact,\n        loading: true,\n      });\n      _contacts.getContact(parseInt(id)).then((data) => {\n        processData(data, setContact);\n      });\n    }\n  }, [id]);\n\n  return (\n    <>\n      {contact.id ? (\n        <Dashboard analytics={analytics} metadata={metadata} />\n      ) : null}\n\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          {metadata.deleted_at ? (\n            <div className=\"alert alert-warning\">\n              <h4 className=\"alert-heading\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Precaucion!\n              </h4>\n              <p>\n                Este contacto fue eliminado por {contact.updated?.name} el{\" \"}\n                {moment(contact.deleted_at).format(\"LLLL\")}\n              </p>\n            </div>\n          ) : null}\n          <div className=\"card card-indigo card-outline\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title text-indigo\">\n                <i className=\"fas fa-address-book mr-1\"></i>\n                {contact.id ? (\n                  <label>\n                    Editar contacto\n                    <span className=\"badge bg-indigo ml-2\">{contact.id}</span>\n                  </label>\n                ) : (\n                  <label>Registrar nuevo contacto</label>\n                )}\n              </h3>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                  Datos personales\n                </h6>\n                <Personal\n                  data={contact}\n                  handleChange={handleChangeData}\n                  fn={_contacts}\n                />\n              </div>\n              <div className=\"row mt-5 border-top pt-5\">\n                <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                  Medios de contacto <span className=\"text-orange\">*</span>\n                  {!contact.validates.phones && (\n                    <small className=\"d-block w-100\">\n                      <span className=\"text-orange\">\n                        Ingrese por lo menos un telefono\n                      </span>\n                    </small>\n                  )}\n                </h6>\n                <Telefono data={contact} handleChange={handleChangeData} />\n              </div>\n              {!contact.type ? (\n                <div className=\"row mt-5 border-top pt-5\">\n                  <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                    Domicilios del contacto\n                  </h6>\n                  <Domicilio\n                    data={contact}\n                    domicilios={\n                      contact.address ?? {\n                        calle: \"\",\n                        colonia: \"\",\n                        municipio: \"\",\n                        estado: \"\",\n                        cp: \"\",\n                      }\n                    }\n                    handleChange={handleChangeData}\n                  />\n                </div>\n              ) : null}\n            </div>\n            <div className=\"card-footer\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <div className=\"btn-group float-right\" role=\"group\">\n                    <button\n                      className=\"btn btn-default\"\n                      type=\"button\"\n                      onClick={() => {\n                        history.push(\"/contactos\");\n                        _handleNewOrEdit();\n                      }}\n                    >\n                      <i\n                        className={\n                          contact.id\n                            ? \"fas fa-arrow-left mr-2\"\n                            : \"fas fa-ban mr-2\"\n                        }\n                      ></i>\n                      <strong>{contact.id ? \"Cerrar\" : \"Cancelar\"}</strong>\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"btn bg-indigo\"\n                      onClick={() => handleSaveContact()}\n                      disabled={handleValidateBtn()}\n                    >\n                      <i className=\"fas fa-save mr-1\"></i>\n                      {contact.id ? \"Actualizar\" : \"Guardar\"}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            {contact.loading && (\n              <div className=\"overlay dark\">\n                <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      {contact.id ? (\n        <div className=\"content\" id=\"details\">\n          <div className=\"row\">\n            {!contact.type && (\n              <div className=\"col\">\n                <CardExams exams={exams} />\n              </div>\n            )}\n\n            {purchases.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-money-bill mr-1\"></i>\n                      Compras\n                    </h5>\n                    <ListSales sales={purchases} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {brands.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-copyright mr-1\"></i>\n                      Marcas\n                    </h5>\n                    <ListBrands brands={brands} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {supplier_of.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-building mr-1\"></i>\n                      Laboratorio\n                    </h5>\n                    <ListOrders orders={supplier_of ?? []} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {orders.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-shopping-basket mr-1\"></i>\n                      Pedidos\n                    </h5>\n                    <ListOrders orders={orders ?? []} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n          </div>\n          {Boolean(contact.activity.length) && (\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <Activitys data={contact.activity} />\n              </div>\n            </div>\n          )}\n        </div>\n      ) : null}\n      {showModal && (\n        <Confirm body={dataBodyConfirm(10)} handleCancel={() => {}} />\n      )}\n    </>\n  );\n}\n\nfunction processData(data, setData) {\n  if (data) {\n    const birthday = moment(data.metadata?.birthday);\n    const today = moment();\n    const diff = today.diff(birthday, \"days\");\n\n    setData({\n      id: data.id,\n      name: data.name?.toLowerCase(),\n      rfc: data.rfc?.toUpperCase(),\n      gender: data.metadata?.gender ? data.metadata?.gender : \"male\",\n      email: data.email?.toLowerCase(),\n      type: data.type,\n      business: data.business,\n      birthday: diff > 0 ? birthday : today,\n      phone_notices: data.phones?.notices,\n      phone_cell: data.phones?.cell,\n      phone_office: data.phones?.office,\n      age: data.age ?? 0,\n      address_street: data.address?.street.toLowerCase(),\n      address_neighborhood: data.address?.neighborhood.toLowerCase(),\n      address_location: data.address?.location.toLowerCase(),\n      address_state: data.address?.state.toLowerCase(),\n      address_zip: data.address?.zip.toLowerCase(),\n      done: {\n        purchases: data.purchases,\n        brands: data.brands,\n        supplier_of: data.supplier_of,\n        orders: data.orders,\n        exams: data.exams,\n      },\n      analytics: {\n        purchases: data.purchases_count,\n        exams: data.exams_count,\n        brands: data.brands_count,\n        suppliers: data.suppliers_count,\n        orders: data.orders_count,\n      },\n      metadata: {\n        created_at: data.created_at ? moment(data.created_at) : moment(),\n        updated_at: data.updated_at ? moment(data.updated_at) : moment(),\n        deleted_at: data.deleted_at ?? \"\",\n        created: data.created?.username.toLowerCase() ?? \"\",\n        updated: data.updated?.username.toLowerCase() ?? \"--\",\n      },\n      validates: {\n        name: data.name?.length > 5,\n        email: helper.isEmail(data.email),\n        birthday: Boolean(moment().diff(data.metadata?.birthday, \"days\") > 0),\n        phones: Boolean(\n          Object.values(data.phones ?? {}).filter(\n            (phone) => phone.length === 10\n          ).length\n        ),\n      },\n      activity: data.activity ?? [],\n      loading: false,\n    });\n  }\n}\n\nfunction dataBodyConfirm(id_exam) {\n  return (\n    <div>\n      <p className=\"text-center\">Realmente desea ver el examen?</p>\n      <div className=\"text-center\">\n        <Link to={`/consultorio/${id_exam}`} className=\"btn btn-primary\">\n          Confirmar\n        </Link>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport { ContactContext } from \"../context/ContactContext\";\nimport ToolsBar from \"../components/Contacts/ToolsBar\";\nimport Inbox from \"../components/Contacts/Inbox\";\nimport Add from \"../components/Contacts/Add\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n};\n\nexport default function ContactsComponent(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    newOrEdit: null,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]);\n\n  return (\n    <ContactContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <ToolsBar\n          newOrEdit={state.newOrEdit}\n          handleNewOrEdit={() =>\n            setState({\n              ...state,\n              newOrEdit: !state.newOrEdit,\n            })\n          }\n        />\n        {typeof state.newOrEdit === \"boolean\" ? (\n          <div className=\"col-sm-12 col-md-8 col-lg-10\">\n            {state.newOrEdit ? (\n              <Add\n                {...props}\n                handleNewOrEdit={() =>\n                  setState({ ...state, newOrEdit: !state.newOrEdit })\n                }\n              />\n            ) : (\n              <Inbox />\n            )}\n          </div>\n        ) : (\n          <p>Loading component</p>\n        )}\n      </div>\n    </ContactContext.Provider>\n  );\n}\n","import { useState, useContext } from \"react\";\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n//import helper from \"../helpers\";\n\nexport default function BranchsListComponent() {\n\n  const [data, setData] = useState({\n    showForm: false,\n    id: 0,\n    name: \"\",\n    address: \"\",\n    phone: \"\",\n  });\n  \n/*   const options = {\n    page: 1,\n    name: \"branches\",\n    itemsPage: 10,\n  }; */\n\n  const configContext = useContext(ConfigContext);\n\n  const branches = configContext.data.filter((item)=>item.name === 'branches');\n\n  //Actions\n  const handleUpdateConfig = ({ id, values, data }) => {\n      setData({\n        ...data,\n        showForm: true,\n        id,\n        //TODO: Destructuramoos data, Cambiamos values por data, validamos si existen [name, address, phone] evitar toString //\n        name: data.name?.toString().toLowerCase(),\n        address: data.address?.toString().toLowerCase(),\n        phone: data.phone?.toString().toLowerCase(),\n      });\n    },\n\n    handleCancelForm = () =>\n      setData({\n        ...data,\n        showForm: false,\n        id: 0,\n        name: \"\",\n        address: \"\",\n        phone: \"\",\n      }),\n\n    handleNewBranch = () => setData({ ...data, showForm: true }),\n\n    handleChangeValue = ({ name, value }) => {\n      setData({\n        ...data,\n        [name]: value.toString().toLowerCase(),\n      });\n    },\n\n    handleSendDataForm = (e) => {\n      e.preventDefault();\n    };\n\n\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title d-block mb-2\">\n          <i className=\"fas fa-store mr-1\"></i>\n          Sucursales\n        </h5>\n\n        {data.showForm ? (\n          <form className=\"card-text m-2 mt-4\" onSubmit={handleSendDataForm}>\n            <div className=\"form-group\">\n              <label>Nombre de la sucursal</label>\n              <input\n                type=\"text\"\n                placeholder=\"Escriba el nombre de la sucursal\"\n                className=\"form-control\"\n                name=\"name\"\n                defaultValue={data.name}\n                onChange={({ target }) => handleChangeValue(target)}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Domicilio</label>\n              <input\n                type=\"text\"\n                placeholder=\"Escriba el domicilio de la sucursal\"\n                className=\"form-control\"\n                name=\"address\"\n                defaultValue={data.address}\n                onChange={({ target }) => handleChangeValue(target)}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Telefono</label>\n              <input\n                type=\"phone\"\n                placeholder=\"Escriba el telefono de la sucursal\"\n                className=\"form-control\"\n                name=\"phone\"\n                defaultValue={data.phone}\n                onChange={({ target }) => handleChangeValue(target)}\n                maxLength={10}\n              />\n            </div>\n            <div className=\"form-group text-right\">\n              <button\n                type=\"button\"\n                className=\"btn btn-link\"\n                onClick={handleCancelForm}\n              >\n                Cancelar\n              </button>\n              <button type=\"submit\" className=\"btn btn-dark ml-2\">\n                Guardar\n              </button>\n            </div>\n          </form>\n        ) : (\n          <div className=\"table-responsive\">\n            <table className=\"table table-striped table-sm\">\n              <thead>\n                <tr>\n                  <th>Nombre</th>\n                  <th>Domicilio</th>\n                  <td>\n                    <span className=\"sr-only\">Acciones</span>\n                  </td>\n                </tr>\n              </thead>\n              <tbody>\n                {branches.map((branch) => (\n                  branch.name !== 'bank' ? (\n                    <tr key={branch.id}>\n                    <td className=\"text-capitalize\">{branch.data.name}</td>\n                    <td className=\"text-truncate text-capitalize\">\n                      {branch.data.address ?? \"--\"}\n                    </td>\n                    <td className=\"text-right\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-sm btn-primary ml-1\"\n                        onClick={() => handleUpdateConfig(branch)}\n                      >\n                        <i className=\"fas fa-edit\"></i>\n                      </button>\n                    </td>\n                  </tr>\n                  ) : null\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n      <div className=\"card-footer text-right\">\n        <button\n          className=\"btn btn-primary btn-sm\"\n          disabled={data.showForm}\n          onClick={handleNewBranch}\n        >\n          <i className=\"fas fa-plus\"></i>\n        </button>\n      </div>\n    </div>\n  );\n}\n","import { useState, useContext } from \"react\";\nimport BranchsList from '../components/Tools/views/Branchs';\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function ToolsComponent(){\n\n  const { auth } = useContext(AuthContext);\n\n  const varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\n  const [state, setState] = useState({\n    server: varLocalStorage.host ? varLocalStorage.host : \"\",\n    company:  varLocalStorage.company ? varLocalStorage.company : \"\",\n    email: auth.email ? auth.email : \"\",\n    name: auth.name ? auth.name : \"\",\n    username: auth.username ? auth.username : \"\",\n    password: \"\",\n    category_list: [],\n  });\n\n  const clickSave = () => {\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    varLocalStorage.company = state.company;\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage));\n  },\n\n  clickSaveUser = () => {\n\n    //TODO: Ejecutar llamada a la API para actualizar el usuario\n\n\n    //Variables en localStorage\n    /* let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    varLocalStorage.email = state.email;\n    varLocalStorage.name = state.name;\n    varLocalStorage.username = state.username;\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage)); */\n  },\n  \n  catchInputs = (e) => {\n    const { name, value } = e.target;\n    setState({\n      [name]: value.toLowerCase(),\n    });\n  };\n\n  return (\n    <div className=\"row\" style={{height:'100vh'}}>\n      <div className=\"col-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Generales</h5>\n            <p>&nbsp;</p>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-server\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Servidor\"\n                name=\"server\"\n                value={state.server}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-building\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control text-capitalize\"\n                placeholder=\"Nombre de la empresa\"\n                name=\"company\"\n                value={state.company}\n                onChange={catchInputs}\n              />\n            </div>\n          </div>\n          <div className=\"card-footer text-right\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={clickSave}\n            >\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n\n\n      <div className=\"col-lg-6 col-sm-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Usuario</h5>\n            <p>&nbsp;</p>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-at\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Email\"\n                name=\"email\"\n                value={state.email}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-user-tag\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control text-capitalize\"\n                placeholder=\"Nombre completo\"\n                name=\"name\"\n                value={state.name}\n                onChange={catchInputs}\n              />\n            </div>\n            <hr />\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-user-check\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Usuario\"\n                name=\"username\"\n                value={state.username}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-lock\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Contrasea\"\n                name=\"password\"\n                value={state.password}\n                onChange={catchInputs}\n              />\n            </div>\n          </div>\n          <div className=\"card-footer text-right\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={clickSaveUser}\n            >\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"col-lg-6 col-md-12 col-sm-12\">\n        <BranchsList />\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const ExamContext = createContext(null);\nexport const Exams = () => useContext(ExamContext);\n","import DatePicker, { registerLocale } from \"react-datepicker\";\nimport moment from \"moment\";\n\nimport SideBar from \"../../pages/partials/SideBar\";\nimport { Exams } from \"../../context/ExamContext\";\nimport { Config } from \"../../context/ConfigContext\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function ToolBar({ newOrEdit, handleNewOrEdit }) {\n  const context = Exams();\n  const config = Config();\n  const branches = config.data?.filter((b = {}) => b.name === \"branches\");\n  const date = context.options?.date ? moment(context.options.date) : moment();\n\n  return (\n    <div className=\"col-sm-12 col-md-2 d-print-none\">\n      <button\n        className=\"btn bg-info btn-block mb-3\"\n        type=\"button\"\n        disabled={newOrEdit}\n        onClick={handleNewOrEdit}\n      >\n        <i className=\"fas fa-plus mr-1\"></i>\n        Nuevo examen\n      </button>\n\n      <SideBar title=\"Filtros\">\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"orderby\">Ordenar por</label>\n          <select\n            className=\"form-control\"\n            id=\"orderby\"\n            defaultValue={context.options?.orderby}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  orderby: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"created_at\">Fecha de registro</option>\n            <option value=\"updated_at\">Fecha de modificacion</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"date\">Fecha</label>\n          <DatePicker\n            className={`form-control`}\n            locale=\"es\"\n            selected={new Date(date.format(\"YYYY/MM/DD\"))}\n            dateFormat=\"dd/MM/yyyy\"\n            maxDate={new Date()}\n            placeholderText=\"Seleccione una fecha\"\n            onSelect={(date) => {\n              if (date) {\n                date = date.toLocaleDateString(\"es-MX\");\n                date = moment(date, \"DD/MM/YYYY\");\n\n                if (date.isValid()) {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      date: date.format(\"YYYY/MM/DD\"),\n                    },\n                  });\n                }\n              }\n            }}\n            onChange={(date) => {\n              if (date) {\n                date = date.toLocaleDateString(\"es-MX\");\n                date = moment(date, \"DD/MM/YYYY\");\n\n                if (date.isValid()) {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      date: date.format(\"YYYY/MM/DD\"),\n                    },\n                  });\n                }\n              }\n            }}\n          />\n          <button\n            type=\"button\"\n            className=\"btn btn-info btn-block text-bold mt-1\"\n            onClick={(e) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  date: \"\",\n                },\n              });\n            }}\n          >\n            <i className=\"fas fa-trash mr-1\"></i>\n            Borrar fecha\n          </button>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"order\">Mostrar por</label>\n          <select\n            className=\"form-control\"\n            id=\"order\"\n            value={context.options?.order}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  order: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"asc\">Antiguos</option>\n            <option value=\"desc\">Recientes</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"itemsPage\">Numero de examenes</label>\n          <select\n            className=\"form-control\"\n            id=\"itemsPage\"\n            value={context.options?.itemsPage}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  itemsPage: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"25\">ver 25</option>\n            <option value=\"50\">ver 50</option>\n            <option value=\"75\">ver 75</option>\n            <option value=\"100\">ver 100</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"status\">Estado</label>\n          <select\n            className=\"form-control\"\n            id=\"status\"\n            value={context.options?.status}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  status: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"\">-- Todos --</option>\n            <option value=\"1\">Solo terminados</option>\n            <option value=\"0\">En proceso</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"status\">Sucursales</label>\n          <select\n            className=\"form-control text-capitalize\"\n            id=\"branch\"\n            value={context.options?.branch}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  branch: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"all\">-- Todas --</option>\n            {branches?.map((branch) => (\n              <option value={branch.id} key={branch.id}>\n                {branch.data?.name}\n              </option>\n            ))}\n          </select>\n        </li>\n      </SideBar>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useExam() {\n  const getExams = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"exams\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contacts list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n\n  const getExam = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"exams\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contact in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n\n  const deleteExam = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"exams\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete contact in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n\n\n  const saveExam = async (data) => {\n\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"exams\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\"[Orus System] Catch when update exam in hook\");\n          return err;\n        });\n    } else {\n      const url = setUrl(\"exams\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\"[Orus System] Catch when create exam in hook\");\n          return err;\n        });\n    }\n  };\n\n  return {\n    getExams,\n    getExam,\n    deleteExam,\n    saveExam,\n  };\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\n\n//Context\nimport { Exams } from \"../../context/ExamContext\";\n\n//Components\nimport Inbox from \"../../layouts/list_inbox\";\nimport useExam from \"../../hooks/useExam\";\n\nexport default function InboxExams() {\n  const context = Exams();\n  const _exam = useExam();\n  const history = useHistory();\n  const [state, setState] = useState({\n    list: [],\n    meta: {},\n    loading: false,\n    examSelected: {},\n  });\n\n  // Functions\n  const handleLoadExams = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n\n    _exam.getExams(context.options).then((res) => {\n      if (res.data) {\n        setState({\n          ...state,\n          list: res.data,\n          meta: res.meta,\n          loading: false,\n          examSelected: {},\n        });\n      }\n    });\n  };\n  const handleStatus = (exam) => {\n    if (exam?.id) {\n      _exam\n        .saveExam({\n          id: exam.id,\n          status: !exam.status,\n          contact_id: exam.customer?.id,\n        })\n        .then((res) => {\n          if (res.id) handleLoadExams();\n          else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.error(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n    } else if (state.examSelected?.id) {\n      _exam\n        .saveExam({\n          id: state.examSelected.id,\n          status: !state.examSelected.status,\n          contact_id: state.examSelected.customer?.id,\n        })\n        .then((res) => {\n          if (res.id) handleLoadExams();\n          else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.error(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n    } else {\n      console.error(\n        \"[Orus System] When get id of exam:\",\n        exam,\n        state.examSelected\n      );\n      window.Swal.fire({\n        title: \"Consultorio\",\n        text: \"Lo sentimos no existe un examen seleccionado\",\n        icon: \"warning\",\n        showConfirmButton: false,\n        timer: 3000,\n      });\n    }\n  };\n\n  useEffect(() => {\n    handleLoadExams();\n  }, [context.options]);\n\n  return (\n    <Inbox\n      title=\"Lista de examenes\"\n      icon=\"notes-medical\"\n      color=\"info\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.examSelected?.id}\n      handlePagination={(page) => {\n        if (page) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              page,\n            },\n          });\n        }\n      }}\n      handleSearch={(search) => {\n        if (search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search,\n              page: 1,\n            },\n          });\n        } else if (context.options.search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search: \"\",\n              page: 1,\n            },\n          });\n        }\n      }}\n      handleDeleteItem={() => {\n        if (state.examSelected?.id) {\n          window.Swal.fire({\n            title: \"Consultorio\",\n            text: \"Desea eliminar el examen?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Eliminar\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              _exam.deleteExam(state.examSelected.id).then(() => {\n                handleLoadExams();\n              });\n            } else {\n              setState({\n                ...state,\n                examSelected: {},\n              });\n            }\n          });\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un examen seleccionado\",\n            icon: \"error\",\n            timer:3000,\n          });\n        }\n      }}\n      handleEditItem={() => {\n        if (state.examSelected?.id) {\n          history.push(`consultorio/${state.examSelected.id}`);\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un examen seleccionado\",\n            icon: \"error\",\n          });\n        }\n      }}\n      handleSync={handleLoadExams}\n      handleStatus={handleStatus}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Estado</th>\n            <th>ESF</th>\n            <th>CIL</th>\n            <th>EJE</th>\n            <th>ADC</th>\n            <th>MED</th>\n            <th>DP</th>\n            <th>ALT</th>\n            <th>\n              {context.options?.orderby === \"created_at\"\n                ? \"Registrado\"\n                : \"Actualizado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.list?.length ? (\n            <>\n              {state.list?.map((exam) => {\n                return (\n                  <tr key={exam.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        id={\"exam_\" + exam.id}\n                        checked={\n                          state.examSelected?.id === exam.id ? true : false\n                        }\n                        disabled={exam.estado || exam.orders?.length}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            examSelected: target.checked ? exam : \"\",\n                          });\n                        }}\n                      />\n                      <label\n                        htmlFor={\"exam_\" + exam.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td className=\"mailbox-name text-capitalize text-truncate\">\n                      <a\n                        href=\"#edit\"\n                        onClick={(e) => {\n                          e.preventDefault();\n                          history.push(`consultorio/${exam.id}`);\n                        }}\n                      >\n                        <span\n                          className={\n                            exam.status || exam.orders?.length\n                              ? \"text-muted\"\n                              : \"text-dark text-bold\"\n                          }\n                        >\n                          <i className=\"fas fa-user text-sm mr-2\"></i>\n                          {exam.customer?.name.toLowerCase()}\n                        </span>\n                      </a>\n                    </td>\n                    <td\n                      className=\"text-center\"\n                      style={{ cursor: \"pointer\" }}\n                      onClick={() => handleStatus(exam)}\n                    >\n                      {exam.status ? (\n                        <i\n                          className=\"fas fa-clipboard-check text-muted\"\n                          title=\"Terminado\"\n                        ></i>\n                      ) : (\n                        <i\n                          className=\"fas fa-clipboard text-info\"\n                          title=\"En proceso\"\n                        ></i>\n                      )}\n                    </td>\n                    <td>\n                      {exam.esferaod}/{exam.esferaoi}\n                    </td>\n                    <td>\n                      {exam.cilindrod}/{exam.cilindroi}\n                    </td>\n                    <td>\n                      {exam.ejeod}/{exam.ejeoi}\n                    </td>\n                    <td>\n                      {exam.adiciond}/{exam.adicioni}\n                    </td>\n                    <td>\n                      {exam.adicion_media_od}/{exam.adicion_media_oi}\n                    </td>\n                    <td>\n                      {exam.dpod}/{exam.dpoi}\n                    </td>\n                    <td>\n                      {exam.alturaod}/{exam.alturaoi}\n                    </td>\n                    <td>\n                      {moment(\n                        context.options?.orderby === \"created_at\"\n                          ? exam.created_at\n                          : exam.updated_at\n                      ).fromNow()}\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"12\">\n                No hay examenes registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Inbox>\n  );\n}\n","export default function GeneralesExam(props) {\n  const catchInputs = (e) => {\n    const { name, type, checked, value } = e.target;\n    const val = type === \"checkbox\" ? checked : value.toLowerCase();\n\n    props.handleGetData(name, val);\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"pc\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"pc\"\n              checked={props.pc}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"pc\">\n              <i className=\"fas fa-desktop\"></i> PC\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"pc_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.pc_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.pc ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"tablet\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"tablet\"\n              checked={props.tablet}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"tablet\">\n              <i className=\"fas fa-tablet-alt\"></i> Tablet\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"tablet_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.tablet_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.tablet ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"movil\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"movil\"\n              checked={props.movil}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"movil\">\n              <i className=\"fas fa-mobile-alt\"></i> Telefono\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"movil_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.movil_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.movil ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"lap\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"lap\"\n              checked={props.lap}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"lap\">\n              <i className=\"fas fa-laptop\"></i> Laptop\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"lap_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.lap_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.lap ? \"\" : \"readonly\"}\n          />\n        </div>\n      </div>\n      <div className=\"row mt-1\">\n        <div className=\"col-md-6\">\n          <ul className=\"list-group\">\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"frontal\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"frontal\"\n                  checked={props.frontal}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"frontal\">\n                  Frontal\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"occipital\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"occipital\"\n                  checked={props.occipital}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"occipital\">\n                  Occipital\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"generality\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"generality\"\n                  checked={props.generality}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"generality\">\n                  General\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"cefalea\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"cefalea\"\n                  checked={props.cefalea}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"cefalea\">\n                  Cefalea\n                </label>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div className=\"col-md-6\">\n          <ul className=\"list-group\">\n            <li className=\"list-group-item\">\n              Temporal\n              <br />\n              <div className=\"row mt-2\">\n                <div className=\"col\">\n                  <div className=\"custom-control custom-switch\">\n                    <input\n                      name=\"temporaod\"\n                      type=\"checkbox\"\n                      className=\"custom-control-input\"\n                      id=\"temporaod\"\n                      checked={props.temporaod}\n                      onChange={catchInputs}\n                    />\n                    <label className=\"custom-control-label\" htmlFor=\"temporaod\">\n                      <i className=\"fa fa-eye\"></i> Derecho\n                    </label>\n                  </div>\n                </div>\n                <div className=\"col\">\n                  <div className=\"custom-control custom-switch\">\n                    <input\n                      name=\"temporaoi\"\n                      type=\"checkbox\"\n                      className=\"custom-control-input\"\n                      id=\"temporaoi\"\n                      checked={props.temporaoi}\n                      onChange={catchInputs}\n                    />\n                    <label className=\"custom-control-label\" htmlFor=\"temporaoi\">\n                      <i className=\"fa fa-eye\"></i> Izquierdo\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              Frecuencia\n              <span className=\"badge badge-pill\">\n                <input\n                  type=\"text\"\n                  name=\"c_frecuencia\"\n                  maxLength=\"60\"\n                  className=\"form-control input-xs\"\n                  defaultValue={props.c_frecuencia ?? \"\"}\n                  onChange={catchInputs}\n                />\n              </span>\n            </li>\n            <li className=\"list-group-item\">\n              <label htmlFor=\"c_intensidad\">Intensidad</label>\n              <div className=\"row\">\n                <div className=\"col-11\">\n                  <input\n                    type=\"range\"\n                    name=\"c_intensidad\"\n                    className=\"custom-range custom-range-info\"\n                    id=\"c_intensidad\"\n                    min=\"0\"\n                    max=\"4\"\n                    defaultValue={props.c_intensidad ?? \"\"}\n                    onChange={catchInputs}\n                  />\n                </div>\n                <div className=\"col-1\">\n                  <h6>{props.c_intensidad}</h6>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { Component } from \"react\";\n\nexport default class InterrogatorioExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Interrogatorio inicial</label>\n            <textarea\n              name=\"interrogatorio\"\n              className=\"form-control\"\n              defaultValue={this.props.interrogatorio ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Cirugias oculares</label>\n            <textarea\n              name=\"coa\"\n              className=\"form-control\"\n              defaultValue={this.props.coa ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Antecedentes oculares patologicas personales</label>\n            <textarea\n              name=\"aopp\"\n              className=\"form-control\"\n              rows=\"2\"\n              defaultValue={this.props.aopp ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Antecedentes oculares patologicas familiares</label>\n            <textarea\n              name=\"aopf\"\n              className=\"form-control\"\n              rows=\"2\"\n              defaultValue={this.props.aopf ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React from \"react\";\n\nconst KeraRetExamComponent = (props) => {\n  const catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    props.onChangeInput(name, value);\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-6\">Keratometria</div>\n        <div className=\"col-6\">Retinoscopia</div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-3\">\n          <i className=\"fas fa-eye\"></i> <label>Derecho</label>\n          <input\n            type=\"text\"\n            name=\"keratometriaod\"\n            maxLength=\"12\"\n            className=\"form-control input-xs\"\n            defaultValue={props.keratometriaod ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-3\">\n          <i className=\"fas fa-eye\"></i> <label>Izquierdo</label>\n          <input\n            type=\"text\"\n            name=\"keratometriaoi\"\n            maxLength=\"12\"\n            className=\"form-control input-xs\"\n            defaultValue={props.keratometriaoi ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n          <input\n            type=\"text\"\n            name=\"rsod\"\n            maxLength=\"16\"\n            className=\"form-control\"\n            defaultValue={props.rsod ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n          <input\n            type=\"text\"\n            name=\"rsoi\"\n            maxLength=\"16\"\n            className=\"form-control\"\n            defaultValue={props.rsoi ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default KeraRetExamComponent;\n","import React, { Component } from \"react\";\n\nexport default class DiabetesExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-8\">\n            <label>Diab&eacute;tico</label>\n          </div>\n          <div className=\"col-md-4\">\n            <label>Fotocoagulaci&oacute;n laser</label>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">Fecha</div>\n          <div className=\"col-2\">Rango de glucosa</div>\n          <div className=\"col-3\">Ultimo examen</div>\n          <div className=\"col-2\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"d_fclod\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"d_fclod\"\n                checked={this.props.d_fclod}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"d_fclod\">\n                <i className=\"fa fa-eye\"></i> Derecho\n              </label>\n            </div>\n          </div>\n          <div className=\"col-2\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"d_fcloi\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"d_fcloi\"\n                checked={this.props.d_fcloi}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"d_fcloi\">\n                <i className=\"fa fa-eye\"></i> Izquierdo\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <input\n              type=\"date\"\n              name=\"d_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_time ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_media\"\n              className=\"form-control\"\n              defaultValue={this.props.d_media ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <input\n              type=\"date\"\n              name=\"d_test\"\n              className=\"form-control\"\n              defaultValue={this.props.d_test ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_fclod_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_fclod_time ?? \"\"}\n              onChange={this.catchInputs}\n              readOnly={this.props.d_fclod ? \"\" : \"readonly\"}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_fcloi_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_fcloi_time ?? \"\"}\n              onChange={this.catchInputs}\n              readOnly={this.props.d_fcloi ? \"\" : \"readonly\"}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Oftalmoscopia</label>\n            <textarea\n              name=\"oftalmoscopia\"\n              className=\"form-control\"\n              defaultValue={this.props.oftalmoscopia ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class AgudezaExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-6\">Capacidad visual</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"cvod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.cvod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"cvoi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.cvoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-md-6\">Agudeza visual (Sin lentes)</div>\n          <div className=\"col-md-6\">\n            Agudeza visual (con la graduaci&oacute;n anterior)\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"avslod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avslod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"avsloi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avsloi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"avcgaod\"\n              maxLength=\"12\"\n              className=\"form-control input-xs\"\n              defaultValue={this.props.avcgaod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"avcgaoi\"\n              maxLength=\"12\"\n              className=\"form-control input-xs\"\n              defaultValue={this.props.avcgaoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6\">Agudeza visual final</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avfod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avfod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avfoi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avfoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-4\">\n            <i className=\"fa fa-eye\"></i>\n            <i className=\"fa fa-eye\"></i> <label>Ambos</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avf2o\"\n              maxLength=\"25\"\n              className=\"form-control\"\n              defaultValue={this.props.avf2o ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class DiagnosticoExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-6\"></div>\n          <div className=\"col-md-6\">Tensi&oacute;n ocular</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            Diagnostico\n            <select\n              name=\"diagnostico\"\n              className=\"form-control\"\n              defaultValue={this.props.diagnostico ?? \"\"}\n              onChange={this.catchInputs}\n            >\n              <option value=\"Emetrope\">Em&eacute;trope</option>\n              <option value=\"hipermetropia\">Hipermetrop&iacute;a</option>\n              <option value=\"hipermetropia-astigmatismo\">\n                Hipermetrop&iacute;a y astigmatismo\n              </option>\n              <option value=\"hipermetropia-miopia\">\n                Hipermetrop&iacute;a y miop&iacute;a\n              </option>\n              <option value=\"astigmatismo-regla\">\n                Astigmatismo con la regla\n              </option>\n              <option value=\"astigmatismo-contra-regla\">\n                Astigmatismo contra la regla\n              </option>\n              <option value=\"astigmatismo-oblicuo\">Astigmatismo oblicuo</option>\n              <option value=\"astigmatismo-miopia\">\n                Astigmatismo/m&iacute;opico\n              </option>\n              <option value=\"miopia\">Miop&iacute;a</option>\n            </select>\n          </div>\n          <div className=\"col-md-3\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"presbicie\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"presbicie\"\n                checked={this.props.presbicie}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"presbicie\">\n                Presbicie\n              </label>\n            </div>\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"number\"\n              name=\"piod\"\n              min=\"0\"\n              max=\"40\"\n              step=\"1\"\n              className=\"form-control\"\n              defaultValue={this.props.piod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"number\"\n              name=\"pioi\"\n              min=\"0\"\n              max=\"40\"\n              step=\"1\"\n              className=\"form-control\"\n              defaultValue={this.props.pioi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Tratamiento oftalmico</label>\n            <textarea\n              name=\"txoftalmico\"\n              className=\"form-control\"\n              defaultValue={this.props.txoftalmico ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import { Component } from \"react\";\n\nexport default class GraduacionExamComponent extends Component {\n  render() {\n    const {\n      readOnly = false,\n      cilindrod,\n      cilindroi,\n      esferaod,\n      esferaoi,\n      ejeod,\n      ejeoi,\n      adiciond,\n      adicioni,\n      adicion_media_od,\n      adicion_media_oi,\n      dpod,\n      dpoi,\n      alturaod,\n      alturaoi,\n      lcmarca,\n      lcgod,\n      lcgoi,\n      showContactGlasses = true,\n    } = this.props;\n\n    return (\n      <>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Esfera</th>\n              <th>Cilindro</th>\n              <th>Eje</th>\n              <th>Adici&oacute;n</th>\n              <th>Adici&oacute;n media</th>\n              <th>D/P</th>\n              <th>Altura</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <i className=\"fa fa-eye mr-1\" title=\"Ojo derecho\"></i>\n                <span className=\"text-sm d-block\">Derecho</span>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"esferaod\"\n                  min=\"-20\"\n                  max=\"20\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={esferaod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{esferaod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"cilindrod\"\n                  min=\"-20\"\n                  max=\"0\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={cilindrod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{cilindrod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"ejeod\"\n                  min=\"0\"\n                  max=\"180\"\n                  step=\"1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  placeholder=\"\"\n                  defaultValue={ejeod ? parseInt(ejeod) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{ejeod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adiciond\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adiciond ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{adiciond ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicion_media_od\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicion_media_od ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">\n                  {adicion_media_od ?? \"\"}\n                </h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"dpod\"\n                  min=\"40\"\n                  max=\"80\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={dpod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{dpod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"alturaod\"\n                  min=\"0\"\n                  max=\"35\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={alturaod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{alturaod ?? \"\"}</h5>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <i className=\"fa fa-eye ml-1\" title=\"Ojo izquierdo\"></i>\n                <span className=\"text-sm d-block\">Izquierdo</span>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"esferaoi\"\n                  min=\"-20\"\n                  max=\"20\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={esferaoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{esferaoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"cilindroi\"\n                  min=\"-20\"\n                  max=\"0\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={cilindroi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{cilindroi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"ejeoi\"\n                  min=\"0\"\n                  max=\"180\"\n                  step=\"1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  placeholder=\"\"\n                  defaultValue={ejeoi ? parseInt(ejeoi) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{ejeoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicioni\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicioni ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{adicioni ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicion_media_oi\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicion_media_oi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">\n                  {adicion_media_oi ?? \"\"}\n                </h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"dpoi\"\n                  min=\"40\"\n                  max=\"80\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={dpoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{dpoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"alturaoi\"\n                  min=\"0\"\n                  max=\"35\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={alturaoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{alturaoi ?? \"\"}</h5>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        {showContactGlasses && (\n          <ul className=\"list-group d-print-none mt-4\">\n            <li className=\"list-group-item\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  Lente de contacto\n                  <input\n                    type=\"text\"\n                    name=\"lcmarca\"\n                    maxLength=\"70\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcmarca ?? \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n                  <input\n                    type=\"text\"\n                    name=\"lcgod\"\n                    maxLength=\"30\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcgod ? lcgod : \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n                <div className=\"col\">\n                  <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n                  <input\n                    type=\"text\"\n                    name=\"lcgoi\"\n                    maxLength=\"30\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcgoi ? lcgoi : \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n              </div>\n            </li>\n          </ul>\n        )}\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name, type, value, checked } = e.target,\n      { onChangeInput } = this.props;\n    let val = value;\n\n    if (type === \"checkbox\") val = checked;\n    if (type === \"text\") val = value.toLowerCase();\n    if (type === \"number\") {\n      if (name === \"ejeod\" || name === \"ejeoi\") {\n        val = parseInt(value);\n      } else {\n        val = parseFloat(value);\n        val = val.toFixed(2);\n        val = parseFloat(val);\n      }\n    }\n    if (onChangeInput) onChangeInput(name, val);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class ObservacionesExam extends Component {\n  render() {\n    return (\n      <>\n        <label htmlFor=\"observaciones\">Observaciones</label>\n        <textarea\n          name=\"observaciones\"\n          id=\"observaciones\"\n          className=\"form-control\"\n          defaultValue={this.props.observaciones ?? \"\"}\n          onChange={this.catchInputs}\n        ></textarea>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import moment from \"moment\";\n\nconst handleTypeInput = (key) => {\n  if (\n    key === \"pc\" ||\n    key === \"tablet\" ||\n    key === \"movil\" ||\n    key === \"lap\" ||\n    key === \"pc_time\" ||\n    key === \"tablet_time\" ||\n    key === \"movil_time\" ||\n    key === \"lap_time\" ||\n    key === \"frontal\" ||\n    key === \"occipital\" ||\n    key === \"generality\" ||\n    key === \"cefalea\" ||\n    key === \"temporaod\" ||\n    key === \"temporaoi\" ||\n    key === \"c_frecuencia\" ||\n    key === \"c_intensidad\"\n  ) {\n    return \"generales\";\n  }\n  if (\n    key === \"interrogatorio\" ||\n    key === \"coa\" ||\n    key === \"aopp\" ||\n    key === \"aopf\"\n  ) {\n    return \"interrogatorios\";\n  }\n  if (\n    key === \"keratometriaod\" ||\n    key === \"keratometriaoi\" ||\n    key === \"rsod\" ||\n    key === \"rsoi\"\n  ) {\n    return \"keraRet\";\n  }\n  if (\n    key === \"d_time\" ||\n    key === \"d_media\" ||\n    key === \"d_test\" ||\n    key === \"d_fclod\" ||\n    key === \"d_fclod_time\" ||\n    key === \"d_fcloi\" ||\n    key === \"d_fcloi_time\"\n  ) {\n    return \"diabetes\";\n  }\n  if (\n    key === \"cvod\" ||\n    key === \"cvoi\" ||\n    key === \"avslod\" ||\n    key === \"avsloi\" ||\n    key === \"avcgaod\" ||\n    key === \"avcgaoi\" ||\n    key === \"avfod\" ||\n    key === \"avfoi\" ||\n    key === \"avf2o\"\n  ) {\n    return \"agudeza\";\n  }\n  if (\n    key === \"diagnostico\" ||\n    key === \"presbicie\" ||\n    key === \"piod\" ||\n    key === \"pioi\" ||\n    key === \"txoftalmico\"\n  ) {\n    return \"diagnostico\";\n  }\n  if (\n    key === \"esferaod\" ||\n    key === \"esferaoi\" ||\n    key === \"cilindrod\" ||\n    key === \"cilindroi\" ||\n    key === \"ejeod\" ||\n    key === \"ejeoi\" ||\n    key === \"adiciond\" ||\n    key === \"adicioni\" ||\n    key === \"adicion_media_od\" ||\n    key === \"adicion_media_oi\" ||\n    key === \"dpod\" ||\n    key === \"dpoi\" ||\n    key === \"alturaod\" ||\n    key === \"alturaoi\" ||\n    key === \"lcmarca\" ||\n    key === \"lcgod\" ||\n    key === \"lcgoi\"\n  ) {\n    return \"graduacion\";\n  }\n  if (key === \"observaciones\") {\n    return \"observaciones\";\n  }\n\n  return null;\n};\nconst handleCodeName = (category) => {\n  let code = \"\";\n  if (category.parent) {\n    if (category.parent.parent) {\n      code = category.parent.parent.meta.code;\n      code += category.parent.meta.code;\n      code += category.meta.code;\n    } else {\n      code = category.parent.meta.code;\n      code += category.meta.code;\n    }\n  } else {\n    code = category.meta.code;\n  }\n\n  return code;\n};\nconst getCodeGrad = (category, esferaod, esferaoi, cilindrod, cilindroi) => {\n  const code = Object.keys(category).length ? handleCodeName(category) : null;\n\n  if (!code) return {};\n\n  let gradod = \"+000000\",\n    gradoi = \"+000000\";\n\n  if (cilindrod || esferaod) {\n    gradod = esferaod > 0 ? \"+\" : \"\";\n    gradod +=\n      esferaod.toFixed(2).toString().replace(\".\", \"\") +\n      cilindrod.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\n  }\n  if (cilindroi || esferaoi) {\n    gradoi = esferaoi > 0 ? \"+\" : \"\";\n    gradoi +=\n      esferaoi.toFixed(2).toString().replace(\".\", \"\") +\n      cilindroi.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\n  }\n\n  return {\n    code,\n    od: gradod,\n    oi: gradoi,\n  };\n};\n//Quickly save exam with a button\nconst handleSaveExam = (contact, id = 0, _save) => {\n  const examToday = contact.examenes.filter(\n    (exam) =>\n      moment(exam.created_at).diff(moment(), \"days\") === 0 || !exam.estado\n  );\n\n  if (examToday.length && !id) {\n    window.Swal.fire({\n      title: \"Examenes\",\n      text: \"Existe un examen activo o del dia\",\n      icon: \"error\",\n    });\n    console.error(\"[OrusSystem] Examenes activos:\", examToday.length);\n    return false;\n  }\n\n  //Confirmacin de almacenamiento\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `Esta seguro de actualizar este examen?`\n      : \"Esta seguro de crear un nuevo examen?\",\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        id: 0,\n        data: {\n          edad: contact.edad,\n          contact_id: contact.id,\n        },\n      });\n    }\n  });\n};\n\nconst toExportActions = {\n  handleTypeInput,\n  handleCodeName,\n  getCodeGrad,\n  handleSaveExam,\n};\n\nexport default toExportActions;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport useCategory from \"../../../hooks/useCategory\";\nimport helper from \"../helpers\";\n\nexport default function RecomendationGlass(props) {\n  const [state, setState] = useState({\n    category_list: [],\n    category_list_2: [],\n    category_list_3: [],\n    category_id_1: 0,\n    category_id_2: 0,\n    category_id_3: 0,\n    category: {},\n    codesItems: {},\n  });\n  const _category = useCategory();\n  const {\n      category_id,\n      title,\n      esferaod,\n      esferaoi,\n      cilindrod,\n      cilindroi,\n      handleCodesItems,\n    } = props,\n    {\n      codesItems,\n      category_id_1,\n      category_id_2,\n      category_id_3,\n      category_list_2,\n      category_list_3,\n      category_list,\n    } = state;\n  // Functions\n  const handleCategoryChange = (e) => {\n    const { name, value } = e.target,\n      { onChangeInput: _onChangeInput } = props;\n\n    switch (name) {\n      case \"category_id_1\":\n        for (const key in category_list) {\n          if (category_list[key].id === parseInt(value)) {\n            setState({\n              ...state,\n              category_id_1: parseInt(value),\n              category_id_3: 0,\n              category_list_2: category_list[key].sons,\n              category_list_3: [],\n            });\n            break;\n          }\n        }\n        break;\n      case \"category_id_2\":\n        if (value) {\n          state.category_list_2.map((cat) => {\n            if (cat.id === parseInt(value)) {\n              setState({\n                ...state,\n                category_id_2: parseInt(value),\n                category_list_3: cat.sons,\n              });\n            }\n            return null;\n          });\n        }\n        break;\n      case \"category_id_3\":\n        _onChangeInput(parseInt(value));\n        break;\n\n      default:\n        setState({\n          ...state,\n          [name]: parseInt(value),\n        });\n        break;\n    }\n  };\n  const handleClickCategory = (e) => {\n    e.preventDefault();\n    const { onChangeInput } = props;\n    setState({\n      ...state,\n      category_list_2: [],\n      category_list_3: [],\n      category_id_1: 0,\n      category_id_2: 0,\n      category_id_3: 0,\n      category: {},\n      codesItems: {},\n    });\n    onChangeInput(0);\n  };\n  const getCategory = async (id) => {\n    if (id) {\n      _category.getCategory(id).then((cat) => {\n        if (cat.id) {\n          setState({\n            ...state,\n            category: cat,\n          });\n        } else {\n          console.error(\"[DEBUG] NEW ERROR\", cat);\n        }\n      });\n    }\n\n    return {};\n  };\n  const getCategories = async () => {\n    _category\n      .getCategories({\n        categoryid: \"raiz\",\n        search: \"lentes\",\n        order: \"id\",\n      })\n      .then(({ data: cat }) => {\n        setState({\n          ...state,\n          category_list: cat[0].sons,\n        });\n      });\n  };\n\n  useEffect(() => {\n    if (category_id) {\n      getCategory(category_id);\n    } else {\n      getCategories();\n    }\n  }, [category_id]);\n\n  useEffect(() => {\n    if (state.category.id) {\n      const data = helper.getCodeGrad(\n        state.category,\n        esferaod,\n        esferaoi,\n        cilindrod,\n        cilindroi\n      );\n\n      setState({\n        ...state,\n        codesItems: data,\n      });\n    }\n  }, [state.category]);\n\n  return (\n    <div className=\"card border border-info rounded d-print-none\">\n      <div className=\"card-body\">\n        <h3 className=\"card-title text-success m-2\">{title}</h3>\n        {!category_id && (\n          <>\n            {category_list.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Tipo</span>\n                </div>\n                <select\n                  name=\"category_id_1\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_1 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el tipo --</option>\n                  {category_list.map((cat) => {\n                    if (\n                      cat.meta &&\n                      cat.meta.rangoInf <= esferaod &&\n                      esferaod <= cat.meta.rangoSup &&\n                      cat.meta.rangoInf <= esferaoi &&\n                      esferaoi <= cat.meta.rangoSup &&\n                      cat.meta.cil <= cilindrod &&\n                      cat.meta.cil <= cilindroi\n                    ) {\n                      return (\n                        <option value={cat.id} key={cat.id}>\n                          {cat.name}\n                        </option>\n                      );\n                    } else return null;\n                  })}\n                </select>\n              </div>\n            ) : null}\n\n            {category_id_1 && category_list_2.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Material</span>\n                </div>\n                <select\n                  name=\"category_id_2\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_2 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el material --</option>\n                  {category_list_2.map((cat) => {\n                    if (\n                      cat.meta &&\n                      cat.meta.rangoInf <= esferaod &&\n                      esferaod <= cat.meta.rangoSup &&\n                      cat.meta.rangoInf <= esferaoi &&\n                      esferaoi <= cat.meta.rangoSup\n                    ) {\n                      return (\n                        <option value={cat.id ?? \"\"} key={cat.id}>\n                          {cat.name}\n                        </option>\n                      );\n                    } else return false;\n                  })}\n                </select>\n              </div>\n            ) : null}\n\n            {category_id_1 && category_id_2 && category_list_3.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Tratamiento</span>\n                </div>\n                <select\n                  name=\"category_id_3\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_3 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el tratamiento --</option>\n                  {category_list_3.map((cat) => {\n                    return (\n                      <option value={cat.id ?? \"\"} key={cat.id}>\n                        {cat.name}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n            ) : null}\n          </>\n        )}\n\n        {Object.values(codesItems).length ? (\n          <>\n            {codesItems.code + codesItems.od ===\n            codesItems.code + codesItems.oi ? (\n              <p className=\"card-text\">\n                <label>Lente</label>: {codesItems.code + codesItems.od}\n              </p>\n            ) : (\n              <div className=\"row card-text\">\n                <div className=\"col\">\n                  <label>Lente Derecho</label>\n                  <br /> {codesItems.code + codesItems.od}\n                </div>\n                <div className=\"col\">\n                  <label>Lente Izquierdo</label>\n                  <br /> {codesItems.code + codesItems.oi}\n                </div>\n              </div>\n            )}\n\n            {handleCodesItems && (\n              <p className=\"card-text text-right\">\n                <button\n                  className=\"btn btn-info\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    handleCodesItems({\n                      code: codesItems.code,\n                      od: codesItems.od,\n                      oi: codesItems.oi,\n                    });\n                  }}\n                >\n                  <i className=\"fas fa-check mr-2\"></i>Siguiente\n                </button>\n              </p>\n            )}\n\n            {props.update ? (\n              <p className=\"card-text text-right\">\n                <button\n                  className=\"btn btn-outline-info btn-sm card-link mt-2\"\n                  onClick={handleClickCategory}\n                >\n                  Cambiar\n                </button>\n              </p>\n            ) : null}\n          </>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport moment from \"moment\";\nimport useContact from \"../../../hooks/useContact\";\n\nimport helper from \"../helper\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function CardNewContact(props) {\n  const { title = \"contacto\", nameDefault, messages = [] } = props;\n  const [data, setData] = useState({\n    name: \"\",\n    phone: \"\",\n    birthday: moment(),\n    email: \"\",\n    gender: \"female\",\n  });\n\n  const hookContact = useContact();\n\n  const handleValidForm = (showMsg = false) => {\n    const verify = helper.handleVerificationData(data, showMsg);\n    return verify.result;\n  };\n\n  const handleSave = () => {\n    const valid = handleValidForm(true),\n      body = {\n        ...data,\n        phones: { cell: data.phone },\n        type: 0,\n        business: 0,\n      };\n    if (!valid) return false;\n\n    hookContact.saveContact(body).then((data) => {\n      if (data?.id) {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Usuario guardado correctamente\",\n          showConfirmButton: false,\n          showCancelButton: false,\n          timer: 3000,\n        }).then(({ dissmiss }) => {\n          if (!dissmiss) {\n            props.handleResult(data);\n          }\n        });\n      } else {\n        window.Swal.fire({\n          icon: \"errror\",\n          title: \"Error al guardar el usuario\",\n          showConfirmButton: false,\n          showCancelButton: false,\n          timer: 3000,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (nameDefault) {\n      setData({\n        ...data,\n        name: nameDefault,\n      });\n    }\n  }, []);\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-primary text-bold\">\n              <i className=\"fas fa-plus mr-2\"></i>\n              Crear nuevo {title}\n            </h5>\n            <button\n              type=\"button\"\n              className=\"close\"\n              onClick={props.handleCancel}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            {messages.length ? (\n              <>\n                {messages.map((message, index) => {\n                  const { type, text } = message;\n\n                  return (\n                    <div\n                      className={`alert alert-${\n                        type === \"error\"\n                          ? \"danger\"\n                          : type === \"success\"\n                          ? type\n                          : \"warning\"\n                      }`}\n                      key={index}\n                    >\n                      <i className=\"fas fa-info mr-1\"></i>\n                      {text}\n                    </div>\n                  );\n                })}\n              </>\n            ) : null}\n            <div className=\"form-group\">\n              <label>Nombre del {title}</label>\n              <input\n                type=\"text\"\n                className=\"form-control text-uppercase\"\n                placeholder={`Nombre del ${title}`}\n                autoComplete=\"off\"\n                required=\"required\"\n                pattern=\"^[a-zA-Z.]{2,20}[\\s]{1}[a-zA-Z.]{2,20}.*\"\n                minLength=\"8\"\n                defaultValue={data.name}\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    name: target.value.toLowerCase(),\n                  });\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>E-mail</label>\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                defaultValue={data.email}\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    email: target.value.toLowerCase(),\n                  });\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Telefono celular</label>\n              <input\n                type=\"tel\"\n                placeholder=\"Telefono celular\"\n                className=\"form-control\"\n                maxLength=\"10\"\n                value={data.phone}\n                onChange={({ target }) => {\n                  if (!isNaN(target.value)) {\n                    setData({\n                      ...data,\n                      phone: target.value,\n                    });\n                  }\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Fecha de naciemiento</label>\n\n              <DatePicker\n                className={`form-control`}\n                locale=\"es\"\n                selected={new Date(data.birthday.format(\"YYYY/MM/DD\"))}\n                dateFormat=\"dd/MM/yyyy\"\n                maxDate={new Date()}\n                placeholderText=\"Seleccione una fecha\"\n                onSelect={(date) => {\n                  if (date) {\n                    date = date.toLocaleDateString(\"es-MX\");\n                    date = moment(date, \"DD/MM/YYYY\");\n\n                    if (date.isValid()) {\n                      setData({\n                        ...data,\n                        birthday: date,\n                      });\n                    }\n                  }\n                }}\n                onChange={(date) => {\n                  if (date) {\n                    date = date.toLocaleDateString(\"es-MX\");\n                    date = moment(date, \"DD/MM/YYYY\");\n\n                    if (date.isValid()) {\n                      setData({\n                        ...data,\n                        birthday: date,\n                      });\n                    }\n                  }\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Gnero</label>\n              <select\n                className=\"custom-select\"\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    gender: target.value,\n                  });\n                }}\n                defaultValue={data.gender}\n              >\n                <option value=\"male\">Hombre</option>\n                <option value=\"female\">Mujer</option>\n              </select>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <div className=\"btn-group\">\n              {props.handleCancel && (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default\"\n                  onClick={props.handleCancel}\n                >\n                  <i className=\"fas fa-ban mr-1\"></i>\n                  cancelar\n                </button>\n              )}\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={handleSave}\n              >\n                <i className=\"fas fa-save\"></i>\n                Guardar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","export default function Autocomplete(props) {\n  return (\n    <div\n      className=\"position-absolute overflow-auto\"\n      style={{\n        left: props.left ?? \"0rem\",\n        height: !props.showNew ? \"12rem\" : \"0rem\",\n        zIndex: \"10\",\n        width: \"100%\",\n        maxWidth: props.maxWidth ?? \"30rem\",\n      }}\n    >\n      <ul className=\"list-group\">\n        {props.contacts.length ? (\n          <>\n            {props.contacts.map((contact) => {\n              if (contact.id === 2) {\n                return (\n                  <li\n                    key={contact.id}\n                    className=\"list-group-item text-capitalize\"\n                  >\n                    <i className=\"fas fa-user mr-1 text-secondary\"></i>\n                    {contact.name.toLowerCase()}\n                  </li>\n                );\n              } else {\n                return (\n                  <li\n                    key={contact.id}\n                    className=\"list-group-item text-capitalize\"\n                  >\n                    <a\n                      href=\"#selecte\"\n                      className=\"text-indigo\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        props.handleSelected(contact);\n                      }}\n                    >\n                      <i className=\"fas fa-user mr-1\"></i>\n                      {contact.name.toLowerCase()}\n                    </a>\n                  </li>\n                );\n              }\n            })}\n            {props.meta?.total > props.meta?.per_page ? (\n              <li className=\"list-group-item text-muted\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Existen mas registros, sea mas espesifico\n              </li>\n            ) : null}\n          </>\n        ) : props.meta?.total === 0 && props.handleNew ? (\n          <li className=\"list-group-item\">\n            <a\n              href=\"create\"\n              onClick={(e) => {\n                e.preventDefault();\n                props.handleNew();\n              }}\n            >\n              <i className=\"fas fa-info-circle mr-1 text-dark\"></i>\n              <label>El {props.title}:</label>\n              <span className=\"text-uppercase text-dark font-weight-bold ml-1\">\n                {props.text}\n              </span>\n              , no existe.\n              <span className=\"badge badge-dark ml-2\">Registrar</span>\n            </a>\n          </li>\n        ) : null}\n      </ul>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useRef, useState } from \"react\";\n\nimport Easycontact from \"./CardNewContact\";\nimport Autocomplete from \"./Autocomplete\";\n\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function ShowCardSearch(props) {\n  const [state, setState] = useState({\n    search: \"\",\n    contacts: [],\n    meta: {},\n    new: false,\n    newName: \"\",\n    loading: false,\n    timer: \"\",\n  });\n  const _contacts = useContact();\n  const input = useRef();\n  // Functions\n  const handleSearch = () => {\n    setState({\n      ...state,\n      timer: \"\",\n      loading: true,\n    });\n    _contacts\n      .getContacts({\n        search: state.search,\n        itemsPage: 10,\n      })\n      .then((res) => {\n        if (res.data) {\n          setState({\n            ...state,\n            contacts: res.data,\n            meta: res.meta,\n            loading: false,\n          });\n        } else {\n          const messages = Object.values(res.errors);\n\n          console.error(\"[Orus System] Message of server:\", res.errors);\n          window.Swal.fire({\n            title: \"Contactos\",\n            text: messages[0],\n            icon: \"error\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n\n          setState({\n            ...state,\n            contacts: [],\n            meta: {},\n            loading: false,\n          });\n        }\n      });\n  };\n\n  useEffect(() => {\n    let toTimer = null;\n    if (state.search.length >= 3) {\n      if (state.timer) clearTimeout(state.timer);\n      toTimer = setTimeout(() => handleSearch(), 2000);\n      setState({\n        ...state,\n        timer: toTimer,\n        contacts: [],\n        meta: {},\n      });\n    } else if (!state.search.length) {\n      if (state.timer) clearTimeout(state.timer);\n      setState({\n        ...state,\n        timer: null,\n        contacts: [],\n        meta: {},\n        loading: false,\n      });\n    }\n  }, [state.search]);\n\n  return (\n    <>\n      <input\n        type=\"text\"\n        className=\"form-control text-uppercase\"\n        defaultValue={state.search}\n        onChange={({ target }) => {\n          setState({\n            ...state,\n            search: target.value?.toLowerCase(),\n          });\n        }}\n        disabled={state.loading}\n        onKeyDown={({ key }) => {\n          if (key === \"Escape\") {\n            setState({\n              ...state,\n              contacts: [],\n              search: \"\",\n            });\n            input.current.value = \"\";\n          } else if (key === \"Enter\") {\n            if (state.timer) clearTimeout(state.timer);\n            handleSearch();\n            setState({\n              ...state,\n              timer: null,\n            });\n          }\n        }}\n        ref={input}\n      />\n\n      {state.loading && (\n        <div className=\"float-right px-4\">\n          <div className=\"spinner-border text-indigo\"></div>\n        </div>\n      )}\n\n      {state.new && (\n        <Easycontact\n          title={props.title}\n          nameDefault={state.newName}\n          handleCancel={(e) => {\n            setState({\n              ...state,\n              new: false,\n              newName: \"\",\n            });\n          }}\n          handleResult={(contact) => {\n            setState({\n              ...state,\n              new: false,\n              newName: \"\",\n            });\n            props.handleSelectContact(contact);\n          }}\n        />\n      )}\n\n      {state.search.length > 2 && !state.loading && (\n        <div className=\"w-100 d-block position-static\">\n          <Autocomplete\n            contacts={state.contacts}\n            text={state.search}\n            meta={state.meta}\n            title={props.title}\n            left=\"6rem\"\n            maxWidth=\"28rem\"\n            handleNew={(e) => {\n              setState({\n                ...state,\n                contacts: [],\n                search: \"\",\n                new: true,\n                newName: state.search,\n              });\n              input.current.value = \"\";\n            }}\n            handleSelected={(contact) => {\n              props.handleSelectContact(contact);\n\n              setState({\n                ...state,\n                contacts: [],\n                search: \"\",\n              });\n              input.current.value = \"\";\n            }}\n          />\n        </div>\n      )}\n    </>\n  );\n}\n","import { useHistory } from \"react-router-dom\";\nimport Search from \"./ShowCardSearch\";\n\nexport default function ShowContactComponent(props) {\n  const { data = {}, readOnly = false, title = \"contacto\", legend } = props;\n  const history = useHistory();\n\n  return (\n    <div className=\"w-100 d-block\">\n      {legend && !data.id && (\n        <span className=\"text-sm text-muted ml-4 w-100 d-block\">\n          <label>Primero:</label> {legend}\n        </span>\n      )}\n\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className=\"input-group-text text-capitalize\">\n            <i className=\"fas fa-user mr-2\"></i> {title}\n          </span>\n        </div>\n\n        \n        {data.id ? (\n          <>\n            <span className=\"form-control bg-light\">\n              {data.name.toUpperCase()}\n              <span className=\"badge badge-secondary mx-1\">\n                <i className=\"fas fa-envelope mr-1\"></i>\n                {data.email ? data.email : \"--\"}\n              </span>\n              <span className=\"badge badge-secondary ml-1\">\n                <i className=\"fas fa-calendar mr-1\"></i>\n                {props.age ? `${props.age} aos` : \"--\"}                \n              </span>\n            </span>\n            {!readOnly && (\n              <div className=\"float-right\">\n                <div className=\"btn-group btn-sm d-print-none\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary btn-sm\"\n                    onClick={() => {\n                      window.Swal.fire({\n                        title: \"Contactos\",\n                        text: `Esta seguro de cambiar de ${props.title}?`,\n                        icon: \"question\",\n                        showCancelButton: true,\n                        // confirmButtonColor: \"#d33\",\n                        confirmButtonText: \"Cambiar\",\n                        cancelButtonText: \"Cancelar\",\n                        showLoaderOnConfirm: true,\n                      }).then(({ dismiss }) => {\n                        if (!dismiss) {\n                          props.handleContactSelect({ id: 0 });\n                          //props.handleContactSelect();\n                        }\n                      });\n                    }}\n                    title=\"Cambiar\"\n                  >\n                    <i className=\"fas fa-exchange-alt\"></i>\n                  </button>\n                  <button\n                    className=\"btn bg-indigo btn-sm\"\n                    onClick={() => history.push(`/contactos/${data.id}`)}\n                    title=\"Editar\"\n                  >\n                    <i className=\"fas fa-edit\"></i>\n                  </button>\n                </div>\n              </div>\n            )}\n          </>\n        ) : (\n          <Search\n            title={title}\n            handleSelectContact={(contact) => {\n              props.handleContactSelect(contact);\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n","export default function SideBarRigth({ state, handle: _handle }) {\n  return (\n    <div className=\"nav flex-column nav-tabs\">\n      <a\n        className={!state.panel ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(0);\n        }}\n      >\n        <i\n          className={\n            state.generales\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Generales\n      </a>\n\n      <a\n        className={state.panel === 1 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(1);\n        }}\n      >\n        <i\n          className={\n            state.interrogatorios\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Interrogatorio\n      </a>\n\n      <a\n        className={state.panel === 2 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(2);\n        }}\n      >\n        <i\n          className={\n            state.keraRet\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Keratometria\n      </a>\n\n      <a\n        className={state.panel === 3 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(3);\n        }}\n      >\n        <i\n          className={\n            state.diabetes\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Diabetes\n      </a>\n\n      <a\n        className={state.panel === 4 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(4);\n        }}\n      >\n        <i\n          className={\n            state.agudeza\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Agudeza\n      </a>\n\n      <a\n        className={state.panel === 5 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(5);\n        }}\n      >\n        <i\n          className={\n            state.diagnostico\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Diagnostico\n      </a>\n\n      <a\n        className={state.panel === 6 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(6);\n        }}\n      >\n        <i\n          className={\n            state.graduacion\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Graduacin\n      </a>\n\n      <a\n        className={state.panel === 7 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(7);\n        }}\n      >\n        <i\n          className={\n            state.observaciones\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Observaciones\n      </a>\n\n      <a\n        className={state.panel === 8 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(8);\n        }}\n      >\n        <i\n          className={\n            state.recomendaciones\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Recomendaciones\n      </a>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n//Componentes\nimport Generales from \"./views/GeneralesExam\";\nimport Interrogatorios from \"./views/interrogatoriosExam\";\nimport KeraRet from \"./views/keraRetExam\";\nimport Diabetes from \"./views/diabetesExam\";\nimport Agudeza from \"./views/agudezaExam\";\nimport Diagnostico from \"./views/diagnosticoExam\";\nimport Graduacion from \"./views/graduacionExam\";\nimport Observaciones from \"./views/observacionesExam\";\nimport Recomendaciones from \"./views/RecomendationGlass\";\nimport ShowContact from \"../Contacts/views/ShowCard\";\nimport SideBarRigth from \"./views/SideBarRigth\";\nimport useExam from \"../../hooks/useExam\";\nimport Activitys from \"../Activitys\";\n\nexport default function Add(props) {\n\n\n  const [state, setState] = useState({\n    ...getDataDefault(),\n    loading: false,\n    panel: 0,\n    used: {\n      generales: false,\n      interrogatorios: false,\n      keraRet: false,\n      diabetes: false,\n      agudeza: false,\n      diagnostico: false,\n      graduacion: false,\n      observaciones: false,\n      recomendaciones: false,\n    },\n    activitys:[],\n  });\n\n  \n  const { id } = props.match.params;\n  const _exams = useExam();\n  const history = useHistory();\n\n  // Functions\n  const handlePanel = (num) => {\n    if (isNaN(num)) return;\n    if (typeof num === \"string\") num = parseInt(num);\n\n    setState({\n      ...state,\n      panel: num,\n    });\n  };\n  const handleSave = () => {\n\n    const data = {\n      ...state,\n    };\n\n\n\n    const { contact } = data;\n    delete data.loading;\n    delete data.panel;\n    delete data.used;\n    delete data.contact;\n\n    delete data.activitys;        \n\n    if (!data.category_ii) delete data.category_ii;\n    if (!data.category_id) delete data.category_id;\n\n    if (\n      (data.cilindrod < 0 && !data.ejeod) ||\n      (data.cilindroi < 0 && !data.ejeoi)\n    ) {\n      window.Swal.fire(\n        \"Consultorio\",\n        \"El campo CILINDRO esta vacio\",\n        \"warning\"\n      );\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Consultorio\",\n      text: data.id\n        ? `Desea actualizar el examen de ${contact.name.toUpperCase()}?`\n        : `Desea crear un nuevo examen para ${contact.name.toUpperCase()}?`,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonText: data.id ? \"Actualizar\" : \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        _exams.saveExam(data).then((res) => {\n          if (res?.id) {\n            console.log(\"[Orus System] Save exam successfully\", res.id);\n            props.handleNewOrEdit();\n            history.push(\"/consultorio\");\n          } else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.error(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {    \n    if (id) {\n      console.log(\"[Orus System] Loading exam:\", id);\n      setState({\n        ...state,\n        loading: false,\n      });\n      _exams.getExam(id).then((res) => {        \n        res.category_ii = res.category_ii?.id;\n        res.category_id = res.category_id?.id;        \n\n        setState({\n          ...getDataDefault(res),\n          loading: false,\n          panel: 0,\n          used: {\n            generales: true,\n            interrogatorios: true,\n            keraRet: true,\n            diabetes: true,\n            agudeza: true,\n            diagnostico: true,\n            graduacion: true,\n            observaciones: true,\n            recomendaciones: true,\n          },\n          activitys: res.activity ?? [],\n        });\n      });\n    }\n  }, [id]);\n\n  return (\n    <>\n      <div className=\"card card-info card-outline d-print-none\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title text-info\">\n            <i className=\"fas fa-notes-medical mr-1\"></i>\n            {state.id ? (\n              <label>\n                Examen <span className=\"badge badge-info\">#{state.id}</span>\n              </label>\n            ) : (\n              \"Nuevo examen\"\n            )}\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"form-group\">\n            <ShowContact\n              readOnly={state.id ? true : false}\n              title=\"paciente\"\n              legend=\"Busque el paciente por nombre para crear un nuevo examen\"\n              left=\"6.5rem\"\n              data={state.contact}\n              age = {state.age}\n              handleContactSelect={(doc) => {                \n                setState({\n                  ...state,\n                  contact: doc,\n                  contact_id: doc.id,\n                  age:doc.age\n                });\n              }}\n            />\n          </div>\n\n          {state.contact?.id ? (\n            <div className=\"row\">\n              <div className=\"col-2\">\n                <SideBarRigth\n                  state={{ panel: state.panel, ...state.used }}\n                  handle={handlePanel}\n                />\n              </div>\n              <div className=\"col-10\">\n                {!state.panel ? (\n                  <Generales\n                    pc={state.pc ?? \"\"}\n                    tablet={state.tablet ?? \"\"}\n                    movil={state.movil ?? \"\"}\n                    lap={state.lap ?? \"\"}\n                    lap_time={state.lap_time ?? \"\"}\n                    pc_time={state.pc_time ?? \"\"}\n                    tablet_time={state.tablet_time ?? \"\"}\n                    movil_time={state.movil_time ?? \"\"}\n                    cefalea={state.cefalea ?? \"\"}\n                    c_frecuencia={state.c_frecuencia ?? \"\"}\n                    c_intensidad={state.c_intensidad ?? \"\"}\n                    frontal={state.frontal ?? \"\"}\n                    temporal={state.temporal ?? \"\"}\n                    occipital={state.occipital ?? \"\"}\n                    generality={state.generality ?? \"\"}\n                    temporaoi={state.temporaoi ?? \"\"}\n                    temporaod={state.temporaod ?? \"\"}\n                    handleGetData={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          generales: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n                {state.panel === 1 ? (\n                  <Interrogatorios\n                    interrogatorio={state.interrogatorio ?? \"\"}\n                    coa={state.coa ?? \"\"}\n                    aopp={state.aopp ?? \"\"}\n                    aopf={state.aopf ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          interrogatorios: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 2 ? (\n                  <KeraRet\n                    keratometriaoi={state.keratometriaoi ?? \"\"}\n                    keratometriaod={state.keratometriaod ?? \"\"}\n                    rsoi={state.rsoi ?? \"\"}\n                    rsod={state.rsod ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          keraRet: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 3 ? (\n                  <Diabetes\n                    d_time={state.d_time ?? \"\"}\n                    d_media={state.d_media ?? \"\"}\n                    d_test={state.d_test ?? \"\"}\n                    d_fclod={state.d_fclod ?? \"\"}\n                    d_fclod_time={state.d_fclod_time ?? \"\"}\n                    d_fcloi={state.d_fcloi ?? \"\"}\n                    d_fcloi_time={state.d_fcloi_time ?? \"\"}\n                    oftalmoscopia={state.oftalmoscopia ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          diabetes: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 4 ? (\n                  <Agudeza\n                    cvod={state.cvod ?? \"\"}\n                    cvoi={state.cvoi ?? \"\"}\n                    avslod={state.avslod ?? \"\"}\n                    avsloi={state.avsloi ?? \"\"}\n                    avcgaod={state.avcgaod ?? \"\"}\n                    avcgaoi={state.avcgaoi ?? \"\"}\n                    avfod={state.avfod ?? \"\"}\n                    avfoi={state.avfoi ?? \"\"}\n                    avf2o={state.avf2o ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          agudeza: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 5 ? (\n                  <Diagnostico\n                    diagnostico={state.diagnostico ?? \"\"}\n                    presbicie={state.presbicie ?? \"\"}\n                    piod={state.piod ?? \"\"}\n                    pioi={state.pioi ?? \"\"}\n                    txoftalmico={state.txoftalmico ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          diagnostico: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 6 ? (\n                  <Graduacion\n                    esferaod={state.esferaod ?? 0}\n                    esferaoi={state.esferaoi ?? 0}\n                    cilindrod={state.cilindrod ?? 0}\n                    cilindroi={state.cilindroi ?? 0}\n                    ejeod={state.ejeod ?? 0}\n                    ejeoi={state.ejeoi ?? 0}\n                    adiciond={state.adiciond ?? 0}\n                    adicioni={state.adicioni ?? 0}\n                    adicion_media_od={state.adicion_media_od ?? 0}\n                    adicion_media_oi={state.adicion_media_oi ?? 0}\n                    dpod={state.dpod ?? 0}\n                    dpoi={state.dpoi ?? 0}\n                    alturaod={state.alturaod ?? 0}\n                    alturaoi={state.alturaoi ?? 0}\n                    lcmarca={state.lcmarca ?? 0}\n                    lcgod={state.lcgod ?? 0}\n                    lcgoi={state.lcgoi ?? 0}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          graduacion: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 7 ? (\n                  <Observaciones\n                    observaciones={state.observaciones ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          observaciones: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 8 ? (\n                  <div className=\"row\">\n                    <div className=\"col\">\n                      <Recomendaciones\n                        category_id={state.category_id ?? null}\n                        esferaod={state.esferaod ?? \"\"}\n                        esferaoi={state.esferaoi ?? \"\"}\n                        cilindrod={state.cilindrod ?? \"\"}\n                        cilindroi={state.cilindroi ?? \"\"}\n                        nameItem=\"item1\"\n                        title=\"Recomendacion principal\"\n                        onChangeInput={(value) => {\n                          setState({\n                            ...state,\n                            category_id: value,\n                            category_ii: 0,\n                            used: {\n                              ...state.used,\n                              recomendaciones: true,\n                            },\n                          });\n                        }}\n                        update={true}\n                      />\n                    </div>\n                    {state.category_id ? (\n                      <div className=\"col\">\n                        <Recomendaciones\n                          category_id={state.category_ii ?? null}\n                          esferaod={state.esferaod ?? \"\"}\n                          esferaoi={state.esferaoi ?? \"\"}\n                          cilindrod={state.cilindrod ?? \"\"}\n                          cilindroi={state.cilindroi ?? \"\"}\n                          nameItem=\"item2\"\n                          title=\"Recomendacion adicional\"\n                          onChangeInput={(value) => {\n                            setState({\n                              ...state,\n                              category_ii: value,\n                              used: {\n                                ...state.used,\n                                recomendaciones: true,\n                              },\n                            });\n                          }}\n                          update={true}\n                        />\n                      </div>\n                    ) : null}\n                  </div>\n                ) : null}\n              </div>\n            </div>\n          ) : null}\n        </div>\n        <div className=\"card-footer text-right\">\n          <div className=\"btn-group\" role=\"group\">\n            <a\n              href=\"#close\"\n              className=\"btn btn-default\"\n              onClick={(e) => {\n                e.preventDefault();\n                history.push(\"/consultorio\");\n                props.handleNewOrEdit();\n              }}\n            >\n              <i\n                className={\n                  state.id ? \"fas fa-arrow-left mr-2\" : \"fas fa-ban mr-2\"\n                }\n              ></i>\n              <strong>{state.id ? \"Cancelar\" : \"Cerrar\"}</strong>\n            </a>\n            {state.id ? (\n              <button\n                className=\"btn btn-default\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  // window.print();\n                }}\n              >\n                <i className=\"fas fa-print mr-2\"></i>\n                Imprimir\n              </button>\n            ) : null}\n            <button\n              type=\"button\"\n              className={\n                state.contact?.id ? \"btn btn-info\" : \"btn btn-info disabled\"\n              }\n              onClick={handleSave}\n              disabled={state.contact?.id ? false : true}\n            >\n              <i className=\"fas fa-save mr-1\"></i>\n              <strong>{state.id ? \"Actualizar\" : \"Guardar\"}</strong>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {\n        state.activitys.length ? (\n          <Activitys\n            data = {state.activitys}\n          />\n        ): null\n      }\n\n      \n    </>\n  );\n}\n\nfunction getDataDefault(data = {}) {    \n  let edad = 0;\n  if(data?.customer?.age){\n    edad = data.customer.age;\n  }\n  return {\n    id: data.id ?? 0,\n    age: data.age ? data.age : edad,    \n    keratometriaoi: data.keratometriaoi ?? \"\",\n    keratometriaod: data.keratometriaod ?? \"\",\n    pantalleooi: data.pantalleooi ?? \"\",\n    pantalleood: data.pantalleood ?? \"\",\n    interrogatorio: data.interrogatorio ?? \"\",\n    cefalea: data.cefalea ?? 0,\n    c_frecuencia: data.c_frecuencia ?? \"\",\n    c_intensidad: data.c_intensidad ?? 0,\n    frontal: data.frontal ?? 0,\n    temporal: data.temporal ?? 0,\n    occipital: data.occipital ?? 0,\n    generality: data.generality ?? 0,\n    temporaoi: data.temporaoi ?? 0,\n    temporaod: data.temporaod ?? 0,\n    coa: data.coa ?? \"\",\n    aopp: data.aopp ?? \"\",\n    aopf: data.aopf ?? \"\",\n    avsloi: data.avsloi ?? \"\",\n    avslod: data.avslod ?? \"\",\n    avcgaoi: data.avcgaoi ?? \"\",\n    avcgaod: data.avcgaod ?? \"\",\n    cvoi: data.cvoi ?? \"\",\n    cvod: data.cvod ?? \"\",\n    oftalmoscopia: data.oftalmoscopia ?? \"\",\n    rsoi: data.rsoi ?? \"\",\n    rsod: data.rsod ?? \"\",\n    diagnostico: data.diagnostico ?? \"\",\n    presbicie: data.presbicie ?? 0,\n    txoftalmico: data.txoftalmico ?? \"\",\n    esferaoi: data.esferaoi ?? 0,\n    esferaod: data.esferaod ?? 0,\n    cilindroi: data.cilindroi ?? 0,\n    cilindrod: data.cilindrod ?? 0,\n    ejeoi: data.ejeoi ?? 0,\n    ejeod: data.ejeod ?? 0,\n    adicioni: data.adicioni ?? 0,\n    adiciond: data.adiciond ?? 0,\n    adicion_media_oi: data.adicion_media_oi ?? 0,\n    adicion_media_od: data.adicion_media_od ?? 0,\n    dpoi: data.dpoi ?? 0,\n    dpod: data.dpod ?? 0,\n    avfod: data.avfod ?? \"\",\n    avfoi: data.avfoi ?? \"\",\n    avf2o: data.avf2o ?? \"\",\n    lcmarca: data.lcmarca ?? \"\",\n    lcgoi: data.lcgoi ?? \"\",\n    lcgod: data.lcgod ?? \"\",\n    txoptico: data.txoptico ?? \"\",\n    alturaod: data.alturaod ?? 0,\n    alturaoi: data.alturaoi ?? 0,\n    pioi: data.pioi ?? 0,\n    piod: data.piod ?? 0,\n    observaciones: data.observaciones ?? \"\",\n    pc: data.pc ?? 0,\n    tablet: data.tablet ?? 0,\n    movil: data.movil ?? 0,\n    lap: data.lap ?? 0,\n    lap_time: data.lap_time ?? \"00:00\",\n    pc_time: data.pc_time ?? \"00:00\",\n    tablet_time: data.tablet_time ?? \"00:00\",\n    movil_time: data.movil_time ?? \"00:00\",\n    d_time: data.d_time ?? \"\",\n    d_media: data.d_media ?? \"\",\n    d_test: data.d_test ?? \"\",\n    d_fclod: data.d_fclod ?? 0,\n    d_fcloi: data.d_fcloi ?? 0,\n    d_fclod_time: data.d_fclod_time ?? \"00:00\",\n    d_fcloi_time: data.d_fcloi_time ?? \"00:00\",\n    contact: data.customer ?? {},\n    status: data.status ?? 1,\n    contact_id: data.customer?.id,\n    category_id: data.category_id ?? 0,\n    category_ii: data.category_ii ?? 0,\n  };\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport ToolBar from \"../components/Exam/ToolBar\";\nimport Inbox from \"../components/Exam/Inbox\";\nimport Add from \"../components/Exam/Add\";\n\nimport { ExamContext } from \"../context/ExamContext\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  search: \"\",\n  status: \"\",\n  itemsPage: 25,\n  date: \"\",\n  branch: \"all\",\n};\n\nexport default function Exams(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    newOrEdit: null,\n  });\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]);\n\n  return (\n    <ExamContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <ToolBar\n          newOrEdit={state.newOrEdit}\n          handleNewOrEdit={() =>\n            setState({ ...state, newOrEdit: !state?.newOrEdit })\n          }\n        />\n        {typeof state.newOrEdit === \"boolean\" ? (\n          <div className=\"col-sm-12 col-md-10\">\n            {state.newOrEdit ? (\n              <Add\n                {...props}\n                handleNewOrEdit={() =>\n                  setState({ ...state, newOrEdit: !state.newOrEdit })\n                }\n              />\n            ) : (\n              <Inbox />\n            )}\n          </div>\n        ) : (\n          <p>Loading component</p>\n        )}\n      </div>\n    </ExamContext.Provider>\n  );\n}\n","import { createContext, useContext } from \"react\";\n\nexport const SaleContext = createContext(null);\nexport const Sale = () => useContext(SaleContext);","import { useState } from \"react\";\n\nfunction ListItemsModal({\n  items,\n  cantDefault = 1,\n  handleClose: _close,\n  handleSelect: _Select,\n}) {\n\n\n  const [data, setData] = useState({\n    item: null,\n    cant: cantDefault,\n    price: 0,\n  });\n\n  const disabled = data.price <= 0 || isNaN(data.price) ? true : false;\n  \n  //Functions\n  const handleClose = () => {\n      if (_close) _close();\n    },\n\n\n    handleClickItem = (e, item) => {\n      e.preventDefault();\n      setData({\n        ...data,\n        price: item.price,\n        item,\n      });\n    },\n\n    handleSelectItem = () => {\n      const toSend = {\n        ...data,\n        item: {\n          ...data.item,\n          price: data.price,\n        },\n      };\n\n      _Select(toSend);\n\n      setData({\n        item: null,\n        cant: 1,\n        price: 0,\n      });\n      handleClose();\n    },\n\n\n    handleChangeCant = ({ name, value }) => {\n      setData({\n        ...data,\n        [name]: parseInt(value),\n      });\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione un producto</h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              {data.item && data.item.id ? (\n                <>\n                  <div className=\"text-uppercase mb-4\">\n                    {data.item.producto}                  \n                  </div>\n                  <div className=\"form-group row\">\n                    <label className=\"col-2 col-form-label\">Cantidad</label>\n                    {cantDefault < 2 ? (\n                      <div className=\"col\">\n                        <input\n                          type=\"number\"\n                          placeholder=\"Cantidad\"\n                          name=\"cant\"\n                          className=\"form-control\"\n                          defaultValue={data.cant}\n                          onChange={({ target }) => handleChangeCant(target)}\n                        />\n                      </div>\n                    ) : (\n                      <span className=\"col text-lg\">{data.cant}</span>\n                    )}\n                    <label className=\"col-2 col-form-label\">Precio</label>\n                    <div className=\"col\">\n                        <input\n                          type=\"number\"\n                          placeholder=\"Precio\"\n                          name=\"price\"\n                          className=\"form-control\"\n                          defaultValue={data.price.toString()}\n                          onChange={({ target }) => handleChangeCant(target)}\n                        />\n                      </div>\n                  </div>\n                </>\n              ) : (\n                <table className=\"table table-sm\">\n                  <tbody>\n                    {items ? (\n                      <>\n                        {items.length ? (\n                          <>\n                            {items.map((item) => (\n                              <tr key={item.id}>\n                                <td className=\"text-right\">\n                                  <span className=\"badge badge-dark\">\n                                    {item.code}\n                                  </span>\n                                </td>\n                                <td className=\"text-capitalize text-left\">\n                                  <a\n                                    href=\"#select\"\n                                    onClick={(e) => handleClickItem(e, item)}\n                                  >\n                                    {item.name}\n                                  </a>\n                                </td>\n                                <td>${item.price}</td>\n                              </tr>\n                            ))}\n                          </>\n                        ) : (\n                          <tr>\n                            <td>No existen productos para esta coincidencia</td>\n                          </tr>\n                        )}\n                      </>\n                    ) : (\n                      <tr>\n                        <td>\n                          <i className=\"fas fa-info-circle mr-1\"></i> No se\n                          recibieron los productos\n                        </td>\n                      </tr>\n                    )}\n                  </tbody>\n                </table>\n              )}\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={handleClose}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleSelectItem}\n              disabled = { disabled }\n            >\n              <i className=\"fas fa-check mr-1\"></i>\n              Seleccionar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ListItemsModal;\n","const confirm = (text, _make) => {\n  window.Swal.fire({\n    title: \"Ventas\",\n    text,\n    icon: \"warning\",\n    showCancelButton: true,\n    confirmButtonText: \"Aceptar\",\n    cancelButtonText: \"Cancelar\",\n  }).then(({ dismiss }) => {\n    if (!dismiss) {\n      if (_make) _make();\n    }\n  });\n};\n\nconst getMethodName = (status) => {\n  switch (status) {\n    case 1:\n      return \"efectivo\";\n    case 2:\n      return \"tarjeta debito\";\n    case 3:\n      return \"tarjeta Credito\";\n    case 4:\n      return \"la marina\";\n    case 5:\n      return \"cheque\";\n    case 6:\n      return \"transferencia\";\n    default:\n      return \"otro\";\n  }\n};\n\n//TODO:GET SESSION(ERROR VARIABLE)//\nconst getSession = () => {\n  return (\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(10)\n  );\n};\n\nconst getForPay = (items, payments, discount = 0) => {\n  if (!items || !Array.isArray(items) || !items.length) {\n    return 0;\n  }\n\n  if (!Array.isArray(payments)) {\n    payments = [];\n  }\n\n  const paid = payments.reduce((b, p) => b + p.total, 0);\n  const total = items.reduce((b, p) => b + p.subtotal, 0);\n\n  return total - paid - discount;\n};\n\nconst getSubTotal = (items) => {\n  if (!items || !items.length) {\n    return 0;\n  }\n\n  return items.reduce((b, p) => b + p.subtotal, 0);\n};\n\nconst getTotal = (subtotal, discount) => {\n  return subtotal - discount;\n};\n\nconst getPagado = (payments = []) => {\n  if (!payments || !payments.length) {\n    return 0;\n  }\n  return payments.reduce((b, p) => b + p.total, 0);\n};\n\nconst toExport = {\n  confirm,\n  getMethodName,\n  getSession,\n  getForPay,\n  getSubTotal,\n  getTotal,\n  getPagado,\n};\n\nexport default toExport;\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Components\nimport ListModal from \"./ListItemsModal\";\n\n//Hooks\nimport useProducts from \"../../../hooks/useProducts\";\n\n//Helper\nimport helper from \"../helpers\";\n\nfunction InputSearchItem() {\n  //State\n  const [textSearch, setTextSearch] = useState(\"\");\n  const [showList, setShowList] = useState(false);\n  const [cantDefault, setCantDefault] = useState(1);\n  const [list, setList] = useState([]);\n\n  const sale = Sale();\n  const { session } = sale;\n  const hookProducts = useProducts();\n\n  //Functions\n  const handleChangeTextSearch = ({ value }) => {\n      setTextSearch(value);\n    },\n    handlePressEnter = (key) => {\n      if (key === \"Enter\") {\n        searchItem();\n      }\n    },\n    searchItem = () => {\n      if (textSearch.length > 2) {\n        const codes = textSearch.split(\"*\");\n        let search = textSearch;\n\n        if (codes.length === 2) {\n          search = codes[1];\n          setCantDefault(parseInt(codes[0]));\n        }\n\n        hookProducts.getProducts(search).then((data) => {\n          if (data) {\n            setList(data.data);\n          } else {\n            console.error(\"Error al buscar el producto\");\n          }\n        });\n        setTextSearch(\"\");\n      }\n    },\n    handleCloseModal = () => {\n      setShowList(false);\n    },\n    makeItem = (data) => {\n      return {\n        id: 0,\n        cant: data.cant,\n        price: parseFloat(data.item.price),\n        subtotal: parseInt(data.cant) * parseFloat(data.item.price),\n        inStorage:\n          parseInt(data.item.cantidades) >= parseInt(data.cant) ? true : false,\n        out: parseInt(data.item.cantidades) - parseInt(data.cant),\n        cantInStore: parseInt(data.item.cantidades),\n        session,\n        store_items_id: data.item.id,\n        descripcion: data.item.descripcion,\n        producto: data.item.name.toLowerCase(),\n        category: data.item.categoria ? data.item.categoria.id : 0,\n      };\n    },\n    handleSelectItem = (data) => {\n      const item = makeItem(data);\n      handleAddItem(item);\n      setCantDefault(1);\n    },\n    handleAddItem = (result) => {\n      const found = sale.items.filter(\n        (item) => item.store_items_id === result.store_items_id\n      );\n\n      let newItems = sale.items.filter(\n        (item) => item.store_items_id !== result.store_items_id\n      );\n\n      if (found.length) {\n        const cantidad = parseInt(result.cant) + parseInt(found[0].cant),\n          item = {\n            ...found[0],\n            cant: cantidad,\n            subtotal: parseFloat(result.price) * cantidad,\n            inStorage: cantidad >= parseInt(result.cantInStore) ? true : false,\n            out: parseInt(result.cantInStore) - cantidad,\n          };\n        newItems.push(item);\n        window.Swal.fire({\n          title: \"Producto agregado\",\n          text: `Se agrego otro ${found[0].producto} a la lista`,\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonText: \"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        });\n      } else {\n        newItems.push(result);\n      }\n\n      let subtotal = helper.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helper.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      });\n    };\n\n  useEffect(() => {\n    if (list.length) {\n      if (list.length === 1) {\n        const item = makeItem({\n          item: list[0],\n          cant: cantDefault ? cantDefault : 1,\n        });\n\n        if (item.price <= 0) {\n          window.Swal.fire({\n            title: \"Verificar\",\n            text: `El item que intentas agregar tiene un precio de $0, revisa el precio en el almacen`,\n            icon: \"warning\",\n            showCancelButton: false,\n            confirmButtonText: \"Ok\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          });\n        } else {\n          handleAddItem(item);\n          setCantDefault(1);\n        }\n      } else {\n        setShowList(true);\n      }\n    }\n  }, [list]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"btn-group text-center d-print-none\">\n      <input\n        className=\"form-control\"\n        placeholder=\"Codigo\"\n        onChange={({ target }) => handleChangeTextSearch(target)}\n        onKeyPress={({ key }) => handlePressEnter(key)}\n        value={textSearch}\n      />\n      <button\n        type=\"button\"\n        className=\"btn btn-primary\"\n        onClick={searchItem}\n        disabled={textSearch.length > 2 ? false : true}\n      >\n        <i className=\"fas fa-barcode\"></i>\n      </button>\n\n      {showList && list.length ? (\n        <ListModal\n          items={list}\n          cantDefault={cantDefault}\n          handleClose={handleCloseModal}\n          handleSelect={handleSelectItem}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nexport default InputSearchItem;\n","//Context\nimport { Sale } from '../../../context/SaleContext';\n\n//Helper\nimport helper from '../helpers';\n\nexport default function DiscountBtnComponent() {\n\n  const sale = Sale();\n  const pagado = helper.getPagado(sale.payments);\n  const btnDisabled = sale.subtotal - pagado > 0 && sale.discount === 0 && pagado === 0 ? false : true;\n\n\n  //Functions\n  const handleAddDiscount = () => {\n    const discount = window.prompt(\"Agregue el descuento a aplicar\"),\n      isNumeric = /^[0-9]+$/gms,\n      isPercen = /^[0-9]{2,3}%$/gms;\n\n      if(discount === null){\n        return null;\n      }else{\n        let sum = 0;\n        sale.items.forEach((item) => (sum += item.subtotal));\n\n        if (discount.match(isNumeric)) {\n          const value = parseInt(discount);\n          \n          sale.set({\n            ...sale,\n            discount: value,\n            total: sale.subtotal - value,\n          });\n\n        } else if (discount.match(isPercen)) {\n          const percent = parseInt(discount.replace(\"%\", \"\")) / 100,\n          value = parseInt(sum * percent);          \n          sale.set({\n            ...sale,\n            discount: value,  \n            total: sale.subtotal - value,               \n          })          \n        }\n      }\n  };\n\n  return (\n    <button\n      className=\"btn btn-primary mx-1\"\n      title=\"Agregar descuento\"\n      onClick={handleAddDiscount}\n      disabled={btnDisabled}\n    >\n      <i className=\"fas fa-percent\"></i>\n    </button>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useSales(ctx) {\n  //Functions\n  const getSaleList = async (search) => {\n    const salesFilters = {\n      orderBy: \"created_at\",\n      order: \"desc\",\n      itemsPage: 100,\n    };\n    if (search) {\n      salesFilters.search = search;\n    }\n\n    const url = setUrl(\"sales\", null, salesFilters);\n    return await api(url);\n  }; \n\n  const getSaleById = async (id) => {\n    const url = setUrl(\"sales\", id);\n    return await api(url);\n  };\n\n  const saveSale = async (sale) => {\n    try {\n      const { id } = sale,\n        url = setUrl(\"sales\", id),\n        method = id ? \"PUT\" : \"POST\";\n        \n      return await api(url, method, sale);\n    } catch (e) {\n      console.error(\n        \"[Orus System] Error in saga/sales handledSaveSale\",\n        e.message\n      );\n    }\n  };\n\n  return {\n    getSaleList,\n    getSaleById,\n    saveSale,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Hooks\nimport useSales from \"../../../hooks/useSale\";\n\n//Libraries\nimport moment from \"moment\";\n\nfunction ListSalesModal({ handleClose: _close, handleSelect: _select }) {\n  const _sales = useSales();\n\n  const [search, setSearch] = useState(\"\");\n\n  const [saleList, setSaleList] = useState([]);\n\n  const sale = Sale();\n\n  const items =\n    saleList.length !== 0 ? saleList : sale.length !== 0 ? sale : [];\n\n  const handleSelectSale = (e, saleSelected) => {\n      if (e) e.preventDefault();\n\n      if (sale.items.length) {\n        window.Swal.fire({\n          title: \"Ventas\",\n          text: `Si cargas una venta, se cerrar la venta actual`,\n          icon: \"question\",\n          showCancelButton: true,\n          confirmButtonText: \"Cargar\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            _select(saleSelected);\n          } else {\n            return null;\n          }\n        });\n      } else {\n        _select(saleSelected);\n      }\n    },\n    handleChangeSearch = ({ value }) => {\n      setSearch(value);\n    };\n\n  useEffect(() => {\n    _sales\n      .getSaleList(search)\n      .then((data) => {\n        if (data) {          \n          setSaleList(data.data);\n        } else {\n          console.error(\"Error al obtener las ventas\");\n        }\n      })\n      .catch((error) => console.error(error));\n  }, [search]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione una venta</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"w-full d-block mb-4\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"Buscar por folio o nombre\"\n                  onChange={({ target }) => handleChangeSearch(target)}              \n                />\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default ml-1\"                  \n                >\n                  <i className=\"fas fa-search\"></i>\n                </button>\n              </div>\n            </div>\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              <table className=\"table table-sm\">\n                <tbody>\n                  {items ? (\n                    <>\n                      {items.length ? (\n                        <>\n                          {items.map((item) => (\n                            <tr key={item.id}>\n                              <td className=\"text-right\">\n                                <span className=\"badge badge-dark\">\n                                  {item.id}\n                                </span>\n                              </td>\n                              <td className=\"text-capitalize text-left\">\n                                <a\n                                  href=\"#select\"\n                                  onClick={(e) => handleSelectSale(e, item)}\n                                >\n                                  {item.customer ? item.customer.name : \"--\"}\n                                </a>\n                              </td>\n                              <td className=\"text-right\">\n                                {moment(item.created_at).fromNow()}\n                              </td>\n                            </tr>\n                          ))}\n                        </>\n                      ) : (\n                        <tr className=\"overlay dark\">\n                          <td className=\"overlay dark\">\n                            <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                            Cargando las ventas!!\n                          </td>\n                        </tr>\n                      )}\n                    </>\n                  ) : (\n                    <tr>\n                      <td>\n                        <i className=\"fas fa-info-circle mr-1\"></i> Escriba el\n                        folio o nombre para cargar una venta\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ListSalesModal;\n","import { useState } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Components\nimport ListSalesModal from \"./ListSalesModal\";\n\nexport default function ListSalesBtn() {\n  const sale = Sale();\n  const [data, setData] = useState(false);\n  const disabled = sale.items.length ? true : false;\n\n  //Functions\n  const handleShowListSales = () => {\n      setData(true);\n    },\n    handleCloseListSales = () => {\n      setData(false);\n    },\n    handleSelectSale = (saleSelected) => {\n      let pagado = 0;\n      saleSelected.payments.forEach((pay) => (pagado = pay.total));\n      setData(false);\n      \n      sale.set({\n        id: saleSelected.id,\n        contact_id: saleSelected.customer.id,\n        customer: saleSelected.customer,\n        items: saleSelected.items,\n        session: saleSelected.session,\n        discount: saleSelected.discount,\n        subtotal: saleSelected.subtotal,\n        total: saleSelected.total,\n        payments: saleSelected.payments,\n        branch_id: saleSelected.branch.id,\n        created_at: saleSelected.created_at,\n        activitys: saleSelected.activity,\n        order: saleSelected.order ?? 0,\n        thereNews: false,\n      });\n\n      return pagado;\n    };\n\n  return (\n    <>\n      <button\n        className=\"btn btn-primary mr-1\"\n        title=\"Cargar una venta\"\n        onClick={handleShowListSales}\n        disabled={disabled}\n      >\n        <i className=\"fas fa-list\"></i>\n      </button>\n\n      {data && (\n        <ListSalesModal\n          handleClose={handleCloseListSales}\n          handleSelect={handleSelectSale}\n        />\n      )}\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect } from \"react\";\nimport HTMLOrderPrint from \"./views/SaleHTML\";\nimport { Auth } from \"../../context/AuthContext\";\n\nexport default function PrintSaleComponent(props) {\n  const { auth: currentUser } = Auth();\n  const currentBranch = currentUser.branch;\n  const handleClose = () => {\n    props.setPrint();\n  };\n\n  useEffect(() => {\n    if (!props.data) {\n      console.error(\"[Orus System] Data is parameter required\");\n      return;\n    }\n\n    const popup = window.open(\n      \"\",\n      \"_blank\",\n      \"fullscreen=1,menubar=0,resizable=0,scrollbars=0,titlebar=0,toolbar=0,top=0,left=300\"\n    );\n\n    popup.document.write(getPage(props.data, currentBranch));\n    popup.window.print();\n\n    popup.onbeforeunload = function () {\n      handleClose();\n    };\n  }, []);\n\n  return (\n    <div\n      className=\"load\"\n      style={{\n        position: \"fixed\",\n        zIndex: \"5\",\n        width: \"100%\",\n        top: 0,\n        left: 0,\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        backgroundColor: \"rgba(0,0,0,.5)\",\n      }}\n    >\n      <h1 style={{ color: \"white\", marginBottom: \"5%\" }}>IMPRESION EN CURSO</h1>\n      <i className=\"fas fa-print fa-6x\"></i>\n    </div>\n  );\n}\n\nfunction getPage(data, branch) {\n  const card = HTMLOrderPrint(data ?? {}, branch);\n  const body = `<div style=\"width:280px; padding: 0px; margin: 0px; border:1px dotted #DDD\">${card}</div>`;\n\n  return `<html>\n        <head>\n            <title>${\n              data.order_id ? \"Pedido #\" + data.order_id : \"Venta #\" + data.id\n            }</title>            \n        </head>\n        <body style=\"display:flex; justify-content: center; align-items:start\">\n            ${body}\n        </body>\n    </html>`;\n}\n","import moment from \"moment\";\nimport \"moment/locale/es\";\nimport helpers from \"../../Sales/helpers\";\nmoment.locale(\"es\");\n\nexport default function HTMLOrderPrint(sale, branch) {\n  const paid = helpers.getPagado(sale.payments);\n  let amount = sale.total - paid;\n\n  const phone = Object.values(sale.customer?.phones ?? {}).filter(\n    (phone) => phone\n  );\n\n  return `\n  <div style=\"width:100%; padding: 0px; margin: 0px;\">\n    <h6 style=\"font-size: 14; font-family:sans-serif; text-align: right; margin: 0px\">\n      ${sale.order_id ? \"Pedido\" : \"Nota\"}:\n      <strong>${sale.order_id ? sale.order_id : sale.id}</strong>\n    </h6> \n    \n    <h2 style=\"font-size: 28; font-family: sans-serif; margin: 24px 0px;\">\n      <center>\n        <strong>ptica Madero</strong>\n      </center>\n    </h2>\n\n    <h4 style=\"font-size: 22; font-family: sans-serif; text-align: center; margin:10px 0px;\">\n      Julio Cesar Cardenas Martinez\n    </h4>\n\n    <div style=\"font-size: 14; font-family: sans-serif; width:100%; text-align: center; margin: 0px 5px\">\n      <span style=\"text-transform: uppercase;\">\n        ${branch.name}\n      </span>\n      <br />\n      <span>${branch.phone}</span>\n      <br />\n      <span>${branch.address}</span>\n      <br/>\n      <strong>${moment(sale.created_at).format(\"LLLL\")}</strong>\n    </div>\n\n    <h4 style=\"font-size: 22; font-family: sans-serif; text-align: center; text-transform: uppercase;\">\n      ${sale.customer?.name ? sale.customer.name : \"Venta de mostrador\"}\n      <br />\n      <strong>\n        <em style=\"font-size: 18\">\n          ${phone.length ? phone : \"--\"}\n        </em>\n      </strong>\n    </h4>\n\n    <h2 style= \"font-size: 22; font-family:sans-serif\">\n      <center><strong>${sale.order_id ? \"Pedido\" : \"Nota\"}</strong></center>\n    </h2>\n\n    <table style=\"width:100%;\">\n      <thead>\n        <tr>\n          <th style=\"font-size: 12; font-family: sans-serif; text-align:left; width:24px\">\n            Cant\n          </th>\n          <th style=\"font-size: 12; font-family: sans-serif\">\n            Descripcion\n          </th>\n          <th style=\"font-size: 12; font-family: sans-serif; text-align:right; width:48px\">\n            Total\n          </th>\n        </tr>\n      </thead>\n          \n      <tbody>\n        ${sale.items.map((item, index) => {\n          return `<tr key=${index} style=\"\">\n            <td style=\"font-size: 16; font-family: sans-serif; text-align:left\">\n              ${item.cant}\n            </td>\n            <td style=\"font-size: 14; font-family: sans-serif\">\n              ${item.name ?? item.producto}\n            </td>\n            <td style=\"font-size: 16; font-family: sans-serif; text-align:right;\">                    \n              $ ${item.cant * item.price}\n            </td>\n          </tr>`;\n        })}\n      </tbody>\n\n      <tfoot>\n        <tr>\n          <td colspan=\"3\">\n            ${\n              sale.discount !== 0\n                ? `<div style = \"width:100%\">\n                  <h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px; margin-top:12px\">\n                    Subtotal: <label>$ ${sale.subtotal ?? 0}</label>\n                  </h4>\n                  <h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px;\">\n                    Descuento: <label>$ ${sale.discount}</label>\n                  </h4>\n                </div>\n                <h4 style= \"font-size:18; width:100%; font-family: sans-serif; text-align: right; margin:0px;\">\n                  Total: <label>$ ${sale.total ?? 0}</label>\n                </h4>`\n                : `<h4 style= \"font-size:18; width:100%; font-family: sans-serif; text-align: right; margin:0px; margin-top:12px\">\n                  Total: <label>$ ${sale.total ?? 0}</label>\n                </h4>`\n            }\n                      \n            <div style = \"width:100%;\">\n              <h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px;\">\n                Abonado: <label>$ ${paid}</label>\n              </h4>\n              ${\n                amount\n                  ? `<h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px;\">\n                    Saldo: <label>$ ${amount}</label>\n                    </h4>`\n                  : `<div style=\"text-align:center; width: 100%\">\n                     <h3 style=\"font-weight:bold\">\n                      ::: Cuenta Pagada :::                      \n                    </h3>\n                  </div>`\n              }\n            </div>\n          </td>\n        </tr>\n      </tfoot>\n    </table>\n      \n    <div>\n      <ul style=\"font-family:sans-serif; font-size: 12;\">\n        <li>\n          Armazones usados, viejos y/o resecos son responsabilidad del\n          cliente\n        </li>\n        <li>\n          Armazones reparados por el cliente pierden garantia de proovedor\n        </li>\n      </ul>\n    </div>\n  </div>\n  `;\n}\n","import { useState, useContext } from \"react\";\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Helpers\nimport helpers from \"../helpers\";\n\nfunction PaymentModal({ forPaid, handleClose: _close }) {\n  const config = useContext(ConfigContext);\n  const listBanks = config.data;\n\n  const sale = Sale();\n\n  //States\n  const [data, setData] = useState({\n    id: 0,\n    metodopago: 1,\n    metodoname: \"efectivo\",\n    total: 0,\n    bank_id: null,\n    details: null,\n    auth: null,\n    forPaid: forPaid,\n  });\n\n  //Functions\n  const handleChangeInput = ({ name, value, type }) => {\n      let val = value;\n      if (type === \"number\" || type === \"select-one\") val = parseFloat(value);\n      setData({\n        ...data,\n        [name]: val,\n      });\n    },\n    handleSetPayment = () => {\n      const payments = [...sale.payments];\n      let pagado = 0;\n\n      if (!data.total) {\n        window.Swal.fire({\n          icon: \"warning\",\n          title: \"El total del abono debe ser mayor a 0\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return false;\n      }\n\n      if (\n        data.metodopago !== 1 &&\n        data.metodopago !== 4 &&\n        data.metodopago !== 0\n      ) {\n        if (!data.bank_id) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Seleccione un banco\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n        if (data.auth?.length < 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique los ultimos 4 numeros de la tarjeta\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        } else if (data.auth?.length > 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique solamente 4 numeros\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      if (data.metodopago === 4) {\n        if (!data.auth) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique el numero de autorizacin\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      payments.push({\n        ...data,\n        id: `new${Date.now().toString()}`,\n        metodoname: helpers.getMethodName(data.metodopago),\n        total: forPaid < data.total ? forPaid : data.total,\n      });\n\n      payments.forEach((pay) => (pagado += pay.total));\n\n      _close();\n\n      sale.set({\n        ...sale,\n        payments: payments,\n        thereNews: true,\n      });\n    },\n    handleSubmitForm = (e) => {\n      e.preventDefault();\n      handleSetPayment();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Capture el pago</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <form autoComplete=\"off\" onSubmit={handleSubmitForm}>\n              <div className=\"row mb-2 bg-gray-light\">\n                <div className=\"col\">\n                  <h4 className=\"text-center\">\n                    Por pagar: <span className=\"text-success\">$ {forPaid}</span>\n                  </h4>\n                </div>\n              </div>\n              <div className=\"row my-2\">\n                <div className=\"col\">\n                  <label>Metodo de pago</label>\n                  <select\n                    name=\"metodopago\"\n                    className=\"custom-select text-uppercase\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    defaultValue={data.metodopago}\n                  >\n                    <option value=\"1\">Efectivo</option>\n                    <option value=\"2\">Tarjeta de debito</option>\n                    <option value=\"3\">Tarjeta de credito</option>\n                    <option value=\"4\">La marina</option>\n                    <option value=\"5\">Cheque</option>\n                    <option value=\"6\">Transferencia</option>\n                    <option value=\"0\">Otro</option>\n                  </select>\n                </div>\n                <div className=\"col\">\n                  <label>Cantidad</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    className=\"form-control text-right\"\n                    name=\"total\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    autoFocus={true}\n                  />\n                </div>\n              </div>\n\n              {data.metodopago !== 1 ? (\n                <div className=\"row mb-2\">\n                  <div className=\"col\">\n                    {data.metodopago !== 4 && data.metodopago !== 0 ? (\n                      <>\n                        <label>Banco</label>\n                        <select\n                          name=\"bank_id\"\n                          className=\"custom-select text-uppercase\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        >\n                          <option value=\"\">--Seleccione un banco--</option>\n                          {listBanks.map((bank) => {\n                            return bank.name === \"bank\" ? (\n                              <option key={bank.id} value={bank.id}>\n                                {bank.data}\n                              </option>\n                            ) : null;\n                          })}\n                        </select>\n                      </>\n                    ) : !data.metodopago ? (\n                      <>\n                        <label>Espesifique</label>\n                        <input\n                          type=\"text\"\n                          name=\"details\"\n                          className=\"form-control\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        />\n                      </>\n                    ) : (\n                      <h4 className=\"d-bloc text-center mt-4 text-success\">\n                        LA MARINA\n                      </h4>\n                    )}\n                  </div>\n                  <div className=\"col\">\n                    <label>\n                      {data.metodopago !== 4\n                        ? \"Ultimos 4 digitos\"\n                        : \"N. Autorizacin\"}\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"auth\"\n                      className=\"form-control\"\n                      onChange={({ target }) => handleChangeInput(target)}\n                    />\n                  </div>\n                </div>\n              ) : null}\n\n              {forPaid < data.total ? (\n                <div className=\"row\">\n                  <div className=\"col\">\n                    <h4 className=\"text-center mt-4\">\n                      {data.metodopago === 1 ? (\n                        <>\n                          Cambio:\n                          <span className=\"ml-2\">$ {data.total - forPaid}</span>\n                        </>\n                      ) : (\n                        <span className=\"text-danger\">\n                          <i className=\"fas fa-info-circle mr-2\"></i>\n                          La cantidad cobrada es mayor al total\n                        </span>\n                      )}\n                    </h4>\n                  </div>\n                </div>\n              ) : null}\n            </form>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => handleSetPayment()}\n              disabled={!data.total || data.total > data.forPaid}\n            >\n              <i className=\"fas fa-money-bill mr-1\"></i>\n              Abonar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","import { useState } from \"react\";\n\n//Components\nimport PaymentModal from \"./PaymentModal\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Helper\nimport helpers from '../helpers';\n\n\nexport default function PaymentBtnComponent() {\n\n  const [data, setData] = useState({\n    showPayment: false,\n  });\n\n  const sale = Sale();\n\n  const forPaid = helpers.getForPay(sale.items, sale.payments, sale.discount);\n\n  const pagado  = sale.discount === 0 ? helpers.getPagado(sale.payments) : helpers.getPagado(sale.payments) + sale.discount; \n  const paid = sale.subtotal <= pagado ? true : false;\n\n  //Functions\n  const handleShowPayment = () => {\n      setData({\n        ...data,\n        showPayment: true,\n      });\n    },\n    handleClosePayment = () => {\n      setData({\n        ...data,\n        showPayment: false,\n      });\n    };\n\n  return (\n    <>\n      <button\n        className=\"btn btn-success ml-2 d-print-none\"\n        onClick={handleShowPayment}\n        disabled={!sale.items.length || (sale.subtotal && paid)}\n      >\n        <i className=\"fas fa-money-bill-alt\"></i>\n      </button>\n      {data.showPayment && (\n        <PaymentModal\n          handleClose={handleClosePayment}\n          sale={{\n            ...sale,\n            contact_id: sale.customer.id,\n          }}\n          forPaid={forPaid}\n        />\n      )}\n    </>\n  );\n}\n","import { useContext } from 'react';\nimport helpers from \"../helpers.js\";\nimport { useHistory } from 'react-router-dom';\n\n\n//Context\nimport { AuthContext } from '../../../context/AuthContext';\nimport { Sale } from '../../../context/SaleContext';\n\nexport default function EraseSaleBtnComponent(props) {\n\n  const sale = Sale();\n  const disabled = sale.customer.id || sale.items.length ? false : true;\n  const {auth} = useContext(AuthContext);\n  const history = useHistory();\n\n  //Functions\n  const eraseSale = () => {\n      sale.set({\n        id: 0,\n        customer: {\n          id: 0,\n          name: \"venta de mostrador\",\n        },\n        contact_id: 2,\n        items: [],\n        session: helpers.getSession(),\n        discount: 0,\n        subtotal: 0,\n        total: 0,\n        payments: [],\n        branch_id: auth.branch.id,\n        isPayed: false,\n      })\n\n      if( props.match.params.id){\n        history.push('/notas');\n      }else{\n        return null\n      }\n    },\n\n    handleEraseSale = () => {\n      helpers.confirm(\"Desea terminar esta venta? La venta actual no se guardara\", eraseSale);\n    };\n\n  return (\n    <button\n      className=\"btn btn-warning ml-1\"\n      title=\"Nueva venta\"\n      onClick={handleEraseSale}\n      disabled={ disabled }\n    >\n      <i className=\"fas fa-window-close\"></i>\n    </button>\n  );\n}\n","import { useState, useContext } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\nimport { AuthContext } from \"../../../context/AuthContext\";\n\n//Hooks\nimport useContact from \"../../../hooks/useContact\";\n\n//Helper\nimport saleHelper from '../helpers';\n\nfunction SearchCustomerModal({ handleClose: _close }) {\n  const [data, setData] = useState({\n    textSearch: \"\",\n  });\n\n  const [customers, setCustomers ] = useState([]);\n  const sale = Sale();\n  const { auth } = useContext(AuthContext);\n  const  _contacts  = useContact();\n\n  //Functions\n  const handleClose = () => {\n      if (_close) _close();\n    },\n    handleChangeText = ({ value }) => {\n      setData({\n        textSearch: value,\n      });\n    },\n    handleKeyPressSearch = (key) => {\n      if (key === \"Enter\") {\n        if (data.textSearch.length > 4) {\n          return SearchCustomer();\n        }\n\n        window.Swal.fire({\n          title: \"Verificacion\",\n          text: \"Escriba un nombre valido, al menos 5 caracteres\",\n          icon: \"warning\",\n        });\n      }\n    },\n    SearchCustomer = () => {\n      const filters = {\n        search: data.textSearch,\n        itemsPage: \"25\",\n        orderBy: \"id\",\n        order: \"desc\",\n      };\n\n      _contacts.getContacts(filters).then((data)=>{\n        if(data){\n          setCustomers(data.data);\n        }else{\n          console.error(\"Error al obtener usuario\");\n        }\n      })\n    },\n    handleClickCustomer = (e, customer) => {\n      e.preventDefault();\n      if (sale.customer.id !== customer.id) {\n        if (![0, 2].includes(sale.customer.id)) {\n          window.Swal.fire({  \n            title: \"Ventas\",\n            text: \"Esta accion creara una nueva venta Esta seguro que desea crear una nueva venta?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Crear\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {                         \n              sale.set({\n                id: 0,\n                customer: {\n                  id:customer.id,\n                  name: customer.name,\n                  phones: customer.phones ?? {},\n                },\n                contact_id: customer.id,\n                items: [],\n                session: saleHelper.getSession(),\n                discount: 0,\n                subtotal: 0,\n                total: 0,\n                payments: [],\n                branch_id: auth.branch.id,\n              })\n              _close();\n            }\n          });\n        } else {\n          sale.set({\n            ...sale,\n            customer:{\n              id: customer.id,\n              name: customer.name ? customer.name : \"Venta de mostrador\",\n              phones: customer.phones ?? {},\n            },\n            contact_id: customer.id\n          }).then(() =>  _close());\n        }\n      } else {\n        _close();\n      }\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione un cliente</h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"form-inline mb-3\">\n              <div className=\"form-group\">\n                <input\n                  className=\"form-control\"\n                  placeholder=\"Buscar cliente\"\n                  onChange={({ target }) => handleChangeText(target)}\n                  onKeyPress={({ key }) => handleKeyPressSearch(key)}\n                  onBlur={() => data.textSearch.length > 4 && SearchCustomer()}\n                  autoFocus={true}\n                />\n              </div>\n              <div className=\"form-group pl-2\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary btn-sm\"\n                  onClick={SearchCustomer}\n                  disabled={data.textSearch.length < 5}\n                >\n                  <i className=\"fas fa-search\"></i>\n                </button>\n              </div>\n            </div>\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              <table className=\"table table-sm\">\n                <tbody>\n                  {customers.map((customer) => (\n                    <tr key={customer.id}>\n                      <td className=\"text-right\">\n                        <span className=\"badge badge-dark\">{customer.id}</span>\n                      </td>\n                      <td className=\"text-left\">\n                        <a\n                          href=\"#select\"\n                          onClick={(e) => handleClickCustomer(e, customer)}\n                          className=\"text-capitalize\"\n                        >\n                          {customer.name.toLowerCase()}\n                        </a>\n                      </td>\n                    </tr>\n                  ))}\n                  {!customers.length && (\n                    <>\n                      {[0, 2].includes(sale.customer.id) ? (\n                        <tr>\n                          <td>No existen pacientes con esta coincidencia</td>\n                        </tr>\n                      ) : (\n                        <tr>\n                          <td>\n                            <span className=\"alert alert-warning text-center\">\n                              Cambiar de usuario, provocara cerrar la{\" \"}\n                              <strong>venta</strong> actual.\n                            </span>\n                          </td>\n                        </tr>\n                      )}\n                    </>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={handleClose}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SearchCustomerModal;\n","import { useState } from \"react\";\n\n//Componentes\nimport SearchCustomerModal from \"./SearchCustomerModal\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\nexport default function CustomerBtnComponent() {\n\n  // Modal\n  const [modal, setModal] = useState(false);\n\n  \n  const handleModal = () => {\n    setModal(!modal);\n  };\n\n  const sale = Sale();\n  \n  return (\n    <>\n      <i className=\"fas fa-user mr-1 text-indigo\"></i>\n      Cliente:\n      <label className=\"text-capitalize ml-1\">\n        {sale.customer ? sale.customer.name : \"XXX - vuelva a cargar\"}\n      </label>\n      <button\n        type=\"button\"\n        className=\"btn bg-indigo btn-sm ml-2\"\n        title=\"Buscar cliente\"\n        onClick={handleModal}\n      >\n        <i className=\"fas fa-exchange-alt\"></i>\n      </button>\n      {modal && <SearchCustomerModal handleClose={handleModal} />}\n    </>\n  );\n}\n\n","import moment from \"moment\";\n\nfunction PaymentModal({ payment = {}, handleClose: _close }) {\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Detalles del abono</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"row mb-2\">\n              <div className=\"col\">\n                <label className=\"mr-2\">Metodo de pago</label>\n                <span>{payment.metodoname}</span>\n              </div>\n              <div className=\"col\">\n                <label className=\"mr-2\">Cantidad abonada</label>\n                <span>${payment.total}</span>\n              </div>\n            </div>\n\n            {payment.banco && payment.banco.id ? (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <label className=\"mr-2\">Banco</label>\n                  <span>{payment.banco.value}</span>\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2\">Auth</label>\n                  <span>{payment.auth ?? \"--\"}</span>\n                </div>\n              </div>\n            ) : null}\n\n            {payment.id ? (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block\">Folio</label>\n                  <span>{payment.id}</span>\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block\">Fecha</label>\n                  {payment.created_at ? (\n                    <span>{moment(payment.created_at).format(\"LL\")}</span>\n                  ) : (\n                    <span>--</span>\n                  )}\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block text-uppercase\">Recibio</label>\n                  <span>\n                    {payment.created && payment.created.name\n                      ? payment.created.name\n                      : \"--\"}\n                  </span>\n                </div>\n              </div>\n            ) : (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <span className=\"alert alert-warning d-block text-bold\">\n                    <i className=\"fas fa-info-circle mr-1\"></i>\n                    Pago no acreditado!\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","import { useState } from \"react\";\n\nexport default function UpdateItemModal({\n  item,\n  close: _close,\n  handleUpdate: _update,\n}) {\n  const [data, setData] = useState({\n    cant: item.cant ?? 0,\n    price: item.price ?? 0,\n  });\n  //Functions\n  const handleChangeInput = ({ name, value }) => {      \n      setData({\n        ...data,\n        [name]: parseInt(value),\n      });\n    },\n\n    handleUpdateItem = () => {\n      _update({\n        ...item,\n        ...data,\n        subtotal: data.cant * data.price,\n      });\n    },\n\n    handleKeyPress = (key) => {\n      if (key === \"Enter\") handleUpdateItem();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">\n              <span className=\"text-capitalize text-truncate\">\n                {item.producto}\n              </span>\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"row my-2\">\n              <div className=\"col\">\n                <label>Cantidad</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form-control text-right\"\n                  name=\"cant\"\n                  defaultValue={data.cant}\n                  onChange={({ target }) => handleChangeInput(target)}\n                />\n              </div>\n              <div className=\"col\">\n                <label>Precio</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form-control text-right\"\n                  name=\"price\"\n                  defaultValue={data.price}\n                  onChange={({ target }) => handleChangeInput(target)}\n                  onKeyPress={({ key }) => handleKeyPress(key)}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleUpdateItem}\n            >\n              <i className=\"fas fa-save mr-1\"></i>\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useContext, useState } from \"react\";\n\n//Components\nimport PaymentDetails from \"./PaymentDetails\";\nimport UpdateItemModal from \"./UpdateItemModal\";\n\n// Context\nimport { Sale } from \"../../../context/SaleContext\";\nimport { AuthContext } from \"../../../context/AuthContext\";\n\n//Helper\nimport helpers from \"../helpers\";\n\n//Libraries\nimport moment from \"moment\";\n\nexport default function SalesDetailsTableComponent() {\n  const sale = Sale();\n  const pagado = !sale.discount\n    ? helpers.getPagado(sale.payments)\n    : helpers.getPagado(sale.payments) + sale.discount;\n  const paid = sale.subtotal <= pagado ? true : false;\n  const { auth } = useContext(AuthContext);\n  const { roles } = auth;\n\n  const [data, setData] = useState({\n    showUpdateItem: false,\n    showPaymentDetails: false,\n    item: {},\n    payment: {},\n  });\n\n  //Functions\n  const handleDeleteItem = (item) => {\n      const newItems = sale.items.filter(\n        (product) => product.store_items_id !== item.store_items_id\n      );\n\n      let subtotal = helpers.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helpers.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      });\n    },\n    handleShowPaymentDetails = (e, payment) => {\n      if (e) e.preventDefault();\n\n      setData({\n        ...data,\n        showPaymentDetails: true,\n        payment,\n      });\n    },\n    handleDeleteDiscount = () => {\n      helpers.confirm(\"Realmente desea eliminar el descuento\", () => {\n        sale.set({\n          ...sale,\n          discount: 0,\n        });\n      });\n    },\n    handleDeletePayment = ({ id, total, metodoname }) => {\n      const newPayments = sale.payments.filter((payment) => payment.id !== id);\n\n      helpers.confirm(`Realmente desea eliminar el pago de  $${total}`, () => {\n        sale.set({\n          ...sale,\n          payments: newPayments,\n        });\n      });\n    },\n    handleShowUpdateItem = (e, item) => {\n      if (e) e.preventDefault();\n      setData({\n        ...data,\n        showUpdateItem: true,\n        item,\n      });\n    },\n    handleClosePaymentDetails = () => {\n      setData({\n        ...data,\n        showPaymentDetails: false,\n        payment: {},\n      });\n    },\n    handleUpdateItem = (item) => {\n      const newItems = sale.items.filter(\n        (i) => i.store_items_id !== item.store_items_id\n      );\n      newItems.push(item);\n\n      let subtotal = helpers.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helpers.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      });\n\n      handleCloseUpdateItem();\n    },\n    handleCloseUpdateItem = () => {\n      setData({\n        ...data,\n        showUpdateItem: false,\n        item: {},\n      });\n    };\n\n  return (\n    <>\n      <table className=\"table table-striped\">\n        <tbody>\n          {sale.items && sale.items.length ? (\n            <>\n              {sale.items.map((item, index) => {\n                const disabled =\n                  (sale.subtotal && paid) ||\n                  sale.payments.length ||\n                  sale.discount;\n                const diffDay = moment(Date.now()).diff(\n                  moment(sale.created_at),\n                  \"days\"\n                );\n                if (!item.store_items_id) return null;\n\n                return (\n                  <tr key={index}>\n                    {handleDeleteBtn(handleDeleteItem, item, disabled)}\n                    <td\n                      onClick={(e) => {\n                        if (roles === \"ventas\" && diffDay !== 0) {\n                          alert(\"No puedes editar esta venta!\");\n                        } else {\n                          handleShowUpdateItem(null, item);\n                        }\n                      }}\n                    >\n                      <a\n                        href=\"#details\"\n                        className=\"text-muted w-full d-block text-uppercase\"\n                        onClick={(e) => {\n                          if (roles === \"ventas\") {\n                            return null;\n                          } else {\n                            handleShowUpdateItem(e, item);\n                          }\n                        }}\n                      >\n                        {item.producto ? item.producto : item.name}\n                      </a>\n                      <label className=\"w-full d-block\">\n                        <span className=\"badge badge-dark mr-1\">\n                          {item.cant}\n                        </span>\n                        *\n                        <span\n                          className={item.price ? \"mx-1\" : \"mx-1 text-danger\"}\n                        >\n                          ${item.price}\n                        </span>\n                        =\n                        <span\n                          className={\n                            item.subtotal ? \"ml-1\" : \"ml-1 text-danger\"\n                          }\n                        >\n                          ${item.subtotal}\n                        </span>\n                      </label>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : null}\n          {sale.discount ? (\n            <tr>\n              {handleDeleteBtn(handleDeleteDiscount, null, paid)}\n              <td>\n                <span className=\"text-danger w-full d-block text-uppercase\">\n                  Descuento\n                </span>\n                <label className=\"w-full d-block\">\n                  <span className=\"ml-1 text-danger\">- ${sale.discount}</span>\n                </label>\n              </td>\n            </tr>\n          ) : null}\n          {sale.payments.length ? (\n            <>\n              {sale.payments.map((pay, index) => {\n                const disabled =\n                  sale.id && !sale.order\n                    ? true\n                    : sale.id && sale.order\n                    ? sale.isPayed\n                      ? true\n                      : false\n                    : false;\n\n                return (\n                  <tr key={index}>\n                    {handleDeleteBtn(handleDeletePayment, pay, disabled)}\n                    <td>\n                      <a\n                        href=\"#link\"\n                        className=\" w-full d-block text-uppercase\"\n                        onClick={(e) => handleShowPaymentDetails(e, pay)}\n                      >\n                        <span className=\"text-success\">Abono</span>\n                        <span className=\"ml-1 text-muted\">\n                          {pay.metodoname}\n                        </span>\n                      </a>\n                      <label className=\"w-full d-block\">\n                        <span className=\"ml-1 text-muted\">\n                          {moment(pay.created_at).format(\"LL\")},\n                        </span>\n                        <span className=\"ml-1\">${pay.total}</span>\n                      </label>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : null}\n\n          {sale.thereNews && sale.order ? (            \n            <tr className=\"table-info\">\n              <td colSpan=\"2\">\n                <span className=\" w-full d-block text-uppercase text-center text-bold\">\n                  <i className=\"fas fa-info-circle mr-1 text-primary\"></i>\n                  Para guardar los cambios presione el boton Imprimir!\n                </span>\n              </td>\n            </tr>\n          ) : (\n            Boolean(paid && sale.subtotal) && (\n              <tr className=\"table-info\">\n                <td colSpan=\"2\">\n                  <span className=\" w-full d-block text-uppercase text-center text-bold\">\n                    <i className=\"fas fa-info-circle mr-1 text-primary\"></i>\n                    Cuenta pagada!\n                  </span>\n                </td>\n              </tr>\n            )\n          )}\n        </tbody>\n      </table>\n\n      {data.showPaymentDetails && (\n        <PaymentDetails\n          handleClose={handleClosePaymentDetails}\n          payment={data.payment}\n        />\n      )}\n\n      {data.showUpdateItem && (\n        <UpdateItemModal\n          item={data.item}\n          handleUpdate={handleUpdateItem}\n          close={handleCloseUpdateItem}\n        />\n      )}\n    </>\n  );\n}\n\nfunction handleDeleteBtn(toDo, data = null, disabled = false) {\n  return (\n    <td style={{ width: 32 }}>\n      <button\n        type=\"button\"\n        className={disabled ? \"btn btn-default disabled\" : \"btn btn-default\"}\n        onClick={() => {\n          if (toDo) {\n            if (data) toDo(data);\n            else toDo();\n          }\n        }}\n        disabled={disabled}\n      >\n        <i className=\"fas fa-trash text-muted\"></i>\n      </button>\n    </td>\n  );\n}\n","import { Sale } from \"../../../context/SaleContext\";\nimport moment from \"moment\";\n\nexport default function CustomerBtnComponent() {    \n\n    const sale = Sale();\n\n    return(\n        <div>\n            <label className=\"mx-1\">Folio:</label>\n            <span className=\"mx-1\">{sale.id ? sale.id : \"Nuevo\"}</span> \n            <label className=\"mx-1\">Fecha:</label>\n            <span className=\"mx-1\">\n            {moment(sale.created_at).format(\"L\")}\n            </span>\n            {sale.order ? (\n            <>\n                <label className=\"mx-1\">Pedido:</label>\n                <span className=\"mx-1\">{sale.order}</span>             \n            </>\n            ) : null}\n        </div>\n    );\n}\n","import { Sale } from '../../../context/SaleContext';\nimport helpers from \"../helpers.js\";\n\n\nexport default function ShowToPay(){\n    const sale = Sale();\n    return(\n        <>\n            <span className=\"text-lg\">Por pagar:</span>\n            <label className=\"text-lg ml-1\">\n                ${helpers.getForPay(sale.items, sale.payments, sale.discount)}\n            </label>\n        </>\n    )\n}\n","import { Sale } from '../../../context/SaleContext';\n\nexport default function ShowTotal(){\n    const sale = Sale();\n    return(\n        <>\n            <span className=\"text-lg\">Total:</span>\n            <label className=\"text-lg ml-1\">${sale.subtotal}</label>\n        </>    \n    )\n}\n","import Activitys from \"../../Activitys\"\n\nexport default function InfoModal({handleClose:_close, data}){\n    return(\n        <div className=\"modal d-block\">      \n        <div className=\"modal-dialog modal-lg\" role=\"document\">\n\n            <div className=\"modal-content\">\n            <div className=\"modal-header\">\n                <h5 className=\"modal-title\">Actividad</h5>\n                <button type=\"button\" className=\"close\" onClick={() => _close()}>\n                <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <Activitys\n                data = {data}\n            />           \n\n            <div className=\"modal-footer\">                \n                    <button\n                    type=\"button\"\n                    className=\"btn btn-default\"\n                    onClick={() => _close()}\n                    >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                        Cerrar\n                    </button>                \n\n            </div>\n            </div>\n        </div>\n    </div> \n    )\n}","import { useState,useContext } from \"react\";\nimport { SaleContext } from \"../../../context/SaleContext\"\nimport InfoModal from \"./InfoModal\";\n\nexport default function InfoButton(){\n\n    const saleContext = useContext(SaleContext);\n\n    const [showModal, setShowModal] = useState(false);\n\n    return(\n        <div>\n            <button\n                className=\"btn btn-info ml-2\"\n                title=\"Ver actividad\"\n                disabled = {saleContext.id ? false : true}\n                onClick = {()=> setShowModal(true)}                \n            >\n                <i className=\"fas fa-info\"></i>\n             </button>\n            {showModal ? (\n                <InfoModal\n                    data = {saleContext.activitys ?? []}                \n                    handleClose = {()=>{setShowModal(false)}}\n                />\n            ):null}\n        </div>\n    \n    \n\n\n    )\n};","import {useContext } from \"react\";\nimport { SaleContext } from \"../../../context/SaleContext\"\nimport { useHistory } from \"react-router-dom\";\n\nexport default function ShowPedido(){\n\n    const saleContext = useContext(SaleContext);\n\n    const history = useHistory();\n\n    const watchOrder = ()=>{        \n        history.push(`/pedidos/${saleContext.order}`)   \n    };\n\n    return(\n        <div>\n            <button\n                className=\"btn btn-info mr-2\"\n                title=\"Pedido\"\n                disabled = {saleContext.order ? false : true}     \n                onClick={watchOrder}                                     \n            >\n                <i className=\"fas fa-file-alt\"></i>\n             </button>          \n        </div>\n    \n    \n\n\n    )\n};","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState, useContext } from \"react\";\n\n//Components\nimport InputSearchItem from \"../components/Sales/views/InputSearchItem\";\nimport DiscountBtnComponent from \"../components/Sales/views/DiscountBtn\";\nimport ListSalesBtn from \"../components/Sales/views/ListSalesBtn\";\nimport PrintSaleComponent from \"../components/print/PrintSale\";\nimport PaymentBtnComponent from \"../components/Sales/views/PaymentBtn\";\nimport EraseBtn from \"../components/Sales/views/EraseSaleBtn\";\nimport CustomerBtnComponent from \"../components/Sales/views/CustomerBtn\";\nimport SalesDetailsTableComponent from \"../components/Sales/views/SalesDetailsTable\";\nimport SaleDate from \"../components/Sales/views/SaleDate\";\nimport ShowToPay from \"../components/Sales/views/ShowToPay\";\nimport ShowTotal from \"../components/Sales/views/ShowTotal\";\nimport saleHelper from \"../components/Sales/helpers\";\nimport InfoButton from \"../components/Sales/views/InfoButton\";\nimport ShowPedido from \"../components/Sales/views/ShowPedido\";\n\n//Context\nimport { SaleContext } from \"../context/SaleContext\";\nimport { AuthContext } from \"../context/AuthContext\";\n\n//Hook\nimport useSales from \"../hooks/useSale\";\n\n//Helpers\nimport helpers from \"../components/Sales/helpers\";\n\nexport default function IndexSalesComponent(props) {\n  const { auth } = useContext(AuthContext);\n  const hookSale = useSales();\n  const initialState = {\n    id: 0,\n    order: 0,\n    customer: {\n      id: 0,\n      name: \"venta de mostrador\",\n      phones: {},\n    },\n    contact_id: 2,\n    items: [],\n    session: saleHelper.getSession(),\n    discount: 0,\n    subtotal: 0,\n    total: 0,\n    payments: [],\n    branch_id: auth.branch.id,\n    activitys: [],\n    print: false,\n    isPayed: false,\n    thereNews: false,\n    loading: false,\n  };\n\n  const [state, setState] = useState(initialState);\n\n  const pagado = helpers.getPagado(state.payments) + state.discount;\n  const paid = state.total <= pagado ? true : false;\n  const disabled = state.order\n    ? false\n    : !paid || !state.items.length\n    ? true\n    : false;\n\n  const validateSale = () => {\n    if (state.id && state.order && state.thereNews) {\n      saveSale();\n    } else {\n      setState({\n        ...state,\n        print: true,\n      });\n    }\n  };\n\n  const handleSet = (obj) => {\n    return new Promise((done) => {\n      setState(obj);\n      done();\n    });\n  };\n\n  const setDataToSend = () => {\n    const data = {\n      id: state.id,\n      contact_id: state.contact_id,\n      discount: state.discount,\n      items: [],\n      payments: [],\n    };\n\n    if (!state.id) {\n      data.session = state.session;\n    }\n\n    state.items.forEach((item) =>\n      data.items.push({\n        id: item.id,\n        cant: item.cant,\n        price: item.price,\n        store_items_id: item.store_items_id,\n      })\n    );\n\n    if (state.payments.length) {\n      state.payments.forEach((payment) => {\n        const pay = {\n          id: payment.id ? payment.id : 0,\n          metodopago: payment.metodopago,\n          total: payment.total,\n        };\n\n        if (payment.metodopago !== 1) {\n          pay.auth = payment.auth;\n          if (payment.metodopago !== 4) {\n            pay.bank_id = payment.bank_id;\n          }\n        }\n\n        data.payments.push(pay);\n      });\n    }\n    return data;\n  };\n\n  const saveSale = () => {\n    window.Swal.fire({\n      title: \"Ventas\",\n      text: `Realmente quires guardar esta venta?`,\n      icon: \"info\",\n      showCancelButton: true,\n      confirmButtonText: \"Solo guardar\",\n      cancelButtonText: \"Imprimir y guardar\",\n      showLoaderOnConfirm: true,\n      showDenyButton: true,\n    }).then(({ dismiss }) => {\n      if (dismiss) {\n        //Guardar e imprimir los cambios\n        const returnedSale = hookSale.saveSale(setDataToSend());\n        returnedSale.then(({ data }) => {\n          if (data) {\n            if (state.id && state.order) {\n              setState({\n                ...state,\n                id: data.id,\n                thereNews: false,\n                print: true,\n              });\n            } else {\n              window.Swal.fire({\n                title: \"Venta Guardada correctamente\",\n                text: `Quieres imprimir el ticket de la venta?`,\n                icon: \"success\",\n                showCancelButton: true,\n                confirmButtonText: \"Imprimir\",\n                cancelButtonText: \"Cancelar\",\n                showLoaderOnConfirm: true,\n              }).then(({ dismiss }) => {\n                if (!dismiss) {\n                  setState({\n                    ...state,\n                    id: data.id,\n                    thereNews: false,\n                    print: true,\n                  });\n                } else {\n                  helpers.confirm(\"Cerrar la venta actual\", () => {\n                    setState(initialState);\n                  });\n                }\n              });\n            }\n          } else {\n            console.error(\"Error al guardar la venta\");\n          }\n        });\n      } else {\n        //Solo guardar los cambios\n        const returnedSale = hookSale.saveSale(setDataToSend());\n        returnedSale.then(({ data }) => {\n          if (data) {\n            if (state.id && state.order) {\n              setState({\n                ...state,\n                id: data.id,\n                thereNews: false,\n                //print: true,\n              });\n            } else {\n              window.Swal.fire({\n                title: \"Venta Guardada correctamente\",\n                icon: \"success\",\n                showCancelButton: false,\n                showConfirmButton: false,\n                showLoaderOnConfirm: true,\n                timer: 3000,\n              });\n            }\n          } else {\n            console.error(\"Error al guardar la venta\");\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    const total = state.items?.reduce(\n      (back, item) => item.cant * item.price + back,\n      0\n    );\n    const payments = state.payments?.reduce(\n      (back, item) => item.total + back,\n      0\n    );\n    let payed = Boolean(!(total - state.discount - payments));\n    let thereNews = state.id ? false : true;\n\n    if (!total && !payments) {\n      thereNews = false;\n      payed = false;\n    } else if (state.thereNews) {\n      thereNews = true;\n    }\n\n    if (state.thereNews === false && state.load === false) {\n      thereNews = true;\n    }\n\n    setState({\n      ...state,\n      isPayed: payed,\n      thereNews,\n      load: false,\n    });\n  }, [state.items, state.payments, state.discount]);\n\n  useEffect(() => {\n    if (state.isPayed) {\n      if (!state.id && !state.order) {\n        saveSale();\n      }\n    }\n  }, [state.isPayed]);\n\n  useEffect(() => {\n    if (props.match.params.id) {\n      setState({\n        ...state,\n        loading: true,\n      });\n      hookSale\n        .getSaleById(props.match.params.id)\n        .then(({ data }) => {\n          if (data) {\n            setState({\n              ...state,\n              id: data.id,\n              order: data.order,\n              contact_id: data.customer.id,\n              items: data.items,\n              session: data.session,\n              discount: data.discount,\n              subtotal: data.subtotal,\n              total: data.total,\n              payments: data.payments,\n              branch_id: data.branch.id,\n              created_at: data.created_at,\n              activitys: data.activity,\n              customer: data.customer,\n              thereNews: false,\n              loading: false,\n            });\n          }\n        })\n        .catch(() => {\n          setState({\n            ...state,\n            loading: false,\n          });\n        });\n    }\n  }, []);\n\n  return (\n    <SaleContext.Provider value={{ ...state, set: handleSet }}>\n      <div className=\"card border border-gray\">\n        <div className=\"card-body pb-2 d-print-none\">\n          <nav className=\"row\">\n            <div className=\"col\">\n              <CustomerBtnComponent />\n            </div>\n\n            <div className=\"col\">\n              <SaleDate></SaleDate>\n            </div>\n\n            <div className=\"col-3\">\n              <div className=\"card-tools d-flex justify-content-end mb-3\">\n                <ShowPedido />\n\n                <ListSalesBtn />\n\n                <DiscountBtnComponent />\n\n                <EraseBtn {...props} />\n\n                <InfoButton />\n              </div>\n            </div>\n          </nav>\n          <div\n            className=\"overflow-auto text-right p-0 border border-gray\"\n            style={{ minHeight: \"65vh\" }}\n          >\n            {state.loading ? (\n              <div className=\"d-flex flex-column justify-content-center align-items-center  mt-5\">\n                <h1>Cargando informacion</h1>\n                <div\n                  className=\"spinner-border text-primary\"\n                  role=\"status\"\n                ></div>\n              </div>\n            ) : (\n              <SalesDetailsTableComponent />\n            )}\n          </div>\n        </div>\n\n        <div className=\"card-footer\">\n          <div className=\"row\">\n            <div className=\"col d-print-none\">\n              <ShowTotal />\n            </div>\n\n            <div className=\"col d-print-none\">\n              <ShowToPay />\n            </div>\n\n            <div className=\"col-6 text-right\">\n              <InputSearchItem />\n\n              <PaymentBtnComponent />\n\n              <button\n                className=\"btn btn-primary ml-3\"\n                onClick={() => validateSale()}\n                disabled={disabled}\n              >\n                <i className=\"fas fa-print mr-2\"></i>\n                Imprimir\n              </button>\n\n              {state.print && (\n                <PrintSaleComponent\n                  data={{ ...state, order_id: state.order }}\n                  setPrint={() => setState({ ...state, print: false })}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </SaleContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api, setUrl } from \"../../../utils/url\";\n\nexport default function ReportPaymentsDetails({ filters }) {\n  const [state, setState] = useState({\n    payments: [],\n    meta: {},\n    page: 1,\n    load: false,\n  });\n\n  const getSaleDay = async () => {\n    const paymentsFilters = {\n      ...filters,\n      itemsPage: 12,\n      page: state.page,\n    };\n    setState({\n      ...state,\n      load: true,\n    });\n\n    const paymentsUrl = setUrl(\"payments\", null, paymentsFilters);\n    const { data, message, meta } = await api(paymentsUrl);\n\n    if (data) {\n      setState({\n        ...state,\n        payments: data,\n        meta: meta,\n        load: false,\n      });\n    } else if (message) {\n      setState({\n        ...state,\n        load: false,\n      });\n\n      console.error(\"[Orus system] Error in report payments details:\", message);\n      window.Swal.fire(\"Fallo de conexion\", message, \"error\");\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [\n    filters.user_id,\n    filters.date_start,\n    filters.date_end,\n    filters.branch_id,\n    state.page,\n  ]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">Detallado</h3>\n      </div>\n      <div className=\"card-body\">\n        <table className=\"table table-sm\">\n          <thead>\n            <tr>\n              <th>Metodo</th>\n              <th>Cliente</th>\n              <th>Pedido</th>\n              <th>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {state.payments.length ? (\n              state.payments.map((pay) => {\n                return (\n                  <tr\n                    key={pay.id}\n                    className={pay.metodo === 1 ? \"text-success\" : \"\"}\n                  >\n                    <th className=\"text-uppercase\">{pay.metodoname}</th>\n                    <td className=\"text-capitalize\">\n                      {pay.sale && pay.sale.customer\n                        ? pay.sale.customer.name\n                        : \"--\"}\n                    </td>\n                    <td>\n                      <span\n                        className=\"badge badge-primary\"\n                        alt={\"Cobrado por: \" + pay.created_user}\n                        title={\"Cobrado por: \" + pay.created_user}\n                      >\n                        {pay.sale && pay.sale.pedido ? pay.sale.pedido : \"--\"}\n                      </span>\n                    </td>\n                    <td className=\"text-right\">{dollarUS.format(pay.total)}</td>\n                  </tr>\n                );\n              })\n            ) : (\n              <tr>\n                <th colSpan=\"4\" className=\"text-center\">\n                  <h6 className=\"text-warning\">\n                    <i className=\"fas fa-info mr-2\"></i>\n                    No hay datos para este dia\n                  </h6>\n                </th>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      {Boolean(state.meta.total) && (\n        <div className=\"card-footer\">\n          {state.meta.current_page === 1 ? (\n            <a href=\"#next\" onClick={(e) => e.preventDefault()}>\n              <i className=\"fas fa-step-backward text-dark\"></i>\n            </a>\n          ) : (\n            <a\n              href=\"#next\"\n              onClick={(e) => {\n                e.preventDefault();\n                setState({\n                  ...state,\n                  page: state.page - 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-step-backward\"></i>\n            </a>\n          )}\n          {\" \" + state.page + \" / \" + state.meta.last_page + \" \"}\n          {state.meta.current_page === state.meta.last_page ? (\n            <a href=\"#next\" onClick={(e) => e.preventDefault()}>\n              <i className=\"fas fa-step-forward text-dark\"></i>\n            </a>\n          ) : (\n            <a\n              href=\"#next\"\n              onClick={(e) => {\n                e.preventDefault();\n                setState({\n                  ...state,\n                  page: state.page + 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-step-forward\"></i>\n            </a>\n          )}\n        </div>\n      )}\n\n      {state.load && (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api, setUrl } from \"../../../utils/url\";\n\nexport default function ReportPays({ filters, changeState, auth }) {\n  const [state, setState] = useState({\n    rol: auth.roles,\n    total: 0,\n    efectivo: 0,\n    char: null,\n    load: false,\n  });\n\n  const getSaleDay = async () => {\n    setState({\n      ...state,\n      load: true,\n    });\n\n    const newFiltersPays = {\n      ...filters,\n      itemsPage: 20,\n      type: \"methods\",\n    };\n\n    const url = setUrl(\"payments\", null, newFiltersPays);\n    const { data, message } = await api(url);\n\n    console.log(\"[Orus System] Creating char\");\n    if (data) {\n      var donutChartCanvas = window.$(\"#donutChart\").get(0).getContext(\"2d\"),\n        donutOptions = {\n          maintainAspectRatio: true,\n          responsive: true,\n        },\n        labels = [],\n        values = [],\n        total = 0,\n        efectivo = 0,\n        donutData = {};\n\n      if (state.char) state.char.destroy();\n\n      if (!data.message) {\n        if (data && data.length) {\n          await data.map((mp) => {\n            labels.push(mp.method);\n            values.push(mp.total.toFixed(2));\n            if (mp.method === \"efectivo\") {\n              efectivo = mp.total;\n            }\n            total += mp.total;\n            return null;\n          });\n        } else {\n          labels = [\"No hay datos\"];\n          values = [0];\n        }\n\n        setState({\n          ...state,\n          total,\n          efectivo,\n          load: false,\n        });\n      } else {\n        console.error(\"[ORUS] Error al cargar la venta del dia\", data.message);\n        labels = [\"No hay datos\"];\n        values = [100];\n        setState({\n          ...state,\n          load: false,\n        });\n      }\n      donutData = {\n        labels: labels,\n        datasets: [\n          {\n            data: values,\n            backgroundColor: [\n              \"#f56954\",\n              \"#00a65a\",\n              \"#f39c12\",\n              \"#00c0ef\",\n              \"#3c8dbc\",\n              \"#d2d6de\",\n              \"#000\",\n            ],\n          },\n        ],\n      };\n      state.char = new window.Chart(donutChartCanvas, {\n        type: \"pie\",\n        data: donutData,\n        options: donutOptions,\n      });\n    } else {\n      window.Swal.fire({\n        title: \"Error!\",\n        text: \"Ups!\\n Hubo un error al descargar las ventas\",\n        icon: \"error\",\n        confirmButtonText: \"Ok\",\n      });\n      setState({\n        ...state,\n        load: false,\n      });\n\n      return message;\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [\n    filters.user_id,\n    filters.date_start,\n    filters.date_end,\n    filters.branch_id,\n  ]);\n\n  useEffect(() => {\n    changeState({ ventas: state.efectivo });\n  }, [state.efectivo]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">\n          Ventas del dia por metodo de pago\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        <canvas id=\"donutChart\"></canvas>\n        <p>          \n          Venta total: <strong>{dollarUS.format(state.total)}</strong>\n          <br/>\n          Efectivo: <strong>{dollarUS.format(state.efectivo)}</strong>\n        </p>\n      </div>\n      {state.load && (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api, setUrl } from \"../../../utils/url\";\n\nexport default function ReportBank({ filters }) {\n  const [state, setState] = useState({\n    listBank: [],\n    page: 1,\n    data: [],\n    load: false,\n  });\n\n  const getSaleDay = async () => {\n    const bankFilters = {\n      ...filters,\n      itemsPage: 12,\n      type: \"banks\",\n    };\n    setState({\n      ...state,\n      load: true,\n    });\n\n    const bankUrls = setUrl(\"payments\", null, bankFilters);\n    const { data, message } = await api(bankUrls);\n\n    if (data) {\n      setState({\n        ...state,\n        data: data,\n        load: false,\n      });\n    } else if (message) {\n      setState({\n        ...state,\n        load: false,\n      });\n      console.error(\"[Orus system] Error in report payments details:\", message);\n      window.Swal.fire(\"Fallo de conexion\", message, \"error\");\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [\n    filters.user_id,\n    filters.date_start,\n    filters.date_end,\n    filters.branch_id,\n  ]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">\n          Detallado de pagos bancarios\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        <ul className=\"list-group\">\n          {state.data.length ? (\n            state.data.map((bank, i) => {\n              return (\n                <li\n                  className=\"list-group-item d-flex justify-content-between align-items-center\"\n                  key={i}\n                >\n                  <label className=\"text-uppercase\">{bank.name}</label>\n                  <span className=\"badge badge-primary\">\n                    {dollarUS.format(bank.total)}\n                  </span>\n                </li>\n              );\n            })\n          ) : (\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <h6 className=\"text-warning\">\n                <i className=\"fas fa-info mr-2\"></i>\n                No hay datos para este dia\n              </h6>\n            </li>\n          )}\n        </ul>\n      </div>\n      {state.load && (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useContext, useState, useEffect } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n//Context\nimport { ConfigContext } from \"../../context/ConfigContext\";\n//Hooks\nimport useUsers from \"../../hooks/useUsers\";\n\nexport default function Filters({ filters, changeState }) {\n\n  const { user_id, branch_id, date_end, date_start } = filters;\n  const [state, setState] = useState({\n    branch_id,\n    user_id,\n    date_start,\n    date_end,\n\n    userData: [],\n    load: false,\n  });\n\n\n  const usersHook = useUsers();\n  const config = useContext(ConfigContext);\n  const branches = config.data.filter((c) => c.name === \"branches\");\n\n  // Functions\n  const sendDataFilter = () => {\n    const { user_id, branch_id, date_end, date_start } = state;\n\n    changeState({\n      branch_id,\n      user_id,\n      date_start,\n      date_end,\n    });\n    getDataApi();\n  };\n  const handleChangeDate = (field, date) => {    \n    setState({\n      ...state,      \n      [field]: moment(date).format(\"YYYY-MM-DD\"),\n    });\n  };\n  const getDataApi = () => {\n    setState({\n      ...state,\n      load: true,\n    });\n    usersHook.getListUsers({ branch_id: state.branch_id }).then(({ data }) => {\n      if (data) {\n        const users = data.filter((u) => !u.roles.includes(\"doctor\"));\n        setState({\n          ...state,\n          userData: users,\n          load: false,\n        });\n      } else {\n        console.error(\"[Orus System] Error al obtener la lista de usuarios\");\n        setState({\n          ...state,\n          load: false,\n        });\n      }\n    });\n  };\n\n\n  useEffect(() => {\n    getDataApi();            \n  }, []);\n\n\n\n  \n\n  return (\n    <div className=\"border-bottom pb-3 mb-4\">\n      <div className=\"card-body p-0 bg-light\">\n        <div className=\"form-group row col-lg-12 m-0\">\n          <div className=\"col-lg-1 mt-sm-3 ml-sm-3\">\n            <p className=\"mt-2 font-weight-bold text-secondary h5\">Filtros</p>\n          </div>\n\n          <div className=\"col-lg-2 mt-sm-3\">\n            <div className=\"col-lg-12\">\n              <select\n                className=\"form-control text-capitalize\"\n                value={state.branch_id}\n                onChange={({ target }) =>\n                  setState({ ...state, branch_id: target.value })\n                }\n              >\n                <option value=\"\">\n                  {state.load && !branches.length ? \"Cargando...\" : \"Todas\"}\n                </option>\n                {branches.map((branch) => {\n                  return (\n                    <option key={branch.id} value={branch.id}>\n                      {branch.data.name}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"col-lg-2 mt-sm-3\">\n            <div className=\"col-lg-12\">\n              <select\n                className=\"form-control text-capitalize\"\n                defaultValue={state.user_id}\n                onChange={({ target }) =>\n                  setState({ ...state, user_id: target.value })\n                }\n              >\n                <option value=\"\">{state.load ? \"Cargando...\" : \"Todos\"}</option>\n                {state.userData.map((user) => {\n                  return (\n                    <option key={user.id} value={user.id}>\n                      {user.name}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"row mt-sm-3 m-0 ml-sm-2\">\n            <label className=\"col-lg-1 col-form-label p-0 ml-5 mt-2 ml-sm-3\">\n              De:\n            </label>\n            <div className=\"col-lg-10\">\n             <DatePicker\n                className=\"form-control\"                  \n                selected={                                                        \n                  new Date(moment(state.date_start).format(\"\"))\n                }\n                onSelect={(date) => handleChangeDate(\"date_start\", date)}\n                onChange={(date) => handleChangeDate(\"date_start\", date)}\n              />\n            </div>\n          </div>\n\n          <div className=\"row mt-sm-3 m-0\">\n            <label className=\"col-lg-1 col-form-label p-0 mt-2 ml-sm-3\">\n              a:\n            </label>\n            <div className=\"col-lg-10\">\n              <DatePicker\n                className=\"form-control\"\n                selected={                  \n                  new Date(moment(state.date_end).format(\"\"))\n                }\n                onSelect={(date) => handleChangeDate(\"date_end\", date)}\n                onChange={(date) => handleChangeDate(\"date_end\", date)}\n              />\n            </div>\n          </div>\n\n          <div className=\"col-lg-2 row mt-sm-3 d-flex justify-content-center m-0 h-50\">\n            <button\n              type=\"button\"\n              className=\"btn w-50 btn-success font-weight-bold\"\n              onClick={sendDataFilter}\n            >\n              Filtrar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { Component } from \"react\";\n\n//Componentes\nimport { dollarUS } from \"../../utils/current\";\n\nexport default class BoxCut extends Component {\n  render() {\n    const { ventas } = this.props;\n\n    return (\n      <div className=\"card border border-info rounded\">\n        <div className=\"card-body bg-light\">\n          <h2 className=\"card-title text-secondary\">Efectivo de caja</h2>\n          <br />\n          <div className=\"row\">\n            <div className=\"col\">\n              <h5 className=\"text-success\">{dollarUS.format(ventas)}</h5>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import { useState, useContext } from \"react\";\nimport moment from \"moment\";\n\nimport PaymentsDetails from \"../components/Sales/views/reportPaymentsDetails\";\nimport ReportPays from \"../components/Sales/views/reportPays\";\nimport ReportBank from \"../components/Sales/views/reportBank\";\nimport Filters from \"../components/dashboard/Filters\";\nimport BoxCut from \"../components/dashboard/boxCut\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Dashboard() {\n  const { auth } = useContext(AuthContext);\n  const [state, setState] = useState({\n    user_id: 0,\n    date_start: moment().startOf(\"week\").format(\"YYYY-MM-DD\"),\n    date_end: moment().format(\"YYYY-MM-DD\"),\n    branch_id: auth.branch.id,\n    ventas: 0,\n  });\n  // Function\n  const changeAllState = (obj) => {\n    if (typeof obj !== \"object\") {\n      console.log(\"[Orus system] The filters data not is a object:\", obj);\n      return;\n    }\n\n    setState({\n      ...state,\n      ...obj,\n    });\n  };\n\n  return (\n    <div className=\"content\" style={{ minHeight: \"100vh\" }}>\n      <p className=\"h4 border-bottom mb-4\">\n        Bienvenido\n        <span className=\"font-weight-bold mx-2 text-capitalize\">\n          {auth.name.toLowerCase()}\n        </span>\n        este es el resumen.\n      </p>\n\n      <div className=\"row\">\n        <div className=\"col col-md-12 col-lg-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <Filters filters={state} changeState={changeAllState} />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col-lg-4 col-md-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <BoxCut ventas={state.ventas} />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <ReportPays\n                filters={state}\n                changeState={changeAllState}\n                auth={auth}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"col-lg-8 col-md-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-4 col-md-12\">\n              <ReportBank filters={state} changeState={changeAllState} />\n            </div>\n            <div className=\"col-lg-8 col-md-12\">\n              <PaymentsDetails filters={state} changeState={changeAllState} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { createContext, useContext } from \"react\";\n\nexport const UserContext = createContext(null);\nexport const Users = ()=> useContext(UserContext);","import { useContext } from \"react\";\nimport { UserContext } from \"../../../context/UserContext\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function FiltersToolbar({handleNewOrEdit: _handleNewOrEdit, newOrEdit: _newOrEdit}){\n\n    const _userContext = useContext(UserContext)\n    const history = useHistory();\n    \n    return (\n          <div className=\"col-lg-12\">\n\n\n            <button \n\n              className={\n                _userContext.panel !== \"inbox\"\n                  ? \"disabled mb-3 btn btn-secondary btn-block\"\n                  : \"mb-3 btn btn-primary btn-block\"\n              }\n\n              onClick={(e) => {\n                e.preventDefault();\n                _handleNewOrEdit()\n              }}\n\n              disabled={ _newOrEdit}\n              >\n                <i className=\"mr-2 fas fa-plus\"></i>\n                Usuario nuevo\n            </button>\n    \n            {!_newOrEdit ? (\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-dark\">\n                    <i className=\"mr-2 fas fa-ellipsis-v\"></i>Filtros\n                  </h5>\n                </div>\n                <div className=\"p-0 card-body\">\n                  <ul className=\"nav nav-pills flex-column\">\n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"orderby\">Ordenar por</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"orderby\"\n                        id=\"orderby\"\n                        value={_userContext.options.orderby}\n                        onChange={({ target }) => {\n\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"created_at\">Fecha de registro</option>\n                        <option value=\"updated_at\">Fecha de modificacion</option>\n                      </select>\n                    </li>\n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"order\">Mostrar por</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"order\"\n                        id=\"order\"\n                        value={_userContext.options.order}\n                        onChange={({ target }) => {\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"asc\">Antiguos</option>\n                        <option value=\"desc\">Recientes</option>\n                      </select>\n                    </li>\n    \n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"itemsPage\">Numero de usuarios</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"itemsPage\"\n                        id=\"itemsPage\"\n                        value={_userContext.options.itemsPage}\n                        onChange={({ target }) =>{\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"25\">ver 25</option>\n                        <option value=\"50\">ver 50</option>\n                        <option value=\"75\">ver 75</option>\n                        <option value=\"100\">ver 100</option>\n                      </select>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            ) : (\n              <div>\n                <li className=\"list-group-item\">\n              <a\n                href=\"#back\"\n                className=\"d-flex justify-content-between align-items-center\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  _handleNewOrEdit();\n                  history.push('/usuarios');\n                }}\n              >\n                Ver listado\n                <span className=\"badge badge-primary badge-pill\">\n                  <i className=\"fas fa-chevron-left\"></i>\n                </span>\n              </a>\n            </li>\n              </div>\n            )}\n          </div>\n    )\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { useEffect, useState, useContext } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\nimport { UserContext } from \"../../../context/UserContext\";\nimport ListInbox from \"../../../layouts/list_inbox\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function InboxComponent() {\n  const history = useHistory();\n  const _users = useUsers();\n  const _userContext = useContext(UserContext);\n  const [userSelected, setUserSelected] = useState(\"\");\n\n  const [data, setData] = useState({\n    users: [],\n    meta: {},\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  const { users, meta } = data;\n\n  const handleChangeOptions = (key, value) => {\n    _userContext.set({\n      ..._userContext,\n      options: {\n        ..._userContext.options,\n        [key]: value,\n      },\n    });\n  };\n\n  const deleteItem = () => {\n    setLoading(true);\n    _users\n      .deleteUser(userSelected)\n      .then((data) => {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Usuario eliminado correctamente\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n\n        setUserSelected({ id: 0 });\n\n        _users.getListUsers(_userContext.options).then((data) => {\n          if (data) {\n            setData({\n              ...data,\n              users: data.data,\n              meta: data.meta,\n            });\n            setLoading(false);\n          }\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  const handleSelectUser = (e, order = { id: 0 }) => {\n    if (userSelected) {\n      history.push(`usuarios/${userSelected}`);\n    } else {\n      window.Swal.fire({\n        title: \"Error\",\n        text: \"Lo sentimos no existe un contacto seleccionado\",\n        icon: \"error\",\n      });\n    }\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    _users.getListUsers(_userContext.options).then((data) => {\n      if (data) {\n        setData({\n          ...data,\n          users: data.data,\n          meta: data.meta,\n        });\n        setLoading(false);\n      } else {\n        console.error(\"Error al obtener los datos\");\n      }\n    });\n  }, [_userContext.options]);\n\n  return (\n    <ListInbox\n      title=\"Lista de productos\"\n      icon=\"id-badge\"\n      color=\"primary\"\n      loading={loading}\n      meta={meta}\n      itemSelected={userSelected}\n      defaultSearch={_userContext.options.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleDeleteItem={deleteItem}\n      handleEditItem={handleSelectUser}\n      handleSync={() => {\n        _userContext.set({\n          ..._userContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n          },\n        });\n      }}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Email/Usuario</th>\n            <th>Rol</th>\n            <th>Sucursal</th>\n            {_userContext.options.orderby === \"created_at\" ? (\n              <th>Creado</th>\n            ) : (\n              <th>Modificado</th>\n            )}\n          </tr>\n        </thead>\n        <tbody>\n          {users.length ? (\n            <>\n              {users.map((user) => {\n                return (\n                  <tr key={user.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={user.id}\n                        id={\"item_\" + user.id}\n                        checked={userSelected === user.id ? true : false}\n                        onChange={({ target }) => {\n                          const { value, checked } = target;\n                          setUserSelected(checked ? parseInt(value) : \"\");\n                          //handleUserSelect(target);\n                        }}\n                      />\n                      <label\n                        htmlFor={\"item_\" + user.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td\n                      className=\"mailbox-name text-capitalize text-truncate text-bold text-primary\"\n                      style={{ cursor: \"pointer\", maxWidth: 180 }}\n                      onClick={(e) => {\n                        //handleSelectUser(e, user)\n                        history.push(`usuarios/${user.id}`);\n                      }}\n                    >\n                      {user.name}\n                    </td>\n                    <td className=\"mailbox-name text-muted text-truncate\">\n                      <span>{user.email}</span>\n                    </td>\n                    <td className=\"mailbox-name \">\n                      <span className={getClassByRole(user.roles[0])}>\n                        {user.roles[0]}\n                      </span>\n                    </td>\n                    <td className=\"text-truncate\">\n                      <span className=\"text-capitalize\">\n                        {user.branch.data.name}\n                      </span>\n                    </td>\n                    {_userContext.options.orderby === \"created_at\" ? (\n                      <td className=\"mailbox-date text-muted text-truncate\">\n                        <span>{moment(user.created_at).format(\"LL\")}</span>\n                      </td>\n                    ) : (\n                      <td className=\"mailbox-date text-muted text-truncate\">\n                        <span>{moment(user.updated_at).fromNow()}</span>\n                      </td>\n                    )}\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"6\">\n                No hay usuarios registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </ListInbox>\n  );\n}\n\nfunction getClassByRole(role) {\n  switch (role) {\n    case \"admin\":\n      return \"text-capitalize badge badge-pill badge-dark\";\n    case \"ventas\":\n      return \"text-capitalize badge badge-pill badge-success\";\n    default:\n      return \"text-capitalize badge badge-pill badge-primary\";\n  }\n}\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { UserContext } from \"../context/UserContext\";\n\n//Components\nimport FiltersToolbar from \"../components/Users/views/FiltersToolbar\";\nimport Inbox from \"../components/Users/views/Inbox\";\nimport Add from \"../components/Users/add\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n  search: \"\",\n};\n\nexport default function UsersComponent(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    panel: null,\n    newOrEdit: null,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <UserContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <div className=\"col-lg-2\">\n          <FiltersToolbar\n            newOrEdit={state.newOrEdit}\n            handleNewOrEdit={() =>  \n              setState({\n                ...state,\n                newOrEdit: !state.newOrEdit,\n              })\n            }\n          />\n        </div>\n\n        <div className=\"col-lg-10\">\n          {typeof state.newOrEdit === \"boolean\" ? (\n            <div className=\"col-sm-10 col-md-12 col-lg-12\">\n              {state.newOrEdit === true ? (\n                <Add\n                  {...props}\n                  handleNewOrEdit={() =>\n                    setState({\n                      ...state,\n                      newOrEdit: !state.newOrEdit,\n                    })\n                  }\n                />\n              ) : state.newOrEdit === false ? (\n                <Inbox />\n              ) : null}\n            </div>\n          ) : (\n            <p>Loading component</p>\n          )}\n        </div>\n      </div>\n    </UserContext.Provider>\n  );\n}\n\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const OrderContext = createContext(null);\nexport const Order = () => useContext(OrderContext);\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useOrder() {\n  const getListOrders = async (options) => {\n    const url = setUrl(\"orders\", null, options);\n    return await api(url);\n  };\n\n  const getOrder = async (id) => {\n    const url = setUrl(\"orders\", id);\n    return await api(url);\n  };\n\n  const saveOrder = async (data) => {\n    const method = data.id ? \"PUT\" : \"POST\";\n    if (data.status === 2 && !data.bi_details.length) {\n      delete data.bi_details;\n    }\n    const url = setUrl(\"orders\", data.id);\n    delete data.id;\n    return await api(url, method, data);\n  };\n\n  const deleteOrder = async (id) => {\n    const method = \"DELETE\";\n    const url = setUrl(\"orders\", id);\n    return await api(url, method);\n  };\n\n  return {\n    getListOrders,\n    getOrder,\n    deleteOrder,\n    saveOrder,\n  };\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Main from \"../../../layouts/list_inbox\";\nimport helper from \"../helpers\";\nimport useOrder from \"../../../hooks/useOrder\";\nimport { Order } from \"../../../context/OderContext\";\n\nconst InboxOrderComponent = (props) => {\n  const orderContext = Order();\n  const orderHook = useOrder();\n  const options = orderContext?.options;\n\n  const [pedidos, setPedidos] = useState({\n    data: [],\n    meta: {},\n    loading: false,\n  });\n\n  const { _saveOrder } = props;\n\n  const history = useHistory();\n\n  const [orderSelected, setOrderSelected] = useState({ id: 0 });\n\n  const getList = () => {\n    if (!options) return null;\n\n    setPedidos({\n      ...pedidos,\n      loading: true,\n    });\n\n    orderHook.getListOrders(options).then((data) => {\n      if (data) {\n        setPedidos({\n          data: data.data,\n          meta: data.meta,\n        });\n      } else {\n        console.error(\"Error al obtener la lista de pedidos\");\n      }\n    });\n  };\n\n  const handleChangeOptions = (key, value) => {\n    orderContext?.set({\n      ...orderContext,\n      options: {\n        ...options,\n        [key]: value,\n      },\n    });\n  };\n\n  const handleSelectOrder = (e, order = { id: 0 }) => {\n    if (e) e.preventDefault();\n    if (order.id !== 0) {\n      history.push(`/pedidos/${order.id}`);\n    } else {\n      history.push(`pedidos/${orderSelected.id}`);\n    }\n  };\n\n  const handleOrderSelect = ({ checked }, pedido) => {\n    if (!checked) pedido = { id: 0 };\n    setOrderSelected(pedido);\n  };\n\n  const deleteOrder = () => {\n    window.Swal.fire({\n      title: \"Ests seguro de eliminar la orden?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        orderHook.deleteOrder(orderSelected.id);\n\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Orden eliminada correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n\n        orderContext.set({\n          ...orderContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n            status: 0,\n            search: \"\",\n          },\n        });\n      }\n    });\n  };\n\n  const handleStatus = () => {\n    if (orderSelected.id && orderSelected.estado < 3) {\n      helper.handleSaveOrder(\n        orderSelected.id,\n        { status: 3 },\n        options,\n        _saveOrder\n      );\n    }\n    setOrderSelected({ id: 0 });\n  };\n\n  useEffect(() => {\n    getList();\n    // eslint-disable-next-line\n  }, [options]);\n\n  return (\n    <Main\n      title=\"Listado de pedidos\"\n      icon=\"clipboard-list\"\n      color=\"warning\"\n      meta={pedidos.meta}\n      itemSelected={orderSelected.id}\n      loading={pedidos.loading}\n      defaultSearch={options?.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleEditItem={handleSelectOrder}\n      handleDeleteItem={deleteOrder}\n      handleSync={() => {\n        orderContext.set({\n          ...orderContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n            status: 0,\n            search: \"\",\n          },\n        });\n      }}\n      handleStatus={handleStatus}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Folio</th>\n            <th>Cliente</th>\n            <th>Estado</th>\n            <th>Nota</th>\n            <th>\n              {options?.orderby === \"created_at\" ? \"Registrado\" : \"Modificado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {pedidos.data.length ? (\n            pedidos.data.map((pedido, i) => {\n              return (\n                <tr key={pedido.id}>\n                  <td>\n                    <div className=\"icheck-primary\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={pedido.id}\n                        id={\"order_\" + pedido.id}\n                        checked={orderSelected.id === pedido.id ? true : false}\n                        disabled={pedido.status > 2}\n                        onChange={({ target }) =>\n                          handleOrderSelect(target, pedido)\n                        }\n                      />\n                      <label\n                        htmlFor={\"order_\" + pedido.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </div>\n                  </td>\n                  <td>#{pedido.id}</td>\n                  <td\n                    className=\"mailbox-name text-truncate text-capitalize text-bold\"\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    <a\n                      href=\"#edit\"\n                      onClick={(e) => handleSelectOrder(e, pedido)}\n                    >\n                      <span\n                        className={\n                          pedido.status > 2\n                            ? \"text-muted\"\n                            : \"text-dark text-bold\"\n                        }\n                      >\n                        <i className=\"fas fa-user text-sm mr-2\"></i>\n                        {pedido.paciente.name}\n                      </span>\n                    </a>\n                  </td>\n                  <td className=\"mailbox-subject\">\n                    {helper.getBadgeStatus(pedido.status)}\n                    {pedido.status === 1 ? (\n                      <div>\n                        <span className=\"mr-1 text-dark\">\n                          {pedido.lab ? pedido.lab.nombre : \"Sin asignar\"}\n                        </span>\n                        {pedido.lab ? \"/ \" + pedido.npedidolab : \"\"}\n                      </div>\n                    ) : pedido.status === 2 ? (\n                      <small>\n                        {pedido.ncaja\n                          ? \"CAJA: \" + pedido.ncaja\n                          : \"Caja no asignada\"}\n                      </small>\n                    ) : !pedido.status ? (\n                      <small>\n                        {pedido.exam\n                          ? pedido.exam.status === 1\n                            ? \"Examen completado\"\n                            : \"Examen no realizado\"\n                          : \"Examen no asignado\"}\n                      </small>\n                    ) : pedido.status === 3 ? (\n                      <small className=\"text-dark\">Sin entregar</small>\n                    ) : null}\n                  </td>\n                  <td className=\"mailbox-attachment\">\n                    {pedido.sale ? (\n                      <Link to={\"/notas/registro/\" + pedido.sale.id}>\n                        <span className=\"badge badge-success\">\n                          {pedido.sale.id}\n                        </span>\n                      </Link>\n                    ) : (\n                      \"--\"\n                    )}\n                  </td>\n                  <td className=\"mailbox-date\">\n                    {options.orderby === \"created_at\"\n                      ? moment(pedido.created_at).format(\"ll\")\n                      : moment(pedido.updated_at).fromNow()}\n                  </td>\n                </tr>\n              );\n            })\n          ) : (\n            <tr>\n              <th colSpan=\"10\" className=\"text-center\">\n                No hay datos para mostrar\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Main>\n  );\n};\n\nexport default InboxOrderComponent;\n","const getSession = () => {\n    return (\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(10)\n    );\n  };\n\n\n  const toExport = {\n      getSession\n  }\n\n\n  export default toExport;","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\n\n//Hooks\nimport useProducts from \"../../../hooks/useProducts\";\n\nfunction SearchItemsComponent(props) {\n  const hookProducts = useProducts();\n\n  // Props and vars\n  const {\n    item = { name: \"\" },\n    handleItemSelect: _handleItemSelect,\n  } = props;\n\n  // States\n  const [search, setSearch] = useState(item.name),\n  [timer, setTimer] = useState(\"\"),\n  [load, setLoad] = useState(false),\n  [items, setItems] = useState([]);\n\n  // Functions\n  const handleChangeSearch = ({ target }) => {\n    const { value } = target;\n    setSearch(value.toLowerCase());\n    setLoad(true);\n  };\n\n  const handleSelect = (item) => {\n    _handleItemSelect(item);\n    setSearch(item.name.toUpperCase());\n    setItems([]);\n  };\n\n  useEffect(() => {\n    let toTimer = null;\n    if (search.length > 2 && !item.store_items_id) {\n      if (timer) clearTimeout(timer);\n      toTimer = setTimeout(() => {\n        hookProducts.getProducts(search).then((data) => {\n          if (data) {\n            setItems(data.data);\n          } else {\n            console.error(\"Error al obtener la lista de productos\");\n          }\n        });\n        setTimer(\"\");\n        setLoad(false);\n      }, 1000);\n      setTimer(toTimer);\n    }\n\n    if (!search.length && items.length) {\n      if (timer) clearTimeout(timer);\n      setLoad(false);\n    }\n\n    if(!search){\n      setItems([]);\n    }\n  }, [search]);\n\n  return (\n    <>\n      <label>\n        Producto\n        {load ? (\n          <span\n            className=\"position-absolute text-primary ml-2\"\n            style={{ zIndex: \"101\", top: \"0\" }}\n          >\n            Buscando...\n          </span>\n        ) : null}\n      </label>\n      <input\n        className=\"form-control text-uppercase text-truncate\"\n        type=\"text\"\n        placeholder=\"Buscar producto\"\n        autoComplete=\"off\"\n        value={search}\n        onChange={handleChangeSearch}\n      />\n      {items.length && search.length > 2 ? (\n        <div\n          className=\"position-absolute shadow p-0 pt-2 pl-1 bg-white rounded w-100 mh-50 overflow-auto\"\n          style={{ maxHeight: \"18rem\", zIndex: \"100\" }}\n        >\n          <div className=\"list-group m-0 list-group-flush\">\n            {items\n              .sort((a, b) => {\n                if (a.cant > b.cant) {\n                  return -1;\n                }\n                if (a.cant < b.cant) {\n                  return 1;\n                }\n                return 0;\n              })\n              .map((product) => {\n                return getItemToShow(product, handleSelect);\n              })}\n            {/* {meta.total > perPage && (\n              <a\n                href=\"#more\"\n                className=\"list-group-item text-center text-dark text-bold\"\n                onClick={(e) => e.preventDefault()}\n              >\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Existen mas registros, sea ms espesifico\n              </a>\n            )} */}\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n}\n\n/* const mapStateToProps = ({ storeItem }) => {\n    return {\n      items: storeItem.list,\n      meta: storeItem.metaList,\n      loading: storeItem.loading,\n    };\n  },\n  mapActionsToProps = {\n    _getList: storeActions.getListStore,\n    _setList: storeActions.setListStore,\n  }; */\n\n/* export default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(SearchItemsComponent); */\n\nexport default SearchItemsComponent;\n\nfunction getItemToShow(i, handleSelect) {\n  if (i.cant !== i.cant_total) {\n    if (!i.cant && i.cant_total) {\n      return (\n        <a\n          key={i.id}\n          className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n          href=\"#l\"\n          onClick={(e) => {\n            e.preventDefault();\n            handleSelect(i);\n          }}\n        >\n          <span className=\"text-truncate text-uppercase text-muted\">\n            [S]-{i.name}\n          </span>\n          <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n        </a>\n      );\n    }\n    return (\n      <a\n        key={i.id}\n        className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n        href=\"#l\"\n        onClick={(e) => {\n          e.preventDefault();\n          handleSelect(i);\n        }}\n      >\n        <span className=\"text-truncate text-uppercase text-primary\">\n          {i.name}\n        </span>\n        <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n      </a>\n    );\n  } else if (!i.cant_total && !i.cant) {\n    return (\n      <a\n        key={i.id}\n        className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n        href=\"#l\"\n        onClick={(e) => {\n          e.preventDefault();\n          handleSelect(i);\n        }}\n      >\n        <span className=\"text-truncate text-uppercase text-danger\">\n          [X]-{i.name}\n        </span>\n        <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n      </a>\n    );\n  }\n\n  return (\n    <a\n      key={i.id}\n      className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n      href=\"#l\"\n      onClick={(e) => {\n        e.preventDefault();\n        handleSelect(i);\n      }}\n    >\n      <span className=\"text-truncate text-uppercase text-primary\">\n        {i.name}\n      </span>\n      <span className=\"badge badge-dark badge-pill\">{i.cant}</span>\n    </a>\n  );\n}\n","import React, { useState, useContext } from \"react\";\n//Components\nimport Search from \"../data/searchStore\";\n//Actions\nimport helper from \"../helpers\";\n\n//Context\nimport { AuthContext } from \"../../../context/AuthContext\";\n\nfunction AddItemModalComponent(props) {\n  const authContex = useContext(AuthContext);\n  const currentUser = authContex.auth;\n\n  //Props and vars\n  const {\n    codeDefault = \"\",\n    cantDefault = 1,\n    handleAddItem: _handleAddItem,\n    handleCloseModal: _handleCloseModal,\n  } = props;\n\n  //States\n  const [item, setItem] = useState({\n      id: 0,\n      name: codeDefault,\n      cant: cantDefault,\n      price: 0,\n      out: 0,\n      inStorage: 0,\n      subtotal: 0,\n      store_items_id: 0,\n      descripcion: \"\",\n      category: 0,\n    }),\n    [showDesc, setShowDesc] = useState(false);\n\n  //Functions\n  const _reset = () => {\n      setItem({\n        id: 0,\n        name: \"\",\n        price: 0,\n        out: 0,\n        cant: 1,\n        inStorage: 0,\n        subtotal: 0,\n        store_items_id: 0,\n        descripcion: \"\",\n        category: {},\n      });\n    },\n    close = () => {\n      _reset();\n      _handleCloseModal();\n    },\n    hanleChangeDataItem = (data) => {\n      setItem({\n        ...item,\n        store_items_id: data.id,\n        id: 0,\n        name: data.name.toLowerCase(),\n        price: parseFloat(data.price),\n        out: data.cant_total,\n        cant: 1,\n        inStorage: 0,\n        subtotal: data.price,\n        descripcion: \"\",\n        category: data.category,\n      });\n    },\n    handleChangeItem = (key, value) => {\n      setItem({\n        ...item,\n        [key]: key === \"descripcion\" ? value : parseInt(value),\n      });\n    },\n    hanldeSendBack = () => {\n      const verify = helper.verifyItem(item);\n\n      if (!verify) return false;\n\n      item.inStorage = item.out >= item.cant ? true : false;\n      item.out = item.out >= item.cant ? 0 : item.cant - item.out;\n      item.subtotal = parseFloat(item.cant * item.price);\n      item.branch_id = currentUser.branch.id;\n      _handleAddItem(item);\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-primary text-bold\">\n              <i className=\"fas fa-plus mr-1\"></i>\n              Agregar producto\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={() => close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            <div className=\"row\">\n              <div className=\"col position-relative\">\n                <Search item={item} handleItemSelect={hanleChangeDataItem} />\n              </div>\n              {item.store_items_id ? (\n                <>\n                  <div className=\"col-2\">\n                    <label>Cantidad</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control\"\n                      placeholder=\"Cantidad\"\n                      defaultValue={item.cant}\n                      min=\"0\"\n                      max=\"100\"\n                      onChange={({ target }) =>\n                        handleChangeItem(\"cant\", target.value)\n                      }\n                    />\n                  </div>\n                  <div className=\"col-3\">\n                    <label>Precio</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control text-right\"\n                      placeholder=\"Precio\"\n                      min=\"0\"\n                      value={item.price ?? \"\"}\n                      onChange={({ target }) =>\n                        handleChangeItem(\"price\", target.value)\n                      }\n                    />\n                  </div>\n                  {showDesc ? (\n                    <div className=\"col-12 mt-2\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Agregue una descripcion\"\n                        value={item.descripcion}\n                        onChange={({ target }) =>\n                          handleChangeItem(\"descripcion\", target.value)\n                        }\n                      />\n                    </div>\n                  ) : null}\n                </>\n              ) : null}\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <div className=\"btn-group\">\n              <button\n                type=\"button\"\n                className=\"btn btn-default btn-sm\"\n                onClick={() => close()}\n              >\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-default btn-sm\"\n                onClick={() => setShowDesc(!showDesc)}\n                disabled={!item.store_items_id}\n              >\n                <i className=\"fas fa-sticky-note mr-1\"></i>\n                {showDesc ? \"Cerrar nota\" : \"Abrir nota\"}\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary btn-sm text-bold\"\n                disabled={\n                  item.store_items_id && item.cant && item.price ? false : true\n                }\n                onClick={() => hanldeSendBack()}\n              >\n                <i className=\"fas fa-save mr-1\"></i>\n                Agregar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AddItemModalComponent;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport AddModal from \"../../Store/views/searchItemModal\";\n\nexport default function ListItemComponent(props) {\n  const [state, setState] = useState({\n    itemNew: false,\n    code: \"\",\n    cant: 1,\n    validItems: true,\n    showDetails: true,\n    disabled: false,\n    total: 0,\n  });\n\n  const handleSetCantItem = (id, cant) => {\n    const items_rest = props.items.map((item) => {\n        if (item.store_items_id === id) {\n          item.cant = item.cant + cant;\n          item.subtotal = item.cant * item.price;\n        }\n        return item;\n      }),\n      itemsToSave = items_rest.filter((item) => item.cant > 0);\n    props.changeInput(\"items\", itemsToSave);\n  };\n  const deleteItem = (id) => {\n    const itemsToSave = props.items.filter((e) => e.store_items_id !== id);\n    props.changeInput(\"items\", itemsToSave);\n  };\n  const handleAddItem = (item) => {\n    if (!item || typeof item !== \"object\") {\n      console.error(\"[Orus System] The item is corrupt:\", item);\n      return;\n    }\n    const items = [...props.items];\n    const itemFound = props.items.findIndex(\n      (e) => e.store_items_id === item.store_items_id\n    );\n\n    if (itemFound !== -1) {\n      const subtotal = items[itemFound].price * state.cant;\n\n      if (items[itemFound].price === item.price) {\n        items[itemFound].cant = state.cant;\n        items[itemFound].subtotal = subtotal;\n      } else {\n        items.push(item);\n      }\n    } else {\n      items.push(item);\n    }\n\n    props.changeInput(\"items\", items);\n    setState({\n      ...state,\n      itemNew: false,\n    });\n  };\n\n  useEffect(() => {\n    const items = props.items.filter((item) =>\n      [\"lentes\", \"armazones\", \"lentes de contacto\"].includes(\n        item.category?.code?.codeNameCategory[0]\n      )\n    );\n    const total = props.items.reduce(\n      (sub, item) => item.cant * item.price + sub,\n      0\n    );\n    let validItems = Boolean(items.length);\n    let disabled = state.disabled;\n    let showDetails = state.showDetails;\n\n    if (props.hasOwnProperty(\"showDetails\")) {\n      showDetails = props.showDetails;\n    }\n    if (props.hasOwnProperty(\"disabled\")) {\n      disabled = props.disabled;\n    }\n\n    if (total && props.changeInput) {\n      props.changeInput(\"validItems\", validItems);\n    } else if (!props.changeInput) {\n      disabled = true;\n      validItems = true;\n    }\n\n    setState({\n      ...state,\n      validItems,\n      showDetails,\n      disabled,\n      total,\n    });\n  }, [props.items, props.disabled]);\n\n  return (\n    <div\n      className={\n        props.hasOwnProperty(\"className\") ? props.className : \"card m-0 p-0\"\n      }\n    >\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-shopping-cart\"></i> Lista de Productos\n        </h3>\n        <div className=\"card-tools\">\n          {Boolean(props.session) && (\n            <button\n              className=\"btn btn-too btn-primary text-bold\"\n              disabled={state.disabled}\n              onClick={(e) => {\n                setState({\n                  ...state,\n                  itemNew: !state.itemNew,\n                  code: \"\",\n                  cant: 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-plus mr-1\"></i> Agregar\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"card-body table-responsive p-0\">\n        <table className=\"table table-sm m-0\">\n          <thead>\n            <tr>\n              {state.showDetails && <th style={{ width: 80 }}>&nbsp;</th>}\n\n              <th scope=\"col\" style={{ width: 32 }}>\n                cant\n              </th>\n              <th scope=\"col\">Descripcion</th>\n\n              {state.showDetails && (\n                <>\n                  <th scope=\"col\" className=\"text-right\" style={{ width: 120 }}>\n                    Precio\n                  </th>\n                  <th scope=\"col\" className=\"text-right\" style={{ width: 120 }}>\n                    Subtotal\n                  </th>\n                  <th\n                    scope=\"col\"\n                    style={{ minWidth: \"4rem\", maxWidth: \"8rem\" }}\n                  >\n                    <span className=\"sr-only\">acciones</span>\n                  </th>\n                </>\n              )}\n            </tr>\n          </thead>\n\n          <tbody>\n            {props.items.map((item) => {\n              return (\n                <tr key={item.store_items_id}>\n                  {state.showDetails && (\n                    <td>\n                      {item.cant === 0 || state.disabled ? (\n                        <i className=\"fas fa-minus mr-2 text-muted mr-1\"></i>\n                      ) : (\n                        <i\n                          className=\"fas fa-minus mr-2 text-primary mr-1\"\n                          title=\"Quitar\"\n                          style={{ cursor: \"pointer\" }}\n                          onClick={() =>\n                            handleSetCantItem(item.store_items_id, -1)\n                          }\n                        ></i>\n                      )}\n                      {state.disabled ? (\n                        <i className=\"fas fa-plus mr-2 text-muted mr-1\"></i>\n                      ) : (\n                        <i\n                          className=\"fas fa-plus mr-2 text-primary mr-1\"\n                          title=\"Agregar\"\n                          style={{ cursor: \"pointer\" }}\n                          disabled={state.disabled}\n                          onClick={() =>\n                            handleSetCantItem(item.store_items_id, 1)\n                          }\n                        ></i>\n                      )}\n                    </td>\n                  )}\n\n                  <th scope=\"row\" className=\"text-right\">\n                    {item.cant}\n                  </th>\n                  <td>\n                    <span className=\"text-capitalize\">{item.name}</span>\n                    {item.descripcion && (\n                      <span className=\"text-muted ml-2\">\n                        ({item.descripcion})\n                      </span>\n                    )}\n                    {item.lot && (\n                      <span className=\"text-muted ml-2\">Fac: {item.lot}</span>\n                    )}\n                  </td>\n\n                  {state.showDetails && (\n                    <>\n                      <td className=\"text-right\">\n                        $ {parseFloat(item.price).toFixed(2)}\n                      </td>\n                      <td className=\"text-right\">\n                        $ {item.subtotal.toFixed(2)}\n                      </td>\n                      <td className=\"d-print-none text-right\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-sm btn-muted\"\n                          onClick={() => deleteItem(item.store_items_id)}\n                          disabled={state.disabled}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </td>\n                    </>\n                  )}\n                </tr>\n              );\n            })}\n\n            {!props.items.length && (\n              <tr className=\"\">\n                <td className=\"text-center py-2\" colSpan=\"6\">\n                  <h5>No hay articulos seleccionados</h5>\n                </td>\n              </tr>\n            )}\n          </tbody>\n\n          {Boolean(props.items.length && state.showDetails) && (\n            <tfoot>\n              <tr>\n                <td className=\"text-right text-lg\" colSpan=\"5\">\n                  <span className=\" mr-2\">Total:</span>\n                  <label>$ {state.total.toFixed(2)}</label>\n                </td>\n                <td>&nbsp;</td>\n              </tr>\n            </tfoot>\n          )}\n        </table>\n\n        {!state.validItems && (\n          <div className=\"d-flex justify-content-center\">\n            <p className=\"bg-warning w-75 text-center text-md p-2\">\n              <i className=\"fas fa-info mr-2\"></i>\n              Debe agregar al menos <strong>1</strong> producto a la lista con\n              categoria <strong>lentes</strong> o <strong>armazones</strong>.\n            </p>\n          </div>\n        )}\n      </div>\n      {state.itemNew ? (\n        <AddModal\n          codeDefault={state.code}\n          cantDefault={state.cant}\n          handleAddItem={handleAddItem}\n          handleCloseModal={() =>\n            setState({\n              ...state,\n              itemNew: false,\n            })\n          }\n        />\n      ) : null}\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function UserEmailInputComponent(props) {\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"No tiene el formato de un email\",\n    searchEmail: false,\n  });\n\n  const { col, email, handleValidData: _handleValidData } = props;\n  const { bgColor, validate, text, searchEmail } = state;\n\n  const contactHook = useContact();\n\n  const handleSearchUser = (email) => {\n    contactHook.getContacts({ email }).then((data) => {\n      if (data) {\n        if (data.data.length) {\n          setState({\n            ...state,\n            bgColor: \"bg-warning\",\n            validate: \"border border-warning\",\n            text: `El email ${email} ya est registrado`,\n          });\n\n          _handleValidData(\"email\", false, email);\n        } else {\n          _handleValidData(\"email\", true, email);\n        }\n      } else {\n        console.error(\"[Orus System] When get data from users:\", data);\n      }\n    });\n  };\n\n  const validEmail = (target) => {\n    const regex =\n      /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n    const emailSearch = target.value.replace(/\\s/g, \"\");\n\n    if (regex.test(emailSearch)) {\n      setState({\n        ...state,\n        bgColor: \"bg-primary\",\n        validate: \" border border-primary\",\n        text: \"\",\n      });\n\n      handleSearchUser(emailSearch);\n    } else {\n      setState({\n        ...state,\n        bgColor: \"bg-red\",\n        validate: \" border border-danger\",\n        text: \"No tiene el formato de un email valido\",\n      });\n      _handleValidData(\"email\", false);\n    }\n  };\n\n  return (\n    <div className={\"col-\" + col}>\n      {email.length ? (\n        <small>\n          <label>Email</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + bgColor}>\n            {searchEmail ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-at\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"email\"\n          className={\"form-control\" + validate}\n          placeholder=\"email\"\n          name=\"email\"\n          autoComplete=\"off\"\n          value={email}\n          onChange={({ target }) => props.onChange(target.value)}\n          onBlur={({ target }) => validEmail(target)}\n          onKeyPress={({ key, target }) => {\n            if (key === \"Enter\") {\n              validEmail(target);\n            }\n          }}\n          required=\"required\"\n        />\n      </div>\n      {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n    </div>\n  );\n}\n","import { useState } from \"react\";\n\nexport default function UserPhoneInputComponent(props) {\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"No tiene el formato de un telfono\",\n  });\n\n  const { col, phone, handleValidData: _handleValidData } = props;\n  const { bgColor, validate, text, searchEmail } = state;\n\n  const validPhone = (phone) => {\n    const regex = /^\\d{10}$/gim;\n\n    if (regex.test(phone)) {\n      setState({\n        ...state,\n        bgColor: \"bg-primary\",\n        validate: \" border border-primary\",\n        text: \"\",\n      });\n      _handleValidData(\"phone\", true, phone);\n    } else {\n      //User no valid\n      if (phone.length !== 10) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"No tiene el formato de un email valido\",\n        });\n        _handleValidData(\"phone\", false);\n      } else if (!phone.length) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"Escriba un telefono valido\",\n        });\n        _handleValidData(\"phone\", false);\n      }\n    }\n  };\n\n  return (\n    <div className={\"col-\" + col}>\n      {phone.length ? (\n        <small>\n          <label>Telefono</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + bgColor}>\n            {searchEmail ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-phone\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"text\"\n          className={\"form-control\" + validate}\n          placeholder=\"Telfono\"\n          name=\"phone\"\n          autoComplete=\"off\"\n          value={props.phone}\n          maxLength=\"10\"\n          onChange={({ target }) => {\n            const parse = parseInt(target.value);\n\n            if (!isNaN(parse)) {\n              props.onChange(parse.toString());\n            } else if (!target.value.length) {\n              props.onChange(\"\");\n            }\n          }}\n          onBlur={({ target }) => validPhone(target.value)}\n          onKeyPress={({ key, target }) => {\n            if (key === \"Enter\") {\n              validPhone(target.value);\n            }\n          }}\n        />\n      </div>\n      {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport UserEmailInputComponent from \"./userEmailInput\";\nimport UserPhoneInputComponent from \"./userPhoneInput\";\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function CardCustomer({\n  data = {},\n  disabled,\n  handleRemoveCustomer: _handleRemoveCustomer,\n  handleUpdateContact: _handleUpdateContact,\n  handleEditor: _handleEditor,\n}) {\n  const contactHook = useContact();\n  const [state, setState] = useState({\n    edit: false,\n    phone: \"\",\n    email: \"\",\n    validToSave: false,\n  });\n\n  const save = () => {\n    if (!state.phone) {\n      console.error(\"[Orus System] Fatal error - phone not stablish\");\n      return;\n    }\n\n    if (!state.email) {\n      console.error(\"[Orus System] Fatal error - email not stablish\");\n      return;\n    }\n\n    const contactData = {\n      id: data.id,\n      phones: {\n        ...data.phones,\n        cell: state.phone,\n      },\n      email: state.email,\n    };\n\n    contactHook.saveContact(contactData).then((contact) => {\n      if (contact) {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Paciente actualizado\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n        _handleUpdateContact(contact);\n        setState({\n          ...state,\n          edit: false,\n          validToSave: true,\n        });\n      } else {\n        console.error(\n          \"[Orus System] Server error - when save contact data:\",\n          data.id,\n          contactData\n        );\n        window.Swal.fire({\n          icon: \"error\",\n          title: \"Error al almacenar cambios del paciente\",\n          showConfirmButton: true,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    const phonesArray = Object.values(data.phones ?? {});\n    const phones = phonesArray.filter((ph) => ph);\n\n    if (!phones || !phones.length || !data.email) {\n      setState({\n        ...state,\n        edit: true,\n        phone: phones[0],\n        email: data.email,\n        validToSave: false,\n      });\n    } else {\n      setState({\n        ...state,\n        edit: false,\n        phone: phones[0],\n        email: data.email,\n        validToSave: true,\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    _handleEditor(state.edit);\n  }, [state.edit]);\n\n  return (\n    <div className=\"card col-lg-5 mr-5 border border-success\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-user-alt mr-1\"></i>\n          Cliente seleccionado\n          <i className=\"ml-5 fas fa-check mr-1\"></i>\n        </h3>\n      </div>\n      <div className=\"card-body text-lg\">\n        <p className=\"badge badge-success\">{`# ID ${data.id}`}</p>\n        <p className=\"card-text\">\n          <i className=\"fas fa-user-circle mr-1\"></i>\n          {data.name.toUpperCase()}\n        </p>\n\n        {state.edit ? (\n          <div>\n            <div>\n              <UserPhoneInputComponent\n                phone={state.phone ?? \"\"}\n                col={12}\n                onChange={(value) => {\n                  setState({\n                    ...state,\n                    phone: value,\n                  });\n                }}\n                handleValidData={(...dto) => {\n                  let valid = dto[1];\n                  if (!state.email) valid = false;\n\n                  setState({\n                    ...state,\n                    validToSave: valid,\n                  });\n                }}\n              />\n              <UserEmailInputComponent\n                email={state.email ?? \"\"}\n                userId={data.id}\n                col={12}\n                onChange={(value) => {\n                  setState({\n                    ...state,\n                    email: value,\n                  });\n                }}\n                handleValidData={(...dto) => {                  \n                  let valid = dto[1];\n                  if (!state.phone) valid = false;\n\n                  setState({\n                    ...state,\n                    validToSave: valid,\n                  });\n                }}\n              />\n            </div>\n            <div className=\"d-flex justify-content-end mt-3\">\n              {!state.validToSave && (\n                <button\n                  className=\"btn btn-dark mr-1\"\n                  disabled={state.exam_id ? true : false}\n                  onClick={_handleRemoveCustomer}\n                >\n                  <i className=\"fas fa-arrow-left mr-2\"></i>\n                  Cambiar\n                </button>\n              )}\n\n              <button\n                className=\"btn btn-secondary mr-1\"\n                onClick={() => {\n                  const phonesArray = Object.values(data.phones ?? {});\n                  const phones = phonesArray.filter((ph) => ph);\n\n                  setState({\n                    ...state,\n                    edit: false,\n                    phone: phones[0],\n                    email: data.email,\n                  });\n                }}\n                disabled={(() => {\n                  const phonesArray = Object.values(data.phones ?? {});\n                  const phones = phonesArray.filter((ph) => ph);\n\n                  if (!phones.length) return true;\n                  if (!data.email) return true;\n                  if (!state.validToSave) return true;\n\n                  return false;\n                })()}\n              >\n                <i className=\"fas fa-ban mr-2\"></i>\n                Cancelar\n              </button>\n              <button\n                className=\"btn btn-warning\"\n                onClick={save}\n                disabled={!state.validToSave}\n              >\n                <i className=\"fas fa-save mr-2\"></i>\n                Guardar\n              </button>\n            </div>\n          </div>\n        ) : (\n          <div className=\"mb-3\">\n            <p className=\"card-text text-truncate\">\n              <i className=\"fas fa-at mr-1\"></i>\n              {state.email ?? \"Email no registrado\"}\n            </p>\n\n            <p className=\"card-text\">\n              <i className=\"fas fa-phone-alt mr-1\"></i>\n              {state.phone ? state.phone : `Telefono no registrado`}\n              {/* {Object.values(data.phones ?? {}).filter((ph) => ph)[0] ?? \"--\"} */}\n            </p>\n          </div>\n        )}\n\n        <div>\n          {!state.edit && (\n            <>\n              <button\n                className=\"btn btn-secondary\"\n                disabled={disabled}\n                onClick={_handleRemoveCustomer}\n              >\n                <i className=\"fas fa-arrow-left mr-2\"></i>\n                Cambiar\n              </button>\n              <button\n                className=\"btn btn-info ml-1\"\n                disabled={disabled}\n                onClick={() =>\n                  setState({\n                    ...state,\n                    edit: true,\n                  })\n                }\n              >\n                <i className=\"fas fa-edit mr-1\"></i>\n                Editar\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\n\nexport default function CardShowExam({\n  data,\n  disabled,\n  handleRemove: _handleRemove,\n  handleEdit: _handleEdit,\n}) {\n\n \n  return (\n    <>\n      <p className=\"card-text\">\n        <span className=\"badge badge-success mr-3 mb-2\">{`# ${data.id}`}</span>\n      </p>\n      <p className=\"font-weight-bold\">\n        Creado:{\" \"}\n        <span className=\"font-weight-normal\">\n          {moment(data.created_at).fromNow()}\n        </span>\n      </p>\n      <p className=\"font-weight-bold\">\n        Fecha:{\" \"}\n        <span className=\"font-weight-normal\">\n          {moment(data.created_at).format(\"LL\")}\n        </span>\n      </p>\n      <p className=\"font-weight-bold\">\n        Estatus:{\" \"}\n        <span className=\"font-weight-normal\">\n          {data.status ? \"Completo\" : \"En proceso\"}\n        </span>\n      </p>\n\n      <div>\n        <button\n          className=\"btn btn-secondary mr-1\"\n          disabled={disabled}\n          onClick={() => {\n            window.Swal.fire({\n              icon: \"question\",\n              title: \"Realmente desea cambiar el examen?\",\n              showConfirmButton: true,\n              confirmButtonText: \"S\",\n              showCancelButton: true,\n              cancelButttonText: \"Cancelar\",\n            }).then(({ dismiss }) => {\n              if (!dismiss) {\n                _handleRemove();\n              }\n            });\n          }}\n        >\n          <i className=\"fas fa-arrow-left mr-2\"></i>\n          Cambiar\n        </button>\n        <button\n          className=\"btn btn-info\"\n          disabled={disabled}\n          onClick={_handleEdit}\n        >\n          <i className=\"fas fa-edit mr-2\"></i>\n          Editar\n        </button>\n      </div>\n    </>\n  );\n}\n","import moment from \"moment\";\n\nimport useExam from \"../../../hooks/useExam\";\n\nexport default function CardExamByUser({\n  exams,\n  customer_id,\n  handleClick: _handleClick,\n}) {\n  const examHook = useExam();\n  const handleCreateNewExam = () => {\n    let dataNewExam = {\n      contact_id: customer_id,\n    };\n\n    examHook.saveExam(dataNewExam).then((exam) => {\n      if (exam) {\n        _handleClick(exam);\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Examen Creado correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n      } else {\n        window.Swal.fire({\n          icon: \"error\",\n          title: \"Error al crear el examen\",\n          showConfirmButton: true,\n        });\n      }\n    });\n  };\n\n  return (\n    <>\n      <p className=\"text-secondary text-md\">\n        *Seleciona un examen o crea uno nuevo para continuar\n      </p>\n      {exams.map((exam) => (\n        <div\n          className=\"border-bottom mb-1 cursor-pointer text-lg\"\n          key={exam.id}\n          onClick={() => _handleClick(exam)}\n        >\n          <p className=\"card-text\">\n            <span className=\"badge badge-warning mr-3 mb-2\">{`# ${exam.id}`}</span>\n            {moment(exam.created_at).fromNow()}\n            <span className=\"badge badge-dark ml-3\">\n              {exam.status ? \"Completo\" : \"En proceso\"}\n            </span>\n          </p>\n        </div>\n      ))}\n      <button\n        className=\"btn btn-primary mt-2 float-right\"\n        onClick={handleCreateNewExam}\n      >\n        <i className=\"fas fa-plus mr-2\"></i>\n        Nuevo\n      </button>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nexport default function FormExamSmall({ data, handleEdit: _handleEdit }) {\n  const [state, setState] = useState({\n    adicion_media_od: 0,\n    adicion_media_oi: 0,\n    dpod: 0,\n    dpoi: 0,\n  });\n  const handleOnChange = ({ value, name }) => {\n    setState({\n      ...state,\n      [name]: parseInt(value),\n    });\n  };\n\n  useEffect(() => {\n    setState({\n      ...state,\n      adicion_media_od: data.adicion_media_od,\n      adicion_media_oi: data.adicion_media_od,\n      dpod: data.adicion_media_od,\n      dpoi: data.adicion_media_od,\n    });\n  }, []);\n  return (\n    <>\n      <div className=\"row text-sm\">\n        <div className=\"col-md-6 col-sm-12\">\n          <i className=\"fas fa-eye mr-1\" /> Derecho\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          <i className=\"fas fa-eye mr-1\" /> Izquierdo\n        </div>\n      </div>\n\n      <div className=\"row mt-2 text-sm\">\n        <div className=\"col-12 text-center\">\n          <label>Adicion media</label>\n        </div>\n      </div>\n      <div className=\"row mt-2 text-sm\">\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.adicion_media_od}\n            name=\"adicion_media_od\"\n            onChange={handleOnChange}\n          />\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.adicion_media_oi}\n            name=\"adicion_media_oi\"\n            onChange={handleOnChange}\n          />\n        </div>\n      </div>\n\n      <div className=\"row mt-2 text-sm\">\n        <div className=\"col-12 text-center\">\n          <label>Distancia pupilar</label>\n        </div>\n      </div>\n      <div className=\"row mt-2\">\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.dpod}\n            name=\"dpod\"\n            onChange={handleOnChange}\n          />\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.dpoi}\n            name=\"dpoi\"\n            onChange={handleOnChange}\n          />\n        </div>\n      </div>\n\n      <div className=\"row mt-2\">\n        <div className=\"col-12 text-right\">\n          <button className=\"btn btn-secondary mr-1\" onClick={_handleEdit}>\n            <i className=\"fas fa-ban mr-2\"></i>\n            Cancelar\n          </button>\n          <button\n            className=\"btn btn-warning\"\n            disabled={true}\n          >\n            <i className=\"fas fa-save mr-2\"></i>\n            Guardar\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport CardShowExam from \"../../Exam/views/CardExam\";\nimport CardExamByUser from \"../../Exam/views/CardExamsByUser\";\nimport FormExamSmall from \"../../Exam/views/FormExamSmall\";\n\nexport default function CardExam({\n  data,\n  customer,\n  editCustomer,\n  disabled,\n  handleSelect: _handleSelect,\n  hanldeRemove: _hanldeRemove,\n}) {\n  const [state, setState] = useState({\n    exams: [],\n    edit: false,\n  });\n\n  useEffect(() => {\n    setState({\n      ...state,\n      exams: customer.exams,\n    });\n  }, []);\n\n  return (\n    <div className=\"card col-lg-5 border border-success\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-notes-medical mr-1\"></i>\n          Examen\n          {Boolean(Object.keys(data).length) && (\n            <>\n              Seleccionado <i className=\"ml-5 fas fa-check mr-1\"></i>\n            </>\n          )}\n        </h3>\n      </div>\n      <div className=\"card-body text-lg\">\n        {editCustomer ? (\n          <p className=\"alert alert-warning\">\n            <i className=\"fas fa-info mr-2\"></i>\n            Es necesario completar los datos del paciente para continuar.\n          </p>\n        ) : state.edit ? (\n          <FormExamSmall\n            data={data}\n            handleEdit={() => setState({ ...state, edit: !state.edit })}\n          />\n        ) : (\n          <>\n            {Object.keys(data).length ? (\n              <CardShowExam\n                data={data}\n                disabled={disabled}\n                handleRemove={_hanldeRemove}\n                handleEdit={() => setState({ ...state, edit: !state.edit })}\n              />\n            ) : (\n              <>\n                <CardExamByUser\n                  exams={state.exams}\n                  customer_id={customer.id}\n                  handleClick={_handleSelect}\n                />\n              </>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState } from \"react\";\n\nexport default function CardDiscount({\n  data,\n  disabled,\n  handleSetDiscount: _handleSetDiscount,\n}) {\n  const [state, setState] = useState({\n    showForm: false,\n    discount: null,\n    toPaid: 0,\n  });\n\n  const setDiscount = () => {\n    const isNumeric = /^[0-9]+$/gms;\n    const isPercen = /^[0-9]{1,3}%$/gms;\n    let value = 0;\n\n    if (!state.discount) {\n      setState({\n        ...state,\n        showForm: false,\n      });\n      return;\n    }\n\n    if (state.discount.match(isNumeric)) {\n      value = parseInt(state.discount);\n      value = value > data.total ? data.total : parseInt(state.discount);\n    } else if (state.discount.match(isPercen)) {\n      const percent = parseInt(state.discount.replace(\"%\", \"\")) / 100;\n      value = percent >= 1 ? data.total : parseInt(data.total * percent);\n    }\n\n    _handleSetDiscount(\"sale\", {\n      ...data,\n      discount: value,\n    });\n    setState({\n      ...state,\n      showForm: false,\n    });\n  };\n\n  return (\n    <>\n      <div className=\"card col-lg-4\">\n        <div className=\"card-header border-primary\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-percent mr-1\"></i>\n            Descuento\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          {state.showForm ? (\n            <>\n              <p className=\"ml-1 text-dark my-2\">\n                *Escribe la cantidad o el porcentaje con un \"%\" al final\n              </p>\n              <div className=\"form-row\">\n                <div className=\"col-8\">\n                  <input\n                    value={state.discount ?? \"\"}\n                    className=\"form-control\"\n                    type=\"text\"\n                    onChange={({ target }) =>\n                      setState({ ...state, discount: target.value })\n                    }\n                    onKeyPress={({ key }) => key === \"Enter\" && setDiscount()}\n                  />\n                </div>\n                <div className=\"col\">\n                  <button className=\"btn btn-primary\" onClick={setDiscount}>\n                    {state.discount ? (\n                      <>\n                        <i className=\"fas fa-save mr-1\"></i> Guardar\n                      </>\n                    ) : (\n                      <>\n                        <i className=\"fas fa-ban mr-1\"></i> Cancelar\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n            </>\n          ) : (\n            <>\n              <h5 className=\"font-weight-bold\">\n                {disabled && !state.discount ? (\n                  <span className=\"text-danger text-sm\">\n                    <i className=\"fas fa-info-circle mr-2\"></i>\n                    Para aplicar un <strong>descuento</strong>, elimine primero\n                    los abonos.\n                  </span>\n                ) : (\n                  <>\n                    Descuento:\n                    <span className=\"font-weight-normal ml-2\">\n                      $ {data.discount?.toFixed(2)}\n                    </span>\n                  </>\n                )}\n              </h5>\n\n              <div className=\"btn-group\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-sm btn-secondary\"\n                  disabled={!Boolean(data.discount)}\n                  onClick={() => {\n                    _handleSetDiscount(\"sale\", {\n                      ...data,\n                      discount: 0,\n                    });\n                    setState({\n                      ...state,\n                      discount: 0,\n                    });\n                  }}\n                >\n                  <i className=\"fas fa-window-close mr-1\"></i>\n                  Eliminar\n                </button>\n                <button\n                  className=\"btn btn-warning mr-4\"\n                  disabled={disabled}\n                  onClick={() => {\n                    setState({\n                      ...state,\n                      showForm: true,\n                    });\n                  }}\n                >\n                  <i className=\"fas fa-edit mr-1\"></i>\n                  Editar\n                </button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useState, useContext } from \"react\";\n\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\n//Helpers\nimport helpers from \"../../Sales/helpers\";\n\nfunction PaymentModal({\n  forPaid,\n  handleClose: _close,\n  sale,\n  handleSetPayments: _handleSetPayments,\n}) {\n  const config = useContext(ConfigContext);\n  const listBanks = config.data;\n\n  //States\n  const [data, setData] = useState({\n    id: 0,\n    metodopago: 1,\n    metodoname: \"efectivo\",\n    total: 0,\n    bank_id: null,\n    details: null,\n    auth: \"\",\n  });\n\n  //Functions\n  const handleChangeInput = ({ name, value, type }) => {\n      let val = value;\n\n      if (type === \"number\" || type === \"select-one\") val = parseFloat(value);\n\n      setData({\n        ...data,\n        [name]: val,\n      });\n    },\n    handleSetPayment = () => {\n      if (!data.total) {\n        window.Swal.fire({\n          icon: \"warning\",\n          title: \"El total del abono debe ser mayor a 0\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return false;\n      }\n\n      if (\n        data.metodopago !== 1 &&\n        data.metodopago !== 4 &&\n        data.metodopago !== 0\n      ) {\n        if (!data.bank_id) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Seleccione un banco\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n          return false;\n        }\n\n        if (data.auth?.length < 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique los ultimos 4 numeros de la tarjeta\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n          return false;\n        } else if (data.auth?.length > 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique solamente 4 numeros\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n          return false;\n        }\n      }\n\n      if (data.metodopago === 4) {\n        if (!data.auth) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique el numero de autorizacin\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      _handleSetPayments({\n        ...data,\n        id: `new${Date.now().toString()}`,\n        metodoname: helpers.getMethodName(data.metodopago),\n        total: forPaid < data.total ? forPaid : data.total,\n      });\n    },\n    handleSubmitForm = (e) => {\n      e.preventDefault();\n      handleSetPayment();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Capture el pago</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <form autoComplete=\"off\" onSubmit={handleSubmitForm}>\n              <div className=\"row mb-2 bg-gray-light\">\n                <div className=\"col\">\n                  <h4 className=\"text-center\">\n                    Por pagar: <span className=\"text-success\">$ {forPaid}</span>\n                  </h4>\n                </div>\n              </div>\n              <div className=\"row my-2\">\n                <div className=\"col\">\n                  <label>Metodo de pago</label>\n                  <select\n                    name=\"metodopago\"\n                    className=\"custom-select text-uppercase\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    defaultValue={data.metodopago}\n                  >\n                    <option value=\"1\">Efectivo</option>\n                    <option value=\"2\">Tarjeta de debito</option>\n                    <option value=\"3\">Tarjeta de credito</option>\n                    <option value=\"4\">La marina</option>\n                    <option value=\"5\">Cheque</option>\n                    <option value=\"6\">Transferencia</option>\n                    <option value=\"0\">Otro</option>\n                  </select>\n                </div>\n                <div className=\"col\">\n                  <label>Cantidad</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    className=\"form-control text-right\"\n                    name=\"total\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    autoFocus={true}\n                  />\n                </div>\n              </div>\n\n              {data.metodopago !== 1 ? (\n                <div className=\"row mb-2\">\n                  <div className=\"col\">\n                    {data.metodopago !== 4 && data.metodopago !== 0 ? (\n                      <>\n                        <label>Banco</label>\n                        <select\n                          name=\"bank_id\"\n                          className=\"custom-select text-uppercase\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        >\n                          <option value=\"\">--Seleccione un banco--</option>\n                          {listBanks.map((bank) => {\n                            return bank.name === \"bank\" ? (\n                              <option key={bank.id} value={bank.id}>\n                                {bank.data}\n                              </option>\n                            ) : null;\n                          })}\n                        </select>\n                      </>\n                    ) : !data.metodopago ? (\n                      <>\n                        <label>Espesifique</label>\n                        <input\n                          type=\"text\"\n                          name=\"details\"\n                          className=\"form-control\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        />\n                      </>\n                    ) : (\n                      <h4 className=\"d-bloc text-center mt-4 text-success\">\n                        LA MARINA\n                      </h4>\n                    )}\n                  </div>\n                  <div className=\"col\">\n                    <label>\n                      {data.metodopago !== 4\n                        ? \"Ultimos 4 digitos\"\n                        : \"N. Autorizacin\"}\n                    </label>\n                    <input\n                      name=\"auth\"\n                      className=\"form-control\"\n                      onChange={({ target }) => handleChangeInput(target)}\n                    />\n                  </div>\n                </div>\n              ) : null}\n\n              {forPaid < data.total ? (\n                <div className=\"row\">\n                  <div className=\"col\">\n                    <h4 className=\"text-center mt-4\">\n                      {data.metodopago === 1 ? (\n                        <>\n                          Cambio:\n                          <span className=\"ml-2\">$ {data.total - forPaid}</span>\n                        </>\n                      ) : (\n                        <span className=\"text-danger\">\n                          <i className=\"fas fa-info-circle mr-2\"></i>\n                          La cantidad cobrada es mayor al total\n                        </span>\n                      )}\n                    </h4>\n                  </div>\n                </div>\n              ) : null}\n            </form>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => handleSetPayment()}\n              disabled={!data.total}\n            >\n              <i className=\"fas fa-money-bill mr-1\"></i>\n              Abonar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport PaymentModal from \"./PaymentModal\";\n\nexport default function CardOrderPayments({\n  data = {},\n  disabled,\n  handleSetPayments: _handleSetPayments,\n}) {\n  const [state, setState] = useState({\n    showModal: false,\n    amount: 0,\n    toPaid: 0,\n  });\n\n  const handleToPaid = () => {\n    const amount = data.payments?.reduce((back, pay) => pay.total + back, 0);\n    const toPaid = (data.subtotal ? data.subtotal: data.total) - (amount ?? 0) - data.discount;\n\n    setState({\n      ...state,\n      toPaid,\n      amount: amount ?? 0,\n    });\n  };\n\n  useEffect(() => {\n    handleToPaid();\n  }, [data.total, data.discount, data.payments, state.showModal]);\n\n  return (\n    <>\n      <div className=\"card col-lg-8 ml-2\">\n        <div className=\"card-header border-primary\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-money-bill-alt mr-1\"></i>\n            Lista de abonos\n          </h3>\n        </div>\n\n        <div className=\"card-body\">\n          {data.payments?.length ? (\n            <div className=\"col-lg-12\">\n              {data.payments.map((payment, index) => (\n                <div className=\"row\" id={payment.id} key={index}>\n                  <div className=\"col-1\">{index + 1}</div>\n                  <div className=\"col-6 text-uppercase font-weight-bold\">\n                    <h6\n                      className={\n                        payment.metodoname === \"efectivo\"\n                          ? \"text-success\"\n                          : \"text-dark\"\n                      }\n                    >\n                      <span className=\"text-dark mr-2\">\n                        {payment.metodoname}\n                      </span>\n                      {payment.auth && (\n                        <span className=\"text-muted\">- {payment.auth}</span>\n                      )}\n                    </h6>\n                  </div>\n                  <div className=\"col-3 text-right\">\n                    <h6>${payment.total}</h6>\n                  </div>\n                  <div className=\"col-2 text-right\">\n                    <button\n                      className=\"btn btn-sm btn-muted\"\n                      id={payment.id}\n                      onClick={() => {\n                        const payments = data.payments.filter(\n                          (pay) => pay.id !== payment.id\n                        );\n\n                        _handleSetPayments(\"sale\", {\n                          ...data,\n                          payments,\n                        });\n                      }}\n                      disabled={!Boolean(state.toPaid) || disabled}\n                    >\n                      <i className=\"fas fa-trash\"></i>\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <h5 className=\"text-center bg-warning\">\n              <i className=\"fas fa-info-circle p-2\"></i>\n              No tiene abonos en este pedido\n            </h5>\n          )}\n\n          <div className=\"card-footer text-right d-flex justify-content-end\">\n            <div className=\"mr-4\">\n              <button\n                className=\"btn btn-success ml-3\"\n                onClick={() => {\n                  setState({\n                    ...state,\n                    showModal: true,\n                  });\n                }}\n                disabled={!Boolean(state.toPaid) || disabled}\n              >\n                <i className=\"fas fa-money-bill-alt mr-2\"></i>\n                Abonar\n              </button>\n            </div>\n            <h4 className=\"mr-4 text-success\">\n              <span className=\"font-weight-bold text-dark mr-2\">\n                Abono total:\n              </span>{\" \"}\n              $ {state.amount}\n            </h4>\n            <h4 className=\"text-danger\">\n              <span className=\"font-weight-bold text-dark mr-2\">\n                Por pagar:\n              </span>\n              $ {state.toPaid}\n            </h4>\n          </div>\n        </div>\n      </div>\n\n      {state.showModal ? (\n        <PaymentModal\n          handleClose={() => {\n            setState({\n              ...state,\n              showModal: false,\n            });\n          }}\n          sale={data}\n          forPaid={state.toPaid}\n          handleSetPayments={(pay) => {\n            const payments = data.payments;\n            const index = payments.findIndex(\n              (p) => p.metodopago === pay.metodopago\n            );\n\n            if (index < 0) {\n              payments.push(pay);\n            } else {\n              payments[index].total += pay.total;\n            }\n\n            _handleSetPayments(\"sale\", {\n              ...data,\n              payments,\n            });\n            setState({\n              ...state,\n              showModal: false,\n            });\n          }}\n        />\n      ) : null}\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-lone-blocks */\nimport React, { useState, useContext } from \"react\";\n//Context\nimport { OrderContext } from \"../../context/OderContext\";\n//Hooks\nimport useOrder from \"../../hooks/useOrder\";\n//Helpers\nimport generalHelper from \"../../utils/helpers\";\n\n//Components\nimport SearchContact from \"../Contacts/views/ShowCard\";\nimport Items from \"./views/ItemsOrder\";\nimport PrintSaleComponent from \"../print/PrintSale\";\nimport CardCustomer from \"./views/Asistent_card_customer\";\nimport CardExam from \"./views/Asistent_card_exam\";\nimport CardDiscount from \"./views/Asistent_card_discount\";\nimport CardOrderPayments from \"./views/Asistent_card_payments\";\n\nexport default function AsistentComponent(props) {\n  const [state, setState] = useState({\n    id: 0,\n    contact_id: 0,\n    contact: {},\n    exam_id: 0,\n    exam: {},\n    examsList: [],\n    items: [],\n    session: generalHelper.getSession(),\n    sale: {\n      total: 0,\n      discount: 0,\n      payments: [],\n    },\n    print: false,\n    editCustomer: false,\n    validItems: false,\n  });\n  const orderContext = useContext(OrderContext);\n  const orderHook = useOrder();\n\n  const handleSave = (e) => {\n    let categories_wrong = 0;\n\n    const { items: items_state, exam_id, session, contact_id, sale } = state;\n\n    const items = items_state.map((item) => {\n      if (item.category === 4) categories_wrong++;\n\n      return {\n        cant: item.cant,\n        price: item.price,\n        subtotal: item.subtotal,\n        inStorage: item.inStorage,\n        session: session,\n        out: item.out,\n        descripcion: item.descripcion,\n        store_items_id: item.store_items_id,\n      };\n    });\n\n    if (items.length === categories_wrong) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"No hay productos para procesar en un pedido\",\n        icon: \"warning\",\n        timer: 3000,\n      });\n      return false;\n    }\n\n    let data = {\n      session: session,\n      contact_id: contact_id,\n      items: items,\n      sale: {\n        discount: sale.discount,\n      },\n    };\n\n    if (sale.payments.length) {\n      let finalPayments = sale.payments;\n      finalPayments.forEach((payment) => {\n        delete payment.id;\n        delete payment.metodoname;\n      });\n      data.sale.payments = finalPayments;\n    }\n\n    if (exam_id) data.exam_id = parseInt(exam_id);\n\n    if (!data.sale.payments?.length) {\n      window.Swal.fire({\n        icon: \"question\",\n        title: \"Desea GUARDAR el pedido sin ningun abono?\",\n        showConfirmButton: true,\n        confirmButtonText: \"Si\",\n        showCancelButton: true,\n        denyButtonText: \"No\",\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          executeHook(data);\n        }\n      });\n    } else {\n      window.Swal.fire({\n        icon: \"question\",\n        title: \"Esta seguro que desea GUARDAR el pedido?\",\n        showConfirmButton: true,\n        confirmButtonText: \"Si\",\n        showCancelButton: true,\n        denyButtonText: \"No\",\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          executeHook(data);\n        }\n      });\n    }\n  };\n  const handleChangeInput = (key, value) => {\n    if (key === \"exam\") {\n      if (value.category_id) {\n        handleGetCategories(value.category_id);\n      }\n\n      if (!value.id) {\n        setState({\n          ...state,\n          exam_id: 0,\n          exam: {},\n        });\n      } else {\n        setState({\n          ...state,\n          exam_id: value.id,\n          exam: value,\n        });\n      }\n\n      return;\n    }\n\n    if (key === \"items\") {\n      const total = value.reduce(\n        (sub, item) => item.cant * item.price + sub,\n        0\n      );\n\n      setState({\n        ...state,\n        items: value,\n        sale: {\n          ...state.sale,\n          total: total,\n        },\n      });\n      return;\n    }\n\n    setState({\n      ...state,\n      [key]: value,\n    });\n  };\n  const handleGetCategories = (cat_id) => {\n    const { _getCategory } = this.props;\n    _getCategory({ id: cat_id });\n  };\n\n  const executeHook = (data) => {\n    orderHook.saveOrder(data).then(({ data }) => {\n      if (data) {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Pedido guardado correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        }).then(({ dismiss }) => {\n          if (dismiss) {\n            setState({\n              ...state,\n              id: data.id,\n              sale: {\n                id: data.sale.id,\n                total: data.sale.total,\n                subtotal: data.sale.subtotal,\n                discount: data.sale.descuento,\n                payments: data.sale.payments,\n                paid: data.sale.paid,\n                customer: data.paciente,\n              },\n              print: true,\n            });\n          }\n        });\n      } else {\n        window.Swal.fire({\n          icon: \"danger\",\n          title: \"Error al guardar el pedido\",\n          showConfirmButton: true,\n        });\n      }\n    });\n  };\n  const handleCloseAssitent = () => {\n    orderContext.set({\n      ...orderContext,\n      panel: \"inbox\",\n    });\n  };\n\n  return (\n    <div className=\"mainAssitentComponent \">\n      <div className=\"card card-warning card-outline col-lg-12\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-clipboard-list mr-1\"></i>\n            Nuevo Pedido\n          </h3>\n        </div>\n\n        <div className=\"card-body d-flex justify-content-center col-lg-12\">\n          {/* Validacion 1 --- Seleccion de cliente */}\n          {!state.contact_id ? (\n            <div className=\"form-group col-lg-6\">\n              <SearchContact\n                title=\"Paciente\"\n                legend={\n                  !state.contact_id\n                    ? \"Busque el paciente por nombre para crearun nuevo pedido\"\n                    : null\n                }\n                handleContactSelect={(contact) => {\n                  if (contact.id) {\n                    setState({\n                      ...state,\n                      contact_id: contact.id ?? 0,\n                      examsList: contact.exams.length ? contact.exams : [],\n                      contact,\n                    });\n                  }\n                }}\n                data={state.contact}\n              />\n            </div>\n          ) : (\n            <CardCustomer\n              data={state.contact}\n              handleRemoveCustomer={() => {\n                setState({\n                  session: generalHelper.getSession(),\n                  contact_id: 0,\n                  contact: {},\n                  items: [],\n                  exam_id: 0,\n                  exam: {},\n                });\n              }}\n              handleUpdateContact={(contact) =>\n                setState({ ...state, contact, editCustomer: false })\n              }\n              handleEditor={(status) =>\n                setState({ ...state, editCustomer: status })\n              }\n              disabled={Boolean(state.exam_id)}\n            />\n          )}\n\n          {/* Validacion 2 --- Seleccion de examen o creacion de uno nuevo */}\n          {Boolean(state.contact_id) && (\n            <CardExam\n              data={state.exam}\n              customer={state.contact}\n              editCustomer={state.editCustomer}\n              disabled={Boolean(state.items.length)}\n              handleSelect={(exam) =>\n                setState({ ...state, exam_id: exam.id, exam })\n              }\n              hanldeRemove={() => setState({ ...state, exam_id: 0, exam: {} })}\n            />\n          )}\n        </div>\n\n        {/* Validacion 3 --- Seleccion de productos una vez seleccionado el examen */}\n        {Boolean(state.exam_id) && (\n          <div className=\"col-lg-10 d-flex align-self-center justify-content-center p-0\">\n            <Items\n              items={state.items ?? []}\n              session={state.session}\n              disabled={Boolean(state.sale?.payments?.length)}\n              changeInput={handleChangeInput}\n              className={\n                state.items.length\n                  ? \"card border border-success col-lg-12\"\n                  : \"card border border-warning col-lg-12\"\n              }\n            />\n          </div>\n        )}\n\n        {/* Validacin 4 --- lista de abonos al pago */}\n        {Boolean(state.items.length) && state.validItems && (\n          <div className=\"col-lg-10 d-flex align-self-center p-0 mt-2\">\n            <CardDiscount\n              data={state.sale ?? {}}\n              handleSetDiscount={handleChangeInput}\n              disabled={(() => {\n                const amount = state.sale.payments?.reduce(\n                  (back, pay) => pay.total + back,\n                  0\n                );\n\n                if (state.id) return true;\n                if (amount) return true;\n\n                return !Boolean(\n                  state.sale.total - state.sale.discount - amount\n                );\n              })()}\n            />\n\n            <CardOrderPayments\n              data={state.sale ?? {}}\n              handleSetPayments={handleChangeInput}\n              disabled={Boolean(state.id)}\n            />\n          </div>\n        )}\n\n        {state.print && (\n          <PrintSaleComponent\n            data={{\n              ...state.sale,\n              items: state.items,\n              order_id: state.id,\n              created_at: state.created_at,\n            }}\n            setPrint={() => setState({ ...state, print: false })}\n          />\n        )}\n\n        <div className=\"card col-lg-10 d-flex align-self-center border border-bottom-primary\">\n          <div className=\"card-body text-right\">\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => {\n                if (state.contact_id && !state.id) {\n                  window.Swal.fire({\n                    icon: \"question\",\n                    title: \"Realmente desea cerrar esta venta sin GUARDAR?\",\n                    showConfirmButton: true,\n                    confirmButtonText: \"S\",\n                    showCancelButton: true,\n                    cancelButttonText: \"Cancelar\",\n                  }).then(({ dismiss }) => {\n                    if (!dismiss) {\n                      handleCloseAssitent();\n                    }\n                  });\n                } else {\n                  handleCloseAssitent();\n                }\n              }}\n            >\n              <i\n                className={\n                  state.id ? \"fas fa-door-open mr-2\" : \"fas fa-ban mr-2\"\n                }\n              ></i>\n              {state.id ? \"Cerrar\" : \"Cancelar\"}\n            </button>\n\n            {state.id ? (\n              <button\n                className=\"btn btn-primary ml-3\"\n                onClick={() => setState({ ...state, print: !state.print })}\n              >\n                <i className=\"fas fa-print mr-2\"></i>\n                Imprimir\n              </button>\n            ) : (\n              <button\n                className=\"btn btn-warning ml-3\"\n                disabled={\n                  !state.items.length || state.id || !state.validItems\n                    ? true\n                    : false\n                }\n                onClick={handleSave}\n              >\n                <i className=\"fas fa-save mr-2\"></i>\n                Guardar\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState,useEffect } from \"react\";\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function LabOrderComponent({\n  status = false,\n  lab_id = \"\",\n  lab_order = \"\",\n  handleChange: _handleChange,\n}) {\n\n  const optionsDefault = {\n    page: 1,\n    orderby: \"created_at\",\n    order: \"desc\",\n    itemsPage: 100,\n    type:1,\n    business:1\n  };\n\n  const [suppliers, setSuppliers] = useState([]);\n  const [supDefault, setSupDefault] = useState('');\n  const hookContacts =  useContact();\n\n  const getSuppliers = ()=>{\n    hookContacts.getContacts(optionsDefault).then((data)=>{\n      if(data){\n        setSuppliers(data.data);\n        const supDefault = data.data.filter((supplier)=> supplier.id === lab_id);\n        if(!supDefault.length){ \n          return null\n        }else{\n          setSupDefault(supDefault[0].name);\n        }        \n      }\n    })\n  }\n  \n  //Functions\n  const changeInput = (e) => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let val = value;\n\n    if (name === \"lab_id\") val = parseInt(value);\n\n    if (_handleChange) _handleChange(name, val);\n  };\n\n  useEffect(() => {\n    getSuppliers();\n    //dispatch(contactActions.getListSuppliers(1));\n    //eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"row m-2\">\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Laboratorio</label>\n\n          <select\n            className={status > 1 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 1 ? true : false}\n            name=\"lab_id\"\n            defaultValue={lab_id}\n            onChange={changeInput}\n          >            \n            <option value=\"0\">\n              {lab_id === 0 ? \"Seleccione un proveedor\" : supDefault}\n            </option>   \n            {suppliers.map((s) => {                                                                     \n                  return (\n                    <option key={s.id} value={s.id}>                      \n                      {s.name}\n                    </option>\n                  );\n                })}\n          </select>\n\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Folio</label>\n          <input\n            type=\"text\"\n            className={status > 1 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 1 ? true : false}\n            name=\"lab_order\"\n            maxLength=\"50\"\n            defaultValue={lab_order}\n            onChange={changeInput}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","\n\nexport default function BicelacionOrderComponent({\n  status = false,\n  bi_box = \"\",\n  bi_details = \"\",\n  handleChange: _handleChange,\n}) {\n  const changeInput = (e) => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let val = value;\n\n    if (name === \"caja\") val = parseInt(value);\n\n    if (_handleChange) _handleChange(name, val);\n  };\n\n  return (\n    <div className=\"row m-2\">\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label htmlFor=\"lab\">Caja</label>\n          <input\n            type=\"number\"\n            className={status > 2 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 2 ? true : false}\n            name=\"bi_box\"\n            min=\"1\"\n            defaultValue={bi_box}\n            onChange={changeInput}\n          />\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Observaciones</label>\n          <textarea\n            name=\"bi_details\"\n            className={status > 2 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 2 ? true : false}\n            defaultValue={bi_details}\n            onChange={changeInput}\n          ></textarea>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport moment from \"moment\";\n//Views and actions\nimport Graduacion from \"./graduacionExam\";\n\nconst ExamCustomerComponent = (props) => {\n  const {\n    exam = {},\n    examEdit = false,\n    ChangeInput: _ChangeInput,\n    _saveExam,\n  } = props;\n\n  const [newExam, setNewExam] = useState({\n    esferaod: exam.esferaod,\n    esferaoi: exam.esferaoi,\n    cilindrod: exam.cilindrod,\n    cilindroi: exam.cilindroi,\n    ejeod: exam.ejeod,\n    ejeoi: exam.ejeoi,\n    adiciond: exam.adiciond,\n    adicioni: exam.adicioni,\n    adicion_media_od: exam.adicion_media_od,\n    adicion_media_oi: exam.adicion_media_oi,\n    dpod: exam.dpod,\n    dpoi: exam.dpoi,\n    alturaod: exam.alturaod,\n    alturaoi: exam.alturaoi,\n    lcmarca: exam.lcmarca,\n    lcgod: exam.lcgod,\n    lcgoi: exam.lcgoi,\n  });\n\n  const handleDataExam = (key, val) => {\n    const data = {\n      ...newExam,\n      [key]: parseFloat(val),\n    };\n    setNewExam(data);\n    _ChangeInput(\"codes\", {});\n  };\n\n  const handelChangeExam = () => {\n    _ChangeInput(\"examEdit\", false);\n  };\n\n  const handleSaveExam = () => {\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"Esta seguro de actualizar el examen?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Actualizar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then((result) => {\n      if (!result.dismiss) {\n        _saveExam({\n          id: exam.id,\n          data: newExam,\n        });\n        handelChangeExam();\n      }\n    });\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col\">\n          <b>\n            Folio <br />#{exam.id}\n          </b>\n        </div>\n        <div className=\"col\">\n          <b>Fecha:</b>\n          <br />\n          <i className=\"fas fa-calendar mr-2\"></i>\n          {moment(exam.created_at).format(\"L\")}\n        </div>\n        <div className=\"col\">\n          <b>Estado:</b>\n          <br />\n          {exam.estado ? (\n            <span className=\"badge badge-success\">\n              <i className=\"fas fa-check\"></i> Terminado\n            </span>\n          ) : (\n            <span className=\"badge badge-secondary\">\n              <i className=\"fas fa-hourglass\"></i> Activo\n            </span>\n          )}\n        </div>\n      </div>\n\n      {exam.observaciones ? (\n        <div className=\"form-group mt-2\">\n          <div className=\"callout callout-info\">\n            <h5 className=\"text-info text-bold\">\n              <i className=\"fas fa-info\"></i> Observaciones:\n            </h5>\n            {exam.observaciones}\n          </div>\n        </div>\n      ) : null}\n\n      <div className=\"row mt-2\">\n        <div className=\"col\">\n          <Graduacion\n            esferaod={newExam.esferaod ?? 0}\n            esferaoi={newExam.esferaoi ?? 0}\n            cilindrod={newExam.cilindrod ?? 0}\n            cilindroi={newExam.cilindroi ?? 0}\n            ejeod={newExam.ejeod ?? 0}\n            ejeoi={newExam.ejeoi ?? 0}\n            adiciond={newExam.adiciond ?? 0}\n            adicioni={newExam.adicioni ?? 0}\n            adicion_media_od={newExam.adicion_media_od}\n            adicion_media_oi={newExam.adicion_media_oi}\n            dpod={newExam.dpod ?? 0}\n            dpoi={newExam.dpoi ?? 0}\n            alturaod={newExam.alturaod ?? 0}\n            alturaoi={newExam.alturaoi ?? 0}\n            lcmarca={newExam.lcmarca ?? 0}\n            lcgod={newExam.lcgod ?? 0}\n            lcgoi={newExam.lcgoi ?? 0}\n            readOnly={!examEdit}\n            onChangeInput={handleDataExam}\n          />\n        </div>\n      </div>\n      {examEdit ? (\n        <div className=\"text-right mt-2\">\n          <div className=\"btn-group\">\n            <button className=\"btn btn-default\" onClick={handelChangeExam}>\n              <i className=\"fas fa-times mr-1\"></i> Cerrar\n            </button>\n            <button className=\"btn btn-info\" onClick={handleSaveExam}>\n              <i className=\"fas fa-save mr-1\"></i> Guardar\n            </button>\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n};\n\n\nexport default ExamCustomerComponent;\n","//Components\nimport Exam from '../Exam/views/examShort';\n\nexport default function ExamModal({ handleClose: _close, exam }) {\n  return (\n    <div className=\"modal d-block\">\n      <div className=\"modal-dialog modal-lg\" style={{maxWidth:'80%'}} role=\"document\">\n\n        <div className=\"modal-content\">\n          \n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Examen</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n          <div className=\"modal-body p-2\">\n            <div className=\"row mt-4 d-print-none\">\n            {exam && exam.id ? (\n              <div className=\"col pt-6\">                \n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <div className=\"p-0 mailbox-read-message\">\n                      <Exam id={exam.id} examEdit={false} exam={exam} />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ) : null}            \n            </div>\n          </div>\n\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n\n        </div>\n      </div>\n    </div> \n  );\n};\n","import { useHistory } from \"react-router-dom\";\nimport saleHelper from '../Sales/helpers';\n\n\nexport default function ModalNota({ handleClose: _close, sale}) {\n\n\n  const history =  useHistory();\n\n  const penddingToPay = () => {\n    let pendding = saleHelper.getTotal(sale.subtotal, sale.discount) - saleHelper.getPagado(sale.payments);\n    return pendding;\n  }\n\n  const getPagado = ()=>{\n    return saleHelper.getPagado(sale.payments);\n  }\n\n  \n  return (\n      <div className=\"modal d-block\">\n      <div className=\"modal-dialog\" role=\"document\">\n\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Nota</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n          <div className=\"modal-body p-2\">\n          {sale.id ? (                 \n                 <div>\n                     <div className='ml-3 font-weight-bold'>\n                         <h5 className='border-bottom pb-1 mb-2'>Resumen de la venta <span className='badge badge-success'>#{sale.id}</span></h5>\n                     </div>\n                     <div className=\"d-flex pl-2\">                     \n                        <div className='col-lg-7'>                                        \n                            <h6>Descuento:<span className='text-secondary ml-2 font-weight-normal'>${sale.discount}</span></h6>\n                            <h6>Subtotal:<span className=\"text-secondary mb-3 ml-2 font-weight-normal\">${sale.subtotal}</span></h6>\n                            <h5 className=\"font-weight-bold\">Total:<span className=\"text-info ml-2 font-weight-normal\">${sale.total}</span></h5>  \n                        </div>\n                                                            \n                        <div className='col-lg-6 d-flex flex-column justify-content-center align-items-center pt-4'>\n                            <h6 className='font-weight-bold'>Abonado:<span className='text-success ml-2 font-weight-normal'>${getPagado()}</span></h6>                          \n                            <h6 className='font-weight-bold'>Por pagar:<span className='text-danger ml-2 font-weight-normal'>${penddingToPay()}</span></h6>\n                        </div>\n                     </div>\n                     {penddingToPay() === 0 ? <h5 className=\"text-center bg-success p-1\">$ Cuenta pagada</h5> : null}                     \n                 </div>                \n             ):(\n                 <p>No hay un nota para mostrar!!</p>\n             )}           \n          </div>\n\n          <div className=\"modal-footer\">                \n                <button\n                type=\"button\"\n                className=\"btn btn-default\"\n                onClick={() => _close()}\n                >\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n                </button>\n\n                <button className=\"btn btn-info\" onClick={()=>history.push(`/notas/${sale.id}`)}>\n                  <i className=\"fas fa-money-bill-alt mr-2\"></i>\n                  Editar nota\n                </button>\n\n          </div>\n        </div>\n      </div>\n    </div> \n  );\n};\n","import { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\n\n//Context\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { OrderContext } from \"../../context/OderContext\";\n\n//Hooks\nimport useOrder from \"../../hooks/useOrder\";\n\n//Components\nimport LabOrder from \"./views/labOrder\";\nimport Bicelacion from \"./views/bicelacionOrder\";\nimport Items from \"./views/ItemsOrder\";\nimport ExamModal from \"./ExamModal\";\nimport ModalNota from \"./ModalNota\";\nimport Activitys from \"../Activitys\";\nimport PrintSaleComponent from \"../print/PrintSale\";\n\n//Helper\nimport helper from \"./helpers\";\n\nexport default function EditOrderComponent(props) {\n  const [state, setState] = useState({\n    id: 0,\n    paciente: {},\n    session: null,\n    lab_id: 0,\n    lab_order: \"\",\n    bi_details: \"\",\n    bi_box: 0,\n    items: [],\n    sale: {},\n    exam: {},\n    codes: {},\n    status: 0,\n    created: {},\n    created_at: null,\n    updated: {},\n    updated_at: null,\n    print: false,\n    statusInitial: 0,\n  });\n\n  const [showModal, setShowModal] = useState(false);\n  const [showModalNota, setShowModalNota] = useState(false);\n\n  const {\n    id,\n    paciente,\n    lab_id,\n    lab_order,\n    bi_box,\n    bi_details,\n    items,\n    exam = {},\n    status,\n    created_at,\n  } = state;\n\n  const hookOrder = useOrder();\n  const authContext = useContext(AuthContext);\n  const role = authContext.auth.roles;\n  const history = useHistory();\n  const orderContext = useContext(OrderContext);\n\n  const { loading: LOADING } = props;\n\n  const fNacimiento =\n    new Date(paciente.birthday ?? \"\") < new Date()\n      ? moment(paciente.birthday)\n      : null;\n\n  const telefonos = Object.values(paciente.phones ?? {}).filter((tel) => tel);\n\n  const handleClose = (e) => {\n    orderContext.set({\n      ...orderContext,\n      panel: \"inbox\",\n    });\n\n    history.push(\"/pedidos\");\n  };\n\n  const handleSave = () => {\n    const { id, lab_order, bi_box, status, lab_id, bi_details } = state;\n    if (status === 0) {\n      return null;\n    }\n\n    if (status === 1 && !lab_id && toString(lab_order).length) {\n      window.Swal.fire(\n        \"Verificacin\",\n        \"Verifique los campos de laboratorio\",\n        \"error\"\n      );\n      return false;\n    } else if (status === 1) {\n      saveFinalOrder({\n        id,\n        status,\n        lab_id,\n        lab_order,\n      });\n    }\n\n    if (status === 2 && !bi_box) {\n      window.Swal.fire(\"Verificacin\", \"El numero de caja esta vacio\", \"error\");\n      return false;\n    } else if (status === 2) {\n      saveFinalOrder({\n        id,\n        status,\n        bi_box,\n        bi_details,\n      });\n    }\n\n    if (status >= 3) {\n      saveFinalOrder({\n        id,\n        status,\n      });\n    }\n  };\n\n  const saveFinalOrder = (data) => {\n    hookOrder.saveOrder(data).then((data) => {\n      if (data) {\n        window.Swal.fire({\n          title: \"Estado guardado correctamente\",\n          icon: \"success\",\n          showCancelButton: false,\n          showConfirmButton: false,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"Eliminar\",\n          timer: 3000,\n        });\n        orderContext.set({\n          ...orderContext,\n          panel: \"inbox\",\n        });\n        history.push(\"/pedidos\");\n      } else {\n        window.Swal.fire({\n          title: \"Error al actualizar el estado\",\n          icon: \"error\",\n          showCancelButton: false,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"Eliminar\",\n        });\n      }\n    });\n  };\n\n  const handleDeleteOrder = () => {\n    window.Swal.fire({\n      title: \"Ests seguro de eliminar la orden?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        hookOrder.deleteOrder(id);\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Orden eliminada correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n\n        orderContext.set({\n          ...orderContext,\n          panel: \"inbox\",\n        });\n      }\n    });\n  };\n\n  const handleChangeInput = (key, value) => {\n    setState({\n      ...state,\n      [key]: value,\n    });\n  };\n\n  useEffect(() => {\n    const { id } = props.match.params;\n    console.log(\"[Orus System] Loading order:\", id);\n    hookOrder.getOrder(id).then(({ data }) => {\n      if (data) {\n        const order = {\n          id: data.id ?? 0,\n          paciente: data.paciente ?? {},\n          session: data.session ?? null,\n          lab_id: data.lab ? data.lab.id : 0,\n          lab_order: data.lab_order ?? \"\",\n          bi_details: data.bi_details ?? \"\",\n          bi_box: data.bi_box ?? 0,\n          items: data.items ?? [],\n          exam: data.exam ?? {},\n          codes: data.codes ?? {},\n          status: data.status ?? 0,\n          created: data.created ?? {},\n          created_at: data.created_at ?? null,\n          updated: data.updated ?? {},\n          updated_at: data.updated_at ?? null,\n          contact_id: data.paciente.id,\n          activitys: data.activity ?? [],\n          statusInitial: data.status ?? 0,\n          sale: {},\n        };\n        if (data.sale) {\n          order.sale = {\n            id: data.sale.id,\n            total: data.sale.total,\n            subtotal: data.sale.subtotal,\n            session: data.sale.session,\n            payments: data.sale.payments,\n            paid: data.sale.paid,\n            discount: data.sale.descuento,\n            customer: data.paciente,\n          };\n        }\n        setState(order);\n      } else {\n        console.error(\"Error al obtener los datos\");\n      }\n    });\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      {state ? (\n        <>\n          <div className=\"card card-warning card-outline d-print-none\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title w-100\">\n                <i className=\"mr-1 fas fa-clipboard-list\"></i>\n                Pedido\n                <span className=\"ml-1 badge badge-pill badge-warning\">\n                  #{id}\n                </span>\n                <span className=\"float-right mailbox-read-time mt-1 text-dark\">\n                  Pedido registrado {moment(created_at).fromNow()}\n                </span>\n              </h3>\n            </div>\n\n            <div className=\"p-0 card-body d-flex p-3\">\n              <div className=\"pl-3 col-lg-6\">\n                {/* Nombre del paciente */}\n                <h6 className=\"d-flex mb-2\">\n                  <i className=\"mr-2 fas fa-user\"></i>\n                  <span className=\"text-capitalize m-0 text-secondary\">\n                    {paciente.name}\n                  </span>\n                </h6>\n                {/* Email del paciente */}\n                {paciente.email ? (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-2 fas fa-envelope\"></i>\n                    <span className=\"text-muted\">{paciente.email}</span>\n                  </h6>\n                ) : (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-2 fas fa-envelope\"></i>\n                    <span className=\"text-muted\">Email no registrado</span>\n                  </h6>\n                )}\n                {/* Telfono del paciente */}\n                {telefonos.length ? (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-1 fas fa-phone\"></i>\n                    <span className=\"mx-1 text-muted\">\n                      {telefonos.join(\" \")}\n                    </span>\n                  </h6>\n                ) : (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-1 fas fa-phone\"></i>\n                    <span className=\"text-muted\">Telefonos no registrado</span>\n                  </h6>\n                )}\n\n                {/*Fecha de nacimiento del paciente*/}\n                {role === \"admin\" ? (\n                  <span className=\"mailbox-read-time\">\n                    Fecha de nacimiento:{\" \"}\n                    {fNacimiento ? (\n                      <>\n                        {fNacimiento.format(\"LL\")}\n                        <label className=\"ml-1\">\n                          ({moment().diff(fNacimiento, \"years\")} aos)\n                        </label>\n                      </>\n                    ) : (\n                      \"NO REGISTRADO\"\n                    )}\n                  </span>\n                ) : null}\n              </div>\n\n              <div className=\"col-lg-6 d-flex flex-column justify-content-center align-items-center\">\n                <div className=\"w-75 d-flex flex-column justify-content-center align-items-center\">\n                  <div className=\"btn-group\">\n                    {state.nota && !state.nota.id ? (\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-default btn-sm\"\n                        title=\"Eliminar\"\n                        onClick={handleDeleteOrder}\n                      >\n                        <i className=\"far fa-trash-alt\"></i>\n                      </button>\n                    ) : null}\n                  </div>\n                </div>\n\n                <div className=\"w-75 d-flex flex-column justify-content-center align-items-center\">\n                  <div className=\"mt-3 \">\n                    <button\n                      className=\"btn btn-info mr-1\"\n                      onClick={() => setShowModal(true)}\n                      disabled={Object.keys(exam).length ? false : true}\n                    >\n                      {Object.keys(exam).length\n                        ? \"Ver examen\"\n                        : \"Sin examen asignado\"}\n                      <i className=\"fas fa-eye ml-1\"></i>\n                    </button>\n\n                    <button\n                      className=\"btn btn-primary mr-1\"\n                      onClick={() => setShowModalNota(true)}\n                    >\n                      Ver Nota\n                      <i className=\"fas fa-money-bill ml-1\"></i>\n                    </button>\n\n                    <button\n                      className=\"btn btn-secondary\"\n                      onClick={() => setState({ ...state, print: true })}\n                    >\n                      Imprimir\n                      <i className=\"fas fa-print ml-1\"></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"row mt-4 mb-4\">\n            <div className=\"col-lg-4 col-md-6 col-sm-12 d-print-none\">\n              {/* ------------------SELECCION DE ESTATUS ------------------ */}\n              <h6 className=\"w-100 d-block font-weight-bold\">Estado</h6>\n              <div className=\"card mt-2\">\n                <div className=\"btn-group-vertical\">\n                  {helper.getStatusType.map((type, index) => (\n                    <button\n                      key={index}\n                      type=\"button\"\n                      className={\n                        status === index\n                          ? \"btn btn-primary btn-sm text-capitalize text-bold\"\n                          : \"btn btn-default btn-sm text-capitalize\"\n                      }\n                      onClick={(e) => {\n                        setState({\n                          ...state,\n                          status: index,\n                        });\n                      }}\n                    >\n                      {type}\n                    </button>\n                  ))}\n                </div>\n                {LOADING ? (\n                  <div className=\"overlay dark\">\n                    <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                  </div>\n                ) : null}\n              </div>\n\n              <div className=\"mt-3 d-flex justify-content-center\">\n                <button\n                  className=\"btn btn-secondary mr-2\"\n                  onClick={(e) => handleClose(e)}\n                >\n                  Cerrar\n                  <i className=\"mr-1 fas fa-door-open ml-2\"></i>\n                </button>\n\n                <button\n                  className=\"btn btn-warning\"\n                  /* disabled={Boolean(state.status === state.statusInitial)} */\n                  onClick={handleSave}\n                >\n                  Guardar\n                  <i className=\"mr-1 fas fa-save ml-2\"></i>\n                </button>\n              </div>\n            </div>\n\n            {/*------------------ COMPONENTE DE PEDIDO ------------------*/}\n            <div className=\"col\">\n              {\n                <div className=\"card h-100 m-0\">\n                  <div className=\"card-header d-print-none\">\n                    <h5 className=\"card-title w-100 d-block mb-2 text-capitalize text-bold\">\n                      <i className=\"fas fa-shield-alt mr-1\"></i>\n                      {helper.handleStatusString(status)}\n                    </h5>\n                  </div>\n\n                  <div className=\"card-body p-0\">\n                    <div className=\"p-0 mailbox-read-message m-0\">\n                      {!Boolean(status) && <Items items={items} />}\n\n                      {status === 1 ? (\n                        <LabOrder\n                          lab_id={lab_id}\n                          lab_order={lab_order}\n                          status={status}\n                          handleChange={handleChangeInput}\n                        />\n                      ) : null}\n\n                      {status === 2 ? (\n                        <Bicelacion\n                          bi_box={bi_box}\n                          bi_details={bi_details}\n                          status={status}\n                          handleChange={handleChangeInput}\n                        />\n                      ) : null}\n\n                      {status >= 3 ? (\n                        <div className=\"px-2\">\n                          <div className=\"my-2 border rounded card border-warning d-print-none\">\n                            <div className=\"card-body\">\n                              <h5 className=\"card-title\">\n                                Estado de la entrega\n                              </h5>\n                              <div className=\"ml-1 icheck-success d-inline\">\n                                <input\n                                  type=\"checkbox\"\n                                  checked={status === 3 ? false : true}\n                                  id=\"checkboxSuccess1\"\n                                  onChange={(e) =>\n                                    handleChangeInput(\n                                      \"status\",\n                                      status === 3 ? 4 : 3\n                                    )\n                                  }\n                                />\n                                <label htmlFor=\"checkboxSuccess1\"></label>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      ) : null}\n                    </div>\n                  </div>\n\n                  {LOADING ? (\n                    <div className=\"overlay dark d-print-none\">\n                      <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                    </div>\n                  ) : null}\n                </div>\n              }\n            </div>\n          </div>\n\n          {/* MODAL VALIDATION EXAM */}\n          {showModal ? (\n            <ExamModal\n              handleClose={() => setShowModal(false)}\n              exam={state.exam}\n            />\n          ) : null}\n\n          {/* MODAL VALIDATION NOTA*/}\n          {showModalNota ? (\n            <ModalNota\n              handleClose={() => setShowModalNota(false)}\n              sale={state.sale}\n            />\n          ) : null}\n        </>\n      ) : null}\n\n      {state.print && (\n        <PrintSaleComponent\n          data={{\n            ...state.sale,\n            items: state.items,\n            order_id: state.id,\n            created_at: state.created_at,\n          }}\n          setPrint={() => setState({ ...state, print: false })}\n        />\n      )}\n\n      <Activitys data={state.activitys ?? []} />\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useEffect, useState, useContext } from \"react\";\nimport useMessenger from \"../../hooks/useMessenger\";\n\nexport default function Messenger({ table, idRow }) {\n  const hookMessenger = useMessenger();\n  const authContext = useContext(AuthContext);\n  const { idUser } = authContext;\n\n  const [state, setState] = useState({\n    messages: [],\n    user: \"\",\n    load: true,\n    message: \"\",\n  });\n\n  const getMessenger = () => {\n    const options = {\n      table,\n      idRow,\n    };\n    hookMessenger.getMessages(options).then((data) => {\n      if (data.data) {\n        setState({\n          ...state,\n          messages: data.data,\n          user: idUser,\n          load: false,\n        });\n      }\n    });\n  };\n\n  const handleMessege = (e) => {\n    setState({\n      ...state,\n      message: e.target.value,\n    });\n  };\n\n  const sendMessenger = () => {\n    const message = state.message;\n    const bodyRequest = {\n      table: table,\n      idRow: idRow,\n      message: message,\n    };\n\n    setState({\n      ...state,\n      load: true,\n      message: \"\",\n    });\n\n    hookMessenger\n      .sendMessenger(bodyRequest)\n      .then((data) => {\n        if (data) {\n          setState({\n            ...state,\n            messages: [data.data, ...state.messages],\n            message: \"\",\n            load: false,\n          });\n        } else {\n          setState({\n            ...state,\n            load: false,\n            message,\n          });\n        }\n      })\n      .catch((error) => {\n        setState({\n          ...state,\n          load: false,\n          message,\n        });\n      });\n  };\n\n  useEffect(() => {\n    getMessenger();\n  }, []);\n\n  return (\n    <div className=\"card direct-chat direct-chat-primary d-print-none\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-comments mr-1\"></i>\n          Chat\n          <span className=\"badge badge-pill badge-secondary ml-1\">{idRow}</span>\n        </h3>\n      </div>\n\n      {state.load ? (\n        <div className=\"card-body\">\n          <div className=\"card-text text-center p-4\">\n            <div className=\"spinner-border text-primary\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </div>\n          </div>\n        </div>\n      ) : state.messages.length ? (\n        <>\n          <div className=\"card-body\">\n            <div className=\"direct-chat-messages\" id=\"boxchat\">\n              {state.messages.map((message) => {\n                let avatar = \"/img/avatars/avatar5.png\";\n                // eslint-disable-next-line\n                if (message.created_user.rol === 1)\n                  avatar = \"/img/avatars/avatar2.png\";\n                if (!message.created_user.rol)\n                  avatar = \"/img/avatars/avatar3.png\";\n                if (message.created_user.id === 2)\n                  avatar = \"/img/avatars/avatar4.png\";\n                return (\n                  <div\n                    className={\n                      message.created_user.id === state.user\n                        ? \"direct-chat-msg right\"\n                        : \"direct-chat-msg\"\n                    }\n                    key={message.id}\n                  >\n                    <div className=\"direct-chat-infos clearfix\">\n                      <span\n                        className={\n                          message.created_user.id === state.user\n                            ? \"direct-chat-name float-right\"\n                            : \"direct-chat-name float-left\"\n                        }\n                      >\n                        {message.created_user.name}\n                      </span>\n                      <span\n                        className={\n                          message.created_user.id === state.user\n                            ? \"direct-chat-timestamp float-left\"\n                            : \"direct-chat-timestamp float-right\"\n                        }\n                      >\n                        {moment(message.updated_at).format(\"lll\")}\n                      </span>\n                    </div>\n                    <img\n                      className=\"direct-chat-img\"\n                      src={\n                        message.created_user.id === 1\n                          ? \"/img/avatars/OrusBot.png\"\n                          : avatar\n                      }\n                      alt=\"message user image1\"\n                    />\n                    <div className=\"direct-chat-text\">{message.mensaje}</div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </>\n      ) : (\n        <div className=\"card-body\">\n          <div className=\"card-text text-center p-4\">\n            <h5>\n              <i className=\"fas fa-comment-slash mr-1\"></i>\n              No hay mensajes aun\n            </h5>\n          </div>\n        </div>\n      )}\n\n      <div className=\"card-footer\">\n        <div className=\"input-group\">\n          <input\n            type=\"text\"\n            name=\"message\"\n            placeholder=\"Escriba un mensaje ...\"\n            className=\"form-control\"\n            value={state.message}\n            onChange={handleMessege}\n            onKeyPress={({ key }) => {\n              if (key === \"Enter\") {\n                sendMessenger();\n              }\n            }}\n          />\n          <span className=\"input-group-append\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={sendMessenger}\n              disabled={state.message.length > 1 ? false : true}\n            >\n              Enviar\n            </button>\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useMessenger() {\n  const getMessages = async (options) => {\n    const url = setUrl(\"messengers\", null, options);\n\n    return await api(url);\n  };\n\n  const sendMessenger = async (bodyRequest) => {\n    if (bodyRequest) {\n      const url = setUrl(\"messengers\");\n      return await api(url, \"POST\", bodyRequest);\n    }\n  };\n\n  return {\n    getMessages,\n    sendMessenger,\n  };\n}\n","import { useContext } from \"react\";\n//Context\nimport { OrderContext } from \"../../context/OderContext\";\nimport SideBar from \"../../pages/partials/SideBar\";\nimport Messenger from \"../Layouts/Messenger\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function Toolbar() {\n  const orderContext = useContext(OrderContext);\n  const options = orderContext.options;\n\n  const { id } = useParams();\n\n  const handleSetSelectOptions = ({ target }) => {\n    const { value, name } = target;\n    //if(name === 'status' || name === 'itemsPage'){}\n    orderContext.set({\n      ...orderContext,\n      options: {\n        ...options,\n        [name]: value,\n      },\n    });\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-md-12 col-sm-12 d-print-none\">\n        <a\n          href=\"#new\"\n          className={\n            [\"edit\", \"newOrder\"].includes(orderContext.panel)\n              ? \"disabled mb-3 btn btn-secondary btn-block\"\n              : \"mb-3 btn btn-warning btn-block\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n            orderContext.set({\n              ...orderContext,\n              panel: \"newOrder\",\n            });\n          }}\n          disabled={\n            [\"edit\", \"newOrder\"].includes(orderContext.panel) ? true : false\n          }\n        >\n          <i className=\"mr-2 fas fa-plus\"></i>\n          Pedido nuevo\n        </a>\n\n        {orderContext.panel === \"inbox\" && (\n          <SideBar title=\"Filtros\">\n            {orderContext.panel === \"inbox\" ? (\n              <>\n                <li className=\"nav-item\">&nbsp;</li>\n                <li className=\"p-2 nav-item\">\n                  <label htmlFor=\"status\">Estado del pedido</label>\n                  <select\n                    className=\"form-control\"\n                    name=\"status\"\n                    id=\"status\"\n                    value={options.status}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"\">-- Todos --</option>\n                    <option value=\"0\">En proceso</option>\n                    <option value=\"1\">Laboratorio</option>\n                    <option value=\"2\">Bicelacin</option>\n                    <option value=\"3\">Terminado</option>\n                    <option value=\"4\">Entregado</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"orderby\">Ordenar por</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"orderby\"\n                    id=\"orderby\"\n                    value={options.orderby}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"created_at\">Fecha de registro</option>\n                    <option value=\"updated_at\">Fecha de modificacion</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"order\">Mostrar por</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"order\"\n                    id=\"order\"\n                    value={options.order}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"asc\">Antiguos</option>\n                    <option value=\"desc\">Recientes</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"itemsPage\">Numero de pedidos</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"itemsPage\"\n                    id=\"itemsPage\"\n                    value={options.itemsPage}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"25\">ver 25</option>\n                    <option value=\"50\">ver 50</option>\n                    <option value=\"75\">ver 75</option>\n                    <option value=\"100\">ver 100</option>\n                  </select>\n                </li>\n              </>\n            ) : null}\n          </SideBar>\n        )}\n\n        {orderContext.panel === \"edit\" && (\n          <Messenger table=\"orders\" idRow={id} />\n        )}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { OrderContext } from \"../context/OderContext\";\n\n//Components\nimport Inbox from \"../components/Order/views/inbox\";\nimport Asistent from \"../components/Order/Asistent\";\nimport AddOrder from \"../components/Order/editOrder\";\nimport Toolbar from \"../components//Order/Toolbar.jsx\";\n\nconst initialOptions = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n  status: \"\",\n  search: \"\",\n};\n\nexport default function IndexOrderComponent(props) {\n  const [state, setState] = useState({\n    panel: null,\n    options: initialOptions,\n    order: {},\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      panel: id ? \"edit\" : \"inbox\",\n    });\n  }, [id]); \n\n  return (\n    <OrderContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{ minHeight: \"100vh\" }}>\n        <div className=\"col-sm-12 col-md-2\">\n          <Toolbar/>\n        </div>\n        <div className=\"col-sm-12 col-md-10\">\n          {state.panel === \"inbox\" && <Inbox />}\n          {state.panel === \"newOrder\" && <Asistent {...props} />}\n          {state.panel === \"edit\" && <AddOrder {...props} />}\n        </div>\n      </div>\n    </OrderContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, Fragment, useContext, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function NotifyComponent() {\n  const { auth, getNotifications, setNotifications } = useContext(AuthContext);\n  const [state, setState] = useState({\n    notifications: [],\n    loading: true,\n    mainRole: auth.roles,\n  });\n  const { notifications, loading, mainRole } = state,\n    countNotify = notifications ? notifications.length : 0,\n    showNotifications = notifications.slice(0, 10);\n  let timerNotify;\n\n  // Functions\n  const handleNotifications = () => {\n      getNotifications()\n        .then((notifications) => {\n          setState({\n            ...state,\n            notifications,\n            loading: false,\n          });\n        })\n        .catch(() => {\n          setState({\n            ...state,\n            loading: false,\n          });\n        });\n    },\n    handleClickRead = (e, id) => {\n      if (id === -1) e.preventDefault();\n      setNotifications({ id });\n    };\n\n  useEffect(() => {\n    handleNotifications();\n\n    timerNotify = setInterval(() => {\n      console.log(\"[Orus system] check notifications\");\n      setState({\n        ...state,\n        loading: true,\n      });\n      handleNotifications();\n    }, 60000);\n\n    return () => {\n      clearInterval(timerNotify);\n    };\n  }, []);\n\n  return (\n    <li className=\"nav-item dropdown\">\n      <a className=\"nav-link\" data-toggle=\"dropdown\" href=\"#end\">\n        {loading ? (\n          <i className=\"fas fa-spinner fa-spin\"></i>\n        ) : (\n          <>\n            <i className=\"far fa-bell\"></i>\n            {countNotify ? (\n              <span className=\"badge badge-warning navbar-badge\">\n                {countNotify}\n              </span>\n            ) : null}\n          </>\n        )}\n      </a>\n\n      <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n        <span className=\"dropdown-header\">{countNotify} Notificaciones</span>\n        <div className=\"dropdown-divider\"></div>\n        {showNotifications.map((notify) => {\n          const notiFyType = notify.type.split(\"\\\\\", 3);\n          let title = \"general\",\n            icon = \"fa-file\",\n            time = moment(notify.created_at).fromNow(),\n            url = \"#end\";\n\n          if (notiFyType[2] === \"ExamNotification\") {\n            if (mainRole === \"doctor\") {\n              title = \"Examen creado\";\n              url = \"/consultorio/registro/\" + notify.data.id;\n            } else {\n              title = \"Examen actualizado\";\n              url = \"/pedidos/registro\";\n            }\n            icon = \"fa-file-alt\";\n          }\n\n          return (\n            <Link\n              to={url}\n              className=\"dropdown-item\"\n              key={notify.id}\n              onClick={(e) => {\n                handleClickRead(e, notify.id);\n              }}\n            >\n              <i className={\"fas \" + icon + \" mr-1\"}></i> {title}\n              <span className=\"float-right text-sm text-muted\">{time}</span>\n            </Link>\n          );\n        })}\n        {countNotify ? (\n          <Fragment>\n            <div className=\"dropdown-divider\"></div>\n            <a\n              href=\"#end\"\n              className=\"dropdown-item dropdown-footer\"\n              onClick={(e) => {\n                e.preventDefault();\n                handleClickRead(e, -1);\n              }}\n            >\n              Marcar todas.\n            </a>\n          </Fragment>\n        ) : null}\n        {/* <Link\n            to=\"/notificaciones\"\n            className=\"dropdown-item dropdown-footer\"\n            onClick={(e) => {\n              //this.props.page(\"/notificaciones\");\n            }}\n          >\n            Ver todas\n          </Link> */}\n      </div>\n    </li>\n  );\n}\n","import Notify from \"./notify\";\n\nexport default function NavtopComponent() {\n  return (\n    <nav className=\"main-header navbar navbar-expand navbar-dark navbar-lightblue\">\n      <ul className=\"navbar-nav\">\n        <li className=\"nav-item\">\n          <a\n            className=\"nav-link\"\n            data-widget=\"pushmenu\"\n            href=\"#navbar\"\n            role=\"button\"\n            onClick={(e) => {\n              e.preventDefault();\n              window.$(\"#body\").toggleClass(\"sidebar-open\");\n              window.$(\"#body\").toggleClass(\"sidebar-collapse\");\n            }}\n          >\n            <i className=\"fas fa-bars\"></i>\n          </a>\n        </li>\n      </ul>\n      <ul className=\"navbar-nav ml-auto\">\n        <li className=\"nav-item dropdown\">\n          <a href=\"#end\" className=\"nav-link\" data-toggle=\"dropdown\">\n            <i className=\"far fa-comments\"></i>\n          </a>\n          <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n            <span className=\"dropdown-header\">Sin comentarios</span>\n            <div className=\"dropdown-divider\"></div>\n          </div>\n        </li>\n        <Notify />\n      </ul>\n    </nav>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useLocation } from \"react-router-dom\";\nimport { useContext, useState } from \"react\";\nimport moment from \"moment\";\nimport Modal from \"../../layouts/modal\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { ConfigContext } from \"../../context/ConfigContext\";\n\nexport default function BreadcrumbComponent() {\n  const { auth, setBranch } = useContext(AuthContext);\n  const config = useContext(ConfigContext);\n  const pathName = useLocation().pathname.split(\"/\");\n  const pathArray = pathName && pathName.length ? pathName : [\"dashboard\"];\n  const pathFilter = pathArray.filter((path) => ![\"\"].includes(path));\n  const namePage = pathFilter[0];\n  const currentBranch = auth.branch;\n  const [state, setState] = useState({\n    showChangeBranchs: false,\n    date: moment().format(\"LLLL\"),\n    branchSelect: currentBranch.id,\n  });\n\n  const branches = config.data?.filter((c) => c.name === \"branches\") ?? [];\n\n  // functions\n  const handleChangeBranch = (e) => {\n    e.preventDefault();\n\n    setState({\n      ...state,\n      showChangeBranchs: true,\n    });\n  };\n  const handleCancelModal = () => {\n    setState({ ...state, showChangeBranchs: false });\n  };\n  const handleClickChangeBranch = () => {\n    const { branchSelect: branch_id } = state;\n\n    handleCancelModal();\n\n    if (!branch_id) {\n      console.error(\"[Orus System][ERROR] branch id is empty\");\n      window.location.reload();\n      return;\n    }\n\n    window.Swal.fire({\n      text: \"Realmente desea cambiarse de sucursal?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Confirmar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        setBranch(branch_id)\n          .then((res) => {\n            if (res) {\n              window.location.reload();\n            } else {\n              window.Swal.fire({\n                icon: \"error\",\n                text: \"Lo sentimos, hay un problema de comunicacion con el servidor. Comfirme el IP.\",\n                showConfirmButton: false,\n                timer: 3000,\n                position: \"top center\",\n              });\n            }\n          })\n\n          .catch((error) => {\n            if (error) {\n              console.error(\"[Orus System] When change branch:\", error.message);\n            }\n          });\n      }\n    });\n  };\n  const getHtmlBody = () => {\n    const { branchSelect } = state;\n\n    return (\n      <div className=\"form-group\">\n        <label>Seleccione la sucursal</label>\n        <select\n          className=\"form-control text-capitalize\"\n          onChange={({ target }) =>\n            setState({ ...state, branchSelect: parseInt(target.value) })\n          }\n          defaultValue={currentBranch?.id}\n        >\n          {branches.map((branch) => (\n            <option key={branch.id} value={branch.id}>\n              {branch.data.name}\n            </option>\n          ))}\n        </select>\n        <div className=\"mt-2 text-right\">\n          <button\n            className=\"btn btn-default\"\n            type=\"button\"\n            onClick={handleClickChangeBranch}\n            disabled={branchSelect === currentBranch?.id ? true : false}\n          >\n            Cambiar\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"content-header\">\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <h1 className=\"m-0 text-dark text-capitalize\">\n              <i className=\"mr-1 fas fa-file\"></i> {namePage}\n            </h1>\n          </div>\n          <div className=\"text-center col\">\n            <small\n              className=\"p-2 badge badge-secondary text-capitalize\"\n              alt=\"conectado a\"\n              title=\"conectado a\"\n            >\n              <i className=\"mr-1 fas fa-wifi text-success\"></i>\n              {config.server?.host}\n              {config.server?.port && config.server?.port !== \"80\"\n                ? `:${config.server?.port}`\n                : null}\n            </small>\n            <small\n              className=\"p-2 mt-1 ml-1 badge badge-secondary text-capitalize\"\n              alt=\"Almacenando en\"\n              title=\"Almacenando en\"\n            >\n              <i className=\"mr-1 fas fa-server text-success\"></i>\n              {auth.permissions?.includes(\"auth.changeBranch\") ? (\n                <a\n                  href=\"#link\"\n                  className=\"text-white\"\n                  onClick={handleChangeBranch}\n                >\n                  {currentBranch.name}\n                </a>\n              ) : (\n                currentBranch.name\n              )}\n            </small>\n            <small\n              className=\"p-2 mt-1 ml-2 badge badge-secondary text-capitalize\"\n              alt=\"Usuario conectado\"\n              title=\"Usuario conectado\"\n            >\n              <i className=\"mr-1 fas fa-user text-info\"></i> {auth.username}\n            </small>\n            {state.showChangeBranchs ? (\n              <Modal\n                title=\"Cambiar de sucursal\"\n                body={getHtmlBody()}\n                handleCancel={handleCancelModal}\n              />\n            ) : null}\n          </div>\n          <div className=\"col\">\n            <h6 className=\"text-right text-muted\">\n              <i className=\"mr-1 fas fa-calendar\"></i> {state.date}\n            </h6>\n          </div>\n        </div>\n      </div>\n      <hr />\n    </div>\n  );\n}\n","import { useContext } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function MenuComponent() {\n  const { auth, outSession } = useContext(AuthContext);\n  const handleLogOut = (e) => {\n    e.preventDefault();\n\n    window.Swal.fire({\n      title: \"Session\",\n      text: \"Esta seguro de cerrar la sesion?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Si\",\n      cancelButtonText: \"Cancelar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        outSession();\n\n        setTimeout(() => {\n          window.location.reload();\n        }, 2000);\n      }\n    });\n  };\n\n  // TODO: import auth context\n  const companyName = \"Optica Madero\",\n    active = useLocation().pathname.replace(\"/\", \"\");\n\n  let avatar = \"/img/avatars/avatar5.png\";\n  if (auth.roles === \"ventas\") avatar = \"/img/avatars/avatar2.png\";\n  if (auth.roles === \"admin\") avatar = \"/img/avatars/avatar3.png\";\n  if (auth.idUser === 2) avatar = \"/img/avatars/avatar4.png\";\n\n  return (\n    <aside className=\"main-sidebar sidebar-dark-primary\">\n      <Link to=\"/\" className=\"brand-link\">\n        <img\n          src=\"/img/logo.png\"\n          alt={companyName + \" logo \"}\n          className=\"brand-image img-circle elevation-2\"\n          style={{ opacity: 0.8, maxHeight: 16 }}\n        />\n        <span className=\"brand-text font-weight-light text-uppercase\">\n          {companyName}\n        </span>\n      </Link>\n      <div className=\"sidebar\">\n        <div className=\"pb-3 mt-3 mb-3 user-panel d-flex\">\n          <div className=\"image\">\n            <img\n              src={avatar}\n              className=\"img-circle elevation-2\"\n              alt={auth.name}\n            />\n          </div>\n          <div className=\"info\">\n            <a href=\"#end\" className=\"d-block text-capitalize\">\n              {auth.name}\n              <small className=\"text-lowercase\">({auth.username})</small>\n              <br />\n              <span className=\"badge badge-light\">\n                {auth.roles !== \"admin\"\n                  ? auth.roles === \"ventas\"\n                    ? \"Ventas\"\n                    : \"Optometrista\"\n                  : \"Administrador\"}\n              </span>\n            </a>\n          </div>\n        </div>\n        <nav className=\"mt-2\">\n          <ul\n            className=\"nav nav-pills nav-sidebar flex-column\"\n            data-widget=\"treeview\"\n            role=\"menu\"\n            data-accordion=\"false\"\n          >\n            {auth.roles === \"admin\" ? (\n              <li className=\"nav-item\">\n                <Link\n                  to=\"/\"\n                  className={active === \"\" ? \"nav-link active\" : \"nav-link\"}\n                >\n                  <i className=\"nav-icon fas fa-tachometer-alt\"></i>\n                  <p>\n                    Dashboard\n                    <i className=\"right fas fa-angle-left\"></i>\n                  </p>\n                </Link>\n              </li>\n            ) : null}\n\n            <li className=\"nav-item\">\n              <Link\n                to=\"/contactos\"\n                className={\n                  active === \"contactos\" ? \"nav-link active\" : \"nav-link\"\n                }\n              >\n                <i className=\"nav-icon fas fa-address-book\"></i>\n                <p>\n                  Contactos\n                  <i className=\"right fas fa-angle-left\"></i>\n                </p>\n              </Link>\n            </li>\n\n            <li className=\"nav-item\">\n              <Link\n                to=\"/consultorio\"\n                className={\n                  active === \"consultorio\" ||\n                  (active === \"\" && auth.roles === \"doctor\")\n                    ? \"nav-link active\"\n                    : \"nav-link\"\n                }\n              >\n                <i className=\"nav-icon fas fa-notes-medical\"></i>\n                <p>\n                  Examenes\n                  <i className=\"right fas fa-angle-left\"></i>\n                </p>\n              </Link>\n            </li>\n\n            {auth.roles !== \"doctor\" ? (\n              <>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/pedidos\"\n                    className={\n                      active === \"pedidos\" ||\n                      (active === \"\" && auth.roles === \"ventas\")\n                        ? \"nav-link active\"\n                        : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-clipboard-list\"></i>\n                    <p>\n                      Pedidos\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/notas\"\n                    className={\n                      active === \"notas\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-cash-register\"></i>\n                    <p>\n                      Ventas\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n              </>\n            ) : null}\n\n            {auth.roles === \"admin\" ? (\n              <>\n                <li\n                  className={\n                    active === \"almacen\"\n                      ? \"nav-item has-treeview menu-open\"\n                      : \"nav-item has-treeview \"\n                  }\n                >\n                  <Link\n                    to=\"/almacen\"\n                    className={\n                      active === \"almacen\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-database\"></i>\n                    <p>\n                      Almacen\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/usuarios\"\n                    className={\n                      active === \"usuarios\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-user\"></i>\n                    <p>\n                      Usuarios\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/configuraciones\"\n                    className={\n                      active === \"configuraciones\"\n                        ? \"nav-link active\"\n                        : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-tools\"></i>\n                    <p>\n                      Configuraciones\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n              </>\n            ) : null}\n\n            <li className=\"nav-item\">\n              <Link to=\"/\" className=\"nav-link\" onClick={handleLogOut}>\n                <i className=\"nav-icon fas fa-sign-out-alt\"></i>\n                <p>Cerrar sesion</p>\n              </Link>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </aside>\n  );\n}\n","import Navtop from \"../components/Layouts/navtop\";\nimport Breadcrumb from \"../components/Layouts/breadcrumb\";\nimport Menu from \"../components/Layouts/menu\";\n\nexport default function Main({ children }) {\n  const data = {};\n\n  return (\n    <div className=\"wrapper\" >\n      <Navtop logOut={() => {}} data={data} page={() => {}} />\n      \n      <Menu\n        companyName={\"company\"}\n        user={data}\n        page={() => {}}\n        logOut={() => {}}\n        active={\"active\"}\n      />\n\n      <div className=\"content-wrapper\">\n        <Breadcrumb />\n        <div className=\"content\">\n          <div className=\"container-fluid\">\n            <div className=\"row\" style={{minHeight:'100vh'}}>\n              <div className=\"col-lg-12\">{children}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","import { Route } from \"react-router-dom\";\nimport UserAdd from \"../components/Users/add\";\nimport Store from \"../pages/Store\";\nimport Contacts from \"../pages/Contacts\";\nimport Tools from '../pages/Tools';\nimport Exams from \"../pages/Exams\";\nimport Sales from \"../pages/Sales\";\nimport Dashboard from \"../pages/AuthDashboard\";\nimport Users from \"../pages/Users\";\nimport Orders from \"../pages/Orders\";\n\nimport ConfigProvider from \"../context/ConfigContext\";\nimport Main from \"../layouts/Main\";\n\nexport default function Routers({ auth }) {\n  return (\n    <ConfigProvider>\n      <Main>\n        <Route\n          exact\n          path=\"/\"\n          render={(props) => {\n            switch (auth.roles) {\n              case \"doctor\":\n                return <Exams {...props} />;\n\n              case \"ventas\":\n                return <Orders {...props} />;\n\n              default:\n                return <Dashboard {...props} />;\n            }\n          }}\n        />\n\n        <Route\n          path=\"/usuarios/registro/:id?\"\n          render={(props) => <UserAdd {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/usuarios/:id?\"\n          render={(props) => <Users {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/almacen/:id?\"\n          render={(props) => <Store {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/contactos/:id?\"\n          render={(props) => <Contacts {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/consultorio/:id?\"\n          render={(props) => <Exams {...props} />}\n        />\n\n        <Route\n          path=\"/configuraciones\"\n          render={(props) => <Tools {...props} page={() => {}} />}\n        />\n\n        <Route path=\"/pedidos/:id?\" render={(props) => <Orders {...props} />} />\n\n        <Route\n          path=\"/notas/:id?\"\n          render={(props) => <Sales {...props} page={() => {}} />}\n        />\n\n        {/* <Route\n              path=\"/notificaciones\"\n              render={(props) => (\n                <NotifyAllShow {...props} data={data} page={this.handlePage} />\n              )}\n            /> */}\n      </Main>\n    </ConfigProvider>\n  );\n}\n","export default function Dashboard() {\n  return (\n    <div className=\"mx-auto p-4 mt-5 w-50\">\n      <h1>Portal Optica Madero</h1>\n      <p>Para accesar al portal inicia session aqui: </p>\n      <button\n        onClick={() => {\n          window.location.href = \"/login\";\n        }}\n        type=\"button\"\n      >\n        Acceder\n      </button>\n    </div>\n  );\n}\n","import { Route } from \"react-router-dom\";\nimport Dashboard from \"../pages/Dashboard\";\n\nexport default function RouterPortal() {\n  return (\n    <>\n      <Route exact path=\"/\" render={(props) => <Dashboard />} />\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nexport default function NotFoundComponent() {\n  return (\n    <div className=\"container text-center font-weight-bold d-flex justify-content-center mt-5\">\n      <h1>404 Not Found</h1>\n    </div>\n  );\n}\n","/* eslint-disable no-useless-escape */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { useContext, useEffect, useState, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Login() {\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n  const LS = localStorage.getItem(\"OrusSystem\");\n  const defaultStorage = {\n    protocol: window.location.protocol.replace(\":\", \"\"),\n    host: window.location.hostname,\n    port: window.location.port,\n  };\n  const storage = LS ? JSON.parse(LS) : defaultStorage;\n  const server = `${storage.protocol + \"://\" ?? \"\"}${storage.host ?? \"\"}${\n    \":\" + storage.port ?? \"\"\n  }`;\n  const [state, setState] = useState({\n    load: false,\n    email: \"\",\n    password: \"\",\n    txtHost: server,\n    hostShow: server ? false : true,\n  });\n  const COMPANY = \"Optica Madero\";\n  const inputEmail = useRef();\n  const inputPassword = useRef();\n\n  // Functions\n  const handleLogin = () => {\n    const patterEmail = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if (!state.email) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de correo electronico es requerido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputEmail.current.focus();\n      });\n    }\n\n    if (/^@./.test(state.email)) {\n      const user = state.email.replace(\"@\", \"\");\n\n      state.email = `${user}@domain.com`;\n    } else if (!patterEmail.test(state.email)) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El usuario debe de ser un correo valido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputEmail.current.focus();\n      });\n    }\n\n    if (\n      ![\"domain.com\", \"opticamadero.com\"].includes(state.email.split(\"@\")[1])\n    ) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El dominio de este correo no es aceptado\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        setState({\n          ...state,\n          email: \"\",\n        });\n      });\n    }\n\n    if (!state.password) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de constrasea es requerido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputPassword.current.focus();\n      });\n    }\n\n    if (state.password.length < 8) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El password debe de tener al menos 8 caracteres\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputPassword.current.focus();\n      });\n    }\n\n    setState({\n      ...state,\n      load: true,\n    });\n\n    auth\n      .setSession({ email: state.email, password: state.password })\n      .then((res) => {        \n        setState({\n          ...state,\n          load: false,\n        });\n\n        if (!res.status) {\n          let message = res.message;\n\n          if (res.data?.errors) {\n            message = res.data?.errors[Object.keys(res.data.errors)[0]][0];\n          }\n\n          if (!message && res.data) message = res.data.message;\n\n          return window.Swal.fire({\n            icon: \"error\",\n            text: message,\n            showConfirmButton: false,\n            timer: 2500,\n            position: \"top center\",\n          });\n        }\n\n        history.push(\"/\");\n      });\n  };\n  const handleKeyEnter = (key, fn) => {\n    if (key === \"Enter\") {\n      fn();\n    }\n  };\n  const handleChangeServer = () => {\n    const { txtHost } = state;\n\n    if (!txtHost) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de servidor no puede estar vacio\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      });\n    }\n\n    const server = txtHost.split(\":\");\n    let host, port, protocol;\n\n    if (server.length === 2) {\n      protocol = window.location.protocol.replace(\":\", \"\");\n      host = server[0].replace(\"//\", \"\");\n      port = server[1];\n    } else if (server.length === 3) {\n      protocol = server[0];\n      host = server[1].replace(\"//\", \"\");\n      port = server[2];\n    } else {\n      protocol = window.location.protocol.replace(\":\", \"\");\n      host = window.location.hostname;\n      port = window.location.port;\n    }\n\n    localStorage.setItem(\n      \"OrusSystem\",\n      JSON.stringify({\n        ...storage,\n        protocol,\n        host,\n        port,\n        token: \"\",\n      })\n    );\n\n    setState({\n      ...state,\n      hostShow: false,\n    });\n\n    window.Swal.fire({\n      icon: \"success\",\n      text: \"Cambio de servidor exitoso\",\n      showConfirmButton: false,\n      timer: 2500,\n      position: \"top center\",\n    });\n  };\n  const handleEmailEnter = () => {\n    if (state.email) inputPassword.current.focus();\n  };\n\n  useEffect(() => {\n    if (auth.auth?.isLogged) {\n      history.push(\"/\");\n    }\n  }, []);\n\n  return (\n    <div className=\"login-page\">\n      <div className=\"login-box\">\n        <div className=\"login-logo\">\n          <a href=\"#logo\" onClick={(e) => e.preventDefault()}>\n            <b className=\"text-primary\">Orus</b> LTE\n          </a>\n        </div>\n\n        <div className=\"rounded shadow-lg card\">\n          <div className=\"card-body login-card-body\">\n            <p className=\"login-box-msg text-uppercase\">\n              <span className=\"p-2 badge badge-secondary\">{COMPANY}</span>\n              <br />\n              <small className=\"text-muted text-lowercase\">{`<${state.txtHost}>`}</small>\n            </p>\n            <form autoComplete=\"off\">\n              <div className=\"mb-0 input-group\">\n                <input\n                  type=\"email\"\n                  className=\"form-control text-lowercase\"\n                  placeholder=\"Correo electonico\"\n                  onChange={({ target }) =>\n                    setState({ ...state, email: target.value.toLowerCase() })\n                  }\n                  onKeyPress={({ key }) =>\n                    handleKeyEnter(key, handleEmailEnter)\n                  }\n                  defaultValue={state.email}\n                  autoComplete=\"false\"\n                  ref={inputEmail}\n                  autoFocus={state.email ? false : true}\n                />\n                <div className=\"input-group-append\">\n                  <div className=\"input-group-text\">\n                    <span className=\"fas fa-user\"></span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mt-3 input-group\">\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Contrasea\"\n                  onChange={({ target }) =>\n                    setState({ ...state, password: target.value })\n                  }\n                  onKeyPress={({ key }) => handleKeyEnter(key, handleLogin)}\n                  defaultValue={state.password}\n                  autoComplete=\"false\"\n                  ref={inputPassword}\n                  autoFocus={\n                    state.email ? (state.password ? false : true) : false\n                  }\n                />\n                <div className=\"input-group-append\">\n                  <div className=\"input-group-text\">\n                    <span className=\"fas fa-lock\"></span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"my-3 col-12\">\n                  <a\n                    href=\"#tools\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      setState({ ...state, hostShow: !state.hostShow });\n                    }}\n                    className=\"text-muted\"\n                  >\n                    <i className=\"mx-1 fas fa-wifi\"></i> Servidor\n                  </a>\n                  {state.hostShow ? (\n                    <div className=\"mb-3 input-group\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Servidor\"\n                        autoComplete=\"off\"\n                        onChange={({ target }) =>\n                          setState({\n                            ...state,\n                            txtHost: target.value.toLowerCase(),\n                          })\n                        }\n                        defaultValue={state.txtHost}\n                        onKeyPress={({ key }) =>\n                          handleKeyEnter(key, handleChangeServer)\n                        }\n                      />\n                      <div className=\"input-group-append\">\n                        <div className=\"input-group-text\">\n                          <span className=\"fas fa-server\"></span>\n                        </div>\n                      </div>\n                    </div>\n                  ) : null}\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"text-center col-12\">\n                  <button\n                    type=\"button\"\n                    className={\n                      state.load\n                        ? \"btn btn-outline-secondary btn-block\"\n                        : \"btn btn-primary btn-block\"\n                    }\n                    onClick={handleLogin}\n                    disabled={state.load ? true : false}\n                  >\n                    {state.load ? (\n                      <div className=\"spinner-border text-secondary\">\n                        <span className=\"sr-only\">Loading...</span>\n                      </div>\n                    ) : (\n                      \"Iniciar session\"\n                    )}\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useContext } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/AuthContext\";\nimport RouterAuth from \"./RouterAuth\";\nimport RouterPortal from \"./RouterPortal\";\nimport NotFound from \"../components/404NotFound\";\nimport Login from \"../pages/Login\";\n\nexport default function Router() {\n  const { auth } = useContext(AuthContext);  \n  \n  return (\n    <Switch>\n      <Route path=\"/login\" render={() => <Login />} />\n      {auth?.isLogged ? <RouterAuth auth={auth} /> : <RouterPortal />}\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { BrowserRouter } from \"react-router-dom\";\n//import { Provider } from \"react-redux\";\n\n//import store from \"./redux/store\";\nimport AuthProvider from \"./context/AuthContext\";\nimport Router from \"./routers/Router\";\nimport { useEffect } from \"react\";\n\nexport default function App() {\n  const LS = localStorage.getItem(\"OrusSystem\");\n  const defaultStorage = {\n    protocol: window.location.protocol.replace(\":\", \"\"),\n    host: window.location.hostname,\n    port: window.location.port,\n  };\n  const storage = LS ? JSON.parse(LS) : defaultStorage;\n\n  useEffect(() => {\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(storage));\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>       \n        <Router />\n      </AuthProvider>\n    </BrowserRouter>\n  );\n\n  /* return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Provider store={store}>\n          <Router />\n        </Provider>\n      </AuthProvider>\n    </BrowserRouter>\n  ); */\n}\n","import { render } from \"react-dom\";\nimport App from \"./App\";\n\nrender(<App />, document.getElementById(\"root\"));\n","module.exports = {\n  dollarUS: Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  }),\n};\n"],"sourceRoot":""}