{"version":3,"sources":["utils/url.js","context/AuthContext.js","hooks/useUsers.js","context/ConfigContext.js","components/Users/views/userNameInput.jsx","components/Users/views/userEmailInput.jsx","components/Users/Metadata.jsx","components/Users/Permissions.jsx","components/Activitys.jsx","components/Users/add.jsx","context/StoreContext.js","pages/partials/SideBar.jsx","components/Input.jsx","hooks/useStore.js","components/Store/Brands.jsx","hooks/useContact.js","components/Store/Suppliers.jsx","components/Store/ToolBar.jsx","layouts/pagination.jsx","layouts/list_inbox.jsx","components/Store/Inbox.jsx","components/Store/helpers.js","hooks/useCategory.js","components/Store/Categories.jsx","hooks/useProducts.js","components/Store/Code.jsx","components/Store/views/BranchesSelect.jsx","components/Store/views/BranchesFormInputs.jsx","components/Store/views/BranchesForm.jsx","components/Store/Add.jsx","components/Store/data/Category_list.jsx","pages/StoreCategories.jsx","components/Store/data/BrandsList.jsx","pages/StoreBrand.jsx","components/Store/views/SetQantityModal.jsx","components/Store/views/Inventory_table.jsx","components/Store/views/SetPriceModal.jsx","pages/StoreInventory.jsx","components/Store/FormEntries.jsx","pages/StoreEntries.jsx","pages/Store.jsx","context/ContactContext.js","components/Contacts/ToolsBar.jsx","components/Contacts/Inbox.jsx","components/Contacts/helper.js","components/Contacts/views/Personal.jsx","components/Contacts/views/Address.jsx","components/Contacts/views/Phones.jsx","components/Sales/views/listOfSales_delete.jsx","components/Contacts/Dashboard.jsx","components/Store/views/listOfBrands.jsx","components/Order/helpers.js","components/Order/views/listOfOrders.jsx","components/Exam/views/List.jsx","components/Exam/cards/List.jsx","layouts/modal.jsx","components/Contacts/Add.jsx","pages/Contacts.jsx","components/Tools/views/Branchs.jsx","pages/Tools.jsx","context/ExamContext.js","components/Exam/ToolBar.jsx","hooks/useExam.js","components/Exam/Inbox.jsx","components/Exam/views/GeneralesExam.jsx","components/Exam/views/interrogatoriosExam.jsx","components/Exam/views/keraRetExam.jsx","components/Exam/views/diabetesExam.jsx","components/Exam/views/agudezaExam.jsx","components/Exam/views/diagnosticoExam.jsx","components/Exam/views/graduacionExam.jsx","components/Exam/views/observacionesExam.jsx","components/Exam/helpers.js","components/Exam/views/RecomendationGlass.jsx","components/Contacts/views/CardNewContact.jsx","components/Contacts/views/Autocomplete.jsx","components/Contacts/views/ShowCardSearch.jsx","components/Contacts/views/ShowCard.jsx","components/Exam/views/SideBarRigth.jsx","components/Exam/Add.jsx","pages/Exams.jsx","context/SaleContext.js","components/Sales/views/ListItemsModal.jsx","components/Sales/helpers.js","components/Sales/views/InputSearchItem.jsx","components/Sales/views/DiscountBtn.jsx","hooks/useSale.js","components/Sales/views/ListSalesModal.jsx","components/Sales/views/ListSalesBtn.jsx","components/print/PrintSale.jsx","components/print/views/SaleHTML.js","components/Sales/views/PaymentModal.jsx","components/Sales/views/PaymentBtn.jsx","components/Sales/views/EraseSaleBtn.jsx","components/Sales/views/SearchCustomerModal.jsx","components/Sales/views/CustomerBtn.jsx","components/Sales/views/PaymentDetails.jsx","components/Sales/views/UpdateItemModal.jsx","components/Sales/views/SalesDetailsTable.jsx","components/Sales/views/SaleDate.jsx","components/Sales/views/ShowToPay.jsx","components/Sales/views/ShowTotal.jsx","components/Sales/views/InfoModal.jsx","components/Sales/views/InfoButton.jsx","components/Sales/views/ShowPedido.jsx","pages/Sales.jsx","components/Sales/views/reportPaymentsDetails.jsx","components/Sales/views/reportPays.jsx","components/Sales/views/reportBank.jsx","components/dashboard/Filters.jsx","components/dashboard/boxCut.jsx","pages/AuthDashboard.jsx","context/UserContext.js","components/Users/views/FiltersToolbar.jsx","components/Users/views/Inbox.jsx","pages/Users.jsx","context/OderContext.js","hooks/useOrder.js","components/Order/views/inbox.jsx","utils/helpers.js","components/Store/data/searchStore.jsx","components/Store/views/searchItemModal.jsx","components/Order/views/ItemsOrder.jsx","components/Order/views/userEmailInput.jsx","components/Order/views/userPhoneInput.jsx","components/Order/views/Asistent_card_customer.jsx","components/Exam/views/CardExam.jsx","components/Exam/views/CardExamsByUser.jsx","components/Exam/views/FormExamSmall.jsx","components/Order/views/Asistent_card_exam.jsx","components/Order/views/Asistent_card_discount.jsx","components/Order/views/PaymentModal.jsx","components/Order/views/Asistent_card_payments.jsx","components/Order/Asistent.jsx","components/Order/views/labOrder.jsx","components/Order/views/bicelacionOrder.jsx","components/Exam/views/examShort.jsx","components/Order/ExamModal.jsx","components/Order/ModalNota.jsx","components/Order/editOrder.jsx","components/Layouts/Messenger.jsx","hooks/useMessenger.js","components/Order/Toolbar.jsx","pages/Orders.jsx","components/Layouts/notify.jsx","components/Layouts/navtop.jsx","components/Layouts/breadcrumb.jsx","components/Layouts/menu.jsx","layouts/Main.jsx","routers/RouterAuth.jsx","pages/Dashboard.jsx","routers/RouterPortal.jsx","components/404NotFound/index.jsx","pages/Login.jsx","routers/Router.jsx","App.jsx","index.js","utils/current.js"],"names":["api","url","method","body","controller","Promise","done","reject","LS","localStorage","getItem","SS","JSON","parse","protocol","PROTOCOL","window","location","host","HOST","hostname","port","PORT","token","TOKEN","param","headers","Accept","Authorization","includes","toUpperCase","data","stringify","signal","axios","then","res","catch","err","console","error","code","message","response","setUrl","endpoint","id","paramString","paramKeys","Object","keys","Array","isArray","map","k","length","URLSearchParams","AuthContext","createContext","useUser","children","history","useHistory","initialSession","isLogged","idUser","username","name","rol","email","branch","roles","permissions","useState","user","setUser","setUserData","toSave","toLowerCase","setItem","session","credentials","a","password","status","outSession","getCurrentUser","log","pathname","push","getNotifications","unreadNotifications","setNotifications","payload","result","count","parseInt","success","setBranch","update","branch_id","useEffect","Provider","value","auth","setSession","useUsers","getListUsers","filters","getUserById","ID","deleteUser","saveUser","ConfigContext","Config","useContext","initialState","meta","server","useConfig","state","setstate","setStorage","storage","newStorage","UserNameInputComponent","props","mounted","useRef","bgColor","validate","text","searchUser","setState","_onChange","onChange","_handleValidate","handleValidate","current","className","col","type","placeholder","autoComplete","autoFocus","defaultValue","handleChange","target","onBlur","userSearch","replace","test","handleSearchUser","userId","required","minLength","maxLength","pattern","deleted","UserEmailInputComponent","searchEmail","emailSearch","MetadataComponent","currentUser","moment","created_at","fromNow","updated_at","ip_address","last_activity","user_agent","user_data","onClick","PermissionsComponent","role","permission","i","ActivitysComponents","ac","datetime","format","Boolean","inputs","input","load","validUserName","validUserEmail","activities","UserAddComponent","match","params","_handleNewOrEdit","handleNewOrEdit","_users","branchs","setCurrentUser","send","catchInputs","normalize","activity","processData","style","height","disabled","Swal","fire","icon","title","showConfirmButton","timer","showCancelButton","confirmButtonText","cancelButtonText","showLoaderOnConfirm","dismiss","StoreContext","Store","SideBarPartial","Input","showIcon","loadText","options","emptyText","cat","index","useStore","getItems","deleteItem","saveItemByList","items","saveItem","saveQantityandPrice","readyToSave","saveGlobalPrice","idCategory","productCategoryId","URL","branchSelected","saveQantity","product_id","getBrands","getBrand","saveBrand","deleteBrand","Brands","brands","_store","supplier","brand","handleChangeBrand","filter","filterBrandName","useContact","getContacts","getContact","deleteContact","saveContact","Suppliers","_contacts","suppliers","orderby","order","sup","handleChangeSupplier","ToolBar","context","handleSetSelectOptions","checked","set","panel","href","e","preventDefault","zero","htmlFor","itemsPage","PaginationComponent","color","_handlePagination","handlePagination","handleChangePage","page","current_page","last_page","ListInbox","defaultSearch","search","setSearch","setTimer","inputRef","toTimer","handleSearch","clearTimeout","setTimeout","ref","onKeyPress","key","top","left","handleDeleteItem","handleEditItem","handleStatus","handleSync","handleDownload","itemSelected","handlePrint","loading","Inbox","handleChangeOptions","handleSelectItem","item","newOptions","responseType","open","createObjectURL","confirmButtonColor","handleItemSelect","cant_total","colSpan","codeLentString","string","toExport","verifyItem","cant","store_items_id","price","_delete","handleVerifyData","codeRef","category_id","category_id1","category_id2","category_id4","brand_id","handleSaveItem","_save","_close","handleCatOne","category_list2","hijos","category_id3","category_list3","category_list4","handleCatTwo","handleCatTree","handleCodeString","stringcode","category","trim","handleCodeLent","grad","category1","category2","category3","toString","handleNameLent","useCategory","getCategories","getCategory","deleteCategory","saveCategory","Categories","_categories","categories","cat1","cat2","cat3","cat4","catNameSelect","input2","input3","sons","input4","input5","handleCodeName","select","c","codeName","handleSetCatName","categoryid","handleReturn","val","useProducts","getProducts","searchBy","getProductById","getProductByCode","saveProduct","Code","hookProducts","codeMessage","codeStatus","rendered","validCode","onChangeStatusCode","onChangeProductCode","createName","BranchesSelect","branch_default","setBranchId","listBranches","BranchesFormInputs","inBranch","branchID","storeItemID","hookStore","store_item_id","setData","handleChangeInput","parseFloat","min","BranchesForm","branches","defaultBranch","configBranches","currentBranch","codebar","unit","supplier_id","codes","category_code","codenames","brandname","Add","storeContext","LOADING","barcode","inBranches","getNameCodeDefault","brandName","currentCode","slice","helper","textSelect","codeReceibed","to","dataSend","timerProgressBar","errors","CategoryListComponent","hookCategory","ls","dd","category_raiz","add","categoryData","width","Fragment","last","_categorySelect","categorySelect","category_data","handleSelectCategory","CategoriesStoreComponent","category_view_sons","category_current","category_cache","minHeight","BrandsList","handleEdit","handleDelete","cursor","BrandsComponent","storeHook","nombre","prevEdit","changeInput","contact_id","SetQantityModal","handleClose","handleUpdateItems","cantidad","setCantidad","tabIndex","class","InventoryTableView","header","itemsProp","showModal","row","h","toFixed","newItem","forEach","SetPriceModal","categoryName","_handleSave","handleSave","_handleChange","showLoader","setShowLoader","setPrice","Inventory","catData_1","catData_2","catData_3","catid_1","catid_2","catid_3","globalData","setGlobalData","modal","setModal","cil","rangoInf","rangoSup","disablenBtnModal","handleModal","catid","noGraduationData","FormEntries","eraseItem","setItemNew","configContext","conf","branchesId","b","currentCant","store","searchProductByItem","currentPrice","branch_select","setDataByBranch","getBranchesId","isNaN","branches_used","StoreEntries","Date","now","setNewItem","branches_rest","setDataItem","itemHasNew","getNewItem","c_branch","n_branch","newItems","alt","optionsDefault","ContactContext","Contacts","ToolBarContact","newOrEdit","contact","InboxContact","contactSelected","contacts","handleLoadContacts","phones","values","p","maxWidth","enUso","age","created","patternEmail","handleVerificationData","showMsg","birthday","phone","patternName","patternPhone","telefonoVerify","date","today","anos","getFullYear","changeDataInput","_setData","telnumbers","t_movil","handleGetDataObject","verification","telefonos","dataPrimary","t_casa","t_oficina","business","gender","isEmail","Personal","fn","emailVerification","emailColor","nameVerification","nameColor","birthdayVerification","birthdayColor","contatcs","handleValidContact","except","validates","check","diff","rfc","onKeyDown","zIndex","maxHeight","locale","selected","dateFormat","maxDate","placeholderText","onSelect","toLocaleDateString","isValid","Address","address_street","address_neighborhood","address_location","address_state","address_zip","Phones","phone_notices","phone_cell","phone_office","registerLocale","es","ListOfSalesComponent","sales","sale","total","pedido","Dashboard","analytics","metadata","purchases","exams","orders","updated","ListOfBrandsComponent","handleStatusString","getDataTemporary","field","removeDataTemporary","getBadgeStatus","handleDeleteOrder","estado","nota","handleSaveOrder","_erase","addDataTemporary","local","getDataOneItem","getStatusType","ListOfOrdersComponent","order_foreing","List","allSelect","_handleSelectedExam","handleSelectedExam","setSelect","scope","isSame","showBottons","examSelect","ModalComponents","_handleCancel","handleCancel","supplier_of","deleted_at","AddContact","id_exam","setContact","btn_enabled","handleChangeData","notices","cell","office","address","street","neighborhood","zip","purchases_count","exams_count","brands_count","suppliers_count","orders_count","domicilios","calle","colonia","municipio","cp","domicilio","handleSaveContact","ContactsComponent","BranchsListComponent","showForm","handleChangeValue","onSubmit","handleUpdateConfig","ToolsComponent","varLocalStorage","company","category_list","ExamContext","Exams","useExam","getExams","getExam","deleteExam","saveExam","InboxExams","_exam","list","examSelected","handleLoadExams","exam","customer","hasOwnProperty","messages","esferaod","esferaoi","cilindrod","cilindroi","ejeod","ejeoi","adiciond","adicioni","adicion_media_od","adicion_media_oi","dpod","dpoi","alturaod","alturaoi","GeneralesExam","handleGetData","pc","pc_time","readOnly","tablet","tablet_time","movil","movil_time","lap","lap_time","frontal","occipital","generality","cefalea","temporaod","temporaoi","c_frecuencia","max","c_intensidad","InterrogatorioExam","onChangeInput","this","interrogatorio","coa","rows","aopp","aopf","Component","KeraRetExamComponent","keratometriaod","keratometriaoi","rsod","rsoi","DiabetesExam","d_fclod","d_fcloi","d_time","d_media","d_test","d_fclod_time","d_fcloi_time","oftalmoscopia","AgudezaExam","cvod","cvoi","avslod","avsloi","avcgaod","avcgaoi","avfod","avfoi","avf2o","DiagnosticoExam","diagnostico","presbicie","step","piod","pioi","txoftalmico","GraduacionExamComponent","lcmarca","lcgod","lcgoi","showContactGlasses","ObservacionesExam","observaciones","parent","toExportActions","handleTypeInput","getCodeGrad","gradod","gradoi","od","oi","handleSaveExam","examToday","examenes","edad","RecomendationGlass","category_list_2","category_list_3","category_id_1","category_id_2","category_id_3","codesItems","_category","handleCodesItems","handleCategoryChange","_onChangeInput","CardNewContact","nameDefault","hookContact","valid","handleValidForm","dissmiss","handleResult","Autocomplete","showNew","handleSelected","per_page","handleNew","ShowCardSearch","new","newName","handleSelectContact","ShowContactComponent","legend","handleContactSelect","SideBarRigth","_handle","handle","generales","interrogatorios","keraRet","diabetes","agudeza","graduacion","recomendaciones","getDataDefault","used","activitys","_exams","category_ii","doc","num","temporal","nameItem","pantalleooi","pantalleood","txoptico","SaleContext","Sale","ListItemsModal","cantDefault","_Select","handleSelect","handleChangeCant","producto","handleClickItem","toSend","confirm","_make","getMethodName","getSession","Math","random","substring","getForPay","payments","discount","paid","reduce","subtotal","getSubTotal","getTotal","getPagado","InputSearchItem","textSearch","setTextSearch","showList","setShowList","setCantDefault","setList","searchItem","split","makeItem","inStorage","cantidades","out","cantInStore","descripcion","categoria","handleAddItem","found","handleChangeTextSearch","handlePressEnter","DiscountBtnComponent","pagado","btnDisabled","prompt","sum","percent","useSales","ctx","getSaleList","salesFilters","orderBy","getSaleById","saveSale","ListSalesModal","_select","_sales","saleList","setSaleList","handleChangeSearch","saleSelected","handleSelectSale","ListSalesBtn","pay","thereNews","PrintSaleComponent","popup","document","write","card","helpers","amount","order_id","HTMLOrderPrint","getPage","print","onbeforeunload","setPrint","position","display","flexDirection","justifyContent","alignItems","backgroundColor","marginBottom","PaymentModal","forPaid","listBanks","metodopago","metodoname","bank_id","details","handleSetPayment","bank","PaymentBtnComponent","showPayment","EraseSaleBtnComponent","eraseSale","isPayed","SearchCustomerModal","customers","setCustomers","SearchCustomer","handleChangeText","handleKeyPressSearch","saleHelper","handleClickCustomer","CustomerBtnComponent","payment","banco","UpdateItemModal","close","_update","handleUpdate","handleUpdateItem","handleKeyPress","SalesDetailsTableComponent","showUpdateItem","showPaymentDetails","product","handleDeletePayment","newPayments","handleShowUpdateItem","handleCloseUpdateItem","diffDay","handleDeleteBtn","alert","handleShowPaymentDetails","PaymentDetails","toDo","ShowToPay","ShowTotal","InfoModal","InfoButton","saleContext","setShowModal","ShowPedido","IndexSalesComponent","hookSale","setDataToSend","showDenyButton","back","payed","obj","ReportPaymentsDetails","getSaleDay","paymentsFilters","paymentsUrl","user_id","date_start","date_end","metodo","created_user","dollarUS","ReportPays","changeState","efectivo","char","newFiltersPays","donutChartCanvas","$","get","getContext","donutOptions","maintainAspectRatio","responsive","labels","donutData","destroy","mp","datasets","Chart","ventas","ReportBank","listBank","bankFilters","bankUrls","Filters","userData","usersHook","handleChangeDate","getDataApi","users","u","BoxCut","startOf","changeAllState","UserContext","FiltersToolbar","_newOrEdit","_userContext","InboxComponent","userSelected","setUserSelected","setLoading","getClassByRole","UsersComponent","OrderContext","useOrder","getListOrders","getOrder","orderID","saveOrder","bi_details","deleteOrder","InboxOrderComponent","orderContext","orderHook","pedidos","setPedidos","_saveOrder","orderSelected","setOrderSelected","handleSelectOrder","getList","cancelButtonColor","handleOrderSelect","paciente","lab","npedidolab","ncaja","SearchItemsComponent","_handleItemSelect","setLoad","setItems","sort","getItemToShow","AddItemModalComponent","codeDefault","_handleAddItem","_handleCloseModal","handleCloseModal","showDesc","setShowDesc","handleChangeItem","hanldeSendBack","ListItemComponent","itemNew","validItems","showDetails","handleSetCantItem","itemsToSave","codeNameCategory","sub","minWidth","itemFound","findIndex","_handleValidData","handleValidData","contactHook","validEmail","UserPhoneInputComponent","validPhone","CardCustomer","_handleRemoveCustomer","handleRemoveCustomer","_handleUpdateContact","handleUpdateContact","_handleEditor","handleEditor","edit","validToSave","ph","exam_id","contactData","CardShowExam","_handleRemove","handleRemove","_handleEdit","cancelButttonText","CardExamByUser","customer_id","_handleClick","handleClick","examHook","dataNewExam","FormExamSmall","handleOnChange","CardExam","editCustomer","_handleSelect","_hanldeRemove","hanldeRemove","CardDiscount","_handleSetDiscount","handleSetDiscount","toPaid","setDiscount","_handleSetPayments","handleSetPayments","CardOrderPayments","handleToPaid","AsistentComponent","examsList","generalHelper","handleGetCategories","cat_id","_getCategory","executeHook","descuento","handleCloseAssitent","categories_wrong","items_state","finalPayments","denyButtonText","LabOrderComponent","lab_id","lab_order","setSuppliers","supDefault","setSupDefault","hookContacts","s","BicelacionOrderComponent","bi_box","ExamCustomerComponent","examEdit","_ChangeInput","ChangeInput","_saveExam","newExam","setNewExam","handelChangeExam","ExamModal","ModalNota","penddingToPay","EditOrderComponent","statusInitial","showModalNota","setShowModalNota","idurl","hookOrder","fNacimiento","tel","saveFinalOrder","join","Messenger","table","idRow","hookMessenger","getMessages","sendMessenger","bodyRequest","useMessenger","getMessenger","avatar","src","mensaje","Toolbar","useParams","initialOptions","IndexOrderComponent","NotifyComponent","timerNotify","notifications","mainRole","countNotify","showNotifications","handleNotifications","handleClickRead","setInterval","clearInterval","notify","notiFyType","time","NavtopComponent","toggleClass","BreadcrumbComponent","config","pathName","useLocation","namePage","path","showChangeBranchs","branchSelect","handleCancelModal","handleClickChangeBranch","reload","getHtmlBody","MenuComponent","companyName","active","opacity","Main","logOut","Routers","exact","render","RouterPortal","NotFoundComponent","Login","defaultStorage","txtHost","hostShow","inputEmail","inputPassword","handleLogin","focus","handleKeyEnter","handleChangeServer","handleEmailEnter","Router","component","NotFound","App","getElementById","module","exports","Intl","NumberFormat","currency"],"mappings":"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","file":"static/js/main.9109b424.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport function getLastParam() {\n  const url = window.location.pathname.split(\"/\");\n\n  return parseInt(url.pop());\n}\n\nexport function api(url, method = \"GET\", body, controller = null) {\n  return new Promise((done, reject) => {\n    const LS = localStorage.getItem(\"OrusSystem\"),\n      SS = localStorage.getItem(\"OrusSystemLogin\"),\n      {\n        protocol: PROTOCOL = window.location.protocol,\n        host: HOST = window.location.hostname,\n        port: PORT = window.location.port,\n      } = JSON.parse(LS ? LS : \"{}\"),\n      { token: TOKEN = \"\" } = JSON.parse(SS ? SS : \"{}\");\n    const param = {\n      method,\n      url: `${PROTOCOL}://${HOST}:${PORT}/api/${url}`,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + TOKEN,\n      },\n    };\n\n    if ([\"POST\", \"PUT\"].includes(method.toUpperCase()) && body) {\n      param.data = JSON.stringify(body);\n    }\n    if (controller) param.signal = controller.signal;\n\n    axios(param)\n      .then((res) => {\n        return done(res.data);\n      })\n      .catch((err) => {\n        console.error(\"[Orus System] Query API failer:\", url);\n        console.error(\"[Orus System] Query API code:\", err?.code);\n        console.error(\"[Orus System] Query API message:\", err?.message);\n        return reject(err.response?.data);\n      });\n  });\n}\n\nexport function setUrl(endpoint, id, param = {}) {\n  let url = endpoint,\n    paramString = null;\n  const paramKeys = Object.keys(param);\n\n  if (id) {\n    url += `/${id}`;\n  }\n\n  if (typeof param !== \"object\" || Array.isArray(param)) {\n    return url;\n  }\n\n  if (paramKeys) {\n    paramKeys.map((k) => {\n      if (param[k] === null || param[k] === \"\") {\n        delete param[k];\n      }\n      return null;\n    });\n\n    if (paramKeys.length) {\n      paramString = new URLSearchParams(param);\n      url += `?${paramString}`;\n    }\n  }\n\n  return url;\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { api, setUrl } from \"../utils/url\";\n\nexport const AuthContext = createContext(null);\nexport const Auth = () => useContext(AuthContext);\n\nexport default function useUser({ children }) {\n  const history = useHistory();\n\n  const LS = localStorage.getItem(\"OrusSystemLogin\");\n  //const LS = sessionStorage.getItem(\"OrusSystem\");\n\n  let initialSession = {\n    isLogged: false,\n    idUser: 0,\n    username: \"\",\n    name: \"\",\n    rol: null,\n    email: \"\",\n    token: \"\",\n    branch: \"\",\n    roles: \"\",\n    permissions: [],\n\n  };\n\n  const [user, setUser] = useState(() => {\n    if (LS && LS !== \"undefined\") {\n      initialSession = JSON.parse(LS);\n    }\n\n    return initialSession;\n  });\n\n  // Functions\n  const setUserData = (data) => {\n      if (!data) return;\n\n      const toSave = {\n        isLogged: data.isLogged ?? user.isLogged,\n        idUser: data.id,\n        username: data.username.toLowerCase(),\n        name: data.name.toLowerCase(),\n        rol: 2,\n        email: data.email,\n        token: data.token ?? user.token,\n        branch: { ...data.branch.data, id: data.branch.id },\n        roles: data.roles[0],\n        permissions: data.permissions,\n      };\n\n      setUser(toSave);\n      localStorage.setItem('OrusSystemLogin', JSON.stringify(toSave));\n      //sessionStorage.setItem(\"OrusSystem\", JSON.stringify(toSave));\n    },\n    session = async (credentials) => {\n      const { email, password } = credentials;\n\n      if (!email || !password) {\n        return {\n          status: false,\n          message: \"The fields user or passwors are required\",\n        };\n      }\n\n      return await api(\"user/login\", \"POST\", credentials)\n        .then((data) => {\n          if (!data.status) {\n            return { status: false, data };\n          }\n\n          const { data: user } = data;\n\n          setUserData({\n            ...user,\n            token: data.token,\n            isLogged: true,\n          });\n\n          return { status: true, message: data.message };\n        })\n        .catch((err) => {\n          return {\n            status: false,\n            message: \"Error en el servidor: \" + err?.message,\n          };\n        });\n    },\n    outSession = async () => {\n      return await api(\"user/logout\", \"POST\")\n        .then(() => {\n          setUser(initialSession);\n          localStorage.setItem('OrusSystemLogin', '{}');\n          //sessionStorage.setItem(\"OrusSystem\", \"{}\");\n\n          return true;\n        })\n        .catch((err) => console.error(\"[Server] When close session:\", err));\n    },\n    getCurrentUser = async () => {\n      return await api(\"user\")\n        .then((data) => data.data)\n        .catch((err) => {\n          if (err?.message === \"Unauthenticated.\") {\n            if (history.location?.pathname !== \"/login\") {\n              setUser(initialSession);\n              localStorage.setItem('OrusSystemLogin', JSON.stringify(initialSession));\n              /* sessionStorage.setItem(\n                \"OrusSystem\",\n                JSON.stringify(initialSession)\n              ); */\n\n              history.push(\"/login\");\n            }\n            return;\n          }\n          console.log(\"[Orus System] Responses:\", err);\n        });\n    },\n    getNotifications = async () => {\n      const user = await getCurrentUser().catch(() => {\n        // outSession();\n        return null;\n      });\n\n      if (!user) return [];\n\n      return user.unreadNotifications;\n    },\n    setNotifications = async (payload) => {\n      if (typeof payload !== \"object\") {\n        return {\n          status: false,\n          message: \"Payload should be object\",\n        };\n      }\n\n      return await api(\"user/readAllNotifications\", \"POST\", payload).then(\n        (result) => {\n          const count = parseInt(payload.id) < 0 ? \"Todas\" : 1;\n\n          if (result.success) {\n            console.log(\"[Orus System] Notificaciones marcadas leidas:\", count);\n            return true;\n          }\n\n          return false;\n        }\n      );\n    },\n    setBranch = async (branch) => {\n      const url = setUrl(\"users\", user.idUser);\n\n      const update = {\n        branch_id: branch,\n        name: user.name,\n        username: user.username,\n      };\n      \n      return await api(url, \"PUT\", update).then((result) => {\n        if (result.data && !result.message) return true;\n        else return false;\n      });\n    };\n\n  useEffect(() => {\n    getCurrentUser().then((data) => {\n      if (!data) return;\n\n      console.log(\"[Orus system] Session was created\");\n      setUserData({ ...data, isLogged: true });\n    });\n  }, [user.isLogged]);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        auth: user,\n        setSession: session,\n        outSession,\n        getNotifications,\n        setNotifications,\n        setBranch,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useUsers() {\n\n  const getListUsers = async (filters)=>{\n    const url = setUrl('users', null, filters);\n    return await api(url);\n  }\n\n  const getUserById = async(ID) => {\n    const url = setUrl('users', ID);\n    return await api(url)\n  }\n\n  const deleteUser = async (ID) => {\n    const url = setUrl('users', ID);\n    return await api(url, 'DELETE', null);\n  }\n\n  const saveUser = async (data, ID)=> {\n\n    if(ID){\n      //Actualizamos\n      const url = setUrl('users', ID);\n      return await api(url, 'PUT',data);\n    }else{\n      //Creamos uno nuevo\n\n      const url = setUrl('users');\n      return await api(url, \"POST\", data);\n    }\n  }\n\n  return{\n    getListUsers,\n    getUserById,\n    deleteUser,\n    saveUser,\n  }\n\n}\n\n\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useState, useEffect, useContext } from \"react\";\nimport { api } from \"../utils/url\";\n\nexport const ConfigContext = createContext(null);\nexport const Config = () => useContext(ConfigContext);\n\nconst storage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\nconst initialState = {\n  data: [],\n  meta: {},\n  server: storage,\n};\n\nexport default function useConfig({ children }) {\n  const [state, setstate] = useState(initialState);\n  // Functions\n  const setStorage = (storage) => {\n    if (typeof storage !== \"object\") {\n      return false;\n    }\n\n    const newStorage = {\n      ...state.server,\n      ...storage,\n    };\n\n    setstate({\n      ...state,\n      server: newStorage,\n    });\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(newStorage));\n    return true;\n  };\n\n  useEffect(() => {\n    api(\"config?itemsPage=100\", \"GET\").then((response) => {\n      setstate({\n        ...state,\n        data: response.data,\n        meta: response.meta,\n        setStorage,\n      });\n    });\n  }, []);\n\n  return (\n    <ConfigContext.Provider value={state}>{children}</ConfigContext.Provider>\n  );\n}\n","import { useEffect, useRef, useState } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\n\nexport default function UserNameInputComponent(props) {\n  const user = useUsers();\n  const mounted = useRef(true);\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"Debe de tener al menos 4 caracteres.\",\n    searchUser: false,\n  });\n  const { onChange: _onChange, handleValidate: _handleValidate } = props;\n\n  const handleChange = ({ value }) => {\n    _onChange({\n      name: \"username\",\n      value: value.toLowerCase(),\n    });\n  };\n  const validUser = () => {\n    if (!mounted.current) return;\n\n    const regex = /^[\\w]{4,16}$/,\n      userSearch = props.username.replace(/\\s/g, \"\");\n\n    if (regex.test(userSearch)) {\n      //User valid, next search if exist\n      setState({\n        ...state,\n        searchUser: true,\n      });\n\n      handleSearchUser(userSearch, props.userId, user).then((status) => {\n        if (!mounted.current) return;\n\n        if (status) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"El usuario ya esta registrado.\",\n            searchUser: false,\n          });\n          _handleValidate({\n            name: \"validUserName\",\n            value: false,\n          });\n        } else {\n          setState({\n            ...state,\n            bgColor: \"bg-blue\",\n            validate: \"\",\n            text: \"\",\n            searchUser: false,\n          });\n          _handleValidate({\n            name: \"validUserName\",\n            value: true,\n          });\n        }\n      });\n    } else {\n      //User no valid\n      if (userSearch.length > 4) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"No tiene el formato de usuario\",\n        });\n        _handleValidate({\n          name: \"validUserName\",\n          value: false,\n        });\n      } else if (!userSearch.length) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"Debe de tener de 4 a 16 caracteres alfanumericos.\",\n        });\n        _handleValidate({\n          name: \"validUserName\",\n          value: false,\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      mounted.current = false;\n    };\n  });\n\n  return (\n    <div className={\"col-\" + props.col}>\n      {props.username.length ? (\n        <small>\n          <label>Usuario</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + state.bgColor}>\n            {state.searchUser ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-user-check\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"text\"\n          className={\"form-control\" + state.validate}\n          placeholder=\"Usuario\"\n          autoComplete=\"off\"\n          autoFocus=\"autofocus\"\n          defaultValue={props.username}\n          onChange={({ target }) => handleChange(target)}\n          onBlur={validUser}\n          required=\"required\"\n          minLength=\"4\"\n          maxLength=\"16\"\n          pattern=\"^[\\w]{4,16}$\"\n        />\n      </div>\n      {state.validate ? <small className=\"text-muted\">{state.text}</small> : \"\"}\n    </div>\n  );\n}\n\nconst handleSearchUser = async (username, userId = null, user) => {\n  const result = await user.getListUsers({ username, userId, deleted: 0 });\n\n  if (result.data && result.data.length) {\n    const { username: user } = result.data[0];\n\n    if (user.toLowerCase() === username) {\n      return true;\n    }\n  }\n  return false;\n};\n","import { useState } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\n\nexport default function UserEmailInputComponent(props) {\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"No tiene el formato de un email\",\n    searchEmail: false,\n  });\n\n  const user = useUsers();\n\n  //Vars\n  const { col, email, userId, onChange: _onChange } = props,\n    { bgColor, validate, text, searchEmail } = state;\n\n  //Functions\n  const handleChange = ({ name, value }) => {\n      _onChange({\n        name,\n        value: value.toLowerCase(),\n      });\n    },\n\n    validEmail = () => {\n      const regex =\n          /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n        emailSearch = email.replace(/\\s/g, \"\");\n\n      if (regex.test(emailSearch)) {\n        //User valid, next search if exist\n        setState({\n          ...state,\n          searchUser: true,\n        });\n        \n        handleSearchUser(emailSearch, userId, user).then((response) => {\n          if (response) {\n            setState({\n              bgColor: \"bg-red\",\n              validate: \" border border-danger\",\n              text: \"El usuario ya esta registrado.\",\n              searchUser: false,\n            });\n            _onChange({\n              name: \"validUserEmail\",\n              value: false,\n            });\n          } else {\n            setState({\n              ...state,\n              bgColor: \"bg-blue\",\n              validate: \"\",\n              text: \"\",\n            });\n            _onChange({\n              name: \"validUserEmail\",\n              value: true,\n            });\n          }\n        });\n      } else {\n        //User no valid\n        if (emailSearch.length > 8) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"No tiene el formato de un email valido\",\n          });\n          _onChange({\n            name: \"validUserEmail\",\n            value: false,\n          });\n        } else if (!emailSearch.length) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"Escriba un email valido\",\n          });\n          _onChange({\n            name: \"validUserEmail\",\n            value: false,\n          });\n        }\n      }\n    };\n\n  return (\n    <div className={\"col-\" + col}>\n      {email.length ? (\n        <small>\n          <label>Email</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + bgColor}>\n            {searchEmail ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-at\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"email\"\n          className={\"form-control\" + validate}\n          placeholder=\"email\"\n          name=\"email\"\n          autoComplete=\"off\"\n          defaultValue={email}\n          onChange={({ target }) => handleChange(target)}\n          onBlur={validEmail}\n          required=\"required\"\n        />\n      </div>\n      {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n    </div>\n  );\n}\n\n\nconst handleSearchUser = async (username, userId = null, user) => {\n  const result = await user.getListUsers({ username, userId, deleted: 0 });\n\n  if (result.data && result.data.length) {\n    const { username: user } = result.data[0];\n\n    if (user.toLowerCase() === username) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n\n/* const handleSearchUser = async (email, userId = null, user) => {\n  const result = await user.getListUser\n  const url = getUrl(\"users\", null, { email, userId, deleted: 0 }),\n    result = await api(url);\n\n  if (result.data && result.data.length) {\n    const { email: user } = result.data[0];\n\n    if (user.toLowerCase() === email) {\n      return true;\n    }\n  }\n  return false;\n};\n */\n","import moment from \"moment\";\n\nexport default function MetadataComponent({ data: currentUser }) {\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-primary\">\n          <i className=\"fas fa-database mr-2\"></i>\n          Metadata\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        {currentUser.data?.session ? (\n          <ul className=\"list-group\">\n            <li className=\"list-group-item\">\n              <h6>Datos del usuario</h6>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <span className=\"text-primary\">Registrado</span>\n                  <p>{moment(currentUser.data.created_at).fromNow()}</p>\n                </div>\n                <div className=\"col\">\n                  <span className=\"text-primary\">Ultima actualizacion</span>\n                  <p>{moment(currentUser.data.updated_at).fromNow()}</p>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              <h6>Actividad</h6>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <span className=\"text-primary\">IP</span>\n                  <p>\n                    {currentUser.data.session?.ip_address\n                      ? currentUser.data.session.last_activity\n                      : \"--\"}\n                  </p>\n                </div>\n                <div className=\"col\">\n                  <span className=\"text-primary\">Ultima actividad</span>\n                  <p>\n                    {currentUser.data.session?.last_activity\n                      ? moment(currentUser.data.session.last_activity).fromNow()\n                      : \"--\"}\n                  </p>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"text-primary\">Navegador y OS</span>\n              <p>\n                {currentUser.data.session?.user_agent\n                  ? currentUser.data.session.user_agent\n                  : \"--\"}\n              </p>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"text-primary\">Token</span>\n              <p>\n                {currentUser.data.session?.user_data\n                  ? currentUser.data.session.user_data\n                  : \"--\"}\n              </p>\n            </li>\n          </ul>\n        ) : (\n          <p>Usuario no ha registrado actividad.</p>\n        )}\n      </div>\n      {currentUser.data.session && (\n        <div className=\"card-footer text-right\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            onClick={() => {\n              // close session when session is active\n            }}\n          >\n            <i className=\"fas fa-sign-out-alt mr-1\"></i>\n            Cerrar session\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","export default function PermissionsComponent({ data: currentUser }) {\n  return (\n    <div className=\"card card-primary card-outline mt-4\">\n      <div className=\"card-header\">\n        <h5 className=\"card-title text-primary\">Tipo y permisos</h5>\n      </div>\n      <div className=\"card-body\">\n        <span className=\"badge badge-dark m-1\">{currentUser.role}</span>\n        {currentUser.data?.permissions?.map((permission, i) => (\n          <span className=\"badge badge-primary m-1\" key={i}>\n            {permission}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import moment from \"moment\";\nexport default function ActivitysComponents(props) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title text-muted text-bold w-100 mb-4 text-left\">\n          <i className=\"fas fa-bars mr-1\"></i>\n          Actividad\n        </h5>\n\n        {props.data.map((ac, i) => {\n          const { data, type } = ac;\n\n          return (\n            <p className=\"card-text border-bottom text-left\" key={i}>\n              <span\n                className={\n                  type !== \"deleted\"\n                    ? type === \"created\"\n                      ? \"badge badge-success text-uppercase\"\n                      : \"badge badge-primary text-uppercase\"\n                    : \"badge badge-danger text-uppercase\"\n                }\n              >\n                {type}\n              </span>\n              <span className=\"mx-2 text-uppercase\">\n                {moment(data.datetime).format(\"DD-MMMM-YYYY HH:mm\")}\n              </span>\n              <span className=\"text-bold text-capitalize\">\n                {data.user?.name.toLowerCase()}\n              </span>\n\n              {Boolean(Object.keys(data.inputs).length) && (\n                <span className=\"px-2\">\n                  {Object.keys(data.inputs).map((input, i) => (\n                    <span\n                      key={i}\n                      className=\"badge badge-light text-uppercase mx-1\"\n                    >\n                      {input} / {data.inputs[input]}\n                    </span>\n                  ))}\n                </span>\n              )}\n            </p>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport useUsers from \"../../hooks/useUsers\";\nimport { Config } from \"../../context/ConfigContext\";\nimport { useHistory } from \"react-router-dom\";\n\n//Component\nimport UserNameInput from \"./views/userNameInput\";\nimport UserEmailInput from \"./views/userEmailInput\";\nimport Metadata from \"./Metadata\";\nimport Permissions from \"./Permissions\";\nimport Activities from \"../Activitys\";\n\nconst initialState = {\n  id: 0,\n  role: \"ventas\",\n  password: \"\",\n  username: \"\",\n  name: \"\",\n  email: \"\",\n  branch_id: 12,\n  data: {\n    session: {},\n    roles: [],\n    permissions: [],\n    load: false,\n    validUserName: false,\n    validUserEmail: false,\n    created_at: \"\",\n    updated_at: \"\",\n    activities: [],\n  },\n};\n\nexport default function UserAddComponent(props) {\n  const { id } = props.match.params;\n  const { handleNewOrEdit: _handleNewOrEdit } = props;\n  const _users = useUsers();\n  const configContext = Config();\n  const branchs = configContext.data;\n  const [currentUser, setCurrentUser] = useState(initialState);\n  const history = useHistory();\n  const send =\n    currentUser.name.length &&\n    !currentUser.data.load &&\n    currentUser.data.validUserName &&\n    currentUser.data.validUserEmail\n      ? false\n      : true;\n\n  function processData(data) {\n    if (data) {      \n      setCurrentUser({\n        id: data.id,\n        role: data.roles[0],\n        username: data.username,\n        name: data.name,\n        email: data.email,\n        password: \"\",\n        branch_id: data.branch.id,\n        data: {\n          session: data.session ? data.session : {},\n          permissions: data.permissions,\n          roles: data.roles,\n          load: data.load ? data.load : false,\n          validUserName: true,\n          validUserEmail: true,\n          created_at: data.created_at,\n          updated_at: data.updated_at,\n          activities: data.activity,\n        },\n      });\n    }\n  }\n\n  const handleValidate = ({ name, value }) => {\n    setCurrentUser({\n      ...currentUser,\n      data: {\n        ...currentUser.data,\n        [name]: value,\n      },\n    });\n  };\n\n  const catchInputs = ({ name, value, type }) => {\n    if (type === \"text\") {\n      value = value\n        .toLowerCase()\n        .normalize(\"NFD\")\n        .replace(/[\\u0300-\\u036f]/g, \"\");\n    }\n\n    setCurrentUser({\n      ...currentUser,\n      [name]: value,\n    });\n  };\n\n  const handleSave = () => {\n    const { id, name, username, role, password, email, branch_id } =\n      currentUser;\n\n    //Valid primary data\n    if (!currentUser.data.validUserName) {\n      window.Swal.fire({\n        icon: \"error\",\n        title: \"El nombre de usuario ya esta en uso\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return false;\n    }\n    if (!currentUser.data.validUserEmail) {\n      window.Swal.fire({\n        icon: \"error\",\n        title: \"El correo ya esta en uso\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return false;\n    }\n\n    let data = {\n      name,\n      username,\n      role,\n      email,\n      branch_id,\n    };\n\n    if (password.length >= 8) data.password = password;\n\n    _users.saveUser(data, id).then((data) => {\n      if (data) {\n        window.Swal.fire({\n          title: \"Usuarios\",\n          text: id\n            ? `Usuario actualizado correctamente`\n            : `Usuario guardado correctamente`,\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonText: \"Hecho!\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            history.push(\"/usuarios\");\n            _handleNewOrEdit();\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      _users.getUserById(id).then((data) => {\n        if (data) {\n          processData(data.data);\n        }\n      });\n    }\n  }, [id]);\n\n  return (\n    <div className=\"row\" style={{ height: \"100vh\" }}>\n      <div className={`col-${id ? 8 : 12}`}>\n        <form className=\"card card-primary card-outline\" autoComplete=\"off\">\n          <div className=\"card-header\">\n            <h1 className=\"card-title text-primary\">\n              <i className=\"fas fa-user mr-2\"></i>\n              {id ? \"Editar usuario\" : \"Registrar nuevo usuario\"}\n            </h1>\n          </div>\n          <div className=\"card-body was-validated\">\n            {currentUser.load ? (\n              <div className=\"alert alert-light text-center p-4\">\n                <div className=\"spinner-border text-primary\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            ) : (\n              <>\n                <div className=\"row mb-3\">\n                  <UserNameInput\n                    username={currentUser.username}\n                    userId={id ? id : \"\"}\n                    col={6}\n                    onChange={catchInputs}\n                    handleValidate={handleValidate}\n                  />\n                  <div className=\"col-6\">\n                    {currentUser.name.length ? (\n                      <small>\n                        <label>Nombre completo</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-user-tag\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control text-capitalize\"\n                        placeholder=\"Nombre completo\"\n                        name=\"name\"\n                        autoComplete=\"off\"\n                        defaultValue={currentUser.name}\n                        onChange={({ target }) => catchInputs(target)}\n                        required=\"required\"\n                        minLength=\"8\"\n                        pattern=\"^[a-zA-Z]{2,20}[\\s]{1}[a-zA-Z]{2,20}.*\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    {currentUser.password.length || id ? (\n                      <small>\n                        <label>Contrasea</label>\n                        {!id && (\n                          <span className=\"ml-2 text-muted\">\n                            De 8 a 16 caracteres, por lo menos una mayuscula, un\n                            numero y un caracter especial\n                          </span>\n                        )}\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-lock\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"password\"\n                        className=\"form-control\"\n                        placeholder=\"Contrasea\"\n                        name=\"password\"\n                        autoComplete=\"off\"\n                        defaultValue={currentUser.password}\n                        onChange={({ target }) => catchInputs(target)}\n                        required={id ? false : true}\n                        minLength=\"8\"\n                        maxLength=\"16\"\n                        pattern=\"^(?=.*[A-Z])(?=.*[!@#$&.*])(?=.*[0-9])(?=.*[a-z]).{8,16}$\"\n                      />\n                    </div>\n                  </div>\n                  <UserEmailInput\n                    email={currentUser.email}\n                    userId={id ? id : \"\"}\n                    col={6}\n                    onChange={catchInputs}\n                  />\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    <small>\n                      <label>Tipo de usuario</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-id-card\"></i>\n                        </span>\n                      </div>\n                      <select\n                        className=\"custom-select\"\n                        name=\"role\"\n                        defaultValue={currentUser.role}\n                        onChange={({ target }) => catchInputs(target)}\n                      >\n                        <option value=\"admin\">Administrador</option>\n                        <option value=\"ventas\">Ventas</option>\n                        <option value=\"doctor\">Optometrista</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"col-md-6\">\n                    <small>\n                      <label>Sucursal</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-store\"></i>\n                        </span>\n                      </div>\n                      <select\n                        className=\"custom-select text-uppercase\"\n                        name=\"branch_id\"\n                        value={currentUser.branch_id}\n                        onChange={({ target }) => catchInputs(target)}\n                      >\n                        {branchs.map((branch) =>\n                          branch.name !== \"bank\" ? (\n                            <option value={branch.id} key={branch.id}>\n                              {branch.data.name}\n                            </option>\n                          ) : null\n                        )}\n                      </select>\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n          <div className=\"card-footer\">\n            <div className=\"row\">\n              <div className=\"col-md-12 text-right\">\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-dark\"\n                    onClick={() => {\n                      history.push(`/usuarios`);\n                      _handleNewOrEdit();\n                    }}\n                  >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={\n                      currentUser.load\n                        ? \"btn btn-primary disabled\"\n                        : \"btn btn-primary\"\n                    }\n                    disabled={send ? true : false}\n                    onClick={handleSave}\n                  >\n                    <i className=\"fas fa-save mr-1\"></i>\n                    {id ? \"Actualizar\" : \"Guardar\"}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n\n        <Permissions data={currentUser} />\n      </div>\n      {id && (\n        <div className=\"col-4\">\n          <Metadata data={currentUser} />\n          <Activities data={currentUser.data.activities} />\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const StoreContext = createContext(null);\nexport const Store = () => useContext(StoreContext);\n","import React from \"react\";\n\nexport default function SideBarPartial(props) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <h5 className=\"card-title\">\n          <i\n            className={\n              props.icon\n                ? \"mr-2 fas fa-\" + props.icon\n                : \"mr-2 fas fa-ellipsis-v\"\n            }\n          ></i>\n          {props.title ?? \"Menu\"}\n        </h5>\n      </div>\n      <div className=\"card-body p-0\">\n        <ul className=\"list-group nav list-group-flush\">{props.children}</ul>\n      </div>\n    </div>\n  );\n}\n","export default function Input(props) {\n  const { showIcon = true } = props;\n\n  return (\n    <div className=\"input-group mb-3\">\n      {showIcon && (\n        <div className=\"input-group-prepend\">\n          <span\n            className={\n              props.value\n                ? \"input-group-text bg-primary\"\n                : \"input-group-text bg-warning\"\n            }\n          >\n            <i className={`fas fa-${props.icon ?? \"sort-amount-down\"}`}></i>\n          </span>\n        </div>\n      )}\n\n      <select        \n        className=\"custom-select text-uppercase\"\n        value={props.value ?? \"\"}\n        disabled={props.load ?? false}\n        onChange={({ target }) => {\n          if (props.handleChange) {\n            props.handleChange(parseInt(target.value));\n          }\n        }}\n      >\n        {props.load ? (\n          <option value=\"\">{props.loadText ?? \"Cargando opciones\"}</option>\n        ) : (\n          <>\n            {!Boolean(props.options?.length) ? (\n              <option value=\"\">{props.emptyText ?? \"No hay opciones\"}</option>\n            ) : (\n              <option value=\"0\">--{props.text ?? \"Seleccione uno\"}--</option>\n            )}\n          </>\n        )}\n\n        {props.options?.map((cat, index) => {\n          return (\n            <option value={cat.id} key={cat.id} id={index}>\n              {cat.name}\n            </option>\n          );\n        })}\n      </select>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useStore() {\n  const getItems = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"store\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get items list in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const getItem = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"store\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const deleteItem = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"store\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveItemByList = async (items) => {\n    if (!items) return;\n    const url = setUrl(\"store/bylist\");\n\n    return await api(url, \"POST\", { items })\n      .then((res) => {\n        return res;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when save items by list in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveItem = async (data) => {\n\n    const {id} = data;\n    const url = setUrl(\"store\", id);\n    const method = !id ? 'POST' : 'PUT';\n    \n    return await api(url, method, data)\n  };\n\n  const saveQantityandPrice = async (data) => {\n    delete data.readyToSave;\n    const { id } = data;\n\n    if (id === 0) {\n      const url = setUrl(\"branches\");\n      const method = \"POST\";\n      return await api(url, method, data);\n    } else {\n      const url = setUrl(\"branches\", id);\n      const method = \"PUT\";\n      return await api(url, method, data);\n    }\n  };\n\n  const saveGlobalPrice = async (data) => {\n    const idCategory = data.productCategoryId;\n    const URL = setUrl(`categories/setprice/${idCategory}`);\n    const method = \"POST\";\n\n    delete data.productCategoryId;\n    delete data.branchSelected;\n\n    return await api(URL, method, data);\n  };\n\n  const saveQantity = async (data)=>{   \n    const product_id = data.product_id;\n    const url = setUrl(`store/setcant/${product_id}`);\n    const method = 'POST';\n    return await api(url, method, data);\n  }\n\n  // Brands functions -------------------------\n  const getBrands = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"brands\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get brands list in hook:\",\n          err.message\n        );\n        throw err;\n      });\n  };\n\n  const getBrand = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"brands\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get brands in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveBrand = async (data) => {\n    const url = setUrl(\"brands\");\n    return await api(url, \"POST\", data);\n  };\n\n  const deleteBrand = async (id) => {\n    const url = setUrl(\"brands\", id);\n    return await api(url, \"DELETE\", null)\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  return {\n    getItems,\n    getItem,\n    deleteItem,\n    saveItem,\n    saveItemByList,\n    saveQantityandPrice,\n    saveGlobalPrice,\n    getBrands,\n    getBrand,\n    saveBrand,\n    deleteBrand,\n    saveQantity,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\nimport Input from \"../Input\";\nimport useStore from \"../../hooks/useStore\";\n\nexport default function Brands(props) {\n  const [state, setState] = useState({\n    brands: [],\n    load: true,\n  });\n\n  const _store = useStore();\n\n  const getBrands = () => {\n    _store.getBrands({ supplier: props.supplier }).then((brands) => {\n      if (brands) {\n        setState({\n          ...state,\n          brands: brands.data,\n          load: false,\n        });\n      } else {\n        console.error(\"Error al obetner las marcas\");\n      }\n    });\n  };\n\n  const filterBrandName = (id) => {\n    const brandName = state.brands.filter((brand) => brand.id === id);\n    return brandName[0].name;\n  };\n\n  useEffect(() => {\n    getBrands();\n  }, [props.supplier]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <small>\n          <label>Marca</label>\n        </small>\n        <Input\n          options={state.brands}\n          value={props.brand}\n          text=\"Seleccione una marca\"\n          icon=\"copyright\"\n          emptyText=\"No hay marcas para este proveedor\"\n          load={state.load}\n          loadText=\"Cargando marcas\"\n          handleChange={(id) => {\n            if (props.handleChangeBrand) {\n              props.handleChangeBrand(id, filterBrandName(id));\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useContact() {\n\n  const getContacts = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"contacts\", null, options);\n    //type, bussiness\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contacts list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n  const getContact = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"contacts\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contact in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n\n  const deleteContact = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"contacts\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete contact in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n\n  \n  const saveContact = async (data) => {\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"contacts\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save contact in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    } else {\n      const url = setUrl(\"contacts\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save contact in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    }\n  };\n\n  return {\n    getContacts,\n    getContact,\n    deleteContact,\n    saveContact,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\nimport useContact from \"../../hooks/useContact\";\nimport Input from \"../Input\";\n\nexport default function Suppliers(props) {\n  \n  const _contacts = useContact();\n  const [state, setState] = useState({\n    suppliers: [],\n    load: true,\n  });\n\n  const getSuppliers = () => {\n    _contacts\n      .getContacts({\n        type: 1,\n        orderby: \"name\",\n        order: \"asc\",\n      })\n      .then((sup) => {\n        setState({\n          suppliers: sup.data,\n          load: false,\n        });\n      });\n  };\n\n  useEffect(() => {\n    getSuppliers();\n  }, []);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <small>\n          <label>Proveedor</label>\n        </small>\n        <Input\n          options={state.suppliers}\n          value={props.supplier ?? \"\"}\n          text=\"Seleccione un provedor\"\n          icon=\"address-book\"\n          load={state.load}\n          handleChange={(id) => {\n            if (props.handleChangeSupplier) {\n              props.handleChangeSupplier(id);\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import { Store } from \"../../context/StoreContext\";\n//Components\nimport SideBar from \"../../pages/partials/SideBar\";\n\nimport BrandsInput from \"./Brands\";\nimport SuppliersInput from \"./Suppliers\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function ToolBar() {\n  const context = Store();\n  const history = useHistory();\n\n  //Funciones\n  const handleSetSelectOptions = ({ name, value, checked }) => {\n    if (name === \"itemsPage\") value = parseInt(value);\n    if (name === \"supplier\" && value > 0) value = parseInt(value);\n    if (name === \"zero\") {\n      if (checked) value = \"true\";\n      else value = \"false\";\n    }\n\n    context.set({\n      ...context,\n      options: {\n        ...context.options,\n        [name]: value,\n      },\n    });\n  };\n  \n  const handleChangeSupplier = (id) => {\n    context.set({\n      ...context,\n      options: {\n        ...context.options,\n        brand: \"\",\n        supplier: id,\n      },\n    });\n  };\n\n  return (\n    <SideBar title={context.panel === \"inbox\" ? \"Menu y filtros\" : \"Menu\"}>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"inbox\" ? \"nav-link  disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n            context.set({\n              ...context,\n              panel: \"inbox\",\n            });\n            history.push(\"/almacen\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"inbox\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Productos\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"category\" ? \"nav-link disabled\" : \"nav-link \"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"category\",\n            });\n\n            history.push(\"/almacen/categorias\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"category\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Categorias\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"brands\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"brands\",\n            });\n\n            history.push(\"/almacen/marcas\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"brands\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Marcas\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"inventory\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"inventory\",\n            });\n\n            history.push(\"/almacen/inventario\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"inventory\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Inventario\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"entries\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"entries\",\n            });\n\n            history.push(\"/almacen/entradas\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"entries\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Entradas\n        </a>\n      </li>\n\n      {context.panel === \"inbox\" && (\n        <>\n          <li className=\"nav-item p-1\">\n            <SuppliersInput\n              supplier={context.options?.supplier}\n              showIcon={false}\n              handleChangeSupplier={(id) => handleChangeSupplier(id)}\n            />\n          </li>\n          {context.options?.supplier && (\n            <li className=\"nav-item p-1\">\n              <BrandsInput\n                supplier={context.options?.supplier}\n                brand={context.options?.brand}\n                showIcon={false}\n                handleChangeBrand={(id) => {\n                  handleSetSelectOptions({\n                    name: \"brand\",\n                    value: id,\n                  });\n                }}\n              />\n            </li>\n          )}\n          <li className=\"nav-item p-1\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"zero\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"zero\"\n                checked={context.options?.zero === \"true\" ? true : false}\n                onChange={({ target }) => handleSetSelectOptions(target)}\n              />\n              <label\n                className=\"custom-control-label font-weight-normal\"\n                htmlFor=\"zero\"\n              >\n                Cantidades en cero\n              </label>\n            </div>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"orderby\">Ordenar por</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"orderby\"\n              id=\"orderby\"\n              value={context.options?.orderby}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"created_at\">Fecha de registro</option>\n              <option value=\"updated_at\">Fecha de modificacion</option>\n            </select>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"order\">Mostrar por</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"order\"\n              id=\"order\"\n              value={context.options?.order}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"asc\">Antiguos</option>\n              <option value=\"desc\">Recientes</option>\n            </select>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"itemsPage\">Numero de productos</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"itemsPage\"\n              id=\"itemsPage\"\n              value={context.options?.itemsPage}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"25\">ver 25</option>\n              <option value=\"50\">ver 50</option>\n              <option value=\"75\">ver 75</option>\n              <option value=\"100\">ver 100</option>\n            </select>\n          </li>\n        </>\n      )}\n    </SideBar>\n  );\n}\n","export default function PaginationComponent({\n  meta,\n  color,\n  handlePagination: _handlePagination,\n}) {\n\n\n\n  const handleChangePage = (page) => {\n    if (_handlePagination) {\n      _handlePagination(page);\n    } else {\n      console.error(\"[OrusSystem] Funcion de paginador no definida\");\n    }\n  };\n\n  return (\n    <div className=\"btn-group\">\n      <ul className=\"pagination pagination-sm m-0 mb-1\">\n        <li\n          className={\n            meta.current_page === 1 ? \"page-item disabled\" : \"page-item test-\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === 1\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(1);\n            }}\n          >\n            Primero\n          </a>\n        </li>\n        <li\n          className={\n            meta.current_page === 1 ? \"page-item disabled\" : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === 1\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.current_page - 1);\n            }}\n          >\n            <i className=\"fas fa-caret-left\"></i>\n          </a>\n        </li>\n        <li className=\"page-item\">\n          <span className=\"page-link text-dark\">\n            {meta.current_page && meta.last_page ? (\n              <>\n                {meta.current_page} /{meta.last_page}\n              </>\n            ) : (\n              \"...\"\n            )}\n          </span>\n        </li>\n        <li\n          className={\n            meta.current_page === meta.last_page\n              ? \"page-item disabled\"\n              : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === meta.last_page\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.current_page + 1);\n            }}\n          >\n            <i className=\"fas fa-caret-right\"></i>\n          </a>\n        </li>\n        <li\n          className={\n            meta.current_page === meta.last_page\n              ? \"page-item disabled\"\n              : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === meta.last_page\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.last_page);\n            }}\n          >\n            Ultimo\n          </a>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport Pagination from \"../layouts/pagination\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nconst ListInbox = (props) => {\n  \n  //Const\n  const { defaultSearch = \"\" } = props;\n  //States\n  const [search, setSearch] = useState(defaultSearch);\n  const [timer, setTimer] = useState(\"\");\n  const inputRef = useRef();\n\n  const _authContext = useContext(AuthContext);\n  const { auth } = _authContext;\n\n  useEffect(() => {\n    let toTimer = null;\n    if (props.handleSearch) {\n      if (search.length) {\n        if (timer) clearTimeout(timer);\n        toTimer = setTimeout(() => {\n          props.handleSearch(search);\n        }, 1000);\n        setTimer(toTimer);\n      } else {\n        props.handleSearch(\"\");\n      }\n    }\n    // eslint-disable-next-line\n  }, [search]);\n\n  return (\n    <div className={\"card card-\" + props.color + \" card-outline\"}>\n      <div className=\"card-header\">\n        <h3 className={\"card-title text-\" + props.color}>\n          <i\n            className={\n              props.icon ? \"mr-1 fas fa-\" + props.icon : \"mr-1 fas fa-user\"\n            }\n          ></i>\n          {props.title}\n        </h3>\n        <div className=\"card-tools\">\n          {props.handleSearch && (\n            <div className=\"input-group input-group-sm position-relative\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Buscar\"\n                defaultValue={search}\n                ref={inputRef}\n                onChange={({ target }) => {\n                  const { value } = target;\n                  setSearch(value);\n                }}                                \n                onKeyPress={(e) => {\n                  const { key } = e;\n                  if (key === \"Enter\") {\n                    if (timer) clearTimeout(timer);\n                    props.handleSearch(search);\n                  }\n                }}\n              />\n              <div\n                className=\"position-absolute\"\n                style={{ top: 5, left: -20, color: \"#ced4da\" }}\n              >\n                <i className=\"fas fa-search\"></i>\n              </div>\n              {search.length > 2 ? (\n                <div className=\"input-group-append\">\n                  <div\n                    className=\"btn btn-secondary\"\n                    onClick={(e) => {\n                      inputRef.current.value = \"\";\n                      setSearch(\"\");\n                    }}\n                  >\n                    <i className=\"fas fa-window-close\"></i>\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          )}\n        </div>\n      </div>\n      <div className=\"p-0 card-body\">\n        {props.handleDeleteItem ||\n        props.handleEditItem ||\n        props.handleStatus ||\n        props.handleSync ||\n        props.meta ||\n        props.handleDownload ? (\n          <div className=\"mailbox-controls\">\n            <div className=\"btn-group\">\n              {props.handleDeleteItem ? (\n                \n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm text-danger\"\n                  title=\"Eliminar\"\n                  disabled = {props.itemSelected ? (props.itemSelected === auth.idUser) ? true : false : true}\n                  onClick={(e) => props.handleDeleteItem()}\n                >\n                  <i className=\"fas fa-trash-alt\"></i>\n                </button>\n              ) : null}\n\n              {props.handleEditItem ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Editar\"\n                  disabled={props.itemSelected ? false : true}\n                  onClick={(e) => props.handleEditItem()}\n                >\n                  <i className=\"fas fa-edit\"></i>\n                </button>\n              ) : null}\n\n              {props.handleStatus ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Estado\"\n                  disabled={props.itemSelected ? false : true}\n                  onClick={(e) => props.handleStatus()}\n                >\n                  <i className=\"fas fa-check-circle\"></i>\n                </button>\n              ) : null}\n\n              {props.handleSync ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Recargar\"\n                  onClick={(e) => props.handleSync()}\n                >\n                  <i className=\"fas fa-sync-alt\"></i>\n                </button>\n              ) : null}\n\n              {props.handlePrint ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Imprimir\"\n                  onClick={(e) => props.handlePrint()}\n                >\n                  <i className=\"fas fa-print\"></i>\n                </button>\n              ) : null}\n\n              {props.handleDownload ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Exportar\"\n                  onClick={(e) => props.handleDownload()}\n                >\n                  <i className=\"fas fa-file-csv\"></i>\n                </button>\n              ) : null}\n            </div>\n\n            <div className=\"float-right\">\n              {props.meta && (\n                <Pagination\n                  meta={props.meta}\n                  color={props.color}\n                  handlePagination={props.handlePagination}\n                />\n              )}\n            </div>\n          </div>\n        ) : null}\n\n        <div className=\"table-responsive mailbox-messages\">\n          {props.children}\n        </div>\n      </div>\n      {props.loading ? (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default ListInbox;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Store } from \"../../context/StoreContext\";\nimport useStore from \"../../hooks/useStore\";\n\n//Components\nimport ListInbox from \"../../layouts/list_inbox\";\n//import { api, getUrl } from \"../../redux/sagas/api\";\nimport {api, setUrl} from '../../utils/url';\n\nexport default function Inbox(props) {\n  const context = Store();\n  const _store = useStore();\n  const history = useHistory();\n  //const storeContext = useContext(StoreContext);\n\n  //States\n  const [state, setState] = useState({\n    itemSelected: {},\n    items: [],\n    meta: {},\n    loading: false,\n  });\n  //Functions\n  const handleChangeOptions = (key, value) => {\n      if (context.options[key] !== value) {\n        context.set({\n          ...context,\n          options: {\n            ...context.options,\n            [key]: value,\n          },\n        });\n      }\n    },\n    deleteItem = () => {\n      window.Swal.fire({\n        title: \"Productos\",\n        text: \"Desea eliminar el producto seleccionado?\",\n        icon: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#007bff\",\n        confirmButtonText: \"Eliminar\",\n        cancelButtonText: \"Cancelar\",\n        showLoaderOnConfirm: true,\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          //Hook de eliminar producto\n          _store.deleteItem(state.itemSelected.id).then((data)=>{\n            if(data === true){\n              window.Swal.fire({\n                title: \"Productos\",\n                text: \"Producto eliminado correctamente\",\n                icon: \"success\",\n                showCancelButton: false,\n                confirmButtonColor: \"#007bff\",\n                confirmButtonText: \"Ok\",\n                cancelButtonText: \"Cancelar\",\n                showLoaderOnConfirm: true,\n              }).then(({ dismiss }) => {\n                if (!dismiss) {\n                  setState({\n                    ...state,\n                    itemSelected: {},\n                  });\n\n                  setState({\n                    ...state,\n                    loading: true,\n                  });\n\n                  _store.getItems(context.options).then((res) => {\n                    if (res) {\n                      setState({\n                        ...state,\n                        items: res.data,\n                        meta: res.meta,\n                        loading: false,\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          })\n        }\n      });\n\n\n      //helper.handleDeleteItem(state.itemSelected, context.options, () => {});\n      /* setState({\n        ...state,\n        itemSelected: {},\n      }); */\n    },\n\n    handleItemSelect = ({ checked }, item) => {\n      setState({\n        ...state,\n        itemSelected: checked ? item : {},\n      });\n    },\n\n\n    handleSelectItem = (e, item) => {\n      if (e) e.preventDefault();\n\n      if (item?.id) {\n        history.push(`/almacen/${item.id}`);\n      } else if (state.itemSelected?.id) {\n        history.push(`/almacen/${state.itemSelected.id}`);\n      }\n    },\n    handleDownload = async () => {\n      // _setLoading(true);\n      const newOptions = { ...context.options, responseType: \"csv\" };\n      console.log(\"[Orus Sytem] Start donwload csv\");\n\n      const url = setUrl(\"store\", null, newOptions);\n\n      const data = await api(url);\n      // _setLoading();\n      if (data) {\n        console.log(\"[Orus Sytem] Process data csv\");\n        window.open(URL.createObjectURL(data));\n        console.log(\"[Orus Sytem] Donwload is ok\");\n        window.Swal.fire({\n          title: \"Descargas\",\n          text: \"El archivo CSV fue generado correctamente\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      } else {\n        window.Swal.fire({\n          title: \"Descargas\",\n          text: \"El archivo CSV no se genero correctamente\",\n          icon: \"error\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n      }\n    };\n  const handleSync = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n    _store.getItems(context.options).then((res) => {\n      if (res) {\n        setState({\n          ...state,\n          items: res.data,\n          meta: res.meta,\n          loading: false,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    handleSync();\n  }, [context.options]);// eslint-disable-line react-hooks/exhaustive-deps\n  return (\n    <ListInbox\n      title=\"Lista de productos\"\n      icon=\"id-badge\"\n      color=\"primary\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.itemSelected?.id}\n      defaultSearch={context.options.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleDeleteItem={deleteItem}\n      handleEditItem={handleSelectItem}\n      handleDownload={handleDownload}\n      handleSync={handleSync}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Codigo</th>\n            <th>Describcin</th>\n            <th>Proveedor</th>\n            <th>Marca</th>\n            <th>Cant</th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.items.length ? (\n            <>\n              {state.items.map((item) => {\n                return (\n                  <tr key={item.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={item.id}\n                        id={\"item_\" + item.id}\n                        checked={\n                          state.itemSelected?.id === item.id ? true : false\n                        }\n                        onChange={({ target }) =>\n                          handleItemSelect(target, item)\n                        }\n                      />\n                      <label\n                        htmlFor={\"item_\" + item.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td className=\"icheck-primary\">\n                      <div className=\"badge badge-dark text-uppercase\">\n                        {item.code}\n                      </div>\n                    </td>\n                    <td className=\"mailbox-name text-capitalize text-truncate\">\n                      <a\n                        href=\"link\"\n                        onClick={(e) => handleSelectItem(e, item)}\n                        className=\"text-bold\"\n                      >\n                        {item.name}\n                      </a>\n                    </td>\n                    <td className=\"mailbox-attachment text-capitalize text-truncate text-muted\">\n                      <span>{item.supplier ? item.supplier.name : \"--\"}</span>\n                    </td>\n                    <td className=\"mailbox-attachment text-uppercase text-truncate text-muted\">\n                      <span>{item.brand ? item.brand.name : \"--\"}</span>\n                    </td>\n                    <td className=\"mailbox-date text-muted text-truncate text-right\">\n                      <span>{item.cant_total}</span>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"6\">\n                No hay productos registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </ListInbox>\n  );\n}\n","const verifyItem = (item) => {\n  if (item.cant <= 0) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"La cantidad debe de ser un valor valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n  if (!item.store_items_id) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"No se selecciono un producto valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n  if (!item.price) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"El precio no es valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n\n  return true;\n};\nconst handleVerifyData = (data, codeRef) => {\n  const {\n    category_id,\n    category_id1,\n    category_id2,\n    category_id4,\n    supplier,\n    brand_id,\n    code,\n  } = data;\n\n  if (!category_id) {\n    window.Swal.fire(\n      \"Verificacin\",\n      \"Selecione una categoria primero\",\n      \"warning\"\n    );\n    return false;\n  }\n\n  if (category_id) {\n    if (category_id1 === 1 && category_id4 !== category_id) {\n      window.Swal.fire(\n        \"Verificacin\",\n        \"Selecione una categoria valida para lentes\",\n        \"warning\"\n      );\n      return false;\n    } else if (category_id1 === 2 && category_id2 !== category_id) {\n      window.Swal.fire(\n        \"Verificacin\",\n        \"Selecione una categoria valida para armazones\",\n        \"warning\"\n      );\n      return false;\n    }\n  }\n\n  if (category_id1 === 2 && !supplier) {\n    window.Swal.fire(\n      \"Verificacin\",\n      \"Selecione un PROVEEDOR valido primero\",\n      \"warning\"\n    );\n    return false;\n  }\n  if (category_id1 === 2 && !brand_id) {\n    window.Swal.fire(\n      \"Verificacin\",\n      \"Selecione una MARCA valida primero\",\n      \"warning\"\n    );\n    return false;\n  }\n  if (!code && !codeRef.current.value) {\n    window.Swal.fire(\n      \"Verificacin\",\n      \"Escriba una CODIGO para este producto\",\n      \"warning\"\n    );\n    return false;\n  }\n\n  return true;\n};\nconst handleDeleteItem = (item, options, _delete, text) => {\n  if (item.id) {\n    //Check text\n    if (!text) text = `Esta seguro de eliminar el producto ${item.code}?`;\n    //delete confirm\n    window.Swal.fire({\n      text,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss && _delete) {\n        _delete({\n          id: item.id,\n          options,\n        });\n        return true;\n      }\n    });\n    return false;\n  }\n};\nconst handleSaveItem = (id, data, options, _save, _close, text) => {\n  if (!text) {\n    text = id\n      ? \"Esta seguro de actualizar el producto?\"\n      : \"Esta seguro de crear un nuevo producto?\";\n  }\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text,\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonColor: \"#007bff\",\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      //Save\n      _save({\n        id,\n        data,\n        options,\n      });\n      //close\n      if (_close) _close();\n    }\n  });\n};\nconst handleCatOne = (data) => ({\n    category_id: data.id,\n    category_id1: data.id,\n    category_id2: 0,\n    category_list2: data.hijos,\n    category_id3: 0,\n    category_list3: [],\n    category_id4: 0,\n    category_list4: [],\n    supplier: 0,\n  }),\n  handleCatTwo = (data) => ({\n    category_id: data.id,\n    category_id2: data.id,\n    category_id3: 0,\n    category_list3: data.hijos,\n    category_id4: 0,\n    category_list4: [],\n  }),\n  handleCatTree = (data) => ({\n    category_id: data.id,\n    category_id3: data.id,\n    category_id4: 0,\n    category_list4: data.hijos,\n  });\nconst handleCodeString = ( stringcode = \"armazon\", category, brand, code = \"\") => { \n\n\n    stringcode += category !== null ? \" \" + category.trim() : \"\";\n\n    stringcode += brand !== null  ? \" \" + brand.trim().replace(/\\s/gim, \"\"): \"\";\n\n    if (code) {\n      stringcode += \" \" + code.replace(/[\\s]+/gm, \"\");\n    }\n    return stringcode.toLowerCase();  \n  },\n\n\n  codeLentString = (string) => {\n    switch (string) {\n      case \"monofocales\":\n        return \"MF\";\n      case \"bifocales\":\n        return \"BF\";\n      case \"progresivo basico\":\n      case \"progresivo-basico\":\n        return \"PB\";\n      case \"progresivo digital\":\n      case \"progresivo-digital\":\n        return \"PD\";\n      case \"plastico\":\n        return \"CR\";\n      case \"policarbonato\":\n        return \"PL\";\n      case \"hi-index\":\n      case \"hi index\":\n        return \"HI\";\n      case \"antirreflejantes\":\n        return \"AR\";\n      case \"photo\":\n        return \"PH\";\n      case \"ar & photo\":\n      case \"antirreflejante-photo\":\n        return \"ARPH\";\n      case \"blanco\":\n        return \"BL\";\n      case \"polarizado\":\n        return \"PO\";\n      case \"bifocal invisible\":\n      case \"bifocal-invisible\":\n        return \"BI\";\n      case \"monofocal drivesafe\":\n      case \"monofocal-drivesafe\":\n      case \"monofocal digital drivesafe\":\n      case \"monofocal digital DriveSafe\":\n        return \"MDSF\";\n      case \"monofocal superb\":\n      case \"monofocal-superb\":\n      case \"monofocal digital superb\":\n        return \"MDSU\";\n      case \"monofocal individual\":\n      case \"monofocal-individual\":\n      case \"monofocal digital individual\":\n        return \"MDIN\";\n      default:\n        return \"XX\";\n    }\n  },\n  handleCodeLent = (grad, category1, category2, category3) => {\n    if (!category1 || !category2 || !category3) {\n      return \"\";\n    }\n\n    let stringcode =\n      category1 !== null\n        ? codeLentString(\n            category1\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n    stringcode +=\n      category2 !== null\n        ? codeLentString(\n            category2\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n    stringcode +=\n      category3 !== null\n        ? codeLentString(\n            category3\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n\n    return stringcode + grad.toString().trim().replace(/\\s/gim, \"\");\n  },\n\n\n  handleNameLent = (grad, category1, category2, category3) => {\n    if (!category1 || !category2 || !category3) {\n      return \"\";\n    }\n\n    let stringcode = \"\";\n\n    stringcode +=\n      category1 !== null\n        ? category1.trim()\n        : \"\";\n      \n    stringcode +=\n      category2 !== null\n        ? \" \" +\n          category2.trim()\n        : \"\";\n\n\n    stringcode +=\n      category3 !== null\n        ? \" \" +\n          category3.trim()\n        : \"\";\n\n    stringcode += \" \" + grad.toString();\n\n    return stringcode.toLowerCase();\n\n  };\n\nconst toExport = {\n  verifyItem,\n  handleDeleteItem,\n  handleVerifyData,\n  handleSaveItem,\n  handleCatOne,\n  handleCatTwo,\n  handleCatTree,\n  handleCodeString,\n  handleCodeLent,\n  codeLentString,\n  handleNameLent,\n};\n\nexport default toExport;\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useCategory() {\n  \n  const getCategories = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"categories\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get categories list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n\n  const getCategory = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"categories\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get category in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n  \n  const deleteCategory = async (id) => {\n    if (!id) return false;\n    \n    const url = setUrl(\"categories\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete category in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n  const saveCategory = async (data) => {\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"categories\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save category in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    } else {\n      const url = setUrl(\"categories\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save category in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    }\n  };\n\n  return {\n    getCategories,\n    getCategory,\n    deleteCategory,\n    saveCategory,\n  };\n}\n","import { useEffect, useState } from \"react\";\n//Hooks\nimport useCategory from \"../../hooks/useCategory\";\n\n//Components\nimport Input from \"../Input\";\n\nexport default function Categories(props) {\n  const _categories = useCategory();\n\n  const [state, setState] = useState({\n    categories: [],\n    cat1: 0,\n    cat2: 0,\n    cat3: 0,\n    cat4: 0,\n    catNameSelect: [],\n    load: true,\n  });\n\n  const input2 = state.categories.filter((cat) => cat.id === state.cat1)[0];\n  const input3 = input2?.sons?.filter((cat) => cat.id === state.cat2)[0];\n  const input4 = input3?.sons?.filter((cat) => cat.id === state.cat3)[0];\n  const input5 = input4?.sons?.filter((cat) => cat.id === state.cat4)[0];\n\n  // Functions\n  const getCategories = () => {\n    _categories\n      .getCategories({\n        categoryid: \"raiz\",\n      })\n      .then(({ data: cat }) => {\n        setState({\n          ...state,\n          categories: cat,\n          load: false,\n        });\n      });\n  };\n\n  const handleCodeName = (categories, select) => {\n    const cat = categories.filter((c) => c.id === select)[0];\n\n    if (cat?.codeName && cat.codeName.length) {\n      //TODO: To send fhater\n      props.handleSetCatName(cat.codeName);\n    }\n  };\n\n  const getCategory = (id) => {\n    _categories.getCategory(id).then((cat) => {\n      if (state.cat1 === parseInt(cat.code[0])) {\n        if (state.cat2 === parseInt(cat.code[1])) {\n          if (state.cat3 === parseInt(cat.code[2])) {\n            if (state.cat4 === parseInt(cat.code[3])) {\n              return;\n            }\n          }\n        }\n      }\n\n      setState({\n        ...state,\n        cat1: parseInt(cat.code[0]),\n        cat2: parseInt(cat.code[1]),\n        cat3: parseInt(cat.code[2]),\n        cat4: parseInt(cat.code[3]),\n        load: false,\n      });\n    });\n  };\n\n  const handleReturn = () => {\n    if (state.cat1 && input2 && !input2.sons?.length) {\n      return props.handleChange(state.cat1, input2.code);\n    } else if (props.category) {\n      if (state.cat1 && !state.cat2 && !state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat2 && input3 && !input3.sons?.length) {\n      return props.handleChange(state.cat2, input3.code);\n    } else if (props.category) {\n      if (state.cat1 && state.cat2 && !state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat3 && input4 && !input4.sons?.length) {\n      return props.handleChange(state.cat3, input4.code);\n    } else if (props.category) {\n      if (state.cat1 && state.cat2 && state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat4) {\n      return props.handleChange(state.cat4, input5?.code);\n    }\n  };\n\n  useEffect(() => {\n    if (!state.categories.length) {\n      getCategories();\n    }\n\n    handleReturn();\n  }, [state]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (state.categories.length && props.category) {\n      getCategory(props.category);\n    }\n  }, [state.categories, props.category]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div>\n      <Input\n        text=\"Seleccione una categoria principal\"\n        options={state.categories}\n        value={state.cat1}\n        load={state.load}\n        handleChange={(val) => {\n          handleCodeName(state.categories, val);\n          setState({ ...state, cat1: val, cat2: 0, cat3: 0, cat4: 0 });\n        }}\n      />\n\n      {Boolean(state.cat1) && Boolean(input2?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input2.name}`}\n          options={input2.sons}\n          value={state.cat2}\n          handleChange={(val) => {\n            handleCodeName(input2.sons, val);\n            setState({ ...state, cat2: val, cat3: 0, cat4: 0 });\n          }}\n        />\n      )}\n\n      {Boolean(state.cat2) && Boolean(input3?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input3.name}`}\n          options={input3.sons}\n          value={state.cat3}\n          handleChange={(val) => {\n            handleCodeName(input3.sons, val);\n            setState({ ...state, cat3: val, cat4: 0 });\n          }}\n        />\n      )}\n\n      {Boolean(state.cat2) && Boolean(input4?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input4.name}`}\n          options={input4.sons}\n          value={state.cat4}\n          handleChange={(val) => {\n            handleCodeName(input4.sons, val);\n            setState({ ...state, cat4: val });\n          }}\n        />\n      )}\n    </div>\n  );\n}\n","import {api, setUrl} from '../utils/url';\n\n\n\nexport default function useProducts(){\n    \n    //Funciones\n    const getProducts = async (searchBy)=> {\n        const url = setUrl('store', null, {search: searchBy});\n        return await api(url);\n    }\n\n\n    const getProductById = async (id)=>{\n        const url = setUrl('store', id);\n        return await api(url);\n    }\n\n    const getProductByCode = async(code, id) =>{\n        const url = setUrl('store', null, {code, id})\n        return await api(url);\n    }\n\n\n    const saveProduct = async(data)=>{\n        const {id} = data;\n        const url = setUrl('store');\n\n        if(id){\n            //PUT\n            return await api(url, 'PUT', data);\n        }else{\n            return await api(url, 'POST', data);\n        }\n    }\n\n    return {\n        getProducts, \n        getProductById,\n        getProductByCode,\n        saveProduct,\n    };\n}\n","import { useEffect, useState } from \"react\";\nimport useProducts from \"../../hooks/useProducts\";\n\nexport default function Code(props) {\n\n  const hookProducts = useProducts();\n  const [state, setState] = useState({\n    codeMessage:'', \n    codeStatus:'empty',\n    rendered: false\n  });\n\n  useEffect(()=>{    \n    if(!props.code.length){\n      setState({\n        ...state,\n        codeMessage:'Cdigo vacio',\n        codeStatus:'empty'\n      });\n    }else{\n      if(state.rendered){\n        return null;\n      }else{\n        validCode();        \n      }     \n    }\n  },[props.code]);// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  useEffect(()=>{\n    props.onChangeStatusCode(state.codeStatus);\n  },[state.codeStatus]);// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const validCode = ()=>{   \n    setState({\n      ...state,\n      codeMessage:'Validando cdigo . . .',\n      codeStatus:'validating'\n    });\n    hookProducts.getProductByCode(props.code, props.id)\n    .then((data)=>{      \n      if(data.data.length){   \n        setState({\n          ...state,\n          codeMessage:'Cdigo ya en uso',\n          codeStatus:'inUse',\n          rendered:true,\n        });             \n      }else{\n        setState({\n          ...state,\n          codeMessage:'Cdigo disponible',\n          codeStatus:'available',\n          rendered:true,\n        });\n      }\n    })\n    .catch((error) => console.log(error));\n  };\n\n  return (\n    <div className=\"input-group mb-3\">\n      <div className=\"input-group-prepend\">\n        <span\n          className={\n            state.codeStatus === 'empty' || state.codeStatus === 'inUse' ? \"input-group-text bg-warning\" :  \"input-group-text bg-primary\"\n          }\n        >\n          <i className=\"fas fa-code\"></i>\n        </span>\n      </div>\n      <input\n        type=\"text\"\n        className=\"form-control text-uppercase\"\n        placeholder=\"Codigo\"\n        name=\"code\"\n        defaultValue={props.code}\n\n        onChange={({target}) => {\n          const {value} = target;\n          props.onChangeProductCode(value);\n        }}\n\n        onBlur = {()=>{\n          if(props.type === 'lentes'){\n            validCode();\n          }else{\n            validCode();\n            props.createName();\n          }                \n        }}\n\n        autoComplete=\"off\"\n        maxLength=\"18\"\n      />\n      <span className=\"text-muted text-xs d-block w-100\">\n          {state.codeMessage}\n        </span>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useContext } from \"react\";\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\nexport default function BranchesSelect({ branch_default , showIcon = true, setBranchId }) {\n  \n  const configContext = useContext(ConfigContext);\n  const listBranches = configContext.data.filter((c) => c.name === \"branches\");\n  \n  return (\n    <div className=\"input-group mb-3\">\n      {showIcon && (\n        <div className=\"input-group-prepend\">\n          <span className=\"input-group-text bg-primary\">\n            <i className=\"fas fa-store-alt\"></i>\n          </span>\n        </div>\n      )}\n      <select\n        className=\"custom-select text-uppercase\"\n        name=\"branch_id\"\n        value={branch_default}\n        onChange={({ target }) => setBranchId(target)}\n      >\n        <option value=\"0\">-- Ninguna --</option> \n        {listBranches.map((branch)=>(\n           <option value={branch.id} key={branch.id}>\n           {branch.data.name}\n         </option> \n        ))}       \n      </select>\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\n//Hooks\nimport useStore from \"../../../hooks/useStore\";\n\nexport default function BranchesFormInputs({ inBranch, branchID, storeItemID }) {\n\n  const hookStore = useStore();\n\n  const [data, setData] = useState({\n    id: 0,\n    cant:0,\n    price: 1,\n    store_item_id: 0,\n    branch_id:0,\n    readyToSave: false,\n  });\n\n  const handleChangeInput = ({ name, value }) => {\n    let readyToSave = false;\n    if (name === \"cant\") {\n      value = parseInt(value);\n    } else {\n      value = parseFloat(value);\n    }\n\n    if (inBranch[name] !== value) {\n      readyToSave = true;\n    }\n    setData({\n      ...data,\n      readyToSave,\n      [name]: value,\n    });\n  };\n\n  const handleSaveInBranch = () => {\n    hookStore.saveQantityandPrice(data).then((data)=>{\n      if(data){\n      }else{\n        console.error(\"Error al guardar la informacion\");\n      }\n    });\n    setData({\n      ...data,\n      readyToSave: false,\n    });\n  };\n\n  useEffect(()=>{\n    setData({\n      id: inBranch.id ? inBranch.id : 0,\n      cant: inBranch.cant ? inBranch.cant : 0,\n      price: inBranch.price ? inBranch.price : 0,\n      readyToSave: false,\n      store_item_id: storeItemID,\n      branch_id: branchID,\n    });\n  }, [inBranch])// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col\">\n          <small>\n            <label>Cantidad en existencia</label>\n          </small>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text bg-primary\">\n                <i className=\"fas fa-database\"></i>\n              </span>\n            </div>\n            <input\n              type=\"number\"\n              className=\"form-control text-right\"\n              placeholder=\"Cantidades en existencia\"\n              name=\"cant\"\n              onChange={({ target }) => handleChangeInput(target)}\n              value={data.cant}\n              min={0}\n            />\n          </div>\n        </div>\n        <div className=\"col\">\n          <small>\n            <label>Precio</label>\n          </small>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text bg-primary\">\n                <i className=\"fas fa-money-bill\"></i>\n              </span>\n            </div>\n            <input\n              type=\"number\"\n              className=\"form-control text-right\"\n              placeholder=\"Precio\"\n              name=\"price\"\n              onChange={({ target }) => handleChangeInput(target)}\n              value={data.price}\n              min={0}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col text-right\">\n          <button\n            className={\n              !data.readyToSave ? \"btn btn-secondary\" : \"btn btn-success\"\n            }\n            type=\"button\"\n            onClick={handleSaveInBranch}\n            disabled={!data.readyToSave}\n          >\n            <i className=\"fas fa-save mr-1\"></i> Guardar\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useContext } from \"react\";\n\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\n//Components\nimport BranchesFormInputs from \"./BranchesFormInputs\";\n\nexport default function BranchesForm({ branches, storeItemID, defaultBranch }) {\n\n  const configContext = useContext(ConfigContext);\n  const configBranches = configContext.data.filter((c)=>c.name === 'branches');\n\n  return (\n    <form>\n\n      {defaultBranch === 0 ? \n        configBranches.map((branch) => {\n          const currentBranch = branches.filter((i)=> i.branch_id === branch.id )          \n          return (\n            <div className=\"card\" key={branch.id}>\n              <div className=\"card-header\">\n                <h5 className=\"card-title text-primary text-capitalize\">\n                  <i className=\"fas fa-store-alt mr-1\"></i> {branch.data.name}\n                </h5>\n              </div>\n              <div className=\"card-body\">\n              <BranchesFormInputs\n                inBranch={currentBranch[0] ?? {}}\n                branchID = {branch.id}\n                storeItemID = {storeItemID}\n              />\n              </div>\n            </div>\n          );\n        })      \n      :\n        configBranches.map((branch) => {\n          \n          const currentBranch = branches.filter((i)=> i.branch_id === branch.id );          \n\n          if(branch.id === defaultBranch){\n            return (\n              <div className=\"card\" key={branch.id}>\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-primary text-capitalize\">\n                    <i className=\"fas fa-store-alt mr-1\"></i> {branch.data.name}\n                  </h5>\n                </div>\n                <div className=\"card-body\">\n                <BranchesFormInputs\n                  inBranch={currentBranch[0] ?? {}}\n                  branchID = {branch.id}\n                  storeItemID = {storeItemID}\n                />\n                </div>\n              </div>\n            )\n          }else{ return null}\n        }         \n        )\n      }\n    </form>\n  );\n}","import { useEffect, useState, useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\n//Context\nimport { StoreContext } from \"../../context/StoreContext\";\n\n//Hooks\nimport useStore from \"../../hooks/useStore\";\n\n//Helper\nimport helper from \"../Store/helpers\";\n\n// Components\nimport CategoryInput from \"./Categories\";\nimport Suppliers from \"./Suppliers\";\nimport Brands from \"./Brands\";\nimport Code from \"./Code\";\nimport Activitys from \"../Activitys\";\nimport BranchesSelect from \"../../components/Store/views/BranchesSelect\";\nimport BranchesForm from \"../../components/Store/views/BranchesForm\";\n\nconst initialState = {\n  id: 0,\n  code: \"\",\n  codebar: \"\",\n  grad: \"\",\n  brand_id: 0,\n  name: \"\",\n  unit: \"PZ\",\n  cant: 1,\n  price: 1,\n  supplier_id: 0,\n  category_id: 0,\n  branch_default: 0,\n  data: {\n    category: '',\n    categories: [],\n    branches: [],\n    codes: [],\n    category_code: [],\n    activity: [],\n    codenames: [],\n    brandname : '',\n  },\n  codeStatus:'empty',\n  loading: false,\n  readyToSave: false\n};\n\nexport default function Add(props) {\n  const storeContext = useContext(StoreContext);\n  const { id } = props.match.params;\n  const [state, setState] = useState(initialState);\n  const _store = useStore();\n  const { code, loading: LOADING } = state;\n  const history = useHistory();\n\n  \n\n  // Functions\n  const saveProduct = () => {\n    const dataSend = {\n      ...state,\n    }\n\n    if(!dataSend.brand_id){\n      delete dataSend.brand_id\n    }\n\n    if(!dataSend.supplier_id){\n      delete dataSend.supplier_id\n    }\n\n\n    _store.saveItem(dataSend)\n    .then((data)=>{\n      if(data){           \n        const {id} = data.data;        \n        window.Swal.fire({\n          title: \"Productos\",\n          text: \"Producto guardado correctamente\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timerProgressBar: true,          \n          showLoaderOnConfirm: true,\n          timer: 3000,          \n        }).then(() => {\n          history.push(`/almacen/${id}`);          \n        });\n      }\n    })\n    .catch((error)=>{      \n      window.Swal.fire({\n        title: \"Error al guardar el producto\",\n        text: error.errors.name[0],\n        icon: \"info\",\n        showCancelButton: false,\n        confirmButtonColor: \"#007bff\",\n        confirmButtonText: \"Cambiar nombre\",\n        cancelButtonText: \"Cancelar\",\n        showLoaderOnConfirm: true,  \n      });      \n    });\n    }\n\n\n  const getItem = () => {\n    _store.getItem(id).then((res) => {      \n      setState({\n        ...state,\n        id: res.id ? res.id : 0,\n        name: res.name ? res.name : \"\",\n        category_id: res.category?.id,\n        supplier_id: res.supplier?.id,\n        brand_id: res.brand?.id,\n        branch_default: res.branch_default ?? 0,\n        code: res.code ? res.code : \"\",\n        codebar: res.barcode ? res.barcode : \"\",\n        data: {\n          ...state.data,\n          category: res.category ? res.category : [],\n          inBranches: res.inBranches ? res.inBranches : \"\",\n          branches: res.branches ? res.branches : [],\n          activity: res.activity ? res.activity : [],\n        },\n        loading: false,\n      });\n    });\n  };\n\n  let readyToSave = false;\n  \n  if(state.data.codenames[0] === 'lentes'){    \n    if(state.category_id && state.code && state.codeStatus === 'available' && state.name.length){\n      readyToSave = true\n    }else{      \n      readyToSave=false      \n    }\n  }else{    \n    if(state.category_id && state.supplier_id && state.brand_id && state.code && state.codeStatus === 'available' && state.name.length){\n      readyToSave= true      \n    }else{\n      readyToSave= false;      \n    }\n  }\n\n  useEffect(() => {\n    if (id) {\n      getItem();\n    }\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\n\n\n  const getNameCodeDefault = (id, brandName) => {\n    const { code: currentCode, grad} = state;\n    const {codenames} = state.data;\n\n    // Make name\n    if (codenames[0] !== 'lentes') {            \n      // To other categories\n      const type = codenames[0] !== null ? codenames[0].trim().replace(/\\s/gim, \"\").slice(0, 7) : \"\";    \n\n      const name = helper.handleCodeString( type === \"varios\" ? \"\" : type, codenames[1], brandName, currentCode)      \n\n      setState({\n        ...state,\n        brand_id: id,\n        name: name,\n        data:{\n          ...state.data,\n          brandname: brandName\n        }   \n\n      });\n\n    } else {            \n      const name = helper.handleNameLent(\n        grad,\n        codenames[1],\n        codenames[2],\n        codenames[3]\n      );\n\n      const code = helper.handleCodeLent(\n        grad,\n        codenames[1],\n        codenames[2],\n        codenames[3]\n      );\n\n      if(!state.grad){\n        setState({\n          ...state,\n          name: name,          \n        });\n      }else{\n        setState({\n          ...state,\n          name: name,\n          code:code\n        });\n      }\n      \n      \n\n    } \n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title text-primary text-bold\">\n              <i className=\"fas fa-database mr-1\"></i>\n              {id ? `Editar producto (${code})` : \"Registrar nuevo producto\"}\n            </h3>\n          </div>\n          <form className=\"card-body\" autoComplete=\"off\">\n            <div className=\"row\">\n              <div className=\"col\">\n                <fieldset>\n                  <small className=\"mr-2\">\n                    <label>Categoria</label>\n                  </small>\n\n                  <CategoryInput\n                    category={state.category_id}                  \n                    handleChange={(id, code, name) => {                      \n                      setState({\n                        ...state,\n                        category_id: id,\n                        data: {\n                          ...state.data,                          \n                          category_code: code,                          \n                        },\n                      });\n                    }}\n                    handleSetCatName={(codenames) => {                      \n                      setState({\n                        ...state,\n                        data: {\n                          ...state.data,\n                          codenames,\n                        },\n                        loading: false,\n                      });\n                    }}                    \n                  />\n                </fieldset>\n              </div>\n            </div>\n\n            {Boolean(state.data.category_code.length) &&\n              !state.data.category_code.includes(\"1\") && (\n                <Suppliers\n                  supplier={state.supplier_id}\n                  handleChangeSupplier={(id) => {\n                    setState({\n                      ...state,\n                      supplier_id: id,\n                      brand_id: 0,\n                    });\n                  }}\n                />\n              )}\n\n            {Boolean(state.supplier_id) && (\n              <Brands\n                brand={state.brand_id}\n                supplier={state.supplier_id}\n                textSelect=\"Selecione la marca\"\n                handleChangeBrand={(id, brandName) => {    \n                  setState({\n                    ...state,\n                    brand_id:id,\n                    data:{\n                      ...state.data,\n                      brandname: brandName,\n                    }                                          \n                  })                                    \n                  //getNameCodeDefault(id, brandName);\n                }}\n              />\n            )}\n\n            {state.category_id ? (\n              <>\n                <div className=\"row\">\n                  {state.data.category_code.includes(\"1\") && (\n                    <div className=\"col-3\">\n                      <small>\n                        <label>Graduacion</label>\n                      </small>\n                      <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                          <span className=\"input-group-text bg-primary\">\n                            <i className=\"fas fa-glasses\"></i>\n                          </span>\n                        </div>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          placeholder=\"+100100\"\n                          defaultValue={state.grad}\n                          onChange={({ target }) =>\n                            setState({ ...state, grad: target.value })\n                          }\n                          onBlur={()=>{\n                            getNameCodeDefault()                            \n                          }}\n                          maxLength=\"7\"\n                          autoComplete=\"off\"\n                        />\n                      </div>\n                    </div>\n                  )}\n                  <div className=\"col\">\n                    {state.unit ? (\n                      <small>\n                        <label>Unidad de presentacion</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span\n                          className={\n                            state.unit\n                              ? \"input-group-text bg-primary\"\n                              : \"input-group-text bg-warning\"\n                          }\n                        >\n                          <i className=\"fas fa-balance-scale\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Unidad de presentacin\"\n                        defaultValue={state.unit}\n                        onChange={({ target }) =>\n                          setState({ ...state, unit: target.value })\n                        }\n                        maxLength=\"4\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">\n                    {state.code ? (\n                      <small>\n                        <label>Codigo</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n\n                    <Code\n                      code={state.code}\n                      id={state.id}   \n                      type={state.data.codenames[0]}   \n                      createName={()=>getNameCodeDefault(state.brand_id, state.data.brandname)}                \n                      onChangeStatusCode = {(status)=>{\n                        setState({\n                          ...state,\n                          codeStatus: status            \n                        })\n                      }}      \n                      onChangeProductCode={(codeReceibed) => {                        \n                        setState({\n                          ...state,\n                          code: codeReceibed,\n                        });\n                      }}                                                             \n                    />\n                  </div>\n                  <div className=\"col\">\n                    <small>\n                      <label>Codigo de barras</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-primary\">\n                          <i className=\"fas fa-barcode\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Codigo de barras\"\n                        name=\"codebar\"\n                        defaultValue={state.codebar}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            codebar: target.value,\n                          });\n                        }}\n                        autoComplete=\"off\"\n                        maxLength=\"100\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col\">\n                    {state.name ? (\n                      <small>\n                        <label>Nombre del producto</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span\n                          className={\n                            state.name\n                              ? \"input-group-text bg-primary\"\n                              : \"input-group-text bg-warning\"\n                          }\n                        >\n                          <i className=\"fas fa-archive\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control text-uppercase\"\n                        placeholder=\"Nombre\"\n                        name=\"name\"\n                        defaultValue={state.name}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            name: target.value,\n                          });\n                        }}\n                        maxLength=\"149\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <div className=\"row\">\n                <div className=\"col\">\n                  <h6 className=\"text-warning\">\n                    Seleccione primero una categora.\n                  </h6>\n                </div>\n              </div>\n            )}\n          </form>\n          <div className=\"card-footer text-right\">\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <div className=\"btn-group\" role=\"group\">\n                  <Link\n                    to=\"/almacen\"\n                    className=\"btn btn-default\"\n                    onClick={() => {\n                      storeContext.set({\n                        ...storeContext,\n                        panel: \"inbox\",\n                      });\n                    }}\n                  >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                    {id ? \"Cerrar\" : \"Cancelar\"}\n                  </Link>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      saveProduct();\n                    }}\n                    className={\"btn btn-primary\"} \n                    disabled={!readyToSave}                   \n                    /* disabled={state.data.codenames[0] === \"lentes\" ? readyToSave : !readyToSave} */\n                  >\n                    <i className=\"fas fa-save mr-1\"></i>\n                    Guardar\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          {LOADING && (\n            <div className=\"overlay dark\">\n              <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n            </div>\n          )}\n        </div>\n      </div>\n      {id ? (\n        <div className=\"col\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <div className=\"card card-primary card-outline\">\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-primary\">\n                    Sucursal por defecto\n                  </h5>\n                </div>\n                <div className=\"card-body\">\n                  <BranchesSelect\n                    branch_default={state.branch_default}\n                    showIcon={false}\n                    setBranchId={(target) => {\n                      const { value } = target;\n                      setState({\n                        ...state,\n                        branch_default: parseInt(value),\n                      });\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col\">\n              <BranchesForm\n                branches={state.data.branches}\n                storeItemID={state.id}\n                defaultBranch={state.branch_default}\n              />\n            </div>\n          </div>\n        </div>\n      ) : null}\n\n      {state.data.activity.length ? (\n        <div className=\"col-lg-12\">\n          <Activitys data={state.data.activity} />\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React, { useEffect, useState, useContext } from \"react\";\nimport useCategory from \"../../../hooks/useCategory\";\nimport { StoreContext } from \"../../../context/StoreContext\";\n\n\nexport default function CategoryListComponent(props){\n\n  const hookCategory = useCategory();\n  \n  const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\n  const storeContext = useContext(StoreContext);\n\n  const [state, setState] = useState({\n    id: 0,\n    meta: {},\n    dd: false,\n    name: \"\",\n    category_raiz: [],\n    category_id: props.category,\n    page: 1,\n    host: ls.host,\n    token: ls.token,\n    load: false,\n  });\n\n  const { category_raiz, category_id, name, add } = state, { loading: load } = props;\n\n  useEffect(()=>{\n\n    const { categoryData = [] } = props;\n\n    if (categoryData) {\n      setState({\n        ...state, \n        category_raiz: categoryData,\n      });\n    }\n  },[props])// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const handleClickAdd = () => {\n    setState({\n      ...state,\n      add: !state.add,\n      name: \"\",\n    });\n  };\n\n  const handleSelectCategory = (cat) => {\n\n    const { last, categorySelect: _categorySelect } = props, { category_raiz } = state;\n\n    if (last) return false;\n    if (!cat.sons || (cat.sons && !cat.sons.length)) return false;\n\n    _categorySelect({\n      category_id: cat.id,\n      category_data: category_raiz,\n    });\n\n    setState({\n      ...state, \n      category_id: cat.id,\n    });\n  };\n\n  const handleClickDelete = (id, name) => {\n    if (id) {\n      //const { _delete } = this.props;\n      /* const item = { id }, options = { categoryid: \"raiz\" },\n      text =\n      \"Esta seguro de eliminar la categoria: \" + name.toUpperCase() + \"?\"; */\n\n      //Ejecutar hook para eliminar la categoria\n      hookCategory.deleteCategory(id).then((data)=>{\n        if(data){\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Categoria eliminada correctamente',\n            icon: \"success\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              storeContext.set({\n                ...storeContext,\n                panel:\"inbox\",\n              })\n            }\n          });\n        }else{\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Error al eliminar la categoria',\n            icon: \"error\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          })\n        }\n      })\n      //helper.handleDeleteItem(item, options, _delete, text);\n    }\n  };\n\n\n const catchInputs = (e) => {\n    const { name, value } = e.target;\n    setState({\n      ...state, \n      [name]: value.toLowerCase(),\n    });\n  };\n\n\n  const handleClickSave = () => {\n    //Verificamos campos validos\n    if (state.name.length < 4) {\n      window.Swal.fire(\n        \"Verificacin\",\n        \"Debe de escribir el nombre de la categoria\",\n        \"warning\"\n      );\n      //this.nameInput.focus();\n      return false;\n    }\n\n    const { category_id, name } = state;\n    const data = { name, category_id: category_id};\n    //const { _save } = this.props;\n    \n    //const options = { categoryid: \"raiz\" };\n\n   /*  const text = id\n        ? \"Esta seguro de actualizar la categoria?\"\n        : \"Esta seguro de crear una nueva categoria?\",\n      _close = () => {\n        setState({\n          ...state,\n          name: \"\",\n          category_id: 0,\n          add: false,\n        });\n      };\n */\n\n      hookCategory.saveCategory(data).then((data)=>{\n        if(data){\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Categoria guardada correctamente',\n            icon: \"success\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              storeContext.set({\n                ...storeContext,\n                panel:\"inbox\",\n              })\n            }\n          });\n        }else{\n          window.Swal.fire(\n            \"Categorias\",\n            \"Error al guardar la categoria\",\n            \"error\"\n          );\n        }\n      });\n\n      \n\n\n    //helper.handleSaveItem(id, data, options, _save, _close, text);\n  };\n\n\n\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-body\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>Nombre</th>\n              <th style={{ width: 48 }}></th>\n            </tr>\n          </thead>\n          <tbody>\n            {category_raiz.length ? (\n              <React.Fragment>\n                {category_raiz.map((cat) => {                  \n                  return (\n                    <tr key={cat.id}>\n                      <td className=\"text-capitalize\">\n                        <a\n                          href={\"#select!\" + cat.id}\n                          onClick={(e) => {\n                            e.preventDefault();\n                            handleSelectCategory(cat);\n                          }}\n                          className={\n                            cat.sons && cat.sons.length\n                              ? \"text-primary\"\n                              : \"text-dark\"\n                          }\n                        >\n                          {cat.name}\n                        </a>\n                      </td>\n                      <td className=\"btn-group\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-default\"\n                          disabled={true}\n                          title=\"Proximamente\"\n                        >\n                          <i className=\"fas fa-edit\"></i>\n                        </button>\n                        <button\n                          type=\"button\"\n                          title=\"Eliminar\"\n                          className={\n                            cat.hijos && cat.hijos.length\n                              ? \"btn btn-outline-secondary btn-sm\"\n                              : \"btn btn-outline-danger btn-sm\"\n                          }\n                          onClick={(e) => {\n                            handleClickDelete(cat.id, cat.name);\n                          }}\n                          disabled={cat.hijos && cat.hijos.length}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </React.Fragment>\n            ) : (\n              <tr>\n                <td colSpan=\"8\" className=\"text-center\">\n                  <span className=\"mr-3\">Cargando categorias </span>\n                  <div className=\"spinner-border text-primary\" role=\"status\">\n                    <span className=\"sr-only\">Cargando ...</span>\n                  </div>\n                </td>\n              </tr>\n            )}\n          </tbody>\n          {add && !load ? (\n            <tfoot>\n              <tr>\n                <td>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    className=\"form-control text-uppercase\"\n                    autoComplete=\"off\"\n                    value={name}\n                    onChange={catchInputs}\n                    ref={(input) => {\n                      //this.nameInput = input;\n                    }}\n                  />\n                </td>\n                <td>\n                  <button\n                    className=\"btn btn-dark btn-sm\"\n                    onClick={handleClickSave}\n                    disabled={name.length < 3}\n                    title=\"Guardar categoria\"\n                  >\n                    <i className=\"fas fa-save\"></i>\n                  </button>\n                </td>\n              </tr>\n            </tfoot>\n          ) : null}\n        </table>\n      </div>\n      <div className=\"card-footer text-right\">\n        <button\n          className={\n            add\n              ? \"btn btn-secondary btn-sm text-bold\"\n              : \"btn btn-primary btn-sm\"\n          }\n          onClick={handleClickAdd}\n          disabled={!category_id}\n          title={add ? \"Cancelar\" : \"Crear nueva categoria\"}\n        >\n          {add ? (\n            <>\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </>\n          ) : (\n            <>\n              <i className=\"fas fa-plus mr-1\"></i>\n              Agregar\n            </>\n          )}\n        </button>\n      </div>\n    </div>\n  );\n}\n\n","import React, { useState, useEffect } from \"react\";\n//Components\nimport Catalogo from \"../components/Store/data/Category_list\";\nimport useCategory from \"../hooks/useCategory\";\n\nexport default function CategoriesStoreComponent(){\n\n  const hookCategory = useCategory();\n\n  const [state, setState] = useState({\n    category_id: 0,\n    category_data: [],\n  })\n\n  const { category_id, category_data } = state;\n  \n  let category_view_sons = category_data, category_current = {};\n  \n  if (category_id) {\n    const category_cache = category_data.filter(\n      (cat) => cat.id === category_id\n    );\n\n    if (category_cache.length) {\n      category_current = category_cache[0];\n      if (category_current && category_current.sons) {\n        category_view_sons = category_current.sons;\n      }\n    }\n  }\n\n  const handleLoadCategories = () => {\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data){\n        setState({\n          ...state,\n          category_data: data.data,\n        })\n      }else{\n        console.error(\"Error al obtener la lista de categorias\");\n      }\n    })\n  };\n\n  const handleChangeState = (data) => {\n    setState(data);\n  };\n\n\n  const handleClickParent = (e) => {\n    if (e) e.preventDefault();\n\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data){\n        setState({\n          category_data: data.data,\n          category_id: null,\n        });\n      }else{\n        console.error(\"Error al obtener la lista de categorias\");\n      }\n    })\n  };\n\n  useEffect(()=>{\n    handleLoadCategories();\n  },[]);// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  return (\n    <div className=\"row\" style={{minHeight:'100vh'}}>\n      <div className=\"col-8\">\n        <nav>\n          <ol className=\"breadcrumb\">\n            { state.category_id ? (\n              <>\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                  <a href=\"#link\" onClick={handleClickParent}>\n                    Raiz\n                  </a>\n                </li>\n                {category_current.id ? (\n                  <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                    {category_current.name}\n                  </li>\n                ) : null}\n              </>\n            ) : (\n              <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                Seleccione una categoria para ver su contenido\n              </li>\n            )}\n          </ol>\n        </nav>\n        <Catalogo\n          category={category_id}\n          categoryData={category_view_sons ?? []}\n          categorySelect={handleChangeState}\n        />\n      </div>\n    </div>\n  );\n}\n\n\n","export default function BrandsList({\n  brands,\n  handleEdit = null,\n  handleDelete = null,\n}) {\n  return (\n    <ul className=\"card-text list-group\">\n      {!brands.length ? (\n        <li className=\"list-group-item\">  \n          <p className=\"text-danger\">\n            <i className=\"fas fa-info-circle mr-1\"></i>\n            No exiten marcas para este proveedor!\n          </p>\n        </li>\n      ) : (\n        brands.map((brand) => {\n          return (\n            <li\n              className=\"list-group-item d-flex justify-content-between align-items-center\"\n              key={brand.id}\n            >\n              <span className=\"text-dark text-uppercase text-truncate\">\n                <i className=\"fas fa-thumbtack mr-1\"></i>\n                {brand.name}\n              </span>\n              \n              <div>\n                {handleEdit && (\n                  <span\n                    className=\"badge badge-dark badge-pill py-1 mr-2\"\n                    style={{ cursor: \"pointer\" }}\n                    title=\"Editar\"\n                    onClick={() => handleEdit(brand)}\n                  >\n                    <i className=\"fas fa-edit\"></i>\n                  </span>\n                )}\n\n                {handleDelete && (\n                  <span\n                    className=\"badge badge-danger badge-pill py-1\"\n                    style={{ cursor: \"pointer\" }}\n                    title=\"Eliminar\"\n                    onClick={() => handleDelete(brand)}\n                  >\n                    <i className=\"fas fa-trash\"></i>\n                  </span>\n                )}\n              </div>\n            </li>\n          );\n        })\n      )}\n    </ul>\n  );\n}\n","import React, {useState, useEffect, useContext } from \"react\";\nimport useStore from \"../hooks/useStore\";\nimport { StoreContext } from \"../context/StoreContext\";\n\n//Components\nimport Suppliers from \"../components/Store/Suppliers\";\nimport BrandsList from \"../components/Store/data/BrandsList\";\n\n\nexport default function BrandsComponent(){\n\n  const storeHook = useStore();\n\n  const storeContext = useContext(StoreContext);\n\n  const [state, setState] = useState({\n    id: null,\n    supplier: 0,\n    brands: [],\n    name: \"\",\n    loading: false,\n  });\n\n  useEffect(()=>{\n    getBrands();\n  },[state.supplier]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const getBrands = () => {\n    const { supplier } = state;\n    if (supplier) {\n      storeHook.getBrands({supplier, order: \"name\"}).then((data)=>{ \n        if(data){\n          setState({\n            ...state,\n            brands: data.data,\n          })\n        }else{\n          console.error(\"Error al obtener la lista de marcas\");\n        }\n      })\n    }\n  };\n\n  const handleCancelBtn = () => {\n    setState({\n      ...state, \n      name: \"\",\n      id: null,\n    });\n  };\n\n  const saveBrand = (e) => {\n    e.preventDefault();\n    const {  name, supplier } = state, data = { name, contact_id: supplier};\n\n    if (name.length < 3) {\n      window.Swal.fire(\n        \"Error\",\n        \"El nombre de la marca debe de tener por lo menos 3 caracteres\",\n        \"error\"\n      );\n      return false;\n    } else if (!supplier) {\n      window.Swal.fire(\n        \"Error\",\n        \"Debe de elegir a un proveedor primero\",\n        \"error\"\n      );\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"Esta seguro de CREAR un nuevo producto?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        storeHook.saveBrand(data).then((data)=>{\n          if(data){\n            window.Swal.fire({\n              title: \"Almacenamiento\",\n              text: \"Producto almacenado correctamente\",\n              icon:'success',\n              showCancelButton: false,\n              confirmButtonColor: \"#007bff\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n            })\n          }\n          else{\n            console.error(\"Error al guardar la data enviada\");\n          }\n        })\n\n        storeContext.set({\n          ...storeContext,\n          panel: 'inbox',\n        })\n\n        setState({\n          ...state, \n          name: \"\",\n          id: null,\n        });\n      }\n    });\n  };\n\n  const prevEdit = (brand) => {\n    setState({\n      ...state, \n      name: brand.nombre,\n      id: brand.id,\n    });\n  };\n\n  const deleteBrand = (id, item) => {\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"Esta seguro de eliminar la marca \" + item.toUpperCase() + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        storeHook.deleteBrand(id).then((data)=>{\n          if(data === true){\n            window.Swal.fire({\n              title:'Marcas',\n              text:'Marca eliminada correctamente',\n              icon:'success',\n              showCancelButton: false,\n              confirmButtonColor: \"#007bff\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n\n            })\n          }\n          else{\n            window.Swal.fire({\n              title:'Marcas',\n              text:'Error al eliminar la marca',\n              icon:'error',\n              showCancelButton: false,\n              confirmButtonColor: \"#d33\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n\n            })\n          }\n        })\n        storeContext.set({\n          ...storeContext,\n          panel: 'inbox',\n        })\n      }\n    });\n  };\n  \n  const changeInput = ({ name, value }) => {\n    setState({\n      ...state, \n      [name]: value.toLowerCase(),\n    });\n  };\n\n  const { id, supplier, name } = state;\n\n  const { loading } = state;\n\n  return (\n    <div className=\"row\" style={{minHeight:'100vh'}}>\n      <div className = {supplier ? \"col-lg-6\" : \"col-lg-12\"}>\n        <div className=\"card card-primary card-outline\">\n          <h5 className=\"card-title mt-2 ml-2 text-bold\">\n            Marcas para productos\n          </h5>\n          <div className=\"card-body\">\n            <Suppliers\n              supplier={supplier}\n              handleChangeSupplier={(id) => {\n                setState({\n                  ...state, \n                  supplier: id,\n                  brands: id ? state.brands : [],\n                });\n              }}\n            />\n            {!state.brands.length && (\n              <p className=\"card-text\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Para iniciar, primero seleccione a un proveedor\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {supplier ? (\n        <div className=\"col\">\n          <div className=\"card card-primary card-outline\">\n            <div className=\"card-body\">\n              <h5 className=\"card-title text-dark mb-4 text-bold\">\n                Listado de marcas\n              </h5>\n              <BrandsList\n                brands={state.brands}\n                handleEdit={(brand) => prevEdit(brand)}\n                handleDelete={(brand) => {\n                  deleteBrand(brand.id, brand.name);\n                }}\n              />\n            </div>\n            <div className=\"card-footer\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control mr-1\"\n                  name=\"name\"\n                  value={name}\n                  onChange={({ target }) => changeInput(target)}\n                />\n                <div className=\"btn-group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-default\"\n                    disabled={!name}\n                    onClick={handleCancelBtn}\n                  >\n                    <i className=\"fas fa-eraser\"></i>\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={id ? \"btn btn-success\" : \"btn btn-primary\"}\n                    onClick={saveBrand}\n                    disabled={!name}\n                  >\n                    <i className=\"fas fa-save\"></i>\n                  </button>\n                </div>\n              </div>\n            </div>\n            {loading ? (\n              <div className=\"overlay dark\">\n                <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\n\n","import { useState } from \"react\";\nimport useStore from \"../../../hooks/useStore\";\n\nfunction SetQantityModal({item, handleClose, handleUpdateItems}) {\n\n  const [cantidad, setCantidad] = useState(0);\n  const hookStore = useStore();\n\n  const saveQantity = ()=>{\n\n    const data = {\n      product_id: item.id,\n      //branch_default: state.item.branch_default,\n      cant: cantidad,\n    };\n\n    hookStore.saveQantity(data).then((data)=>{\n      if(data){\n        handleClose(data.data);\n      }\n      else{\n        console.error(\"Error al guardar la cantidad\");\n      }\n    })\n  };\n\n    return (\n        <div className=\"modal d-block\" tabIndex=\"-1\">\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">Asignar Cantidad</h5>\n              <button type=\"button\" className=\"close\" onClick={handleClose}>\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n  \n            <div className=\"modal-body p-2\">\n                <h5 className=\"text-center mt-2 mb-3\"><span class=\"badge badge-info\">{item.name.toUpperCase()}</span></h5>\n                <h6 className=\"text-center font-weight-bold\">Cantidad actual: <span className=\"font-weight-normal\">{item.cant}</span></h6>\n                <div className=\"\">\n                    <label>Cantidad</label>\n                    <input \n                        name = \"price\" \n                        type=\"number\" \n                        defaultValue={0} \n                        className=\"form-control\" \n                        placeholder=\"Cantidad\" \n                        onChange={(e)=>setCantidad(e.target.value)}                        \n                    />\n                </div>                        \n            </div>\n  \n            <div className=\"modal-footer\">\n             <button type=\"button\" className=\"btn btn-default\" onClick={handleClose}>\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n              </button>\n  \n              <button type=\"button\" className=\"btn btn-success\" disabled = { cantidad <= 0 || cantidad === '0' || !cantidad ? true : false} onClick={saveQantity}>\n                Asignar\n              </button>\n            </div>\n  \n          </div>\n        </div>\n      </div>\n    );\n  }\n  \n  export default SetQantityModal;\n  \n\n\n\n ","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SetQantityModal from \"./SetQantityModal\";\n\nexport default function InventoryTableView({ header, body, itemsProp }) {\n  const [state, setState] = useState({\n    item: {},\n    showModal: false,\n    items: [],\n  });\n\n  const handleUpdateItems = (newItem) => {\n    const items = [...state.items];\n\n    items.forEach((item) => {\n      if (item.id === newItem.id) {\n        item.cant = newItem.cant;\n      }\n    });\n\n    setState({\n      ...state,\n      items: items,\n      showModal: false,\n    });\n  };\n\n  useEffect(() => {\n    setState({\n      ...state,\n      items: itemsProp,\n    });\n  }, []);\n\n  return (\n    <div className=\"table-responsive\" style={{ height: \"100vh\" }}>\n      <table className=\"table table-sm table-bordered table-hover\">\n        <thead>\n          <tr>\n            <th>/</th>\n            {header}\n          </tr>\n        </thead>\n        <tbody>\n          {body.map((row, i) => {\n            const zero = row.props.children.type === \"label\" ? true : false;\n            return (\n              <tr className={zero ? \"table-secondary\" : \"\"} key={i}>\n                {row}\n                {header.map((h, i) => {\n                  let grad = zero\n                    ? parseFloat(row.props.children.props.children)\n                        .toFixed(2)\n                        .replace(\".\", \"\")\n                    : parseFloat(row.props.children)\n                        .toFixed(2)\n                        .replace(\".\", \"\");\n                  if (parseInt(grad) >= 0) grad = \"+\" + grad;\n                  grad += parseFloat(h.props.children)\n                    .toFixed(2)\n                    .replace(/[-.]/g, \"\");\n\n                  return (\n                    <td key={grad + i} className=\"text-center\">\n                      {state.items.length ? (\n                        state.items.map((item, index) => {\n                          return grad === item.grad ? (\n                            <div key={index}>\n                              {item.cant_total ? (\n                                <span\n                                  onClick={() => {\n                                    setState({\n                                      ...state,\n                                      item: item,\n                                      showModal: true,\n                                    });\n                                  }}\n                                  style={{ cursor: \"pointer\" }}\n                                  title={item.grad}\n                                  key={item.id + index}\n                                  className={\n                                    item.cant > 0\n                                      ? \"badge badge-success\"\n                                      : \"badge badge-danger\"\n                                  }\n                                >\n                                  {item.cant}\n                                </span>\n                              ) : null}\n                            </div>\n                          ) : null;\n                        })\n                      ) : (\n                        <Link to=\"/almacen/registro\">\n                          <i className=\"fas fa-plus text-secondary\"></i>\n                        </Link>\n                      )}\n                    </td>\n                  );\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n\n      {state.showModal ? (\n        <SetQantityModal item={state.item} handleClose={handleUpdateItems} />\n      ) : null}\n    </div>\n  );\n}\n","import { useState } from \"react\";\n\nfunction SetPriceModal({categoryName, handleSave: _handleSave ,handleClose: _close, handleChange: _handleChange}) {\n\n  const [showLoader, setShowLoader] = useState(false);\n  const [price, setPrice] = useState(0);\n\n\n  return (\n\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Asignar Precio</h5>\n            <button onClick={_close} type=\"button\" className=\"close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n          <div className=\"modal-body p-2\">\n            {showLoader ? (\n              <div className=\"text-center\">\n              <h4 className=\"text-primary\">Asignando precios </h4>\n              <div\n                className=\"spinner-border text-primary ml-4\"\n                role=\"status\"\n              >\n                <span className=\"sr-only\">Cargando ...</span>\n              </div>\n            </div>\n            ):(\n              <div className=\"d-flex flex-column justify-content-start align-items-start\">\n              <h5 className=\"text-center mt-2 mb-3\"><span class=\"badge badge-info\">{categoryName.toUpperCase()}</span></h5>\n                  <label>Precio</label>\n                  <input onChange={({target})=>{\n                    const {name, value} = target;\n                    setPrice(value);\n                    _handleChange(name, value);\n\n                  }} name = \"price\" type=\"number\" defaultValue={price} className=\"form-control\" placeholder=\"Precio\"/>\n\n              </div>\n            )}\n              \n          </div>\n\n          <div className=\"modal-footer\">\n            <button type=\"button\" className=\"btn btn-default\" onClick={_close} disabled={showLoader ? true : false}>\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n\n            <button disabled={showLoader || !price ||price === '0' ? true : false} type=\"button\" className=\"btn btn-success\" onClick={()=>{\n              _handleSave();\n              setShowLoader(true);\n            }}>\n              Asignar\n            </button>\n          </div>\n\n        </div>\n      </div>\n    </div> \n  );\n}\n\nexport default SetPriceModal;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport InventoryTableView from \"../components/Store/views/Inventory_table\";\nimport SetPriceModal from \"../components/Store/views/SetPriceModal\";\n\n//Hooks\nimport useCategory from \"../hooks/useCategory\";\nimport useStore from \"../hooks/useStore\";\n\n//Context\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Inventory(){\n\n  const authContext = useContext(AuthContext);\n  const currentBranch = authContext.auth.branch;\n  \n  const [state, setState] = useState({\n    catData_1: [],\n    catData_2: [],\n    catData_3: [],\n    catid_1: 0,\n    catid_2: 0,\n    catid_3: 0,\n    load: false,\n    items: [],\n    meta: {},\n    price: 0,\n  });\n\n\n\n  const [globalData, setGlobalData] = useState({\n    branchSelected: currentBranch ? currentBranch.id : 0,\n    price: 0,\n    productCategoryId: 0,\n  });\n\n  const [modal, setModal] = useState(false);\n\n  const hookCategory = useCategory();\n  const hookStore = useStore();\n\n  const header = [];\n  const body = [];\n  \n  let i = 0;\n  do {\n    header.push(<th key={i}>{i.toFixed(2)}</th>);\n    i = i - 0.25;\n  } while (i > parseFloat(state.meta.cil) - 0.25);\n\n  i = parseFloat(state.meta.rangoInf);\n  do {\n    if (i === 0)\n      body.push(\n        <td>\n          <label>0.00</label>\n        </td>\n      );\n    else body.push(<td>{i.toFixed(2)}</td>);\n    i = i + 0.25;\n  } while (i < parseFloat(state.meta.rangoSup) + 0.25);\n\n\n  const disabled = state.items.length !== 0 ? false : true;\n  const disablenBtnModal = globalData.branchSelected === 0 || \n                           globalData.price === 0  || \n                           globalData.productCategoryId === 0 ? true : false;\n\n  const handleModal = () => {\n    setModal(!modal);\n  };\n\n\n  const savePriceGlobal =  () => {\n    hookStore.saveGlobalPrice(globalData).then((data)=>{\n      handleModal();\n      if(data){\n        window.Swal.fire({\n          title: \"Productos\",\n          text: \"Precio asignado correctamente\",\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"OK\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            setGlobalData({\n              branchSelected: currentBranch ? currentBranch.id : 0,\n              price: 0,\n              productCategoryId: 0,\n            })\n          }\n        });\n      }else{\n        console.error(\"Error en la cosulta\");\n        window.Swal.fire({\n          title: \"Productos\",\n          text: \"Erro al guardar el precio global\",\n          icon: \"error\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"OK\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            setGlobalData({\n              branchSelected: currentBranch ? currentBranch.id : 0,\n              price: 0,\n              productCategoryId: 0,\n            })\n          }\n        });\n      }\n    });\n  }\n\n  const getItems = async (catid) => {\n    const { load } = state;\n    const filters = {\n      cat:catid,\n      itemsPage: 500,\n    };\n    //Cargando\n    if (!load) {\n      setState({\n        ...state,\n        load: true,\n      });\n    }\n\n    hookStore.getItems(filters).then((data)=>{\n      if(data){\n        const noGraduationData = data.data.filter((item) => item.grad !== '+000000' );\n        setState({\n          ...state, \n          items: noGraduationData ? noGraduationData : [],\n          catid_3: catid,\n          load: false,\n        });\n      }else{\n        console.error(\"Error al obtener la lista de productos\");\n        setState({\n          ...state,\n          load: false,\n        });\n      }\n    })\n  };\n\n\n  const handleClickCat = (e) => {\n    const { name, value } = e.target;\n    const { catData_1, catData_2 } = state;\n    let sons = [];\n    let  meta = {};\n\n    if (name === \"catid_1\") {\n      catData_1.map((cat) => {\n        if (cat.id === parseInt(value)) {\n          sons = cat.sons;\n          meta = cat.meta;\n          return true;\n        } else return false;\n      });\n\n      setState({\n        ...state,\n        catid_1: parseInt(value),\n        catid_2: 0,\n        catid_3: 0,\n        catData_2: sons,\n        catData_3: [],\n        meta,\n      });\n\n    } else if (name === \"catid_2\") {\n      catData_2.map((cat) => {\n        if (cat.id === parseInt(value)) {\n          sons = cat.sons;\n          return true;\n        } else return false;\n      });\n\n      setState({\n        ...state,\n        catid_2: parseInt(value),\n        catid_3: 0,\n        catData_3: sons,\n      });\n    }\n  };\n\n  const getCategories = () => {\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data && data.data){\n        setState({\n          ...state, \n          catid_1: 5,\n          meta: data.data[0].meta,\n          catData_1: data.data[0].sons,\n          catData_2: data.data[0].sons[0].sons\n        });\n      }else{\n        console.error(\"Error al descargar categoras\");\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n      }\n    })\n  };\n\n  useEffect(()=>{\n    getCategories();\n  },[]);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return(\n    <div className=\"row\" style={{height:'1000px'}}>\n        <div className=\"col\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n\n              <div className=\"d-flex justify-content-around align-items-center\">\n\n                <div className=\"col-lg-3\">\n                    <select\n                      className=\"custom-select\"\n                      name=\"catid_2\"\n                      value={state.catid_2}\n                      onChange={handleClickCat}\n                    >\n                      <option value=\"0\">Seleccione un material</option>\n                      {state.catData_2.map((cat) => {\n                        return (\n                          <option key={cat.id} value={cat.id}>\n                            {cat.name}\n                          </option>\n                        );\n                      })}\n                    </select>\n                  </div>\n\n                {state.catid_2 && state.catData_3.length ? (\n                  <div className=\"col-lg-9 d-flex justify-content-around align-items-center\">\n                    <div\n                      className=\"btn-group col-lg-8\"\n                      role=\"group\"\n                      aria-label=\"Basic example\"\n                      style={{height:'3rem'}}\n                    >\n                      {state.catData_3.map((cat) => {\n                        return (\n                          <button\n                            key={cat.id}\n                            className={\n                              state.catid_3 === cat.id\n                                ? \"btn btn-primary\"\n                                : \"btn btn-secondary\"\n                            }\n                            onClick={(e) => {                      \n                              getItems(cat.id);\n                              setState({\n                                ...state,\n                                catid_3: cat.id,\n                                load: true,\n                              });\n                            }}\n                          >\n                            {cat.name}\n                          </button>\n                        );\n                      })}\n                    </div>\n                    <div className=\"col-lg-4 d-flex flex-column align-items-center justify-content-center\">\n                      <p>Total de productos: {state.items.length}</p>\n                      <button disabled = {disabled} className=\"btn btn-success bg-success\" onClick={handleModal}>                        \n                        Asignar Precio\n                        <i className=\"fas fa-money-bill ml-2\"></i>\n                      </button>                                         \n                    </div>                    \n                  </div>\n                ) : null}\n              </div>\n            </div>\n\n\n            <div className=\"card-body\">\n              {state.catid_3 ? (\n                <React.Fragment>\n                  {state.load ? (\n                    <div className=\"text-center\">\n                      <span className=\"text-primary\">Cargando productos</span>\n                      <div\n                        className=\"spinner-border text-primary ml-4\"\n                        role=\"status\"\n                      >\n                        <span className=\"sr-only\">Cargando ...</span>\n                      </div>\n                    </div>\n                  ) : (\n                    <React.Fragment>\n                      <div className=\"row mb-2\">\n                        <div className=\"col mt-2\">\n                          \n                        </div>\n                        <div className=\"col\">\n                          \n                        </div>\n                        <div className=\"col-6\">\n                          <div className=\"row\">\n                          </div>\n                        </div>\n                      </div>\n\n                      {modal && <SetPriceModal \n                          branch = {currentBranch} \n                          currentBranch = {currentBranch}\n                          handleChange={(name, value) => {\n                            setGlobalData({\n                              ...globalData,\n                              [name]: parseInt(value),\n                              productCategoryId: state.items.length ? state.items[0].category.id : 0,\n                            })\n                          }} \n                          handleClose={handleModal} \n                          disabled = {disablenBtnModal}\n                          handleSave = {savePriceGlobal}\n                          categoryName = {`${state.catData_1[0].name} / ${state.catData_2[0].name} / ${state.catData_3[0].name}`}\n                        />}\n\n                      <InventoryTableView\n                        header={header}\n                        body={body}\n                        itemsProp={state.items}\n                      />\n\n\n                    </React.Fragment>\n                  )}\n                </React.Fragment>\n              ) : (\n                <div className=\"alert alert-warning text-light\" role=\"alert\">\n                  <h4 className=\"alert-heading\">\n                    <i className=\"fas fa-exclamation\"></i> Seleccion.\n                  </h4>\n                  <hr />\n                  <ul>\n                    {/* {!state.catid_1 ? (\n                      <li>Selecciones primero el tipo de lente</li>\n                    ) : null} */}\n                    {!state.catid_2 ? <li>Seleccione el material</li> : null}\n                    <li>Por ultimo el tratamiento</li>\n                  </ul>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { Config } from \"../../context/ConfigContext\";\nimport useStore from \"../../hooks/useStore\";\n\nexport default function FormEntries({\n  data,\n  eraseItem,\n  setItemNew,\n  setData,\n  setBranch,\n}) {\n  const configContext = Config();\n  const branches = configContext?.data.filter(\n    (conf) => conf.name === \"branches\"\n  );\n  const branchesId = branches.map((b) => b.id);\n  const [state, setState] = useState({\n    id: 0,\n    code: \"\",\n    branch_id: 0,\n    cant: 0,\n    price: 0,\n    currentCant: 0,\n    branchesId: [],\n  });\n  const store = useStore();\n  const searchProductByItem = async () => {\n    if (!state.code) return;\n\n    const items = await store.getItems({ code: state.code });\n    const item = items?.data.length ? items.data[0] : {};\n\n    if (item && Object.keys(item).length) {\n      setItemNew(state.id, state.branch_id, item);\n    } else {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"Codigo no encontrado\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      setState({\n        ...state,\n        code: \"\",\n      });\n    }\n  };\n  const setDataByBranch = () => {\n    const branch_id = data.branch_default\n      ? data.branch_default\n      : data.branch_id;\n    let currentCant = 0,\n      currentPrice = 0;\n\n    if (branch_id) {\n      const branch_select = data.branches?.filter(\n        (b) => b.branch_id === branch_id\n      );\n\n      if (branch_select && branch_select.length) {\n        const inBranch = branch_select[0];\n\n        currentCant = inBranch.cant;\n        currentPrice = inBranch.price;\n      }\n\n      if (!currentPrice) {\n        currentPrice = data.price ? data.price : state.price;\n      }\n    }\n    return [branch_id, currentCant, currentPrice];\n  };\n  const getBranchesId = () => {\n    const branches = [];\n    data.branches?.forEach((branch) => branches.push(branch.branch_id));\n\n    return branches;\n  };\n\n  useEffect(() => {\n    const [branch_id, currentCant, currentPrice] = setDataByBranch();\n    const branchesId = getBranchesId();\n\n    setState({\n      ...state,\n      id: data.id,\n      code: data.code,\n      cant: data.cant,\n      branch_id,\n      currentCant,\n      price: currentPrice,\n      branchesId,\n    });\n  }, [data.id, data.branch_id]);\n\n  return (\n    <div className=\"form-row border-bottom mt-2\">\n      <div className=\"form-group col-2\">\n        <label htmlFor=\"code\">Codigo</label>\n        <input\n          type=\"text\"\n          className=\"form-control text-uppercase\"\n          placeholder=\"Codigo del producto\"\n          id=\"code\"\n          disabled={typeof state.id === \"number\" ? true : false}\n          value={state.code}\n          onChange={({ target }) =>\n            setState({ ...state, code: target.value.toLowerCase() })\n          }\n          onKeyPress={({ key }) => key === \"Enter\" && searchProductByItem()}\n        />\n      </div>\n      <div className=\"form-group col-3\">\n        <label htmlFor=\"name\">Producto</label>\n        <input\n          type=\"text\"\n          className=\"form-control text-uppercase\"\n          placeholder=\"Nombre del producto\"\n          id=\"name\"\n          value={data.name ?? \"\"}\n          disabled={true}\n          onChange={() => {}}\n        />\n      </div>\n      <div className=\"form-group col-3\">\n        <label htmlFor=\"branch\">Sucursal</label>\n        <select\n          id=\"branch\"\n          className=\"form-control text-uppercase\"\n          disabled={\n            typeof state.id === \"string\" ||\n            branchesId.includes(data.branch_default) ||\n            data.cant\n              ? true\n              : false\n          }\n          value={data.branch_default ? data.branch_default : state.branch_id}\n          onChange={({ target }) => {\n            if (!isNaN(target.value)) {\n              setBranch(state.id, state.branch_id, parseInt(target.value));\n            }\n          }}\n        >\n          <option value={0}>--- Seleccione una sucursal ---</option>\n          {branches.map((branch) => {            \n            if (data.branches_used.includes(branch.id)) {\n              return null;\n            }\n\n            return (\n              <option key={branch.id} value={branch.id}>\n                {branch.data?.name}\n              </option>\n            );\n          })}\n        </select>\n      </div>\n      <div className=\"form-group col-1\">\n        <label htmlFor=\"current\">Actual</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"current\"\n          value={state.currentCant ?? 0}\n          disabled={true}\n          onChange={() => {}}\n        />\n      </div>\n      <div className=\"form-group col-1\">\n        <label htmlFor=\"cant\">Ingreso</label>\n        <input\n          type=\"text\"\n          className={\n            data.cant !== state.cant\n              ? \"form-control is-warning\"\n              : \"form-control\"\n          }\n          placeholder=\"Cantidad\"\n          id=\"cant\"\n          disabled={typeof state.id === \"string\" ? true : false}\n          value={state.cant ?? 0}\n          onChange={({ target }) => {\n            if (!isNaN(target.value)) {\n              setState({\n                ...state,\n                cant: parseInt(target.value ? target.value : 0),\n              });\n            }\n          }}\n        />\n      </div>\n      <div className=\"form-group col-1\">\n        <label htmlFor=\"price\">Precio</label>\n        <input\n          type=\"text\"\n          className={\n            data.price !== state.price\n              ? \"form-control is-warning\"\n              : \"form-control\"\n          }\n          placeholder=\"Precio\"\n          id=\"price\"\n          disabled={typeof state.id === \"string\" ? true : false}\n          value={state.price ?? 0}\n          onChange={({ target }) => {\n            if (!isNaN(target.value)) {\n              setState({ ...state, price: parseInt(target.value) });\n            }\n          }}\n          onKeyPress={({ key }) => key === \"Enter\" && setData(state)}\n        />\n      </div>\n      <div className=\"form-group col-1 text-right pt-4\">\n        <div\n          className=\"btn-group btn-group-sm mt-2\"\n          role=\"group\"\n          aria-label=\"...\"\n        >\n          <button\n            className=\"btn btn-sm btn-warning\"\n            onClick={() => eraseItem(data)}\n          >\n            <i className=\"fas fa-trash\" />\n          </button>\n          <button\n            className=\"btn btn-sm btn-success\"\n            disabled={typeof state.id === \"string\" ? true : false}\n            onClick={() => setData(state)}\n          >\n            {data.cant ? (\n              <i className=\"fas fa-pen\" />\n            ) : (\n              <i className=\"fas fa-check\" />\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport FormEntries from \"../components/Store/FormEntries\";\nimport { Config } from \"../context/ConfigContext\";\nimport useStore from \"../hooks/useStore\";\n\nexport default function StoreEntries() {\n  const configContext = Config();\n  const branches = configContext?.data.filter(\n    (conf) => conf.name === \"branches\"\n  );\n  const branchesId = branches.map((b) => b.id);\n  const store = useStore();\n  const [state, setState] = useState({\n    items: [\n      {\n        id: `${Date.now()}`,\n        code: \"\",\n        name: \"\",\n        branch_id: 0,\n        cant: 0,\n        price: 0,\n        branches: [],\n        branches_used: [],\n        branch_default: null,\n      },\n    ],\n  });\n  const setNewItem = (id, branch_id, item) => {\n    const items = [...state.items];\n    const branches_used = {};\n    const branches_rest = {};\n    let done = 0;\n\n    for (const i of items) {\n      if (!branches_used[i.id]?.length) branches_used[i.id] = [];\n      if (!branches_rest[i.id]?.length) branches_rest[i.id] = branchesId;\n\n      if (i.id === item.id) {\n        if (branchesId.includes(item.branch_default)) {\n          window.Swal.fire({\n            title: \"Almacen\",\n            text: \"Codigo ya se encuentra en la lsta\",\n            icon: \"warning\",\n            timer: 2500,\n          });\n          break;\n        }\n\n        branches_rest[i.id] = branches_rest[i.id].filter(\n          (b) => b !== i.branch_id\n        );\n        branches_used[i.id].push(i.branch_id);\n\n        item.branches = item.branches.filter(\n          (b) => !branches_used[i.id].includes(b.branch_id)\n        );\n      }\n\n      if (!branches_rest[i.id].length) {\n        window.Swal.fire({\n          title: \"Almacen\",\n          text: \"Codigo ya fue agregado a la lista en todas sus sucursales\",\n          icon: \"warning\",\n          timer: 2500,\n        });\n        break;\n      }\n\n      if (i.id === id && i.branch_id === branch_id) {\n        i.id = item.id;\n        i.code = item.code;\n        i.name = item.name;\n        i.price = item.price;\n        i.branches = item.branches;\n        i.branches_used = branches_used[i.id] ?? [];\n        i.branch_default = item.branch_default ?? null;\n        i.branch_id = item.branch_default ? item.branch_default : 0;\n      }\n\n      done++;\n    }\n\n    if (done < items.length) {\n      items.forEach((i) => {\n        if (typeof i.id === \"string\" && i.id === item.id) {\n          i.code = \"\";\n        }\n      });\n    }\n\n    setState({\n      items,\n    });\n  };\n  const setDataItem = (item) => {\n    const items = [...state.items];\n    let itemHasNew = true;\n\n    if (!item.cant) {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"La cantidad de productos (ingreso), es un valor requerido\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      return;\n    }\n\n    if (!item.price) {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"Es necesario establecer un precio mayor a cero\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      return;\n    }\n\n    if (!item.branch_id) {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"Por favor seleccione una sucursal\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      return;\n    }\n\n    items.forEach((i) => {\n      if (i.id === item.id && i.branch_id === item.branch_id) {\n        i.cant = item.cant;\n        i.price = item.price;\n        i.branch_id = item.branch_id;\n      }\n\n      if (typeof i.id === \"string\") {\n        itemHasNew = false;\n      }\n    });\n\n    if (itemHasNew) {\n      items.push(getNewItem());\n    }\n\n    setState({\n      items,\n    });\n  };\n  const setBranch = (id, c_branch, n_branch) => {\n    const items = [...state.items];\n\n    items.forEach((i) => {\n      if (i.id === id && i.branch_id === c_branch) {\n        i.branch_id = n_branch;\n      }\n    });\n\n    setState({\n      items,\n    });\n  };\n  const deleteItem = (item) => {\n    const items = [...state.items];\n    const newItems = items.filter((i) => {\n      if (i.id === item.id && i.branch_id === item.branch_id) {\n        return false;\n      }\n\n      return true;\n    });\n\n    setState({\n      items: newItems,\n    });\n  };\n  const saveItems = () => {\n    const items = state.items.filter((i) => typeof i.id === \"number\");\n    const newItems = [];\n\n    for (let i = 0; i < items.length; i++) {\n      delete items[i].branch_default;\n      delete items[i].branches;\n      delete items[i].branches_used;\n      delete items[i].name;\n      delete items[i].code;\n    }\n    // MFPLAR-000075\n    store\n      .saveItemByList(items)\n      .then((res) => {        \n        window.Swal.fire({\n          title: \"Almacen\",\n          text: \"Productos almacenados con exito\",\n          icon: \"success\",\n          timer: 2500,\n        });\n        newItems.push(getNewItem());\n        setState({\n          ...state,\n          items: newItems,\n        });\n      })\n      .catch((err) =>\n        console.error(\"Error when save items:\", err.message)\n      );\n  };\n\n  useEffect(() => {\n  }, [state.items]);\n\n  return (\n    <div className=\"row\" style={{height:'100vh'}}>\n      <div className=\"col-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-header\">\n            <h5 className=\"card-title mt-2 ml-2 text-bold\">\n              Entradas de productos por lote\n            </h5>\n            <div className=\"card-tools\">\n              <button\n                className=\"btn btn-sm btn-primary\"\n                title=\"Agregar una linea nueva\"\n                alt=\"Agregar una linea nueva\"\n                onClick={() => {\n                  const items = [...state.items];\n                  items.push(getNewItem());\n\n                  setState({\n                    items,\n                  });\n                }}\n              >\n                <i className=\"fas fa-plus\" />\n              </button>\n            </div>\n          </div>\n\n          <div className=\"card-body\">\n            {state.items.map((item, i) => (\n              <FormEntries\n                key={`${item.id}${Date.now()}${i}`}\n                data={item}\n                eraseItem={deleteItem}\n                setItemNew={setNewItem}\n                setData={setDataItem}\n                setBranch={setBranch}\n              />\n            ))}\n          </div>\n          <div className=\"card-footer text-right\">\n            <button className=\"btn btn-primary\" onClick={saveItems}>\n              Enviar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction getNewItem() {\n  return {\n    id: `${Date.now()}`,\n    code: \"\",\n    name: \"\",\n    branch_id: 0,\n    cant: 0,\n    price: 0,\n    branches: [],\n    branches_used: [],\n    branch_default: null,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { StoreContext } from \"../context/StoreContext\";\n\n//Compinentes\nimport ToolBar from \"../components/Store/ToolBar\";\nimport Inbox from \"../components/Store/Inbox\";\nimport Add from \"../components/Store/Add\";\nimport Categories from \"./StoreCategories\";\nimport Brands from \"./StoreBrand\";\nimport Inventory from \"./StoreInventory\";\nimport Entries from \"./StoreEntries\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  search: \"\",\n  itemsPage: 25,\n  supplier: \"\",\n  brand: \"\",\n  zero: \"false\",\n};\n\nexport default function Store(props) {\n  \n  const [state, setState] = useState({\n    panel: \"\",\n    options: optionsDefault,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    let panel = \"inbox\";\n\n    if (id) {\n      if (!isNaN(id)) {\n        panel = \"neworedit\";\n      } else {\n        switch (id?.toLowerCase()) {\n          case \"categorias\":\n            panel = \"category\";\n            break;\n          case \"marcas\":\n            panel = \"brands\";\n            break;\n          case \"inventario\":\n            panel = \"inventory\";\n            break;\n          case \"entradas\":\n            panel = \"entries\";\n            break;\n          default:\n            panel = \"inbox\";\n        }\n      }\n    }\n\n    setState({\n      ...state,\n      panel,\n    });\n\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <StoreContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <div className=\"col-sm-12 col-md-2\">\n          <button\n            className=\"btn bg-primary btn-block mb-3\"\n            type=\"button\"\n            disabled={state.panel !== \"inbox\"}\n            onClick={() => setState({ ...state, panel: \"neworedit\" })}\n          >\n            <i className=\"fas fa-plus mr-1\"></i>\n            Nuevo producto\n          </button>\n          <ToolBar />\n        </div>\n        <div className=\"col-sm-12 col-md-10\">\n          {state.panel === \"inbox\" && <Inbox />}\n          {state.panel === \"neworedit\" && <Add {...props} />}\n          {state.panel === \"category\" && <Categories></Categories>}\n          {state.panel === \"brands\" && <Brands></Brands>}\n          {state.panel === \"inventory\" && <Inventory></Inventory>}\n          {state.panel === \"entries\" && <Entries></Entries>}\n        </div>\n      </div>\n    </StoreContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const ContactContext = createContext(null);\nexport const Contacts = () => useContext(ContactContext);\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useHistory } from \"react-router-dom\";\n\nimport SideBar from \"../../pages/partials/SideBar\";\nimport { Contacts } from \"../../context/ContactContext\";\n\nexport default function ToolBarContact({\n  newOrEdit = false,\n  handleNewOrEdit: _handleNewOrEdit,\n}) {\n  const context = Contacts();\n  const history = useHistory();\n\n  return (\n    <div className=\"col-sm-12 col-md-2\">\n      <button\n        className=\"btn bg-indigo btn-block mb-3\"\n        type=\"button\"\n        disabled={newOrEdit}\n        onClick={() => _handleNewOrEdit()}\n      >\n        <i className=\"fas fa-plus mr-1\"></i>\n        Nuevo contacto\n      </button>\n      <SideBar title={newOrEdit ? \"Menu\" : \"Filtros\"}>\n        {!newOrEdit ? (\n          <>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"type\">Tipo</label>\n              <select\n                className=\"form-control \"\n                name=\"type\"\n                id=\"type\"\n                value={context.options?.type}\n                onChange={({ target }) => {\n                  const value = parseInt(target.value);\n                  \n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      type: !isNaN(value) ? value : \"\",\n                    },\n                  });\n                }}\n              >\n                <option value=\"\">-- Todos --</option>\n                <option value=\"0\">Clientes</option>\n                <option value=\"1\">Proveedores</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"orderby\">Ordenar por</label>\n              <select\n                className=\"form-control \"\n                name=\"orderby\"\n                id=\"orderby\"\n                value={context.options?.orderby}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      orderby: target.value,\n                    },\n                  });\n                }}\n              >\n                <option value=\"created_at\">Fecha de registro</option>\n                <option value=\"updated_at\">Fecha de modificacion</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"order\">Mostrar por</label>\n              <select\n                className=\"form-control \"\n                name=\"order\"\n                id=\"order\"\n                value={context.options?.order}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      order: target.value,\n                    },\n                  });\n                }}\n              >\n                <option value=\"asc\">Antiguos</option>\n                <option value=\"desc\">Recientes</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"itemsPage\">Numero de contactos</label>\n              <select\n                className=\"form-control \"\n                name=\"itemsPage\"\n                id=\"itemsPage\"\n                value={context.options?.itemsPage}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      itemsPage: parseInt(target.value),\n                    },\n                  });\n                }}\n              >\n                <option value=\"25\">ver 25</option>\n                <option value=\"50\">ver 50</option>\n                <option value=\"75\">ver 75</option>\n                <option value=\"100\">ver 100</option>\n              </select>\n            </li>\n          </>\n        ) : (\n          <>\n            <li className=\"list-group-item\">\n              <a\n                href=\"#back\"\n                className=\"d-flex justify-content-between align-items-center\"\n                onClick={(e) => {\n                  e.preventDefault();                  \n                  history.push(\"/contactos\");\n                }}\n              >\n                Ver listado\n                <span className=\"badge badge-primary badge-pill\">\n                  <i className=\"fas fa-chevron-left\"></i>\n                </span>\n              </a>\n            </li>\n            {context.contact?.id ? (\n              <li className=\"list-group-item\">\n                <a\n                  href=\"#details\"\n                  className=\"d-flex justify-content-between align-items-center\"\n                >\n                  Detalles\n                  <span className=\"badge badge-primary badge-pill\">\n                    <i className=\"fas fa-chevron-right\"></i>\n                  </span>\n                </a>\n              </li>\n            ) : null}\n          </>\n        )}\n      </SideBar>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n//Components\nimport Inbox from \"../../layouts/list_inbox\";\nimport useContact from \"../../hooks/useContact\";\n\n//Context\nimport { Contacts } from \"../../context/ContactContext\";\n\nexport default function InboxContact() {\n  const context = Contacts();\n  const _contacts = useContact();\n  const history = useHistory();\n  const [state, setState] = useState({\n    contactSelected: \"\",\n    contacts: [],\n    meta: {},\n    loading: false,\n  });\n\n  // Functions\n  const handleLoadContacts = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n\n    _contacts\n      .getContacts({\n        ...context.options,\n      })\n      .then((res) => {\n        setState({\n          ...state,\n          loading: false,\n          contacts: res.data,\n          meta: res.meta,\n          contactSelected: \"\",\n        });\n      });\n  };\n\n  useEffect(() => {\n    if (Object.keys(context.options).length) {\n      handleLoadContacts();\n    }\n  }, [context.options]);\n\n  return (\n    <Inbox\n      title=\"Lista de contactos\"\n      icon=\"id-badge\"\n      color=\"indigo\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.contactSelected}\n      handlePagination={(page) => {\n        if (page) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              page,\n            },\n          });\n        }\n      }}\n      handleSearch={(search) => {\n        if (search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search,\n              page: 1,\n            },\n          });\n        } else if (context.options.search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search: \"\",\n              page: 1,\n            },\n          });\n        }\n      }}\n      handleDeleteItem={(select) => {\n        if (state.contactSelected) {\n          window.Swal.fire({\n            title: \"Contactos\",\n            text: \"Desea eliminar a este contacto?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Eliminar\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              _contacts\n                .deleteContact(state.contactSelected)\n                .then(() => {\n                  handleLoadContacts();\n                })\n                .catch((err) => {\n                  console.error(\n                    \"[Orus System] Catch when delete contact:\",\n                    err.message\n                  );\n                });\n            } else {\n              setState({\n                ...state,\n                contactSelected: \"\",\n              });\n            }\n          });\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un contacto seleccionado\",\n            icon: \"error\",\n            timer: 3000,\n          });\n        }\n      }}\n      handleEditItem={() => {\n        if (state.contactSelected) {\n          history.push(`contactos/${state.contactSelected}`);\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un contacto seleccionado\",\n            icon: \"error\",\n            timer:3000\n          });\n        }\n      }}\n      handleSync={() => {\n        context.set({\n          ...context,\n          options: {\n            ...context.options,\n            page: 1,\n          },\n        });\n      }}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Edad</th>\n            <th>E-mail</th>\n            <th>Telefono</th>\n            <th>Creado por</th>\n            <th>\n              {context.options.orderby === \"created_at\"\n                ? \"Registrado\"\n                : \"Actualizado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.contacts?.map((contact) => {\n            const phones = Object.values(contact.phones).filter((p) => p);\n\n            return (\n              <tr key={contact.id}>\n                <td className=\"icheck-primary pl-2\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"form-check-input mt-4\"\n                    value={contact.id}\n                    id={\"contact_\" + contact.id}\n                    //disabled={contact.enUso}\n                    checked={\n                      state.contactSelected === contact.id ? true : false\n                    }\n                    onChange={({ target }) => {\n                      const { value, checked } = target;\n                      setState({\n                        ...state,\n                        contactSelected: checked ? parseInt(value) : \"\",\n                      });\n                    }}\n                  />\n                  <label\n                    htmlFor={\"contact_\" + contact.id}\n                    className=\"sr-only\"\n                  ></label>\n                </td>\n                <td\n                  className=\"mailbox-name text-capitalize text-truncate\"\n                  style={{ cursor: \"pointer\", maxWidth: 180 }}\n                  onClick={() => {\n                    history.push(`contactos/${contact.id}`);\n                  }}\n                >\n                  <label\n                    style={{ cursor: \"pointer\" }}\n                    className={contact.enUso ? \"text-indigo\" : \"\"}\n                  >\n                    {contact.type ? (\n                      <i className=\"fas fa-store text-sm mr-2\"></i>\n                    ) : (\n                      <i className=\"fas fa-user text-sm mr-2\"></i>\n                    )}\n                    {contact.name.toLowerCase()}\n                  </label>\n                </td>\n                <th>{contact.age ? contact.age : \"--\"}</th>\n                <td\n                  className=\"mailbox-attachment text-lowercase text-truncate\"\n                  style={{ maxWidth: 180 }}\n                >\n                  <span>\n                    <i className=\"fas fa-envelope text-sm mr-2\"></i>\n                    <a href={\"mailto:\" + contact.email} className=\"text-muted\">\n                      {contact.email?.toLowerCase()}\n                    </a>\n                  </span>\n                </td>\n                <td className=\"mailbox-date text-muted text-truncate text-right\">\n                  <span>\n                    <i className=\"fas fa-phone text-sm mr-2\"></i>\n                    {phones.length ? phones[0] : \"--\"}\n                  </span>\n                </td>\n                <td className=\"text-capitalize\">\n                  {contact.created.name.toLowerCase()}\n                </td>\n                <td>\n                  {moment(\n                    context.options.orderby === \"created_at\"\n                      ? contact.created_at\n                      : contact.updated_at\n                  ).fromNow()}\n                </td>\n              </tr>\n            );\n          })}\n\n          {!state.contacts?.length && (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"7\">\n                <i className=\"fa fa-info mx-2\"></i>\n                {context.options.search ? (\n                  <span>\n                    La busqueda\n                    <strong className=\"text-dark mx-1\">\n                      \"{context.options.search}\",\n                    </strong>\n                    no coincide con ning&uacute;n contacto.\n                  </span>\n                ) : (\n                  \"No hay contactos registrados\"\n                )}\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Inbox>\n  );\n}\n","/* eslint-disable no-useless-escape */\nconst patternEmail =\n  /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})$/i;\n\nconst handleVerificationData = (data, showMsg = true) => {\n  const { name, email, birthday, phone, type } = data,\n    patternName =\n      /^[A-Z]+\\s[A-Z]{2,}(\\s?[A-Z]+){1,}/gim,\n    patternPhone = /^\\d{10}$/gim;\n\n  if (!type && !patternName.test(name)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El nombre del contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n    return {\n      result: false,\n      name: \"name\",\n    };\n  }\n  if (!patternEmail.test(email)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El correo electrnico del contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"email\",\n    };\n  }\n\n  let telefonoVerify = patternPhone.test(phone);\n\n  if (!type && !telefonoVerify) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El numero de contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"telnumbers\",\n    };\n  }\n\n  const date = new Date(birthday),\n    today = new Date(),\n    anos = today.getFullYear() - date.getFullYear();\n\n  if (!type && (!birthday || anos < 1)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"La fecha de nacimiento es erronea\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"bithday\",\n    };\n  }\n\n  return {\n    result: true,\n  };\n};\n\nconst saveContact = (title = \"contacto\", data, _save, id = null) => {\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `Esta seguro de actualizar al ${title}?`\n      : `Esta seguro de crear un nuevo ${title}?`,\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        id,\n        data,\n      });\n    }\n  });\n};\n\nconst changeDataInput = (input, data, _setData) => {\n  const { name, value } = input;\n  let val = value;\n\n  if (name === \"telnumbers\") {\n    val = {\n      ...data.telnumbers,\n      t_movil: value,\n    };\n  }\n\n  _setData({\n    ...data,\n    [name]: val,\n  });\n};\n\nconst dataPrimary = {\n  name: \"\",\n  telnumbers: { t_casa: \"\", t_oficina: \"\", t_movil: \"\" },\n  email: \"\",\n  birthday: \"\",\n  type: 0,\n  business: 0,\n  gender: \"female\",\n};\n\nconst handleGetDataObject = (key, value, verification) => {\n  switch (key) {\n    case \"name\":\n      return {\n        name: value,\n        verification: {\n          ...verification,\n          name: true,\n        },\n      };\n    case \"email\":\n      return {\n        email: value,\n        verification: {\n          ...verification,\n          email: true,\n        },\n      };\n    case \"birthday\":\n      return {\n        birthday: value,\n        verification: {\n          ...verification,\n          birthday: true,\n        },\n      };\n    case \"telefonos\":\n      return {\n        telefonos: value,\n        verification: {\n          ...verification,\n          telefonos: true,\n        },\n      };\n    default:\n      return {\n        [key]: value,\n      };\n  }\n};\n\nfunction isEmail(email) {\n  return email ? patternEmail.test(email) : false;\n}\n\nconst toExport = {\n  handleVerificationData,\n  saveContact,\n  changeDataInput,\n  handleGetDataObject,\n  dataPrimary,\n  isEmail,\n};\n\nexport default toExport;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport { useEffect, useState } from \"react\";\n\nimport helper from \"../helper\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function Personal({ data = {}, handleChange, fn }) {\n  const [state, setState] = useState({\n    emailVerification: null,\n    emailColor: \"dark\",\n    nameVerification: null,\n    nameColor: \"dark\",\n    birthdayVerification: false,\n    birthdayColor: \"dark\",\n    contatcs: [],\n  });\n\n  const handleValidContact = (type, value) => {\n    if (!type || !value) return;\n\n    if (type === \"email\" && helper.isEmail(value)) {\n      fn.getContacts({\n        page: 1,\n        orderby: \"created_at\",\n        order: \"desc\",\n        itemsPage: 10,\n        email: value,\n        except: data.id,\n      }).then((res) => {\n        setState({\n          ...state,\n          emailVerification: Boolean(res.data?.length),\n          emailColor: !res.data?.length ? \"dark\" : \"danger\",\n        });\n        handleChange(\"validates\", {\n          ...data.validates,\n          email: !Boolean(res.data?.length),\n        });\n      });\n    }\n\n    if (type === \"name\") {\n      fn.getContacts({\n        page: 1,\n        orderby: \"created_at\",\n        order: \"desc\",\n        itemsPage: 10,\n        name: value,\n        except: data.id,\n      }).then((res) => {\n        setState({\n          ...state,\n          contacts: res.data?.length ? res.data : [],\n          nameVerification: Boolean(res.data?.length),\n          nameColor: !res.data?.length ? \"dark\" : \"danger\",\n        });\n        handleChange(\"validates\", {\n          ...data.validates,\n          name: !Boolean(res.data?.length),\n        });\n      });\n    }\n  };\n\n  useEffect(() => {\n    const check = {\n      birthday: Boolean(moment().diff(data.birthday, \"days\") > 0),\n      test: moment().diff(data.birthday, \"days\"),\n    };\n\n    if (check.birthday !== state.birthdayVerification) {\n      setState({\n        ...state,\n        birthdayVerification: check.birthday,\n        birthdayColor: check.birthday ? \"dark\" : \"danger\",\n      });\n      handleChange(\"validates\", {\n        ...data.validates,\n        birthday: check.birthday,\n      });\n    }\n  }, [data.name, data.email, data.birthday]);\n\n  return (\n    <>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Tipo de contacto</label>\n          <select\n            className=\"custom-select\"\n            name=\"type\"\n            value={data.type ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"type\", parseInt(target.value))\n            }\n          >\n            <option value=\"0\">Cliente</option>\n            <option value=\"1\">Proveedor</option>\n          </select>\n        </div>\n        {data.type ? (\n          <div className=\"form-group custom-control custom-checkbox\">\n            <input\n              type=\"checkbox\"\n              name=\"business\"\n              className=\"custom-control-input\"\n              checked={data.business ?? false}\n              onChange={({ target }) =>\n                handleChange(\"business\", target.checked)\n              }\n              id=\"business_checkbox\"\n            />\n            <label\n              htmlFor=\"business_checkbox\"\n              className=\"custom-control-label cursor-pointer\"\n            >\n              <small>Es un laboratorio?</small>\n            </label>\n          </div>\n        ) : null}\n        <div className=\"form-group\">\n          <label>RFC</label>\n          <input\n            type=\"text\"\n            className=\"form-control text-uppercase text-truncate\"\n            placeholder=\"facturas\"\n            name=\"rfc\"\n            defaultValue={data.rfc ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"rfc\", target.value.toUpperCase())\n            }\n            minLength=\"10\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Gnero</label>\n          <select\n            className=\"custom-select\"\n            name=\"gender\"\n            value={data.gender ?? \"\"}\n            onChange={({ target }) => handleChange(\"gender\", target.value)}\n          >\n            <option value=\"male\">Hombre</option>\n            <option value=\"female\">Mujer</option>\n          </select>\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group position-relative\">\n          <label>\n            Nombre completo <span className=\"text-orange\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            className={`form-control text-capitalize text-truncate text-${state.nameColor}`}\n            placeholder=\"Ej: Juan Perez G\"\n            name=\"name\"\n            defaultValue={data.name ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"name\", target.value.toLowerCase())\n            }\n            onBlur={({ target }) =>\n              handleValidContact(\"name\", target.value.toLowerCase())\n            }\n            onKeyDown={({ key }) => {\n              if (key === \"Escape\") {\n                setState({\n                  ...state,\n                  contacts: [],\n                });\n              }\n            }}\n          />\n          {!data.name && (\n            <small>\n              <span className=\"text-orange\">Este campo es requerido</span>\n            </small>\n          )}\n\n          {state.contacts?.length && data.name?.length > 5 && !data.id\n            ? showContacts(state.contacts)\n            : null}\n        </div>\n\n        <div className=\"form-group\">\n          <label>\n            Correo electr&oacute;nico <span className=\"text-orange\">*</span>\n          </label>\n          <input\n            type=\"email\"\n            className={`form-control text-lowercase text-truncate text-${state.emailColor}`}\n            placeholder=\"Ej: correo@domain.com\"\n            name=\"email\"\n            defaultValue={data.email ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"email\", target.value.toLowerCase())\n            }\n            onBlur={({ target }) => handleValidContact(\"email\", target.value)}\n          />\n          {!data.email && (\n            <small>\n              <span className=\"text-orange\">Este campo es requerido</span>\n            </small>\n          )}\n\n          {data.email && !helper.isEmail(data.email) && (\n            <small>\n              <span className=\"text-orange\">Este no es un correo valido</span>\n            </small>\n          )}\n\n          {state.emailVerification &&\n            typeof state.emailVerification === \"boolean\" && (\n              <small>\n                <span className=\"text-orange\">\n                  Este e-mail ya se encuentra registrado\n                </span>\n              </small>\n            )}\n        </div>\n\n        {!data.type ? (\n          <div className=\"form-group\">\n            <label>\n              Fecha de nacimiento <span className=\"text-orange\">*</span>\n            </label>\n            <DatePicker\n              className={`form-control text-${state.birthdayColor}`}\n              locale=\"es\"\n              selected={new Date(data.birthday.format(\"YYYY/MM/DD\"))}\n              dateFormat=\"dd/MM/yyyy\"\n              maxDate={new Date()}\n              placeholderText=\"Seleccione una fecha\"\n              onSelect={(date) => {\n                if (date) {\n                  date = date.toLocaleDateString(\"es-MX\");\n                  const birthday = moment(date, \"DD/MM/YYYY\");\n\n                  if (birthday.isValid()) {\n                    handleChange(\"birthday\", birthday);\n                  }\n                }\n              }}\n              onChange={(date) => {\n                if (date) {\n                  date = date.toLocaleDateString(\"es-MX\");\n                  const birthday = moment(date, \"DD/MM/YYYY\");\n\n                  if (birthday.isValid()) {\n                    handleChange(\"birthday\", birthday);\n                  }\n                }\n              }}\n            />\n            {!state.birthdayVerification && (\n              <small>\n                <span className=\"text-orange\">Este campo es requerido</span>\n              </small>\n            )}\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n}\n\nfunction showContacts(contacts) {\n  return (\n    <div\n      className=\"position-absolute border rounded p-0 bg-white overflow-auto \"\n      style={{\n        zIndex: \"50\",\n        top: \"4.1rem\",\n        width: \"100%\",\n        maxHeight: \"8rem\",\n      }}\n    >\n      <ul className=\"list-group\">\n        {contacts.map((contact) => {\n          return (\n            <li className=\"list-group-item text-truncate\" key={contact.id}>\n              <i className=\"fas fa-minus mr-1 text-danger\"></i>\n              <span className=\"text-capitalize text-muted text-monospace text-sm\">\n                {contact.name?.toLowerCase()}\n              </span>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n","export default function Address({ data, handleChange }) {  \n  return (\n    <>\n      <div className=\"col\">\n        {data.address_street ? (\n          <small>\n            <label>Calle y numero</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-road\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Calle y numero\"\n            value={data.address_street ?? \"\"}\n            onChange={({ target }) =>{\n              console.log(\"FUNCTION COMPONENT\", target.value);\n              handleChange(\"address_street\", target.value.toLowerCase());\n            }}\n          />\n        </div>\n        {data.address_neighborhood ? (\n          <small>\n            <label>Colonia</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-location-arrow\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Colonia\"\n            defaultValue={data.address_neighborhood ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_neighborhood\", target.value.toLowerCase())\n            }\n          />\n        </div>\n        {data.address_location ? (\n          <small>\n            <label>Municipio</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-location-arrow\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Municipio\"\n            defaultValue={data.address_location ? data.address_location : \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_location\", target.value.toLowerCase())\n            }\n          />\n        </div>\n      </div>\n      <div className=\"col\">\n        {data.address_state ? (\n          <small>\n            <label>Estado</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-map-marker\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Estado\"\n            defaultValue={data.address_state ? data.address_state : \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_state\", target.value.toLowerCase())\n            }\n          />\n        </div>\n        {data.address_zip ? (\n          <small>\n            <label>Codigo postal</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-map-marker\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Codigo Postal\"\n            defaultValue={data.address_zip ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_zip\", target.value.toLowerCase())\n            }\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from \"react\";\n\nexport default function Phones({ data, handleChange }) {\n  useEffect(() => {\n    const check = Boolean(\n      [data.phone_notices, data.phone_cell, data.phone_office].filter(\n        (phone) => phone.length === 10\n      ).length\n    );\n\n    if (check !== data.validates?.phones) {\n      handleChange(\"validates\", {\n        ...data.validates,\n        phones: check,\n      });\n    }\n  }, [data.phone_notices, data.phone_cell, data.phone_office]);\n\n  return (\n    <>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono para recados</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_notices}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_notices\", target.value);\n                }\n              }}\n            />\n          </div>\n          {data.phone_notices && data.phone_notices.length !== 10 && (\n            <small>\n              <span className=\"text-orange\">Telefono a 10 numeros</span>\n            </small>\n          )}\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono personal / whatsApp</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_cell}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_cell\", target.value);\n                }\n              }}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono del trabajo</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_office}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_office\", target.value);\n                }\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport moment from \"moment\";\n\nconst ListOfSalesComponent = (props) => {\n  const { sales } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Total</th>\n          <th>Orden</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {sales.map((sale) => {\n          return (\n            <tr key={sale.id}>\n              <th>#{sale.id}</th>\n              <td>$ {sale.total.toFixed(2)}</td>\n              <td>#{sale.pedido}</td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(sale.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfSalesComponent;\n","import moment from \"moment\";\n\nexport default function Dashboard({ analytics, metadata }) {\n  const { purchases, exams, brands, orders, suppliers } = analytics;\n  const { created_at, created, updated, updated_at } = metadata;\n\n  return (\n    <div className=\"row\">\n      {brands ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-orange\">\n            <div className=\"inner\">\n              <h5>{brands}</h5>\n\n              <p>Marcas</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-shopping-bag\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {suppliers ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-indigo\">\n            <div className=\"inner\">\n              <h5>{suppliers}</h5>\n\n              <p>Laboratorio</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-building\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {purchases ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-success\">\n            <div className=\"inner\">\n              <h5>{purchases}</h5>\n\n              <p>Compras</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-money-bill\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {exams ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-info\">\n            <div className=\"inner\">\n              <h5>{exams}</h5>\n\n              <p>Examenes</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-notes-medical\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {orders ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-warning\">\n            <div className=\"inner\">\n              <h5>{orders}</h5>\n\n              <p>Pedidos</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-shopping-basket\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {created_at && (\n        <div className=\"col\">\n          <div className=\"small-box bg-primary\">\n            <div className=\"inner\">\n              <h5>\n                {moment().diff(created_at, \"days\") >= 0\n                  ? created_at.format(\"DD/MMMM/Y\")\n                  : \"--/--/--\"}\n              </h5>\n\n              <p>Registrado</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-calendar\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              {moment().diff(updated_at, \"days\") >= 0\n                ? `Modificado: ${updated_at.format(\"DD/MMMM/Y\")}`\n                : \"Modificado --/--/--\"}\n            </a>\n          </div>\n        </div>\n      )}\n\n      {created && (\n        <div className=\"col\">\n          <div className=\"small-box bg-primary\">\n            <div className=\"inner text-capitalize\">\n              <h5 className=\"text-truncate\">{created}</h5>\n\n              <p>Registrado por</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-user\"></i>\n            </div>\n            <a\n              href=\"#details\"\n              className=\"small-box-footer text-xs text-truncate text-capitalize\"\n            >\n              Modificado: {updated}\n            </a>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport moment from \"moment\";\n\nconst ListOfBrandsComponent = (props) => {\n  const { brands } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>Nombre</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {brands.map((brand) => {\n          return (\n            <tr key={brand.id}>\n              <td className=\"text-uppercase\">{brand.name}</td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(brand.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfBrandsComponent;\n","const handleStatusString = (status) => {\n  switch (status) {\n    case 0:\n      return \"procesando\";\n    case 1:\n      return \"laboratorio\";\n    case 2:\n      return \"bicelacion\";\n    case 3:\n      return \"terminado\";\n    case 4:\n      return \"entregado\";\n    default:\n      return \"garantia\";\n  }\n};\nconst getBadgeStatus = (status) => {\n  switch (status) {\n    case 0:\n      return (\n        <span className=\"badge badge-light mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    case 1:\n    case 2:\n      return (\n        <span className=\"badge badge-primary mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    case 3:\n      return (\n        <span className=\"badge badge-info mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    case 4:\n      return (\n        <span className=\"badge badge-secondary mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    default:\n      return (\n        <span className=\"badge badge-dark mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n  }\n};\n\nconst getStatusType = [\n  \"procesando\",\n  \"laboratorio\",\n  \"bicelacion\",\n  \"terminado\",\n  \"entregado\",\n];\n\nconst handleDeleteOrder = (order, options, _delete) => {\n  if (order.id) {\n    if (order.estado) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El pedido tiene un proceso avanzado\",\n        icon: \"warning\",\n      });\n      return false;\n    }\n    if (order.nota) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"No se puede eliminar un pedido con una venta activa\",\n        icon: \"warning\",\n      });\n      return false;\n    }\n\n    window.Swal.fire({\n      text: `Esta seguro de eliminar el pedido ${order.id}?`,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss && _delete) {\n        _delete({\n          id: order.id,\n          options,\n        });\n        console.log(\"[Orus System] Eliminando pedido: \" + order.id);\n        return true;\n      }\n    });\n    return false;\n  }\n};\n\nconst handleSaveOrder = (id, data, options, _save, _erase) => {\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `Esta seguro de actualizar el pedido ${id}?`\n      : \"Esta seguro de crear un nuevo pedido?\",\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        data,\n        id,\n        options,\n      });\n      if (_erase) _erase();\n      removeDataTemporary(data.contact_id);\n    }\n  });\n};\n\nconst getDataTemporary = (field) => {\n    const data = JSON.parse(localStorage.getItem(\"OrusSystem\") ?? \"\");\n\n    if (!data.orders) {\n      data.orders = [];\n    }\n\n    return field ? data.orders : data;\n  },\n  addDataTemporary = (data) => {\n    const local = getDataTemporary();\n    let localToSave = {\n      ...local,\n      orders: local.orders.filter((item) => item.id !== data.id),\n    };\n\n    localToSave.orders.push(data);\n    // localStorage.setItem(\"OrusSystem\", JSON.stringify(localToSave));\n  },\n  removeDataTemporary = (id, fn) => {\n    // const local = getDataTemporary(),\n    //   data = {\n    //     ...local,\n    //     orders: local.orders.filter((item) => item.id !== id),\n    //   };\n    // localStorage.setItem(\"OrusSystem\", JSON.stringify(data));\n    if (fn) fn();\n  },\n  getDataOneItem = (id) => {\n    const local = getDataTemporary(),\n      data = local.orders.filter((item) => item.id === id);\n    if (data) {\n    }\n    return data[0] ?? {};\n  };\n\nconst toExport = {\n  handleStatusString,\n  getBadgeStatus,\n  handleDeleteOrder,\n  handleSaveOrder,\n  getDataTemporary,\n  addDataTemporary,\n  removeDataTemporary,\n  getDataOneItem,\n  getStatusType,\n};\n\nexport default toExport;\n","import React from \"react\";\nimport moment from \"moment\";\nimport helper from \"../helpers\";\n\nconst ListOfOrdersComponent = (props) => {\n  const { orders } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Folio LAB</th>\n          <th>Nota</th>\n          <th>Estado</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {orders.map((order) => {\n          return (\n            <tr key={order.id}>\n              <th>#{order.id}</th>\n              <td>{order.order_foreing ? `#${order.order_foreing}` : \"--\"}</td>\n              <td>{order.nota ? `#${order.nota}` : \"--\"}</td>\n              <td className=\"text-uppercase\">\n                <span className=\"badge badge-secondary\">\n                  {helper.handleStatusString(order.status)}\n                </span>\n              </td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(order.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfOrdersComponent;\n","import { useState } from \"react\";\nimport moment from \"moment\";\n\nexport default function List(props) {\n  const {\n    exams = [],\n    allSelect = false,\n    handleSelectedExam: _handleSelectedExam,\n  } = props;\n\n  const [select, setSelect] = useState(\"\");\n\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th scope=\"col\"></th>\n          <th scope=\"col\">Folio</th>\n          <th scope=\"col\">Registrado</th>\n          <th scope=\"col\">Estado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {!exams.length ? (\n          <tr>\n            <th colSpan=\"4\" className=\"text-center\">\n              <i className=\"fas fa-info-circle mr-1\"></i>\n              No hay registros\n            </th>\n          </tr>\n        ) : null}\n        {exams.map((row) => {\n          return (\n            <tr\n              key={row.id}\n              className={\n                moment(new Date()).isSame(moment(row.created_at), \"day\")\n                  ? \"text-primary\"\n                  : \"\"\n              }\n            >\n              <td>\n                <div className=\"icheck-primary\">\n                  {_handleSelectedExam ? (\n                    <>\n                      <input\n                        type=\"checkbox\"\n                        name={\"exam_\" + row.id}\n                        id={\"exam_\" + row.id}\n                        defaultValue={row.id}\n                        onChange={({ target }) => {\n                          if (target.checked) {\n                            setSelect(row.id);\n                            _handleSelectedExam(row);\n                          } else {\n                            setSelect(\"\");\n                          }\n                        }}\n                        disabled={!allSelect}\n                        checked={select === row.id}\n                      />\n                      <label htmlFor={\"exam_\" + row.id}></label>\n                    </>\n                  ) : null}\n                </div>\n              </td>\n              <th scope=\"row\">\n                <span className=\"text\">#{row.id}</span>\n              </th>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(row.created_at).fromNow()}\n              </td>\n              <td>\n                {row.status ? (\n                  <span className=\"badge badge-success\">\n                    <i className=\"fas fa-check\"></i> Terminado\n                  </span>\n                ) : (\n                  <span className=\"badge badge-secondary\">\n                    <i className=\"fas fa-hourglass\"></i> Activo\n                  </span>\n                )}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n","import ListExam from \"../views/List\";\n\nexport default function List({ showBottons = false, exams = [] }) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title text-indigo text-bold\">\n          <i className=\"fas fa-notes-medical mr-1\"></i>\n          Examenes\n        </h5>\n        {exams.length ? (\n          <ListExam\n            allSelect={true}\n            exams={exams}\n            handleSelectedExam={(examSelect) => {\n            }}\n          />\n        ) : (\n          <div className=\"alert alert-info mt-5\">\n            <h5>\n              <i className=\"fas fa-info-circle mr-1\"></i>\n              Aun no hay examenes para este contacto\n            </h5>\n          </div>\n        )}\n      </div>\n      {showBottons && (\n        <div className=\"card-footer text-right\">\n          <div className=\"btn-group\">\n            <button className=\"btn btn-secondary\">Nuevo</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","function ModalComponents({\n  title = \"confirmacin\",\n  body,\n  handleCancel: _handleCancel,\n}) {\n  const handleClose = () => {\n    if (_handleCancel) _handleCancel();\n  };\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-dark text-bold text-capitalize\">\n              {title}\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">{body}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ModalComponents;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\n//Components\nimport Personal from \"./views/Personal\";\nimport Domicilio from \"./views/Address\";\nimport Telefono from \"./views/Phones\";\nimport ListSales from \"../Sales/views/listOfSales_delete\";\nimport Dashboard from \"./Dashboard\";\nimport ListBrands from \"../Store/views/listOfBrands\";\nimport ListOrders from \"../Order/views/listOfOrders\";\nimport CardExams from \"../Exam/cards/List\";\nimport Confirm from \"../../layouts/modal\";\nimport useContact from \"../../hooks/useContact\";\nimport helper from \"./helper\";\nimport Activitys from \"../Activitys\";\n\nconst initialState = {\n  id: 0,\n  name: \"\",\n  rfc: \"\",\n  gender: \"male\",\n  email: \"\",\n  type: 0,\n  business: 0,\n  birthday: moment(),\n  phone_notices: \"\",\n  phone_cell: \"\",\n  phone_office: \"\",\n  age: \"\",\n  address_street: \"\",\n  address_neighborhood: \"\",\n  address_location: \"\",\n  address_state: \"\",\n  address_zip: \"\",\n  done: {\n    purchases: [],\n    brands: [],\n    supplier_of: [],\n    orders: [],\n    exams: [],\n  },\n  analytics: {\n    purchases: 0,\n    exams: 0,\n    brands: 0,\n    suppliers: 0,\n    orders: 0,\n  },\n  metadata: {\n    created_at: \"\",\n    updated_at: \"\",\n    deleted_at: \"\",\n    created: \"\",\n    updated: \"--\",\n  },\n  validates: {\n    name: false,\n    email: false,\n    birthday: false,\n    phones: false,\n  },\n  activity: [],\n  loading: false,\n};\n\n/**\n * DEFAULT COMPONENT\n */\nexport default function AddContact(props) {\n  const { id } = props.match.params;\n  const { handleNewOrEdit: _handleNewOrEdit, showModal = false } = props;\n  const _contacts = useContact();\n  const [contact, setContact] = useState(initialState);\n  const {\n    done: { purchases, brands, supplier_of, orders, exams },\n    analytics,\n    metadata,\n  } = contact;\n  const history = useHistory();\n  let btn_enabled =\n    Object.values(contact.validates).filter((val) => val).length === 4;\n\n  // Functions\n  const handleChangeData = (key, value) => {\n    if (!key) return;\n\n    if (contact[key] === value) {\n      return;\n    }\n\n    setContact({\n      ...contact,\n      [key]: value,\n    });\n  };\n  const handleSaveContact = () => {\n    const data = {\n      id: contact.id,\n      name: contact.name,\n      rfc: contact.rfc,\n      gender: contact.gender,\n      email: contact.email,\n      type: contact.type,\n      business: contact.business,\n      birthday: contact.birthday.format(\"YYYY/MM/DD\"),\n      phones: {\n        notices: contact.phone_notices,\n        cell: contact.phone_cell,\n        office: contact.phone_office,\n      },\n      domicilio: {\n        street: contact.address_street,\n        neighborhood: contact.address_neighborhood,\n        location: contact.address_location,\n        state: contact.address_state,\n        zip: contact.address_zip,\n      },\n    };\n\n\n\n    if(contact.address_street.length){\n      if(!contact.address_neighborhood){        \n        window.Swal.fire({\n          title: \"Contactos\",\n          icon:'warning',\n          text: \"Completa el campo Colonia\",\n          showCancelButton: false,\n          confirmButtonText:\"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        })\n        return\n      }\n      if(!contact.address_location){        \n        window.Swal.fire({\n          title: \"Contactos\",\n          icon:'warning',\n          text: \"Completa el campo Municipio\",\n          showCancelButton: false,\n          confirmButtonText:\"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        })\n        return\n      }\n      if(!contact.address_state){        \n        window.Swal.fire({\n          title: \"Contactos\",\n          icon:'warning',\n          text: \"Completa el campo Estado\",\n          showCancelButton: false,\n          confirmButtonText:\"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        })\n        return\n      }\n      if(!contact.address_zip){ \n        window.Swal.fire({\n          title: \"Contactos\",\n          icon:'warning',\n          text: \"Completa el campo cdigo postal\",\n          showCancelButton: false,\n          confirmButtonText:\"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        })\n        return\n      }\n      window.Swal.fire({\n        title: \"Contactos\",\n        text: data.id\n          ? \"Desea actualizar a este contacto?\"\n          : \"Desea crear un nuevo contacto?\",\n        icon: \"question\",\n        showCancelButton: true,\n        confirmButtonText: data.id ? \"Actualizar\" : \"Crear\",\n        cancelButtonText: \"Cancelar\",\n        showLoaderOnConfirm: true,\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          _contacts.saveContact(data).then((res) => {\n            if (res?.id) {\n              console.log(\"[Orus System] Create contatc successfully\", res.id);\n              _handleNewOrEdit();\n              history.push(\"/contactos\");\n            }\n          });\n        }\n      });\n      \n    }else{\n      window.Swal.fire({\n        title: \"Contactos\",\n        text: data.id\n          ? \"Desea actualizar a este contacto?\"\n          : \"Desea crear un nuevo contacto?\",\n        icon: \"question\",\n        showCancelButton: true,\n        confirmButtonText: data.id ? \"Actualizar\" : \"Crear\",\n        cancelButtonText: \"Cancelar\",\n        showLoaderOnConfirm: true,\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          delete data.domicilio;          \n          _contacts.saveContact(data).then((res) => {\n            if (res?.id) {\n              console.log(\"[Orus System] Create contatc successfully\", res.id);\n              _handleNewOrEdit();\n              history.push(\"/contactos\");\n            }\n          });      \n        }\n      });\n    }\n\n    \n  };\n\n  useEffect(() => {\n    if (id) {\n      _contacts.getContact(parseInt(id)).then((data) => {\n        processData(data, setContact);\n      });\n    }\n  }, [id]);\n\n  return (\n    <>\n      {contact.id ? (\n        <Dashboard analytics={analytics} metadata={metadata} />\n      ) : null}\n\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          {metadata.deleted_at ? (\n            <div className=\"alert alert-warning\">\n              <h4 className=\"alert-heading\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Precaucion!\n              </h4>\n              <p>\n                Este contacto fue eliminado por {contact.updated?.name} el{\" \"}\n                {moment(contact.deleted_at).format(\"LLLL\")}\n              </p>\n            </div>\n          ) : null}\n          <div className=\"card card-indigo card-outline\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title text-indigo\">\n                <i className=\"fas fa-address-book mr-1\"></i>\n                {contact.id ? (\n                  <label>\n                    Editar contacto\n                    <span className=\"badge bg-indigo ml-2\">{contact.id}</span>\n                  </label>\n                ) : (\n                  <label>Registrar nuevo contacto</label>\n                )}\n              </h3>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                  Datos personales\n                </h6>\n                <Personal\n                  data={contact}\n                  handleChange={handleChangeData}\n                  fn={_contacts}\n                />\n              </div>\n              <div className=\"row mt-5 border-top pt-5\">\n                <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                  Medios de contacto <span className=\"text-orange\">*</span>\n                  {!contact.validates.phones && (\n                    <small className=\"d-block w-100\">\n                      <span className=\"text-orange\">\n                        Ingrese por lo menos un telefono\n                      </span>\n                    </small>\n                  )}\n                </h6>\n                <Telefono data={contact} handleChange={handleChangeData} />\n              </div>\n              {!contact.type ? (\n                <div className=\"row mt-5 border-top pt-5\">\n                  <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                    Domicilios del contacto\n                  </h6>\n                  <Domicilio\n                    data={contact}\n                    domicilios={\n                      contact.address ?? {\n                        calle: \"\",\n                        colonia: \"\",\n                        municipio: \"\",\n                        estado: \"\",\n                        cp: \"\",\n                      }\n                    }\n                    handleChange={handleChangeData}\n                  />\n                </div>\n              ) : null}\n            </div>\n            <div className=\"card-footer\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <div className=\"btn-group float-right\" role=\"group\">\n                    <button\n                      className=\"btn btn-default\"\n                      type=\"button\"\n                      onClick={() => {\n                        history.push(\"/contactos\");\n                        _handleNewOrEdit();\n                      }}\n                    >\n                      <i\n                        className={\n                          contact.id\n                            ? \"fas fa-arrow-left mr-2\"\n                            : \"fas fa-ban mr-2\"\n                        }\n                      ></i>\n                      <strong>{contact.id ? \"Cerrar\" : \"Cancelar\"}</strong>\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"btn bg-indigo\"\n                      onClick={() => handleSaveContact()}\n                      disabled={!btn_enabled}\n                    >\n                      <i className=\"fas fa-save mr-1\"></i>\n                      {contact.id ? \"Actualizar\" : \"Guardar\"}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            {contact.loading && (\n              <div className=\"overlay dark\">\n                <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      {contact.id ? (\n        <div className=\"content\" id=\"details\">\n          <div className=\"row\">\n            {!contact.type && (\n              <div className=\"col\">\n                <CardExams exams={exams} />\n              </div>\n            )}\n\n            {purchases.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-money-bill mr-1\"></i>\n                      Compras\n                    </h5>\n                    <ListSales sales={purchases} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {brands.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-copyright mr-1\"></i>\n                      Marcas\n                    </h5>\n                    <ListBrands brands={brands} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {supplier_of.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-building mr-1\"></i>\n                      Laboratorio\n                    </h5>\n                    <ListOrders orders={supplier_of ?? []} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {orders.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-shopping-basket mr-1\"></i>\n                      Pedidos\n                    </h5>\n                    <ListOrders orders={orders ?? []} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n          </div>\n          {Boolean(contact.activity.length) && (\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <Activitys data={contact.activity} />\n              </div>\n            </div>\n          )}\n        </div>\n      ) : null}\n      {showModal && (\n        <Confirm body={dataBodyConfirm(10)} handleCancel={() => {}} />\n      )}\n    </>\n  );\n}\n\nfunction processData(data, setData) {\n  if (data) {\n    const birthday = moment(data.metadata?.birthday);\n    const today = moment();\n    const diff = today.diff(birthday, \"days\");\n\n    setData({\n      id: data.id,\n      name: data.name?.toLowerCase(),\n      rfc: data.rfc?.toUpperCase(),\n      gender: data.metadata?.gender ? data.metadata?.gender : \"male\",\n      email: data.email?.toLowerCase(),\n      type: data.type,\n      business: data.business,\n      birthday: diff > 0 ? birthday : today,\n      phone_notices: data.phones?.notices,\n      phone_cell: data.phones?.cell,\n      phone_office: data.phones?.office,\n      age: data.age ?? 0,\n      address_street: data.address?.street.toLowerCase(),\n      address_neighborhood: data.address?.neighborhood.toLowerCase(),\n      address_location: data.address?.location.toLowerCase(),\n      address_state: data.address?.state.toLowerCase(),\n      address_zip: data.address?.zip.toLowerCase(),\n      done: {\n        purchases: data.purchases,\n        brands: data.brands,\n        supplier_of: data.supplier_of,\n        orders: data.orders,\n        exams: data.exams,\n      },\n      analytics: {\n        purchases: data.purchases_count,\n        exams: data.exams_count,\n        brands: data.brands_count,\n        suppliers: data.suppliers_count,\n        orders: data.orders_count,\n      },\n      metadata: {\n        created_at: data.created_at ? moment(data.created_at) : moment(),\n        updated_at: data.updated_at ? moment(data.updated_at) : moment(),\n        deleted_at: data.deleted_at ?? \"\",\n        created: data.created?.username.toLowerCase() ?? \"\",\n        updated: data.updated?.username.toLowerCase() ?? \"--\",\n      },\n      validates: {\n        name: data.name?.length > 5,\n        email: helper.isEmail(data.email),\n        birthday: Boolean(moment().diff(data.metadata?.birthday, \"days\") > 0),\n        phones: Boolean(\n          Object.values(data.phones ?? {}).filter(\n            (phone) => phone.length === 10\n          ).length\n        ),\n      },\n      activity: data.activity ?? [],\n      loading: false,\n    });\n  }\n}\n\nfunction dataBodyConfirm(id_exam) {\n  return (\n    <div>\n      <p className=\"text-center\">Realmente desea ver el examen?</p>\n      <div className=\"text-center\">\n        <Link to={`/consultorio/${id_exam}`} className=\"btn btn-primary\">\n          Confirmar\n        </Link>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport { ContactContext } from \"../context/ContactContext\";\nimport ToolsBar from \"../components/Contacts/ToolsBar\";\nimport Inbox from \"../components/Contacts/Inbox\";\nimport Add from \"../components/Contacts/Add\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n};\n\nexport default function ContactsComponent(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    newOrEdit: null,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]);\n\n  return (\n    <ContactContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <ToolsBar\n          newOrEdit={state.newOrEdit}\n          handleNewOrEdit={() =>\n            setState({\n              ...state,\n              newOrEdit: !state.newOrEdit,\n            })\n          }\n        />\n        {typeof state.newOrEdit === \"boolean\" ? (\n          <div className=\"col-sm-12 col-md-8 col-lg-10\">\n            {state.newOrEdit ? (\n              <Add\n                {...props}\n                handleNewOrEdit={() =>\n                  setState({ ...state, newOrEdit: !state.newOrEdit })\n                }\n              />\n            ) : (\n              <Inbox />\n            )}\n          </div>\n        ) : (\n          <p>Loading component</p>\n        )}\n      </div>\n    </ContactContext.Provider>\n  );\n}\n","import { useState, useContext } from \"react\";\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n//import helper from \"../helpers\";\n\nexport default function BranchsListComponent() {\n\n  const [data, setData] = useState({\n    showForm: false,\n    id: 0,\n    name: \"\",\n    address: \"\",\n    phone: \"\",\n  });\n  \n/*   const options = {\n    page: 1,\n    name: \"branches\",\n    itemsPage: 10,\n  }; */\n\n  const configContext = useContext(ConfigContext);\n\n  const branches = configContext.data.filter((item)=>item.name === 'branches');\n\n  //Actions\n  const handleUpdateConfig = ({ id, values, data }) => {\n      setData({\n        ...data,\n        showForm: true,\n        id,\n        //TODO: Destructuramoos data, Cambiamos values por data, validamos si existen [name, address, phone] evitar toString //\n        name: data.name?.toString().toLowerCase(),\n        address: data.address?.toString().toLowerCase(),\n        phone: data.phone?.toString().toLowerCase(),\n      });\n    },\n\n    handleCancelForm = () =>\n      setData({\n        ...data,\n        showForm: false,\n        id: 0,\n        name: \"\",\n        address: \"\",\n        phone: \"\",\n      }),\n\n    handleNewBranch = () => setData({ ...data, showForm: true }),\n\n    handleChangeValue = ({ name, value }) => {\n      setData({\n        ...data,\n        [name]: value.toString().toLowerCase(),\n      });\n    },\n\n    handleSendDataForm = (e) => {\n      e.preventDefault();\n    };\n\n\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title d-block mb-2\">\n          <i className=\"fas fa-store mr-1\"></i>\n          Sucursales\n        </h5>\n\n        {data.showForm ? (\n          <form className=\"card-text m-2 mt-4\" onSubmit={handleSendDataForm}>\n            <div className=\"form-group\">\n              <label>Nombre de la sucursal</label>\n              <input\n                type=\"text\"\n                placeholder=\"Escriba el nombre de la sucursal\"\n                className=\"form-control\"\n                name=\"name\"\n                defaultValue={data.name}\n                onChange={({ target }) => handleChangeValue(target)}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Domicilio</label>\n              <input\n                type=\"text\"\n                placeholder=\"Escriba el domicilio de la sucursal\"\n                className=\"form-control\"\n                name=\"address\"\n                defaultValue={data.address}\n                onChange={({ target }) => handleChangeValue(target)}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Telefono</label>\n              <input\n                type=\"phone\"\n                placeholder=\"Escriba el telefono de la sucursal\"\n                className=\"form-control\"\n                name=\"phone\"\n                defaultValue={data.phone}\n                onChange={({ target }) => handleChangeValue(target)}\n                maxLength={10}\n              />\n            </div>\n            <div className=\"form-group text-right\">\n              <button\n                type=\"button\"\n                className=\"btn btn-link\"\n                onClick={handleCancelForm}\n              >\n                Cancelar\n              </button>\n              <button type=\"submit\" className=\"btn btn-dark ml-2\">\n                Guardar\n              </button>\n            </div>\n          </form>\n        ) : (\n          <div className=\"table-responsive\">\n            <table className=\"table table-striped table-sm\">\n              <thead>\n                <tr>\n                  <th>Nombre</th>\n                  <th>Domicilio</th>\n                  <td>\n                    <span className=\"sr-only\">Acciones</span>\n                  </td>\n                </tr>\n              </thead>\n              <tbody>\n                {branches.map((branch) => (\n                  branch.name !== 'bank' ? (\n                    <tr key={branch.id}>\n                    <td className=\"text-capitalize\">{branch.data.name}</td>\n                    <td className=\"text-truncate text-capitalize\">\n                      {branch.data.address ?? \"--\"}\n                    </td>\n                    <td className=\"text-right\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-sm btn-primary ml-1\"\n                        onClick={() => handleUpdateConfig(branch)}\n                      >\n                        <i className=\"fas fa-edit\"></i>\n                      </button>\n                    </td>\n                  </tr>\n                  ) : null\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n      <div className=\"card-footer text-right\">\n        <button\n          className=\"btn btn-primary btn-sm\"\n          disabled={data.showForm}\n          onClick={handleNewBranch}\n        >\n          <i className=\"fas fa-plus\"></i>\n        </button>\n      </div>\n    </div>\n  );\n}\n","import { useState, useContext } from \"react\";\nimport BranchsList from '../components/Tools/views/Branchs';\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function ToolsComponent(){\n\n  const { auth } = useContext(AuthContext);\n\n  const varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\n  const [state, setState] = useState({\n    server: varLocalStorage.host ? varLocalStorage.host : \"\",\n    company:  varLocalStorage.company ? varLocalStorage.company : \"\",\n    email: auth.email ? auth.email : \"\",\n    name: auth.name ? auth.name : \"\",\n    username: auth.username ? auth.username : \"\",\n    password: \"\",\n    category_list: [],\n  });\n\n  const clickSave = () => {\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    varLocalStorage.company = state.company;\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage));\n  },\n\n  clickSaveUser = () => {\n\n    //TODO: Ejecutar llamada a la API para actualizar el usuario\n\n\n    //Variables en localStorage\n    /* let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    varLocalStorage.email = state.email;\n    varLocalStorage.name = state.name;\n    varLocalStorage.username = state.username;\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage)); */\n  },\n  \n  catchInputs = (e) => {\n    const { name, value } = e.target;\n    setState({\n      [name]: value.toLowerCase(),\n    });\n  };\n\n  return (\n    <div className=\"row\" style={{height:'100vh'}}>\n      <div className=\"col-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Generales</h5>\n            <p>&nbsp;</p>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-server\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Servidor\"\n                name=\"server\"\n                value={state.server}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-building\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control text-capitalize\"\n                placeholder=\"Nombre de la empresa\"\n                name=\"company\"\n                value={state.company}\n                onChange={catchInputs}\n              />\n            </div>\n          </div>\n          <div className=\"card-footer text-right\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={clickSave}\n            >\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n\n\n      <div className=\"col-lg-6 col-sm-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Usuario</h5>\n            <p>&nbsp;</p>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-at\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Email\"\n                name=\"email\"\n                value={state.email}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-user-tag\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control text-capitalize\"\n                placeholder=\"Nombre completo\"\n                name=\"name\"\n                value={state.name}\n                onChange={catchInputs}\n              />\n            </div>\n            <hr />\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-user-check\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Usuario\"\n                name=\"username\"\n                value={state.username}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-lock\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Contrasea\"\n                name=\"password\"\n                value={state.password}\n                onChange={catchInputs}\n              />\n            </div>\n          </div>\n          <div className=\"card-footer text-right\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={clickSaveUser}\n            >\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"col-lg-6 col-md-12 col-sm-12\">\n        <BranchsList />\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const ExamContext = createContext(null);\nexport const Exams = () => useContext(ExamContext);\n","import DatePicker, { registerLocale } from \"react-datepicker\";\nimport moment from \"moment\";\n\nimport SideBar from \"../../pages/partials/SideBar\";\nimport { Exams } from \"../../context/ExamContext\";\nimport { Config } from \"../../context/ConfigContext\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function ToolBar({ newOrEdit, handleNewOrEdit }) {\n  const context = Exams();\n  const config = Config();\n  const branches = config.data?.filter((b = {}) => b.name === \"branches\");\n  const date = context.options?.date ? moment(context.options.date) : moment();\n\n  return (\n    <div className=\"col-sm-12 col-md-2 d-print-none\">\n      <button\n        className=\"btn bg-info btn-block mb-3\"\n        type=\"button\"\n        disabled={newOrEdit}\n        onClick={handleNewOrEdit}\n      >\n        <i className=\"fas fa-plus mr-1\"></i>\n        Nuevo examen\n      </button>\n\n      <SideBar title=\"Filtros\">\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"orderby\">Ordenar por</label>\n          <select\n            className=\"form-control\"\n            id=\"orderby\"\n            defaultValue={context.options?.orderby}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  orderby: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"created_at\">Fecha de registro</option>\n            <option value=\"updated_at\">Fecha de modificacion</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"date\">Fecha</label>\n          <DatePicker\n            className={`form-control`}\n            locale=\"es\"\n            selected={new Date(date.format(\"YYYY/MM/DD\"))}\n            dateFormat=\"dd/MM/yyyy\"\n            maxDate={new Date()}\n            placeholderText=\"Seleccione una fecha\"\n            onSelect={(date) => {\n              if (date) {\n                date = date.toLocaleDateString(\"es-MX\");\n                date = moment(date, \"DD/MM/YYYY\");\n\n                if (date.isValid()) {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      date: date.format(\"YYYY/MM/DD\"),\n                    },\n                  });\n                }\n              }\n            }}\n            onChange={(date) => {\n              if (date) {\n                date = date.toLocaleDateString(\"es-MX\");\n                date = moment(date, \"DD/MM/YYYY\");\n\n                if (date.isValid()) {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      date: date.format(\"YYYY/MM/DD\"),\n                    },\n                  });\n                }\n              }\n            }}\n          />\n          <button\n            type=\"button\"\n            className=\"btn btn-info btn-block text-bold mt-1\"\n            onClick={(e) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  date: \"\",\n                },\n              });\n            }}\n          >\n            <i className=\"fas fa-trash mr-1\"></i>\n            Borrar fecha\n          </button>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"order\">Mostrar por</label>\n          <select\n            className=\"form-control\"\n            id=\"order\"\n            value={context.options?.order}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  order: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"asc\">Antiguos</option>\n            <option value=\"desc\">Recientes</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"itemsPage\">Numero de examenes</label>\n          <select\n            className=\"form-control\"\n            id=\"itemsPage\"\n            value={context.options?.itemsPage}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  itemsPage: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"25\">ver 25</option>\n            <option value=\"50\">ver 50</option>\n            <option value=\"75\">ver 75</option>\n            <option value=\"100\">ver 100</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"status\">Estado</label>\n          <select\n            className=\"form-control\"\n            id=\"status\"\n            value={context.options?.status}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  status: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"\">-- Todos --</option>\n            <option value=\"1\">Solo terminados</option>\n            <option value=\"0\">En proceso</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"status\">Sucursales</label>\n          <select\n            className=\"form-control text-capitalize\"\n            id=\"branch\"\n            value={context.options?.branch}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  branch: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"all\">-- Todas --</option>\n            {branches?.map((branch) => (\n              <option value={branch.id} key={branch.id}>\n                {branch.data?.name}\n              </option>\n            ))}\n          </select>\n        </li>\n      </SideBar>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useExam() {\n  const getExams = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"exams\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contacts list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n\n  const getExam = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"exams\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contact in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n\n  const deleteExam = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"exams\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete contact in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n\n\n  const saveExam = async (data) => {\n\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"exams\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\"[Orus System] Catch when update exam in hook\");\n          return err;\n        });\n    } else {\n      const url = setUrl(\"exams\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\"[Orus System] Catch when create exam in hook\");\n          return err;\n        });\n    }\n  };\n\n  return {\n    getExams,\n    getExam,\n    deleteExam,\n    saveExam,\n  };\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\n\n//Context\nimport { Exams } from \"../../context/ExamContext\";\n\n//Components\nimport Inbox from \"../../layouts/list_inbox\";\nimport useExam from \"../../hooks/useExam\";\n\nexport default function InboxExams() {\n  const context = Exams();\n  const _exam = useExam();\n  const history = useHistory();\n  const [state, setState] = useState({\n    list: [],\n    meta: {},\n    loading: false,\n    examSelected: {},\n  });\n\n  // Functions\n  const handleLoadExams = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n\n    _exam.getExams(context.options).then((res) => {\n      if (res.data) {\n        setState({\n          ...state,\n          list: res.data,\n          meta: res.meta,\n          loading: false,\n          examSelected: {},\n        });\n      }\n    });\n  };\n  const handleStatus = (exam) => {\n    if (exam?.id) {\n      _exam\n        .saveExam({\n          id: exam.id,\n          status: !exam.status,\n          contact_id: exam.customer?.id,\n        })\n        .then((res) => {\n          if (res.id) handleLoadExams();\n          else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.error(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n    } else if (state.examSelected?.id) {\n      _exam\n        .saveExam({\n          id: state.examSelected.id,\n          status: !state.examSelected.status,\n          contact_id: state.examSelected.customer?.id,\n        })\n        .then((res) => {\n          if (res.id) handleLoadExams();\n          else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.error(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n    } else {\n      console.error(\n        \"[Orus System] When get id of exam:\",\n        exam,\n        state.examSelected\n      );\n      window.Swal.fire({\n        title: \"Consultorio\",\n        text: \"Lo sentimos no existe un examen seleccionado\",\n        icon: \"warning\",\n        showConfirmButton: false,\n        timer: 3000,\n      });\n    }\n  };\n\n  useEffect(() => {\n    handleLoadExams();\n  }, [context.options]);\n\n  return (\n    <Inbox\n      title=\"Lista de examenes\"\n      icon=\"notes-medical\"\n      color=\"info\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.examSelected?.id}\n      handlePagination={(page) => {\n        if (page) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              page,\n            },\n          });\n        }\n      }}\n      handleSearch={(search) => {\n        if (search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search,\n              page: 1,\n            },\n          });\n        } else if (context.options.search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search: \"\",\n              page: 1,\n            },\n          });\n        }\n      }}\n      handleDeleteItem={() => {\n        if (state.examSelected?.id) {\n          window.Swal.fire({\n            title: \"Consultorio\",\n            text: \"Desea eliminar el examen?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Eliminar\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              _exam.deleteExam(state.examSelected.id).then(() => {\n                handleLoadExams();\n              });\n            } else {\n              setState({\n                ...state,\n                examSelected: {},\n              });\n            }\n          });\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un examen seleccionado\",\n            icon: \"error\",\n            timer:3000,\n          });\n        }\n      }}\n      handleEditItem={() => {\n        if (state.examSelected?.id) {\n          history.push(`consultorio/${state.examSelected.id}`);\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un examen seleccionado\",\n            icon: \"error\",\n          });\n        }\n      }}\n      handleSync={handleLoadExams}\n      handleStatus={handleStatus}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Estado</th>\n            <th>ESF</th>\n            <th>CIL</th>\n            <th>EJE</th>\n            <th>ADC</th>\n            <th>MED</th>\n            <th>DP</th>\n            <th>ALT</th>\n            <th>\n              {context.options?.orderby === \"created_at\"\n                ? \"Registrado\"\n                : \"Actualizado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.list?.length ? (\n            <>\n              {state.list?.map((exam) => {\n                return (\n                  <tr key={exam.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        id={\"exam_\" + exam.id}\n                        checked={\n                          state.examSelected?.id === exam.id ? true : false\n                        }\n                        disabled={exam.estado || exam.orders?.length}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            examSelected: target.checked ? exam : \"\",\n                          });\n                        }}\n                      />\n                      <label\n                        htmlFor={\"exam_\" + exam.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td className=\"mailbox-name text-capitalize text-truncate\">\n                      <a\n                        href=\"#edit\"\n                        onClick={(e) => {\n                          e.preventDefault();\n                          history.push(`consultorio/${exam.id}`);\n                        }}\n                      >\n                        <span\n                          className={\n                            exam.status || exam.orders?.length\n                              ? \"text-muted\"\n                              : \"text-dark text-bold\"\n                          }\n                        >\n                          <i className=\"fas fa-user text-sm mr-2\"></i>\n                          {exam.customer?.name.toLowerCase()}\n                        </span>\n                      </a>\n                    </td>\n                    <td\n                      className=\"text-center\"\n                      style={{ cursor: \"pointer\" }}\n                      onClick={() => handleStatus(exam)}\n                    >\n                      {exam.status ? (\n                        <i\n                          className=\"fas fa-clipboard-check text-muted\"\n                          title=\"Terminado\"\n                        ></i>\n                      ) : (\n                        <i\n                          className=\"fas fa-clipboard text-info\"\n                          title=\"En proceso\"\n                        ></i>\n                      )}\n                    </td>\n                    <td>\n                      {exam.esferaod}/{exam.esferaoi}\n                    </td>\n                    <td>\n                      {exam.cilindrod}/{exam.cilindroi}\n                    </td>\n                    <td>\n                      {exam.ejeod}/{exam.ejeoi}\n                    </td>\n                    <td>\n                      {exam.adiciond}/{exam.adicioni}\n                    </td>\n                    <td>\n                      {exam.adicion_media_od}/{exam.adicion_media_oi}\n                    </td>\n                    <td>\n                      {exam.dpod}/{exam.dpoi}\n                    </td>\n                    <td>\n                      {exam.alturaod}/{exam.alturaoi}\n                    </td>\n                    <td>\n                      {moment(\n                        context.options?.orderby === \"created_at\"\n                          ? exam.created_at\n                          : exam.updated_at\n                      ).fromNow()}\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"12\">\n                No hay examenes registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Inbox>\n  );\n}\n","export default function GeneralesExam(props) {\n  const catchInputs = (e) => {\n    const { name, type, checked, value } = e.target;\n    const val = type === \"checkbox\" ? checked : value.toLowerCase();\n\n    props.handleGetData(name, val);\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"pc\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"pc\"\n              checked={props.pc}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"pc\">\n              <i className=\"fas fa-desktop\"></i> PC\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"pc_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.pc_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.pc ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"tablet\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"tablet\"\n              checked={props.tablet}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"tablet\">\n              <i className=\"fas fa-tablet-alt\"></i> Tablet\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"tablet_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.tablet_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.tablet ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"movil\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"movil\"\n              checked={props.movil}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"movil\">\n              <i className=\"fas fa-mobile-alt\"></i> Telefono\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"movil_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.movil_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.movil ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"lap\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"lap\"\n              checked={props.lap}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"lap\">\n              <i className=\"fas fa-laptop\"></i> Laptop\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"lap_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.lap_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.lap ? \"\" : \"readonly\"}\n          />\n        </div>\n      </div>\n      <div className=\"row mt-1\">\n        <div className=\"col-md-6\">\n          <ul className=\"list-group\">\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"frontal\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"frontal\"\n                  checked={props.frontal}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"frontal\">\n                  Frontal\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"occipital\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"occipital\"\n                  checked={props.occipital}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"occipital\">\n                  Occipital\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"generality\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"generality\"\n                  checked={props.generality}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"generality\">\n                  General\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"cefalea\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"cefalea\"\n                  checked={props.cefalea}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"cefalea\">\n                  Cefalea\n                </label>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div className=\"col-md-6\">\n          <ul className=\"list-group\">\n            <li className=\"list-group-item\">\n              Temporal\n              <br />\n              <div className=\"row mt-2\">\n                <div className=\"col\">\n                  <div className=\"custom-control custom-switch\">\n                    <input\n                      name=\"temporaod\"\n                      type=\"checkbox\"\n                      className=\"custom-control-input\"\n                      id=\"temporaod\"\n                      checked={props.temporaod}\n                      onChange={catchInputs}\n                    />\n                    <label className=\"custom-control-label\" htmlFor=\"temporaod\">\n                      <i className=\"fa fa-eye\"></i> Derecho\n                    </label>\n                  </div>\n                </div>\n                <div className=\"col\">\n                  <div className=\"custom-control custom-switch\">\n                    <input\n                      name=\"temporaoi\"\n                      type=\"checkbox\"\n                      className=\"custom-control-input\"\n                      id=\"temporaoi\"\n                      checked={props.temporaoi}\n                      onChange={catchInputs}\n                    />\n                    <label className=\"custom-control-label\" htmlFor=\"temporaoi\">\n                      <i className=\"fa fa-eye\"></i> Izquierdo\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              Frecuencia\n              <span className=\"badge badge-pill\">\n                <input\n                  type=\"text\"\n                  name=\"c_frecuencia\"\n                  maxLength=\"60\"\n                  className=\"form-control input-xs\"\n                  defaultValue={props.c_frecuencia ?? \"\"}\n                  onChange={catchInputs}\n                />\n              </span>\n            </li>\n            <li className=\"list-group-item\">\n              <label htmlFor=\"c_intensidad\">Intensidad</label>\n              <div className=\"row\">\n                <div className=\"col-11\">\n                  <input\n                    type=\"range\"\n                    name=\"c_intensidad\"\n                    className=\"custom-range custom-range-info\"\n                    id=\"c_intensidad\"\n                    min=\"0\"\n                    max=\"4\"\n                    defaultValue={props.c_intensidad ?? \"\"}\n                    onChange={catchInputs}\n                  />\n                </div>\n                <div className=\"col-1\">\n                  <h6>{props.c_intensidad}</h6>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { Component } from \"react\";\n\nexport default class InterrogatorioExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Interrogatorio inicial</label>\n            <textarea\n              name=\"interrogatorio\"\n              className=\"form-control\"\n              defaultValue={this.props.interrogatorio ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Cirugias oculares</label>\n            <textarea\n              name=\"coa\"\n              className=\"form-control\"\n              defaultValue={this.props.coa ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Antecedentes oculares patologicas personales</label>\n            <textarea\n              name=\"aopp\"\n              className=\"form-control\"\n              rows=\"2\"\n              defaultValue={this.props.aopp ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Antecedentes oculares patologicas familiares</label>\n            <textarea\n              name=\"aopf\"\n              className=\"form-control\"\n              rows=\"2\"\n              defaultValue={this.props.aopf ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React from \"react\";\n\nconst KeraRetExamComponent = (props) => {\n  const catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    props.onChangeInput(name, value);\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-6\">Keratometria</div>\n        <div className=\"col-6\">Retinoscopia</div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-3\">\n          <i className=\"fas fa-eye\"></i> <label>Derecho</label>\n          <input\n            type=\"text\"\n            name=\"keratometriaod\"\n            maxLength=\"12\"\n            className=\"form-control input-xs\"\n            defaultValue={props.keratometriaod ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-3\">\n          <i className=\"fas fa-eye\"></i> <label>Izquierdo</label>\n          <input\n            type=\"text\"\n            name=\"keratometriaoi\"\n            maxLength=\"12\"\n            className=\"form-control input-xs\"\n            defaultValue={props.keratometriaoi ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n          <input\n            type=\"text\"\n            name=\"rsod\"\n            maxLength=\"16\"\n            className=\"form-control\"\n            defaultValue={props.rsod ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n          <input\n            type=\"text\"\n            name=\"rsoi\"\n            maxLength=\"16\"\n            className=\"form-control\"\n            defaultValue={props.rsoi ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default KeraRetExamComponent;\n","import React, { Component } from \"react\";\n\nexport default class DiabetesExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-8\">\n            <label>Diab&eacute;tico</label>\n          </div>\n          <div className=\"col-md-4\">\n            <label>Fotocoagulaci&oacute;n laser</label>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">Fecha</div>\n          <div className=\"col-2\">Rango de glucosa</div>\n          <div className=\"col-3\">Ultimo examen</div>\n          <div className=\"col-2\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"d_fclod\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"d_fclod\"\n                checked={this.props.d_fclod}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"d_fclod\">\n                <i className=\"fa fa-eye\"></i> Derecho\n              </label>\n            </div>\n          </div>\n          <div className=\"col-2\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"d_fcloi\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"d_fcloi\"\n                checked={this.props.d_fcloi}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"d_fcloi\">\n                <i className=\"fa fa-eye\"></i> Izquierdo\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <input\n              type=\"date\"\n              name=\"d_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_time ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_media\"\n              className=\"form-control\"\n              defaultValue={this.props.d_media ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <input\n              type=\"date\"\n              name=\"d_test\"\n              className=\"form-control\"\n              defaultValue={this.props.d_test ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_fclod_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_fclod_time ?? \"\"}\n              onChange={this.catchInputs}\n              readOnly={this.props.d_fclod ? \"\" : \"readonly\"}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_fcloi_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_fcloi_time ?? \"\"}\n              onChange={this.catchInputs}\n              readOnly={this.props.d_fcloi ? \"\" : \"readonly\"}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Oftalmoscopia</label>\n            <textarea\n              name=\"oftalmoscopia\"\n              className=\"form-control\"\n              defaultValue={this.props.oftalmoscopia ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class AgudezaExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-6\">Capacidad visual</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"cvod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.cvod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"cvoi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.cvoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-md-6\">Agudeza visual (Sin lentes)</div>\n          <div className=\"col-md-6\">\n            Agudeza visual (con la graduaci&oacute;n anterior)\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"avslod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avslod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"avsloi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avsloi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"avcgaod\"\n              maxLength=\"12\"\n              className=\"form-control input-xs\"\n              defaultValue={this.props.avcgaod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"avcgaoi\"\n              maxLength=\"12\"\n              className=\"form-control input-xs\"\n              defaultValue={this.props.avcgaoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6\">Agudeza visual final</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avfod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avfod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avfoi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avfoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-4\">\n            <i className=\"fa fa-eye\"></i>\n            <i className=\"fa fa-eye\"></i> <label>Ambos</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avf2o\"\n              maxLength=\"25\"\n              className=\"form-control\"\n              defaultValue={this.props.avf2o ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class DiagnosticoExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-6\"></div>\n          <div className=\"col-md-6\">Tensi&oacute;n ocular</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            Diagnostico\n            <select\n              name=\"diagnostico\"\n              className=\"form-control\"\n              defaultValue={this.props.diagnostico ?? \"\"}\n              onChange={this.catchInputs}\n            >\n              <option value=\"Emetrope\">Em&eacute;trope</option>\n              <option value=\"hipermetropia\">Hipermetrop&iacute;a</option>\n              <option value=\"hipermetropia-astigmatismo\">\n                Hipermetrop&iacute;a y astigmatismo\n              </option>\n              <option value=\"hipermetropia-miopia\">\n                Hipermetrop&iacute;a y miop&iacute;a\n              </option>\n              <option value=\"astigmatismo-regla\">\n                Astigmatismo con la regla\n              </option>\n              <option value=\"astigmatismo-contra-regla\">\n                Astigmatismo contra la regla\n              </option>\n              <option value=\"astigmatismo-oblicuo\">Astigmatismo oblicuo</option>\n              <option value=\"astigmatismo-miopia\">\n                Astigmatismo/m&iacute;opico\n              </option>\n              <option value=\"miopia\">Miop&iacute;a</option>\n            </select>\n          </div>\n          <div className=\"col-md-3\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"presbicie\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"presbicie\"\n                checked={this.props.presbicie}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"presbicie\">\n                Presbicie\n              </label>\n            </div>\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"number\"\n              name=\"piod\"\n              min=\"0\"\n              max=\"40\"\n              step=\"1\"\n              className=\"form-control\"\n              defaultValue={this.props.piod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"number\"\n              name=\"pioi\"\n              min=\"0\"\n              max=\"40\"\n              step=\"1\"\n              className=\"form-control\"\n              defaultValue={this.props.pioi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Tratamiento oftalmico</label>\n            <textarea\n              name=\"txoftalmico\"\n              className=\"form-control\"\n              defaultValue={this.props.txoftalmico ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import { Component } from \"react\";\n\nexport default class GraduacionExamComponent extends Component {\n  render() {\n    const {\n      readOnly = false,\n      cilindrod,\n      cilindroi,\n      esferaod,\n      esferaoi,\n      ejeod,\n      ejeoi,\n      adiciond,\n      adicioni,\n      adicion_media_od,\n      adicion_media_oi,\n      dpod,\n      dpoi,\n      alturaod,\n      alturaoi,\n      lcmarca,\n      lcgod,\n      lcgoi,\n      showContactGlasses = true,\n    } = this.props;\n\n    return (\n      <>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Esfera</th>\n              <th>Cilindro</th>\n              <th>Eje</th>\n              <th>Adici&oacute;n</th>\n              <th>Adici&oacute;n media</th>\n              <th>D/P</th>\n              <th>Altura</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <i className=\"fa fa-eye mr-1\" title=\"Ojo derecho\"></i>\n                <span className=\"text-sm d-block\">Derecho</span>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"esferaod\"\n                  min=\"-20\"\n                  max=\"20\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={esferaod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{esferaod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"cilindrod\"\n                  min=\"-20\"\n                  max=\"0\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={cilindrod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{cilindrod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"ejeod\"\n                  min=\"0\"\n                  max=\"180\"\n                  step=\"1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  placeholder=\"\"\n                  defaultValue={ejeod ? parseInt(ejeod) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{ejeod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adiciond\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adiciond ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{adiciond ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicion_media_od\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicion_media_od ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">\n                  {adicion_media_od ?? \"\"}\n                </h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"dpod\"\n                  min=\"40\"\n                  max=\"80\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={dpod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{dpod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"alturaod\"\n                  min=\"0\"\n                  max=\"35\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={alturaod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{alturaod ?? \"\"}</h5>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <i className=\"fa fa-eye ml-1\" title=\"Ojo izquierdo\"></i>\n                <span className=\"text-sm d-block\">Izquierdo</span>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"esferaoi\"\n                  min=\"-20\"\n                  max=\"20\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={esferaoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{esferaoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"cilindroi\"\n                  min=\"-20\"\n                  max=\"0\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={cilindroi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{cilindroi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"ejeoi\"\n                  min=\"0\"\n                  max=\"180\"\n                  step=\"1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  placeholder=\"\"\n                  defaultValue={ejeoi ? parseInt(ejeoi) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{ejeoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicioni\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicioni ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{adicioni ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicion_media_oi\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicion_media_oi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">\n                  {adicion_media_oi ?? \"\"}\n                </h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"dpoi\"\n                  min=\"40\"\n                  max=\"80\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={dpoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{dpoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"alturaoi\"\n                  min=\"0\"\n                  max=\"35\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={alturaoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{alturaoi ?? \"\"}</h5>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        {showContactGlasses && (\n          <ul className=\"list-group d-print-none mt-4\">\n            <li className=\"list-group-item\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  Lente de contacto\n                  <input\n                    type=\"text\"\n                    name=\"lcmarca\"\n                    maxLength=\"70\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcmarca ?? \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n                  <input\n                    type=\"text\"\n                    name=\"lcgod\"\n                    maxLength=\"30\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcgod ? lcgod : \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n                <div className=\"col\">\n                  <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n                  <input\n                    type=\"text\"\n                    name=\"lcgoi\"\n                    maxLength=\"30\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcgoi ? lcgoi : \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n              </div>\n            </li>\n          </ul>\n        )}\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name, type, value, checked } = e.target,\n      { onChangeInput } = this.props;\n    let val = value;\n\n    if (type === \"checkbox\") val = checked;\n    if (type === \"text\") val = value.toLowerCase();\n    if (type === \"number\") {\n      if (name === \"ejeod\" || name === \"ejeoi\") {\n        val = parseInt(value);\n      } else {\n        val = parseFloat(value);\n        val = val.toFixed(2);\n        val = parseFloat(val);\n      }\n    }\n    if (onChangeInput) onChangeInput(name, val);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class ObservacionesExam extends Component {\n  render() {\n    return (\n      <>\n        <label htmlFor=\"observaciones\">Observaciones</label>\n        <textarea\n          name=\"observaciones\"\n          id=\"observaciones\"\n          className=\"form-control\"\n          defaultValue={this.props.observaciones ?? \"\"}\n          onChange={this.catchInputs}\n        ></textarea>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import moment from \"moment\";\n\nconst handleTypeInput = (key) => {\n  if (\n    key === \"pc\" ||\n    key === \"tablet\" ||\n    key === \"movil\" ||\n    key === \"lap\" ||\n    key === \"pc_time\" ||\n    key === \"tablet_time\" ||\n    key === \"movil_time\" ||\n    key === \"lap_time\" ||\n    key === \"frontal\" ||\n    key === \"occipital\" ||\n    key === \"generality\" ||\n    key === \"cefalea\" ||\n    key === \"temporaod\" ||\n    key === \"temporaoi\" ||\n    key === \"c_frecuencia\" ||\n    key === \"c_intensidad\"\n  ) {\n    return \"generales\";\n  }\n  if (\n    key === \"interrogatorio\" ||\n    key === \"coa\" ||\n    key === \"aopp\" ||\n    key === \"aopf\"\n  ) {\n    return \"interrogatorios\";\n  }\n  if (\n    key === \"keratometriaod\" ||\n    key === \"keratometriaoi\" ||\n    key === \"rsod\" ||\n    key === \"rsoi\"\n  ) {\n    return \"keraRet\";\n  }\n  if (\n    key === \"d_time\" ||\n    key === \"d_media\" ||\n    key === \"d_test\" ||\n    key === \"d_fclod\" ||\n    key === \"d_fclod_time\" ||\n    key === \"d_fcloi\" ||\n    key === \"d_fcloi_time\"\n  ) {\n    return \"diabetes\";\n  }\n  if (\n    key === \"cvod\" ||\n    key === \"cvoi\" ||\n    key === \"avslod\" ||\n    key === \"avsloi\" ||\n    key === \"avcgaod\" ||\n    key === \"avcgaoi\" ||\n    key === \"avfod\" ||\n    key === \"avfoi\" ||\n    key === \"avf2o\"\n  ) {\n    return \"agudeza\";\n  }\n  if (\n    key === \"diagnostico\" ||\n    key === \"presbicie\" ||\n    key === \"piod\" ||\n    key === \"pioi\" ||\n    key === \"txoftalmico\"\n  ) {\n    return \"diagnostico\";\n  }\n  if (\n    key === \"esferaod\" ||\n    key === \"esferaoi\" ||\n    key === \"cilindrod\" ||\n    key === \"cilindroi\" ||\n    key === \"ejeod\" ||\n    key === \"ejeoi\" ||\n    key === \"adiciond\" ||\n    key === \"adicioni\" ||\n    key === \"adicion_media_od\" ||\n    key === \"adicion_media_oi\" ||\n    key === \"dpod\" ||\n    key === \"dpoi\" ||\n    key === \"alturaod\" ||\n    key === \"alturaoi\" ||\n    key === \"lcmarca\" ||\n    key === \"lcgod\" ||\n    key === \"lcgoi\"\n  ) {\n    return \"graduacion\";\n  }\n  if (key === \"observaciones\") {\n    return \"observaciones\";\n  }\n\n  return null;\n};\nconst handleCodeName = (category) => {\n  let code = \"\";\n  if (category.parent) {\n    if (category.parent.parent) {\n      code = category.parent.parent.meta.code;\n      code += category.parent.meta.code;\n      code += category.meta.code;\n    } else {\n      code = category.parent.meta.code;\n      code += category.meta.code;\n    }\n  } else {\n    code = category.meta.code;\n  }\n\n  return code;\n};\nconst getCodeGrad = (category, esferaod, esferaoi, cilindrod, cilindroi) => {\n  const code = Object.keys(category).length ? handleCodeName(category) : null;\n\n  if (!code) return {};\n\n  let gradod = \"+000000\",\n    gradoi = \"+000000\";\n\n  if (cilindrod || esferaod) {\n    gradod = esferaod > 0 ? \"+\" : \"\";\n    gradod +=\n      esferaod.toFixed(2).toString().replace(\".\", \"\") +\n      cilindrod.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\n  }\n  if (cilindroi || esferaoi) {\n    gradoi = esferaoi > 0 ? \"+\" : \"\";\n    gradoi +=\n      esferaoi.toFixed(2).toString().replace(\".\", \"\") +\n      cilindroi.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\n  }\n\n  return {\n    code,\n    od: gradod,\n    oi: gradoi,\n  };\n};\n//Quickly save exam with a button\nconst handleSaveExam = (contact, id = 0, _save) => {\n  const examToday = contact.examenes.filter(\n    (exam) =>\n      moment(exam.created_at).diff(moment(), \"days\") === 0 || !exam.estado\n  );\n\n  if (examToday.length && !id) {\n    window.Swal.fire({\n      title: \"Examenes\",\n      text: \"Existe un examen activo o del dia\",\n      icon: \"error\",\n    });\n    console.error(\"[OrusSystem] Examenes activos:\", examToday.length);\n    return false;\n  }\n\n  //Confirmacin de almacenamiento\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `Esta seguro de actualizar este examen?`\n      : \"Esta seguro de crear un nuevo examen?\",\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        id: 0,\n        data: {\n          edad: contact.edad,\n          contact_id: contact.id,\n        },\n      });\n    }\n  });\n};\n\nconst toExportActions = {\n  handleTypeInput,\n  handleCodeName,\n  getCodeGrad,\n  handleSaveExam,\n};\n\nexport default toExportActions;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport useCategory from \"../../../hooks/useCategory\";\nimport helper from \"../helpers\";\n\nexport default function RecomendationGlass(props) {\n  const [state, setState] = useState({\n    category_list: [],\n    category_list_2: [],\n    category_list_3: [],\n    category_id_1: 0,\n    category_id_2: 0,\n    category_id_3: 0,\n    category: {},\n    codesItems: {},\n  });\n  const _category = useCategory();\n  const {\n      category_id,\n      title,\n      esferaod,\n      esferaoi,\n      cilindrod,\n      cilindroi,\n      handleCodesItems,\n    } = props,\n    {\n      codesItems,\n      category_id_1,\n      category_id_2,\n      category_id_3,\n      category_list_2,\n      category_list_3,\n      category_list,\n    } = state;\n  // Functions\n  const handleCategoryChange = (e) => {\n    const { name, value } = e.target,\n      { onChangeInput: _onChangeInput } = props;\n\n    switch (name) {\n      case \"category_id_1\":\n        for (const key in category_list) {\n          if (category_list[key].id === parseInt(value)) {\n            setState({\n              ...state,\n              category_id_1: parseInt(value),\n              category_id_3: 0,\n              category_list_2: category_list[key].sons,\n              category_list_3: [],\n            });\n            break;\n          }\n        }\n        break;\n      case \"category_id_2\":\n        if (value) {\n          state.category_list_2.map((cat) => {\n            if (cat.id === parseInt(value)) {\n              setState({\n                ...state,\n                category_id_2: parseInt(value),\n                category_list_3: cat.sons,\n              });\n            }\n            return null;\n          });\n        }\n        break;\n      case \"category_id_3\":\n        _onChangeInput(parseInt(value));\n        break;\n\n      default:\n        setState({\n          ...state,\n          [name]: parseInt(value),\n        });\n        break;\n    }\n  };\n  const handleClickCategory = (e) => {\n    e.preventDefault();\n    const { onChangeInput } = props;\n    setState({\n      ...state,\n      category_list_2: [],\n      category_list_3: [],\n      category_id_1: 0,\n      category_id_2: 0,\n      category_id_3: 0,\n      category: {},\n      codesItems: {},\n    });\n    onChangeInput(0);\n  };\n  const getCategory = async (id) => {\n    if (id) {\n      _category.getCategory(id).then((cat) => {\n        if (cat.id) {\n          setState({\n            ...state,\n            category: cat,\n          });\n        } else {\n          console.error(\"[DEBUG] NEW ERROR\", cat);\n        }\n      });\n    }\n\n    return {};\n  };\n  const getCategories = async () => {\n    _category\n      .getCategories({\n        categoryid: \"raiz\",\n        search: \"lentes\",\n        order: \"id\",\n      })\n      .then(({ data: cat }) => {\n        setState({\n          ...state,\n          category_list: cat[0].sons,\n        });\n      });\n  };\n\n  useEffect(() => {\n    if (category_id) {\n      getCategory(category_id);\n    } else {\n      getCategories();\n    }\n  }, [category_id]);\n\n  useEffect(() => {\n    if (state.category.id) {\n      const data = helper.getCodeGrad(\n        state.category,\n        esferaod,\n        esferaoi,\n        cilindrod,\n        cilindroi\n      );\n\n      setState({\n        ...state,\n        codesItems: data,\n      });\n    }\n  }, [state.category]);\n\n  return (\n    <div className=\"card border border-info rounded d-print-none\">\n      <div className=\"card-body\">\n        <h3 className=\"card-title text-success m-2\">{title}</h3>\n        {!category_id && (\n          <>\n            {category_list.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Tipo</span>\n                </div>\n                <select\n                  name=\"category_id_1\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_1 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el tipo --</option>\n                  {category_list.map((cat) => {\n                    if (\n                      cat.meta &&\n                      cat.meta.rangoInf <= esferaod &&\n                      esferaod <= cat.meta.rangoSup &&\n                      cat.meta.rangoInf <= esferaoi &&\n                      esferaoi <= cat.meta.rangoSup &&\n                      cat.meta.cil <= cilindrod &&\n                      cat.meta.cil <= cilindroi\n                    ) {\n                      return (\n                        <option value={cat.id} key={cat.id}>\n                          {cat.name}\n                        </option>\n                      );\n                    } else return null;\n                  })}\n                </select>\n              </div>\n            ) : null}\n\n            {category_id_1 && category_list_2.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Material</span>\n                </div>\n                <select\n                  name=\"category_id_2\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_2 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el material --</option>\n                  {category_list_2.map((cat) => {\n                    if (\n                      cat.meta &&\n                      cat.meta.rangoInf <= esferaod &&\n                      esferaod <= cat.meta.rangoSup &&\n                      cat.meta.rangoInf <= esferaoi &&\n                      esferaoi <= cat.meta.rangoSup\n                    ) {\n                      return (\n                        <option value={cat.id ?? \"\"} key={cat.id}>\n                          {cat.name}\n                        </option>\n                      );\n                    } else return false;\n                  })}\n                </select>\n              </div>\n            ) : null}\n\n            {category_id_1 && category_id_2 && category_list_3.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Tratamiento</span>\n                </div>\n                <select\n                  name=\"category_id_3\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_3 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el tratamiento --</option>\n                  {category_list_3.map((cat) => {\n                    return (\n                      <option value={cat.id ?? \"\"} key={cat.id}>\n                        {cat.name}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n            ) : null}\n          </>\n        )}\n\n        {Object.values(codesItems).length ? (\n          <>\n            {codesItems.code + codesItems.od ===\n            codesItems.code + codesItems.oi ? (\n              <p className=\"card-text\">\n                <label>Lente</label>: {codesItems.code + codesItems.od}\n              </p>\n            ) : (\n              <div className=\"row card-text\">\n                <div className=\"col\">\n                  <label>Lente Derecho</label>\n                  <br /> {codesItems.code + codesItems.od}\n                </div>\n                <div className=\"col\">\n                  <label>Lente Izquierdo</label>\n                  <br /> {codesItems.code + codesItems.oi}\n                </div>\n              </div>\n            )}\n\n            {handleCodesItems && (\n              <p className=\"card-text text-right\">\n                <button\n                  className=\"btn btn-info\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    handleCodesItems({\n                      code: codesItems.code,\n                      od: codesItems.od,\n                      oi: codesItems.oi,\n                    });\n                  }}\n                >\n                  <i className=\"fas fa-check mr-2\"></i>Siguiente\n                </button>\n              </p>\n            )}\n\n            {props.update ? (\n              <p className=\"card-text text-right\">\n                <button\n                  className=\"btn btn-outline-info btn-sm card-link mt-2\"\n                  onClick={handleClickCategory}\n                >\n                  Cambiar\n                </button>\n              </p>\n            ) : null}\n          </>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport moment from \"moment\";\nimport useContact from \"../../../hooks/useContact\";\n\nimport helper from \"../helper\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function CardNewContact(props) {\n  const { title = \"contacto\", nameDefault, messages = [] } = props;\n  const [data, setData] = useState({\n    name: \"\",\n    phone: \"\",\n    birthday: moment(),\n    email: \"\",\n    gender: \"female\",\n  });\n\n  const hookContact = useContact();\n\n  const handleValidForm = (showMsg = false) => {\n    const verify = helper.handleVerificationData(data, showMsg);\n    return verify.result;\n  };\n\n  const handleSave = () => {\n    const valid = handleValidForm(true),\n      body = {\n        ...data,\n        phones: { cell: data.phone },\n        type: 0,\n        business: 0,\n      };\n    if (!valid) return false;\n\n    hookContact.saveContact(body).then((data) => {\n      if (data?.id) {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Usuario guardado correctamente\",\n          showConfirmButton: false,\n          showCancelButton: false,\n          timer: 3000,\n        }).then(({ dissmiss }) => {\n          if (!dissmiss) {\n            props.handleResult(data);\n          }\n        });\n      } else {\n        window.Swal.fire({\n          icon: \"errror\",\n          title: \"Error al guardar el usuario\",\n          showConfirmButton: false,\n          showCancelButton: false,\n          timer: 3000,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (nameDefault) {\n      setData({\n        ...data,\n        name: nameDefault,\n      });\n    }\n  }, []);\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-primary text-bold\">\n              <i className=\"fas fa-plus mr-2\"></i>\n              Crear nuevo {title}\n            </h5>\n            <button\n              type=\"button\"\n              className=\"close\"\n              onClick={props.handleCancel}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            {messages.length ? (\n              <>\n                {messages.map((message, index) => {\n                  const { type, text } = message;\n\n                  return (\n                    <div\n                      className={`alert alert-${\n                        type === \"error\"\n                          ? \"danger\"\n                          : type === \"success\"\n                          ? type\n                          : \"warning\"\n                      }`}\n                      key={index}\n                    >\n                      <i className=\"fas fa-info mr-1\"></i>\n                      {text}\n                    </div>\n                  );\n                })}\n              </>\n            ) : null}\n            <div className=\"form-group\">\n              <label>Nombre del {title}</label>\n              <input\n                type=\"text\"\n                className=\"form-control text-uppercase\"\n                placeholder={`Nombre del ${title}`}\n                autoComplete=\"off\"\n                required=\"required\"\n                pattern=\"^[a-zA-Z.]{2,20}[\\s]{1}[a-zA-Z.]{2,20}.*\"\n                minLength=\"8\"\n                defaultValue={data.name}\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    name: target.value.toLowerCase(),\n                  });\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>E-mail</label>\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                defaultValue={data.email}\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    email: target.value.toLowerCase(),\n                  });\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Telefono celular</label>\n              <input\n                type=\"tel\"\n                placeholder=\"Telefono celular\"\n                className=\"form-control\"\n                maxLength=\"10\"\n                value={data.phone}\n                onChange={({ target }) => {\n                  if (!isNaN(target.value)) {\n                    setData({\n                      ...data,\n                      phone: target.value,\n                    });\n                  }\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Fecha de naciemiento</label>\n\n              <DatePicker\n                className={`form-control`}\n                locale=\"es\"\n                selected={new Date(data.birthday.format(\"YYYY/MM/DD\"))}\n                dateFormat=\"dd/MM/yyyy\"\n                maxDate={new Date()}\n                placeholderText=\"Seleccione una fecha\"\n                onSelect={(date) => {\n                  if (date) {\n                    date = date.toLocaleDateString(\"es-MX\");\n                    date = moment(date, \"DD/MM/YYYY\");\n\n                    if (date.isValid()) {\n                      setData({\n                        ...data,\n                        birthday: date,\n                      });\n                    }\n                  }\n                }}\n                onChange={(date) => {\n                  if (date) {\n                    date = date.toLocaleDateString(\"es-MX\");\n                    date = moment(date, \"DD/MM/YYYY\");\n\n                    if (date.isValid()) {\n                      setData({\n                        ...data,\n                        birthday: date,\n                      });\n                    }\n                  }\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Gnero</label>\n              <select\n                className=\"custom-select\"\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    gender: target.value,\n                  });\n                }}\n                defaultValue={data.gender}\n              >\n                <option value=\"male\">Hombre</option>\n                <option value=\"female\">Mujer</option>\n              </select>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <div className=\"btn-group\">\n              {props.handleCancel && (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default\"\n                  onClick={props.handleCancel}\n                >\n                  <i className=\"fas fa-ban mr-1\"></i>\n                  cancelar\n                </button>\n              )}\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={handleSave}\n              >\n                <i className=\"fas fa-save\"></i>\n                Guardar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","export default function Autocomplete(props) {\n  return (\n    <div\n      className=\"position-absolute overflow-auto\"\n      style={{\n        left: props.left ?? \"0rem\",\n        height: !props.showNew ? \"12rem\" : \"0rem\",\n        zIndex: \"10\",\n        width: \"100%\",\n        maxWidth: props.maxWidth ?? \"30rem\",\n      }}\n    >\n      <ul className=\"list-group\">\n        {props.contacts.length ? (\n          <>\n            {props.contacts.map((contact) => {\n              if (contact.id === 2) {\n                return (\n                  <li\n                    key={contact.id}\n                    className=\"list-group-item text-capitalize\"\n                  >\n                    <i className=\"fas fa-user mr-1 text-secondary\"></i>\n                    {contact.name.toLowerCase()}\n                  </li>\n                );\n              } else {\n                return (\n                  <li\n                    key={contact.id}\n                    className=\"list-group-item text-capitalize\"\n                  >\n                    <a\n                      href=\"#selecte\"\n                      className=\"text-indigo\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        props.handleSelected(contact);\n                      }}\n                    >\n                      <i className=\"fas fa-user mr-1\"></i>\n                      {contact.name.toLowerCase()}\n                    </a>\n                  </li>\n                );\n              }\n            })}\n            {props.meta?.total > props.meta?.per_page ? (\n              <li className=\"list-group-item text-muted\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Existen mas registros, sea mas espesifico\n              </li>\n            ) : null}\n          </>\n        ) : props.meta?.total === 0 && props.handleNew ? (\n          <li className=\"list-group-item\">\n            <a\n              href=\"create\"\n              onClick={(e) => {\n                e.preventDefault();\n                props.handleNew();\n              }}\n            >\n              <i className=\"fas fa-info-circle mr-1 text-dark\"></i>\n              <label>El {props.title}:</label>\n              <span className=\"text-uppercase text-dark font-weight-bold ml-1\">\n                {props.text}\n              </span>\n              , no existe.\n              <span className=\"badge badge-dark ml-2\">Registrar</span>\n            </a>\n          </li>\n        ) : null}\n      </ul>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useRef, useState } from \"react\";\n\nimport Easycontact from \"./CardNewContact\";\nimport Autocomplete from \"./Autocomplete\";\n\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function ShowCardSearch(props) {\n  const [state, setState] = useState({\n    search: \"\",\n    contacts: [],\n    meta: {},\n    new: false,\n    newName: \"\",\n    loading: false,\n    timer: \"\",\n  });\n  const _contacts = useContact();\n  const input = useRef();\n  // Functions\n  const handleSearch = () => {\n    setState({\n      ...state,\n      timer: \"\",\n      loading: true,\n    });\n    _contacts\n      .getContacts({\n        search: state.search,\n        itemsPage: 10,\n      })\n      .then((res) => {\n        if (res.data) {\n          setState({\n            ...state,\n            contacts: res.data,\n            meta: res.meta,\n            loading: false,\n          });\n        } else {\n          const messages = Object.values(res.errors);\n\n          console.error(\"[Orus System] Message of server:\", res.errors);\n          window.Swal.fire({\n            title: \"Contactos\",\n            text: messages[0],\n            icon: \"error\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n\n          setState({\n            ...state,\n            contacts: [],\n            meta: {},\n            loading: false,\n          });\n        }\n      });\n  };\n\n  useEffect(() => {\n    let toTimer = null;\n    if (state.search.length >= 3) {\n      if (state.timer) clearTimeout(state.timer);\n      toTimer = setTimeout(() => handleSearch(), 2000);\n      setState({\n        ...state,\n        timer: toTimer,\n        contacts: [],\n        meta: {},\n      });\n    } else if (!state.search.length) {\n      if (state.timer) clearTimeout(state.timer);\n      setState({\n        ...state,\n        timer: null,\n        contacts: [],\n        meta: {},\n        loading: false,\n      });\n    }\n  }, [state.search]);\n\n  return (\n    <>\n      <input\n        type=\"text\"\n        className=\"form-control text-uppercase\"\n        defaultValue={state.search}\n        onChange={({ target }) => {\n          setState({\n            ...state,\n            search: target.value?.toLowerCase(),\n          });\n        }}\n        disabled={state.loading}\n        onKeyDown={({ key }) => {\n          if (key === \"Escape\") {\n            setState({\n              ...state,\n              contacts: [],\n              search: \"\",\n            });\n            input.current.value = \"\";\n          } else if (key === \"Enter\") {\n            if (state.timer) clearTimeout(state.timer);\n            handleSearch();\n            setState({\n              ...state,\n              timer: null,\n            });\n          }\n        }}\n        ref={input}\n      />\n\n      {state.loading && (\n        <div className=\"float-right px-4\">\n          <div className=\"spinner-border text-indigo\"></div>\n        </div>\n      )}\n\n      {state.new && (\n        <Easycontact\n          title={props.title}\n          nameDefault={state.newName}\n          handleCancel={(e) => {\n            setState({\n              ...state,\n              new: false,\n              newName: \"\",\n            });\n          }}\n          handleResult={(contact) => {\n            setState({\n              ...state,\n              new: false,\n              newName: \"\",\n            });\n            props.handleSelectContact(contact);\n          }}\n        />\n      )}\n\n      {state.search.length > 2 && !state.loading && (\n        <div className=\"w-100 d-block position-static\">\n          <Autocomplete\n            contacts={state.contacts}\n            text={state.search}\n            meta={state.meta}\n            title={props.title}\n            left=\"6rem\"\n            maxWidth=\"28rem\"\n            handleNew={(e) => {\n              setState({\n                ...state,\n                contacts: [],\n                search: \"\",\n                new: true,\n                newName: state.search,\n              });\n              input.current.value = \"\";\n            }}\n            handleSelected={(contact) => {\n              props.handleSelectContact(contact);\n\n              setState({\n                ...state,\n                contacts: [],\n                search: \"\",\n              });\n              input.current.value = \"\";\n            }}\n          />\n        </div>\n      )}\n    </>\n  );\n}\n","import { useHistory } from \"react-router-dom\";\nimport Search from \"./ShowCardSearch\";\n\nexport default function ShowContactComponent(props) {\n  const { data = {}, readOnly = false, title = \"contacto\", legend } = props;\n  const history = useHistory();\n\n  return (\n    <div className=\"w-100 d-block\">\n      {legend && !data.id && (\n        <span className=\"text-sm text-muted ml-4 w-100 d-block\">\n          <label>Primero:</label> {legend}\n        </span>\n      )}\n\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className=\"input-group-text text-capitalize\">\n            <i className=\"fas fa-user mr-2\"></i> {title}\n          </span>\n        </div>\n\n        \n        {data.id ? (\n          <>\n            <span className=\"form-control bg-light\">\n              {data.name.toUpperCase()}\n              <span className=\"badge badge-secondary mx-1\">\n                <i className=\"fas fa-envelope mr-1\"></i>\n                {data.email ? data.email : \"--\"}\n              </span>\n              <span className=\"badge badge-secondary ml-1\">\n                <i className=\"fas fa-calendar mr-1\"></i>\n                {props.age ? `${props.age} aos` : \"--\"}\n              </span>\n            </span>\n            {!readOnly && (\n              <div className=\"float-right\">\n                <div className=\"btn-group btn-sm d-print-none\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary btn-sm\"\n                    onClick={() => {\n                      window.Swal.fire({\n                        title: \"Contactos\",\n                        text: `Esta seguro de cambiar de ${props.title}?`,\n                        icon: \"question\",\n                        showCancelButton: true,\n                        // confirmButtonColor: \"#d33\",\n                        confirmButtonText: \"Cambiar\",\n                        cancelButtonText: \"Cancelar\",\n                        showLoaderOnConfirm: true,\n                      }).then(({ dismiss }) => {\n                        if (!dismiss) {\n                          props.handleContactSelect({ id: 0 });\n                          //props.handleContactSelect();\n                        }\n                      });\n                    }}\n                    title=\"Cambiar\"\n                  >\n                    <i className=\"fas fa-exchange-alt\"></i>\n                  </button>\n                  <button\n                    className=\"btn bg-indigo btn-sm\"\n                    onClick={() => history.push(`/contactos/${data.id}`)}\n                    title=\"Editar\"\n                  >\n                    <i className=\"fas fa-edit\"></i>\n                  </button>\n                </div>\n              </div>\n            )}\n          </>\n        ) : (\n          <Search\n            title={title}\n            handleSelectContact={(contact) => {\n              props.handleContactSelect(contact);\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n","export default function SideBarRigth({ state, handle: _handle }) {\n  return (\n    <div className=\"nav flex-column nav-tabs\">\n      <a\n        className={!state.panel ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(0);\n        }}\n      >\n        <i\n          className={\n            state.generales\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Generales\n      </a>\n\n      <a\n        className={state.panel === 1 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(1);\n        }}\n      >\n        <i\n          className={\n            state.interrogatorios\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Interrogatorio\n      </a>\n\n      <a\n        className={state.panel === 2 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(2);\n        }}\n      >\n        <i\n          className={\n            state.keraRet\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Keratometria\n      </a>\n\n      <a\n        className={state.panel === 3 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(3);\n        }}\n      >\n        <i\n          className={\n            state.diabetes\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Diabetes\n      </a>\n\n      <a\n        className={state.panel === 4 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(4);\n        }}\n      >\n        <i\n          className={\n            state.agudeza\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Agudeza\n      </a>\n\n      <a\n        className={state.panel === 5 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(5);\n        }}\n      >\n        <i\n          className={\n            state.diagnostico\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Diagnostico\n      </a>\n\n      <a\n        className={state.panel === 6 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(6);\n        }}\n      >\n        <i\n          className={\n            state.graduacion\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Graduacin\n      </a>\n\n      <a\n        className={state.panel === 7 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(7);\n        }}\n      >\n        <i\n          className={\n            state.observaciones\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Observaciones\n      </a>\n\n      <a\n        className={state.panel === 8 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(8);\n        }}\n      >\n        <i\n          className={\n            state.recomendaciones\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Recomendaciones\n      </a>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n//Componentes\nimport Generales from \"./views/GeneralesExam\";\nimport Interrogatorios from \"./views/interrogatoriosExam\";\nimport KeraRet from \"./views/keraRetExam\";\nimport Diabetes from \"./views/diabetesExam\";\nimport Agudeza from \"./views/agudezaExam\";\nimport Diagnostico from \"./views/diagnosticoExam\";\nimport Graduacion from \"./views/graduacionExam\";\nimport Observaciones from \"./views/observacionesExam\";\nimport Recomendaciones from \"./views/RecomendationGlass\";\nimport ShowContact from \"../Contacts/views/ShowCard\";\nimport SideBarRigth from \"./views/SideBarRigth\";\nimport useExam from \"../../hooks/useExam\";\nimport Activitys from \"../Activitys\";\n\nexport default function Add(props) {\n\n\n  const [state, setState] = useState({\n    ...getDataDefault(),\n    loading: false,\n    panel: 0,\n    used: {\n      generales: false,\n      interrogatorios: false,\n      keraRet: false,\n      diabetes: false,\n      agudeza: false,\n      diagnostico: false,\n      graduacion: false,\n      observaciones: false,\n      recomendaciones: false,\n    },\n    activitys:[],\n  });\n\n  \n  const { id } = props.match.params;\n  const _exams = useExam();\n  const history = useHistory();\n\n  // Functions\n  const handlePanel = (num) => {\n    if (isNaN(num)) return;\n    if (typeof num === \"string\") num = parseInt(num);\n\n    setState({\n      ...state,\n      panel: num,\n    });\n  };\n  const handleSave = () => {\n\n    const data = {\n      ...state,\n    };\n\n\n    const { contact } = data;\n    delete data.loading;\n    delete data.panel;\n    delete data.used;\n    delete data.contact;\n    if (!data.category_ii) delete data.category_ii;\n    if (!data.category_id) delete data.category_id;\n\n    if (\n      (data.cilindrod < 0 && !data.ejeod) ||\n      (data.cilindroi < 0 && !data.ejeoi)\n    ) {\n      window.Swal.fire(\n        \"Consultorio\",\n        \"El campo CILINDRO esta vacio\",\n        \"warning\"\n      );\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Consultorio\",\n      text: data.id\n        ? `Desea actualizar el examen de ${contact.name.toUpperCase()}?`\n        : `Desea crear un nuevo examen para ${contact.name.toUpperCase()}?`,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonText: data.id ? \"Actualizar\" : \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        _exams.saveExam(data).then((res) => {\n          if (res?.id) {\n            console.log(\"[Orus System] Save exam successfully\", res.id);\n            props.handleNewOrEdit();\n            history.push(\"/consultorio\");\n          } else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.error(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      console.log(\"[Orus System] Loading exam:\", id);\n      setState({\n        ...state,\n        loading: false,\n      });\n      _exams.getExam(id).then((res) => {        \n        res.category_ii = res.category_ii?.id;\n        res.category_id = res.category_id?.id;\n\n        setState({\n          ...getDataDefault(res),\n          loading: false,\n          panel: 0,\n          used: {\n            generales: true,\n            interrogatorios: true,\n            keraRet: true,\n            diabetes: true,\n            agudeza: true,\n            diagnostico: true,\n            graduacion: true,\n            observaciones: true,\n            recomendaciones: true,\n          },\n          activitys: res.activity ?? [],\n        });\n      });\n    }\n  }, [id]);\n\n  return (\n    <>\n      <div className=\"card card-info card-outline d-print-none\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title text-info\">\n            <i className=\"fas fa-notes-medical mr-1\"></i>\n            {state.id ? (\n              <label>\n                Examen <span className=\"badge badge-info\">#{state.id}</span>\n              </label>\n            ) : (\n              \"Nuevo examen\"\n            )}\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"form-group\">\n            <ShowContact\n              readOnly={state.id ? true : false}\n              title=\"paciente\"\n              legend=\"Busque el paciente por nombre para crear un nuevo examen\"\n              left=\"6.5rem\"\n              data={state.contact}\n              age = {state.age}\n              handleContactSelect={(doc) => {\n                setState({\n                  ...state,\n                  contact: doc,\n                  contact_id: doc.id,\n                  age:doc.age\n                });\n              }}\n            />\n          </div>\n\n          {state.contact?.id ? (\n            <div className=\"row\">\n              <div className=\"col-2\">\n                <SideBarRigth\n                  state={{ panel: state.panel, ...state.used }}\n                  handle={handlePanel}\n                />\n              </div>\n              <div className=\"col-10\">\n                {!state.panel ? (\n                  <Generales\n                    pc={state.pc ?? \"\"}\n                    tablet={state.tablet ?? \"\"}\n                    movil={state.movil ?? \"\"}\n                    lap={state.lap ?? \"\"}\n                    lap_time={state.lap_time ?? \"\"}\n                    pc_time={state.pc_time ?? \"\"}\n                    tablet_time={state.tablet_time ?? \"\"}\n                    movil_time={state.movil_time ?? \"\"}\n                    cefalea={state.cefalea ?? \"\"}\n                    c_frecuencia={state.c_frecuencia ?? \"\"}\n                    c_intensidad={state.c_intensidad ?? \"\"}\n                    frontal={state.frontal ?? \"\"}\n                    temporal={state.temporal ?? \"\"}\n                    occipital={state.occipital ?? \"\"}\n                    generality={state.generality ?? \"\"}\n                    temporaoi={state.temporaoi ?? \"\"}\n                    temporaod={state.temporaod ?? \"\"}\n                    handleGetData={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          generales: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n                {state.panel === 1 ? (\n                  <Interrogatorios\n                    interrogatorio={state.interrogatorio ?? \"\"}\n                    coa={state.coa ?? \"\"}\n                    aopp={state.aopp ?? \"\"}\n                    aopf={state.aopf ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          interrogatorios: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 2 ? (\n                  <KeraRet\n                    keratometriaoi={state.keratometriaoi ?? \"\"}\n                    keratometriaod={state.keratometriaod ?? \"\"}\n                    rsoi={state.rsoi ?? \"\"}\n                    rsod={state.rsod ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          keraRet: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 3 ? (\n                  <Diabetes\n                    d_time={state.d_time ?? \"\"}\n                    d_media={state.d_media ?? \"\"}\n                    d_test={state.d_test ?? \"\"}\n                    d_fclod={state.d_fclod ?? \"\"}\n                    d_fclod_time={state.d_fclod_time ?? \"\"}\n                    d_fcloi={state.d_fcloi ?? \"\"}\n                    d_fcloi_time={state.d_fcloi_time ?? \"\"}\n                    oftalmoscopia={state.oftalmoscopia ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          diabetes: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 4 ? (\n                  <Agudeza\n                    cvod={state.cvod ?? \"\"}\n                    cvoi={state.cvoi ?? \"\"}\n                    avslod={state.avslod ?? \"\"}\n                    avsloi={state.avsloi ?? \"\"}\n                    avcgaod={state.avcgaod ?? \"\"}\n                    avcgaoi={state.avcgaoi ?? \"\"}\n                    avfod={state.avfod ?? \"\"}\n                    avfoi={state.avfoi ?? \"\"}\n                    avf2o={state.avf2o ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          agudeza: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 5 ? (\n                  <Diagnostico\n                    diagnostico={state.diagnostico ?? \"\"}\n                    presbicie={state.presbicie ?? \"\"}\n                    piod={state.piod ?? \"\"}\n                    pioi={state.pioi ?? \"\"}\n                    txoftalmico={state.txoftalmico ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          diagnostico: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 6 ? (\n                  <Graduacion\n                    esferaod={state.esferaod ?? 0}\n                    esferaoi={state.esferaoi ?? 0}\n                    cilindrod={state.cilindrod ?? 0}\n                    cilindroi={state.cilindroi ?? 0}\n                    ejeod={state.ejeod ?? 0}\n                    ejeoi={state.ejeoi ?? 0}\n                    adiciond={state.adiciond ?? 0}\n                    adicioni={state.adicioni ?? 0}\n                    adicion_media_od={state.adicion_media_od ?? 0}\n                    adicion_media_oi={state.adicion_media_oi ?? 0}\n                    dpod={state.dpod ?? 0}\n                    dpoi={state.dpoi ?? 0}\n                    alturaod={state.alturaod ?? 0}\n                    alturaoi={state.alturaoi ?? 0}\n                    lcmarca={state.lcmarca ?? 0}\n                    lcgod={state.lcgod ?? 0}\n                    lcgoi={state.lcgoi ?? 0}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          graduacion: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 7 ? (\n                  <Observaciones\n                    observaciones={state.observaciones ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          observaciones: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 8 ? (\n                  <div className=\"row\">\n                    <div className=\"col\">\n                      <Recomendaciones\n                        category_id={state.category_id ?? null}\n                        esferaod={state.esferaod ?? \"\"}\n                        esferaoi={state.esferaoi ?? \"\"}\n                        cilindrod={state.cilindrod ?? \"\"}\n                        cilindroi={state.cilindroi ?? \"\"}\n                        nameItem=\"item1\"\n                        title=\"Recomendacion principal\"\n                        onChangeInput={(value) => {\n                          setState({\n                            ...state,\n                            category_id: value,\n                            category_ii: 0,\n                            used: {\n                              ...state.used,\n                              recomendaciones: true,\n                            },\n                          });\n                        }}\n                        update={true}\n                      />\n                    </div>\n                    {state.category_id ? (\n                      <div className=\"col\">\n                        <Recomendaciones\n                          category_id={state.category_ii ?? null}\n                          esferaod={state.esferaod ?? \"\"}\n                          esferaoi={state.esferaoi ?? \"\"}\n                          cilindrod={state.cilindrod ?? \"\"}\n                          cilindroi={state.cilindroi ?? \"\"}\n                          nameItem=\"item2\"\n                          title=\"Recomendacion adicional\"\n                          onChangeInput={(value) => {\n                            setState({\n                              ...state,\n                              category_ii: value,\n                              used: {\n                                ...state.used,\n                                recomendaciones: true,\n                              },\n                            });\n                          }}\n                          update={true}\n                        />\n                      </div>\n                    ) : null}\n                  </div>\n                ) : null}\n              </div>\n            </div>\n          ) : null}\n        </div>\n        <div className=\"card-footer text-right\">\n          <div className=\"btn-group\" role=\"group\">\n            <a\n              href=\"#close\"\n              className=\"btn btn-default\"\n              onClick={(e) => {\n                e.preventDefault();\n                history.push(\"/consultorio\");\n                props.handleNewOrEdit();\n              }}\n            >\n              <i\n                className={\n                  state.id ? \"fas fa-arrow-left mr-2\" : \"fas fa-ban mr-2\"\n                }\n              ></i>\n              <strong>{state.id ? \"Cancelar\" : \"Cerrar\"}</strong>\n            </a>\n            {state.id ? (\n              <button\n                className=\"btn btn-default\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  // window.print();\n                }}\n              >\n                <i className=\"fas fa-print mr-2\"></i>\n                Imprimir\n              </button>\n            ) : null}\n            <button\n              type=\"button\"\n              className={\n                state.contact?.id ? \"btn btn-info\" : \"btn btn-info disabled\"\n              }\n              onClick={handleSave}\n              disabled={state.contact?.id ? false : true}\n            >\n              <i className=\"fas fa-save mr-1\"></i>\n              <strong>{state.id ? \"Actualizar\" : \"Guardar\"}</strong>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {\n        state.activitys.length ? (\n          <Activitys\n            data = {state.activitys}\n          />\n        ): null\n      }\n\n      \n    </>\n  );\n}\n\nfunction getDataDefault(data = {}) {  \n  return {\n    id: data.id ?? 0,\n    age: data.age ? data.age : 0,\n    keratometriaoi: data.keratometriaoi ?? \"\",\n    keratometriaod: data.keratometriaod ?? \"\",\n    pantalleooi: data.pantalleooi ?? \"\",\n    pantalleood: data.pantalleood ?? \"\",\n    interrogatorio: data.interrogatorio ?? \"\",\n    cefalea: data.cefalea ?? 0,\n    c_frecuencia: data.c_frecuencia ?? \"\",\n    c_intensidad: data.c_intensidad ?? 0,\n    frontal: data.frontal ?? 0,\n    temporal: data.temporal ?? 0,\n    occipital: data.occipital ?? 0,\n    generality: data.generality ?? 0,\n    temporaoi: data.temporaoi ?? 0,\n    temporaod: data.temporaod ?? 0,\n    coa: data.coa ?? \"\",\n    aopp: data.aopp ?? \"\",\n    aopf: data.aopf ?? \"\",\n    avsloi: data.avsloi ?? \"\",\n    avslod: data.avslod ?? \"\",\n    avcgaoi: data.avcgaoi ?? \"\",\n    avcgaod: data.avcgaod ?? \"\",\n    cvoi: data.cvoi ?? \"\",\n    cvod: data.cvod ?? \"\",\n    oftalmoscopia: data.oftalmoscopia ?? \"\",\n    rsoi: data.rsoi ?? \"\",\n    rsod: data.rsod ?? \"\",\n    diagnostico: data.diagnostico ?? \"\",\n    presbicie: data.presbicie ?? 0,\n    txoftalmico: data.txoftalmico ?? \"\",\n    esferaoi: data.esferaoi ?? 0,\n    esferaod: data.esferaod ?? 0,\n    cilindroi: data.cilindroi ?? 0,\n    cilindrod: data.cilindrod ?? 0,\n    ejeoi: data.ejeoi ?? 0,\n    ejeod: data.ejeod ?? 0,\n    adicioni: data.adicioni ?? 0,\n    adiciond: data.adiciond ?? 0,\n    adicion_media_oi: data.adicion_media_oi ?? 0,\n    adicion_media_od: data.adicion_media_od ?? 0,\n    dpoi: data.dpoi ?? 0,\n    dpod: data.dpod ?? 0,\n    avfod: data.avfod ?? \"\",\n    avfoi: data.avfoi ?? \"\",\n    avf2o: data.avf2o ?? \"\",\n    lcmarca: data.lcmarca ?? \"\",\n    lcgoi: data.lcgoi ?? \"\",\n    lcgod: data.lcgod ?? \"\",\n    txoptico: data.txoptico ?? \"\",\n    alturaod: data.alturaod ?? 0,\n    alturaoi: data.alturaoi ?? 0,\n    pioi: data.pioi ?? 0,\n    piod: data.piod ?? 0,\n    observaciones: data.observaciones ?? \"\",\n    pc: data.pc ?? 0,\n    tablet: data.tablet ?? 0,\n    movil: data.movil ?? 0,\n    lap: data.lap ?? 0,\n    lap_time: data.lap_time ?? \"00:00\",\n    pc_time: data.pc_time ?? \"00:00\",\n    tablet_time: data.tablet_time ?? \"00:00\",\n    movil_time: data.movil_time ?? \"00:00\",\n    d_time: data.d_time ?? \"\",\n    d_media: data.d_media ?? \"\",\n    d_test: data.d_test ?? \"\",\n    d_fclod: data.d_fclod ?? 0,\n    d_fcloi: data.d_fcloi ?? 0,\n    d_fclod_time: data.d_fclod_time ?? \"00:00\",\n    d_fcloi_time: data.d_fcloi_time ?? \"00:00\",\n    contact: data.customer ?? {},\n    status: data.status ?? 1,\n    contact_id: data.customer?.id,\n    category_id: data.category_id ?? 0,\n    category_ii: data.category_ii ?? 0,\n  };\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport ToolBar from \"../components/Exam/ToolBar\";\nimport Inbox from \"../components/Exam/Inbox\";\nimport Add from \"../components/Exam/Add\";\n\nimport { ExamContext } from \"../context/ExamContext\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  search: \"\",\n  status: \"\",\n  itemsPage: 25,\n  date: \"\",\n  branch: \"all\",\n};\n\nexport default function Exams(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    newOrEdit: null,\n  });\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]);\n\n  return (\n    <ExamContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <ToolBar\n          newOrEdit={state.newOrEdit}\n          handleNewOrEdit={() =>\n            setState({ ...state, newOrEdit: !state?.newOrEdit })\n          }\n        />\n        {typeof state.newOrEdit === \"boolean\" ? (\n          <div className=\"col-sm-12 col-md-10\">\n            {state.newOrEdit ? (\n              <Add\n                {...props}\n                handleNewOrEdit={() =>\n                  setState({ ...state, newOrEdit: !state.newOrEdit })\n                }\n              />\n            ) : (\n              <Inbox />\n            )}\n          </div>\n        ) : (\n          <p>Loading component</p>\n        )}\n      </div>\n    </ExamContext.Provider>\n  );\n}\n","import { createContext, useContext } from \"react\";\n\nexport const SaleContext = createContext(null);\nexport const Sale = () => useContext(SaleContext);","import { useState } from \"react\";\n\nfunction ListItemsModal({\n  items,\n  cantDefault = 1,\n  handleClose: _close,\n  handleSelect: _Select,\n}) {\n\n\n  const [data, setData] = useState({\n    item: null,\n    cant: cantDefault,\n    price: 0,\n  });\n\n  const disabled = data.price <= 0 || isNaN(data.price) ? true : false;\n  \n  //Functions\n  const handleClose = () => {\n      if (_close) _close();\n    },\n\n\n    handleClickItem = (e, item) => {\n      e.preventDefault();\n      setData({\n        ...data,\n        price: item.price,\n        item,\n      });\n    },\n\n    handleSelectItem = () => {\n      const toSend = {\n        ...data,\n        item: {\n          ...data.item,\n          price: data.price,\n        },\n      };\n\n      _Select(toSend);\n\n      setData({\n        item: null,\n        cant: 1,\n        price: 0,\n      });\n      handleClose();\n    },\n\n\n    handleChangeCant = ({ name, value }) => {\n      setData({\n        ...data,\n        [name]: parseInt(value),\n      });\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione un producto</h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              {data.item && data.item.id ? (\n                <>\n                  <div className=\"text-uppercase mb-4\">\n                    {data.item.producto}                  \n                  </div>\n                  <div className=\"form-group row\">\n                    <label className=\"col-2 col-form-label\">Cantidad</label>\n                    {cantDefault < 2 ? (\n                      <div className=\"col\">\n                        <input\n                          type=\"number\"\n                          placeholder=\"Cantidad\"\n                          name=\"cant\"\n                          className=\"form-control\"\n                          defaultValue={data.cant}\n                          onChange={({ target }) => handleChangeCant(target)}\n                        />\n                      </div>\n                    ) : (\n                      <span className=\"col text-lg\">{data.cant}</span>\n                    )}\n                    <label className=\"col-2 col-form-label\">Precio</label>\n                    <div className=\"col\">\n                        <input\n                          type=\"number\"\n                          placeholder=\"Precio\"\n                          name=\"price\"\n                          className=\"form-control\"\n                          defaultValue={data.price.toString()}\n                          onChange={({ target }) => handleChangeCant(target)}\n                        />\n                      </div>\n                  </div>\n                </>\n              ) : (\n                <table className=\"table table-sm\">\n                  <tbody>\n                    {items ? (\n                      <>\n                        {items.length ? (\n                          <>\n                            {items.map((item) => (\n                              <tr key={item.id}>\n                                <td className=\"text-right\">\n                                  <span className=\"badge badge-dark\">\n                                    {item.code}\n                                  </span>\n                                </td>\n                                <td className=\"text-capitalize text-left\">\n                                  <a\n                                    href=\"#select\"\n                                    onClick={(e) => handleClickItem(e, item)}\n                                  >\n                                    {item.name}\n                                  </a>\n                                </td>\n                                <td>${item.price}</td>\n                              </tr>\n                            ))}\n                          </>\n                        ) : (\n                          <tr>\n                            <td>No existen productos para esta coincidencia</td>\n                          </tr>\n                        )}\n                      </>\n                    ) : (\n                      <tr>\n                        <td>\n                          <i className=\"fas fa-info-circle mr-1\"></i> No se\n                          recibieron los productos\n                        </td>\n                      </tr>\n                    )}\n                  </tbody>\n                </table>\n              )}\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={handleClose}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleSelectItem}\n              disabled = { disabled }\n            >\n              <i className=\"fas fa-check mr-1\"></i>\n              Seleccionar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ListItemsModal;\n","const confirm = (text, _make) => {\n  window.Swal.fire({\n    title: \"Ventas\",\n    text,\n    icon: \"warning\",\n    showCancelButton: true,\n    confirmButtonText: \"Aceptar\",\n    cancelButtonText: \"Cancelar\",\n  }).then(({ dismiss }) => {\n    if (!dismiss) {\n      if (_make) _make();\n    }\n  });\n};\n\nconst getMethodName = (status) => {\n  switch (status) {\n    case 1:\n      return \"efectivo\";\n    case 2:\n      return \"tarjeta debito\";\n    case 3:\n      return \"tarjeta Credito\";\n    case 4:\n      return \"la marina\";\n    case 5:\n      return \"cheque\";\n    case 6:\n      return \"transferencia\";\n    default:\n      return \"otro\";\n  }\n};\n\n//TODO:GET SESSION(ERROR VARIABLE)//\nconst getSession = () => {\n  return (\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(10)\n  );\n};\n\nconst getForPay = (items, payments, discount = 0) => {\n  if (!items || !Array.isArray(items) || !items.length) {\n    return 0;\n  }\n\n  if (!Array.isArray(payments)) {\n    payments = [];\n  }\n\n  const paid = payments.reduce((b, p) => b + p.total, 0);\n  const total = items.reduce((b, p) => b + p.subtotal, 0);\n\n  return total - paid - discount;\n};\n\nconst getSubTotal = (items) => {\n  if (!items || !items.length) {\n    return 0;\n  }\n\n  return items.reduce((b, p) => b + p.subtotal, 0);\n};\n\nconst getTotal = (subtotal, discount) => {\n  return subtotal - discount;\n};\n\nconst getPagado = (payments = []) => {\n  if (!payments || !payments.length) {\n    return 0;\n  }\n  return payments.reduce((b, p) => b + p.total, 0);\n};\n\nconst toExport = {\n  confirm,\n  getMethodName,\n  getSession,\n  getForPay,\n  getSubTotal,\n  getTotal,\n  getPagado,\n};\n\nexport default toExport;\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Components\nimport ListModal from \"./ListItemsModal\";\n\n//Hooks\nimport useProducts from \"../../../hooks/useProducts\";\n\n//Helper\nimport helper from \"../helpers\";\n\nfunction InputSearchItem() {\n  //State\n  const [textSearch, setTextSearch] = useState(\"\");\n  const [showList, setShowList] = useState(false);\n  const [cantDefault, setCantDefault] = useState(1);\n  const [list, setList] = useState([]);\n\n  const sale = Sale();\n  const { session } = sale;\n  const hookProducts = useProducts();\n\n  //Functions\n  const handleChangeTextSearch = ({ value }) => {\n      setTextSearch(value);\n    },\n    handlePressEnter = (key) => {\n      if (key === \"Enter\") {\n        searchItem();\n      }\n    },\n    searchItem = () => {\n      if (textSearch.length > 2) {\n        const codes = textSearch.split(\"*\");\n        let search = textSearch;\n\n        if (codes.length === 2) {\n          search = codes[1];\n          setCantDefault(parseInt(codes[0]));\n        }\n\n        hookProducts.getProducts(search).then((data) => {\n          if (data) {\n            setList(data.data);\n          } else {\n            console.error(\"Error al buscar el producto\");\n          }\n        });\n        setTextSearch(\"\");\n      }\n    },\n    handleCloseModal = () => {\n      setShowList(false);\n    },\n    makeItem = (data) => {\n      return {\n        id: 0,\n        cant: data.cant,\n        price: parseFloat(data.item.price),\n        subtotal: parseInt(data.cant) * parseFloat(data.item.price),\n        inStorage:\n          parseInt(data.item.cantidades) >= parseInt(data.cant) ? true : false,\n        out: parseInt(data.item.cantidades) - parseInt(data.cant),\n        cantInStore: parseInt(data.item.cantidades),\n        session,\n        store_items_id: data.item.id,\n        descripcion: data.item.descripcion,\n        producto: data.item.name.toLowerCase(),\n        category: data.item.categoria ? data.item.categoria.id : 0,\n      };\n    },\n    handleSelectItem = (data) => {\n      const item = makeItem(data);\n      handleAddItem(item);\n      setCantDefault(1);\n    },\n    handleAddItem = (result) => {\n      const found = sale.items.filter(\n        (item) => item.store_items_id === result.store_items_id\n      );\n\n      let newItems = sale.items.filter(\n        (item) => item.store_items_id !== result.store_items_id\n      );\n\n      if (found.length) {\n        const cantidad = parseInt(result.cant) + parseInt(found[0].cant),\n          item = {\n            ...found[0],\n            cant: cantidad,\n            subtotal: parseFloat(result.price) * cantidad,\n            inStorage: cantidad >= parseInt(result.cantInStore) ? true : false,\n            out: parseInt(result.cantInStore) - cantidad,\n          };\n        newItems.push(item);\n        window.Swal.fire({\n          title: \"Producto agregado\",\n          text: `Se agrego otro ${found[0].producto} a la lista`,\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonText: \"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        });\n      } else {\n        newItems.push(result);\n      }\n\n      let subtotal = helper.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helper.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      });\n    };\n\n  useEffect(() => {\n    if (list.length) {\n      if (list.length === 1) {\n        const item = makeItem({\n          item: list[0],\n          cant: cantDefault ? cantDefault : 1,\n        });\n\n        if (item.price <= 0) {\n          window.Swal.fire({\n            title: \"Verificar\",\n            text: `El item que intentas agregar tiene un precio de $0, revisa el precio en el almacen`,\n            icon: \"warning\",\n            showCancelButton: false,\n            confirmButtonText: \"Ok\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          });\n        } else {\n          handleAddItem(item);\n          setCantDefault(1);\n        }\n      } else {\n        setShowList(true);\n      }\n    }\n  }, [list]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"btn-group text-center d-print-none\">\n      <input\n        className=\"form-control\"\n        placeholder=\"Codigo\"\n        onChange={({ target }) => handleChangeTextSearch(target)}\n        onKeyPress={({ key }) => handlePressEnter(key)}\n        value={textSearch}\n      />\n      <button\n        type=\"button\"\n        className=\"btn btn-primary\"\n        onClick={searchItem}\n        disabled={textSearch.length > 2 ? false : true}\n      >\n        <i className=\"fas fa-barcode\"></i>\n      </button>\n\n      {showList && list.length ? (\n        <ListModal\n          items={list}\n          cantDefault={cantDefault}\n          handleClose={handleCloseModal}\n          handleSelect={handleSelectItem}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nexport default InputSearchItem;\n","//Context\nimport { Sale } from '../../../context/SaleContext';\n\n//Helper\nimport helper from '../helpers';\n\nexport default function DiscountBtnComponent() {\n\n  const sale = Sale();\n  const pagado = helper.getPagado(sale.payments);\n  const btnDisabled = sale.subtotal - pagado > 0 && sale.discount === 0 && pagado === 0 ? false : true;\n\n\n  //Functions\n  const handleAddDiscount = () => {\n    const discount = window.prompt(\"Agregue el descuento a aplicar\"),\n      isNumeric = /^[0-9]+$/gms,\n      isPercen = /^[0-9]{2,3}%$/gms;\n\n      if(discount === null){\n        return null;\n      }else{\n        let sum = 0;\n        sale.items.forEach((item) => (sum += item.subtotal));\n\n        if (discount.match(isNumeric)) {\n          const value = parseInt(discount);\n          \n          sale.set({\n            ...sale,\n            discount: value,\n            total: sale.subtotal - value,\n          });\n\n        } else if (discount.match(isPercen)) {\n          const percent = parseInt(discount.replace(\"%\", \"\")) / 100,\n          value = parseInt(sum * percent);          \n          sale.set({\n            ...sale,\n            discount: value,  \n            total: sale.subtotal - value,               \n          })          \n        }\n      }\n  };\n\n  return (\n    <button\n      className=\"btn btn-primary mx-1\"\n      title=\"Agregar descuento\"\n      onClick={handleAddDiscount}\n      disabled={btnDisabled}\n    >\n      <i className=\"fas fa-percent\"></i>\n    </button>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useSales(ctx) {\n  //Functions\n  const getSaleList = async (search) => {\n    const salesFilters = {\n      orderBy: \"created_at\",\n      order: \"desc\",\n      itemsPage: 100,\n    };\n    if (search) {\n      salesFilters.search = search;\n    }\n\n    const url = setUrl(\"sales\", null, salesFilters);\n    return await api(url);\n  }; \n\n  const getSaleById = async (id) => {\n    const url = setUrl(\"sales\", id);\n    return await api(url);\n  };\n\n  const saveSale = async (sale) => {\n    try {\n      const { id } = sale,\n        url = setUrl(\"sales\", id),\n        method = id ? \"PUT\" : \"POST\";\n        \n      return await api(url, method, sale);\n    } catch (e) {\n      console.error(\n        \"[Orus System] Error in saga/sales handledSaveSale\",\n        e.message\n      );\n    }\n  };\n\n  return {\n    getSaleList,\n    getSaleById,\n    saveSale,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Hooks\nimport useSales from \"../../../hooks/useSale\";\n\n//Libraries\nimport moment from \"moment\";\n\nfunction ListSalesModal({ handleClose: _close, handleSelect: _select }) {\n  const _sales = useSales();\n\n  const [search, setSearch] = useState(\"\");\n\n  const [saleList, setSaleList] = useState([]);\n\n  const sale = Sale();\n\n  const items =\n    saleList.length !== 0 ? saleList : sale.length !== 0 ? sale : [];\n\n  const handleSelectSale = (e, saleSelected) => {\n      if (e) e.preventDefault();\n\n      if (sale.items.length) {\n        window.Swal.fire({\n          title: \"Ventas\",\n          text: `Si cargas una venta, se cerrar la venta actual`,\n          icon: \"question\",\n          showCancelButton: true,\n          confirmButtonText: \"Cargar\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            _select(saleSelected);\n          } else {\n            return null;\n          }\n        });\n      } else {\n        _select(saleSelected);\n      }\n    },\n    handleChangeSearch = ({ value }) => {\n      setSearch(value);\n    };\n\n  useEffect(() => {\n    _sales\n      .getSaleList(search)\n      .then((data) => {\n        if (data) {          \n          setSaleList(data.data);\n        } else {\n          console.error(\"Error al obtener las ventas\");\n        }\n      })\n      .catch((error) => console.error(error));\n  }, [search]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione una venta</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"w-full d-block mb-4\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"Buscar por folio o nombre\"\n                  onChange={({ target }) => handleChangeSearch(target)}              \n                />\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default ml-1\"                  \n                >\n                  <i className=\"fas fa-search\"></i>\n                </button>\n              </div>\n            </div>\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              <table className=\"table table-sm\">\n                <tbody>\n                  {items ? (\n                    <>\n                      {items.length ? (\n                        <>\n                          {items.map((item) => (\n                            <tr key={item.id}>\n                              <td className=\"text-right\">\n                                <span className=\"badge badge-dark\">\n                                  {item.id}\n                                </span>\n                              </td>\n                              <td className=\"text-capitalize text-left\">\n                                <a\n                                  href=\"#select\"\n                                  onClick={(e) => handleSelectSale(e, item)}\n                                >\n                                  {item.customer ? item.customer.name : \"--\"}\n                                </a>\n                              </td>\n                              <td className=\"text-right\">\n                                {moment(item.created_at).fromNow()}\n                              </td>\n                            </tr>\n                          ))}\n                        </>\n                      ) : (\n                        <tr className=\"overlay dark\">\n                          <td className=\"overlay dark\">\n                            <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                            Cargando las ventas!!\n                          </td>\n                        </tr>\n                      )}\n                    </>\n                  ) : (\n                    <tr>\n                      <td>\n                        <i className=\"fas fa-info-circle mr-1\"></i> Escriba el\n                        folio o nombre para cargar una venta\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ListSalesModal;\n","import { useState } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Components\nimport ListSalesModal from \"./ListSalesModal\";\n\nexport default function ListSalesBtn() {\n  const sale = Sale();\n  const [data, setData] = useState(false);\n  const disabled = sale.items.length ? true : false;\n\n  //Functions\n  const handleShowListSales = () => {\n      setData(true);\n    },\n    handleCloseListSales = () => {\n      setData(false);\n    },\n    handleSelectSale = (saleSelected) => {\n      let pagado = 0;\n      saleSelected.payments.forEach((pay) => (pagado = pay.total));\n      setData(false);\n      \n      sale.set({\n        id: saleSelected.id,\n        contact_id: saleSelected.customer.id,\n        customer: saleSelected.customer,\n        items: saleSelected.items,\n        session: saleSelected.session,\n        discount: saleSelected.discount,\n        subtotal: saleSelected.subtotal,\n        total: saleSelected.total,\n        payments: saleSelected.payments,\n        branch_id: saleSelected.branch.id,\n        created_at: saleSelected.created_at,\n        activitys: saleSelected.activity,\n        order: saleSelected.order ?? 0,\n        thereNews: false,\n      });\n\n      return pagado;\n    };\n\n  return (\n    <>\n      <button\n        className=\"btn btn-primary mr-1\"\n        title=\"Cargar una venta\"\n        onClick={handleShowListSales}\n        disabled={disabled}\n      >\n        <i className=\"fas fa-list\"></i>\n      </button>\n\n      {data && (\n        <ListSalesModal\n          handleClose={handleCloseListSales}\n          handleSelect={handleSelectSale}\n        />\n      )}\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect } from \"react\";\nimport HTMLOrderPrint from \"./views/SaleHTML\";\nimport { Auth } from \"../../context/AuthContext\";\n\nexport default function PrintSaleComponent(props) {\n  const { auth: currentUser } = Auth();\n  const currentBranch = currentUser.branch;\n  const handleClose = () => {\n    props.setPrint();\n  };\n\n  useEffect(() => {\n    if (!props.data) {\n      console.error(\"[Orus System] Data is parameter required\");\n      return;\n    }\n\n    const popup = window.open(\n      \"\",\n      \"_blank\",\n      \"fullscreen=1,menubar=0,resizable=0,scrollbars=0,titlebar=0,toolbar=0,top=0,left=300\"\n    );\n\n    popup.document.write(getPage(props.data, currentBranch));\n    popup.window.print();\n\n    popup.onbeforeunload = function () {\n      handleClose();\n    };\n  }, []);\n\n  return <div className=\"load\" style={{\n    position:'fixed',\n    zIndex:'5',\n    width:'100%',\n    top:0,\n    left:0,\n    height:'100%',\n    display:'flex',\n    flexDirection:'column',\n    justifyContent:'center',\n    alignItems:'center',\n    backgroundColor: 'rgba(0,0,0,.5)',\n    }}>      \n      <h1 style={{color:'white', marginBottom:'5%'}}>IMPRESION EN CURSO</h1>\n      <i className=\"fas fa-print fa-6x\"></i>      \n  </div>;\n}\n\nfunction getPage(data, branch) {\n  const card = HTMLOrderPrint(data ?? {}, branch);\n  const body = `<div style=\"width:280px; padding: 0px; margin: 0px; border:1px dotted #DDD\">${card}</div>`;\n\n  return `<html>\n        <head>\n            <title>${\n              data.order_id ? \"Pedido #\" + data.order_id : \"Venta #\" + data.id\n            }</title>            \n        </head>\n        <body style=\"display:flex; justify-content: center; align-items:start\">\n            ${body}\n        </body>\n    </html>`;\n}\n","import moment from \"moment\";\nimport \"moment/locale/es\";\nimport helpers from \"../../Sales/helpers\";\nmoment.locale(\"es\");\n\nexport default function HTMLOrderPrint(sale, branch) {\n  const paid = helpers.getPagado(sale.payments);\n  let amount = sale.total - paid;\n\n  const phone = Object.values(sale.customer?.phones ?? {}).filter(\n    (phone) => phone\n  );\n\n  return `\n  <div style=\"width:100%; padding: 0px; margin: 0px;\">\n    <h6 style=\"font-size: 14; font-family:sans-serif; text-align: right; margin: 0px\">\n      ${sale.order_id ? \"Pedido\" : \"Nota\"}:\n      <strong>${sale.order_id ? sale.order_id : sale.id}</strong>\n    </h6> \n    \n    <h2 style=\"font-size: 28; font-family: sans-serif; margin: 24px 0px;\">\n      <center>\n        <strong>ptica Madero</strong>\n      </center>\n    </h2>\n\n    <h4 style=\"font-size: 22; font-family: sans-serif; text-align: center; margin:10px 0px;\">\n      Julio Cesar Cardenas Martinez\n    </h4>\n\n    <div style=\"font-size: 14; font-family: sans-serif; width:100%; text-align: center; margin: 0px 5px\">\n      <span style=\"text-transform: uppercase;\">\n        ${branch.name}\n      </span>\n      <br />\n      <span>${branch.phone}</span>\n      <br />\n      <span>${branch.address}</span>\n      <br/>\n      <strong>${moment().format(\"LLLL\")}</strong>\n    </div>\n\n    <h4 style=\"font-size: 22; font-family: sans-serif; text-align: center; text-transform: uppercase;\">\n      ${sale.customer?.name ? sale.customer.name : \"Venta de mostrador\"}\n      <br />\n      <strong>\n        <em style=\"font-size: 18\">\n          ${phone.length ? phone : \"--\"}\n        </em>\n      </strong>\n    </h4>\n\n    <h2 style= \"font-size: 22; font-family:sans-serif\">\n      <center><strong>${sale.order_id ? \"Pedido\" : \"Nota\"}</strong></center>\n    </h2>\n\n    <table style=\"width:100%;\">\n      <thead>\n        <tr>\n          <th style=\"font-size: 12; font-family: sans-serif; text-align:left; width:24px\">\n            Cant\n          </th>\n          <th style=\"font-size: 12; font-family: sans-serif\">\n            Descripcion\n          </th>\n          <th style=\"font-size: 12; font-family: sans-serif; text-align:right; width:48px\">\n            Total\n          </th>\n        </tr>\n      </thead>\n          \n      <tbody>\n        ${sale.items.map((item, index) => {\n          return `<tr key=${index} style=\"\">\n            <td style=\"font-size: 16; font-family: sans-serif; text-align:left\">\n              ${item.cant}\n            </td>\n            <td style=\"font-size: 14; font-family: sans-serif\">\n              ${item.name ?? item.producto}\n            </td>\n            <td style=\"font-size: 16; font-family: sans-serif; text-align:right;\">                    \n              $ ${item.cant * item.price}\n            </td>\n          </tr>`;\n        })}\n      </tbody>\n\n      <tfoot>\n        <tr>\n          <td colspan=\"3\">\n            ${\n              sale.discount !== 0\n                ? `<div style = \"width:100%\">\n                  <h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px; margin-top:12px\">\n                    Subtotal: <label>$ ${sale.subtotal ?? 0}</label>\n                  </h4>\n                  <h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px;\">\n                    Descuento: <label>$ ${sale.discount}</label>\n                  </h4>\n                </div>\n                <h4 style= \"font-size:18; width:100%; font-family: sans-serif; text-align: right; margin:0px;\">\n                  Total: <label>$ ${sale.total ?? 0}</label>\n                </h4>`\n                : `<h4 style= \"font-size:18; width:100%; font-family: sans-serif; text-align: right; margin:0px; margin-top:12px\">\n                  Total: <label>$ ${sale.total ?? 0}</label>\n                </h4>`\n            }\n                      \n            <div style = \"width:100%;\">\n              <h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px;\">\n                Abonado: <label>$ ${paid}</label>\n              </h4>\n              ${\n                amount\n                  ? `<h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px;\">\n                    Saldo: <label>$ ${amount}</label>\n                    </h4>`\n                  : `<div style=\"text-align:center; width: 100%\">\n                     <h3 style=\"font-weight:bold\">\n                      ::: Cuenta Pagada :::                      \n                    </h3>\n                  </div>`\n              }\n            </div>\n          </td>\n        </tr>\n      </tfoot>\n    </table>\n      \n    <div>\n      <ul style=\"font-family:sans-serif; font-size: 12;\">\n        <li>\n          Armazones usados, viejos y/o resecos son responsabilidad del\n          cliente\n        </li>\n        <li>\n          Armazones reparados por el cliente pierden garantia de proovedor\n        </li>\n      </ul>\n    </div>\n  </div>\n  `;\n}\n","import { useState, useContext } from \"react\";\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Helpers\nimport helpers from \"../helpers\";\n\nfunction PaymentModal({ forPaid, handleClose: _close }) {\n  const config = useContext(ConfigContext);\n  const listBanks = config.data;\n\n  const sale = Sale();\n\n  //States\n  const [data, setData] = useState({\n    id: 0,\n    metodopago: 1,\n    metodoname: \"efectivo\",\n    total: 0,\n    bank_id: null,\n    details: null,\n    auth: null,\n    forPaid: forPaid,\n  });\n\n  //Functions\n  const handleChangeInput = ({ name, value, type }) => {\n      let val = value;\n      if (type === \"number\" || type === \"select-one\") val = parseFloat(value);\n      setData({\n        ...data,\n        [name]: val,\n      });\n    },\n    handleSetPayment = () => {\n      const payments = [...sale.payments];\n      let pagado = 0;\n\n      if (!data.total) {\n        window.Swal.fire({\n          icon: \"warning\",\n          title: \"El total del abono debe ser mayor a 0\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return false;\n      }\n\n      if (\n        data.metodopago !== 1 &&\n        data.metodopago !== 4 &&\n        data.metodopago !== 0\n      ) {\n        if (!data.bank_id) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Seleccione un banco\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n        if (data.auth?.length < 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique los ultimos 4 numeros de la tarjeta\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        } else if (data.auth?.length > 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique solamente 4 numeros\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      if (data.metodopago === 4) {\n        if (!data.auth) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique el numero de autorizacin\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      payments.push({\n        ...data,\n        id: `new${Date.now().toString()}`,\n        metodoname: helpers.getMethodName(data.metodopago),\n        total: forPaid < data.total ? forPaid : data.total,\n      });\n\n      payments.forEach((pay) => (pagado += pay.total));\n\n      _close();\n\n      sale.set({\n        ...sale,\n        payments: payments,\n        thereNews: true,\n      });\n    },\n    handleSubmitForm = (e) => {\n      e.preventDefault();\n      handleSetPayment();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Capture el pago</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <form autoComplete=\"off\" onSubmit={handleSubmitForm}>\n              <div className=\"row mb-2 bg-gray-light\">\n                <div className=\"col\">\n                  <h4 className=\"text-center\">\n                    Por pagar: <span className=\"text-success\">$ {forPaid}</span>\n                  </h4>\n                </div>\n              </div>\n              <div className=\"row my-2\">\n                <div className=\"col\">\n                  <label>Metodo de pago</label>\n                  <select\n                    name=\"metodopago\"\n                    className=\"custom-select text-uppercase\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    defaultValue={data.metodopago}\n                  >\n                    <option value=\"1\">Efectivo</option>\n                    <option value=\"2\">Tarjeta de debito</option>\n                    <option value=\"3\">Tarjeta de credito</option>\n                    <option value=\"4\">La marina</option>\n                    <option value=\"5\">Cheque</option>\n                    <option value=\"6\">Transferencia</option>\n                    <option value=\"0\">Otro</option>\n                  </select>\n                </div>\n                <div className=\"col\">\n                  <label>Cantidad</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    className=\"form-control text-right\"\n                    name=\"total\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    autoFocus={true}\n                  />\n                </div>\n              </div>\n\n              {data.metodopago !== 1 ? (\n                <div className=\"row mb-2\">\n                  <div className=\"col\">\n                    {data.metodopago !== 4 && data.metodopago !== 0 ? (\n                      <>\n                        <label>Banco</label>\n                        <select\n                          name=\"bank_id\"\n                          className=\"custom-select text-uppercase\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        >\n                          <option value=\"\">--Seleccione un banco--</option>\n                          {listBanks.map((bank) => {\n                            return bank.name === \"bank\" ? (\n                              <option key={bank.id} value={bank.id}>\n                                {bank.data}\n                              </option>\n                            ) : null;\n                          })}\n                        </select>\n                      </>\n                    ) : !data.metodopago ? (\n                      <>\n                        <label>Espesifique</label>\n                        <input\n                          type=\"text\"\n                          name=\"details\"\n                          className=\"form-control\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        />\n                      </>\n                    ) : (\n                      <h4 className=\"d-bloc text-center mt-4 text-success\">\n                        LA MARINA\n                      </h4>\n                    )}\n                  </div>\n                  <div className=\"col\">\n                    <label>\n                      {data.metodopago !== 4\n                        ? \"Ultimos 4 digitos\"\n                        : \"N. Autorizacin\"}\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"auth\"\n                      className=\"form-control\"\n                      onChange={({ target }) => handleChangeInput(target)}\n                    />\n                  </div>\n                </div>\n              ) : null}\n\n              {forPaid < data.total ? (\n                <div className=\"row\">\n                  <div className=\"col\">\n                    <h4 className=\"text-center mt-4\">\n                      {data.metodopago === 1 ? (\n                        <>\n                          Cambio:\n                          <span className=\"ml-2\">$ {data.total - forPaid}</span>\n                        </>\n                      ) : (\n                        <span className=\"text-danger\">\n                          <i className=\"fas fa-info-circle mr-2\"></i>\n                          La cantidad cobrada es mayor al total\n                        </span>\n                      )}\n                    </h4>\n                  </div>\n                </div>\n              ) : null}\n            </form>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => handleSetPayment()}\n              disabled={!data.total || data.total > data.forPaid}\n            >\n              <i className=\"fas fa-money-bill mr-1\"></i>\n              Abonar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","import { useState } from \"react\";\n\n//Components\nimport PaymentModal from \"./PaymentModal\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Helper\nimport helpers from '../helpers';\n\n\nexport default function PaymentBtnComponent() {\n\n  const [data, setData] = useState({\n    showPayment: false,\n  });\n\n  const sale = Sale();\n\n  const forPaid = helpers.getForPay(sale.items, sale.payments, sale.discount);\n\n  const pagado  = sale.discount === 0 ? helpers.getPagado(sale.payments) : helpers.getPagado(sale.payments) + sale.discount; \n  const paid = sale.subtotal <= pagado ? true : false;\n\n  //Functions\n  const handleShowPayment = () => {\n      setData({\n        ...data,\n        showPayment: true,\n      });\n    },\n    handleClosePayment = () => {\n      setData({\n        ...data,\n        showPayment: false,\n      });\n    };\n\n  return (\n    <>\n      <button\n        className=\"btn btn-success ml-2 d-print-none\"\n        onClick={handleShowPayment}\n        disabled={!sale.items.length || (sale.subtotal && paid)}\n      >\n        <i className=\"fas fa-money-bill-alt\"></i>\n      </button>\n      {data.showPayment && (\n        <PaymentModal\n          handleClose={handleClosePayment}\n          sale={{\n            ...sale,\n            contact_id: sale.customer.id,\n          }}\n          forPaid={forPaid}\n        />\n      )}\n    </>\n  );\n}\n","import { useContext } from 'react';\nimport helpers from \"../helpers.js\";\nimport { useHistory } from 'react-router-dom';\n\n\n//Context\nimport { AuthContext } from '../../../context/AuthContext';\nimport { Sale } from '../../../context/SaleContext';\n\nexport default function EraseSaleBtnComponent(props) {\n\n  const sale = Sale();\n  const disabled = sale.customer.id || sale.items.length ? false : true;\n  const {auth} = useContext(AuthContext);\n  const history = useHistory();\n\n  //Functions\n  const eraseSale = () => {\n      sale.set({\n        id: 0,\n        customer: {\n          id: 0,\n          name: \"venta de mostrador\",\n        },\n        contact_id: 2,\n        items: [],\n        session: helpers.getSession(),\n        discount: 0,\n        subtotal: 0,\n        total: 0,\n        payments: [],\n        branch_id: auth.branch.id,\n        isPayed: false,\n      })\n\n      if( props.match.params.id){\n        history.push('/notas');\n      }else{\n        return null\n      }\n    },\n\n    handleEraseSale = () => {\n      helpers.confirm(\"Desea terminar esta venta? La venta actual no se guardara\", eraseSale);\n    };\n\n  return (\n    <button\n      className=\"btn btn-warning ml-1\"\n      title=\"Nueva venta\"\n      onClick={handleEraseSale}\n      disabled={ disabled }\n    >\n      <i className=\"fas fa-window-close\"></i>\n    </button>\n  );\n}\n","import { useState, useContext } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\nimport { AuthContext } from \"../../../context/AuthContext\";\n\n//Hooks\nimport useContact from \"../../../hooks/useContact\";\n\n//Helper\nimport saleHelper from '../helpers';\n\nfunction SearchCustomerModal({ handleClose: _close }) {\n  const [data, setData] = useState({\n    textSearch: \"\",\n  });\n\n  const [customers, setCustomers ] = useState([]);\n  const sale = Sale();\n  const { auth } = useContext(AuthContext);\n  const  _contacts  = useContact();\n\n  //Functions\n  const handleClose = () => {\n      if (_close) _close();\n    },\n    handleChangeText = ({ value }) => {\n      setData({\n        textSearch: value,\n      });\n    },\n    handleKeyPressSearch = (key) => {\n      if (key === \"Enter\") {\n        if (data.textSearch.length > 4) {\n          return SearchCustomer();\n        }\n\n        window.Swal.fire({\n          title: \"Verificacion\",\n          text: \"Escriba un nombre valido, al menos 5 caracteres\",\n          icon: \"warning\",\n        });\n      }\n    },\n    SearchCustomer = () => {\n      const filters = {\n        search: data.textSearch,\n        itemsPage: \"25\",\n        orderBy: \"id\",\n        order: \"desc\",\n      };\n\n      _contacts.getContacts(filters).then((data)=>{\n        if(data){\n          setCustomers(data.data);\n        }else{\n          console.error(\"Error al obtener usuario\");\n        }\n      })\n    },\n    handleClickCustomer = (e, customer) => {\n      e.preventDefault();\n      if (sale.customer.id !== customer.id) {\n        if (![0, 2].includes(sale.customer.id)) {\n          window.Swal.fire({  \n            title: \"Ventas\",\n            text: \"Esta accion creara una nueva venta Esta seguro que desea crear una nueva venta?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Crear\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {                         \n              sale.set({\n                id: 0,\n                customer: {\n                  id:customer.id,\n                  name: customer.name,\n                  phones: customer.phones ?? {},\n                },\n                contact_id: customer.id,\n                items: [],\n                session: saleHelper.getSession(),\n                discount: 0,\n                subtotal: 0,\n                total: 0,\n                payments: [],\n                branch_id: auth.branch.id,\n              })\n              _close();\n            }\n          });\n        } else {\n          sale.set({\n            ...sale,\n            customer:{\n              id: customer.id,\n              name: customer.name ? customer.name : \"Venta de mostrador\",\n              phones: customer.phones ?? {},\n            },\n            contact_id: customer.id\n          }).then(() =>  _close());\n        }\n      } else {\n        _close();\n      }\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione un cliente</h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"form-inline mb-3\">\n              <div className=\"form-group\">\n                <input\n                  className=\"form-control\"\n                  placeholder=\"Buscar cliente\"\n                  onChange={({ target }) => handleChangeText(target)}\n                  onKeyPress={({ key }) => handleKeyPressSearch(key)}\n                  onBlur={() => data.textSearch.length > 4 && SearchCustomer()}\n                  autoFocus={true}\n                />\n              </div>\n              <div className=\"form-group pl-2\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary btn-sm\"\n                  onClick={SearchCustomer}\n                  disabled={data.textSearch.length < 5}\n                >\n                  <i className=\"fas fa-search\"></i>\n                </button>\n              </div>\n            </div>\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              <table className=\"table table-sm\">\n                <tbody>\n                  {customers.map((customer) => (\n                    <tr key={customer.id}>\n                      <td className=\"text-right\">\n                        <span className=\"badge badge-dark\">{customer.id}</span>\n                      </td>\n                      <td className=\"text-left\">\n                        <a\n                          href=\"#select\"\n                          onClick={(e) => handleClickCustomer(e, customer)}\n                          className=\"text-capitalize\"\n                        >\n                          {customer.name.toLowerCase()}\n                        </a>\n                      </td>\n                    </tr>\n                  ))}\n                  {!customers.length && (\n                    <>\n                      {[0, 2].includes(sale.customer.id) ? (\n                        <tr>\n                          <td>No existen pacientes con esta coincidencia</td>\n                        </tr>\n                      ) : (\n                        <tr>\n                          <td>\n                            <span className=\"alert alert-warning text-center\">\n                              Cambiar de usuario, provocara cerrar la{\" \"}\n                              <strong>venta</strong> actual.\n                            </span>\n                          </td>\n                        </tr>\n                      )}\n                    </>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={handleClose}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SearchCustomerModal;\n","import { useState } from \"react\";\n\n//Componentes\nimport SearchCustomerModal from \"./SearchCustomerModal\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\nexport default function CustomerBtnComponent() {\n\n  // Modal\n  const [modal, setModal] = useState(false);\n\n  \n  const handleModal = () => {\n    setModal(!modal);\n  };\n\n  const sale = Sale();\n  \n  return (\n    <>\n      <i className=\"fas fa-user mr-1 text-indigo\"></i>\n      Cliente:\n      <label className=\"text-capitalize ml-1\">\n        {sale.customer ? sale.customer.name : \"XXX - vuelva a cargar\"}\n      </label>\n      <button\n        type=\"button\"\n        className=\"btn bg-indigo btn-sm ml-2\"\n        title=\"Buscar cliente\"\n        onClick={handleModal}\n      >\n        <i className=\"fas fa-exchange-alt\"></i>\n      </button>\n      {modal && <SearchCustomerModal handleClose={handleModal} />}\n    </>\n  );\n}\n\n","import moment from \"moment\";\n\nfunction PaymentModal({ payment = {}, handleClose: _close }) {\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Detalles del abono</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"row mb-2\">\n              <div className=\"col\">\n                <label className=\"mr-2\">Metodo de pago</label>\n                <span>{payment.metodoname}</span>\n              </div>\n              <div className=\"col\">\n                <label className=\"mr-2\">Cantidad abonada</label>\n                <span>${payment.total}</span>\n              </div>\n            </div>\n\n            {payment.banco && payment.banco.id ? (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <label className=\"mr-2\">Banco</label>\n                  <span>{payment.banco.value}</span>\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2\">Auth</label>\n                  <span>{payment.auth ?? \"--\"}</span>\n                </div>\n              </div>\n            ) : null}\n\n            {payment.id ? (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block\">Folio</label>\n                  <span>{payment.id}</span>\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block\">Fecha</label>\n                  {payment.created_at ? (\n                    <span>{moment(payment.created_at).format(\"LL\")}</span>\n                  ) : (\n                    <span>--</span>\n                  )}\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block text-uppercase\">Recibio</label>\n                  <span>\n                    {payment.created && payment.created.name\n                      ? payment.created.name\n                      : \"--\"}\n                  </span>\n                </div>\n              </div>\n            ) : (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <span className=\"alert alert-warning d-block text-bold\">\n                    <i className=\"fas fa-info-circle mr-1\"></i>\n                    Pago no acreditado!\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","import { useState } from \"react\";\n\nexport default function UpdateItemModal({\n  item,\n  close: _close,\n  handleUpdate: _update,\n}) {\n  const [data, setData] = useState({\n    cant: item.cant ?? 0,\n    price: item.price ?? 0,\n  });\n  //Functions\n  const handleChangeInput = ({ name, value }) => {      \n      setData({\n        ...data,\n        [name]: parseInt(value),\n      });\n    },\n\n    handleUpdateItem = () => {\n      _update({\n        ...item,\n        ...data,\n        subtotal: data.cant * data.price,\n      });\n    },\n\n    handleKeyPress = (key) => {\n      if (key === \"Enter\") handleUpdateItem();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">\n              <span className=\"text-capitalize text-truncate\">\n                {item.producto}\n              </span>\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"row my-2\">\n              <div className=\"col\">\n                <label>Cantidad</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form-control text-right\"\n                  name=\"cant\"\n                  defaultValue={data.cant}\n                  onChange={({ target }) => handleChangeInput(target)}\n                />\n              </div>\n              <div className=\"col\">\n                <label>Precio</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form-control text-right\"\n                  name=\"price\"\n                  defaultValue={data.price}\n                  onChange={({ target }) => handleChangeInput(target)}\n                  onKeyPress={({ key }) => handleKeyPress(key)}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleUpdateItem}\n            >\n              <i className=\"fas fa-save mr-1\"></i>\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useContext, useState } from \"react\";\n\n//Components\nimport PaymentDetails from \"./PaymentDetails\";\nimport UpdateItemModal from \"./UpdateItemModal\";\n\n// Context\nimport { Sale } from \"../../../context/SaleContext\";\nimport { AuthContext } from \"../../../context/AuthContext\";\n\n//Helper\nimport helpers from \"../helpers\";\n\n//Libraries\nimport moment from \"moment\";\n\nexport default function SalesDetailsTableComponent() {\n  const sale = Sale();\n  const pagado = !sale.discount\n    ? helpers.getPagado(sale.payments)\n    : helpers.getPagado(sale.payments) + sale.discount;\n  const paid = sale.subtotal <= pagado ? true : false;\n  const { auth } = useContext(AuthContext);\n  const { roles } = auth;\n\n  const [data, setData] = useState({\n    showUpdateItem: false,\n    showPaymentDetails: false,\n    item: {},\n    payment: {},\n  });\n\n  //Functions\n  const handleDeleteItem = (item) => {\n      const newItems = sale.items.filter(\n        (product) => product.store_items_id !== item.store_items_id\n      );\n\n      let subtotal = helpers.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helpers.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      });\n    },\n    handleShowPaymentDetails = (e, payment) => {\n      if (e) e.preventDefault();\n\n      setData({\n        ...data,\n        showPaymentDetails: true,\n        payment,\n      });\n    },\n    handleDeleteDiscount = () => {\n      helpers.confirm(\"Realmente desea eliminar el descuento\", () => {\n        sale.set({\n          ...sale,\n          discount: 0,\n        });\n      });\n    },\n    handleDeletePayment = ({ id, total, metodoname }) => {\n      const newPayments = sale.payments.filter((payment) => payment.id !== id);\n\n      helpers.confirm(`Realmente desea eliminar el pago de  $${total}`, () => {\n        sale.set({\n          ...sale,\n          payments: newPayments,\n        });\n      });\n    },\n    handleShowUpdateItem = (e, item) => {\n      if (e) e.preventDefault();\n      setData({\n        ...data,\n        showUpdateItem: true,\n        item,\n      });\n    },\n    handleClosePaymentDetails = () => {\n      setData({\n        ...data,\n        showPaymentDetails: false,\n        payment: {},\n      });\n    },\n    handleUpdateItem = (item) => {\n      const newItems = sale.items.filter(\n        (i) => i.store_items_id !== item.store_items_id\n      );\n      newItems.push(item);\n\n      let subtotal = helpers.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helpers.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      });\n\n      handleCloseUpdateItem();\n    },\n    handleCloseUpdateItem = () => {\n      setData({\n        ...data,\n        showUpdateItem: false,\n        item: {},\n      });\n    };\n\n  return (\n    <>\n      <table className=\"table table-striped\">\n        <tbody>\n          {sale.items && sale.items.length ? (\n            <>\n              {sale.items.map((item, index) => {\n                const disabled =\n                  (sale.subtotal && paid) ||\n                  sale.payments.length ||\n                  sale.discount;\n                const diffDay = moment(Date.now()).diff(\n                  moment(sale.created_at),\n                  \"days\"\n                );\n                if (!item.store_items_id) return null;\n\n                return (\n                  <tr key={index}>\n                    {handleDeleteBtn(handleDeleteItem, item, disabled)}\n                    <td\n                      onClick={(e) => {\n                        if (roles === \"ventas\" && diffDay !== 0) {\n                          alert(\"No puedes editar esta venta!\");\n                        } else {\n                          handleShowUpdateItem(null, item);\n                        }\n                      }}\n                    >\n                      <a\n                        href=\"#details\"\n                        className=\"text-muted w-full d-block text-uppercase\"\n                        onClick={(e) => {\n                          if (roles === \"ventas\") {\n                            return null;\n                          } else {\n                            handleShowUpdateItem(e, item);\n                          }\n                        }}\n                      >\n                        {item.producto ? item.producto : item.name}\n                      </a>\n                      <label className=\"w-full d-block\">\n                        <span className=\"badge badge-dark mr-1\">\n                          {item.cant}\n                        </span>\n                        *\n                        <span\n                          className={item.price ? \"mx-1\" : \"mx-1 text-danger\"}\n                        >\n                          ${item.price}\n                        </span>\n                        =\n                        <span\n                          className={\n                            item.subtotal ? \"ml-1\" : \"ml-1 text-danger\"\n                          }\n                        >\n                          ${item.subtotal}\n                        </span>\n                      </label>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : null}\n          {sale.discount ? (\n            <tr>\n              {handleDeleteBtn(handleDeleteDiscount, null, paid)}\n              <td>\n                <span className=\"text-danger w-full d-block text-uppercase\">\n                  Descuento\n                </span>\n                <label className=\"w-full d-block\">\n                  <span className=\"ml-1 text-danger\">- ${sale.discount}</span>\n                </label>\n              </td>\n            </tr>\n          ) : null}\n          {sale.payments.length ? (\n            <>\n              {sale.payments.map((pay, index) => {\n                const disabled =\n                  sale.id && !sale.order\n                    ? true\n                    : sale.id && sale.order\n                    ? sale.isPayed\n                      ? true\n                      : false\n                    : false;\n\n                return (\n                  <tr key={index}>\n                    {handleDeleteBtn(handleDeletePayment, pay, disabled)}\n                    <td>\n                      <a\n                        href=\"#link\"\n                        className=\" w-full d-block text-uppercase\"\n                        onClick={(e) => handleShowPaymentDetails(e, pay)}\n                      >\n                        <span className=\"text-success\">Abono</span>\n                        <span className=\"ml-1 text-muted\">\n                          {pay.metodoname}\n                        </span>\n                      </a>\n                      <label className=\"w-full d-block\">\n                        <span className=\"ml-1 text-muted\">\n                          {moment(pay.created_at).format(\"LL\")},\n                        </span>\n                        <span className=\"ml-1\">${pay.total}</span>\n                      </label>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : null}\n\n          {sale.thereNews && sale.order ? (            \n            <tr className=\"table-info\">\n              <td colSpan=\"2\">\n                <span className=\" w-full d-block text-uppercase text-center text-bold\">\n                  <i className=\"fas fa-info-circle mr-1 text-primary\"></i>\n                  Para guardar los cambios presione el boton Imprimir!\n                </span>\n              </td>\n            </tr>\n          ) : (\n            Boolean(paid && sale.subtotal) && (\n              <tr className=\"table-info\">\n                <td colSpan=\"2\">\n                  <span className=\" w-full d-block text-uppercase text-center text-bold\">\n                    <i className=\"fas fa-info-circle mr-1 text-primary\"></i>\n                    Cuenta pagada!\n                  </span>\n                </td>\n              </tr>\n            )\n          )}\n        </tbody>\n      </table>\n\n      {data.showPaymentDetails && (\n        <PaymentDetails\n          handleClose={handleClosePaymentDetails}\n          payment={data.payment}\n        />\n      )}\n\n      {data.showUpdateItem && (\n        <UpdateItemModal\n          item={data.item}\n          handleUpdate={handleUpdateItem}\n          close={handleCloseUpdateItem}\n        />\n      )}\n    </>\n  );\n}\n\nfunction handleDeleteBtn(toDo, data = null, disabled = false) {\n  return (\n    <td style={{ width: 32 }}>\n      <button\n        type=\"button\"\n        className={disabled ? \"btn btn-default disabled\" : \"btn btn-default\"}\n        onClick={() => {\n          if (toDo) {\n            if (data) toDo(data);\n            else toDo();\n          }\n        }}\n        disabled={disabled}\n      >\n        <i className=\"fas fa-trash text-muted\"></i>\n      </button>\n    </td>\n  );\n}\n","import { Sale } from \"../../../context/SaleContext\";\nimport moment from \"moment\";\n\nexport default function CustomerBtnComponent() {    \n\n    const sale = Sale();\n\n    return(\n        <div>\n            <label className=\"mx-1\">Folio:</label>\n            <span className=\"mx-1\">{sale.id ? sale.id : \"Nuevo\"}</span> \n            <label className=\"mx-1\">Fecha:</label>\n            <span className=\"mx-1\">\n            {moment(sale.created_at).format(\"L\")}\n            </span>\n            {sale.order ? (\n            <>\n                <label className=\"mx-1\">Pedido:</label>\n                <span className=\"mx-1\">{sale.order}</span>             \n            </>\n            ) : null}\n        </div>\n    );\n}\n","import { Sale } from '../../../context/SaleContext';\nimport helpers from \"../helpers.js\";\n\n\nexport default function ShowToPay(){\n    const sale = Sale();\n    return(\n        <>\n            <span className=\"text-lg\">Por pagar:</span>\n            <label className=\"text-lg ml-1\">\n                ${helpers.getForPay(sale.items, sale.payments, sale.discount)}\n            </label>\n        </>\n    )\n}\n","import { Sale } from '../../../context/SaleContext';\n\nexport default function ShowTotal(){\n    const sale = Sale();\n    return(\n        <>\n            <span className=\"text-lg\">Total:</span>\n            <label className=\"text-lg ml-1\">${sale.subtotal}</label>\n        </>    \n    )\n}\n","import Activitys from \"../../Activitys\"\n\nexport default function InfoModal({handleClose:_close, data}){\n    return(\n        <div className=\"modal d-block\">      \n        <div className=\"modal-dialog modal-lg\" role=\"document\">\n\n            <div className=\"modal-content\">\n            <div className=\"modal-header\">\n                <h5 className=\"modal-title\">Actividad</h5>\n                <button type=\"button\" className=\"close\" onClick={() => _close()}>\n                <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <Activitys\n                data = {data}\n            />           \n\n            <div className=\"modal-footer\">                \n                    <button\n                    type=\"button\"\n                    className=\"btn btn-default\"\n                    onClick={() => _close()}\n                    >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                        Cerrar\n                    </button>                \n\n            </div>\n            </div>\n        </div>\n    </div> \n    )\n}","import { useState,useContext } from \"react\";\nimport { SaleContext } from \"../../../context/SaleContext\"\nimport InfoModal from \"./InfoModal\";\n\nexport default function InfoButton(){\n\n    const saleContext = useContext(SaleContext);\n\n    const [showModal, setShowModal] = useState(false);\n\n    return(\n        <div>\n            <button\n                className=\"btn btn-info ml-2\"\n                title=\"Ver actividad\"\n                disabled = {saleContext.id ? false : true}\n                onClick = {()=> setShowModal(true)}                \n            >\n                <i className=\"fas fa-info\"></i>\n             </button>\n            {showModal ? (\n                <InfoModal\n                    data = {saleContext.activitys ?? []}                \n                    handleClose = {()=>{setShowModal(false)}}\n                />\n            ):null}\n        </div>\n    \n    \n\n\n    )\n};","import {useContext } from \"react\";\nimport { SaleContext } from \"../../../context/SaleContext\"\nimport { useHistory } from \"react-router-dom\";\n\nexport default function ShowPedido(){\n\n    const saleContext = useContext(SaleContext);\n\n    const history = useHistory();\n\n    const watchOrder = ()=>{        \n        history.push(`/pedidos/${saleContext.order}`)   \n    };\n\n    return(\n        <div>\n            <button\n                className=\"btn btn-info mr-2\"\n                title=\"Pedido\"\n                disabled = {saleContext.order ? false : true}     \n                onClick={watchOrder}                                     \n            >\n                <i className=\"fas fa-file-alt\"></i>\n             </button>          \n        </div>\n    \n    \n\n\n    )\n};","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState, useContext } from \"react\";\n\n//Components\nimport InputSearchItem from \"../components/Sales/views/InputSearchItem\";\nimport DiscountBtnComponent from \"../components/Sales/views/DiscountBtn\";\nimport ListSalesBtn from \"../components/Sales/views/ListSalesBtn\";\nimport PrintSaleComponent from \"../components/print/PrintSale\";\nimport PaymentBtnComponent from \"../components/Sales/views/PaymentBtn\";\nimport EraseBtn from \"../components/Sales/views/EraseSaleBtn\";\nimport CustomerBtnComponent from \"../components/Sales/views/CustomerBtn\";\nimport SalesDetailsTableComponent from \"../components/Sales/views/SalesDetailsTable\";\nimport SaleDate from \"../components/Sales/views/SaleDate\";\nimport ShowToPay from \"../components/Sales/views/ShowToPay\";\nimport ShowTotal from \"../components/Sales/views/ShowTotal\";\nimport saleHelper from \"../components/Sales/helpers\";\nimport InfoButton from \"../components/Sales/views/InfoButton\";\nimport ShowPedido from \"../components/Sales/views/ShowPedido\";\n\n//Context\nimport { SaleContext } from \"../context/SaleContext\";\nimport { AuthContext } from \"../context/AuthContext\";\n\n//Hook\nimport useSales from \"../hooks/useSale\";\n\n//Helpers\nimport helpers from \"../components/Sales/helpers\";\n\nexport default function IndexSalesComponent(props) {\n  const { auth } = useContext(AuthContext);\n  const hookSale = useSales();\n  const initialState = {\n    id: 0,\n    order: 0,\n    customer: {\n      id: 0,\n      name: \"venta de mostrador\",\n      phones: {},\n    },\n    contact_id: 2,\n    items: [],\n    session: saleHelper.getSession(),\n    discount: 0,\n    subtotal: 0,\n    total: 0,\n    payments: [],\n    branch_id: auth.branch.id,\n    activitys: [],\n    print: false,\n    isPayed: false,\n    thereNews: false,\n    loading: false,\n  };\n\n  const [state, setState] = useState(initialState);\n\n  const pagado = helpers.getPagado(state.payments) + state.discount;\n  const paid = state.total <= pagado ? true : false;\n  const disabled = state.order\n    ? false\n    : !paid || !state.items.length\n    ? true\n    : false;\n\n  const validateSale = () => {\n    if (state.id && state.order && state.thereNews) {\n      saveSale();\n    } else {\n      setState({\n        ...state,\n        print: true,\n      });\n    }\n  };\n\n  const handleSet = (obj) => {\n    return new Promise((done) => {\n      setState(obj);\n      done();\n    });\n  };\n\n  const setDataToSend = () => {\n    const data = {\n      id: state.id,\n      contact_id: state.contact_id,\n      discount: state.discount,\n      items: [],\n      payments: [],\n    };\n\n    if (!state.id) {\n      data.session = state.session;\n    }\n\n    state.items.forEach((item) =>\n      data.items.push({\n        cant: item.cant,\n        price: item.price,\n        store_items_id: item.store_items_id,\n      })\n    );\n\n    if (state.payments.length) {\n      state.payments.forEach((payment) => {\n        const pay = {\n          metodopago: payment.metodopago,\n          total: payment.total,\n        };\n\n        if (payment.metodopago !== 1) {\n          pay.auth = payment.auth;\n          if (payment.metodopago !== 4) {\n            pay.bank_id = payment.bank_id;\n          }\n        }\n\n        data.payments.push(pay);\n      });\n    }\n    return data;\n  };\n\n  const saveSale = () => {\n    window.Swal.fire({\n      title: \"Ventas\",\n      text: `Realmente quires guardar esta venta?`,\n      icon: \"info\",\n      showCancelButton: true,\n      confirmButtonText: \"Solo guardar\",\n      cancelButtonText: \"Imprimir y guardar\",\n      showLoaderOnConfirm: true,\n      showDenyButton: true,\n    }).then(({ dismiss }) => {\n      if (dismiss) {\n        //Guardar e imprimir los cambios\n        const returnedSale = hookSale.saveSale(setDataToSend());\n        returnedSale.then(({ data }) => {\n          if (data) {\n            if (state.id && state.order) {\n              setState({\n                ...state,\n                id: data.id,\n                thereNews: false,\n                print: true,\n              });\n            } else {\n              window.Swal.fire({\n                title: \"Venta Guardada correctamente\",\n                text: `Quieres imprimir el ticket de la venta?`,\n                icon: \"success\",\n                showCancelButton: true,\n                confirmButtonText: \"Imprimir\",\n                cancelButtonText: \"Cancelar\",\n                showLoaderOnConfirm: true,\n              }).then(({ dismiss }) => {\n                if (!dismiss) {\n                  setState({\n                    ...state,\n                    id: data.id,\n                    thereNews: false,\n                    print: true,\n                  });\n                } else {\n                  helpers.confirm(\"Cerrar la venta actual\", () => {\n                    setState(initialState);\n                  });\n                }\n              });\n            }\n          } else {\n            console.error(\"Error al guardar la venta\");\n          }\n        });\n      } else {\n        //Solo guardar los cambios\n        const returnedSale = hookSale.saveSale(setDataToSend());\n        returnedSale.then(({ data }) => {\n          if (data) {\n            if (state.id && state.order) {\n              setState({\n                ...state,\n                id: data.id,\n                thereNews: false,\n                //print: true,\n              });\n            } else {\n              window.Swal.fire({\n                title: \"Venta Guardada correctamente\",\n                icon: \"success\",\n                showCancelButton: false,\n                showConfirmButton: false,\n                showLoaderOnConfirm: true,\n                timer: 3000,\n              });\n            }\n          } else {\n            console.error(\"Error al guardar la venta\");\n          }\n        });\n      }\n    });\n\n    /* const returnedSale = hookSale.saveSale(setDataToSend());\n    returnedSale.then(({ data }) => {\n      if (data) {          \n        if (state.id && state.order) {          \n          setState({\n            ...state,\n            id: data.id,\n            thereNews: false,\n            print: true,\n          });\n        } else {\n          window.Swal.fire({\n            title: \"Venta Guardada correctamente\",\n            text: `Quieres imprimir el ticket de la venta?`,\n            icon: \"success\",\n            showCancelButton: true,\n            confirmButtonText: \"Imprimir\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              setState({\n                ...state,\n                id: data.id,\n                thereNews: false,\n                print: true,\n              });\n            } else {\n              helpers.confirm(\"Cerrar la venta actual\", () => {\n                setState(initialState);\n              });\n            }\n          });\n        }\n      } else {\n        console.error(\"Error al guardar la venta\");\n      }\n    }); */\n  };\n\n  useEffect(() => {\n    const total = state.items?.reduce(\n      (back, item) => item.cant * item.price + back,\n      0\n    );\n    const payments = state.payments?.reduce(\n      (back, item) => item.total + back,\n      0\n    );\n    let payed = Boolean(!(total - state.discount - payments));\n    let thereNews = state.id ? false : true;\n\n    if (!total && !payments) {\n      thereNews = false;\n      payed = false;\n    } else if (state.thereNews) {\n      thereNews = true;\n    }\n\n    if (state.thereNews === false && state.load === false) {\n      thereNews = true;\n    }\n\n    setState({\n      ...state,\n      isPayed: payed,\n      thereNews,\n      load: false,\n    });\n  }, [state.items, state.payments, state.discount]);\n\n  useEffect(() => {\n    if (state.isPayed) {\n      if (!state.id && !state.order) {\n        saveSale();\n      }\n    }\n  }, [state.isPayed]);\n\n  useEffect(() => {\n    if (props.match.params.id) {\n      setState({\n        ...state,\n        loading: true,\n      });\n      hookSale\n        .getSaleById(props.match.params.id)\n        .then((data) => {\n          if (data) {\n            setState({\n              ...state,\n              id: data.data.id,\n              order: data.data.order,\n              contact_id: data.data.customer.id,\n              items: data.data.items,\n              session: data.data.session,\n              discount: data.data.discount,\n              subtotal: data.data.subtotal,\n              total: data.data.total,\n              payments: data.data.payments,\n              branch_id: data.data.branch.id,\n              created_at: data.data.created_at,\n              activitys: data.data.activity,\n              customer: data.data.customer,\n              thereNews: false,\n              loading: false,\n            });\n          }\n        })\n        .catch(() => {\n          setState({\n            ...state,\n            loading: false,\n          });\n        });\n    }\n  }, []);\n\n  return (\n    <SaleContext.Provider value={{ ...state, set: handleSet }}>\n      <div className=\"card border border-gray\">\n        <div className=\"card-body pb-2 d-print-none\">\n          <nav className=\"row\">\n            <div className=\"col\">\n              <CustomerBtnComponent />\n            </div>\n\n            <div className=\"col\">\n              <SaleDate></SaleDate>\n            </div>\n\n            <div className=\"col-3\">\n              <div className=\"card-tools d-flex justify-content-end mb-3\">\n                <ShowPedido />\n\n                <ListSalesBtn />\n\n                <DiscountBtnComponent />\n\n                <EraseBtn {...props} />\n\n                <InfoButton />\n              </div>\n            </div>\n          </nav>\n          <div\n            className=\"overflow-auto text-right p-0 border border-gray\"\n            style={{ minHeight: \"65vh\" }}\n          >\n            {state.loading ? (\n              <div className=\"d-flex flex-column justify-content-center align-items-center  mt-5\">\n                <h1>Cargando informacion</h1>\n                <div\n                  className=\"spinner-border text-primary\"\n                  role=\"status\"\n                ></div>\n              </div>\n            ) : (\n              <SalesDetailsTableComponent />\n            )}\n          </div>\n        </div>\n\n        <div className=\"card-footer\">\n          <div className=\"row\">\n            <div className=\"col d-print-none\">\n              <ShowTotal />\n            </div>\n\n            <div className=\"col d-print-none\">\n              <ShowToPay />\n            </div>\n\n            <div className=\"col-6 text-right\">\n              <InputSearchItem />\n\n              <PaymentBtnComponent />\n\n              <button\n                className=\"btn btn-primary ml-3\"\n                onClick={() => validateSale()}\n                disabled={disabled}\n              >\n                <i className=\"fas fa-print mr-2\"></i>\n                Imprimir\n              </button>\n\n              {state.print && (\n                <PrintSaleComponent\n                  data={{ ...state, order_id: state.order }}\n                  setPrint={() => setState({ ...state, print: false })}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </SaleContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api, setUrl } from \"../../../utils/url\";\n\nexport default function ReportPaymentsDetails({ filters }) {\n  const [state, setState] = useState({\n    payments: [],\n    meta: {},\n    page: 1,\n    load: false,\n  });\n\n  const getSaleDay = async () => {\n    const paymentsFilters = {\n      ...filters,\n      itemsPage: 12,\n      page: state.page,\n    };\n    setState({\n      ...state,\n      load: true,\n    });\n\n    const paymentsUrl = setUrl(\"payments\", null, paymentsFilters);\n    const { data, message, meta } = await api(paymentsUrl);\n\n    if (data) {\n      setState({\n        ...state,\n        payments: data,\n        meta: meta,\n        load: false,\n      });\n    } else if (message) {\n      setState({\n        ...state,\n        load: false,\n      });\n\n      console.error(\"[Orus system] Error in report payments details:\", message);\n      window.Swal.fire(\"Fallo de conexion\", message, \"error\");\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [\n    filters.user_id,\n    filters.date_start,\n    filters.date_end,\n    filters.branch_id,\n    state.page,\n  ]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">Detallado</h3>\n      </div>\n      <div className=\"card-body\">\n        <table className=\"table table-sm\">\n          <thead>\n            <tr>\n              <th>Metodo</th>\n              <th>Cliente</th>\n              <th>Pedido</th>\n              <th>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {state.payments.length ? (\n              state.payments.map((pay) => {\n                return (\n                  <tr\n                    key={pay.id}\n                    className={pay.metodo === 1 ? \"text-success\" : \"\"}\n                  >\n                    <th className=\"text-uppercase\">{pay.metodoname}</th>\n                    <td className=\"text-capitalize\">\n                      {pay.sale && pay.sale.customer\n                        ? pay.sale.customer.name\n                        : \"--\"}\n                    </td>\n                    <td>\n                      <span\n                        className=\"badge badge-primary\"\n                        alt={\"Cobrado por: \" + pay.created_user}\n                        title={\"Cobrado por: \" + pay.created_user}\n                      >\n                        {pay.sale && pay.sale.pedido ? pay.sale.pedido : \"--\"}\n                      </span>\n                    </td>\n                    <td className=\"text-right\">{dollarUS.format(pay.total)}</td>\n                  </tr>\n                );\n              })\n            ) : (\n              <tr>\n                <th colSpan=\"4\" className=\"text-center\">\n                  <h6 className=\"text-warning\">\n                    <i className=\"fas fa-info mr-2\"></i>\n                    No hay datos para este dia\n                  </h6>\n                </th>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      {Boolean(state.meta.total) && (\n        <div className=\"card-footer\">\n          {state.meta.current_page === 1 ? (\n            <a href=\"#next\" onClick={(e) => e.preventDefault()}>\n              <i className=\"fas fa-step-backward text-dark\"></i>\n            </a>\n          ) : (\n            <a\n              href=\"#next\"\n              onClick={(e) => {\n                e.preventDefault();\n                setState({\n                  ...state,\n                  page: state.page - 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-step-backward\"></i>\n            </a>\n          )}\n          {\" \" + state.page + \" / \" + state.meta.last_page + \" \"}\n          {state.meta.current_page === state.meta.last_page ? (\n            <a href=\"#next\" onClick={(e) => e.preventDefault()}>\n              <i className=\"fas fa-step-forward text-dark\"></i>\n            </a>\n          ) : (\n            <a\n              href=\"#next\"\n              onClick={(e) => {\n                e.preventDefault();\n                setState({\n                  ...state,\n                  page: state.page + 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-step-forward\"></i>\n            </a>\n          )}\n        </div>\n      )}\n\n      {state.load && (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api, setUrl } from \"../../../utils/url\";\n\nexport default function ReportPays({ filters, changeState, auth }) {\n  const [state, setState] = useState({\n    rol: auth.roles,\n    total: 0,\n    efectivo: 0,\n    char: null,\n    load: false,\n  });\n\n  const getSaleDay = async () => {\n    setState({\n      ...state,\n      load: true,\n    });\n\n    const newFiltersPays = {\n      ...filters,\n      itemsPage: 20,\n      type: \"methods\",\n    };\n\n    const url = setUrl(\"payments\", null, newFiltersPays);\n    const { data, message } = await api(url);\n\n    console.log(\"[Orus System] Creating char\");\n    if (data) {\n      var donutChartCanvas = window.$(\"#donutChart\").get(0).getContext(\"2d\"),\n        donutOptions = {\n          maintainAspectRatio: true,\n          responsive: true,\n        },\n        labels = [],\n        values = [],\n        total = 0,\n        efectivo = 0,\n        donutData = {};\n\n      if (state.char) state.char.destroy();\n\n      if (!data.message) {\n        if (data && data.length) {\n          await data.map((mp) => {\n            labels.push(mp.method);\n            values.push(mp.total.toFixed(2));\n            if (mp.method === \"efectivo\") {\n              efectivo = mp.total;\n            }\n            total += mp.total;\n            return null;\n          });\n        } else {\n          labels = [\"No hay datos\"];\n          values = [0];\n        }\n\n        setState({\n          ...state,\n          total,\n          efectivo,\n          load: false,\n        });\n      } else {\n        console.error(\"[ORUS] Error al cargar la venta del dia\", data.message);\n        labels = [\"No hay datos\"];\n        values = [100];\n        setState({\n          ...state,\n          load: false,\n        });\n      }\n      donutData = {\n        labels: labels,\n        datasets: [\n          {\n            data: values,\n            backgroundColor: [\n              \"#f56954\",\n              \"#00a65a\",\n              \"#f39c12\",\n              \"#00c0ef\",\n              \"#3c8dbc\",\n              \"#d2d6de\",\n              \"#000\",\n            ],\n          },\n        ],\n      };\n      state.char = new window.Chart(donutChartCanvas, {\n        type: \"pie\",\n        data: donutData,\n        options: donutOptions,\n      });\n    } else {\n      window.Swal.fire({\n        title: \"Error!\",\n        text: \"Ups!\\n Hubo un error al descargar las ventas\",\n        icon: \"error\",\n        confirmButtonText: \"Ok\",\n      });\n      setState({\n        ...state,\n        load: false,\n      });\n\n      return message;\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [\n    filters.user_id,\n    filters.date_start,\n    filters.date_end,\n    filters.branch_id,\n  ]);\n\n  useEffect(() => {\n    changeState({ ventas: state.efectivo });\n  }, [state.efectivo]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">\n          Ventas del dia por metodo de pago\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        <canvas id=\"donutChart\"></canvas>\n        <p>          \n          Venta total: <strong>{dollarUS.format(state.total)}</strong>\n          <br/>\n          Efectivo: <strong>{dollarUS.format(state.efectivo)}</strong>\n        </p>\n      </div>\n      {state.load && (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api, setUrl } from \"../../../utils/url\";\n\nexport default function ReportBank({ filters }) {\n  const [state, setState] = useState({\n    listBank: [],\n    page: 1,\n    data: [],\n    load: false,\n  });\n\n  const getSaleDay = async () => {\n    const bankFilters = {\n      ...filters,\n      itemsPage: 12,\n      type: \"banks\",\n    };\n    setState({\n      ...state,\n      load: true,\n    });\n\n    const bankUrls = setUrl(\"payments\", null, bankFilters);\n    const { data, message } = await api(bankUrls);\n\n    if (data) {\n      setState({\n        ...state,\n        data: data,\n        load: false,\n      });\n    } else if (message) {\n      setState({\n        ...state,\n        load: false,\n      });\n      console.error(\"[Orus system] Error in report payments details:\", message);\n      window.Swal.fire(\"Fallo de conexion\", message, \"error\");\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [\n    filters.user_id,\n    filters.date_start,\n    filters.date_end,\n    filters.branch_id,\n  ]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">\n          Detallado de pagos bancarios\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        <ul className=\"list-group\">\n          {state.data.length ? (\n            state.data.map((bank, i) => {\n              return (\n                <li\n                  className=\"list-group-item d-flex justify-content-between align-items-center\"\n                  key={i}\n                >\n                  <label className=\"text-uppercase\">{bank.name}</label>\n                  <span className=\"badge badge-primary\">\n                    {dollarUS.format(bank.total)}\n                  </span>\n                </li>\n              );\n            })\n          ) : (\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <h6 className=\"text-warning\">\n                <i className=\"fas fa-info mr-2\"></i>\n                No hay datos para este dia\n              </h6>\n            </li>\n          )}\n        </ul>\n      </div>\n      {state.load && (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useContext, useState, useEffect } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n//Context\nimport { ConfigContext } from \"../../context/ConfigContext\";\n//Hooks\nimport useUsers from \"../../hooks/useUsers\";\n\nexport default function Filters({ filters, changeState }) {\n  const { user_id, branch_id, date_end, date_start } = filters;\n  const [state, setState] = useState({\n    branch_id,\n    user_id,\n    date_start,\n    date_end,\n    userData: [],\n    load: false,\n  });\n  const usersHook = useUsers();\n  const config = useContext(ConfigContext);\n  const branches = config.data.filter((c) => c.name === \"branches\");\n\n  // Functions\n  const sendDataFilter = () => {\n    const { user_id, branch_id, date_end, date_start } = state;\n\n    changeState({\n      branch_id,\n      user_id,\n      date_start,\n      date_end,\n    });\n    getDataApi();\n  };\n  const handleChangeDate = (field, date) => {\n    setState({\n      ...state,\n      [field]: moment(date).format(\"YYYY-MM-DD\"),\n    });\n  };\n  const getDataApi = () => {\n    setState({\n      ...state,\n      load: true,\n    });\n    usersHook.getListUsers({ branch_id: state.branch_id }).then(({ data }) => {\n      if (data) {\n        const users = data.filter((u) => !u.roles.includes(\"doctor\"));\n        setState({\n          ...state,\n          userData: users,\n          load: false,\n        });\n      } else {\n        console.error(\"[Orus System] Error al obtener la lista de usuarios\");\n        setState({\n          ...state,\n          load: false,\n        });\n      }\n    });\n  };\n\n\n  useEffect(() => {\n    getDataApi();        \n  }, []);\n\n  \n\n  return (\n    <div className=\"border-bottom pb-3 mb-4\">\n      <div className=\"card-body p-0 bg-light\">\n        <div className=\"form-group row col-lg-12 m-0\">\n          <div className=\"col-lg-1 mt-sm-3 ml-sm-3\">\n            <p className=\"mt-2 font-weight-bold text-secondary h5\">Filtros</p>\n          </div>\n\n          <div className=\"col-lg-2 mt-sm-3\">\n            <div className=\"col-lg-12\">\n              <select\n                className=\"form-control text-capitalize\"\n                value={state.branch_id}\n                onChange={({ target }) =>\n                  setState({ ...state, branch_id: target.value })\n                }\n              >\n                <option value=\"\">\n                  {state.load && !branches.length ? \"Cargando...\" : \"Todas\"}\n                </option>\n                {branches.map((branch) => {\n                  return (\n                    <option key={branch.id} value={branch.id}>\n                      {branch.data.name}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"col-lg-2 mt-sm-3\">\n            <div className=\"col-lg-12\">\n              <select\n                className=\"form-control text-capitalize\"\n                defaultValue={state.user_id}\n                onChange={({ target }) =>\n                  setState({ ...state, user_id: target.value })\n                }\n              >\n                <option value=\"\">{state.load ? \"Cargando...\" : \"Todos\"}</option>\n                {state.userData.map((user) => {\n                  return (\n                    <option key={user.id} value={user.id}>\n                      {user.name}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"row mt-sm-3 m-0 ml-sm-2\">\n            <label className=\"col-lg-1 col-form-label p-0 ml-5 mt-2 ml-sm-3\">\n              De:\n            </label>\n            <div className=\"col-lg-10\">\n             <DatePicker\n                className=\"form-control\"                  \n                selected={     \n                  new Date(state.date_start)                                                 \n                  /* new Date(moment(state.date_start).format(\"MM-DD-YYYY\")) */\n                }\n                onSelect={(date) => handleChangeDate(\"date_start\", date)}\n                onChange={(date) => handleChangeDate(\"date_start\", date)}\n              />\n            </div>\n          </div>\n\n          <div className=\"row mt-sm-3 m-0\">\n            <label className=\"col-lg-1 col-form-label p-0 mt-2 ml-sm-3\">\n              a:\n            </label>\n            <div className=\"col-lg-10\">\n              <DatePicker\n                className=\"form-control\"\n                selected={\n                  new Date(state.date_end)\n                  /* new Date(moment(state.date_end).format(\"MM-DD-YYYY\")) */\n                }\n                onSelect={(date) => handleChangeDate(\"date_end\", date)}\n                onChange={(date) => handleChangeDate(\"date_end\", date)}\n              />\n            </div>\n          </div>\n\n          <div className=\"col-lg-2 row mt-sm-3 d-flex justify-content-center m-0 h-50\">\n            <button\n              type=\"button\"\n              className=\"btn w-50 btn-success font-weight-bold\"\n              onClick={sendDataFilter}\n            >\n              Filtrar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { Component } from \"react\";\n\n//Componentes\nimport { dollarUS } from \"../../utils/current\";\n\nexport default class BoxCut extends Component {\n  render() {\n    const { ventas } = this.props;\n\n    return (\n      <div className=\"card border border-info rounded\">\n        <div className=\"card-body bg-light\">\n          <h2 className=\"card-title text-secondary\">Efectivo de caja</h2>\n          <br />\n          <div className=\"row\">\n            <div className=\"col\">\n              <h5 className=\"text-success\">{dollarUS.format(ventas)}</h5>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import { useState, useContext } from \"react\";\nimport moment from \"moment\";\n\nimport PaymentsDetails from \"../components/Sales/views/reportPaymentsDetails\";\nimport ReportPays from \"../components/Sales/views/reportPays\";\nimport ReportBank from \"../components/Sales/views/reportBank\";\nimport Filters from \"../components/dashboard/Filters\";\nimport BoxCut from \"../components/dashboard/boxCut\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Dashboard() {\n  const { auth } = useContext(AuthContext);\n  const [state, setState] = useState({\n    user_id: 0,\n    date_start: moment().startOf(\"week\").format(\"YYYY-MM-DD\"),\n    date_end: moment().format(\"YYYY-MM-DD\"),\n    branch_id: auth.branch.id,\n    ventas: 0,\n  });\n  // Function\n  const changeAllState = (obj) => {\n    if (typeof obj !== \"object\") {\n      console.log(\"[Orus system] The filters data not is a object:\", obj);\n      return;\n    }\n\n    setState({\n      ...state,\n      ...obj,\n    });\n  };\n\n  return (\n    <div className=\"content\" style={{ minHeight: \"100vh\" }}>\n      <p className=\"h4 border-bottom mb-4\">\n        Bienvenido\n        <span className=\"font-weight-bold mx-2 text-capitalize\">\n          {auth.name.toLowerCase()}\n        </span>\n        este es el resumen.\n      </p>\n\n      <div className=\"row\">\n        <div className=\"col col-md-12 col-lg-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <Filters filters={state} changeState={changeAllState} />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col-lg-4 col-md-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <BoxCut ventas={state.ventas} />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <ReportPays\n                filters={state}\n                changeState={changeAllState}\n                auth={auth}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"col-lg-8 col-md-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-4 col-md-12\">\n              <ReportBank filters={state} changeState={changeAllState} />\n            </div>\n            <div className=\"col-lg-8 col-md-12\">\n              <PaymentsDetails filters={state} changeState={changeAllState} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { createContext, useContext } from \"react\";\n\nexport const UserContext = createContext(null);\nexport const Users = ()=> useContext(UserContext);","import { useContext } from \"react\";\nimport { UserContext } from \"../../../context/UserContext\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function FiltersToolbar({handleNewOrEdit: _handleNewOrEdit, newOrEdit: _newOrEdit}){\n\n    const _userContext = useContext(UserContext)\n    const history = useHistory();\n    \n    return (\n          <div className=\"col-lg-12\">\n\n\n            <button \n\n              className={\n                _userContext.panel !== \"inbox\"\n                  ? \"disabled mb-3 btn btn-secondary btn-block\"\n                  : \"mb-3 btn btn-primary btn-block\"\n              }\n\n              onClick={(e) => {\n                e.preventDefault();\n                _handleNewOrEdit()\n              }}\n\n              disabled={ _newOrEdit}\n              >\n                <i className=\"mr-2 fas fa-plus\"></i>\n                Usuario nuevo\n            </button>\n    \n            {!_newOrEdit ? (\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-dark\">\n                    <i className=\"mr-2 fas fa-ellipsis-v\"></i>Filtros\n                  </h5>\n                </div>\n                <div className=\"p-0 card-body\">\n                  <ul className=\"nav nav-pills flex-column\">\n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"orderby\">Ordenar por</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"orderby\"\n                        id=\"orderby\"\n                        value={_userContext.options.orderby}\n                        onChange={({ target }) => {\n\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"created_at\">Fecha de registro</option>\n                        <option value=\"updated_at\">Fecha de modificacion</option>\n                      </select>\n                    </li>\n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"order\">Mostrar por</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"order\"\n                        id=\"order\"\n                        value={_userContext.options.order}\n                        onChange={({ target }) => {\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"asc\">Antiguos</option>\n                        <option value=\"desc\">Recientes</option>\n                      </select>\n                    </li>\n    \n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"itemsPage\">Numero de usuarios</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"itemsPage\"\n                        id=\"itemsPage\"\n                        value={_userContext.options.itemsPage}\n                        onChange={({ target }) =>{\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"25\">ver 25</option>\n                        <option value=\"50\">ver 50</option>\n                        <option value=\"75\">ver 75</option>\n                        <option value=\"100\">ver 100</option>\n                      </select>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            ) : (\n              <div>\n                <li className=\"list-group-item\">\n              <a\n                href=\"#back\"\n                className=\"d-flex justify-content-between align-items-center\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  _handleNewOrEdit();\n                  history.push('/usuarios');\n                }}\n              >\n                Ver listado\n                <span className=\"badge badge-primary badge-pill\">\n                  <i className=\"fas fa-chevron-left\"></i>\n                </span>\n              </a>\n            </li>\n              </div>\n            )}\n          </div>\n    )\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { useEffect, useState, useContext } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\nimport { UserContext } from \"../../../context/UserContext\";\nimport ListInbox from \"../../../layouts/list_inbox\";\nimport { useHistory } from \"react-router-dom\";\n//import { AuthContext } from '../../../context/AuthContext';\n\nexport default function InboxComponent() {\n  const history = useHistory();\n  const _users = useUsers();\n  const _userContext = useContext(UserContext);\n  //const _authContext = useContext(AuthContext);\n  const [userSelected, setUserSelected] = useState(\"\");\n\n  const [data, setData] = useState({\n    users: [],\n    meta: {},\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  const { users, meta } = data;\n\n  const handleChangeOptions = (key, value) => {\n    _userContext.set({\n      ..._userContext,\n      options: {\n        ..._userContext.options,\n        [key]: value,\n      },\n    });\n  };\n\n  const deleteItem = () => {\n    setLoading(true);\n    _users\n      .deleteUser(userSelected)\n      .then((data) => {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Usuario eliminado correctamente\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n\n        setUserSelected({ id: 0 });\n\n        _users.getListUsers(_userContext.options).then((data) => {\n          if (data) {\n            setData({\n              ...data,\n              users: data.data,\n              meta: data.meta,\n            });\n            setLoading(false);\n          }\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  const handleSelectUser = (e, order = { id: 0 }) => {\n    if (userSelected) {\n      history.push(`usuarios/${userSelected}`);\n    } else {\n      window.Swal.fire({\n        title: \"Error\",\n        text: \"Lo sentimos no existe un contacto seleccionado\",\n        icon: \"error\",\n      });\n    }\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    _users.getListUsers(_userContext.options).then((data) => {\n      if (data) {\n        setData({\n          ...data,\n          users: data.data,\n          meta: data.meta,\n        });\n        setLoading(false);\n      } else {\n        console.error(\"Error al obtener los datos\");\n      }\n    });\n  }, [_userContext.options]);\n\n  return (\n    <ListInbox\n      title=\"Lista de productos\"\n      icon=\"id-badge\"\n      color=\"primary\"\n      loading={loading}\n      meta={meta}\n      itemSelected={userSelected}\n      defaultSearch={_userContext.options.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleDeleteItem={deleteItem}\n      handleEditItem={handleSelectUser}\n      handleSync={() => {\n        _userContext.set({\n          ..._userContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n          },\n        });\n      }}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Email/Usuario</th>\n            <th>Rol</th>\n            <th>Sucursal</th>\n            {_userContext.options.orderby === \"created_at\" ? (\n              <th>Creado</th>\n            ) : (\n              <th>Modificado</th>\n            )}\n          </tr>\n        </thead>\n        <tbody>\n          {users.length ? (\n            <>\n              {users.map((user) => {\n                return (\n                  <tr key={user.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={user.id}\n                        id={\"item_\" + user.id}\n                        checked={userSelected === user.id ? true : false}\n                        onChange={({ target }) => {\n                          const { value, checked } = target;\n                          setUserSelected(checked ? parseInt(value) : \"\");\n                          //handleUserSelect(target);\n                        }}\n                      />\n                      <label\n                        htmlFor={\"item_\" + user.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td\n                      className=\"mailbox-name text-capitalize text-truncate text-bold text-primary\"\n                      style={{ cursor: \"pointer\", maxWidth: 180 }}\n                      onClick={(e) => {\n                        //handleSelectUser(e, user)\n                        history.push(`usuarios/${user.id}`);\n                      }}\n                    >\n                      {user.name}\n                    </td>\n                    <td className=\"mailbox-name text-muted text-truncate\">\n                      <span>{user.email}</span>\n                    </td>\n                    <td className=\"mailbox-name \">\n                      <span className={getClassByRole(user.roles[0])}>\n                        {user.roles[0]}\n                      </span>\n                    </td>\n                    <td className=\"text-truncate\">\n                      <span className=\"text-capitalize\">\n                        {user.branch.data.name}\n                      </span>\n                    </td>\n                    {_userContext.options.orderby === \"created_at\" ? (\n                      <td className=\"mailbox-date text-muted text-truncate\">\n                        <span>{moment(user.created_at).format(\"LL\")}</span>\n                      </td>\n                    ) : (\n                      <td className=\"mailbox-date text-muted text-truncate\">\n                        <span>{moment(user.updated_at).fromNow()}</span>\n                      </td>\n                    )}\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"6\">\n                No hay usuarios registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </ListInbox>\n  );\n}\n\nfunction getClassByRole(role) {\n  switch (role) {\n    case \"admin\":\n      return \"text-capitalize badge badge-pill badge-dark\";\n    case \"ventas\":\n      return \"text-capitalize badge badge-pill badge-success\";\n    default:\n      return \"text-capitalize badge badge-pill badge-primary\";\n  }\n}\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { UserContext } from \"../context/UserContext\";\n\n//Components\nimport FiltersToolbar from \"../components/Users/views/FiltersToolbar\";\nimport Inbox from \"../components/Users/views/Inbox\";\nimport Add from \"../components/Users/add\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n  search: \"\",\n};\n\nexport default function UsersComponent(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    panel: null,\n    newOrEdit: null,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <UserContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <div className=\"col-lg-2\">\n          <FiltersToolbar\n            newOrEdit={state.newOrEdit}\n            handleNewOrEdit={() =>\n              setState({\n                ...state,\n                newOrEdit: !state.newOrEdit,\n              })\n            }\n          />\n        </div>\n\n        <div className=\"col-lg-10\">\n          {typeof state.newOrEdit === \"boolean\" ? (\n            <div className=\"col-sm-10 col-md-12 col-lg-12\">\n              {state.newOrEdit === true ? (\n                <Add\n                  {...props}\n                  handleNewOrEdit={() =>\n                    setState({\n                      ...state,\n                      newOrEdit: !state.newOrEdit,\n                    })\n                  }\n                />\n              ) : state.newOrEdit === false ? (\n                <Inbox />\n              ) : null}\n            </div>\n          ) : (\n            <p>Loading component</p>\n          )}\n        </div>\n      </div>\n    </UserContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const OrderContext = createContext(null);\nexport const Order = () => useContext(OrderContext);\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useOrder(){\n\n    const getListOrders = async (options)=> {\n        const url = setUrl('orders', null, options);\n        return await api(url);\n    }\n\n    const getOrder = async (orderID)=>{\n        const url = setUrl('orders', orderID.id);\n        return await api(url);\n    }\n\n    const saveOrder = async (data)=>{\n        const method = data.id ? 'PUT' : 'POST';\n        if(data.status === 2 && !data.bi_details.length){\n            delete data.bi_details;\n        }    \n        const url = setUrl('orders', data.id);\n        delete data.id;\n        return await api(url, method, data);\n    }\n    \n    const deleteOrder = async (id)=>{\n        const method = \"DELETE\";\n        const url = setUrl('orders', id);\n        return await api(url, method);\n    }\n    \n    return{\n        getListOrders,\n        getOrder,\n        deleteOrder,\n        saveOrder,\n    }\n\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Main from \"../../../layouts/list_inbox\";\nimport helper from \"../helpers\";\nimport useOrder from \"../../../hooks/useOrder\";\nimport { Order } from \"../../../context/OderContext\";\n\nconst InboxOrderComponent = (props) => {\n  const orderContext = Order();\n  const orderHook = useOrder();\n  const options = orderContext?.options;\n\n  const [pedidos, setPedidos] = useState({\n    data: [],\n    meta: {},\n    loading: false,\n  });\n\n  const { _saveOrder } = props;\n\n  const history = useHistory();\n\n  const [orderSelected, setOrderSelected] = useState({ id: 0 });\n\n  const getList = () => {\n    if (!options) return null;\n\n    setPedidos({\n      ...pedidos,\n      loading: true,\n    });\n\n    orderHook.getListOrders(options).then((data) => {\n      if (data) {\n        setPedidos({\n          data: data.data,\n          meta: data.meta,\n        });\n      } else {\n        console.error(\"Error al obtener la lista de pedidos\");\n      }\n    });\n  };\n\n  const handleChangeOptions = (key, value) => {\n    orderContext?.set({\n      ...orderContext,\n      options: {\n        ...options,\n        [key]: value,\n      },\n    });\n  };\n\n  const handleSelectOrder = (e, order = { id: 0 }) => {\n    if (e) e.preventDefault();\n    if (order.id !== 0) {\n      history.push(`/pedidos/${order.id}`);\n    } else {\n      history.push(`pedidos/${orderSelected.id}`);\n    }\n  };\n\n  const handleOrderSelect = ({ checked }, pedido) => {\n    if (!checked) pedido = { id: 0 };\n    setOrderSelected(pedido);\n  };\n\n  const deleteOrder = () => {\n    window.Swal.fire({\n      title: \"Ests seguro de eliminar la orden?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        orderHook.deleteOrder(orderSelected.id);\n\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Orden eliminada correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n\n        orderContext.set({\n          ...orderContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n            status: 0,\n            search: \"\",\n          },\n        });\n      }\n    });\n  };\n\n  const handleStatus = () => {\n    if (orderSelected.id && orderSelected.estado < 3) {\n      helper.handleSaveOrder(\n        orderSelected.id,\n        { status: 3 },\n        options,\n        _saveOrder\n      );\n    }\n    setOrderSelected({ id: 0 });\n  };\n\n  useEffect(() => {\n    getList();\n    // eslint-disable-next-line\n  }, [options]);\n\n  return (\n    <Main\n      title=\"Listado de pedidos\"\n      icon=\"clipboard-list\"\n      color=\"warning\"\n      meta={pedidos.meta}\n      itemSelected={orderSelected.id}\n      loading={pedidos.loading}\n      defaultSearch={options?.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleEditItem={handleSelectOrder}\n      handleDeleteItem={deleteOrder}\n      handleSync={() => {\n        orderContext.set({\n          ...orderContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n            status: 0,\n            search: \"\",\n          },\n        });\n      }}\n      handleStatus={handleStatus}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Folio</th>\n            <th>Cliente</th>\n            <th>Estado</th>\n            <th>Nota</th>\n            <th>\n              {options?.orderby === \"created_at\" ? \"Registrado\" : \"Modificado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {pedidos.data.length ? (\n            pedidos.data.map((pedido, i) => {\n              return (\n                <tr key={pedido.id}>\n                  <td>\n                    <div className=\"icheck-primary\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={pedido.id}\n                        id={\"order_\" + pedido.id}\n                        checked={orderSelected.id === pedido.id ? true : false}\n                        disabled={pedido.status > 2}\n                        onChange={({ target }) =>\n                          handleOrderSelect(target, pedido)\n                        }\n                      />\n                      <label\n                        htmlFor={\"order_\" + pedido.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </div>\n                  </td>\n                  <td>#{pedido.id}</td>\n                  <td\n                    className=\"mailbox-name text-truncate text-capitalize text-bold\"\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    <a\n                      href=\"#edit\"\n                      onClick={(e) => handleSelectOrder(e, pedido)}\n                    >\n                      <span\n                        className={\n                          pedido.status > 2\n                            ? \"text-muted\"\n                            : \"text-dark text-bold\"\n                        }\n                      >\n                        <i className=\"fas fa-user text-sm mr-2\"></i>\n                        {pedido.paciente.name}\n                      </span>\n                    </a>\n                  </td>\n                  <td className=\"mailbox-subject\">\n                    {helper.getBadgeStatus(pedido.status)}\n                    {pedido.status === 1 ? (\n                      <div>\n                        <span className=\"mr-1 text-dark\">\n                          {pedido.lab ? pedido.lab.nombre : \"Sin asignar\"}\n                        </span>\n                        {pedido.lab ? \"/ \" + pedido.npedidolab : \"\"}\n                      </div>\n                    ) : pedido.status === 2 ? (\n                      <small>\n                        {pedido.ncaja\n                          ? \"CAJA: \" + pedido.ncaja\n                          : \"Caja no asignada\"}\n                      </small>\n                    ) : !pedido.status ? (\n                      <small>\n                        {pedido.exam\n                          ? pedido.exam.status === 1\n                            ? \"Examen completado\"\n                            : \"Examen no realizado\"\n                          : \"Examen no asignado\"}\n                      </small>\n                    ) : pedido.status === 3 ? (\n                      <small className=\"text-dark\">Sin entregar</small>\n                    ) : null}\n                  </td>\n                  <td className=\"mailbox-attachment\">\n                    {pedido.sale ? (\n                      <Link to={\"/notas/registro/\" + pedido.sale.id}>\n                        <span className=\"badge badge-success\">\n                          {pedido.sale.id}\n                        </span>\n                      </Link>\n                    ) : (\n                      \"--\"\n                    )}\n                  </td>\n                  <td className=\"mailbox-date\">\n                    {options.orderby === \"created_at\"\n                      ? moment(pedido.created_at).format(\"ll\")\n                      : moment(pedido.updated_at).fromNow()}\n                  </td>\n                </tr>\n              );\n            })\n          ) : (\n            <tr>\n              <th colSpan=\"10\" className=\"text-center\">\n                No hay datos para mostrar\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Main>\n  );\n};\n\nexport default InboxOrderComponent;\n","const getSession = () => {\n    return (\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(10)\n    );\n  };\n\n\n  const toExport = {\n      getSession\n  }\n\n\n  export default toExport;","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\n\n//Hooks\nimport useProducts from \"../../../hooks/useProducts\";\n\nfunction SearchItemsComponent(props) {\n  const hookProducts = useProducts();\n\n  // Props and vars\n  const {\n    item = { name: \"\" },\n    handleItemSelect: _handleItemSelect,\n  } = props;\n\n  // States\n  const [search, setSearch] = useState(item.name),\n  [timer, setTimer] = useState(\"\"),\n  [load, setLoad] = useState(false),\n  [items, setItems] = useState([]);\n\n  // Functions\n  const handleChangeSearch = ({ target }) => {\n    const { value } = target;\n    setSearch(value.toLowerCase());\n    setLoad(true);\n  };\n\n  const handleSelect = (item) => {\n    _handleItemSelect(item);\n    setSearch(item.name.toUpperCase());\n    setItems([]);\n  };\n\n  useEffect(() => {\n    let toTimer = null;\n    if (search.length > 2 && !item.store_items_id) {\n      if (timer) clearTimeout(timer);\n      toTimer = setTimeout(() => {\n        hookProducts.getProducts(search).then((data) => {\n          if (data) {\n            setItems(data.data);\n          } else {\n            console.error(\"Error al obtener la lista de productos\");\n          }\n        });\n        setTimer(\"\");\n        setLoad(false);\n      }, 1000);\n      setTimer(toTimer);\n    }\n\n    if (!search.length && items.length) {\n      if (timer) clearTimeout(timer);\n      setLoad(false);\n    }\n\n    if(!search){\n      setItems([]);\n    }\n  }, [search]);\n\n  return (\n    <>\n      <label>\n        Producto\n        {load ? (\n          <span\n            className=\"position-absolute text-primary ml-2\"\n            style={{ zIndex: \"101\", top: \"0\" }}\n          >\n            Buscando...\n          </span>\n        ) : null}\n      </label>\n      <input\n        className=\"form-control text-uppercase text-truncate\"\n        type=\"text\"\n        placeholder=\"Buscar producto\"\n        autoComplete=\"off\"\n        value={search}\n        onChange={handleChangeSearch}\n      />\n      {items.length && search.length > 2 ? (\n        <div\n          className=\"position-absolute shadow p-0 pt-2 pl-1 bg-white rounded w-100 mh-50 overflow-auto\"\n          style={{ maxHeight: \"18rem\", zIndex: \"100\" }}\n        >\n          <div className=\"list-group m-0 list-group-flush\">\n            {items\n              .sort((a, b) => {\n                if (a.cant > b.cant) {\n                  return -1;\n                }\n                if (a.cant < b.cant) {\n                  return 1;\n                }\n                return 0;\n              })\n              .map((product) => {\n                return getItemToShow(product, handleSelect);\n              })}\n            {/* {meta.total > perPage && (\n              <a\n                href=\"#more\"\n                className=\"list-group-item text-center text-dark text-bold\"\n                onClick={(e) => e.preventDefault()}\n              >\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Existen mas registros, sea ms espesifico\n              </a>\n            )} */}\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n}\n\n/* const mapStateToProps = ({ storeItem }) => {\n    return {\n      items: storeItem.list,\n      meta: storeItem.metaList,\n      loading: storeItem.loading,\n    };\n  },\n  mapActionsToProps = {\n    _getList: storeActions.getListStore,\n    _setList: storeActions.setListStore,\n  }; */\n\n/* export default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(SearchItemsComponent); */\n\nexport default SearchItemsComponent;\n\nfunction getItemToShow(i, handleSelect) {\n  if (i.cant !== i.cant_total) {\n    if (!i.cant && i.cant_total) {\n      return (\n        <a\n          key={i.id}\n          className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n          href=\"#l\"\n          onClick={(e) => {\n            e.preventDefault();\n            handleSelect(i);\n          }}\n        >\n          <span className=\"text-truncate text-uppercase text-muted\">\n            [S]-{i.name}\n          </span>\n          <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n        </a>\n      );\n    }\n    return (\n      <a\n        key={i.id}\n        className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n        href=\"#l\"\n        onClick={(e) => {\n          e.preventDefault();\n          handleSelect(i);\n        }}\n      >\n        <span className=\"text-truncate text-uppercase text-primary\">\n          {i.name}\n        </span>\n        <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n      </a>\n    );\n  } else if (!i.cant_total && !i.cant) {\n    return (\n      <a\n        key={i.id}\n        className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n        href=\"#l\"\n        onClick={(e) => {\n          e.preventDefault();\n          handleSelect(i);\n        }}\n      >\n        <span className=\"text-truncate text-uppercase text-danger\">\n          [X]-{i.name}\n        </span>\n        <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n      </a>\n    );\n  }\n\n  return (\n    <a\n      key={i.id}\n      className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n      href=\"#l\"\n      onClick={(e) => {\n        e.preventDefault();\n        handleSelect(i);\n      }}\n    >\n      <span className=\"text-truncate text-uppercase text-primary\">\n        {i.name}\n      </span>\n      <span className=\"badge badge-dark badge-pill\">{i.cant}</span>\n    </a>\n  );\n}\n","import React, { useState, useContext } from \"react\";\n//Components\nimport Search from \"../data/searchStore\";\n//Actions\nimport helper from \"../helpers\";\n\n//Context\nimport { AuthContext } from \"../../../context/AuthContext\";\n\nfunction AddItemModalComponent(props) {\n  const authContex = useContext(AuthContext);\n  const currentUser = authContex.auth;\n\n  //Props and vars\n  const {\n    codeDefault = \"\",\n    cantDefault = 1,\n    handleAddItem: _handleAddItem,\n    handleCloseModal: _handleCloseModal,\n  } = props;\n\n  //States\n  const [item, setItem] = useState({\n      id: 0,\n      name: codeDefault,\n      cant: cantDefault,\n      price: 0,\n      out: 0,\n      inStorage: 0,\n      subtotal: 0,\n      store_items_id: 0,\n      descripcion: \"\",\n      category: 0,\n    }),\n    [showDesc, setShowDesc] = useState(false);\n\n  //Functions\n  const _reset = () => {\n      setItem({\n        id: 0,\n        name: \"\",\n        price: 0,\n        out: 0,\n        cant: 1,\n        inStorage: 0,\n        subtotal: 0,\n        store_items_id: 0,\n        descripcion: \"\",\n        category: {},\n      });\n    },\n    close = () => {\n      _reset();\n      _handleCloseModal();\n    },\n    hanleChangeDataItem = (data) => {\n      setItem({\n        ...item,\n        store_items_id: data.id,\n        id: 0,\n        name: data.name.toLowerCase(),\n        price: parseFloat(data.price),\n        out: data.cant_total,\n        cant: 1,\n        inStorage: 0,\n        subtotal: data.price,\n        descripcion: \"\",\n        category: data.category,\n      });\n    },\n    handleChangeItem = (key, value) => {\n      setItem({\n        ...item,\n        [key]: key === \"descripcion\" ? value : parseInt(value),\n      });\n    },\n    hanldeSendBack = () => {\n      const verify = helper.verifyItem(item);\n\n      if (!verify) return false;\n\n      item.inStorage = item.out >= item.cant ? true : false;\n      item.out = item.out >= item.cant ? 0 : item.cant - item.out;\n      item.subtotal = parseFloat(item.cant * item.price);\n      item.branch_id = currentUser.branch.id;\n      _handleAddItem(item);\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-primary text-bold\">\n              <i className=\"fas fa-plus mr-1\"></i>\n              Agregar producto\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={() => close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            <div className=\"row\">\n              <div className=\"col position-relative\">\n                <Search item={item} handleItemSelect={hanleChangeDataItem} />\n              </div>\n              {item.store_items_id ? (\n                <>\n                  <div className=\"col-2\">\n                    <label>Cantidad</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control\"\n                      placeholder=\"Cantidad\"\n                      defaultValue={item.cant}\n                      min=\"0\"\n                      max=\"100\"\n                      onChange={({ target }) =>\n                        handleChangeItem(\"cant\", target.value)\n                      }\n                    />\n                  </div>\n                  <div className=\"col-3\">\n                    <label>Precio</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control text-right\"\n                      placeholder=\"Precio\"\n                      min=\"0\"\n                      value={item.price ?? \"\"}\n                      onChange={({ target }) =>\n                        handleChangeItem(\"price\", target.value)\n                      }\n                    />\n                  </div>\n                  {showDesc ? (\n                    <div className=\"col-12 mt-2\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Agregue una descripcion\"\n                        value={item.descripcion}\n                        onChange={({ target }) =>\n                          handleChangeItem(\"descripcion\", target.value)\n                        }\n                      />\n                    </div>\n                  ) : null}\n                </>\n              ) : null}\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <div className=\"btn-group\">\n              <button\n                type=\"button\"\n                className=\"btn btn-default btn-sm\"\n                onClick={() => close()}\n              >\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-default btn-sm\"\n                onClick={() => setShowDesc(!showDesc)}\n                disabled={!item.store_items_id}\n              >\n                <i className=\"fas fa-sticky-note mr-1\"></i>\n                {showDesc ? \"Cerrar nota\" : \"Abrir nota\"}\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary btn-sm text-bold\"\n                disabled={\n                  item.store_items_id && item.cant && item.price ? false : true\n                }\n                onClick={() => hanldeSendBack()}\n              >\n                <i className=\"fas fa-save mr-1\"></i>\n                Agregar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AddItemModalComponent;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport AddModal from \"../../Store/views/searchItemModal\";\n\nexport default function ListItemComponent(props) {\n  const [state, setState] = useState({\n    itemNew: false,\n    code: \"\",\n    cant: 1,\n    validItems: true,\n    showDetails: true,\n    disabled: false,\n    total: 0,\n  });\n\n  const handleSetCantItem = (id, cant) => {\n    const items_rest = props.items.map((item) => {\n        if (item.store_items_id === id) {\n          item.cant = item.cant + cant;\n          item.subtotal = item.cant * item.price;\n        }\n        return item;\n      }),\n      itemsToSave = items_rest.filter((item) => item.cant > 0);\n    props.changeInput(\"items\", itemsToSave);\n  };\n  const deleteItem = (id) => {\n    const itemsToSave = props.items.filter((e) => e.store_items_id !== id);\n    props.changeInput(\"items\", itemsToSave);\n  };\n  const handleAddItem = (item) => {\n    if (!item || typeof item !== \"object\") {\n      console.error(\"[Orus System] The item is corrupt:\", item);\n      return;\n    }\n    const items = [...props.items];\n    const itemFound = props.items.findIndex(\n      (e) => e.store_items_id === item.store_items_id\n    );\n\n    if (itemFound !== -1) {\n      const subtotal = items[itemFound].price * state.cant;\n\n      if (items[itemFound].price === item.price) {\n        items[itemFound].cant = state.cant;\n        items[itemFound].subtotal = subtotal;\n      } else {\n        items.push(item);\n      }\n    } else {\n      items.push(item);\n    }\n\n    props.changeInput(\"items\", items);\n    setState({\n      ...state,\n      itemNew: false,\n    });\n  };\n\n  useEffect(() => {    \n    const items = props.items.filter((item) =>\n      [\"lentes\", \"armazones\", \"lentes de contacto\"].includes(item.category?.code?.codeNameCategory[0])\n    );\n    const total = props.items.reduce(\n      (sub, item) => item.cant * item.price + sub,\n      0\n    );\n    let validItems = Boolean(items.length);\n    let disabled = state.disabled;\n    let showDetails = state.showDetails;\n\n    if (props.hasOwnProperty(\"showDetails\")) {\n      showDetails = props.showDetails;\n    }\n    if (props.hasOwnProperty(\"disabled\")) {\n      disabled = props.disabled;\n    }\n\n    if (total && props.changeInput) {\n      props.changeInput(\"validItems\", validItems);\n    } else if (!props.changeInput) {\n      disabled = true;\n      validItems = true;\n    }\n\n    setState({\n      ...state,\n      validItems,\n      showDetails,\n      disabled,\n      total,\n    });\n  }, [props.items, props.disabled]);\n\n  return (\n    <div\n      className={\n        props.hasOwnProperty(\"className\") ? props.className : \"card m-0 p-0\"\n      }\n    >\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-shopping-cart\"></i> Lista de Productos\n        </h3>\n        <div className=\"card-tools\">\n          {Boolean(props.session) && (\n            <button\n              className=\"btn btn-too btn-primary text-bold\"\n              disabled={state.disabled}\n              onClick={(e) => {\n                setState({\n                  ...state,\n                  itemNew: !state.itemNew,\n                  code: \"\",\n                  cant: 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-plus mr-1\"></i> Agregar\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"card-body table-responsive p-0\">\n        <table className=\"table table-sm m-0\">\n          <thead>\n            <tr>\n              {state.showDetails && <th style={{ width: 80 }}>&nbsp;</th>}\n\n              <th scope=\"col\" style={{ width: 32 }}>\n                cant\n              </th>\n              <th scope=\"col\">Descripcion</th>\n\n              {state.showDetails && (\n                <>\n                  <th scope=\"col\" className=\"text-right\" style={{ width: 120 }}>\n                    Precio\n                  </th>\n                  <th scope=\"col\" className=\"text-right\" style={{ width: 120 }}>\n                    Subtotal\n                  </th>\n                  <th\n                    scope=\"col\"\n                    style={{ minWidth: \"4rem\", maxWidth: \"8rem\" }}\n                  >\n                    <span className=\"sr-only\">acciones</span>\n                  </th>\n                </>\n              )}\n            </tr>\n          </thead>\n\n          <tbody>\n            {props.items.map((item) => {\n              return (\n                <tr key={item.store_items_id}>\n                  {state.showDetails && (\n                    <td>\n                      {item.cant === 0 || state.disabled ? (\n                        <i className=\"fas fa-minus mr-2 text-muted mr-1\"></i>\n                      ) : (\n                        <i\n                          className=\"fas fa-minus mr-2 text-primary mr-1\"\n                          title=\"Quitar\"\n                          style={{ cursor: \"pointer\" }}\n                          onClick={() =>\n                            handleSetCantItem(item.store_items_id, -1)\n                          }\n                        ></i>\n                      )}\n                      {state.disabled ? (\n                        <i className=\"fas fa-plus mr-2 text-muted mr-1\"></i>\n                      ) : (\n                        <i\n                          className=\"fas fa-plus mr-2 text-primary mr-1\"\n                          title=\"Agregar\"\n                          style={{ cursor: \"pointer\" }}\n                          disabled={state.disabled}\n                          onClick={() =>\n                            handleSetCantItem(item.store_items_id, 1)\n                          }\n                        ></i>\n                      )}\n                    </td>\n                  )}\n\n                  <th scope=\"row\" className=\"text-right\">\n                    {item.cant}\n                  </th>\n                  <td>\n                    <span className=\"text-capitalize\">{item.name}</span>\n                    {item.descripcion && (\n                      <span className=\"text-muted ml-2\">\n                        ({item.descripcion})\n                      </span>\n                    )}\n                  </td>\n\n                  {state.showDetails && (\n                    <>\n                      <td className=\"text-right\">\n                        $ {parseFloat(item.price).toFixed(2)}\n                      </td>\n                      <td className=\"text-right\">\n                        $ {item.subtotal.toFixed(2)}\n                      </td>\n                      <td className=\"d-print-none text-right\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-sm btn-muted\"\n                          onClick={() => deleteItem(item.store_items_id)}\n                          disabled={state.disabled}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </td>\n                    </>\n                  )}\n                </tr>\n              );\n            })}\n\n            {!props.items.length && (\n              <tr className=\"\">\n                <td className=\"text-center py-2\" colSpan=\"6\">\n                  <h5>No hay articulos seleccionados</h5>\n                </td>\n              </tr>\n            )}\n          </tbody>\n\n          {Boolean(props.items.length && state.showDetails) && (\n            <tfoot>\n              <tr>\n                <td className=\"text-right text-lg\" colSpan=\"5\">\n                  <span className=\" mr-2\">Total:</span>\n                  <label>$ {state.total.toFixed(2)}</label>\n                </td>\n                <td>&nbsp;</td>\n              </tr>\n            </tfoot>\n          )}\n        </table>\n\n        {!state.validItems && (\n          <div className=\"d-flex justify-content-center\">\n            <p className=\"bg-warning w-75 text-center text-md p-2\">\n              <i className=\"fas fa-info mr-2\"></i>\n              Debe agregar al menos <strong>1</strong> producto a la lista con\n              categoria <strong>lentes</strong> o <strong>armazones</strong>.\n            </p>\n          </div>\n        )}\n      </div>\n      {state.itemNew ? (\n        <AddModal\n          codeDefault={state.code}\n          cantDefault={state.cant}\n          handleAddItem={handleAddItem}\n          handleCloseModal={() =>\n            setState({\n              ...state,\n              itemNew: false,\n            })\n          }\n        />\n      ) : null}\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function UserEmailInputComponent(props) {\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"No tiene el formato de un email\",\n    searchEmail: false,\n  });\n\n  const { col, email, handleValidData: _handleValidData } = props;\n  const { bgColor, validate, text, searchEmail } = state;\n\n  const contactHook = useContact();\n\n  const handleSearchUser = (email) => {\n    contactHook.getContacts({ email }).then((data) => {\n      if (data) {\n        if (data.data.length) {\n          setState({\n            ...state,\n            bgColor: \"bg-warning\",\n            validate: \"border border-warning\",\n            text: `El email ${email} ya est registrado`,\n          });\n\n          _handleValidData(\"email\", false, email);\n        } else {\n          _handleValidData(\"email\", true, email);\n        }\n      } else {\n        console.error(\"[Orus System] When get data from users:\", data);\n      }\n    });\n  };\n\n  const validEmail = (target) => {\n    const regex =\n      /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n    const emailSearch = target.value.replace(/\\s/g, \"\");\n\n    if (regex.test(emailSearch)) {\n      setState({\n        ...state,\n        bgColor: \"bg-primary\",\n        validate: \" border border-primary\",\n        text: \"\",\n      });\n\n      handleSearchUser(emailSearch);\n    } else {\n      setState({\n        ...state,\n        bgColor: \"bg-red\",\n        validate: \" border border-danger\",\n        text: \"No tiene el formato de un email valido\",\n      });\n      _handleValidData(\"email\", false);\n    }\n  };\n\n  return (\n    <div className={\"col-\" + col}>\n      {email.length ? (\n        <small>\n          <label>Email</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + bgColor}>\n            {searchEmail ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-at\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"email\"\n          className={\"form-control\" + validate}\n          placeholder=\"email\"\n          name=\"email\"\n          autoComplete=\"off\"\n          value={email}\n          onChange={({ target }) => props.onChange(target.value)}\n          onBlur={({ target }) => validEmail(target)}\n          onKeyPress={({ key, target }) => {\n            if (key === \"Enter\") {\n              validEmail(target);\n            }\n          }}\n          required=\"required\"\n        />\n      </div>\n      {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n    </div>\n  );\n}\n","import { useState } from \"react\";\n\nexport default function UserPhoneInputComponent(props) {\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"No tiene el formato de un telfono\",\n  });\n\n  const { col, phone, handleValidData: _handleValidData } = props;\n  const { bgColor, validate, text, searchEmail } = state;\n\n  const validPhone = (phone) => {\n    const regex = /^\\d{10}$/gim;\n\n    if (regex.test(phone)) {\n      setState({\n        ...state,\n        bgColor: \"bg-primary\",\n        validate: \" border border-primary\",\n        text: \"\",\n      });\n      _handleValidData(\"phone\", true, phone);\n    } else {\n      //User no valid\n      if (phone.length !== 10) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"No tiene el formato de un email valido\",\n        });\n        _handleValidData(\"phone\", false);\n      } else if (!phone.length) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"Escriba un telefono valido\",\n        });\n        _handleValidData(\"phone\", false);\n      }\n    }\n  };\n\n  return (\n    <div className={\"col-\" + col}>\n      {phone.length ? (\n        <small>\n          <label>Telefono</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + bgColor}>\n            {searchEmail ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-phone\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"text\"\n          className={\"form-control\" + validate}\n          placeholder=\"Telfono\"\n          name=\"phone\"\n          autoComplete=\"off\"\n          value={props.phone}\n          maxLength=\"10\"\n          onChange={({ target }) => {\n            const parse = parseInt(target.value);\n\n            if (!isNaN(parse)) {\n              props.onChange(parse.toString());\n            } else if (!target.value.length) {\n              props.onChange(\"\");\n            }\n          }}\n          onBlur={({ target }) => validPhone(target.value)}\n          onKeyPress={({ key, target }) => {\n            if (key === \"Enter\") {\n              validPhone(target.value);\n            }\n          }}\n        />\n      </div>\n      {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport UserEmailInputComponent from \"./userEmailInput\";\nimport UserPhoneInputComponent from \"./userPhoneInput\";\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function CardCustomer({\n  data = {},\n  disabled,\n  handleRemoveCustomer: _handleRemoveCustomer,\n  handleUpdateContact: _handleUpdateContact,\n  handleEditor: _handleEditor,\n}) {\n  const contactHook = useContact();\n  const [state, setState] = useState({\n    edit: false,\n    phone: \"\",\n    email: \"\",\n    validToSave: false,\n  });\n\n  const save = () => {\n    if (!state.phone) {\n      console.error(\"[Orus System] Fatal error - phone not stablish\");\n      return;\n    }\n\n    if (!state.email) {\n      console.error(\"[Orus System] Fatal error - email not stablish\");\n      return;\n    }\n\n    const contactData = {\n      id: data.id,\n      phones: {\n        ...data.phones,\n        cell: state.phone,\n      },\n      email: state.email,\n    };\n\n    contactHook.saveContact(contactData).then((contact) => {\n      if (contact) {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Paciente actualizado\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n        _handleUpdateContact(contact);\n        setState({\n          ...state,\n          edit: false,\n          validToSave: true,\n        });\n      } else {\n        console.error(\n          \"[Orus System] Server error - when save contact data:\",\n          data.id,\n          contactData\n        );\n        window.Swal.fire({\n          icon: \"error\",\n          title: \"Error al almacenar cambios del paciente\",\n          showConfirmButton: true,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    const phonesArray = Object.values(data.phones ?? {});\n    const phones = phonesArray.filter((ph) => ph);\n\n    if (!phones || !phones.length || !data.email) {\n      setState({\n        ...state,\n        edit: true,\n        phone: phones[0],\n        email: data.email,\n        validToSave: false,\n      });\n    } else {\n      setState({\n        ...state,\n        edit: false,\n        phone: phones[0],\n        email: data.email,\n        validToSave: true,\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    _handleEditor(state.edit);\n  }, [state.edit]);\n\n  return (\n    <div className=\"card col-lg-5 mr-5 border border-success\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-user-alt mr-1\"></i>\n          Cliente seleccionado\n          <i className=\"ml-5 fas fa-check mr-1\"></i>\n        </h3>\n      </div>\n      <div className=\"card-body text-lg\">\n        <p className=\"badge badge-success\">{`# ID ${data.id}`}</p>\n        <p className=\"card-text\">\n          <i className=\"fas fa-user-circle mr-1\"></i>\n          {data.name.toUpperCase()}\n        </p>\n\n        {state.edit ? (\n          <div>\n            <div>\n              <UserPhoneInputComponent\n                phone={state.phone ?? \"\"}\n                col={12}\n                onChange={(value) => {\n                  setState({\n                    ...state,\n                    phone: value,\n                  });\n                }}\n                handleValidData={(...dto) => {\n                  let valid = dto[1];\n                  if (!state.email) valid = false;\n\n                  setState({\n                    ...state,\n                    validToSave: valid,\n                  });\n                }}\n              />\n              <UserEmailInputComponent\n                email={state.email ?? \"\"}\n                userId={data.id}\n                col={12}\n                onChange={(value) => {\n                  setState({\n                    ...state,\n                    email: value,\n                  });\n                }}\n                handleValidData={(...dto) => {                  \n                  let valid = dto[1];\n                  if (!state.phone) valid = false;\n\n                  setState({\n                    ...state,\n                    validToSave: valid,\n                  });\n                }}\n              />\n            </div>\n            <div className=\"d-flex justify-content-end mt-3\">\n              {!state.validToSave && (\n                <button\n                  className=\"btn btn-dark mr-1\"\n                  disabled={state.exam_id ? true : false}\n                  onClick={_handleRemoveCustomer}\n                >\n                  <i className=\"fas fa-arrow-left mr-2\"></i>\n                  Cambiar\n                </button>\n              )}\n\n              <button\n                className=\"btn btn-secondary mr-1\"\n                onClick={() => {\n                  const phonesArray = Object.values(data.phones ?? {});\n                  const phones = phonesArray.filter((ph) => ph);\n\n                  setState({\n                    ...state,\n                    edit: false,\n                    phone: phones[0],\n                    email: data.email,\n                  });\n                }}\n                disabled={(() => {\n                  const phonesArray = Object.values(data.phones ?? {});\n                  const phones = phonesArray.filter((ph) => ph);\n\n                  if (!phones.length) return true;\n                  if (!data.email) return true;\n                  if (!state.validToSave) return true;\n\n                  return false;\n                })()}\n              >\n                <i className=\"fas fa-ban mr-2\"></i>\n                Cancelar\n              </button>\n              <button\n                className=\"btn btn-warning\"\n                onClick={save}\n                disabled={!state.validToSave}\n              >\n                <i className=\"fas fa-save mr-2\"></i>\n                Guardar\n              </button>\n            </div>\n          </div>\n        ) : (\n          <div className=\"mb-3\">\n            <p className=\"card-text text-truncate\">\n              <i className=\"fas fa-at mr-1\"></i>\n              {state.email ?? \"Email no registrado\"}\n            </p>\n\n            <p className=\"card-text\">\n              <i className=\"fas fa-phone-alt mr-1\"></i>\n              {state.phone ? state.phone : `Telefono no registrado`}\n              {/* {Object.values(data.phones ?? {}).filter((ph) => ph)[0] ?? \"--\"} */}\n            </p>\n          </div>\n        )}\n\n        <div>\n          {!state.edit && (\n            <>\n              <button\n                className=\"btn btn-secondary\"\n                disabled={disabled}\n                onClick={_handleRemoveCustomer}\n              >\n                <i className=\"fas fa-arrow-left mr-2\"></i>\n                Cambiar\n              </button>\n              <button\n                className=\"btn btn-info ml-1\"\n                disabled={disabled}\n                onClick={() =>\n                  setState({\n                    ...state,\n                    edit: true,\n                  })\n                }\n              >\n                <i className=\"fas fa-edit mr-1\"></i>\n                Editar\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\n\nexport default function CardShowExam({\n  data,\n  disabled,\n  handleRemove: _handleRemove,\n  handleEdit: _handleEdit,\n}) {\n\n \n  return (\n    <>\n      <p className=\"card-text\">\n        <span className=\"badge badge-success mr-3 mb-2\">{`# ${data.id}`}</span>\n      </p>\n      <p className=\"font-weight-bold\">\n        Creado:{\" \"}\n        <span className=\"font-weight-normal\">\n          {moment(data.created_at).fromNow()}\n        </span>\n      </p>\n      <p className=\"font-weight-bold\">\n        Fecha:{\" \"}\n        <span className=\"font-weight-normal\">\n          {moment(data.created_at).format(\"LL\")}\n        </span>\n      </p>\n      <p className=\"font-weight-bold\">\n        Estatus:{\" \"}\n        <span className=\"font-weight-normal\">\n          {data.status ? \"Completo\" : \"En proceso\"}\n        </span>\n      </p>\n\n      <div>\n        <button\n          className=\"btn btn-secondary mr-1\"\n          disabled={disabled}\n          onClick={() => {\n            window.Swal.fire({\n              icon: \"question\",\n              title: \"Realmente desea cambiar el examen?\",\n              showConfirmButton: true,\n              confirmButtonText: \"S\",\n              showCancelButton: true,\n              cancelButttonText: \"Cancelar\",\n            }).then(({ dismiss }) => {\n              if (!dismiss) {\n                _handleRemove();\n              }\n            });\n          }}\n        >\n          <i className=\"fas fa-arrow-left mr-2\"></i>\n          Cambiar\n        </button>\n        <button\n          className=\"btn btn-info\"\n          disabled={disabled}\n          onClick={_handleEdit}\n        >\n          <i className=\"fas fa-edit mr-2\"></i>\n          Editar\n        </button>\n      </div>\n    </>\n  );\n}\n","import moment from \"moment\";\n\nimport useExam from \"../../../hooks/useExam\";\n\nexport default function CardExamByUser({\n  exams,\n  customer_id,\n  handleClick: _handleClick,\n}) {\n  const examHook = useExam();\n  const handleCreateNewExam = () => {\n    let dataNewExam = {\n      contact_id: customer_id,\n    };\n\n    examHook.saveExam(dataNewExam).then((exam) => {\n      if (exam) {\n        _handleClick(exam);\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Examen Creado correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n      } else {\n        window.Swal.fire({\n          icon: \"error\",\n          title: \"Error al crear el examen\",\n          showConfirmButton: true,\n        });\n      }\n    });\n  };\n\n  return (\n    <>\n      <p className=\"text-secondary text-md\">\n        *Seleciona un examen o crea uno nuevo para continuar\n      </p>\n      {exams.map((exam) => (\n        <div\n          className=\"border-bottom mb-1 cursor-pointer text-lg\"\n          key={exam.id}\n          onClick={() => _handleClick(exam)}\n        >\n          <p className=\"card-text\">\n            <span className=\"badge badge-warning mr-3 mb-2\">{`# ${exam.id}`}</span>\n            {moment(exam.created_at).fromNow()}\n            <span className=\"badge badge-dark ml-3\">\n              {exam.status ? \"Completo\" : \"En proceso\"}\n            </span>\n          </p>\n        </div>\n      ))}\n      <button\n        className=\"btn btn-primary mt-2 float-right\"\n        onClick={handleCreateNewExam}\n      >\n        <i className=\"fas fa-plus mr-2\"></i>\n        Nuevo\n      </button>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nexport default function FormExamSmall({ data, handleEdit: _handleEdit }) {\n  const [state, setState] = useState({\n    adicion_media_od: 0,\n    adicion_media_oi: 0,\n    dpod: 0,\n    dpoi: 0,\n  });\n  const handleOnChange = ({ value, name }) => {\n    setState({\n      ...state,\n      [name]: parseInt(value),\n    });\n  };\n\n  useEffect(() => {\n    setState({\n      ...state,\n      adicion_media_od: data.adicion_media_od,\n      adicion_media_oi: data.adicion_media_od,\n      dpod: data.adicion_media_od,\n      dpoi: data.adicion_media_od,\n    });\n  }, []);\n  return (\n    <>\n      <div className=\"row text-sm\">\n        <div className=\"col-md-6 col-sm-12\">\n          <i className=\"fas fa-eye mr-1\" /> Derecho\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          <i className=\"fas fa-eye mr-1\" /> Izquierdo\n        </div>\n      </div>\n\n      <div className=\"row mt-2 text-sm\">\n        <div className=\"col-12 text-center\">\n          <label>Adicion media</label>\n        </div>\n      </div>\n      <div className=\"row mt-2 text-sm\">\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.adicion_media_od}\n            name=\"adicion_media_od\"\n            onChange={handleOnChange}\n          />\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.adicion_media_oi}\n            name=\"adicion_media_oi\"\n            onChange={handleOnChange}\n          />\n        </div>\n      </div>\n\n      <div className=\"row mt-2 text-sm\">\n        <div className=\"col-12 text-center\">\n          <label>Distancia pupilar</label>\n        </div>\n      </div>\n      <div className=\"row mt-2\">\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.dpod}\n            name=\"dpod\"\n            onChange={handleOnChange}\n          />\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.dpoi}\n            name=\"dpoi\"\n            onChange={handleOnChange}\n          />\n        </div>\n      </div>\n\n      <div className=\"row mt-2\">\n        <div className=\"col-12 text-right\">\n          <button className=\"btn btn-secondary mr-1\" onClick={_handleEdit}>\n            <i className=\"fas fa-ban mr-2\"></i>\n            Cancelar\n          </button>\n          <button\n            className=\"btn btn-warning\"\n            disabled={true}\n          >\n            <i className=\"fas fa-save mr-2\"></i>\n            Guardar\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport CardShowExam from \"../../Exam/views/CardExam\";\nimport CardExamByUser from \"../../Exam/views/CardExamsByUser\";\nimport FormExamSmall from \"../../Exam/views/FormExamSmall\";\n\nexport default function CardExam({\n  data,\n  customer,\n  editCustomer,\n  disabled,\n  handleSelect: _handleSelect,\n  hanldeRemove: _hanldeRemove,\n}) {\n  const [state, setState] = useState({\n    exams: [],\n    edit: false,\n  });\n\n  useEffect(() => {\n    setState({\n      ...state,\n      exams: customer.exams,\n    });\n  }, []);\n\n  return (\n    <div className=\"card col-lg-5 border border-success\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-notes-medical mr-1\"></i>\n          Examen\n          {Boolean(Object.keys(data).length) && (\n            <>\n              Seleccionado <i className=\"ml-5 fas fa-check mr-1\"></i>\n            </>\n          )}\n        </h3>\n      </div>\n      <div className=\"card-body text-lg\">\n        {editCustomer ? (\n          <p className=\"alert alert-warning\">\n            <i className=\"fas fa-info mr-2\"></i>\n            Es necesario completar los datos del paciente para continuar.\n          </p>\n        ) : state.edit ? (\n          <FormExamSmall\n            data={data}\n            handleEdit={() => setState({ ...state, edit: !state.edit })}\n          />\n        ) : (\n          <>\n            {Object.keys(data).length ? (\n              <CardShowExam\n                data={data}\n                disabled={disabled}\n                handleRemove={_hanldeRemove}\n                handleEdit={() => setState({ ...state, edit: !state.edit })}\n              />\n            ) : (\n              <>\n                <CardExamByUser\n                  exams={state.exams}\n                  customer_id={customer.id}\n                  handleClick={_handleSelect}\n                />\n              </>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState } from \"react\";\n\nexport default function CardDiscount({\n  data,\n  disabled,\n  handleSetDiscount: _handleSetDiscount,\n}) {\n  const [state, setState] = useState({\n    showForm: false,\n    discount: null,\n    toPaid: 0,\n  });\n\n  const setDiscount = () => {\n    const isNumeric = /^[0-9]+$/gms;\n    const isPercen = /^[0-9]{1,3}%$/gms;\n    let value = 0;\n\n    if (!state.discount) {\n      setState({\n        ...state,\n        showForm: false,\n      });\n      return;\n    }\n\n    if (state.discount.match(isNumeric)) {\n      value = parseInt(state.discount);\n      value = value > data.total ? data.total : parseInt(state.discount);\n    } else if (state.discount.match(isPercen)) {\n      const percent = parseInt(state.discount.replace(\"%\", \"\")) / 100;\n      value = percent >= 1 ? data.total : parseInt(data.total * percent);\n    }\n\n    _handleSetDiscount(\"sale\", {\n      ...data,\n      discount: value,\n    });\n    setState({\n      ...state,\n      showForm: false,\n    });\n  };\n\n  return (\n    <>\n      <div className=\"card col-lg-4\">\n        <div className=\"card-header border-primary\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-percent mr-1\"></i>\n            Descuento\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          {state.showForm ? (\n            <>\n              <p className=\"ml-1 text-dark my-2\">\n                *Escribe la cantidad o el porcentaje con un \"%\" al final\n              </p>\n              <div className=\"form-row\">\n                <div className=\"col-8\">\n                  <input\n                    value={state.discount ?? \"\"}\n                    className=\"form-control\"\n                    type=\"text\"\n                    onChange={({ target }) =>\n                      setState({ ...state, discount: target.value })\n                    }\n                    onKeyPress={({ key }) => key === \"Enter\" && setDiscount()}\n                  />\n                </div>\n                <div className=\"col\">\n                  <button className=\"btn btn-primary\" onClick={setDiscount}>\n                    {state.discount ? (\n                      <>\n                        <i className=\"fas fa-save mr-1\"></i> Guardar\n                      </>\n                    ) : (\n                      <>\n                        <i className=\"fas fa-ban mr-1\"></i> Cancelar\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n            </>\n          ) : (\n            <>\n              <h5 className=\"font-weight-bold\">\n                {disabled && !state.discount ? (\n                  <span className=\"text-danger text-sm\">\n                    <i className=\"fas fa-info-circle mr-2\"></i>\n                    Para aplicar un <strong>descuento</strong>, elimine primero\n                    los abonos.\n                  </span>\n                ) : (\n                  <>\n                    Descuento:\n                    <span className=\"font-weight-normal ml-2\">\n                      $ {data.discount?.toFixed(2)}\n                    </span>\n                  </>\n                )}\n              </h5>\n\n              <div className=\"btn-group\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-sm btn-secondary\"\n                  disabled={!Boolean(data.discount)}\n                  onClick={() => {\n                    _handleSetDiscount(\"sale\", {\n                      ...data,\n                      discount: 0,\n                    });\n                    setState({\n                      ...state,\n                      discount: 0,\n                    });\n                  }}\n                >\n                  <i className=\"fas fa-window-close mr-1\"></i>\n                  Eliminar\n                </button>\n                <button\n                  className=\"btn btn-warning mr-4\"\n                  disabled={disabled}\n                  onClick={() => {\n                    setState({\n                      ...state,\n                      showForm: true,\n                    });\n                  }}\n                >\n                  <i className=\"fas fa-edit mr-1\"></i>\n                  Editar\n                </button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useState, useContext } from \"react\";\n\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\n//Helpers\nimport helpers from \"../../Sales/helpers\";\n\nfunction PaymentModal({\n  forPaid,\n  handleClose: _close,\n  sale,\n  handleSetPayments: _handleSetPayments,\n}) {\n  const config = useContext(ConfigContext);\n  const listBanks = config.data;\n\n  //States\n  const [data, setData] = useState({\n    id: 0,\n    metodopago: 1,\n    metodoname: \"efectivo\",\n    total: 0,\n    bank_id: null,\n    details: null,\n    auth: \"\",\n  });\n\n  //Functions\n  const handleChangeInput = ({ name, value, type }) => {\n      let val = value;\n\n      if (type === \"number\" || type === \"select-one\") val = parseFloat(value);\n\n      setData({\n        ...data,\n        [name]: val,\n      });\n    },\n    handleSetPayment = () => {\n      if (!data.total) {\n        window.Swal.fire({\n          icon: \"warning\",\n          title: \"El total del abono debe ser mayor a 0\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return false;\n      }\n\n      if (\n        data.metodopago !== 1 &&\n        data.metodopago !== 4 &&\n        data.metodopago !== 0\n      ) {\n        if (!data.bank_id) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Seleccione un banco\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n          return false;\n        }\n\n        if (data.auth?.length < 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique los ultimos 4 numeros de la tarjeta\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n          return false;\n        } else if (data.auth?.length > 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique solamente 4 numeros\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n          return false;\n        }\n      }\n\n      if (data.metodopago === 4) {\n        if (!data.auth) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique el numero de autorizacin\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      _handleSetPayments({\n        ...data,\n        id: `new${Date.now().toString()}`,\n        metodoname: helpers.getMethodName(data.metodopago),\n        total: forPaid < data.total ? forPaid : data.total,\n      });\n    },\n    handleSubmitForm = (e) => {\n      e.preventDefault();\n      handleSetPayment();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Capture el pago</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <form autoComplete=\"off\" onSubmit={handleSubmitForm}>\n              <div className=\"row mb-2 bg-gray-light\">\n                <div className=\"col\">\n                  <h4 className=\"text-center\">\n                    Por pagar: <span className=\"text-success\">$ {forPaid}</span>\n                  </h4>\n                </div>\n              </div>\n              <div className=\"row my-2\">\n                <div className=\"col\">\n                  <label>Metodo de pago</label>\n                  <select\n                    name=\"metodopago\"\n                    className=\"custom-select text-uppercase\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    defaultValue={data.metodopago}\n                  >\n                    <option value=\"1\">Efectivo</option>\n                    <option value=\"2\">Tarjeta de debito</option>\n                    <option value=\"3\">Tarjeta de credito</option>\n                    <option value=\"4\">La marina</option>\n                    <option value=\"5\">Cheque</option>\n                    <option value=\"6\">Transferencia</option>\n                    <option value=\"0\">Otro</option>\n                  </select>\n                </div>\n                <div className=\"col\">\n                  <label>Cantidad</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    className=\"form-control text-right\"\n                    name=\"total\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    autoFocus={true}\n                  />\n                </div>\n              </div>\n\n              {data.metodopago !== 1 ? (\n                <div className=\"row mb-2\">\n                  <div className=\"col\">\n                    {data.metodopago !== 4 && data.metodopago !== 0 ? (\n                      <>\n                        <label>Banco</label>\n                        <select\n                          name=\"bank_id\"\n                          className=\"custom-select text-uppercase\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        >\n                          <option value=\"\">--Seleccione un banco--</option>\n                          {listBanks.map((bank) => {\n                            return bank.name === \"bank\" ? (\n                              <option key={bank.id} value={bank.id}>\n                                {bank.data}\n                              </option>\n                            ) : null;\n                          })}\n                        </select>\n                      </>\n                    ) : !data.metodopago ? (\n                      <>\n                        <label>Espesifique</label>\n                        <input\n                          type=\"text\"\n                          name=\"details\"\n                          className=\"form-control\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        />\n                      </>\n                    ) : (\n                      <h4 className=\"d-bloc text-center mt-4 text-success\">\n                        LA MARINA\n                      </h4>\n                    )}\n                  </div>\n                  <div className=\"col\">\n                    <label>\n                      {data.metodopago !== 4\n                        ? \"Ultimos 4 digitos\"\n                        : \"N. Autorizacin\"}\n                    </label>\n                    <input\n                      name=\"auth\"\n                      className=\"form-control\"\n                      onChange={({ target }) => handleChangeInput(target)}\n                    />\n                  </div>\n                </div>\n              ) : null}\n\n              {forPaid < data.total ? (\n                <div className=\"row\">\n                  <div className=\"col\">\n                    <h4 className=\"text-center mt-4\">\n                      {data.metodopago === 1 ? (\n                        <>\n                          Cambio:\n                          <span className=\"ml-2\">$ {data.total - forPaid}</span>\n                        </>\n                      ) : (\n                        <span className=\"text-danger\">\n                          <i className=\"fas fa-info-circle mr-2\"></i>\n                          La cantidad cobrada es mayor al total\n                        </span>\n                      )}\n                    </h4>\n                  </div>\n                </div>\n              ) : null}\n            </form>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => handleSetPayment()}\n              disabled={!data.total}\n            >\n              <i className=\"fas fa-money-bill mr-1\"></i>\n              Abonar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport PaymentModal from \"./PaymentModal\";\n\nexport default function CardOrderPayments({\n  data = {},\n  disabled,\n  handleSetPayments: _handleSetPayments,\n}) {\n  const [state, setState] = useState({\n    showModal: false,\n    amount: 0,\n    toPaid: 0,\n  });\n\n  const handleToPaid = () => {\n    const amount = data.payments?.reduce((back, pay) => pay.total + back, 0);\n    const toPaid = (data.subtotal ? data.subtotal: data.total) - (amount ?? 0) - data.discount;\n\n    setState({\n      ...state,\n      toPaid,\n      amount: amount ?? 0,\n    });\n  };\n\n  useEffect(() => {\n    handleToPaid();\n  }, [data.total, data.discount, data.payments, state.showModal]);\n\n  return (\n    <>\n      <div className=\"card col-lg-8 ml-2\">\n        <div className=\"card-header border-primary\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-money-bill-alt mr-1\"></i>\n            Lista de abonos\n          </h3>\n        </div>\n\n        <div className=\"card-body\">\n          {data.payments?.length ? (\n            <div className=\"col-lg-12\">\n              {data.payments.map((payment, index) => (\n                <div className=\"row\" id={payment.id} key={index}>\n                  <div className=\"col-1\">{index + 1}</div>\n                  <div className=\"col-6 text-uppercase font-weight-bold\">\n                    <h6\n                      className={\n                        payment.metodoname === \"efectivo\"\n                          ? \"text-success\"\n                          : \"text-dark\"\n                      }\n                    >\n                      <span className=\"text-dark mr-2\">\n                        {payment.metodoname}\n                      </span>\n                      {payment.auth && (\n                        <span className=\"text-muted\">- {payment.auth}</span>\n                      )}\n                    </h6>\n                  </div>\n                  <div className=\"col-3 text-right\">\n                    <h6>${payment.total}</h6>\n                  </div>\n                  <div className=\"col-2 text-right\">\n                    <button\n                      className=\"btn btn-sm btn-muted\"\n                      id={payment.id}\n                      onClick={() => {\n                        const payments = data.payments.filter(\n                          (pay) => pay.id !== payment.id\n                        );\n\n                        _handleSetPayments(\"sale\", {\n                          ...data,\n                          payments,\n                        });\n                      }}\n                      disabled={!Boolean(state.toPaid) || disabled}\n                    >\n                      <i className=\"fas fa-trash\"></i>\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <h5 className=\"text-center bg-warning\">\n              <i className=\"fas fa-info-circle p-2\"></i>\n              No tiene abonos en este pedido\n            </h5>\n          )}\n\n          <div className=\"card-footer text-right d-flex justify-content-end\">\n            <div className=\"mr-4\">\n              <button\n                className=\"btn btn-success ml-3\"\n                onClick={() => {\n                  setState({\n                    ...state,\n                    showModal: true,\n                  });\n                }}\n                disabled={!Boolean(state.toPaid) || disabled}\n              >\n                <i className=\"fas fa-money-bill-alt mr-2\"></i>\n                Abonar\n              </button>\n            </div>\n            <h4 className=\"mr-4 text-success\">\n              <span className=\"font-weight-bold text-dark mr-2\">\n                Abono total:\n              </span>{\" \"}\n              $ {state.amount}\n            </h4>\n            <h4 className=\"text-danger\">\n              <span className=\"font-weight-bold text-dark mr-2\">\n                Por pagar:\n              </span>\n              $ {state.toPaid}\n            </h4>\n          </div>\n        </div>\n      </div>\n\n      {state.showModal ? (\n        <PaymentModal\n          handleClose={() => {\n            setState({\n              ...state,\n              showModal: false,\n            });\n          }}\n          sale={data}\n          forPaid={state.toPaid}\n          handleSetPayments={(pay) => {\n            const payments = data.payments;\n            const index = payments.findIndex(\n              (p) => p.metodopago === pay.metodopago\n            );\n\n            if (index < 0) {\n              payments.push(pay);\n            } else {\n              payments[index].total += pay.total;\n            }\n\n            _handleSetPayments(\"sale\", {\n              ...data,\n              payments,\n            });\n            setState({\n              ...state,\n              showModal: false,\n            });\n          }}\n        />\n      ) : null}\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-lone-blocks */\nimport React, { useState, useContext } from \"react\";\n//Context\nimport { OrderContext } from \"../../context/OderContext\";\n//Hooks\nimport useOrder from \"../../hooks/useOrder\";\n//Helpers\nimport generalHelper from \"../../utils/helpers\";\n\n//Components\nimport SearchContact from \"../Contacts/views/ShowCard\";\nimport Items from \"./views/ItemsOrder\";\nimport PrintSaleComponent from \"../print/PrintSale\";\nimport CardCustomer from \"./views/Asistent_card_customer\";\nimport CardExam from \"./views/Asistent_card_exam\";\nimport CardDiscount from \"./views/Asistent_card_discount\";\nimport CardOrderPayments from \"./views/Asistent_card_payments\";\n\nexport default function AsistentComponent(props) {\n  const [state, setState] = useState({\n    id: 0,\n    contact_id: 0,\n    contact: {},\n    exam_id: 0,\n    exam: {},\n    examsList: [],\n    items: [],\n    session: generalHelper.getSession(),\n    sale: {\n      total: 0,\n      discount: 0,\n      payments: [],\n    },\n    print: false,\n    editCustomer: false,\n    validItems: false,\n  });\n  const orderContext = useContext(OrderContext);\n  const orderHook = useOrder();\n\n  const handleSave = (e) => {\n    let categories_wrong = 0;\n\n    const { items: items_state, exam_id, session, contact_id, sale } = state;\n\n    const items = items_state.map((item) => {\n      if (item.category === 4) categories_wrong++;\n\n      return {\n        cant: item.cant,\n        price: item.price,\n        subtotal: item.subtotal,\n        inStorage: item.inStorage,\n        session: session,\n        out: item.out,\n        descripcion: item.descripcion,\n        store_items_id: item.store_items_id,\n      };\n    });\n\n    if (items.length === categories_wrong) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"No hay productos para procesar en un pedido\",\n        icon: \"warning\",\n        timer: 3000,\n      });\n      return false;\n    }\n\n    let data = {\n      session: session,\n      contact_id: contact_id,\n      items: items,\n      sale: {\n        discount: sale.discount,\n      },\n    };\n\n    if (sale.payments.length) {\n      let finalPayments = sale.payments;\n      finalPayments.forEach((payment) => {\n        delete payment.id;\n        delete payment.metodoname;\n      });\n      data.sale.payments = finalPayments;\n    }\n\n    if (exam_id) data.exam_id = parseInt(exam_id);\n\n    if (!data.sale.payments?.length) {\n      window.Swal.fire({\n        icon: \"question\",\n        title: \"Desea GUARDAR el pedido sin ningun abono?\",\n        showConfirmButton: true,\n        confirmButtonText: \"Si\",\n        showCancelButton: true,\n        denyButtonText: \"No\",\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          executeHook(data);\n        }\n      });\n    } else {\n      window.Swal.fire({\n        icon: \"question\",\n        title: \"Esta seguro que desea GUARDAR el pedido?\",\n        showConfirmButton: true,\n        confirmButtonText: \"Si\",\n        showCancelButton: true,\n        denyButtonText: \"No\",\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          executeHook(data);\n        }\n      });\n    }\n  };\n  const handleChangeInput = (key, value) => {\n    if (key === \"exam\") {\n      if (value.category_id) {\n        handleGetCategories(value.category_id);\n      }\n\n      if (!value.id) {\n        setState({\n          ...state,\n          exam_id: 0,\n          exam: {},\n        });\n      } else {\n        setState({\n          ...state,\n          exam_id: value.id,\n          exam: value,\n        });\n      }\n\n      return;\n    }\n\n    if (key === \"items\") {\n      const total = value.reduce(\n        (sub, item) => item.cant * item.price + sub,\n        0\n      );\n\n      setState({\n        ...state,\n        items: value,\n        sale: {\n          ...state.sale,\n          total: total,\n        },\n      });\n      return;\n    }\n\n    setState({\n      ...state,\n      [key]: value,\n    });\n  };\n  const handleGetCategories = (cat_id) => {\n    const { _getCategory } = this.props;\n    _getCategory({ id: cat_id });\n  };\n\n  const executeHook = (data) => {\n    orderHook.saveOrder(data).then(({ data }) => {\n      if (data) {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Pedido guardado correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        }).then(({ dismiss }) => {\n          if (dismiss) {\n            setState({\n              ...state,\n              id: data.id,\n              sale: {           \n                id: data.sale.id,                \n                total: data.sale.total,\n                subtotal: data.sale.subtotal,\n                discount: data.sale.descuento,\n                payments: data.sale.payments,\n                paid: data.sale.paid,\n                customer: data.paciente,\n              },\n              print: true,\n            });\n          }\n        });\n      } else {\n        window.Swal.fire({\n          icon: \"danger\",\n          title: \"Error al guardar el pedido\",\n          showConfirmButton: true,\n        });\n      }\n    });\n  };\n  const handleCloseAssitent = () => {\n    orderContext.set({\n      ...orderContext,\n      panel: \"inbox\",\n    });\n  };\n  \n  return (\n    <div className=\"mainAssitentComponent \">\n      <div className=\"card card-warning card-outline col-lg-12\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-clipboard-list mr-1\"></i>\n            Nuevo Pedido\n          </h3>\n        </div>\n\n        <div className=\"card-body d-flex justify-content-center col-lg-12\">\n          {/* Validacion 1 --- Seleccion de cliente */}\n          {!state.contact_id ? (\n            <div className=\"form-group col-lg-6\">\n              <SearchContact\n                title=\"Paciente\"\n                legend={\n                  !state.contact_id\n                    ? \"Busque el paciente por nombre para crearun nuevo pedido\"\n                    : null\n                }\n                handleContactSelect={(contact) => {\n                  if (contact.id) {\n                    setState({\n                      ...state,\n                      contact_id: contact.id ?? 0,\n                      examsList: contact.exams.length ? contact.exams : [],\n                      contact,\n                    });\n                  }\n                }}\n                data={state.contact}\n              />\n            </div>\n          ) : (\n            <CardCustomer\n              data={state.contact}\n              handleRemoveCustomer={() => {\n                setState({\n                  session: generalHelper.getSession(),\n                  contact_id: 0,\n                  contact: {},\n                  items: [],\n                  exam_id: 0,\n                  exam: {},\n                });\n              }}\n              handleUpdateContact={(contact) =>\n                setState({ ...state, contact, editCustomer: false })\n              }\n              handleEditor={(status) =>\n                setState({ ...state, editCustomer: status })\n              }\n              disabled={Boolean(state.exam_id)}\n            />\n          )}\n\n          {/* Validacion 2 --- Seleccion de examen o creacion de uno nuevo */}\n          {Boolean(state.contact_id) && (\n            <CardExam\n              data={state.exam}\n              customer={state.contact}\n              editCustomer={state.editCustomer}\n              disabled={Boolean(state.items.length)}\n              handleSelect={(exam) =>\n                setState({ ...state, exam_id: exam.id, exam })\n              }\n              hanldeRemove={() => setState({ ...state, exam_id: 0, exam: {} })}\n            />\n          )}\n        </div>\n\n        {/* Validacion 3 --- Seleccion de productos una vez seleccionado el examen */}\n        {Boolean(state.exam_id) && (\n          <div className=\"col-lg-10 d-flex align-self-center justify-content-center p-0\">\n            <Items\n              items={state.items ?? []}\n              session={state.session}\n              disabled={Boolean(state.sale?.payments?.length)}\n              changeInput={handleChangeInput}\n              className={\n                state.items.length\n                  ? \"card border border-success col-lg-12\"\n                  : \"card border border-warning col-lg-12\"\n              }\n            />\n          </div>\n        )}\n\n        {/* Validacin 4 --- lista de abonos al pago */}\n        {Boolean(state.items.length) && state.validItems && (\n          <div className=\"col-lg-10 d-flex align-self-center p-0 mt-2\">\n            <CardDiscount\n              data={state.sale ?? {}}\n              handleSetDiscount={handleChangeInput}\n              disabled={(() => {\n                const amount = state.sale.payments?.reduce(\n                  (back, pay) => pay.total + back,\n                  0\n                );\n\n                if (state.id) return true;\n                if (amount) return true;\n\n                return !Boolean(\n                  state.sale.total - state.sale.discount - amount\n                );\n              })()}\n            />\n\n            <CardOrderPayments\n              data={state.sale ?? {}}\n              handleSetPayments={handleChangeInput}\n              disabled={Boolean(state.id)}\n            />\n          </div>\n        )}\n\n        {state.print && (\n          <PrintSaleComponent\n            data={{\n              ...state.sale,\n              items: state.items,\n              order_id: state.id,\n            }}\n            setPrint={() => setState({ ...state, print: false })}\n          />\n        )}\n\n        <div className=\"card col-lg-10 d-flex align-self-center border border-bottom-primary\">\n          <div className=\"card-body text-right\">\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => {\n                if (state.contact_id && !state.id) {\n                  window.Swal.fire({\n                    icon: \"question\",\n                    title: \"Realmente desea cerrar esta venta sin GUARDAR?\",\n                    showConfirmButton: true,\n                    confirmButtonText: \"S\",\n                    showCancelButton: true,\n                    cancelButttonText: \"Cancelar\",\n                  }).then(({ dismiss }) => {\n                    if (!dismiss) {\n                      handleCloseAssitent();\n                    }\n                  });\n                } else {\n                  handleCloseAssitent();\n                }\n              }}\n            >\n              <i\n                className={\n                  state.id ? \"fas fa-door-open mr-2\" : \"fas fa-ban mr-2\"\n                }\n              ></i>\n              {state.id ? \"Cerrar\" : \"Cancelar\"}\n            </button>\n\n            {state.id ? (\n              <button\n                className=\"btn btn-primary ml-3\"\n                onClick={() => setState({ ...state, print: !state.print })}\n              >\n                <i className=\"fas fa-print mr-2\"></i>\n                Imprimir\n              </button>\n            ) : (\n              <button\n                className=\"btn btn-warning ml-3\"\n                disabled={\n                  !state.items.length || state.id || !state.validItems\n                    ? true\n                    : false\n                }\n                onClick={handleSave}\n              >\n                <i className=\"fas fa-save mr-2\"></i>\n                Guardar\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState,useEffect } from \"react\";\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function LabOrderComponent({\n  status = false,\n  lab_id = \"\",\n  lab_order = \"\",\n  handleChange: _handleChange,\n}) {\n\n  const optionsDefault = {\n    page: 1,\n    orderby: \"created_at\",\n    order: \"desc\",\n    itemsPage: 100,\n    type:1,\n    business:1\n  };\n\n  const [suppliers, setSuppliers] = useState([]);\n  const [supDefault, setSupDefault] = useState('');\n  const hookContacts =  useContact();\n\n  const getSuppliers = ()=>{\n    hookContacts.getContacts(optionsDefault).then((data)=>{\n      if(data){\n        setSuppliers(data.data);\n        const supDefault = data.data.filter((supplier)=> supplier.id === lab_id);\n        if(!supDefault.length){ \n          return null\n        }else{\n          setSupDefault(supDefault[0].name);\n        }        \n      }\n    })\n  }\n  \n  //Functions\n  const changeInput = (e) => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let val = value;\n\n    if (name === \"lab_id\") val = parseInt(value);\n\n    if (_handleChange) _handleChange(name, val);\n  };\n\n  useEffect(() => {\n    getSuppliers();\n    //dispatch(contactActions.getListSuppliers(1));\n    //eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"row m-2\">\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Laboratorio</label>\n\n          <select\n            className={status > 1 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 1 ? true : false}\n            name=\"lab_id\"\n            defaultValue={lab_id}\n            onChange={changeInput}\n          >            \n            <option value=\"0\">\n              {lab_id === 0 ? \"Seleccione un proveedor\" : supDefault}\n            </option>   \n            {suppliers.map((s) => {                                                                     \n                  return (\n                    <option key={s.id} value={s.id}>                      \n                      {s.name}\n                    </option>\n                  );\n                })}\n          </select>\n\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Folio</label>\n          <input\n            type=\"text\"\n            className={status > 1 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 1 ? true : false}\n            name=\"lab_order\"\n            maxLength=\"50\"\n            defaultValue={lab_order}\n            onChange={changeInput}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","\n\nexport default function BicelacionOrderComponent({\n  status = false,\n  bi_box = \"\",\n  bi_details = \"\",\n  handleChange: _handleChange,\n}) {\n  const changeInput = (e) => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let val = value;\n\n    if (name === \"caja\") val = parseInt(value);\n\n    if (_handleChange) _handleChange(name, val);\n  };\n\n  return (\n    <div className=\"row m-2\">\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label htmlFor=\"lab\">Caja</label>\n          <input\n            type=\"number\"\n            className={status > 2 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 2 ? true : false}\n            name=\"bi_box\"\n            min=\"1\"\n            defaultValue={bi_box}\n            onChange={changeInput}\n          />\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Observaciones</label>\n          <textarea\n            name=\"bi_details\"\n            className={status > 2 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 2 ? true : false}\n            defaultValue={bi_details}\n            onChange={changeInput}\n          ></textarea>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport moment from \"moment\";\n//Views and actions\nimport Graduacion from \"./graduacionExam\";\n\nconst ExamCustomerComponent = (props) => {\n  const {\n    exam = {},\n    examEdit = false,\n    ChangeInput: _ChangeInput,\n    _saveExam,\n  } = props;\n\n  const [newExam, setNewExam] = useState({\n    esferaod: exam.esferaod,\n    esferaoi: exam.esferaoi,\n    cilindrod: exam.cilindrod,\n    cilindroi: exam.cilindroi,\n    ejeod: exam.ejeod,\n    ejeoi: exam.ejeoi,\n    adiciond: exam.adiciond,\n    adicioni: exam.adicioni,\n    adicion_media_od: exam.adicion_media_od,\n    adicion_media_oi: exam.adicion_media_oi,\n    dpod: exam.dpod,\n    dpoi: exam.dpoi,\n    alturaod: exam.alturaod,\n    alturaoi: exam.alturaoi,\n    lcmarca: exam.lcmarca,\n    lcgod: exam.lcgod,\n    lcgoi: exam.lcgoi,\n  });\n\n  const handleDataExam = (key, val) => {\n    const data = {\n      ...newExam,\n      [key]: parseFloat(val),\n    };\n    setNewExam(data);\n    _ChangeInput(\"codes\", {});\n  };\n\n  const handelChangeExam = () => {\n    _ChangeInput(\"examEdit\", false);\n  };\n\n  const handleSaveExam = () => {\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"Esta seguro de actualizar el examen?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Actualizar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then((result) => {\n      if (!result.dismiss) {\n        _saveExam({\n          id: exam.id,\n          data: newExam,\n        });\n        handelChangeExam();\n      }\n    });\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col\">\n          <b>\n            Folio <br />#{exam.id}\n          </b>\n        </div>\n        <div className=\"col\">\n          <b>Fecha:</b>\n          <br />\n          <i className=\"fas fa-calendar mr-2\"></i>\n          {moment(exam.created_at).format(\"L\")}\n        </div>\n        <div className=\"col\">\n          <b>Estado:</b>\n          <br />\n          {exam.estado ? (\n            <span className=\"badge badge-success\">\n              <i className=\"fas fa-check\"></i> Terminado\n            </span>\n          ) : (\n            <span className=\"badge badge-secondary\">\n              <i className=\"fas fa-hourglass\"></i> Activo\n            </span>\n          )}\n        </div>\n      </div>\n\n      {exam.observaciones ? (\n        <div className=\"form-group mt-2\">\n          <div className=\"callout callout-info\">\n            <h5 className=\"text-info text-bold\">\n              <i className=\"fas fa-info\"></i> Observaciones:\n            </h5>\n            {exam.observaciones}\n          </div>\n        </div>\n      ) : null}\n\n      <div className=\"row mt-2\">\n        <div className=\"col\">\n          <Graduacion\n            esferaod={newExam.esferaod ?? 0}\n            esferaoi={newExam.esferaoi ?? 0}\n            cilindrod={newExam.cilindrod ?? 0}\n            cilindroi={newExam.cilindroi ?? 0}\n            ejeod={newExam.ejeod ?? 0}\n            ejeoi={newExam.ejeoi ?? 0}\n            adiciond={newExam.adiciond ?? 0}\n            adicioni={newExam.adicioni ?? 0}\n            adicion_media_od={newExam.adicion_media_od}\n            adicion_media_oi={newExam.adicion_media_oi}\n            dpod={newExam.dpod ?? 0}\n            dpoi={newExam.dpoi ?? 0}\n            alturaod={newExam.alturaod ?? 0}\n            alturaoi={newExam.alturaoi ?? 0}\n            lcmarca={newExam.lcmarca ?? 0}\n            lcgod={newExam.lcgod ?? 0}\n            lcgoi={newExam.lcgoi ?? 0}\n            readOnly={!examEdit}\n            onChangeInput={handleDataExam}\n          />\n        </div>\n      </div>\n      {examEdit ? (\n        <div className=\"text-right mt-2\">\n          <div className=\"btn-group\">\n            <button className=\"btn btn-default\" onClick={handelChangeExam}>\n              <i className=\"fas fa-times mr-1\"></i> Cerrar\n            </button>\n            <button className=\"btn btn-info\" onClick={handleSaveExam}>\n              <i className=\"fas fa-save mr-1\"></i> Guardar\n            </button>\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n};\n\n\nexport default ExamCustomerComponent;\n","//Components\nimport Exam from '../Exam/views/examShort';\n\nexport default function ExamModal({ handleClose: _close, exam }) {\n  return (\n      <div className=\"modal d-block\">\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Examen</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n\n          <div className=\"modal-body p-2\">\n\n            <div className=\"row mt-4 d-print-none\">\n            {exam && exam.id ? (\n              <div className=\"col pt-6\">                \n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <div className=\"p-0 mailbox-read-message\">\n                      <Exam id={exam.id} examEdit={false} exam={exam} />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {/* <div className={`col-${exam && exam.id ? 3 : 12} pt-6`}>\n              <h6 className=\"w-100 d-block\">Meta data</h6>\n              <Dashboard\n                created_at={created_at ?? \"\"}\n                created={created ? created.name : \"\"}\n                updated={updated ? updated.name : \"\"}\n                updated_at={updated_at ?? \"\"}\n              />\n            </div> */}\n\n            </div>\n          </div>\n\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n\n          </div>\n        </div>\n      </div>\n    </div> \n  );\n};\n","import { useHistory } from \"react-router-dom\";\nimport saleHelper from '../Sales/helpers';\n\n\nexport default function ModalNota({ handleClose: _close, sale}) {\n\n\n  const history =  useHistory();\n\n  const penddingToPay = () => {\n    let pendding = saleHelper.getTotal(sale.subtotal, sale.discount) - saleHelper.getPagado(sale.payments);\n    return pendding;\n  }\n\n  const getPagado = ()=>{\n    return saleHelper.getPagado(sale.payments);\n  }\n\n  \n  return (\n      <div className=\"modal d-block\">\n      <div className=\"modal-dialog\" role=\"document\">\n\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Nota</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n          <div className=\"modal-body p-2\">\n          {sale.id ? (                 \n                 <div>\n                     <div className='ml-3 font-weight-bold'>\n                         <h5 className='border-bottom pb-1 mb-2'>Resumen de la venta <span className='badge badge-success'>#{sale.id}</span></h5>\n                     </div>\n                     <div className=\"d-flex pl-2\">                     \n                        <div className='col-lg-7'>                                        \n                            <h6>Descuento:<span className='text-secondary ml-2 font-weight-normal'>${sale.discount}</span></h6>\n                            <h6>Subtotal:<span className=\"text-secondary mb-3 ml-2 font-weight-normal\">${sale.subtotal}</span></h6>\n                            <h5 className=\"font-weight-bold\">Total:<span className=\"text-info ml-2 font-weight-normal\">${sale.total}</span></h5>  \n                        </div>\n                                                            \n                        <div className='col-lg-6 d-flex flex-column justify-content-center align-items-center pt-4'>\n                            <h6 className='font-weight-bold'>Abonado:<span className='text-success ml-2 font-weight-normal'>${getPagado()}</span></h6>                          \n                            <h6 className='font-weight-bold'>Por pagar:<span className='text-danger ml-2 font-weight-normal'>${penddingToPay()}</span></h6>\n                        </div>\n                     </div>\n                     {penddingToPay() === 0 ? <h5 className=\"text-center bg-success p-1\">$ Cuenta pagada</h5> : null}                     \n                 </div>                \n             ):(\n                 <p>No hay un nota para mostrar!!</p>\n             )}           \n          </div>\n\n          <div className=\"modal-footer\">                \n                <button\n                type=\"button\"\n                className=\"btn btn-default\"\n                onClick={() => _close()}\n                >\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n                </button>\n\n                <button className=\"btn btn-info\" onClick={()=>history.push(`/notas/${sale.id}`)}>\n                  <i className=\"fas fa-money-bill-alt mr-2\"></i>\n                  Editar nota\n                </button>\n\n          </div>\n        </div>\n      </div>\n    </div> \n  );\n};\n","import { useState, useEffect, useContext } from \"react\";\nimport { useHistory} from \"react-router-dom\";\nimport moment from \"moment\";\n\n//Context\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { OrderContext } from \"../../context/OderContext\";\n\n//Hooks\nimport useOrder from \"../../hooks/useOrder\";\n\n//Components\nimport LabOrder from \"./views/labOrder\";\nimport Bicelacion from \"./views/bicelacionOrder\";\nimport Items from \"./views/ItemsOrder\";\nimport ExamModal from \"./ExamModal\";\nimport ModalNota from \"./ModalNota\";\nimport Activitys from \"../Activitys\";\nimport PrintSaleComponent from \"../print/PrintSale\";\n\n//Helper\nimport helper from \"./helpers\";\n\nexport default function EditOrderComponent(props) {\n  const [state, setState] = useState({\n    id: 0,\n    paciente: {},\n    session: null,\n    lab_id: 0,\n    lab_order: \"\",\n    bi_details: \"\",\n    bi_box: 0,\n    items: [],\n    sale: {},\n    exam: {},\n    codes: {},\n    status: 0,\n    created: {},\n    created_at: null,\n    updated: {},\n    updated_at: null,\n    print: false,\n    statusInitial: 0,\n  });\n\n  const [showModal, setShowModal] = useState(false);\n  const [showModalNota, setShowModalNota] = useState(false);\n\n  const {\n    id,\n    paciente,\n    lab_id,\n    lab_order,\n    bi_box,\n    bi_details,\n    items,\n    exam = {},\n    status,\n    created_at,\n  } = state;\n\n  const idurl = props.match.params;\n  const hookOrder = useOrder();\n  const authContext = useContext(AuthContext);\n  const role = authContext.auth.roles;\n  const history = useHistory();\n  const orderContext = useContext(OrderContext);\n\n  const { loading: LOADING } = props;\n\n  const fNacimiento =\n    new Date(paciente.birthday ?? \"\") < new Date()\n      ? moment(paciente.birthday)\n      : null;\n\n  const telefonos = Object.values(paciente.phones ?? {}).filter((tel) => tel);\n\n  const handleClose = (e) => {\n    orderContext.set({\n      ...orderContext,\n      panel: \"inbox\",\n    });\n\n    history.push(\"/pedidos\");\n  };\n\n  const handleSave = () => {\n    const { id, lab_order, bi_box, status, lab_id, bi_details } = state;\n    if (status === 0) {\n      return null;\n    }\n\n    if (status === 1 && !lab_id && toString(lab_order).length) {\n      window.Swal.fire(\n        \"Verificacin\",\n        \"Verifique los campos de laboratorio\",\n        \"error\"\n      );\n      return false;\n    } else if (status === 1) {\n      saveFinalOrder({\n        id,\n        status,\n        lab_id,\n        lab_order,\n      });\n    }\n\n    if (status === 2 && !bi_box) {\n      window.Swal.fire(\"Verificacin\", \"El numero de caja esta vacio\", \"error\");\n      return false;\n    } else if (status === 2) {\n      saveFinalOrder({\n        id,\n        status,\n        bi_box,\n        bi_details,\n      });\n    }\n\n    if (status >= 3) {\n      saveFinalOrder({\n        id,\n        status,\n      });\n    }\n  };\n\n  const saveFinalOrder = (data) => {\n    hookOrder.saveOrder(data).then((data) => {\n      if (data) {\n        window.Swal.fire({\n          title: \"Estado guardado correctamente\",\n          icon: \"success\",\n          showCancelButton: false,\n          showConfirmButton: false,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"Eliminar\",\n          timer: 3000,\n        });\n        orderContext.set({\n          ...orderContext,\n          panel: \"inbox\",\n        });\n        history.push(\"/pedidos\");\n      } else {\n        window.Swal.fire({\n          title: \"Error al actualizar el estado\",\n          icon: \"error\",\n          showCancelButton: false,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"Eliminar\",\n        });\n      }\n    });\n  };\n\n  const handleDeleteOrder = () => {\n    window.Swal.fire({\n      title: \"Ests seguro de eliminar la orden?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        hookOrder.deleteOrder(id);\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Orden eliminada correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n\n        orderContext.set({\n          ...orderContext,\n          panel: \"inbox\",\n        });\n      }\n    });\n  };\n\n  const handleChangeInput = (key, value) => {\n    setState({\n      ...state,\n      [key]: value,\n    });\n  };\n\n  useEffect(() => {\n    hookOrder.getOrder(idurl).then(({ data }) => {\n      if (data) {\n        setState({\n          id: data.id ?? 0,\n          paciente: data.paciente ?? {},\n          session: data.session ?? null,\n          lab_id: data.lab ? data.lab.id : 0,\n          lab_order: data.lab_order ?? \"\",\n          bi_details: data.bi_details ?? \"\",\n          bi_box: data.bi_box ?? 0,\n          items: data.items ?? [],\n          exam: data.exam ?? {},\n          codes: data.codes ?? {},\n          status: data.status ?? 0,\n          created: data.created ?? {},\n          created_at: data.created_at ?? null,\n          updated: data.updated ?? {},\n          updated_at: data.updated_at ?? null,\n          sale: {\n            id: data.sale.id,\n            total: data.sale.total,\n            subtotal: data.sale.subtotal,\n            session: data.sale.session,\n            payments: data.sale.payments,\n            paid: data.sale.paid,\n            discount: data.sale.descuento,            \n            customer: data.paciente,\n            //...(data.sale ?? {}),            \n          },\n          contact_id: data.paciente.id,\n          activitys: data.activity ?? [],\n          statusInitial: data.status ?? 0,\n        });\n      } else {\n        console.error(\"Error al obtener los datos\");\n      }\n    });\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      {state ? (\n        <>\n          <div className=\"card card-warning card-outline d-print-none\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title w-100\">\n                <i className=\"mr-1 fas fa-clipboard-list\"></i>\n                Pedido\n                <span className=\"ml-1 badge badge-pill badge-warning\">\n                  #{id}\n                </span>\n                <span className=\"float-right mailbox-read-time mt-1 text-dark\">\n                  Pedido registrado {moment(created_at).fromNow()}\n                </span>\n              </h3>\n            </div>\n\n            <div className=\"p-0 card-body d-flex p-3\">\n              <div className=\"pl-3 col-lg-6\">\n                {/* Nombre del paciente */}\n                <h6 className=\"d-flex mb-2\">\n                  <i className=\"mr-2 fas fa-user\"></i>\n                  <span className=\"text-capitalize m-0 text-secondary\">\n                    {paciente.name}\n                  </span>\n                </h6>\n                {/* Email del paciente */}\n                {paciente.email ? (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-2 fas fa-envelope\"></i>\n                    <span className=\"text-muted\">{paciente.email}</span>\n                  </h6>\n                ) : (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-2 fas fa-envelope\"></i>\n                    <span className=\"text-muted\">Email no registrado</span>\n                  </h6>\n                )}\n                {/* Telfono del paciente */}\n                {telefonos.length ? (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-1 fas fa-phone\"></i>\n                    <span className=\"mx-1 text-muted\">\n                      {telefonos.join(\" \")}\n                    </span>\n                  </h6>\n                ) : (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-1 fas fa-phone\"></i>\n                    <span className=\"text-muted\">Telefonos no registrado</span>\n                  </h6>\n                )}\n\n                {/*Fecha de nacimiento del paciente*/}\n                {role === \"admin\" ? (\n                  <span className=\"mailbox-read-time\">\n                    Fecha de nacimiento:{\" \"}\n                    {fNacimiento ? (\n                      <>\n                        {fNacimiento.format(\"LL\")}\n                        <label className=\"ml-1\">\n                          ({moment().diff(fNacimiento, \"years\")} aos)\n                        </label>\n                      </>\n                    ) : (\n                      \"NO REGISTRADO\"\n                    )}\n                  </span>\n                ) : null}\n              </div>\n\n              <div className=\"col-lg-6 d-flex flex-column justify-content-center align-items-center\">\n                <div className=\"w-75 d-flex flex-column justify-content-center align-items-center\">\n                  <div className=\"btn-group\">\n                    {state.nota && !state.nota.id ? (\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-default btn-sm\"\n                        title=\"Eliminar\"\n                        onClick={handleDeleteOrder}\n                      >\n                        <i className=\"far fa-trash-alt\"></i>\n                      </button>\n                    ) : null}\n                  </div>\n                </div>\n\n                <div className=\"w-75 d-flex flex-column justify-content-center align-items-center\">\n                  <div className=\"mt-3 \">\n                    <button\n                      className=\"btn btn-info mr-1\"\n                      onClick={() => setShowModal(true)}\n                      disabled={Object.keys(exam).length ? false : true}\n                    >\n                      {Object.keys(exam).length\n                        ? \"Ver examen\"\n                        : \"Sin examen asignado\"}\n                      <i className=\"fas fa-eye ml-1\"></i>\n                    </button>\n\n                    <button\n                      className=\"btn btn-primary mr-1\"\n                      onClick={() => setShowModalNota(true)}\n                    >\n                      Ver Nota\n                      <i className=\"fas fa-money-bill ml-1\"></i>\n                    </button>\n\n                    <button\n                      className=\"btn btn-secondary\"\n                      onClick={() => setState({ ...state, print: true })}\n                    >\n                      Imprimir\n                      <i className=\"fas fa-print ml-1\"></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"row mt-4 mb-4\">\n            <div className=\"col-lg-4 col-md-6 col-sm-12 d-print-none\">\n              {/* ------------------SELECCION DE ESTATUS ------------------ */}\n              <h6 className=\"w-100 d-block font-weight-bold\">Estado</h6>\n              <div className=\"card mt-2\">\n                <div className=\"btn-group-vertical bg-success\">\n                  {helper.getStatusType.map((type, index) => (\n                    <button\n                      key={index}\n                      type=\"button\"\n                      className={\n                        status === index\n                          ? \"btn btn-primary btn-sm text-capitalize text-bold\"\n                          : \"btn btn-default btn-sm text-capitalize\"\n                      }\n                      onClick={(e) => {\n                        setState({\n                          ...state,\n                          status: index,\n                        });\n                      }}\n                    >\n                      {type}\n                    </button>\n                  ))}\n                </div>\n                {LOADING ? (\n                  <div className=\"overlay dark\">\n                    <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                  </div>\n                ) : null}\n              </div>\n\n              <div className=\"mt-3 d-flex justify-content-center\">\n                <button\n                  className=\"btn btn-secondary mr-2\"\n                  onClick={(e) => handleClose(e)}\n                >\n                  Cerrar\n                  <i className=\"mr-1 fas fa-door-open ml-2\"></i>\n                </button>\n\n                <button\n                  className=\"btn btn-warning\"\n                  disabled={Boolean(state.status === state.statusInitial)}\n                  onClick={handleSave}\n                >\n                  Guardar\n                  <i className=\"mr-1 fas fa-save ml-2\"></i>\n                </button>\n              </div>\n            </div>\n\n            {/*------------------ COMPONENTE DE PEDIDO ------------------*/}\n            <div className=\"col\">\n              {\n                <div className=\"card h-100 m-0\">\n                  <div className=\"card-header d-print-none\">\n                    <h5 className=\"card-title w-100 d-block mb-2 text-capitalize text-bold\">\n                      <i className=\"fas fa-shield-alt mr-1\"></i>\n                      {helper.handleStatusString(status)}\n                    </h5>\n                  </div>\n\n                  <div className=\"card-body p-0\">\n                    <div className=\"p-0 mailbox-read-message m-0\">\n                      {!Boolean(status) && <Items items={items} />}\n\n                      {status === 1 ? (\n                        <LabOrder\n                          lab_id={lab_id}\n                          lab_order={lab_order}\n                          status={status}\n                          handleChange={handleChangeInput}\n                        />\n                      ) : null}\n\n                      {status === 2 ? (\n                        <Bicelacion\n                          bi_box={bi_box}\n                          bi_details={bi_details}\n                          status={status}\n                          handleChange={handleChangeInput}\n                        />\n                      ) : null}\n\n                      {status >= 3 ? (\n                        <div className=\"px-2\">\n                          <div className=\"my-2 border rounded card border-warning d-print-none\">\n                            <div className=\"card-body\">\n                              <h5 className=\"card-title\">\n                                Estado de la entrega\n                              </h5>\n                              <div className=\"ml-1 icheck-success d-inline\">\n                                <input\n                                  type=\"checkbox\"\n                                  checked={status === 3 ? false : true}\n                                  id=\"checkboxSuccess1\"\n                                  onChange={(e) =>\n                                    handleChangeInput(\n                                      \"status\",\n                                      status === 3 ? 4 : 3\n                                    )\n                                  }\n                                />\n                                <label htmlFor=\"checkboxSuccess1\"></label>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      ) : null}\n                    </div>\n                  </div>\n\n                  {LOADING ? (\n                    <div className=\"overlay dark d-print-none\">\n                      <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                    </div>\n                  ) : null}\n                </div>\n              }\n            </div>\n          </div>\n\n          {/* MODAL VALIDATION EXAM */}\n          {showModal ? (\n            <ExamModal\n              handleClose={() => setShowModal(false)}\n              exam={state.exam}\n            />\n          ) : null}\n\n          {/* MODAL VALIDATION NOTA*/}\n          {showModalNota ? (\n            <ModalNota\n              handleClose={() => setShowModalNota(false)}\n              sale={state.sale}\n            />\n          ) : null}\n        </>\n      ) : null}\n\n      {state.print && (\n        <PrintSaleComponent\n          data={{\n            ...state.sale,\n            items: state.items,\n            order_id: state.id,\n          }}\n          setPrint={() => setState({ ...state, print: false })}\n        />\n      )}\n\n      <Activitys data={state.activitys ?? []} />\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useEffect, useState, useContext } from \"react\";\nimport useMessenger from \"../../hooks/useMessenger\";\n\nexport default function Messenger({ table, idRow }) {\n  const hookMessenger = useMessenger();\n  const authContext = useContext(AuthContext);\n  const { idUser } = authContext;\n\n  const [state, setState] = useState({\n    messages: [],\n    user: \"\",\n    load: true,\n    message: \"\",\n  });\n\n  const getMessenger = () => {\n    const options = {\n      table,\n      idRow,\n    };\n    hookMessenger.getMessages(options).then((data) => {\n      if (data.data) {\n        setState({\n          ...state,\n          messages: data.data,\n          user: idUser,\n          load: false,\n        });\n      }\n    });\n  };\n\n  const handleMessege = (e) => {\n    setState({\n      ...state,\n      message: e.target.value,\n    });\n  };\n\n  const sendMessenger = () => {\n    const message = state.message;\n    const bodyRequest = {\n      table: table,\n      idRow: idRow,\n      message: message,\n    };\n\n    setState({\n      ...state,\n      load: true,\n      message: \"\",\n    });\n\n    hookMessenger\n      .sendMessenger(bodyRequest)\n      .then((data) => {\n        if (data) {\n          setState({\n            ...state,\n            messages: [data.data, ...state.messages],\n            message: \"\",\n            load: false,\n          });\n        } else {\n          setState({\n            ...state,\n            load: false,\n            message,\n          });\n        }\n      })\n      .catch((error) => {\n        setState({\n          ...state,\n          load: false,\n          message,\n        });\n      });\n  };\n\n  useEffect(() => {\n    getMessenger();\n  }, []);\n\n  return (\n    <div className=\"card direct-chat direct-chat-primary d-print-none\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-comments mr-1\"></i>\n          Chat\n          <span className=\"badge badge-pill badge-secondary ml-1\">{idRow}</span>\n        </h3>\n      </div>\n\n      {state.load ? (\n        <div className=\"card-body\">\n          <div className=\"card-text text-center p-4\">\n            <div className=\"spinner-border text-primary\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </div>\n          </div>\n        </div>\n      ) : state.messages.length ? (\n        <>\n          <div className=\"card-body\">\n            <div className=\"direct-chat-messages\" id=\"boxchat\">\n              {state.messages.map((message) => {\n                let avatar = \"/img/avatars/avatar5.png\";\n                // eslint-disable-next-line\n                if (message.created_user.rol === 1)\n                  avatar = \"/img/avatars/avatar2.png\";\n                if (!message.created_user.rol)\n                  avatar = \"/img/avatars/avatar3.png\";\n                if (message.created_user.id === 2)\n                  avatar = \"/img/avatars/avatar4.png\";\n                return (\n                  <div\n                    className={\n                      message.created_user.id === state.user\n                        ? \"direct-chat-msg right\"\n                        : \"direct-chat-msg\"\n                    }\n                    key={message.id}\n                  >\n                    <div className=\"direct-chat-infos clearfix\">\n                      <span\n                        className={\n                          message.created_user.id === state.user\n                            ? \"direct-chat-name float-right\"\n                            : \"direct-chat-name float-left\"\n                        }\n                      >\n                        {message.created_user.name}\n                      </span>\n                      <span\n                        className={\n                          message.created_user.id === state.user\n                            ? \"direct-chat-timestamp float-left\"\n                            : \"direct-chat-timestamp float-right\"\n                        }\n                      >\n                        {moment(message.updated_at).format(\"lll\")}\n                      </span>\n                    </div>\n                    <img\n                      className=\"direct-chat-img\"\n                      src={\n                        message.created_user.id === 1\n                          ? \"/img/avatars/OrusBot.png\"\n                          : avatar\n                      }\n                      alt=\"message user image1\"\n                    />\n                    <div className=\"direct-chat-text\">{message.mensaje}</div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </>\n      ) : (\n        <div className=\"card-body\">\n          <div className=\"card-text text-center p-4\">\n            <h5>\n              <i className=\"fas fa-comment-slash mr-1\"></i>\n              No hay mensajes aun\n            </h5>\n          </div>\n        </div>\n      )}\n\n      <div className=\"card-footer\">\n        <div className=\"input-group\">\n          <input\n            type=\"text\"\n            name=\"message\"\n            placeholder=\"Escriba un mensaje ...\"\n            className=\"form-control\"\n            value={state.message}\n            onChange={handleMessege}\n            onKeyPress={({ key }) => {\n              if (key === \"Enter\") {\n                sendMessenger();\n              }\n            }}\n          />\n          <span className=\"input-group-append\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={sendMessenger}\n              disabled={state.message.length > 1 ? false : true}\n            >\n              Enviar\n            </button>\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useMessenger() {\n  const getMessages = async (options) => {\n    const url = setUrl(\"messengers\", null, options);\n\n    return await api(url);\n  };\n\n  const sendMessenger = async (bodyRequest) => {\n    if (bodyRequest) {\n      const url = setUrl(\"messengers\");\n      return await api(url, \"POST\", bodyRequest);\n    }\n  };\n\n  return {\n    getMessages,\n    sendMessenger,\n  };\n}\n","import { useContext } from \"react\";\n//Context\nimport { OrderContext } from \"../../context/OderContext\";\nimport SideBar from \"../../pages/partials/SideBar\";\nimport Messenger from \"../Layouts/Messenger\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function Toolbar() {\n  const orderContext = useContext(OrderContext);\n  const options = orderContext.options;\n\n  const { id } = useParams();\n\n  const handleSetSelectOptions = ({ target }) => {\n    const { value, name } = target;\n    //if(name === 'status' || name === 'itemsPage'){}\n    orderContext.set({\n      ...orderContext,\n      options: {\n        ...options,\n        [name]: value,\n      },\n    });\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-md-12 col-sm-12 d-print-none\">\n        <a\n          href=\"#new\"\n          className={\n            [\"edit\", \"newOrder\"].includes(orderContext.panel)\n              ? \"disabled mb-3 btn btn-secondary btn-block\"\n              : \"mb-3 btn btn-warning btn-block\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n            orderContext.set({\n              ...orderContext,\n              panel: \"newOrder\",\n            });\n          }}\n          disabled={\n            [\"edit\", \"newOrder\"].includes(orderContext.panel) ? true : false\n          }\n        >\n          <i className=\"mr-2 fas fa-plus\"></i>\n          Pedido nuevo\n        </a>\n\n        {orderContext.panel === \"inbox\" && (\n          <SideBar title=\"Filtros\">\n            {orderContext.panel === \"inbox\" ? (\n              <>\n                <li className=\"nav-item\">&nbsp;</li>\n                <li className=\"p-2 nav-item\">\n                  <label htmlFor=\"status\">Estado del pedido</label>\n                  <select\n                    className=\"form-control\"\n                    name=\"status\"\n                    id=\"status\"\n                    value={options.status}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"\">-- Todos --</option>\n                    <option value=\"0\">En proceso</option>\n                    <option value=\"1\">Laboratorio</option>\n                    <option value=\"2\">Bicelacin</option>\n                    <option value=\"3\">Terminado</option>\n                    <option value=\"4\">Entregado</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"orderby\">Ordenar por</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"orderby\"\n                    id=\"orderby\"\n                    value={options.orderby}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"created_at\">Fecha de registro</option>\n                    <option value=\"updated_at\">Fecha de modificacion</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"order\">Mostrar por</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"order\"\n                    id=\"order\"\n                    value={options.order}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"asc\">Antiguos</option>\n                    <option value=\"desc\">Recientes</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"itemsPage\">Numero de pedidos</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"itemsPage\"\n                    id=\"itemsPage\"\n                    value={options.itemsPage}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"25\">ver 25</option>\n                    <option value=\"50\">ver 50</option>\n                    <option value=\"75\">ver 75</option>\n                    <option value=\"100\">ver 100</option>\n                  </select>\n                </li>\n              </>\n            ) : null}\n          </SideBar>\n        )}\n\n        {orderContext.panel === \"edit\" && (\n          <Messenger table=\"orders\" idRow={id} />\n        )}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { OrderContext } from \"../context/OderContext\";\n\n//Components\nimport Inbox from \"../components/Order/views/inbox\";\nimport Asistent from \"../components/Order/Asistent\";\nimport AddOrder from \"../components/Order/editOrder\";\nimport Toolbar from \"../components//Order/Toolbar.jsx\";\n\nconst initialOptions = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n  status: \"\",\n  search: \"\",\n};\n\nexport default function IndexOrderComponent(props) {\n  const [state, setState] = useState({\n    panel: null,\n    options: initialOptions,\n    order: {},\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      panel: id ? \"edit\" : \"inbox\",\n    });\n  }, [id]); \n\n  return (\n    <OrderContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{ minHeight: \"100vh\" }}>\n        <div className=\"col-sm-12 col-md-2\">\n          <Toolbar/>\n        </div>\n        <div className=\"col-sm-12 col-md-10\">\n          {state.panel === \"inbox\" && <Inbox />}\n          {state.panel === \"newOrder\" && <Asistent {...props} />}\n          {state.panel === \"edit\" && <AddOrder {...props} />}\n        </div>\n      </div>\n    </OrderContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, Fragment, useContext, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function NotifyComponent() {\n  const { auth, getNotifications, setNotifications } = useContext(AuthContext);\n  const [state, setState] = useState({\n    notifications: [],\n    loading: true,\n    mainRole: auth.roles,\n  });\n  const { notifications, loading, mainRole } = state,\n    countNotify = notifications ? notifications.length : 0,\n    showNotifications = notifications.slice(0, 10);\n  let timerNotify;\n\n  // Functions\n  const handleNotifications = () => {\n      getNotifications()\n        .then((notifications) => {\n          setState({\n            ...state,\n            notifications,\n            loading: false,\n          });\n        })\n        .catch(() => {\n          setState({\n            ...state,\n            loading: false,\n          });\n        });\n    },\n    handleClickRead = (e, id) => {\n      if (id === -1) e.preventDefault();\n      setNotifications({ id });\n    };\n\n  useEffect(() => {\n    handleNotifications();\n\n    timerNotify = setInterval(() => {\n      console.log(\"[Orus system] check notifications\");\n      setState({\n        ...state,\n        loading: true,\n      });\n      handleNotifications();\n    }, 60000);\n\n    return () => {\n      clearInterval(timerNotify);\n    };\n  }, []);\n\n  return (\n    <li className=\"nav-item dropdown\">\n      <a className=\"nav-link\" data-toggle=\"dropdown\" href=\"#end\">\n        {loading ? (\n          <i className=\"fas fa-spinner fa-spin\"></i>\n        ) : (\n          <>\n            <i className=\"far fa-bell\"></i>\n            {countNotify ? (\n              <span className=\"badge badge-warning navbar-badge\">\n                {countNotify}\n              </span>\n            ) : null}\n          </>\n        )}\n      </a>\n\n      <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n        <span className=\"dropdown-header\">{countNotify} Notificaciones</span>\n        <div className=\"dropdown-divider\"></div>\n        {showNotifications.map((notify) => {\n          const notiFyType = notify.type.split(\"\\\\\", 3);\n          let title = \"general\",\n            icon = \"fa-file\",\n            time = moment(notify.created_at).fromNow(),\n            url = \"#end\";\n\n          if (notiFyType[2] === \"ExamNotification\") {\n            if (mainRole === \"doctor\") {\n              title = \"Examen creado\";\n              url = \"/consultorio/registro/\" + notify.data.id;\n            } else {\n              title = \"Examen actualizado\";\n              url = \"/pedidos/registro\";\n            }\n            icon = \"fa-file-alt\";\n          }\n\n          return (\n            <Link\n              to={url}\n              className=\"dropdown-item\"\n              key={notify.id}\n              onClick={(e) => {\n                handleClickRead(e, notify.id);\n              }}\n            >\n              <i className={\"fas \" + icon + \" mr-1\"}></i> {title}\n              <span className=\"float-right text-sm text-muted\">{time}</span>\n            </Link>\n          );\n        })}\n        {countNotify ? (\n          <Fragment>\n            <div className=\"dropdown-divider\"></div>\n            <a\n              href=\"#end\"\n              className=\"dropdown-item dropdown-footer\"\n              onClick={(e) => {\n                e.preventDefault();\n                handleClickRead(e, -1);\n              }}\n            >\n              Marcar todas.\n            </a>\n          </Fragment>\n        ) : null}\n        {/* <Link\n            to=\"/notificaciones\"\n            className=\"dropdown-item dropdown-footer\"\n            onClick={(e) => {\n              //this.props.page(\"/notificaciones\");\n            }}\n          >\n            Ver todas\n          </Link> */}\n      </div>\n    </li>\n  );\n}\n","import Notify from \"./notify\";\n\nexport default function NavtopComponent() {\n  return (\n    <nav className=\"main-header navbar navbar-expand navbar-dark navbar-lightblue\">\n      <ul className=\"navbar-nav\">\n        <li className=\"nav-item\">\n          <a\n            className=\"nav-link\"\n            data-widget=\"pushmenu\"\n            href=\"#navbar\"\n            role=\"button\"\n            onClick={(e) => {\n              e.preventDefault();\n              window.$(\"#body\").toggleClass(\"sidebar-open\");\n              window.$(\"#body\").toggleClass(\"sidebar-collapse\");\n            }}\n          >\n            <i className=\"fas fa-bars\"></i>\n          </a>\n        </li>\n      </ul>\n      <ul className=\"navbar-nav ml-auto\">\n        <li className=\"nav-item dropdown\">\n          <a href=\"#end\" className=\"nav-link\" data-toggle=\"dropdown\">\n            <i className=\"far fa-comments\"></i>\n          </a>\n          <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n            <span className=\"dropdown-header\">Sin comentarios</span>\n            <div className=\"dropdown-divider\"></div>\n          </div>\n        </li>\n        <Notify />\n      </ul>\n    </nav>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useLocation } from \"react-router-dom\";\nimport { useContext, useState } from \"react\";\nimport moment from \"moment\";\nimport Modal from \"../../layouts/modal\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { ConfigContext } from \"../../context/ConfigContext\";\n\nexport default function BreadcrumbComponent() {\n  const { auth, setBranch } = useContext(AuthContext);\n  const config = useContext(ConfigContext);\n  const pathName = useLocation().pathname.split(\"/\");\n  const pathArray = pathName && pathName.length ? pathName : [\"dashboard\"];\n  const pathFilter = pathArray.filter((path) => ![\"\"].includes(path));\n  const namePage = pathFilter[0];\n  const currentBranch = auth.branch;\n  const [state, setState] = useState({\n    showChangeBranchs: false,\n    date: moment().format(\"LLLL\"),\n    branchSelect: currentBranch.id,\n  });\n\n  const branches = config.data?.filter((c) => c.name === \"branches\") ?? [];\n\n  // functions\n  const handleChangeBranch = (e) => {\n    e.preventDefault();\n\n    setState({\n      ...state,\n      showChangeBranchs: true,\n    });\n  };\n  const handleCancelModal = () => {\n    setState({ ...state, showChangeBranchs: false });\n  };\n  const handleClickChangeBranch = () => {\n    const { branchSelect: branch_id } = state;\n\n    handleCancelModal();\n\n    if (!branch_id) {\n      console.error(\"[Orus System][ERROR] branch id is empty\");\n      window.location.reload();\n      return;\n    }\n\n    window.Swal.fire({\n      text: \"Realmente desea cambiarse de sucursal?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Confirmar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        setBranch(branch_id)\n          .then((res) => {\n            if (res) {\n              window.location.reload();\n            } else {\n              window.Swal.fire({\n                icon: \"error\",\n                text: \"Lo sentimos, hay un problema de comunicacion con el servidor. Comfirme el IP.\",\n                showConfirmButton: false,\n                timer: 3000,\n                position: \"top center\",\n              });\n            }\n          })\n\n          .catch((error) => {\n            if (error) {\n              console.error(\"[Orus System] When change branch:\", error.message);\n            }\n          });\n      }\n    });\n  };\n  const getHtmlBody = () => {\n    const { branchSelect } = state;\n\n    return (\n      <div className=\"form-group\">\n        <label>Seleccione la sucursal</label>\n        <select\n          className=\"form-control text-capitalize\"\n          onChange={({ target }) =>\n            setState({ ...state, branchSelect: parseInt(target.value) })\n          }\n          defaultValue={currentBranch?.id}\n        >\n          {branches.map((branch) => (\n            <option key={branch.id} value={branch.id}>\n              {branch.data.name}\n            </option>\n          ))}\n        </select>\n        <div className=\"mt-2 text-right\">\n          <button\n            className=\"btn btn-default\"\n            type=\"button\"\n            onClick={handleClickChangeBranch}\n            disabled={branchSelect === currentBranch?.id ? true : false}\n          >\n            Cambiar\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"content-header\">\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <h1 className=\"m-0 text-dark text-capitalize\">\n              <i className=\"mr-1 fas fa-file\"></i> {namePage}\n            </h1>\n          </div>\n          <div className=\"text-center col\">\n            <small\n              className=\"p-2 badge badge-secondary text-capitalize\"\n              alt=\"conectado a\"\n              title=\"conectado a\"\n            >\n              <i className=\"mr-1 fas fa-wifi text-success\"></i>\n              {config.server?.host}\n              {config.server?.port && config.server?.port !== \"80\"\n                ? `:${config.server?.port}`\n                : null}\n            </small>\n            <small\n              className=\"p-2 mt-1 ml-1 badge badge-secondary text-capitalize\"\n              alt=\"Almacenando en\"\n              title=\"Almacenando en\"\n            >\n              <i className=\"mr-1 fas fa-server text-success\"></i>\n              {auth.permissions?.includes(\"auth.changeBranch\") ? (\n                <a\n                  href=\"#link\"\n                  className=\"text-white\"\n                  onClick={handleChangeBranch}\n                >\n                  {currentBranch.name}\n                </a>\n              ) : (\n                currentBranch.name\n              )}\n            </small>\n            <small\n              className=\"p-2 mt-1 ml-2 badge badge-secondary text-capitalize\"\n              alt=\"Usuario conectado\"\n              title=\"Usuario conectado\"\n            >\n              <i className=\"mr-1 fas fa-user text-info\"></i> {auth.username}\n            </small>\n            {state.showChangeBranchs ? (\n              <Modal\n                title=\"Cambiar de sucursal\"\n                body={getHtmlBody()}\n                handleCancel={handleCancelModal}\n              />\n            ) : null}\n          </div>\n          <div className=\"col\">\n            <h6 className=\"text-right text-muted\">\n              <i className=\"mr-1 fas fa-calendar\"></i> {state.date}\n            </h6>\n          </div>\n        </div>\n      </div>\n      <hr />\n    </div>\n  );\n}\n","import { useContext } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function MenuComponent() {\n  const { auth, outSession } = useContext(AuthContext);\n  const handleLogOut = (e) => {\n    e.preventDefault();\n\n    window.Swal.fire({\n      title: \"Session\",\n      text: \"Esta seguro de cerrar la sesion?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Si\",\n      cancelButtonText: \"Cancelar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        outSession();\n\n        setTimeout(() => {\n          window.location.reload();\n        }, 2000);\n      }\n    });\n  };\n\n  // TODO: import auth context\n  const companyName = \"Optica Madero\",\n    active = useLocation().pathname.replace(\"/\", \"\");\n\n  let avatar = \"/img/avatars/avatar5.png\";\n  if (auth.roles === \"ventas\") avatar = \"/img/avatars/avatar2.png\";\n  if (auth.roles === \"admin\") avatar = \"/img/avatars/avatar3.png\";\n  if (auth.idUser === 2) avatar = \"/img/avatars/avatar4.png\";\n\n  return (\n    <aside className=\"main-sidebar sidebar-dark-primary\">\n      <Link to=\"/\" className=\"brand-link\">\n        <img\n          src=\"/img/logo.png\"\n          alt={companyName + \" logo \"}\n          className=\"brand-image img-circle elevation-2\"\n          style={{ opacity: 0.8, maxHeight: 16 }}\n        />\n        <span className=\"brand-text font-weight-light text-uppercase\">\n          {companyName}\n        </span>\n      </Link>\n      <div className=\"sidebar\">\n        <div className=\"pb-3 mt-3 mb-3 user-panel d-flex\">\n          <div className=\"image\">\n            <img\n              src={avatar}\n              className=\"img-circle elevation-2\"\n              alt={auth.name}\n            />\n          </div>\n          <div className=\"info\">\n            <a href=\"#end\" className=\"d-block text-capitalize\">\n              {auth.name}\n              <small className=\"text-lowercase\">({auth.username})</small>\n              <br />\n              <span className=\"badge badge-light\">\n                {auth.roles !== \"admin\"\n                  ? auth.roles === \"ventas\"\n                    ? \"Ventas\"\n                    : \"Optometrista\"\n                  : \"Administrador\"}\n              </span>\n            </a>\n          </div>\n        </div>\n        <nav className=\"mt-2\">\n          <ul\n            className=\"nav nav-pills nav-sidebar flex-column\"\n            data-widget=\"treeview\"\n            role=\"menu\"\n            data-accordion=\"false\"\n          >\n            {auth.roles === \"admin\" ? (\n              <li className=\"nav-item\">\n                <Link\n                  to=\"/\"\n                  className={active === \"\" ? \"nav-link active\" : \"nav-link\"}\n                >\n                  <i className=\"nav-icon fas fa-tachometer-alt\"></i>\n                  <p>\n                    Dashboard\n                    <i className=\"right fas fa-angle-left\"></i>\n                  </p>\n                </Link>\n              </li>\n            ) : null}\n\n            <li className=\"nav-item\">\n              <Link\n                to=\"/contactos\"\n                className={\n                  active === \"contactos\" ? \"nav-link active\" : \"nav-link\"\n                }\n              >\n                <i className=\"nav-icon fas fa-address-book\"></i>\n                <p>\n                  Contactos\n                  <i className=\"right fas fa-angle-left\"></i>\n                </p>\n              </Link>\n            </li>\n\n            <li className=\"nav-item\">\n              <Link\n                to=\"/consultorio\"\n                className={\n                  active === \"consultorio\" ||\n                  (active === \"\" && auth.roles === \"doctor\")\n                    ? \"nav-link active\"\n                    : \"nav-link\"\n                }\n              >\n                <i className=\"nav-icon fas fa-notes-medical\"></i>\n                <p>\n                  Examenes\n                  <i className=\"right fas fa-angle-left\"></i>\n                </p>\n              </Link>\n            </li>\n\n            {auth.roles !== \"doctor\" ? (\n              <>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/pedidos\"\n                    className={\n                      active === \"pedidos\" ||\n                      (active === \"\" && auth.roles === \"ventas\")\n                        ? \"nav-link active\"\n                        : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-clipboard-list\"></i>\n                    <p>\n                      Pedidos\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/notas\"\n                    className={\n                      active === \"notas\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-cash-register\"></i>\n                    <p>\n                      Ventas\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n              </>\n            ) : null}\n\n            {auth.roles === \"admin\" ? (\n              <>\n                <li\n                  className={\n                    active === \"almacen\"\n                      ? \"nav-item has-treeview menu-open\"\n                      : \"nav-item has-treeview \"\n                  }\n                >\n                  <Link\n                    to=\"/almacen\"\n                    className={\n                      active === \"almacen\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-database\"></i>\n                    <p>\n                      Almacen\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/usuarios\"\n                    className={\n                      active === \"usuarios\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-user\"></i>\n                    <p>\n                      Usuarios\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/configuraciones\"\n                    className={\n                      active === \"configuraciones\"\n                        ? \"nav-link active\"\n                        : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-tools\"></i>\n                    <p>\n                      Configuraciones\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n              </>\n            ) : null}\n\n            <li className=\"nav-item\">\n              <Link to=\"/\" className=\"nav-link\" onClick={handleLogOut}>\n                <i className=\"nav-icon fas fa-sign-out-alt\"></i>\n                <p>Cerrar sesion</p>\n              </Link>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </aside>\n  );\n}\n","import Navtop from \"../components/Layouts/navtop\";\nimport Breadcrumb from \"../components/Layouts/breadcrumb\";\nimport Menu from \"../components/Layouts/menu\";\n\nexport default function Main({ children }) {\n  const data = {};\n\n  return (\n    <div className=\"wrapper\" >\n      <Navtop logOut={() => {}} data={data} page={() => {}} />\n      \n      <Menu\n        companyName={\"company\"}\n        user={data}\n        page={() => {}}\n        logOut={() => {}}\n        active={\"active\"}\n      />\n\n      <div className=\"content-wrapper\">\n        <Breadcrumb />\n        <div className=\"content\">\n          <div className=\"container-fluid\">\n            <div className=\"row\" style={{minHeight:'100vh'}}>\n              <div className=\"col-lg-12\">{children}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","import { Route } from \"react-router-dom\";\nimport UserAdd from \"../components/Users/add\";\nimport Store from \"../pages/Store\";\nimport Contacts from \"../pages/Contacts\";\nimport Tools from '../pages/Tools';\nimport Exams from \"../pages/Exams\";\nimport Sales from \"../pages/Sales\";\nimport Dashboard from \"../pages/AuthDashboard\";\nimport Users from \"../pages/Users\";\nimport Orders from \"../pages/Orders\";\n\nimport ConfigProvider from \"../context/ConfigContext\";\nimport Main from \"../layouts/Main\";\n\nexport default function Routers({ auth }) {\n  return (\n    <ConfigProvider>\n      <Main>\n        <Route\n          exact\n          path=\"/\"\n          render={(props) => {\n            switch (auth.roles) {\n              case \"doctor\":\n                return <Exams {...props} />;\n\n              case \"ventas\":\n                return <Orders {...props} />;\n\n              default:\n                return <Dashboard {...props} />;\n            }\n          }}\n        />\n\n        <Route\n          path=\"/usuarios/registro/:id?\"\n          render={(props) => <UserAdd {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/usuarios/:id?\"\n          render={(props) => <Users {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/almacen/:id?\"\n          render={(props) => <Store {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/contactos/:id?\"\n          render={(props) => <Contacts {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/consultorio/:id?\"\n          render={(props) => <Exams {...props} />}\n        />\n\n        <Route\n          path=\"/configuraciones\"\n          render={(props) => <Tools {...props} page={() => {}} />}\n        />\n\n        <Route path=\"/pedidos/:id?\" render={(props) => <Orders {...props} />} />\n\n        <Route\n          path=\"/notas/:id?\"\n          render={(props) => <Sales {...props} page={() => {}} />}\n        />\n\n        {/* <Route\n              path=\"/notificaciones\"\n              render={(props) => (\n                <NotifyAllShow {...props} data={data} page={this.handlePage} />\n              )}\n            /> */}\n      </Main>\n    </ConfigProvider>\n  );\n}\n","export default function Dashboard() {\n  return (\n    <div className=\"mx-auto p-4 mt-5 w-50\">\n      <h1>Portal Optica Madero</h1>\n      <p>Para accesar al portal inicia session aqui: </p>\n      <button\n        onClick={() => {\n          window.location.href = \"/login\";\n        }}\n        type=\"button\"\n      >\n        Acceder\n      </button>\n    </div>\n  );\n}\n","import { Route } from \"react-router-dom\";\nimport Dashboard from \"../pages/Dashboard\";\n\nexport default function RouterPortal() {\n  return (\n    <>\n      <Route exact path=\"/\" render={(props) => <Dashboard />} />\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nexport default function NotFoundComponent() {\n  return (\n    <div className=\"container text-center font-weight-bold d-flex justify-content-center mt-5\">\n      <h1>404 Not Found</h1>\n    </div>\n  );\n}\n","/* eslint-disable no-useless-escape */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { useContext, useEffect, useState, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Login() {\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n  const LS = localStorage.getItem(\"OrusSystem\");\n  const defaultStorage = {\n    protocol: window.location.protocol.replace(\":\", \"\"),\n    host: window.location.hostname,\n    port: window.location.port,\n  };\n  const storage = LS ? JSON.parse(LS) : defaultStorage;\n  const server = `${storage.protocol + \"://\" ?? \"\"}${storage.host ?? \"\"}${\n    \":\" + storage.port ?? \"\"\n  }`;\n  const [state, setState] = useState({\n    load: false,\n    email: \"\",\n    password: \"\",\n    txtHost: server,\n    hostShow: server ? false : true,\n  });\n  const COMPANY = \"Optica Madero\";\n  const inputEmail = useRef();\n  const inputPassword = useRef();\n\n  // Functions\n  const handleLogin = () => {\n    const patterEmail = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if (!state.email) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de correo electronico es requerido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputEmail.current.focus();\n      });\n    }\n\n    if (/^@./.test(state.email)) {\n      const user = state.email.replace(\"@\", \"\");\n\n      state.email = `${user}@domain.com`;\n    } else if (!patterEmail.test(state.email)) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El usuario debe de ser un correo valido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputEmail.current.focus();\n      });\n    }\n\n    if (\n      ![\"domain.com\", \"opticamadero.com\"].includes(state.email.split(\"@\")[1])\n    ) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El dominio de este correo no es aceptado\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        setState({\n          ...state,\n          email: \"\",\n        });\n      });\n    }\n\n    if (!state.password) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de constrasea es requerido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputPassword.current.focus();\n      });\n    }\n\n    if (state.password.length < 8) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El password debe de tener al menos 8 caracteres\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputPassword.current.focus();\n      });\n    }\n\n    setState({\n      ...state,\n      load: true,\n    });\n\n    auth\n      .setSession({ email: state.email, password: state.password })\n      .then((res) => {\n        setState({\n          ...state,\n          load: false,\n        });\n\n        if (!res.status) {\n          let message = res.message;\n\n          if (res.data?.errors) {\n            message = res.data?.errors[Object.keys(res.data.errors)[0]][0];\n          }\n\n          if (!message && res.data) message = res.data.message;\n\n          return window.Swal.fire({\n            icon: \"error\",\n            text: message,\n            showConfirmButton: false,\n            timer: 2500,\n            position: \"top center\",\n          });\n        }\n\n        history.push(\"/\");\n      });\n  };\n  const handleKeyEnter = (key, fn) => {\n    if (key === \"Enter\") {\n      fn();\n    }\n  };\n  const handleChangeServer = () => {\n    const { txtHost } = state;\n\n    if (!txtHost) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de servidor no puede estar vacio\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      });\n    }\n\n    const server = txtHost.split(\":\");\n    let host, port, protocol;\n\n    if (server.length === 2) {\n      protocol = window.location.protocol.replace(\":\", \"\");\n      host = server[0].replace(\"//\", \"\");\n      port = server[1];\n    } else if (server.length === 3) {\n      protocol = server[0];\n      host = server[1].replace(\"//\", \"\");\n      port = server[2];\n    } else {\n      protocol = window.location.protocol.replace(\":\", \"\");\n      host = window.location.hostname;\n      port = window.location.port;\n    }\n\n    localStorage.setItem(\n      \"OrusSystem\",\n      JSON.stringify({\n        ...storage,\n        protocol,\n        host,\n        port,\n        token: \"\",\n      })\n    );\n\n    setState({\n      ...state,\n      hostShow: false,\n    });\n\n    window.Swal.fire({\n      icon: \"success\",\n      text: \"Cambio de servidor exitoso\",\n      showConfirmButton: false,\n      timer: 2500,\n      position: \"top center\",\n    });\n  };\n  const handleEmailEnter = () => {\n    if (state.email) inputPassword.current.focus();\n  };\n\n  useEffect(() => {\n    if (auth.auth?.isLogged) {\n      history.push(\"/\");\n    }\n  }, []);\n\n  return (\n    <div className=\"login-page\">\n      <div className=\"login-box\">\n        <div className=\"login-logo\">\n          <a href=\"#logo\" onClick={(e) => e.preventDefault()}>\n            <b className=\"text-primary\">Orus</b> LTE\n          </a>\n        </div>\n\n        <div className=\"rounded shadow-lg card\">\n          <div className=\"card-body login-card-body\">\n            <p className=\"login-box-msg text-uppercase\">\n              <span className=\"p-2 badge badge-secondary\">{COMPANY}</span>\n              <br />\n              <small className=\"text-muted text-lowercase\">{`<${state.txtHost}>`}</small>\n            </p>\n            <form autoComplete=\"off\">\n              <div className=\"mb-0 input-group\">\n                <input\n                  type=\"email\"\n                  className=\"form-control text-lowercase\"\n                  placeholder=\"Correo electonico\"\n                  onChange={({ target }) =>\n                    setState({ ...state, email: target.value.toLowerCase() })\n                  }\n                  onKeyPress={({ key }) =>\n                    handleKeyEnter(key, handleEmailEnter)\n                  }\n                  defaultValue={state.email}\n                  autoComplete=\"false\"\n                  ref={inputEmail}\n                  autoFocus={state.email ? false : true}\n                />\n                <div className=\"input-group-append\">\n                  <div className=\"input-group-text\">\n                    <span className=\"fas fa-user\"></span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mt-3 input-group\">\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Contrasea\"\n                  onChange={({ target }) =>\n                    setState({ ...state, password: target.value })\n                  }\n                  onKeyPress={({ key }) => handleKeyEnter(key, handleLogin)}\n                  defaultValue={state.password}\n                  autoComplete=\"false\"\n                  ref={inputPassword}\n                  autoFocus={\n                    state.email ? (state.password ? false : true) : false\n                  }\n                />\n                <div className=\"input-group-append\">\n                  <div className=\"input-group-text\">\n                    <span className=\"fas fa-lock\"></span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"my-3 col-12\">\n                  <a\n                    href=\"#tools\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      setState({ ...state, hostShow: !state.hostShow });\n                    }}\n                    className=\"text-muted\"\n                  >\n                    <i className=\"mx-1 fas fa-wifi\"></i> Servidor\n                  </a>\n                  {state.hostShow ? (\n                    <div className=\"mb-3 input-group\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Servidor\"\n                        autoComplete=\"off\"\n                        onChange={({ target }) =>\n                          setState({\n                            ...state,\n                            txtHost: target.value.toLowerCase(),\n                          })\n                        }\n                        defaultValue={state.txtHost}\n                        onKeyPress={({ key }) =>\n                          handleKeyEnter(key, handleChangeServer)\n                        }\n                      />\n                      <div className=\"input-group-append\">\n                        <div className=\"input-group-text\">\n                          <span className=\"fas fa-server\"></span>\n                        </div>\n                      </div>\n                    </div>\n                  ) : null}\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"text-center col-12\">\n                  <button\n                    type=\"button\"\n                    className={\n                      state.load\n                        ? \"btn btn-outline-secondary btn-block\"\n                        : \"btn btn-primary btn-block\"\n                    }\n                    onClick={handleLogin}\n                    disabled={state.load ? true : false}\n                  >\n                    {state.load ? (\n                      <div className=\"spinner-border text-secondary\">\n                        <span className=\"sr-only\">Loading...</span>\n                      </div>\n                    ) : (\n                      \"Iniciar session\"\n                    )}\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useContext } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/AuthContext\";\nimport RouterAuth from \"./RouterAuth\";\nimport RouterPortal from \"./RouterPortal\";\nimport NotFound from \"../components/404NotFound\";\nimport Login from \"../pages/Login\";\n\nexport default function Router() {\n  const { auth } = useContext(AuthContext);\n\n  return (\n    <Switch>\n      <Route path=\"/login\" render={() => <Login />} />\n      {auth?.isLogged ? <RouterAuth auth={auth} /> : <RouterPortal />}\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { BrowserRouter } from \"react-router-dom\";\n//import { Provider } from \"react-redux\";\n\n//import store from \"./redux/store\";\nimport AuthProvider from \"./context/AuthContext\";\nimport Router from \"./routers/Router\";\nimport { useEffect } from \"react\";\n\nexport default function App() {\n  const LS = localStorage.getItem(\"OrusSystem\");\n  const defaultStorage = {\n    protocol: window.location.protocol.replace(\":\", \"\"),\n    host: window.location.hostname,\n    port: window.location.port,\n  };\n  const storage = LS ? JSON.parse(LS) : defaultStorage;\n\n  useEffect(() => {\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(storage));\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>       \n        <Router />\n      </AuthProvider>\n    </BrowserRouter>\n  );\n\n  /* return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Provider store={store}>\n          <Router />\n        </Provider>\n      </AuthProvider>\n    </BrowserRouter>\n  ); */\n}\n","import { render } from \"react-dom\";\nimport App from \"./App\";\n\nrender(<App />, document.getElementById(\"root\"));\n","module.exports = {\n  dollarUS: Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  }),\n};\n"],"sourceRoot":""}