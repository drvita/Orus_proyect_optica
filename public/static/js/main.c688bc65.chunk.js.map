{"version":3,"sources":["components/Layouts/navtop.jsx","components/Layouts/menu.jsx","components/Layouts/breadcrumb.jsx","components/Layouts/footer.jsx","components/Layouts/headerTable.jsx","components/Layouts/pagination.jsx","components/Users/index_filter.jsx","components/Layouts/actionsTable.jsx","components/Users/index.jsx","components/Users/userNameInput.jsx","components/Users/userEmailInput.jsx","components/Users/add.jsx","components/Store/index_filter.jsx","components/Store/index.jsx","components/Store/add_lote.jsx","components/Store/add.jsx","components/Contacts/index_filter.jsx","components/Contacts/index.jsx","components/Contacts/mapa.jsx","components/Exam/graduacionExam.jsx","components/Exam/recomendaciones.jsx","components/Exam/listsExams.jsx","components/Contacts/nameInput.jsx","components/Contacts/emailInput.jsx","components/Contacts/add_personal.jsx","components/Contacts/add_domicilio.jsx","components/Contacts/add_telefonos.jsx","components/Contacts/add.jsx","components/Layouts/tools_category.jsx","components/Layouts/tools.jsx","components/Exam/index_filter.jsx","components/Exam/index.jsx","components/Contacts/searchContactCard.jsx","components/Exam/generalesExam.jsx","components/Exam/interrogatoriosExam.jsx","components/Exam/keraRetExam.jsx","components/Exam/diabetesExam.jsx","components/Exam/agudezaExam.jsx","components/Exam/diagnosticoExam.jsx","components/Exam/observacionesExam.jsx","components/Exam/add.jsx","components/Order/index_filter.jsx","components/Order/index.jsx","components/Order/itemsOrder.jsx","components/Order/labOrder.jsx","components/Order/statusOrder.jsx","components/Order/bicelacionOrder.jsx","components/Order/garantiaOrder.jsx","components/Layouts/messenger.jsx","components/Order/add.jsx","components/Sales/index_filter.jsx","components/Sales/index.jsx","components/Sales/abonoAdd.jsx","components/Sales/print_pay.jsx","components/Sales/abonos.jsx","components/Sales/print_sale.jsx","components/Sales/edoCuenta.jsx","components/Sales/add.jsx","components/Sales/salesOutStock.jsx","components/Dashboard/index.jsx","Routers.jsx","components/Layouts/login.jsx","index.js"],"names":["Navtop","className","data-widget","href","role","data-toggle","Component","Menu","changePage","e","props","page","handleLogOut","window","confirm","logOut","this","companyName","user","active","to","onClick","src","alt","style","opacity","name","username","rol","data-accordion","Fragment","Breadcrumb","state","date","moment","format","setInterval","console","log","setState","title","Footer","HeaderTable","handleOrder","item","data","order","orderby","actions","length","map","col","index","filter","scope","key","type","cursor","Pagination","handleChangePage","meta","pages","total","i","last_page","push","current_page","preventDefault","target","innerHTML","Filter","onKeyPressSearch","setFilters","onClickClean","changeFilters","$","modal","value","search","data-target","tabIndex","id","data-dismiss","aria-label","aria-hidden","placeholder","onChange","onKeyPress","ActionsTable","handleDelete","delete","edit","Users","load","conf","toUpperCase","host","token","fetch","method","signal","headers","Accept","Authorization","then","res","ok","alert","error","json","message","getUsers","catch","url","users","sdd","JSON","parse","localStorage","getItem","controller","AbortController","abort","locale","setItem","stringify","colSpan","Object","keys","email","session","last_activity","fromNow","updated_at","created_at","UserName","handleChange","x","replace","toLowerCase","test","validUser","bgColor","validate","text","varLocalStorage","timeFetch","clearTimeout","setTimeout","searchUser","autoComplete","autoFocus","required","minLength","maxLength","pattern","validEmail","UserAdd","catchInputs","handleSave","validUserName","validUserEmail","password","body","history","goBack","getUser","match","params","send","onSubmit","disabled","ip_address","user_agent","user_data","Store","onchangeSearch","getItems","items","codigo","marca","producto","unidad","cantidades","precio","categoria","ordenar","buscar","pagina","StoreLote","tr","parentNode","classList","add","deleteColor","clearInterval","remove","status","loteNew","handelGetLots","refresh","statusText","bill","cost","price","amount","lote","handleNewLote","bind","width","lot","factura","costo","validInputs","store_items_id","StoreAdd","getCategory","cat","category_list","code","codebar","brand","unit","cant","category_id","c_barra","grad","list","depende_de","business","Contacts","getContacts","contacts","contact","nombre","rfc","tipo","telefonos","domicilio","f_nacimiento","negocio","Mapa","eventLoadMap","request","query","calle","colonia","municipio","estado","cp","fields","service","google","maps","places","PlacesService","findPlaceFromQuery","results","markers","setMap","place","marker","Marker","position","geometry","location","formatted_address","addListener","address","split","changeAddress","trim","setCenter","googlePlaceAPILoad1","mapCenter","LatLng","Map","document","getElementById","center","zoom","height","GraduacionExam","checked","onChangeInput","min","max","step","readOnly","esferaod","cilindrod","ejeod","adiciond","dpod","alturaod","esferaoi","cilindroi","ejeoi","adicioni","dpoi","alturaoi","lcmarca","lcgod","lcgoi","Recomendaciones","handleClickCategory","category_id_2","category_id_3","category_list_2","category_list_3","handleCategoryChange","hijos","getCategories","category","update","ListsExams","handleChangeInput","ChangeInput","handleClickDeleteExam","handleClickSelect","exam","handleNewOrder","contact_id","paciente","exam_id","getExams","handleNewExam","edad","select","utc","local","row","Date","isSame","NameInput","eraseTilde","string","RegExp","stringOk","contacto","validName","EmailInput","emailOriginal","emailContact","AddPersonal","birthday","AddDomicilio","AddTelefonos","t_casa","t_oficina","t_movil","verify","ContactsAdd","telnumbers","empresa","timeSave","ToolsCategory","category_select","category_hijos","category_hijos_3","handleClickDelete","newItem","handleClickSave","nameInput","focus","handleClickAdd","padre","ref","input","clickSave","company","server","clickSaveUser","Exam","handleFilter","exams","fecha","searchContact","getContact","dataContact","handleClickChange","getIdContact","handleClickContact","word","handleSearcContact","contactInput","GeneralesExam","aria-expanded","aria-controls","aria-labelledby","data-parent","pc","pc_time","tablet","tablet_time","movil","movil_time","lap","lap_time","frontal","occipital","generality","cefalea","temporaoi","temporaod","c_frecuencia","c_intensidad","InterrogatorioExam","interrogatorio","coa","rows","aopp","aopf","KeraRetExam","keratometriaoi","keratometriaod","rsod","rsoi","DiabetesExam","d_time","d_media","d_test","d_fclod","d_fclod_time","d_fcloi","d_fcloi_time","oftalmoscopia","AgudezaExam","cvod","cvoi","avslod","avsloi","avcgaod","avcgaoi","avfod","avfoi","avf2o","DiagnosticoExam","diagnostico","presbicie","piod","pioi","txoftalmico","ObservacionesExam","observaciones","ExamAdd","handleStatus","getExam","pantalleooi","pantalleood","temporal","txoptico","setStatusString","getPedidos","pedidos","pedido","caja","laboratorio","folio_lab","examen","nota","Items","handelClickItemDb","subtotal","cantidad","inStorage","out","itemsDb","deleteItem","splice","addItem","find","itemNew","handleNewItem","inputItem","inputCant","db","toFixed","labOrder","changeInput","supplies","lab_id","s","npedidolab","statusOrder","htmlFor","bicelacionOrder","ncaja","garantiaOrder","messenger","getMessengers","table","idRow","messages","idUser","created_user","mensaje","action","OrderAdd","mensajes","usuario","created","getOrder","productos","Math","random","toString","substring","now","cliente","descuento","pagado","AddAbono","handlePay","saleId","contactId","metodopago","banco","auth","onChangeValue","pay","printPay","client","ListAbonos","print","content","pri","contentWindow","open","write","close","getPayments","SetMethodPayment","sale","abonos","abono","metodo","Autorizacion","aria-disabled","folio","printSale","saldo","abonado","totalItems","textAlign","edoCuenta","SaleAdd","order_id","getSales","SalesOutStock","getStockOut","stock","faltante","Dashboard","Routers","verifyUser","isLogged","handlePage","handleTitleSection","pathname","locations","dir","path","render","extric","Main","pressEnter","hostShow","changeState","showTools","handleLogin","loginFunction","errors","App","login","storage","hostname"],"mappings":"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","file":"static/js/main.c688bc65.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nexport default class Navtop extends Component {\r\n  render() {\r\n    return (\r\n      <nav className=\"main-header navbar navbar-expand navbar-dark navbar-lightblue\">\r\n        <ul className=\"navbar-nav\">\r\n          <li className=\"nav-item\">\r\n            <a\r\n              className=\"nav-link\"\r\n              data-widget=\"pushmenu\"\r\n              href=\"#end\"\r\n              role=\"button\"\r\n            >\r\n              <i className=\"fas fa-bars\"></i>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n        <ul className=\"navbar-nav ml-auto\">\r\n          <li className=\"nav-item dropdown\">\r\n            <a href=\"#end\" className=\"nav-link\" data-toggle=\"dropdown\">\r\n              <i className=\"far fa-comments\"></i>\r\n              <span className=\"badge badge-danger navbar-badge\">0</span>\r\n            </a>\r\n            <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\r\n              <a href=\"#end\" className=\"dropdown-item\">\r\n                <div className=\"media\">\r\n                  <div className=\"media-body\">\r\n                    <h3 className=\"dropdown-item-title\">\r\n                      Brad Diesel\r\n                      <span className=\"float-right text-sm text-danger\">\r\n                        <i className=\"fas fa-star\"></i>\r\n                      </span>\r\n                    </h3>\r\n                    <p className=\"text-sm\">Call me whenever you can...</p>\r\n                    <p className=\"text-sm text-muted\">\r\n                      <i className=\"far fa-clock mr-1\"></i> 4 Hours Ago\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </a>\r\n              <div className=\"dropdown-divider\"></div>\r\n              <a href=\"#end\" className=\"dropdown-item dropdown-footer\">\r\n                See All Messages\r\n              </a>\r\n            </div>\r\n          </li>\r\n          <li className=\"nav-item dropdown\">\r\n            <a className=\"nav-link\" data-toggle=\"dropdown\" href=\"#end\">\r\n              <i className=\"far fa-bell\"></i>\r\n              <span className=\"badge badge-warning navbar-badge\">0</span>\r\n            </a>\r\n            <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\r\n              <span className=\"dropdown-header\">15 Notifications</span>\r\n              <div className=\"dropdown-divider\"></div>\r\n              <a href=\"#end\" className=\"dropdown-item\">\r\n                <i className=\"fas fa-file mr-2\"></i> 3 new reports\r\n                <span className=\"float-right text-muted text-sm\">2 days</span>\r\n              </a>\r\n              <div className=\"dropdown-divider\"></div>\r\n              <a href=\"#end\" className=\"dropdown-item dropdown-footer\">\r\n                See All Notifications\r\n              </a>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Menu extends Component {\r\n  render() {\r\n    let { companyName, user, active } = this.props;\r\n\r\n    return (\r\n      <aside className=\"main-sidebar sidebar-dark-primary elevation-4\">\r\n        <Link\r\n          to=\"/\"\r\n          className=\"brand-link\"\r\n          onClick={(e) => {\r\n            this.changePage(\"/\");\r\n          }}\r\n        >\r\n          <img\r\n            src=\"/img/AdminLTELogo.png\"\r\n            alt={companyName + \" logo\"}\r\n            className=\"brand-image img-circle elevation-3\"\r\n            style={{ opacity: 0.8 }}\r\n          />\r\n          <span className=\"brand-text font-weight-light text-uppercase\">\r\n            {companyName}\r\n          </span>\r\n        </Link>\r\n        <div className=\"sidebar\">\r\n          <div className=\"user-panel mt-3 pb-3 mb-3 d-flex\">\r\n            <div className=\"image\">\r\n              <img\r\n                src=\"/img/avatar5.png\"\r\n                className=\"img-circle elevation-2\"\r\n                alt={user.name}\r\n              />\r\n            </div>\r\n            <div className=\"info\">\r\n              <a href=\"#end\" className=\"d-block text-capitalize\">\r\n                {user.name}{\" \"}\r\n                <small className=\"text-lowercase\">({user.username})</small>\r\n                <br />\r\n                <span className=\"badge badge-light\">\r\n                  {user.rol > 0\r\n                    ? user.rol === 1\r\n                      ? \"Ventas\"\r\n                      : \"Optometrista\"\r\n                    : \"Administrador\"}\r\n                </span>\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <nav className=\"mt-2\">\r\n            <ul\r\n              className=\"nav nav-pills nav-sidebar flex-column\"\r\n              data-widget=\"treeview\"\r\n              role=\"menu\"\r\n              data-accordion=\"false\"\r\n            >\r\n              <li className=\"nav-item has-treeview\">\r\n                <Link\r\n                  to=\"/\"\r\n                  className={\r\n                    active === \"dashboard\" ? \"nav-link active\" : \"nav-link\"\r\n                  }\r\n                  onClick={(e) => {\r\n                    this.changePage(\"/\");\r\n                  }}\r\n                >\r\n                  <i className=\"nav-icon fas fa-tachometer-alt\"></i>\r\n                  <p>\r\n                    Dashboard\r\n                    <i className=\"right fas fa-angle-left\"></i>\r\n                  </p>\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item has-treeview\">\r\n                <Link\r\n                  to=\"/contactos\"\r\n                  className={\r\n                    active === \"contactos\" ? \"nav-link active\" : \"nav-link\"\r\n                  }\r\n                  onClick={(e) => {\r\n                    this.changePage(\"/contactos\");\r\n                  }}\r\n                >\r\n                  <i className=\"nav-icon fas fa-address-book\"></i>\r\n                  <p>\r\n                    Contactos\r\n                    <i className=\"right fas fa-angle-left\"></i>\r\n                  </p>\r\n                </Link>\r\n              </li>\r\n              {user.rol === 2 || !user.rol ? (\r\n                <li className=\"nav-item has-treeview\">\r\n                  <Link\r\n                    to=\"/consultorio\"\r\n                    className={\r\n                      active === \"consultorio\" ? \"nav-link active\" : \"nav-link\"\r\n                    }\r\n                    onClick={(e) => {\r\n                      this.changePage(\"/consultorio\");\r\n                    }}\r\n                  >\r\n                    <i className=\"nav-icon fas fa-notes-medical\"></i>\r\n                    <p>\r\n                      Consultorio\r\n                      <i className=\"right fas fa-angle-left\"></i>\r\n                    </p>\r\n                  </Link>\r\n                </li>\r\n              ) : null}\r\n\r\n              {user.rol <= 1 ? (\r\n                <li className=\"nav-item has-treeview\">\r\n                  <Link\r\n                    to=\"/pedidos\"\r\n                    className={\r\n                      active === \"pedidos\" ? \"nav-link active\" : \"nav-link\"\r\n                    }\r\n                    onClick={(e) => {\r\n                      this.changePage(\"/pedidos\");\r\n                    }}\r\n                  >\r\n                    <i className=\"nav-icon fas fa-clipboard-list\"></i>\r\n                    <p>\r\n                      Pedidos\r\n                      <i className=\"right fas fa-angle-left\"></i>\r\n                    </p>\r\n                  </Link>\r\n                </li>\r\n              ) : null}\r\n\r\n              {user.rol <= 1 ? (\r\n                <li className=\"nav-item has-treeview\">\r\n                  <Link\r\n                    to=\"/notas\"\r\n                    className={\r\n                      active === \"notas\" ? \"nav-link active\" : \"nav-link\"\r\n                    }\r\n                    onClick={(e) => {\r\n                      this.changePage(\"/Ventas\");\r\n                    }}\r\n                  >\r\n                    <i className=\"nav-icon fas fa-cash-register\"></i>\r\n                    <p>\r\n                      Ventas\r\n                      <i className=\"right fas fa-angle-left\"></i>\r\n                    </p>\r\n                  </Link>\r\n                </li>\r\n              ) : null}\r\n\r\n              {!user.rol ? (\r\n                <React.Fragment>\r\n                  <li className=\"nav-item has-treeview\">\r\n                    <Link\r\n                      to=\"/almacen\"\r\n                      className={\r\n                        active === \"almacen\" ? \"nav-link active\" : \"nav-link\"\r\n                      }\r\n                      onClick={(e) => {\r\n                        this.changePage(\"/almacen\");\r\n                      }}\r\n                    >\r\n                      <i className=\"nav-icon fas fa-database\"></i>\r\n                      <p>\r\n                        Almacen\r\n                        <i className=\"right fas fa-angle-left\"></i>\r\n                      </p>\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"nav-item has-treeview\">\r\n                    <Link\r\n                      to=\"/usuarios\"\r\n                      className={\r\n                        active === \"usuarios\" ? \"nav-link active\" : \"nav-link\"\r\n                      }\r\n                      onClick={(e) => {\r\n                        this.changePage(\"/usuarios\");\r\n                      }}\r\n                    >\r\n                      <i className=\"nav-icon fas fa-user\"></i>\r\n                      <p>\r\n                        Usuarios\r\n                        <i className=\"right fas fa-angle-left\"></i>\r\n                      </p>\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"nav-item has-treeview\">\r\n                    <Link\r\n                      to=\"/configuraciones\"\r\n                      className={\r\n                        active === \"configuraciones\"\r\n                          ? \"nav-link active\"\r\n                          : \"nav-link\"\r\n                      }\r\n                      onClick={(e) => {\r\n                        this.changePage(\"/configuraciones\");\r\n                      }}\r\n                    >\r\n                      <i className=\"nav-icon fas fa-tools\"></i>\r\n                      <p>\r\n                        Configuraciones\r\n                        <i className=\"right fas fa-angle-left\"></i>\r\n                      </p>\r\n                    </Link>\r\n                  </li>\r\n                </React.Fragment>\r\n              ) : null}\r\n\r\n              <li className=\"nav-item has-treeview\">\r\n                <Link to=\"/\" className=\"nav-link\" onClick={this.handleLogOut}>\r\n                  <i className=\"nav-icon fas fa-sign-out-alt\"></i>\r\n                  <p>Cerrar sesion</p>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      </aside>\r\n    );\r\n  }\r\n\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n\r\n  handleLogOut = () => {\r\n    let conf = window.confirm(\"¿Confirma cerrar la sesion?\");\r\n\r\n    if (conf) {\r\n      this.props.logOut();\r\n      this.changePage(\"/\");\r\n    }\r\n  };\r\n}\r\n\r\nexport default Menu;\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\n\r\nexport default class Breadcrumb extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      date: moment().format(\"LLLL\"),\r\n    };\r\n    setInterval(() => {\r\n      console.log(\"Actualizando hora de sistema\");\r\n      this.setState({\r\n        date: moment().format(\"LLLL\"),\r\n      });\r\n    }, 60000);\r\n  }\r\n  render() {\r\n    const { title } = this.props;\r\n    return (\r\n      <div className=\"content-header\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div className=\"col-6\">\r\n              <h1 className=\"m-0 text-dark text-capitalize\">{title}</h1>\r\n            </div>\r\n            <div className=\"col\">\r\n              <h6 className=\"text-dark text-right\">{this.state.date}</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <footer className=\"main-footer d-print-none\">\r\n        <div className=\"float-right d-none d-sm-inline\">V2.0</div>\r\n        <strong>\r\n          Copyright &copy; 2015-2020 <a href=\"#end\">Orus</a>.\r\n        </strong>{\" \"}\r\n        Todos los derechos reservados.\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class HeaderTable extends Component {\r\n  render() {\r\n    let { data, order, orderby, actions } = this.props;\r\n\r\n    if (data.length) {\r\n      return (\r\n        <thead className=\"thead-light\">\r\n          <tr>\r\n            {data.map((col, index) => {\r\n              if (col.filter) {\r\n                return (\r\n                  <th\r\n                    scope=\"col\"\r\n                    key={index}\r\n                    onClick={() => {\r\n                      this.handleOrder(col.type);\r\n                    }}\r\n                    style={{\r\n                      cursor: order === \"desc\" ? \"n-resize\" : \"s-resize\",\r\n                    }}\r\n                  >\r\n                    {col.name}\r\n                    {orderby === col.type ? (\r\n                      <span className=\"ml-2\">\r\n                        <i className=\"fas fa-sort text-primary\"></i>\r\n                      </span>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </th>\r\n                );\r\n              } else {\r\n                return (\r\n                  <th scope=\"col\" key={index}>\r\n                    {col.name}\r\n                  </th>\r\n                );\r\n              }\r\n            })}\r\n            {actions ? <th className=\"text-center\">Acciones</th> : \"\"}\r\n          </tr>\r\n        </thead>\r\n      );\r\n    } else {\r\n      return (\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">\r\n              No hay datos de columnas\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n      );\r\n    }\r\n  }\r\n\r\n  handleOrder = (item) => {\r\n    this.props.handleOrder(item);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Pagination extends Component {\r\n  render() {\r\n    let { meta } = this.props,\r\n      pages = [];\r\n    if (meta.total > 10) {\r\n      for (var i = 1; i <= meta.last_page; i++) {\r\n        pages.push(\r\n          <li\r\n            key={i}\r\n            className={\r\n              meta.current_page === i ? \"page-item disabled\" : \"page-item\"\r\n            }\r\n          >\r\n            <a\r\n              href={\"#page\" + i}\r\n              className={\r\n                meta.current_page === i\r\n                  ? \"page-link text-dark\"\r\n                  : \"page-link text-primary\"\r\n              }\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                this.handleChangePage(e.target.innerHTML * 1);\r\n              }}\r\n            >\r\n              {i}\r\n            </a>\r\n          </li>\r\n        );\r\n      }\r\n    }\r\n\r\n    if (meta.total > 10) {\r\n      return (\r\n        <div className=\"btn-group\">\r\n          <ul className=\"pagination pagination-sm\">{pages}</ul>\r\n        </div>\r\n      );\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  handleChangePage = (page) => {\r\n    this.props.handleChangePage(page);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Filter extends Component {\r\n  render() {\r\n    const { search, rol } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"btn-group\">\r\n          <a\r\n            href=\"#Filters\"\r\n            className=\"btn btn-tool text-dark\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#filters\"\r\n          >\r\n            <i className=\"fas fa-filter\"></i>\r\n          </a>\r\n        </div>\r\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Busquedas</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n\r\n              <form className=\"modal-body\">\r\n                <div className=\"input-group mb-3\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por: nombre, usuario o email\"\r\n                    value={search}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Rol</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-address-book\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"rol\"\r\n                    value={rol}\r\n                    onChange={this.changeFilters}\r\n                  >\r\n                    <option value=\"\">Todos</option>\r\n                    <option value=\"0\">Administrador</option>\r\n                    <option value=\"1\">Ventas</option>\r\n                    <option value=\"2\">Optometrista</option>\r\n                  </select>\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"modal-footer\">\r\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-window-close mr-2\"></i>\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={\r\n                      this.props.search || this.props.rol\r\n                        ? \"btn btn-outline-dark\"\r\n                        : \"btn btn-outline-dark disabled\"\r\n                    }\r\n                    onClick={this.onClickClean}\r\n                  >\r\n                    <i className=\"fas fa-eraser mr-2\"></i>\r\n                    Limpiar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    onClick={this.setFilters}\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-search mr-2\"></i>\r\n                    Buscar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  onKeyPressSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      this.setFilters();\r\n    }\r\n  };\r\n  onClickClean = () => {\r\n    this.props.changeFilters(\"search\", \"\");\r\n    this.props.changeFilters(\"rol\", \"\");\r\n    this.setFilters();\r\n  };\r\n  setFilters = () => {\r\n    this.props.handleChangePage(1);\r\n    window.$(\"#filters\").modal(\"hide\");\r\n  };\r\n  changeFilters = (e) => {\r\n    const { name, value } = e.target;\r\n    this.props.changeFilters(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class ActionsTable extends Component {\r\n  render() {\r\n    const { item, edit, id } = this.props;\r\n    return (\r\n      <td className=\"text-right\">\r\n        {this.props.delete ? (\r\n          <a\r\n            className=\"btn-flat text-dark mr-4\"\r\n            href=\"#delete\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              this.handleDelete(id, item);\r\n            }}\r\n          >\r\n            <i className=\"fas fa-trash\"></i>\r\n          </a>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {edit ? (\r\n          <Link className=\"btn-flat text-dark\" to={edit + id}>\r\n            <i className=\"fas fa-pencil-alt\"></i>\r\n          </Link>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </td>\r\n    );\r\n  }\r\n\r\n  handleDelete = (id, item) => {\r\n    this.props.delete(id, item);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport Header from \"../Layouts/headerTable\";\r\nimport Pagination from \"../Layouts/pagination\";\r\nimport Filters from \"./index_filter\";\r\nimport Actions from \"../Layouts/actionsTable\";\r\n\r\nexport default class Users extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let sdd = JSON.parse(localStorage.getItem(\"OrusUsers\"));\r\n    this.state = {\r\n      users: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      load: true,\r\n      page: sdd ? sdd.page : 1,\r\n      orderby: sdd ? sdd.orderby : \"created_at\",\r\n      order: sdd ? sdd.order : \"asc\",\r\n      search: sdd ? sdd.search : \"\",\r\n      rol: sdd ? sdd.rol : \"\",\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getUsers();\r\n    moment.locale(\"es\");\r\n    localStorage.setItem(\r\n      \"OrusUsers\",\r\n      JSON.stringify({\r\n        page: this.state.page,\r\n        orderby: this.state.orderby,\r\n        order: this.state.order,\r\n        search: this.state.search,\r\n        rol: this.state.rol,\r\n      })\r\n    );\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.load === false && this.state.load === true) {\r\n      console.log(\"Recargando usuarios y almacenando configuracion\");\r\n      localStorage.setItem(\r\n        \"OrusUsers\",\r\n        JSON.stringify({\r\n          page: this.state.page,\r\n          orderby: this.state.orderby,\r\n          order: this.state.order,\r\n          search: this.state.search,\r\n          rol: this.state.rol,\r\n        })\r\n      );\r\n      this.getUsers();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { users, load } = this.state,\r\n      dataHeaders = [\r\n        { name: \"usuario\", type: \"username\", filter: true },\r\n        { name: \"nombre\", type: \"name\", filter: true },\r\n        { name: \"e-mail\", type: \"email\", filter: true },\r\n        { name: \"Rol\", type: \"rol\", filter: true },\r\n        { name: \"Actividad\", type: \"session\" },\r\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\r\n        { name: \"Registrado\", type: \"created_at\", filter: true },\r\n      ];\r\n\r\n    return (\r\n      <div className=\"card card-primary card-outline\">\r\n        <div className=\"card-header\">\r\n          <h2 className=\"card-title text-primary\">\r\n            <i className=\"fas fa-user mr-1\"></i>\r\n            Usuarios registrados\r\n          </h2>\r\n          <div className=\"card-tools\">\r\n            <Filters\r\n              search={this.state.search}\r\n              rol={this.state.rol}\r\n              changeFilters={this.changeFilters}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n            <Pagination\r\n              meta={users.meta}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-bordered table-hover table-nowrap\">\r\n            <Header\r\n              orderby={this.state.orderby}\r\n              order={this.state.order}\r\n              data={dataHeaders}\r\n              actions={true}\r\n              handleOrder={this.handleOrder}\r\n            />\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"9\" className=\"alert alert-light text-center p-4\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(users.data).length ? (\r\n                users.data.map((user) => {\r\n                  return (\r\n                    <tr key={user.id}>\r\n                      <th scope=\"row\">\r\n                        <span className=\"text-capitalize text-primary\">\r\n                          {user.username}\r\n                        </span>\r\n                      </th>\r\n                      <td>\r\n                        <Link to={\"/usuarios/registro/\" + user.id}>\r\n                          <span className=\"badge badge-primary text-capitalize p-1\">\r\n                            {user.name}\r\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\r\n                          </span>\r\n                        </Link>\r\n                      </td>\r\n                      <td>{user.email}</td>\r\n                      <td>\r\n                        {user.rol > 0 ? (\r\n                          user.rol === 1 ? (\r\n                            <span className=\"text-capitalize text-success\">\r\n                              <i className=\"fas fa-user-tag mr-2\"></i>\r\n                              Ventas\r\n                            </span>\r\n                          ) : (\r\n                            <span className=\"text-capitalize text-primary\">\r\n                              <i className=\"fas fa-user-tie mr-2\"></i>\r\n                              Optometrista\r\n                            </span>\r\n                          )\r\n                        ) : (\r\n                          <span className=\"text-capitalize text-danger\">\r\n                            <i className=\"fas fa-user-shield mr-2\"></i>\r\n                            Administrador\r\n                          </span>\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        {user.session\r\n                          ? moment(user.session.last_activity).fromNow()\r\n                          : \"--\"}\r\n                      </td>\r\n                      <td>{moment(user.updated_at).fromNow()}</td>\r\n                      <td className=\"text-right\">\r\n                        {moment(user.created_at).format(\"LL\")}\r\n                      </td>\r\n                      <Actions\r\n                        id={user.id}\r\n                        item={user.username}\r\n                        delete={this.handleDelete}\r\n                        edit={\"/usuarios/registro/\"}\r\n                      />\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"8\" className=\"alert alert-info text-center\">\r\n                    <i className=\"fas fa-info mr-2\"></i>\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <Link\r\n            to=\"/usuarios/registro\"\r\n            className=\"btn btn-outline-primary btn-lg\"\r\n          >\r\n            <i className=\"fas fa-plus mr-2\"></i>\r\n            Nuevo usuario\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changeFilters = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleOrder = (item) => {\r\n    this.setState({\r\n      orderby: item,\r\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\r\n      load: true,\r\n    });\r\n  };\r\n  handleChangePage = (page) => {\r\n    this.setState({\r\n      page,\r\n      load: true,\r\n    });\r\n  };\r\n  handleDelete = (id, item) => {\r\n    let conf = window.confirm(\r\n        \"¿Esta seguro de eliminar el usuario: \" + item.toUpperCase() + \"?\"\r\n      ),\r\n      { host, token } = this.state;\r\n\r\n    if (conf && id) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n      fetch(\"http://\" + host + \"/api/users/\" + id, {\r\n        method: \"DELETE\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            console.log(\"Usuario eliminado\");\r\n            this.getUsers();\r\n            window.alert(\"Usuario eliminado con exito\");\r\n          } else {\r\n            console.error(\"Error al eliminar el usuario\", data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n  getUsers = () => {\r\n    let { host, token, load } = this.state,\r\n      url = \"http://\" + host + \"/api/users\",\r\n      orderby = `&orderby=${this.state.orderby}&order=${this.state.order}`,\r\n      search = this.state.search ? `&search=${this.state.search}` : \"\",\r\n      rol = this.state.rol.length > 0 ? `&rol=${this.state.rol}` : \"\",\r\n      page = this.state.page > 0 ? \"?page=\" + this.state.page : \"?page=1\";\r\n\r\n    //Mandamos señal de carga si no lo he hecho\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n    //Realiza la peticion de los usuarios\r\n    console.log(\"Descargando usuarios de API\");\r\n    fetch(url + page + orderby + search + rol, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          console.error(res);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (!data.message) {\r\n          console.log(\"Almacenando usuarios\");\r\n          this.setState({\r\n            users: data,\r\n            load: false,\r\n          });\r\n        } else {\r\n          console.error(\"Error en la descarga de usuarios\", data.message);\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class UserName extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bgColor: \"bg-blue\",\r\n      validate: \"\",\r\n      text: \"Debe de tener al menos 4 caracteres.\",\r\n      searchUser: false,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n    this.timeFetch = null;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n\r\n  render() {\r\n    let { col, username } = this.props;\r\n    let { bgColor, validate, text, searchUser } = this.state;\r\n\r\n    return (\r\n      <div className={\"col-\" + col}>\r\n        {username.length ? (\r\n          <small>\r\n            <label>Usuario</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className={\"input-group-text \" + bgColor}>\r\n              {searchUser ? (\r\n                <i className=\"fas fa-spinner\"></i>\r\n              ) : (\r\n                <i className=\"fas fa-user-check\"></i>\r\n              )}\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className={\"form-control\" + validate}\r\n            placeholder=\"Usuario\"\r\n            name=\"username\"\r\n            autoComplete=\"off\"\r\n            autoFocus=\"autofocus\"\r\n            value={username}\r\n            onChange={this.handleChange}\r\n            required=\"required\"\r\n            minLength=\"4\"\r\n            maxLength=\"16\"\r\n            pattern=\"^[\\w]{4,16}$\"\r\n          />\r\n        </div>\r\n        {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { value } = e.target;\r\n    let regex = /^[\\w]{4,16}$/,\r\n      x = {\r\n        target: {\r\n          name: \"validUserName\",\r\n          value: \"\",\r\n        },\r\n      };\r\n    e.target.value = value.replace(/ /g, \"\").toLowerCase();\r\n\r\n    if (regex.test(value)) {\r\n      this.validUser(e.target.value, x);\r\n    } else {\r\n      if (value.length > 4) {\r\n        this.setState({\r\n          bgColor: \"bg-red\",\r\n          validate: \" border border-danger\",\r\n          text: \"No tiene el formato de usuario\",\r\n        });\r\n        x.target.value = false;\r\n        this.props.onChange(x);\r\n      } else if (!value.length) {\r\n        this.setState({\r\n          bgColor: \"bg-blue\",\r\n          validate: \" border border-danger\",\r\n          text: \"Debe de tener de 4 a 16 caracteres alfanumericos.\",\r\n        });\r\n        x.target.value = false;\r\n        this.props.onChange(x);\r\n      }\r\n    }\r\n    this.props.onChange(e);\r\n  };\r\n  validUser = (name, x) => {\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      url = \"http://\" + varLocalStorage.host + \"/api/users\",\r\n      username = \"?username=\" + name;\r\n\r\n    if (this.timeFetch) clearTimeout(this.timeFetch);\r\n    this.timeFetch = setTimeout(() => {\r\n      //Realiza la peticion de los usuarios\r\n      this.setState({\r\n        searchUser: true,\r\n      });\r\n      fetch(url + username, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            if (\r\n              data.data.length &&\r\n              data.data[0].username.toLowerCase() === name\r\n            ) {\r\n              this.setState({\r\n                bgColor: \"bg-red\",\r\n                validate: \" border border-danger\",\r\n                text: \"El usuario ya esta registrado.\",\r\n                searchUser: false,\r\n              });\r\n              x.target.value = false;\r\n              this.props.onChange(x);\r\n            } else {\r\n              this.setState({\r\n                bgColor: \"bg-blue\",\r\n                validate: \"\",\r\n                searchUser: false,\r\n              });\r\n              x.target.value = true;\r\n              this.props.onChange(x);\r\n            }\r\n          } else {\r\n            console.error(\"Error en la descarga de usuarios\", data.message);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n        });\r\n    }, 1000);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class UserName extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bgColor: \"bg-blue\",\r\n      validate: \"\",\r\n      text: \"No tiene el formato de un email\",\r\n      searchUser: false,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n    this.timeFetch = null;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n\r\n  render() {\r\n    let { col, email } = this.props;\r\n    let { bgColor, validate, text } = this.state;\r\n\r\n    return (\r\n      <div className={\"col-\" + col}>\r\n        {email.length ? (\r\n          <small>\r\n            <label>Usuario</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className={\"input-group-text \" + bgColor}>\r\n              <i className=\"fas fa-at\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"email\"\r\n            className={\"form-control\" + validate}\r\n            placeholder=\"email\"\r\n            name=\"email\"\r\n            autoComplete=\"off\"\r\n            value={email}\r\n            onChange={this.handleChange}\r\n            required=\"required\"\r\n          />\r\n        </div>\r\n        {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { value } = e.target;\r\n    let regex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\r\n      x = {\r\n        target: {\r\n          name: \"validUserEmail\",\r\n          value: true,\r\n        },\r\n      };\r\n    e.target.value = value.replace(/\\s/g, \"\").toLowerCase();\r\n    if (regex.test(value)) {\r\n      this.validEmail(e.target.value, x);\r\n    } else {\r\n      if (value.length > 8) {\r\n        this.setState({\r\n          bgColor: \"bg-red\",\r\n          validate: \" border border-danger\",\r\n          text: \"No tiene el formato de un email\",\r\n        });\r\n        x.target.value = false;\r\n        this.props.onChange(x);\r\n      } else if (!value.length) {\r\n        this.setState({\r\n          bgColor: \"bg-blue\",\r\n          validate: \"\",\r\n          text: \"No tiene el formato de un email\",\r\n        });\r\n        x.target.value = false;\r\n        this.props.onChange(x);\r\n      }\r\n    }\r\n    this.props.onChange(e);\r\n  };\r\n  validEmail = (search, x) => {\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      url = \"http://\" + varLocalStorage.host + \"/api/users\",\r\n      email = \"?email=\" + search;\r\n\r\n    if (this.timeFetch) clearTimeout(this.timeFetch);\r\n    this.timeFetch = setTimeout(() => {\r\n      //Realiza la peticion de los usuarios\r\n      this.setState({\r\n        searchUser: true,\r\n      });\r\n      //Realiza la peticion de los usuarios\r\n      fetch(url + email, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            if (\r\n              data.data.length &&\r\n              data.data[0].email.toLowerCase() === search\r\n            ) {\r\n              this.setState({\r\n                bgColor: \"bg-red\",\r\n                validate: \" border border-danger\",\r\n                text: \"El email ya esta registrado.\",\r\n                searchUser: false,\r\n              });\r\n              x.target.value = false;\r\n              this.props.onChange(x);\r\n            } else {\r\n              this.setState({\r\n                bgColor: \"bg-blue\",\r\n                validate: \"\",\r\n                searchUser: false,\r\n              });\r\n              x.target.value = true;\r\n              this.props.onChange(x);\r\n            }\r\n          } else {\r\n            console.error(\"Error en la descarga de usuarios\", data.message);\r\n            this.setState({\r\n              bgColor: \"bg-red\",\r\n              validate: \" border border-danger\",\r\n              text: \"Error en la consulta\",\r\n              searchUser: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n        });\r\n    }, 1000);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport UserName from \"./userNameInput\";\r\nimport UserEmail from \"./userEmailInput\";\r\n\r\nexport default class UserAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: 0,\r\n      rol: 1,\r\n      username: \"\",\r\n      validUserName: false,\r\n      name: \"\",\r\n      email: \"\",\r\n      validUserEmail: false,\r\n      password: \"\",\r\n      updated_at: \"\",\r\n      created_at: \"\",\r\n      session: {},\r\n      load: false,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    let id = this.props.match.params.id;\r\n    if (id) {\r\n      this.getUser(id);\r\n      moment.locale(\"es\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let {\r\n        load,\r\n        id,\r\n        rol,\r\n        username,\r\n        name,\r\n        email,\r\n        password,\r\n        updated_at,\r\n        created_at,\r\n        session,\r\n        validUserName,\r\n        validUserEmail,\r\n      } = this.state,\r\n      send =\r\n        !load && validUserName && name.length && validUserEmail ? false : true;\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <form\r\n            className=\"card card-primary card-outline\"\r\n            onSubmit={this.handleSave}\r\n          >\r\n            <div className=\"card-header\">\r\n              <h1 className=\"card-title text-primary\">\r\n                <i className=\"fas fa-user mr-2\"></i>\r\n                {id ? \"Editar usuario\" : \"Registrar nuevo usuario\"}\r\n              </h1>\r\n            </div>\r\n            <div className=\"card-body was-validated\">\r\n              {load ? (\r\n                <div className=\"alert alert-light text-center p-4\">\r\n                  <div className=\"spinner-border text-primary\" role=\"status\">\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <React.Fragment>\r\n                  <div className=\"row mb-3\">\r\n                    <UserName\r\n                      username={username}\r\n                      col={6}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                    <div className=\"col-6\">\r\n                      {name.length ? (\r\n                        <small>\r\n                          <label>Nombre completo</label>\r\n                        </small>\r\n                      ) : (\r\n                        <br />\r\n                      )}\r\n                      <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text bg-blue\">\r\n                            <i className=\"fas fa-user-tag\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control text-capitalize\"\r\n                          placeholder=\"Nombre completo\"\r\n                          name=\"name\"\r\n                          autoComplete=\"off\"\r\n                          value={name}\r\n                          onChange={this.catchInputs}\r\n                          required=\"required\"\r\n                          minLength=\"8\"\r\n                          pattern=\"^[a-zA-Z]{2,20}[\\s]{1}[a-zA-Z]{2,20}.*\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                      {password.length || id ? (\r\n                        <small>\r\n                          <label>Contraseña</label>\r\n                          {id ? (\r\n                            \"\"\r\n                          ) : (\r\n                            <span className=\"ml-2\">\r\n                              De 8 a 16 caracteres, por lo menos una mayuscula,\r\n                              un numero y un caracter especial\r\n                            </span>\r\n                          )}\r\n                        </small>\r\n                      ) : (\r\n                        <br />\r\n                      )}\r\n                      <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text bg-blue\">\r\n                            <i className=\"fas fa-lock\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"password\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Contraseña\"\r\n                          name=\"password\"\r\n                          autoComplete=\"off\"\r\n                          value={password}\r\n                          onChange={this.catchInputs}\r\n                          required={id ? false : true}\r\n                          minLength=\"8\"\r\n                          maxLength=\"16\"\r\n                          pattern=\"^(?=.*[A-Z])(?=.*[!@#$&\\.*])(?=.*[0-9])(?=.*[a-z]).{8,16}$\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <UserEmail\r\n                      email={email}\r\n                      col={6}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                      <small>\r\n                        <label>Rol</label>\r\n                      </small>\r\n                      <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text bg-blue\">\r\n                            <i className=\"fas fa-id-card\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <select\r\n                          className=\"custom-select\"\r\n                          name=\"rol\"\r\n                          value={rol}\r\n                          onChange={this.catchInputs}\r\n                        >\r\n                          <option value=\"0\">Administrador</option>\r\n                          <option value=\"1\">Ventas</option>\r\n                          <option value=\"2\">Optometrista</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </React.Fragment>\r\n              )}\r\n            </div>\r\n            <div className=\"card-footer\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-12 text-right\">\r\n                  <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                    <Link\r\n                      to=\"/usuarios\"\r\n                      className=\"btn btn-dark\"\r\n                      onClick={this.changePage}\r\n                      id=\"/usuarios\"\r\n                    >\r\n                      <i className=\"fas fa-ban mr-1\"></i>\r\n                      Cancelar\r\n                    </Link>\r\n                    <button\r\n                      type=\"submit\"\r\n                      className={\r\n                        load ? \"btn btn-primary disabled\" : \"btn btn-primary\"\r\n                      }\r\n                      disabled={send ? true : false}\r\n                    >\r\n                      <i className=\"fas fa-save mr-1\"></i>\r\n                      Guardar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        {id ? (\r\n          <div className=\"col\">\r\n            <div className=\"card card-primary card-outline\">\r\n              <div className=\"card-header\">\r\n                <h3 className=\"card-title text-primary\">\r\n                  <i className=\"fas fa-database mr-2\"></i>\r\n                  Metadata\r\n                </h3>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                {session ? (\r\n                  <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                      <h6>Datos del usuario</h6>\r\n                      <div className=\"row\">\r\n                        <div className=\"col\">\r\n                          <span className=\"text-primary\">Registrado</span>\r\n                          <p>{moment(created_at).fromNow()}</p>\r\n                        </div>\r\n                        <div className=\"col\">\r\n                          <span className=\"text-primary\">\r\n                            Ultima actualizacion\r\n                          </span>\r\n                          <p>{moment(updated_at).fromNow()}</p>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <h6>Actividad</h6>\r\n                      <div className=\"row\">\r\n                        <div className=\"col\">\r\n                          <span className=\"text-primary\">IP</span>\r\n                          <p>{session.ip_address}</p>\r\n                        </div>\r\n                        <div className=\"col\">\r\n                          <span className=\"text-primary\">Ultima actividad</span>\r\n                          <p>{moment(session.last_activity).fromNow()}</p>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <span className=\"text-primary\">Navegador y OS</span>\r\n                      <p>{session.user_agent}</p>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <span className=\"text-primary\">Token</span>\r\n                      <p>{session.user_data}</p>\r\n                    </li>\r\n                  </ul>\r\n                ) : (\r\n                  <p>Usuario no ha registrado actividad.</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changePage = (e) => {\r\n    this.props.page(e.target.id);\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  handleSave = (e) => {\r\n    e.preventDefault();\r\n    let {\r\n      host,\r\n      token,\r\n      validUserName,\r\n      validUserEmail,\r\n      id,\r\n      name,\r\n      username,\r\n      rol,\r\n      password,\r\n      email,\r\n    } = this.state;\r\n    if (!validUserName) {\r\n      window.alert(\"El nombre de usuario ya esta en uso\");\r\n      return false;\r\n    }\r\n    if (!validUserEmail) {\r\n      window.alert(\"El correo ya esta en uso\");\r\n      return false;\r\n    }\r\n    //Maneja el boton de almacenar\r\n    if (window.confirm(\"¿Esta seguro de almacenar a este usuario?\")) {\r\n      //Creamos el body\r\n      let body = {\r\n        name,\r\n        username,\r\n        rol,\r\n        email,\r\n      };\r\n      //Identificamos la URL y el metodo segun sea el caso (Actualizar o agregar)\r\n      let url = id\r\n          ? \"http://\" + host + \"/api/users/\" + id\r\n          : \"http://\" + host + \"/api/users\",\r\n        method = id ? \"PUT\" : \"POST\";\r\n      //Agregamos el password si no esta vacio\r\n      if (password.length > 8) body.password = password;\r\n      //Actualiza el usuario o creamos el usuario\r\n      this.setState({\r\n        load: true,\r\n      });\r\n      fetch(url, {\r\n        method: method,\r\n        body: JSON.stringify(body),\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.log(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.data) {\r\n            console.log(\"Usuario almacenado\");\r\n            if (\r\n              window.confirm(\r\n                \"Usuario almacenado con exito!.\\n¿Desea cerrar este contacto?\"\r\n              )\r\n            ) {\r\n              this.props.history.goBack();\r\n            } else {\r\n              this.setState({\r\n                load: false,\r\n                id: data.data.id,\r\n              });\r\n            }\r\n          } else {\r\n            window.alert(\"Error al almacenar el usuario. Intentelo mas tarde\");\r\n            console.log(data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n  getUser = (id) => {\r\n    //Variables en localStorage\r\n    let { host, token } = this.state;\r\n    if (id > 0) {\r\n      //Realiza la peticion del usuario seun el id\r\n      this.setState({\r\n        load: true,\r\n      });\r\n      fetch(\"http://\" + host + \"/api/users/\" + id, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.log(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            console.log(\"Cargando datos de usuario\");\r\n            this.setState({\r\n              id: data.data.id,\r\n              rol: data.data.rol,\r\n              username: data.data.username,\r\n              name: data.data.name,\r\n              email: data.data.email,\r\n              updated_at: data.data.updated_at,\r\n              created_at: data.data.created_at,\r\n              session: data.data.session,\r\n              load: false,\r\n              validUserName: true,\r\n              validUserEmail: true,\r\n            });\r\n          } else {\r\n            console.error(\"Error al cargar el usuario\", data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Filter extends Component {\r\n  render() {\r\n    const { search } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"btn-group\">\r\n          <a\r\n            href=\"#Filters\"\r\n            className=\"btn btn-tool text-dark\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#filters\"\r\n          >\r\n            <i className=\"fas fa-filter\"></i>\r\n          </a>\r\n        </div>\r\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Busquedas</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n\r\n              <form className=\"modal-body\">\r\n                <div className=\"input-group mb-3\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por: codigo o producto\"\r\n                    value={search}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"modal-footer\">\r\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-window-close mr-2\"></i>\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={\r\n                      search\r\n                        ? \"btn btn-outline-dark\"\r\n                        : \"btn btn-outline-dark disabled\"\r\n                    }\r\n                    onClick={this.onClickClean}\r\n                  >\r\n                    <i className=\"fas fa-eraser mr-2\"></i>\r\n                    Limpiar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    onClick={this.setFilters}\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-search mr-2\"></i>\r\n                    Buscar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  onKeyPressSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      this.setFilters();\r\n    }\r\n  };\r\n  onClickClean = () => {\r\n    this.props.changeFilters(\"search\", \"\");\r\n    this.setFilters();\r\n  };\r\n  setFilters = () => {\r\n    this.props.handleChangePage(1);\r\n    window.$(\"#filters\").modal(\"hide\");\r\n  };\r\n  changeFilters = (e) => {\r\n    const { name, value } = e.target;\r\n    this.props.changeFilters(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport Header from \"../Layouts/headerTable\";\r\nimport Filter from \"./index_filter\";\r\nimport Pagination from \"../Layouts/pagination\";\r\nimport Actions from \"../Layouts/actionsTable\";\r\n\r\nexport default class Store extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let sdd = JSON.parse(localStorage.getItem(\"OrusStore\"));\r\n    this.state = {\r\n      items: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      load: true,\r\n      page: sdd ? sdd.page : 1,\r\n      orderby: sdd ? sdd.orderby : \"created_at\",\r\n      order: sdd ? sdd.order : \"asc\",\r\n      search: sdd ? sdd.search : \"\",\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getItems();\r\n    moment.locale(\"es\");\r\n    localStorage.setItem(\r\n      \"OrusContacts\",\r\n      JSON.stringify({\r\n        page: this.state.page,\r\n        orderby: this.state.orderby,\r\n        order: this.state.order,\r\n        search: this.state.search,\r\n      })\r\n    );\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.load === false && this.state.load === true) {\r\n      console.log(\"Recargando productos\");\r\n      this.getItems();\r\n      localStorage.setItem(\r\n        \"OrusContacts\",\r\n        JSON.stringify({\r\n          page: this.state.page,\r\n          orderby: this.state.orderby,\r\n          order: this.state.order,\r\n          search: this.state.search,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { items, load } = this.state,\r\n      dataHeaders = [\r\n        { name: \"Codigo\", type: \"code\", filter: true },\r\n        { name: \"Marca\", type: \"brand\", filter: true },\r\n        { name: \"Producto\", type: \"name\", filter: true },\r\n        { name: \"PS\" },\r\n        { name: \"UND\" },\r\n        { name: \"Precio\", type: \"price\", filter: true },\r\n        { name: \"Categoria\" },\r\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\r\n        { name: \"Registrado\", type: \"created_at\", filter: true },\r\n      ];\r\n\r\n    return (\r\n      <div className=\"card card-primary card-outline\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title text-primary\">\r\n            <i className=\"fas fa-database mr-1\"></i>\r\n            Productos en almacen\r\n          </h3>\r\n          <div className=\"card-tools\">\r\n            <Filter\r\n              search={this.state.search}\r\n              changeFilters={this.onchangeSearch}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n            <Pagination\r\n              meta={items.meta}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-bordered table-hover table-nowrap\">\r\n            <Header\r\n              orderby={this.state.orderby}\r\n              order={this.state.order}\r\n              data={dataHeaders}\r\n              actions={true}\r\n              handleOrder={this.handleOrder}\r\n            />\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"10\" className=\"text-center\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(items.data).length ? (\r\n                items.data.map((item) => {\r\n                  return (\r\n                    <tr key={item.id}>\r\n                      <td>\r\n                        <span className=\"text-primary\">{item.codigo}</span>\r\n                      </td>\r\n                      <td>{item.marca}</td>\r\n                      <td>\r\n                        <Link to={\"/almacen/registro/\" + item.id}>\r\n                          <span className=\"badge badge-primary text-capitalize p-1\">\r\n                            {item.producto}\r\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\r\n                          </span>\r\n                        </Link>\r\n                      </td>\r\n                      <td className=\"text-right\">{item.unidad}</td>\r\n                      <td>\r\n                        <span\r\n                          className={\r\n                            item.cantidades > 0 ? \"text-success\" : \"text-danger\"\r\n                          }\r\n                        >\r\n                          {item.cantidades > 0 ? item.cantidades : 0}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-right\">$ {item.precio}</td>\r\n                      <td>{item.categoria.categoria}</td>\r\n                      <td className=\"text-capitalize\">\r\n                        {moment(item.updated_at).fromNow()}\r\n                      </td>\r\n                      <td className=\"text-capitalize\">\r\n                        {moment(item.created_at).format(\"LL\")}\r\n                      </td>\r\n                      <Actions\r\n                        id={item.id}\r\n                        item={item.producto}\r\n                        delete={this.handleDelete}\r\n                        edit={\"/almacen/registro/\"}\r\n                      />\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"10\" className=\"text-center\">\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <Link\r\n            to=\"/almacen/registro\"\r\n            className=\"btn btn-outline-primary\"\r\n            onClick={this.changePage}\r\n            id=\"/almacen/registro\"\r\n          >\r\n            <i className=\"fas fa-plus mr-1\"></i>\r\n            Nuevo producto\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onchangeSearch = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleOrder = (item) => {\r\n    this.setState({\r\n      orderby: item,\r\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\r\n      load: true,\r\n    });\r\n  };\r\n  handleChangePage = (id) => {\r\n    this.setState({\r\n      page: id,\r\n      load: true,\r\n    });\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e.target.id);\r\n  };\r\n  handleDelete = (id, item) => {\r\n    let conf = window.confirm(\r\n        \"¿Esta seguro de eliminar el producto \" + item.toUpperCase() + \"?\"\r\n      ),\r\n      { host, token } = this.state;\r\n\r\n    if (conf && id) {\r\n      //Mandamos señal de eliminación\r\n      this.setState({\r\n        load: true,\r\n      });\r\n      //Inicio de proceso de eliminción por API\r\n      console.log(\"Solicitud de eliminación por API\");\r\n      fetch(\"http://\" + host + \"/api/store/\" + id, {\r\n        method: \"DELETE\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"El contacto no puede ser eliminado\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            console.log(\"Producto eliminado\");\r\n            this.getItems();\r\n            window.alert(\"Producto eliminado con exito\");\r\n          } else {\r\n            console.error(\"Error al eliminar el producto\", data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n  getItems() {\r\n    //Variables\r\n    let { orderby, order, search, page, host, token, load } = this.state,\r\n      url = \"http://\" + host + \"/api/store\",\r\n      ordenar = `&orderby=${orderby}&order=${order}`,\r\n      buscar = search ? `&search=${search}` : \"\",\r\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\";\r\n\r\n    //Verificamos datos\r\n\r\n    //Mandamos señal de carga si no lo he hecho\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n    //Realiza la peticion de los contactos\r\n    console.log(\"Descargando productos de API\");\r\n    fetch(url + pagina + ordenar + buscar, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          console.error(res);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (!data.message) {\r\n          console.log(\"Almacenando productos\");\r\n          this.setState({\r\n            items: data,\r\n            load: false,\r\n          });\r\n        } else {\r\n          console.error(\"Error en la descarga de productos\", data.message);\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nclass StoreLote extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: 0,\r\n      bill: \"\",\r\n      cost: 0,\r\n      price: this.props.price,\r\n      amount: 0,\r\n      lote: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      loteNew: false,\r\n      load: true,\r\n      page: 1,\r\n    };\r\n    this.handleNewLote = this.handleNewLote.bind(this);\r\n    this.handleSave = this.handleSave.bind(this);\r\n    this.catchInputs = this.catchInputs.bind(this);\r\n    this.handelGetLots = this.handelGetLots.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handelGetLots(this.state.page);\r\n  }\r\n\r\n  render() {\r\n    let { lote, load } = this.state,\r\n      pages = [];\r\n    if (this.state.lote.meta.total > 10) {\r\n      for (var i = 1; i <= this.state.lote.meta.last_page; i++) {\r\n        pages.push(\r\n          <li\r\n            key={i}\r\n            className={\r\n              this.state.lote.meta.current_page === i\r\n                ? \"page-item disabled\"\r\n                : \"page-item\"\r\n            }\r\n          >\r\n            <a\r\n              href=\"#e\"\r\n              id={i}\r\n              className=\"page-link\"\r\n              onClick={this.handleChangePage.bind(this)}\r\n            >\r\n              {i}\r\n            </a>\r\n          </li>\r\n        );\r\n      }\r\n    }\r\n    return (\r\n      <div className=\"card card-primary card-outline\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title text-primary\">\r\n            <i className=\"fas fa-list\"></i>\r\n            Listado de lotes\r\n          </h3>\r\n          <div className=\"card-tools\">\r\n            {this.state.lote.meta.total > 10 ? (\r\n              <div className=\"btn-group\">\r\n                <ul className=\"pagination pagination-sm\">{pages}</ul>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-hover table-nowrap\">\r\n            <thead>\r\n              <tr>\r\n                <th>Registrado</th>\r\n                <th style={{ width: 140 }}>Factura</th>\r\n                <th className=\"text-right\" style={{ width: 90 }}>\r\n                  Unidades\r\n                </th>\r\n                <th className=\"text-right\" style={{ width: 110 }}>\r\n                  Costo\r\n                </th>\r\n                <th className=\"text-right\" style={{ width: 110 }}>\r\n                  Precio\r\n                </th>\r\n                <th>Acciones</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"6\" className=\"text-center\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(lote.data).length ? (\r\n                lote.data.map((lot) => {\r\n                  return (\r\n                    <tr key={lot.id}>\r\n                      <td>{lot.created_at}</td>\r\n                      <td className=\"text-uppercase\">\r\n                        {lot.factura ? lot.factura : \"XXXX\"}\r\n                      </td>\r\n                      <td className=\"text-right\">{lot.cantidades}</td>\r\n                      <td className=\"text-right\">\r\n                        $ {lot.costo ? lot.costo : 0}\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        $ {lot.precio ? lot.precio : 0}\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        <a\r\n                          className=\"btn-flat text-dark\"\r\n                          href=\"#delete\"\r\n                          onClick={(e) => {\r\n                            this.handleDelete(e, lot.id);\r\n                          }}\r\n                        >\r\n                          <i className=\"fas fa-trash\"></i>\r\n                        </a>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"6\" className=\"text-center\">\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n              {this.state.loteNew ? (\r\n                <tr>\r\n                  <th>Nuevo</th>\r\n                  <td>\r\n                    <input\r\n                      className=\"form-control text-uppercase\"\r\n                      type=\"text\"\r\n                      name=\"bill\"\r\n                      value={this.state.bill}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    <input\r\n                      className=\"form-control text-right\"\r\n                      type=\"number\"\r\n                      name=\"amount\"\r\n                      value={this.state.amount}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    <input\r\n                      className=\"form-control text-right\"\r\n                      type=\"number\"\r\n                      name=\"cost\"\r\n                      value={this.state.cost}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    <input\r\n                      className=\"form-control text-right\"\r\n                      type=\"number\"\r\n                      name=\"price\"\r\n                      value={this.state.price}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                  </td>\r\n                  <td className=\"text-right\">\r\n                    <div className=\"btn-group\" role=\"group\">\r\n                      <button\r\n                        className=\"btn btn-outline-primary btn-sm\"\r\n                        onClick={this.handleSave}\r\n                      >\r\n                        <i className=\"fas fa-save\"></i>\r\n                      </button>\r\n                      <button\r\n                        className=\"btn btn-outline-dark btn-sm\"\r\n                        onClick={this.handleNewLote}\r\n                      >\r\n                        <i className=\"fas fa-undo\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                <tr></tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n              <div className=\"btn-group float-right\" role=\"group\">\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  onClick={this.handleNewLote}\r\n                >\r\n                  Nuevo lote\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChangePage(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      page: e.target.id,\r\n    });\r\n    this.handelGetLots(e.target.id);\r\n  }\r\n  handleNewLote() {\r\n    this.setState({\r\n      loteNew: !this.state.loteNew,\r\n    });\r\n  }\r\n  catchInputs(e) {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value.toLowerCase(),\r\n    });\r\n  }\r\n  validInputs() {\r\n    //Datos del formulario\r\n    let { bill, price, amount } = this.state;\r\n    if (!bill.length) {\r\n      bill = \"XXXX\";\r\n    }\r\n    if (!price) {\r\n      price = 1000;\r\n    }\r\n    if (!amount) {\r\n      window.alert(\"La cantidad de articulos no puede ser cero\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  handleSave(e) {\r\n    e.preventDefault();\r\n    //Validamos campos antes de almacenar\r\n    if (!this.validInputs()) {\r\n      return false;\r\n    }\r\n    //Maneja el boton de almacenar\r\n    let conf = window.confirm(\"¿Esta seguro de almacenar un nuevo lote?\");\r\n    if (conf) {\r\n      //Variables en localStorage\r\n      let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n      //Datos del formulario\r\n      let { id, bill, cost, price, amount } = this.state;\r\n      //Creamos el body\r\n      let body = {\r\n        bill,\r\n        cost,\r\n        price,\r\n        amount,\r\n        store_items_id: id,\r\n      };\r\n      //Creamos lote nuevo\r\n      fetch(\"http://\" + varLocalStorage.host + \"/api/items\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(body),\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.data) {\r\n            this.setState({\r\n              load: true,\r\n              loteNew: false,\r\n            });\r\n            this.handelGetLots(this.state.page);\r\n            this.props.refresh();\r\n          } else {\r\n            console.log(data.message);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    }\r\n  }\r\n  handelGetLots(page) {\r\n    //Variables\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      id = this.props.id,\r\n      url =\r\n        \"http://\" + varLocalStorage.host + \"/api/items?store_items_id=\" + id;\r\n    fetch(url + \"&page=\" + page, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + varLocalStorage.token,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(\"Descargando lotes\");\r\n        this.setState({\r\n          id,\r\n          lote: data,\r\n          load: false,\r\n        });\r\n      });\r\n  }\r\n  handleDelete = (e, id) => {\r\n    e.preventDefault();\r\n    const tr = e.target.parentNode.parentNode.parentNode;\r\n    tr.classList.add(\"bg-danger\");\r\n\r\n    let conf = window.confirm(\"¿Esta seguro de eliminar este lote?\"),\r\n      varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      deleteColor = setInterval(() => {\r\n        clearInterval(deleteColor);\r\n        tr.classList.remove(\"bg-danger\");\r\n      }, 6500);\r\n    if (conf && id) {\r\n      fetch(\"http://\" + varLocalStorage.host + \"/api/items/\" + id, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((data) => {\r\n          console.log(\"Eliminando lote\");\r\n          if (data.ok && data.status === 204) {\r\n            this.setState({\r\n              load: true,\r\n              loteNew: false,\r\n            });\r\n            this.handelGetLots(this.state.page);\r\n            this.props.refresh();\r\n          } else {\r\n            window.alert(data.statusText);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    }\r\n  };\r\n}\r\n\r\nexport default StoreLote;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport StoreLote from \"./add_lote\";\r\n\r\nexport default class StoreAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: 0,\r\n      code: \"\",\r\n      codebar: \"\",\r\n      grad: \"\",\r\n      brand: \"\",\r\n      name: \"\",\r\n      unit: \"PZ\",\r\n      cant: 1,\r\n      price: 1,\r\n      category_id: 1,\r\n      category_list: [],\r\n      load: false,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getItem();\r\n    this.getCategory();\r\n  }\r\n\r\n  render() {\r\n    let { load } = this.state;\r\n    return (\r\n      <div className=\"row\">\r\n        <div className={this.state.id ? \"col-5\" : \"col-6\"}>\r\n          <form\r\n            className=\"card card-primary card-outline\"\r\n            onSubmit={this.handleSave}\r\n          >\r\n            <div className=\"card-header\">\r\n              <h3 className=\"card-title text-primary\">\r\n                <i className=\"fas fa-database mr-1\"></i>\r\n                {this.state.id ? \"Editar producto\" : \"Registrar nuevo producto\"}\r\n              </h3>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              {load ? (\r\n                <div className=\"text-center\">\r\n                  <div className=\"spinner-border text-primary\" role=\"status\">\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <React.Fragment>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-5\">\r\n                      {this.state.code ? (\r\n                        <small>\r\n                          <label>Codigo</label>\r\n                        </small>\r\n                      ) : (\r\n                        <br />\r\n                      )}\r\n                      <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text\">\r\n                            <i className=\"fas fa-code\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control text-uppercase\"\r\n                          placeholder=\"Codigo\"\r\n                          name=\"code\"\r\n                          value={this.state.code}\r\n                          onChange={this.catchInputs}\r\n                          autoComplete=\"off\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-7\">\r\n                      {this.state.codebar ? (\r\n                        <small>\r\n                          <label>Codigo de barras</label>\r\n                        </small>\r\n                      ) : (\r\n                        <br />\r\n                      )}\r\n                      <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text\">\r\n                            <i className=\"fas fa-barcode\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Codigo de barras\"\r\n                          name=\"codebar\"\r\n                          value={this.state.codebar}\r\n                          onChange={this.catchInputs}\r\n                          autoComplete=\"off\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                      {this.state.name ? (\r\n                        <small>\r\n                          <label>Nombre del producto</label>\r\n                        </small>\r\n                      ) : (\r\n                        <br />\r\n                      )}\r\n                      <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text\">\r\n                            <i className=\"fas fa-archive\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Nombre del producto\"\r\n                          name=\"name\"\r\n                          value={this.state.name}\r\n                          onChange={this.catchInputs}\r\n                          autoComplete=\"off\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-10\">\r\n                      {this.state.brand ? (\r\n                        <small>\r\n                          <label>Marca</label>\r\n                        </small>\r\n                      ) : (\r\n                        <br />\r\n                      )}\r\n                      <div className=\"input-group mb-5\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text\">\r\n                            <i className=\"fas fa-copyright\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Marca\"\r\n                          name=\"brand\"\r\n                          value={this.state.brand}\r\n                          onChange={this.catchInputs}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                      {this.state.unit ? (\r\n                        <small>\r\n                          <label>Unidad de presentacion</label>\r\n                        </small>\r\n                      ) : (\r\n                        <br />\r\n                      )}\r\n                      <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text\">\r\n                            <i className=\"fas fa-balance-scale\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Unidad de presentación\"\r\n                          name=\"unit\"\r\n                          value={this.state.unit}\r\n                          onChange={this.catchInputs}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <small>\r\n                        <label>Cantidad en existencia</label>\r\n                      </small>\r\n                      <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text\">\r\n                            <i className=\"fas fa-database\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"number\"\r\n                          className=\"form-control text-right\"\r\n                          placeholder=\"Cantidades en existencia\"\r\n                          name=\"cant\"\r\n                          value={this.state.cant}\r\n                          onChange={this.catchInputs}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                      <small>\r\n                        <label>Precio</label>\r\n                      </small>\r\n                      <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text\">\r\n                            <i className=\"fas fa-money-bill\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"number\"\r\n                          className=\"form-control text-right\"\r\n                          placeholder=\"Precio\"\r\n                          name=\"price\"\r\n                          value={this.state.price}\r\n                          onChange={this.catchInputs}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                      <small>\r\n                        <label>Categoria</label>\r\n                      </small>\r\n                      <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text\">\r\n                            <i className=\"fas fa-sort-amount-down\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <select\r\n                          className=\"custom-select\"\r\n                          name=\"category_id\"\r\n                          value={this.state.category_id}\r\n                          onChange={this.catchInputs}\r\n                        >\r\n                          {this.state.category_list.map((list) => {\r\n                            if (list.depende_de === null) {\r\n                              return (\r\n                                <option value={list.id} key={list.id}>\r\n                                  {list.categoria}\r\n                                </option>\r\n                              );\r\n                            } else {\r\n                              return null;\r\n                            }\r\n                          })}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </React.Fragment>\r\n              )}\r\n            </div>\r\n            <div className=\"card-footer\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"btn-group float-right\" role=\"group\">\r\n                    <Link\r\n                      to=\"/almacen\"\r\n                      className=\"btn btn-dark\"\r\n                      onClick={(e) => {\r\n                        this.changePage(\"/almacen\");\r\n                      }}\r\n                    >\r\n                      <i className=\"fas fa-ban mr-1\"></i>\r\n                      Volver\r\n                    </Link>\r\n                    <button type=\"submit\" className=\"btn btn-primary\">\r\n                      <i className=\"fas fa-save mr-1\"></i>\r\n                      Guardar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        {this.state.id ? (\r\n          <div className=\"col\">\r\n            <StoreLote\r\n              id={this.state.id}\r\n              price={this.state.price}\r\n              refresh={this.getItem}\r\n            />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value.toLowerCase(),\r\n    });\r\n  };\r\n  getCategory = () => {\r\n    //Variables\r\n    let { host, token } = this.state;\r\n\r\n    console.log(\"solicitando categorias al API\");\r\n    fetch(\"http://\" + host + \"/api/categories\", {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          console.error(\"Error al solicitar categorias\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((cat) => {\r\n        if (cat.data) {\r\n          console.log(\"almacenando categorias\");\r\n          this.setState({\r\n            category_list: cat.data,\r\n          });\r\n        } else {\r\n          console.error(cat.message);\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n  handleSave = (e) => {\r\n    e.preventDefault();\r\n    //Maneja el boton de almacenar\r\n    let conf = window.confirm(\"¿Esta seguro de almacenar este producto?\");\r\n\r\n    if (conf) {\r\n      let {\r\n          id,\r\n          code,\r\n          codebar,\r\n          brand,\r\n          name,\r\n          unit,\r\n          cant,\r\n          price,\r\n          category_id,\r\n          token,\r\n          host,\r\n          load,\r\n        } = this.state,\r\n        body = {\r\n          code,\r\n          codebar,\r\n          brand,\r\n          name,\r\n          unit,\r\n          cant,\r\n          price,\r\n          category_id,\r\n        },\r\n        url = id\r\n          ? \"http://\" + host + \"/api/store/\" + id\r\n          : \"http://\" + host + \"/api/store\",\r\n        method = id ? \"PUT\" : \"POST\";\r\n\r\n      //Verificamos datos del formulario\r\n\r\n      //Mandamos señal de procesamiento\r\n      if (!load) {\r\n        this.setState({\r\n          load: true,\r\n        });\r\n      }\r\n\r\n      //Actualiza el producto o creamos el producto\r\n      fetch(url, {\r\n        method: method,\r\n        body: JSON.stringify(body),\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.data) {\r\n            console.log(\"Producto almacenado\");\r\n            if (\r\n              window.confirm(\r\n                \"Producto almacenado con exito!.\\n¿Desea ir al listado?\"\r\n              )\r\n            ) {\r\n              this.props.history.goBack();\r\n            } else {\r\n              this.setState({\r\n                load: false,\r\n                id: data.data.id,\r\n              });\r\n            }\r\n          } else {\r\n            window.alert(\"Error al almacenar el contacto. Intentelo mas tarde\");\r\n            console.error(data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n  getItem = () => {\r\n    let id = this.props.match.params.id;\r\n\r\n    if (id > 0) {\r\n      //Variables\r\n      let { load, host, token } = this.state;\r\n\r\n      //Mandamos señal de carga si no lo he hecho\r\n      if (!load) {\r\n        this.setState({\r\n          load: true,\r\n        });\r\n      }\r\n      //Realiza la peticion al API\r\n      fetch(\"http://\" + host + \"/api/store/\" + id, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            console.log(\"Mostrando producto\");\r\n            this.setState({\r\n              id: data.data.id,\r\n              code: data.data.codigo,\r\n              codebar: data.data.c_barra,\r\n              brand: data.data.marca,\r\n              name: data.data.producto,\r\n              unit: data.data.unidad,\r\n              cant: data.data.cantidades,\r\n              price: data.data.precio,\r\n              category_id: data.data.categoria.id,\r\n              load: false,\r\n            });\r\n          } else {\r\n            console.error(\"Error al cargar el producto\", data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Filter extends Component {\r\n  render() {\r\n    const { search, type, business } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"btn-group\">\r\n          <a\r\n            href=\"#Filters\"\r\n            className=\"btn btn-tool text-dark\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#filters\"\r\n          >\r\n            <i className=\"fas fa-filter\"></i>\r\n          </a>\r\n        </div>\r\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Busquedas</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n\r\n              <form className=\"modal-body\">\r\n                <div className=\"input-group mb-3\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por: nombre, RFC o email\"\r\n                    value={search}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Tipo de contacto</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-address-book\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"type\"\r\n                    value={type}\r\n                    onChange={this.changeFilters}\r\n                  >\r\n                    <option value=\"\">Todos</option>\r\n                    <option value=\"0\">Clientes</option>\r\n                    <option value=\"1\">Proveedores</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>¿Es una empresa?</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-building\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"business\"\r\n                    value={business}\r\n                    onChange={this.changeFilters}\r\n                  >\r\n                    <option value=\"\">Todos</option>\r\n                    <option value=\"1\">Si</option>\r\n                    <option value=\"0\">No</option>\r\n                  </select>\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"modal-footer\">\r\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-window-close mr-2\"></i>\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={\r\n                      search || type || business\r\n                        ? \"btn btn-outline-dark\"\r\n                        : \"btn btn-outline-dark disabled\"\r\n                    }\r\n                    onClick={this.onClickClean}\r\n                  >\r\n                    <i className=\"fas fa-eraser mr-2\"></i>\r\n                    Limpiar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    onClick={this.setFilters}\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-search mr-2\"></i>\r\n                    Buscar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  onKeyPressSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      this.setFilters();\r\n    }\r\n  };\r\n  onClickClean = () => {\r\n    this.props.changeFilters(\"search\", \"\");\r\n    this.props.changeFilters(\"type\", \"\");\r\n    this.props.changeFilters(\"business\", \"\");\r\n    this.setFilters();\r\n  };\r\n  setFilters = () => {\r\n    this.props.handleChangePage(1);\r\n    window.$(\"#filters\").modal(\"hide\");\r\n  };\r\n  changeFilters = (e) => {\r\n    const { name, value } = e.target;\r\n    this.props.changeFilters(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport Header from \"../Layouts/headerTable\";\r\nimport Filter from \"./index_filter\";\r\nimport Pagination from \"../Layouts/pagination\";\r\nimport Actions from \"../Layouts/actionsTable\";\r\n\r\nexport default class Contacts extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let sdd = JSON.parse(localStorage.getItem(\"OrusContacts\"));\r\n    this.state = {\r\n      contacts: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      load: true,\r\n      page: sdd ? sdd.page : 1,\r\n      orderby: sdd ? sdd.orderby : \"created_at\",\r\n      order: sdd ? sdd.order : \"asc\",\r\n      search: sdd ? sdd.search : \"\",\r\n      type: sdd ? sdd.type : \"\",\r\n      business: sdd ? sdd.business : \"\",\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getContacts();\r\n    moment.locale(\"es\");\r\n    localStorage.setItem(\r\n      \"OrusContacts\",\r\n      JSON.stringify({\r\n        page: this.state.page,\r\n        orderby: this.state.orderby,\r\n        order: this.state.order,\r\n        search: this.state.search,\r\n        type: this.state.type,\r\n        business: this.state.business,\r\n      })\r\n    );\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.load === false && this.state.load === true) {\r\n      console.log(\"Recargando contactos\");\r\n      this.getContacts();\r\n      localStorage.setItem(\r\n        \"OrusContacts\",\r\n        JSON.stringify({\r\n          page: this.state.page,\r\n          orderby: this.state.orderby,\r\n          order: this.state.order,\r\n          search: this.state.search,\r\n          type: this.state.type,\r\n          business: this.state.business,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { contacts, load } = this.state,\r\n      dataHeaders = [\r\n        { name: \"Nombre\", type: \"name\", filter: true },\r\n        { name: \"RFC\", type: \"name\", filter: true },\r\n        { name: \"E-mail\", type: \"email\", filter: true },\r\n        { name: \"Tipo\", type: \"type\", filter: true },\r\n        { name: \"Telefono\" },\r\n        { name: \"Domicilio\" },\r\n        { name: \"Cumpleaños\" },\r\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\r\n        { name: \"Registrado\", type: \"created_at\", filter: true },\r\n      ];\r\n\r\n    return (\r\n      <div className=\"card card-danger card-outline\">\r\n        <div className=\"card-header\">\r\n          <h2 className=\"card-title text-danger\">\r\n            <i className=\"fas fa-address-book mr-1\"></i>\r\n            Lista de contactos\r\n          </h2>\r\n          <div className=\"card-tools\">\r\n            <Filter\r\n              search={this.state.search}\r\n              type={this.state.type}\r\n              business={this.state.business}\r\n              changeFilters={this.onchangeSearch}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n            <Pagination\r\n              meta={contacts.meta}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-bordered table-hover table-nowrap\">\r\n            <Header\r\n              orderby={this.state.orderby}\r\n              order={this.state.order}\r\n              data={dataHeaders}\r\n              actions={true}\r\n              handleOrder={this.handleOrder}\r\n            />\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"10\" className=\"text-center\">\r\n                    <div className=\"spinner-border text-danger\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(contacts.data).length ? (\r\n                contacts.data.map((contact) => {\r\n                  return (\r\n                    <tr key={contact.id}>\r\n                      <td>\r\n                        <Link to={\"/contactos/registro/\" + contact.id}>\r\n                          <span className=\"badge badge-danger text-capitalize p-1\">\r\n                            {contact.nombre}\r\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\r\n                          </span>\r\n                        </Link>\r\n                      </td>\r\n                      <td className=\"text-uppercase\">\r\n                        {contact.rfc ? contact.rfc : \"--\"}\r\n                      </td>\r\n                      <td className=\"text-lowercase\">\r\n                        {contact.email ? contact.email : \"--\"}\r\n                      </td>\r\n                      <td className=\"text-uppercase\">\r\n                        {contact.tipo ? (\r\n                          <span className=\"text-purple\">Proveedor</span>\r\n                        ) : (\r\n                          <span className=\"text-green\">Cliente</span>\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        {contact.telefonos[2]\r\n                          ? contact.telefonos[2]\r\n                          : contact.telefonos[0]\r\n                          ? contact.telefonos[0]\r\n                          : \"--\"}\r\n                      </td>\r\n                      <td className=\"text-capitalize\">\r\n                        {contact.domicilio[0] ? contact.domicilio[0] : \"--\"}\r\n                      </td>\r\n                      <td className=\"text-center\">\r\n                        {contact.f_nacimiento\r\n                          ? moment(contact.f_nacimiento).format(\"D/MMM\")\r\n                          : \"--\"}\r\n                      </td>\r\n                      <td className=\"text-capitalize\">\r\n                        {moment(contact.updated_at).fromNow()}\r\n                      </td>\r\n                      <td className=\"text-capitalize\">\r\n                        {moment(contact.created_at).format(\"LL\")}\r\n                      </td>\r\n                      <Actions\r\n                        id={contact.id}\r\n                        item={contact.nombre}\r\n                        delete={this.handleDelete}\r\n                        edit={\"/contactos/registro/\"}\r\n                      />\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"10\" className=\"text-center\">\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <Link\r\n            to=\"/contactos/registro\"\r\n            className=\"btn btn-outline-danger\"\r\n            onClick={this.changePage}\r\n            id=\"/contactos/registro\"\r\n          >\r\n            <i className=\"fas fa-plus\" id=\"/contactos/registro\"></i>\r\n            &nbsp; Nuevo contacto\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onchangeSearch = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleOrder = (item) => {\r\n    this.setState({\r\n      orderby: item,\r\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\r\n      load: true,\r\n    });\r\n  };\r\n  handleChangePage = (id) => {\r\n    this.setState({\r\n      page: id,\r\n      load: true,\r\n    });\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e.target.id);\r\n  };\r\n  handleDelete = (id, item) => {\r\n    let conf = window.confirm(\r\n        \"¿Esta seguro de eliminar el contacto \" + item.toUpperCase() + \"?\"\r\n      ),\r\n      { host, token } = this.state;\r\n    //Confirmacion de la eliminación\r\n    if (conf && id) {\r\n      //Mandamos señal de eliminación\r\n      this.setState({\r\n        load: true,\r\n      });\r\n      //Inicio de proceso de eliminción por API\r\n      console.log(\"Solicitud de eliminación por API\");\r\n      fetch(\"http://\" + host + \"/api/contacts/\" + id, {\r\n        method: \"DELETE\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"El contacto no puede ser eliminado\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            console.log(\"Contacto eliminado\");\r\n            this.getContacts();\r\n            window.alert(\"Contacto eliminado con exito\");\r\n          } else {\r\n            console.error(\"Error al eliminar el contacto\", data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n  getContacts() {\r\n    //Variables\r\n    let {\r\n        host,\r\n        token,\r\n        order,\r\n        orderby,\r\n        search,\r\n        page,\r\n        type,\r\n        business,\r\n        load,\r\n      } = this.state,\r\n      url = \"http://\" + host + \"/api/contacts\",\r\n      ordenar = `&orderby=${orderby}&order=${order}`,\r\n      buscar = search ? `&search=${search}` : \"\",\r\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\",\r\n      tipo = type === \"\" ? \"\" : \"&type=\" + type,\r\n      negocio = business === \"\" ? \"\" : \"&business=\" + business;\r\n\r\n    //Verificamos datos\r\n\r\n    //Mandamos señal de carga si no lo he hecho\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n    //Realiza la peticion de los contactos\r\n    console.log(\"Descargando contactos de API\");\r\n    fetch(url + pagina + ordenar + buscar + tipo + negocio, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          console.error(res);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (!data.message) {\r\n          console.log(\"Almacenando contactos\");\r\n          this.setState({\r\n            contacts: data,\r\n            load: false,\r\n          });\r\n        } else {\r\n          console.error(\"Error en la descarga de contactos\", data.message);\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Mapa extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      load: true,\r\n    };\r\n    this.markers = [];\r\n    this.map = \"\";\r\n  }\r\n  componentDidMount() {\r\n    const googlePlaceAPILoad1 = setInterval(() => {\r\n      if (window.google) {\r\n        this.google = window.google;\r\n        clearInterval(googlePlaceAPILoad1);\r\n        console.log(\"Cargando mapa\");\r\n        const mapCenter = new this.google.maps.LatLng(19.2487072, -103.747381);\r\n        this.map = new this.google.maps.Map(\r\n          document.getElementById(\"gmapContainer\"),\r\n          {\r\n            center: mapCenter,\r\n            zoom: 16,\r\n          }\r\n        );\r\n        if (this.props.calle.length > 6) {\r\n          console.log(\"Cargando Marker\");\r\n          this.eventLoadMap();\r\n        }\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      }\r\n    }, 100);\r\n  }\r\n  componentDidUpdate() {\r\n    if (this.props.calle.length > 6) {\r\n      console.log(\"Cargando Marker\");\r\n      this.eventLoadMap();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"card card-danger card-outline\">\r\n        <div className=\"card-header\">\r\n          <i className=\"fas fa-map-marked mr-1\"></i>\r\n          Mapa\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          id=\"gmapContainer\"\r\n          style={{ height: 400 }}\r\n        ></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  eventLoadMap = () => {\r\n    let input =\r\n      this.props.calle +\r\n      \",\" +\r\n      this.props.colonia +\r\n      \",\" +\r\n      this.props.municipio +\r\n      \",\" +\r\n      this.props.estado +\r\n      \",\" +\r\n      this.props.cp;\r\n    const request = {\r\n      query: input,\r\n      fields: [\"formatted_address\", \"geometry\"],\r\n    };\r\n    this.service = new this.google.maps.places.PlacesService(this.map);\r\n    this.service.findPlaceFromQuery(request, (results, status) => {\r\n      if (status === \"OK\") {\r\n        if (this.markers.length) {\r\n          this.markers[0].setMap(null);\r\n          this.markers = [];\r\n        }\r\n        results.map((place) => {\r\n          this.marker = new this.google.maps.Marker({\r\n            position: place.geometry.location,\r\n            title: place.formatted_address,\r\n            map: this.map,\r\n          });\r\n          this.marker.addListener(\"click\", () => {\r\n            let address = this.marker.title.split(\",\"),\r\n              add = address[2].split(/(\\d{5})/g);\r\n\r\n            if (!add.length) {\r\n              add = address[3].split(/(\\d{5})/g);\r\n            }\r\n            this.props.changeAddress({\r\n              calle: address[0].trim(),\r\n              colonia: address[1].trim(),\r\n              municipio: add[2] ? add[2].trim() : this.props.municipio,\r\n              estado: address[3].trim(),\r\n              cp: add[1] ? add[1].trim() : this.props.cp,\r\n            });\r\n          });\r\n          this.markers.push(this.marker);\r\n          this.markers[0].setMap(this.map);\r\n          this.map.setCenter(this.markers[0].position);\r\n          return null;\r\n        });\r\n      }\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class GraduacionExam extends Component {\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <table className=\"table table-bordered table-hover\">\r\n          <thead>\r\n            <tr>\r\n              <th>#</th>\r\n              <th>Esfera</th>\r\n              <th>Cilindro</th>\r\n              <th>Eje</th>\r\n              <th>Adici&oacute;n</th>\r\n              <th>D/P</th>\r\n              <th>Altura</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <label>D</label>\r\n                <i className=\"fa fa-eye\"></i>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"esferaod\"\r\n                  min=\"-20\"\r\n                  max=\"20\"\r\n                  step=\".25\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  value={this.props.esferaod ? this.props.esferaod : 0}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"cilindrod\"\r\n                  min=\"-20\"\r\n                  max=\"0\"\r\n                  step=\".25\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  value={this.props.cilindrod ? this.props.cilindrod : 0}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"ejeod\"\r\n                  min=\"0\"\r\n                  max=\"180\"\r\n                  step=\"1\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  placeholder=\"°\"\r\n                  value={this.props.ejeod ? this.props.ejeod : 0}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"adiciond\"\r\n                  min=\"0\"\r\n                  max=\"3\"\r\n                  step=\".25\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  value={this.props.adiciond ? this.props.adiciond : 0}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"dpod\"\r\n                  min=\"0\"\r\n                  max=\"80\"\r\n                  step=\".1\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  value={this.props.dpod ? this.props.dpod : 0}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"alturaod\"\r\n                  min=\"0\"\r\n                  max=\"80\"\r\n                  step=\".1\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  value={this.props.alturaod ? this.props.alturaod : 0}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label>I</label>\r\n                <i className=\"fa fa-eye\"></i>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"esferaoi\"\r\n                  min=\"-20\"\r\n                  max=\"20\"\r\n                  step=\".25\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  value={this.props.esferaoi ? this.props.esferaoi : 0}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"cilindroi\"\r\n                  min=\"-20\"\r\n                  max=\"0\"\r\n                  step=\".25\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  value={this.props.cilindroi ? this.props.cilindroi : 0}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"ejeoi\"\r\n                  min=\"0\"\r\n                  max=\"180\"\r\n                  step=\"1\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  placeholder=\"°\"\r\n                  value={this.props.ejeoi ? this.props.ejeoi : 0}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"adicioni\"\r\n                  min=\"0\"\r\n                  max=\"3\"\r\n                  step=\".25\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  value={this.props.adicioni ? this.props.adicioni : 0}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"dpoi\"\r\n                  min=\"0\"\r\n                  max=\"80\"\r\n                  step=\".1\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  value={this.props.dpoi ? this.props.dpoi : 0}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"alturaoi\"\r\n                  min=\"0\"\r\n                  max=\"80\"\r\n                  step=\".1\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  value={this.props.alturaoi ? this.props.alturaoi : 0}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <ul className=\"list-group mt-4\">\r\n          <li className=\"list-group-item\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                Lente de contacto\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"lcmarca\"\r\n                  maxLength=\"70\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  value={this.props.lcmarca}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-4\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"lcgod\"\r\n                  maxLength=\"30\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  value={this.props.lcgod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"lcgoi\"\r\n                  maxLength=\"30\"\r\n                  className={\r\n                    this.props.readOnly\r\n                      ? \"form-control disabled\"\r\n                      : \"form-control\"\r\n                  }\r\n                  disabled={this.props.readOnly ? true : false}\r\n                  value={this.props.lcgoi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Recomendaciones extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      category_list: [],\r\n      meta: {},\r\n      category_list_2: [],\r\n      category_list_3: [],\r\n      category_id: 0,\r\n      category_id_2: 0,\r\n      category_id_3: 0,\r\n      category: {},\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getCategories();\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (props.category_id !== this.props.category_id) {\r\n      console.log(\"Recargando recomendacion\");\r\n      this.getCategories();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"card card-info card-outline mt-4\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title\">\r\n            <i className=\"fas fa-thumbs-up mr-1\"></i>\r\n            Recomendaci&oacute;n\r\n          </h3>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          {!this.props.category_id ? (\r\n            this.state.category_list.length ? (\r\n              <React.Fragment>\r\n                {this.state.category_list.length ? (\r\n                  <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                      <span className=\"input-group-text\">Tipo</span>\r\n                    </div>\r\n                    <select\r\n                      name=\"category_id\"\r\n                      className=\"custom-select\"\r\n                      value={this.state.category_id}\r\n                      onChange={this.handleCategoryChange}\r\n                    >\r\n                      <option value=\"0\">Seleccione el tipo</option>\r\n                      {this.state.category_list.map((cat) => {\r\n                        return (\r\n                          <option value={cat.id} key={cat.id}>\r\n                            {cat.categoria}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n\r\n                {this.state.category_list_2.length ? (\r\n                  <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                      <span className=\"input-group-text\">Material</span>\r\n                    </div>\r\n                    <select\r\n                      name=\"category_id_2\"\r\n                      className=\"custom-select\"\r\n                      value={this.state.category_id_2}\r\n                      onChange={this.handleCategoryChange}\r\n                    >\r\n                      <option value=\"0\">Seleccione el material</option>\r\n                      {this.state.category_list_2.map((cat) => {\r\n                        return (\r\n                          <option value={cat.id} key={cat.id}>\r\n                            {cat.categoria}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n\r\n                {this.state.category_list_3.length ? (\r\n                  <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                      <span className=\"input-group-text\">Tratamiento</span>\r\n                    </div>\r\n                    <select\r\n                      name=\"category_id_3\"\r\n                      className=\"custom-select\"\r\n                      value={this.state.category_id_3}\r\n                      onChange={this.handleCategoryChange}\r\n                    >\r\n                      <option value=\"0\">Seleccione el tratamiento</option>\r\n                      {this.state.category_list_3.map((cat) => {\r\n                        return (\r\n                          <option value={cat.id} key={cat.id}>\r\n                            {cat.categoria}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </React.Fragment>\r\n            ) : (\r\n              <div className=\"spinner-border text-primary\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n              </div>\r\n            )\r\n          ) : (\r\n            <React.Fragment>\r\n              <h5 className=\"card-title\">\r\n                {this.state.category.depende_de\r\n                  ? this.state.category.depende_de.depende_de\r\n                    ? this.state.category.depende_de.depende_de.categoria +\r\n                      \"/\" +\r\n                      this.state.category.depende_de.categoria +\r\n                      \"/\"\r\n                    : this.state.category.depende_de.categoria + \"/\"\r\n                  : \"\"}\r\n                {this.state.category.categoria}\r\n              </h5>\r\n              {this.props.update ? (\r\n                <p className=\"card-text\">\r\n                  <button\r\n                    className=\"btn btn-outline-info btn-sm card-link mt-2\"\r\n                    onClick={this.handleClickCategory}\r\n                  >\r\n                    Cambiar\r\n                  </button>\r\n                </p>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleClickCategory = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      category_id: 0,\r\n      category_id_2: 0,\r\n      category_id_3: 0,\r\n      category_list_2: [],\r\n      category_list_3: [],\r\n    });\r\n    this.props.onChangeInput(\"category_id\", 0);\r\n  };\r\n  handleCategoryChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name === \"category_id\") {\r\n      if (value) {\r\n        this.state.category_list.map((cat) => {\r\n          if (cat.id === value * 1) {\r\n            this.setState({\r\n              category_list_2: cat.hijos,\r\n            });\r\n          }\r\n          return null;\r\n        });\r\n      }\r\n    }\r\n    if (name === \"category_id_2\") {\r\n      if (value) {\r\n        this.state.category_list_2.map((cat) => {\r\n          if (cat.id === value * 1) {\r\n            this.setState({\r\n              category_list_3: cat.hijos,\r\n            });\r\n          }\r\n          return null;\r\n        });\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      [name]: value * 1,\r\n    });\r\n\r\n    if (name === \"category_id_3\") {\r\n      this.props.onChangeInput(\"category_id\", value * 1);\r\n    }\r\n  };\r\n  getCategories = () => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      url = \"http://\" + varLocalStorage.host + \"/api/categories/1\",\r\n      categoryid = \"?categoryid=raiz\";\r\n\r\n    if (\r\n      typeof this.props.category_id === \"number\" &&\r\n      this.props.category_id > 0\r\n    ) {\r\n      console.log(\"Descargando recomendacion\");\r\n      url =\r\n        \"http://\" +\r\n        varLocalStorage.host +\r\n        \"/api/categories/\" +\r\n        this.props.category_id;\r\n      fetch(url, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n            console.log(\"Error: \", res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((cat) => {\r\n          if (cat.data) {\r\n            console.log(\"Recomendacion descargada\");\r\n            this.setState({\r\n              category: cat.data,\r\n            });\r\n          }\r\n        });\r\n    } else {\r\n      console.log(\"Descargando lista de recomendaciones\");\r\n      fetch(url + categoryid, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n            console.log(\"Error: \", res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((cat) => {\r\n          if (cat.data) {\r\n            console.log(\"Lista de recomendaciones descargadas\");\r\n            this.setState({\r\n              category_list: cat.data.hijos,\r\n              meta: cat.meta,\r\n            });\r\n          }\r\n        });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Graduacion from \"../Exam/graduacionExam\";\r\nimport Recomendaciones from \"../Exam/recomendaciones\";\r\nimport moment from \"moment\";\r\n\r\nexport default class ListsExams extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: 0,\r\n      data: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      exam: {},\r\n      load: true,\r\n      page: 0,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.exam && !this.props.exam.id) {\r\n      this.getExams();\r\n    } else {\r\n      this.setState({\r\n        id: this.props.exam.id,\r\n        exam: this.props.exam,\r\n        load: false,\r\n      });\r\n    }\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (\r\n      this.props.exam &&\r\n      !this.props.exam.id &&\r\n      this.props.exam.id !== props.exam.id\r\n    ) {\r\n      this.getExams();\r\n    }\r\n    if (this.props.exam && this.props.exam.id !== props.exam.id) {\r\n      this.setState({\r\n        id: this.props.exam.id,\r\n        exam: this.props.exam,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { data, load, id, exam } = this.state,\r\n      { select } = this.props;\r\n\r\n    if (select) {\r\n      return (\r\n        <React.Fragment>\r\n          {id ? (\r\n            <React.Fragment>\r\n              <div className=\"row mb-4\">\r\n                <div className=\"col-2\">\r\n                  <div className=\"border border-info rounded p-2 d-flex justify-content-between align-items-center\">\r\n                    <span className=\"badge badge-pill badge-info mx-2\">\r\n                      Folio\r\n                    </span>\r\n                    <strong>{id}</strong>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-3\">\r\n                  <div className=\"border border-info rounded p-2 d-flex justify-content-between align-items-center\">\r\n                    <span className=\"badge badge-pill badge-info mx-2\">\r\n                      Estado\r\n                    </span>\r\n                    <strong>{exam.estado}</strong>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <div className=\"border border-info rounded p-2 d-flex justify-content-between align-items-center\">\r\n                    <span className=\"badge badge-pill badge-info mx-2\">\r\n                      Fecha\r\n                    </span>\r\n                    <strong>\r\n                      {moment.utc(exam.created_at).local().format(\"LL\")}\r\n                    </strong>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-2 text-right\">\r\n                  <button\r\n                    className={\r\n                      this.props.status\r\n                        ? \"btn btn-info disabled\"\r\n                        : \"btn btn-info\"\r\n                    }\r\n                    disabled={this.props.status ? true : false}\r\n                    onClick={this.handleClickDeleteExam}\r\n                  >\r\n                    Cambiar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <Graduacion\r\n                esferaod={exam.esferaod}\r\n                esferaoi={exam.esferaoi}\r\n                cilindrod={exam.cilindrod}\r\n                cilindroi={exam.cilindroi}\r\n                ejeod={exam.ejeod}\r\n                ejeoi={exam.ejeoi}\r\n                adiciond={exam.adiciond}\r\n                adicioni={exam.adicioni}\r\n                dpod={exam.dpod}\r\n                dpoi={exam.dpoi}\r\n                alturaod={exam.alturaod}\r\n                alturaoi={exam.alturaoi}\r\n                lcmarca={exam.lcmarca}\r\n                lcgod={exam.lcgod}\r\n                lcgoi={exam.lcgoi}\r\n                readOnly={true}\r\n                onChangeInput={this.handleChangeInput}\r\n              />\r\n\r\n              {exam.category_id ? (\r\n                <Recomendaciones\r\n                  category_id={exam.category_id}\r\n                  onChangeInput={this.handleChangeInput}\r\n                />\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </React.Fragment>\r\n          ) : (\r\n            <table className=\"table table-hover table-nowrap\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Folio</th>\r\n                  <th>Fecha</th>\r\n                  <th>Edad</th>\r\n                  <th>Estado</th>\r\n                  <th>&nbsp;</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {load ? (\r\n                  <tr>\r\n                    <td colSpan=\"5\" className=\"text-center\">\r\n                      <div\r\n                        className=\"spinner-border text-primary\"\r\n                        role=\"status\"\r\n                      >\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ) : Object.keys(data.data).length ? (\r\n                  data.data.map((row) => {\r\n                    return (\r\n                      <tr\r\n                        key={row.id}\r\n                        className={\r\n                          moment\r\n                            .utc(new Date())\r\n                            .isSame(moment.utc(row.created_at), \"day\")\r\n                            ? \"table-success\"\r\n                            : \"\"\r\n                        }\r\n                      >\r\n                        <td>\r\n                          <span className=\"badge badge-info\">{row.id}</span>\r\n                        </td>\r\n                        <td>\r\n                          {moment.utc(row.created_at).local().format(\"L\")}\r\n                          <br />\r\n                          {moment(new Date()).isSame(row.created_at)}\r\n                        </td>\r\n                        <td>{row.edad}</td>\r\n                        <td>\r\n                          {row.estado ? (\r\n                            <span className=\"badge badge-secondary\">\r\n                              Terminado\r\n                            </span>\r\n                          ) : (\r\n                            <span className=\"badge badge-success\">Activo</span>\r\n                          )}\r\n                        </td>\r\n                        <td>\r\n                          <button\r\n                            className=\"btn btn-outline-dark btn-sm\"\r\n                            onClick={(e) => {\r\n                              e.preventDefault();\r\n                              this.handleClickSelect(row);\r\n                            }}\r\n                          >\r\n                            <i className=\"fas fa-check\"></i>\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <tr>\r\n                    <th colSpan=\"5\" className=\"text-center\">\r\n                      Aun no tiene examenes\r\n                      <button\r\n                        className=\"btn btn-outline-info btn-sm ml-4\"\r\n                        onClick={this.handleNewExam}\r\n                      >\r\n                        <i className=\"fas fa-plus\"></i>\r\n                      </button>\r\n                    </th>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </React.Fragment>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"card card-info card-outline\">\r\n          <div className=\"card-header\">\r\n            <i className=\"fas fa-notes-medical mr-1\"></i>\r\n            Examenes realizados\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <table className=\"table table-hover table-nowrap\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Folio</th>\r\n                  <th>Fecha</th>\r\n                  <th>Edad</th>\r\n                  <th>Estado</th>\r\n                  <th>&nbsp;</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {load ? (\r\n                  <tr>\r\n                    <td colSpan=\"8\" className=\"text-center\">\r\n                      <div\r\n                        className=\"spinner-border text-primary\"\r\n                        role=\"status\"\r\n                      >\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ) : Object.keys(data.data).length ? (\r\n                  data.data.map((row) => {\r\n                    return (\r\n                      <tr\r\n                        key={row.id}\r\n                        className={\r\n                          moment\r\n                            .utc(new Date())\r\n                            .isSame(moment.utc(row.created_at), \"day\")\r\n                            ? \"table-success\"\r\n                            : \"\"\r\n                        }\r\n                      >\r\n                        <td>\r\n                          <span className=\"badge badge-info\">{row.id}</span>\r\n                        </td>\r\n                        <td>\r\n                          {moment.utc(row.created_at).local().format(\"L\")}\r\n                          <br />\r\n                          {moment(new Date()).isSame(row.created_at)}\r\n                        </td>\r\n                        <td>{row.edad}</td>\r\n                        <td>\r\n                          {row.estado ? (\r\n                            <span className=\"badge badge-secondary\">\r\n                              Terminado\r\n                            </span>\r\n                          ) : (\r\n                            <span className=\"badge badge-success\">Activo</span>\r\n                          )}\r\n                        </td>\r\n                        <td className=\"float-right\">\r\n                          <Link\r\n                            className=\"btn btn-outline-info btn-sm\"\r\n                            to={\"/consultorio/registro/\" + row.id}\r\n                            onClick={(e) => {\r\n                              this.changePage(\"/consultorio/registro/\");\r\n                            }}\r\n                            alt=\"Ver examen\"\r\n                          >\r\n                            <i className=\"fas fa-share\"></i>\r\n                          </Link>\r\n                          {row.estado ? (\r\n                            <button\r\n                              className=\"btn btn-outline-warning btn-sm ml-2\"\r\n                              alt=\"Crear pedido\"\r\n                              onClick={(e) => {\r\n                                e.preventDefault();\r\n                                this.handleNewOrder(row.id);\r\n                              }}\r\n                            >\r\n                              <i className=\"fas fa-shopping-basket\"></i>\r\n                            </button>\r\n                          ) : (\r\n                            \"\"\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <tr>\r\n                    <th colSpan=\"5\" className=\"text-center\">\r\n                      Aun no tiene examenes\r\n                    </th>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"card-footer\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-info float-right\"\r\n              onClick={this.handleNewExam}\r\n            >\r\n              <i className=\"fas fa-plus\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  handleChangeInput = (key, value) => {\r\n    this.props.ChangeInput(key, value);\r\n  };\r\n  handleClickDeleteExam = (e) => {\r\n    e.preventDefault();\r\n    if (window.confirm(\"¿Realmente desea cambiar de examen?\")) {\r\n      this.props.ChangeInput(\"exam_id\", 0);\r\n      this.props.ChangeInput(\"exam\", {});\r\n    }\r\n  };\r\n  handleClickSelect = (exam) => {\r\n    this.props.ChangeInput(\"exam_id\", exam.id);\r\n    this.props.ChangeInput(\"exam\", exam);\r\n  };\r\n  handleNewOrder = (id) => {\r\n    if (window.confirm(\"¿Desea agregar un pedido a este examen?\")) {\r\n      //Variables en localStorage\r\n      let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n        body = {\r\n          contact_id: this.props.paciente,\r\n          exam_id: id,\r\n          items: JSON.stringify([]),\r\n        };\r\n      //Crear o modificar examen\r\n      console.log(\"Enviando datos del pedido a la API\");\r\n      fetch(\"http://\" + varLocalStorage.host + \"/api/orders\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(body),\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.data) {\r\n            console.log(\"Pedido almacenado\");\r\n            this.setState({\r\n              load: true,\r\n            });\r\n            this.getExams();\r\n          } else console.log(data.message);\r\n        });\r\n    }\r\n  };\r\n  handleNewExam = (e) => {\r\n    e.preventDefault();\r\n    //Maneja el boton de almacenar\r\n    let conf = window.confirm(\r\n      \"¿Desea agregar un nuevo examen a este paciente?\"\r\n    );\r\n    if (conf) {\r\n      //Variables en localStorage\r\n      let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n        body = {\r\n          contact_id: this.props.paciente,\r\n          edad: this.props.edad,\r\n        };\r\n      //Crear o modificar examen\r\n      console.log(\"Enviando datos del examen a la API\");\r\n      fetch(\"http://\" + varLocalStorage.host + \"/api/exams\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(body),\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.data) {\r\n            console.log(\"Examen almacenado\");\r\n            this.setState({\r\n              load: true,\r\n            });\r\n            this.getExams();\r\n          } else console.log(data.message);\r\n        });\r\n    }\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n  getExams = () => {\r\n    if (this.props.paciente) {\r\n      //Variables en localStorage\r\n      let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n        url = \"http://\" + varLocalStorage.host + \"/api/exams\",\r\n        page = this.state.page > 0 ? \"?page=\" + this.state.page : \"?page=1\",\r\n        orderby = \"&orderby=created_at&order=desc\",\r\n        paciente = \"&paciente=\" + this.props.paciente;\r\n\r\n      //Realiza la peticion de examenes a la API\r\n      console.log(\"Descargando examenes del contacto\");\r\n      fetch(url + page + paciente + orderby, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            this.setState({\r\n              load: false,\r\n            });\r\n            console.log(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          console.log(\"Examenes almacenados\");\r\n          this.setState({\r\n            data: !data.message ? data : [],\r\n            load: false,\r\n          });\r\n        });\r\n    } else {\r\n      this.setState({\r\n        load: false,\r\n      });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class NameInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bgColor: props.validName ? \"bg-blue\" : \"bg-red\",\r\n      validate: props.validName ? \"\" : \" border border-danger\",\r\n      text: \"Debe de tener por lo menos nombre y apellido\",\r\n      searchUser: false,\r\n      contacts: [],\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n    this.timeFetch = null;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidUpdate(props) {\r\n    if (props.validName !== this.props.validName) {\r\n      this.setState({\r\n        bgColor: this.props.validName ? \"bg-blue\" : \"bg-red\",\r\n        validate: this.props.validName ? \"\" : \" border border-danger\",\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { name, validName } = this.props;\r\n    let { bgColor, validate, text, searchUser, contacts } = this.state;\r\n    if (!name) name = \"\";\r\n    return (\r\n      <React.Fragment>\r\n        {name ? (\r\n          <div className=\"ml-2 mt-1\">\r\n            <small>\r\n              <label>Nombre completo</label>\r\n            </small>\r\n          </div>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className={\"input-group-text \" + bgColor}>\r\n              {searchUser ? (\r\n                <i className=\"fas fa-spinner\"></i>\r\n              ) : (\r\n                <i className=\"fas fa-id-card-alt\"></i>\r\n              )}\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className={\"form-control text-capitalize\" + validate}\r\n            placeholder=\"Nombre completo\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={this.handleChange}\r\n            autoFocus={!name.length ? true : false}\r\n            autoComplete=\"off\"\r\n            required=\"required\"\r\n            pattern=\"^[a-zA-Z.]{2,20}[\\s]{1}[a-zA-Z.]{2,20}.*\"\r\n            minLength=\"8\"\r\n            list=\"contactos_db\"\r\n          />\r\n        </div>\r\n        {contacts.length ? (\r\n          <datalist id=\"contactos_db\">\r\n            {contacts.map((contact) => {\r\n              return (\r\n                <option\r\n                  key={contact.id}\r\n                  value={this.eraseTilde(contact.nombre)}\r\n                />\r\n              );\r\n            })}\r\n          </datalist>\r\n        ) : null}\r\n        {!validName ? (\r\n          <div className=\"p-0\">\r\n            <small className=\"text-danger\">{text}</small>\r\n          </div>\r\n        ) : null}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  eraseTilde = (string) => {\r\n    string = string.replace(new RegExp(/[àáâãäå]/g), \"a\");\r\n    string = string.replace(new RegExp(/[èéêë]/g), \"e\");\r\n    string = string.replace(new RegExp(/[ìíîï]/g), \"i\");\r\n    string = string.replace(new RegExp(/[òóôõö]/g), \"o\");\r\n    string = string.replace(new RegExp(/[ùúûü]/g), \"u\");\r\n    return string;\r\n  };\r\n  handleChange = (e) => {\r\n    const { value } = e.target;\r\n    let regex = /^[a-z.]{2,20}[\\s]{1}[a-z.]{2,20}.*/,\r\n      x = {\r\n        target: {\r\n          name: \"validName\",\r\n          value: \"\",\r\n          target: \"\",\r\n        },\r\n      },\r\n      stringOk = this.eraseTilde(value.toLowerCase());\r\n    e.target.value = stringOk;\r\n\r\n    if (regex.test(value)) {\r\n      this.setState({\r\n        bgColor: \"bg-blue\",\r\n        validate: \"\",\r\n      });\r\n      x.target.value = true;\r\n      this.props.onChange(x);\r\n      this.validUser(e.target.value, x);\r\n    } else {\r\n      this.setState({\r\n        bgColor: \"bg-red\",\r\n        validate: \" border border-danger\",\r\n        text: \"No tiene el formato de nombre de persona\",\r\n        contacts: [],\r\n      });\r\n      x.target.value = false;\r\n      this.props.onChange(x);\r\n    }\r\n    this.props.onChange(e);\r\n  };\r\n  validUser = (search, x) => {\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      url = \"http://\" + varLocalStorage.host + \"/api/contacts\",\r\n      name = \"?name=\" + search;\r\n\r\n    if (this.timeFetch) clearTimeout(this.timeFetch);\r\n    this.timeFetch = setTimeout(() => {\r\n      //Realiza la peticion de contactos\r\n      this.setState({\r\n        searchUser: true,\r\n      });\r\n      fetch(url + name, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            data.data.map((contacto) => {\r\n              let nombre = this.eraseTilde(contacto.nombre);\r\n              if (nombre === search) {\r\n                console.log(\"Contacto registrado \");\r\n                this.setState({\r\n                  bgColor: \"bg-red\",\r\n                  validate: \" border border-danger\",\r\n                  text: \"El contacto ya esta registrado\",\r\n                  searchUser: false,\r\n                  contacts: [],\r\n                });\r\n                x.target.value = false;\r\n                this.props.onChange(x);\r\n              }\r\n              return false;\r\n            });\r\n            this.setState({\r\n              searchUser: false,\r\n              contacts: data.data,\r\n            });\r\n          } else {\r\n            console.error(\"Error en la descarga de contactos\", data.message);\r\n            this.setState({\r\n              searchUser: false,\r\n            });\r\n            x.target.value = false;\r\n            this.props.onChange(x);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          this.setState({\r\n            searchUser: false,\r\n          });\r\n          x.target.value = false;\r\n          this.props.onChange(x);\r\n        });\r\n    }, 1000);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class EmailInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bgColor: props.validEmail ? \"bg-blue\" : \"bg-red\",\r\n      validate: props.validEmail ? \"\" : \" border border-danger\",\r\n      text: \"No es un email correcto\",\r\n      emailContact: false,\r\n      contacts: [],\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n    this.timeFetch = null;\r\n    this.emailOriginal = props.email;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidUpdate(props) {\r\n    if (props.validEmail !== this.props.validEmail) {\r\n      this.setState({\r\n        bgColor: this.props.validEmail ? \"bg-blue\" : \"bg-red\",\r\n        validate: this.props.validEmail ? \"\" : \" border border-danger\",\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { email, validEmail } = this.props;\r\n    let { bgColor, validate, text, emailContact, contacts } = this.state;\r\n    if (!email) email = \"\";\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {email ? (\r\n          <div className=\"ml-2 mt-1\">\r\n            <small>\r\n              <label>Correo electronico</label>\r\n            </small>\r\n          </div>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mt-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className={\"input-group-text \" + bgColor}>\r\n              {emailContact ? (\r\n                <i className=\"fas fa-spinner\"></i>\r\n              ) : (\r\n                <i className=\"fas fa-at\"></i>\r\n              )}\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"email\"\r\n            className={\"form-control\" + validate}\r\n            placeholder=\"Correo electronico\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n            minLength=\"8\"\r\n            list=\"email_db\"\r\n          />\r\n          {contacts.length ? (\r\n            <datalist id=\"email_db\">\r\n              {contacts.map((contact) => {\r\n                return <option key={contact.id} value={contact.email} />;\r\n              })}\r\n            </datalist>\r\n          ) : null}\r\n        </div>\r\n        {!validEmail ? (\r\n          <div className=\"p-0\">\r\n            <small className=\"text-danger\">{text}</small>\r\n          </div>\r\n        ) : null}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  eraseTilde = (string) => {\r\n    string = string.replace(new RegExp(/[àáâãäå]/g), \"a\");\r\n    string = string.replace(new RegExp(/[èéêë]/g), \"e\");\r\n    string = string.replace(new RegExp(/[ìíîï]/g), \"i\");\r\n    string = string.replace(new RegExp(/[òóôõö]/g), \"o\");\r\n    string = string.replace(new RegExp(/[ùúûü]/g), \"u\");\r\n    return string;\r\n  };\r\n  handleChange = (e) => {\r\n    const { value } = e.target;\r\n    const { id } = this.props;\r\n    let regex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\r\n      x = {\r\n        target: {\r\n          name: \"validEmail\",\r\n          value: \"\",\r\n          target: \"\",\r\n        },\r\n      },\r\n      stringOk = this.eraseTilde(value.toLowerCase());\r\n    e.target.value = stringOk;\r\n\r\n    if (regex.test(value)) {\r\n      this.setState({\r\n        bgColor: \"bg-blue\",\r\n        validate: \"\",\r\n      });\r\n      x.target.value = true;\r\n      this.props.onChange(x);\r\n      if (!id) {\r\n        if (this.emailOriginal !== e.target.value)\r\n          this.validUser(e.target.value, x);\r\n      } else {\r\n        this.validUser(e.target.value, x);\r\n      }\r\n    } else {\r\n      this.setState({\r\n        bgColor: \"bg-red\",\r\n        validate: \" border border-danger\",\r\n        text: \"No es un email correcto\",\r\n        contacts: [],\r\n      });\r\n      x.target.value = false;\r\n      this.props.onChange(x);\r\n    }\r\n    this.props.onChange(e);\r\n  };\r\n  validUser = (search, x) => {\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      url = \"http://\" + varLocalStorage.host + \"/api/contacts\",\r\n      name = \"?email=\" + search;\r\n\r\n    if (this.timeFetch) clearTimeout(this.timeFetch);\r\n    this.timeFetch = setTimeout(() => {\r\n      //Realiza la peticion de contactos\r\n      this.setState({\r\n        emailContact: true,\r\n      });\r\n      fetch(url + name, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            data.data.map((contacto) => {\r\n              if (contacto.email === search) {\r\n                this.setState({\r\n                  bgColor: \"bg-red\",\r\n                  validate: \" border border-danger\",\r\n                  text: \"El email ya esta registrado\",\r\n                  emailContact: false,\r\n                  contacts: [],\r\n                });\r\n                x.target.value = false;\r\n                this.props.onChange(x);\r\n              }\r\n              return false;\r\n            });\r\n            this.setState({\r\n              emailContact: false,\r\n              contacts: data.data,\r\n            });\r\n          } else {\r\n            console.error(\"Error en la descarga de contactos\", data.message);\r\n            this.setState({\r\n              emailContact: false,\r\n            });\r\n            x.target.value = false;\r\n            this.props.onChange(x);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          this.setState({\r\n            emailContact: false,\r\n          });\r\n          x.target.value = false;\r\n          this.props.onChange(x);\r\n        });\r\n    }, 1000);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport NameInput from \"./nameInput\";\r\nimport EmailInput from \"./emailInput\";\r\n\r\nexport default class AddPersonal extends Component {\r\n  render() {\r\n    let {\r\n      type,\r\n      business,\r\n      name,\r\n      rfc,\r\n      email,\r\n      birthday,\r\n      validName,\r\n      validEmail,\r\n    } = this.props;\r\n    return (\r\n      <div className=\"col \">\r\n        <small>\r\n          <label>Tipo de cliente</label>\r\n        </small>\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-clipboard-check\"></i>\r\n            </span>\r\n          </div>\r\n          <select\r\n            className=\"custom-select\"\r\n            name=\"type\"\r\n            value={type}\r\n            onChange={this.catchInputs}\r\n          >\r\n            <option value=\"0\">Cliente</option>\r\n            <option value=\"1\">Proveedor</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <input\r\n              type=\"checkbox\"\r\n              name=\"business\"\r\n              className=\"mr-2\"\r\n              checked={business}\r\n              onChange={this.catchInputs}\r\n            />\r\n            <small>\r\n              <label>¿Es una empresa?</label>\r\n            </small>\r\n          </div>\r\n        </div>\r\n\r\n        <NameInput\r\n          name={name}\r\n          validName={validName}\r\n          onChange={this.catchInputs}\r\n        />\r\n\r\n        {rfc ? (\r\n          <div className=\"ml-2 mt-1\">\r\n            <small>\r\n              <label>RFC</label>\r\n            </small>\r\n          </div>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-file-invoice-dollar\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control text-uppercase\"\r\n            placeholder=\"RFC\"\r\n            name=\"rfc\"\r\n            value={rfc ? rfc : \"\"}\r\n            onChange={this.catchInputs}\r\n            required={false}\r\n            minLength=\"10\"\r\n          />\r\n        </div>\r\n\r\n        <EmailInput\r\n          email={email}\r\n          validEmail={validEmail}\r\n          onChange={this.catchInputs}\r\n        />\r\n\r\n        {!business && !type ? (\r\n          <React.Fragment>\r\n            {birthday ? (\r\n              <div className=\"ml-2 mt-1\">\r\n                <small>\r\n                  <label>Fecha de nacimiento</label>\r\n                </small>\r\n              </div>\r\n            ) : (\r\n              <br />\r\n            )}\r\n            <div className=\"input-group mb-1\">\r\n              <div className=\"input-group-prepend\">\r\n                <span className=\"input-group-text\">\r\n                  <i className=\"fas fa-calendar-check\"></i>\r\n                </span>\r\n              </div>\r\n              <input\r\n                type=\"date\"\r\n                className=\"form-control\"\r\n                placeholder=\"Fecha de nacimiento\"\r\n                name=\"birthday\"\r\n                value={birthday ? birthday : \"\"}\r\n                onChange={this.catchInputs}\r\n              />\r\n            </div>\r\n          </React.Fragment>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (x) => {\r\n    this.props.onChange(x);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class AddDomicilio extends Component {\r\n  render() {\r\n    let { calle, colonia, municipio, estado, cp } = this.props;\r\n    return (\r\n      <div className=\"col\">\r\n        {calle ? (\r\n          <small>\r\n            <label>Calle y numero</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-road\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control text-capitalize\"\r\n            placeholder=\"Calle y numero\"\r\n            name=\"calle\"\r\n            value={calle}\r\n            onChange={this.catchInputs}\r\n          />\r\n        </div>\r\n        {colonia ? (\r\n          <small>\r\n            <label>Colonia</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-location-arrow\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control text-capitalize\"\r\n            placeholder=\"Colonia\"\r\n            name=\"colonia\"\r\n            value={colonia}\r\n            onChange={this.catchInputs}\r\n          />\r\n        </div>\r\n        {municipio ? (\r\n          <small>\r\n            <label>Municipio</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-location-arrow\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control text-capitalize\"\r\n            placeholder=\"Municipio\"\r\n            name=\"municipio\"\r\n            value={municipio}\r\n            onChange={this.catchInputs}\r\n          />\r\n        </div>\r\n        {estado ? (\r\n          <small>\r\n            <label>Estado</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-map-marker\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control text-capitalize\"\r\n            placeholder=\"Estado\"\r\n            name=\"estado\"\r\n            value={estado}\r\n            onChange={this.catchInputs}\r\n          />\r\n        </div>\r\n        {cp ? (\r\n          <small>\r\n            <label>Codigo postal</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-map-marker\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Codigo Postal\"\r\n            name=\"cp\"\r\n            value={cp}\r\n            onChange={this.catchInputs}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (x) => {\r\n    this.props.onChange(x);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class AddTelefonos extends Component {\r\n  render() {\r\n    let { t_casa, t_oficina, t_movil } = this.props,\r\n      verify =\r\n        t_casa.length === 10 ||\r\n        t_movil.length === 10 ||\r\n        t_oficina.length === 10;\r\n\r\n    return (\r\n      <div className=\"col\">\r\n        {t_casa ? (\r\n          <div className=\"ml-1 mt-1\">\r\n            <small>\r\n              <label>Telefono de casa</label>\r\n            </small>\r\n          </div>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-phone\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"tel\"\r\n            className=\"form-control\"\r\n            placeholder=\"Telefono de casa\"\r\n            name=\"t_casa\"\r\n            value={t_casa}\r\n            onChange={this.catchInputs}\r\n            pattern=\"^[\\d]{10}$\"\r\n            maxLength=\"10\"\r\n          />\r\n        </div>\r\n        {t_oficina ? (\r\n          <div className=\"ml-1 mt-1\">\r\n            <small>\r\n              <label>Telefono de oficina</label>\r\n            </small>\r\n          </div>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-phone-alt\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"tel\"\r\n            className=\"form-control\"\r\n            placeholder=\"Telefono de oficina\"\r\n            name=\"t_oficina\"\r\n            value={t_oficina}\r\n            onChange={this.catchInputs}\r\n            pattern=\"^[\\d]{10}$\"\r\n            maxLength=\"10\"\r\n          />\r\n        </div>\r\n        {t_movil ? (\r\n          <div className=\"ml-1 mt-1\">\r\n            <small>\r\n              <label>Telefono celular</label>\r\n            </small>\r\n          </div>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-mobile-alt\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"tel\"\r\n            className=\"form-control\"\r\n            placeholder=\"Telefono celular\"\r\n            name=\"t_movil\"\r\n            value={t_movil}\r\n            onChange={this.catchInputs}\r\n            pattern=\"^[\\d]{10}$\"\r\n            required={\r\n              t_casa.length !== 10 && t_oficina.length !== 10 ? true : false\r\n            }\r\n            maxLength=\"10\"\r\n          />\r\n        </div>\r\n        {!verify ? (\r\n          <div className=\"mt-2 p-0 text-danger\">\r\n            <small>Por lo menos capture un telefono</small>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (x) => {\r\n    this.props.onChange(x);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport Mapa from \"./mapa\";\r\nimport ListExam from \"../Exam/listsExams\";\r\nimport Personal from \"./add_personal\";\r\nimport Domicilio from \"./add_domicilio\";\r\nimport Telefono from \"./add_telefonos\";\r\n\r\nexport default class ContactsAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: 0,\r\n      name: \"\",\r\n      validName: false,\r\n      rfc: \"\",\r\n      email: \"\",\r\n      validEmail: false,\r\n      type: 0,\r\n      birthday: \"\",\r\n      calle: \"\",\r\n      colonia: \"\",\r\n      municipio: \"\",\r\n      estado: \"\",\r\n      cp: \"\",\r\n      t_casa: \"\",\r\n      t_oficina: \"\",\r\n      t_movil: \"\",\r\n      business: false,\r\n      load: false,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n    this.timeSave = null;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    let id = this.props.match.params.id,\r\n      //Recogemos valores de registro inconcluso\r\n      data = JSON.parse(localStorage.getItem(\"OrusContactNew\"));\r\n\r\n    if (id) {\r\n      this.getUser(id);\r\n    } else {\r\n      //Si existe un usuario previo\r\n      if (\r\n        data.name &&\r\n        data.name.length > 4 &&\r\n        window.confirm(\r\n          \"Existe un registro previo de \" +\r\n            data.name.toUpperCase() +\r\n            \", \\n ¿Desea Cargar los datos?\"\r\n        )\r\n      ) {\r\n        this.setState({\r\n          name: data.name,\r\n          validName: true,\r\n          rfc: data.rfc,\r\n          email: data.email,\r\n          validEmail: true,\r\n          type: data.type,\r\n          birthday: data.birthday,\r\n          calle: data.calle,\r\n          colonia: data.colonia,\r\n          municipio: data.municipio,\r\n          estado: data.estado,\r\n          cp: data.cp,\r\n          t_casa: data.t_casa,\r\n          t_oficina: data.t_oficina,\r\n          t_movil: data.t_movil,\r\n        });\r\n      }\r\n      localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\r\n    }\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (\r\n      !this.state.id &&\r\n      !this.state.load &&\r\n      this.state.validName &&\r\n      this.state.validEmail\r\n    ) {\r\n      if (this.timeSave) clearTimeout(this.timeSave);\r\n      this.timeSave = setTimeout(() => {\r\n        localStorage.setItem(\r\n          \"OrusContactNew\",\r\n          JSON.stringify({\r\n            name: this.state.name,\r\n            rfc: this.state.rfc,\r\n            email: this.state.email,\r\n            type: this.state.type,\r\n            birthday: this.state.birthday,\r\n            calle: this.state.calle,\r\n            colonia: this.state.colonia,\r\n            municipio: this.state.municipio,\r\n            estado: this.state.estado,\r\n            cp: this.state.cp,\r\n            t_casa: this.state.t_casa,\r\n            t_oficina: this.state.t_oficina,\r\n            t_movil: this.state.t_movil,\r\n          })\r\n        );\r\n      }, 1500);\r\n    } else {\r\n      localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      id,\r\n      name,\r\n      rfc,\r\n      email,\r\n      type,\r\n      birthday,\r\n      calle,\r\n      colonia,\r\n      municipio,\r\n      estado,\r\n      cp,\r\n      t_casa,\r\n      t_oficina,\r\n      t_movil,\r\n      business,\r\n      load,\r\n      validName,\r\n      validEmail,\r\n    } = this.state;\r\n\r\n    return (\r\n      <form onSubmit={this.handleSave}>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <div className=\"card card-danger card-outline\">\r\n              <div className=\"card-header\">\r\n                <h3 className=\"card-title text-danger\">\r\n                  <i className=\"fas fa-address-book mr-2\"></i>\r\n                  {id ? \"Editar contacto\" : \"Registrar nuevo contacto\"}\r\n                  {validName && validEmail ? (\r\n                    <span className=\"ml-2 text-muted\">\r\n                      <small>(Almacenado automatico)</small>\r\n                    </span>\r\n                  ) : null}\r\n                </h3>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                {load ? (\r\n                  <div className=\"text-center\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"row was-validated\">\r\n                    <Personal\r\n                      id={id}\r\n                      name={name}\r\n                      rfc={rfc}\r\n                      email={email}\r\n                      type={type}\r\n                      birthday={birthday}\r\n                      business={business}\r\n                      validName={validName}\r\n                      validEmail={validEmail}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n\r\n                    <Domicilio\r\n                      calle={calle}\r\n                      colonia={colonia}\r\n                      municipio={municipio}\r\n                      estado={estado}\r\n                      cp={cp}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n\r\n                    <Telefono\r\n                      t_casa={t_casa}\r\n                      t_movil={t_movil}\r\n                      t_oficina={t_oficina}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"card-footer\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12\">\r\n                    <div className=\"btn-group float-right\" role=\"group\">\r\n                      <Link\r\n                        to=\"/contactos\"\r\n                        className=\"btn btn-dark\"\r\n                        onClick={(e) => {\r\n                          this.changePage(\"/contactos\");\r\n                        }}\r\n                      >\r\n                        <i className=\"fas fa-ban mr-1\"></i>\r\n                        Cancelar\r\n                      </Link>\r\n                      <button\r\n                        type=\"submit\"\r\n                        className={\r\n                          validName &&\r\n                          validEmail &&\r\n                          (t_casa || t_oficina || t_movil)\r\n                            ? \"btn btn-danger\"\r\n                            : \"btn btn-danger disabled\"\r\n                        }\r\n                        disabled={\r\n                          validName &&\r\n                          validEmail &&\r\n                          (t_casa || t_oficina || t_movil)\r\n                            ? \"\"\r\n                            : \"disabled\"\r\n                        }\r\n                      >\r\n                        <i className=\"fas fa-save mr-1\"></i>\r\n                        Guardar\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          {this.state.calle && !this.state.type ? (\r\n            <div className=\"col\">\r\n              <Mapa\r\n                calle={this.state.calle}\r\n                colonia={this.state.colonia}\r\n                municipio={this.state.municipio}\r\n                estado={this.state.estado}\r\n                cp={this.state.cp}\r\n                changeAddress={this.changeAddress}\r\n              />\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {this.state.id && !this.state.type ? (\r\n            <div className=\"col\">\r\n              <ListExam\r\n                paciente={this.state.id}\r\n                exam={{}}\r\n                page={this.changePage}\r\n                edad={\r\n                  moment(this.state.birthday)\r\n                    .fromNow(true)\r\n                    .replace(/[a-zA-ZñÑ]/gi, \"\") * 1\r\n                }\r\n              />\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n\r\n  changeAddress = (json) => {\r\n    this.setState(json);\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value = e.target.type === \"checkbox\" ? e.target.checked : e.target.value;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  handleSave = (e) => {\r\n    e.preventDefault();\r\n    //Confirmación de almacenamiento\r\n    let conf = window.confirm(\"¿Esta seguro de almacenar a este contacto?\");\r\n\r\n    if (conf) {\r\n      let {\r\n          id,\r\n          name,\r\n          validName,\r\n          rfc,\r\n          email,\r\n          validEmail,\r\n          type,\r\n          birthday,\r\n          calle,\r\n          colonia,\r\n          municipio,\r\n          estado,\r\n          cp,\r\n          t_casa,\r\n          t_oficina,\r\n          t_movil,\r\n          business,\r\n          load,\r\n          host,\r\n          token,\r\n        } = this.state,\r\n        //Creamos el body\r\n        body = {\r\n          name,\r\n          rfc,\r\n          email,\r\n          type,\r\n          birthday: business ? \"\" : birthday,\r\n          business,\r\n          domicilio:\r\n            calle + \",\" + colonia + \",\" + municipio + \",\" + estado + \",\" + cp,\r\n          telnumbers: t_casa + \",\" + t_oficina + \",\" + t_movil,\r\n        },\r\n        //Identificamos la URL y el metodo segun sea el caso (Actualizar o agregar)\r\n        url = id\r\n          ? \"http://\" + host + \"/api/contacts/\" + id\r\n          : \"http://\" + host + \"/api/contacts\",\r\n        //Actualiza el contacto o creamos el contacto\r\n        method = id ? \"PUT\" : \"POST\";\r\n\r\n      //Verificamos campos validos\r\n      if (!validName) {\r\n        window.alert(\"El contacto ya esta registrado\");\r\n        return false;\r\n      }\r\n      if (!validEmail) {\r\n        window.alert(\"El email ya esta registrado\");\r\n        return false;\r\n      }\r\n\r\n      //Mandamos señal de procesamiento\r\n      if (!load) {\r\n        this.setState({\r\n          load: true,\r\n        });\r\n      }\r\n      //Enviamos datos al API\r\n      console.log(\"Enviando datos a API para almacenar\");\r\n      fetch(url, {\r\n        method: method,\r\n        body: JSON.stringify(body),\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.data) {\r\n            console.log(\"Contacto almacenado\");\r\n            localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\r\n            if (\r\n              window.confirm(\r\n                \"Contacto almacenado con exito!.\\n¿Desea cerrar este contacto?\"\r\n              )\r\n            ) {\r\n              this.props.history.goBack();\r\n            } else {\r\n              this.setState({\r\n                load: false,\r\n                id: data.data.id,\r\n                validName: true,\r\n                validEmail: true,\r\n              });\r\n            }\r\n          } else {\r\n            window.alert(\"Error al almacenar el contacto. Intentelo mas tarde\");\r\n            console.error(data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n  getUser = (id) => {\r\n    if (id > 0) {\r\n      //Variables en localStorage\r\n      let { load, host, token } = this.state;\r\n\r\n      //Mandamos señal de carga si no lo he hecho\r\n      if (!load) {\r\n        this.setState({\r\n          load: true,\r\n        });\r\n      }\r\n      //Realiza la peticion al API\r\n      console.log(\"Descargando datos del contacto\");\r\n      fetch(\"http://\" + host + \"/api/contacts/\" + id, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            let { domicilio, telefonos } = data.data;\r\n            console.log(\"Mostrando datos del contacto\");\r\n            this.setState({\r\n              id: data.data.id,\r\n              name: data.data.nombre,\r\n              rfc: data.data.rfc,\r\n              email: data.data.email,\r\n              type: data.data.tipo,\r\n              business: data.data.empresa,\r\n              birthday: data.data.f_nacimiento,\r\n              calle: domicilio[0] ? domicilio[0].replace(/undefined/g, \"\") : \"\",\r\n              colonia: domicilio[1]\r\n                ? domicilio[1].replace(/undefined/g, \"\")\r\n                : \"\",\r\n              municipio: domicilio[2]\r\n                ? domicilio[2].replace(/undefined/g, \"\")\r\n                : \"\",\r\n              estado: domicilio[3]\r\n                ? domicilio[3].replace(/undefined/g, \"\")\r\n                : \"\",\r\n              cp: domicilio[4] ? domicilio[4].replace(/undefined/g, \"\") : \"\",\r\n              t_casa: telefonos[0]\r\n                ? telefonos[0].replace(/undefined/g, \"\")\r\n                : \"\",\r\n              t_oficina: telefonos[1]\r\n                ? telefonos[1].replace(/undefined/g, \"\")\r\n                : \"\",\r\n              t_movil: telefonos[2]\r\n                ? telefonos[2].replace(/undefined/g, \"\")\r\n                : \"\",\r\n              validName: true,\r\n              validEmail: true,\r\n              load: false,\r\n            });\r\n          } else {\r\n            console.error(\"Error al cargar el usuario\", data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class ToolsCategory extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      category_list: [],\r\n      category_select: [],\r\n      category_hijos: [],\r\n      category_hijos_3: [],\r\n      meta: {},\r\n      add: false,\r\n      name: \"\",\r\n      category_id: 0,\r\n      category_id_2: 0,\r\n      category_id_3: 0,\r\n      newItem: 0,\r\n      page: 1,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getCategories();\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.page !== this.state.page) {\r\n      console.log(\"Recargando categorias\");\r\n      this.getCategories();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { category_list, meta } = this.state,\r\n      pages = [],\r\n      category_hijos = this.state.category_hijos,\r\n      category_hijos_3 = this.state.category_hijos_3;\r\n    if (category_list.length && meta.total > 10) {\r\n      for (var i = 1; i <= meta.last_page; i++) {\r\n        pages.push(\r\n          <li\r\n            key={i}\r\n            className={\r\n              meta.current_page === i ? \"page-item disabled\" : \"page-item\"\r\n            }\r\n          >\r\n            <a\r\n              href={\"#page\" + i}\r\n              className=\"page-link\"\r\n              onClick={this.handleChangePage.bind(this, i)}\r\n            >\r\n              {i}\r\n            </a>\r\n          </li>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"card card-primary card-outline\">\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title\">Categorias</h5>\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Nombre</th>\r\n                <th>Padre</th>\r\n                <th>Eliminar</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {category_list.length ? (\r\n                category_list.map((cat) => {\r\n                  let padre = \"\";\r\n\r\n                  if (cat.depende_de != null) {\r\n                    if (cat.depende_de.depende_de != null) {\r\n                      padre = cat.depende_de.depende_de.categoria;\r\n                    }\r\n                    padre = padre\r\n                      ? padre + \"/\" + cat.depende_de.categoria\r\n                      : cat.depende_de.categoria;\r\n                  }\r\n                  padre = padre ? padre : \"--\";\r\n\r\n                  return (\r\n                    <tr\r\n                      key={cat.id}\r\n                      className={\r\n                        cat.id === this.state.newItem ? \"table-success\" : \"\"\r\n                      }\r\n                    >\r\n                      <td className=\"text-capitalize\">{cat.categoria}</td>\r\n                      <td className=\"text-capitalize\">{padre}</td>\r\n                      <td>\r\n                        <button\r\n                          className=\"btn btn-outline-light btn-sm\"\r\n                          onClick={(e) => {\r\n                            this.handleClickDelete(cat.id);\r\n                          }}\r\n                        >\r\n                          <i className=\"fas fa-trash\"></i>\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan=\"8\" className=\"text-center\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n            {this.state.add ? (\r\n              <tfoot>\r\n                <tr>\r\n                  <td>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      className=\"form-control\"\r\n                      autoComplete=\"off\"\r\n                      value={this.state.name}\r\n                      onChange={this.catchInputs}\r\n                      ref={(input) => {\r\n                        this.nameInput = input;\r\n                      }}\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    <select\r\n                      name=\"category_id\"\r\n                      className=\"form-control\"\r\n                      value={this.state.category_id}\r\n                      onChange={this.handleCategoryChange}\r\n                    >\r\n                      <option value=\"0\">Inicial</option>\r\n                      {this.state.category_select.map((cat) => {\r\n                        return (\r\n                          <option key={cat.id} value={cat.id}>\r\n                            {cat.categoria}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                    {category_hijos.length ? (\r\n                      <select\r\n                        name=\"category_id_2\"\r\n                        className=\"form-control mt-2\"\r\n                        value={this.state.category_id_2}\r\n                        onChange={this.handleCategoryChange}\r\n                      >\r\n                        <option value=\"0\">Raiz</option>\r\n                        {this.state.category_hijos.map((cat) => {\r\n                          return (\r\n                            <option key={cat.id} value={cat.id}>\r\n                              {cat.categoria}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                      </select>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    {category_hijos_3.length ? (\r\n                      <select\r\n                        name=\"category_id_3\"\r\n                        className=\"form-control mt-2\"\r\n                        value={this.state.category_id_3}\r\n                        onChange={this.handleCategoryChange}\r\n                      >\r\n                        <option value=\"0\">Raiz</option>\r\n                        {this.state.category_hijos_3.map((cat) => {\r\n                          return (\r\n                            <option key={cat.id} value={cat.id}>\r\n                              {cat.categoria}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                      </select>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    <button\r\n                      className=\"btn btn-dark btn-sm\"\r\n                      onClick={this.handleClickSave}\r\n                    >\r\n                      <i className=\"fas fa-check\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            ) : (\r\n              <tfoot>\r\n                <tr>\r\n                  <td colSpan=\"3\">\r\n                    {Object.keys(meta).length && meta.total > 10 ? (\r\n                      <div className=\"btn-group\">\r\n                        <ul className=\"pagination pagination-sm\">{pages}</ul>\r\n                      </div>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            )}\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <button\r\n            className=\"btn btn-primary btn-sm\"\r\n            onClick={this.handleClickAdd}\r\n          >\r\n            {this.state.add ? (\r\n              <i className=\"fas fa-undo\"></i>\r\n            ) : (\r\n              <i className=\"fas fa-plus\"></i>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleCategoryChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name === \"category_id\") {\r\n      if (value) {\r\n        this.state.category_select.map((cat) => {\r\n          if (cat.id === value * 1) {\r\n            this.setState({\r\n              category_hijos: cat.hijos,\r\n            });\r\n          }\r\n          return null;\r\n        });\r\n      }\r\n    }\r\n    if (name === \"category_id_2\") {\r\n      if (value) {\r\n        this.state.category_hijos.map((cat) => {\r\n          if (cat.id === value * 1) {\r\n            this.setState({\r\n              category_hijos_3: cat.hijos,\r\n            });\r\n          }\r\n          return null;\r\n        });\r\n      }\r\n    }\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  handleChangePage = (id) => {\r\n    this.setState({\r\n      page: id,\r\n    });\r\n  };\r\n  handleClickDelete = (id) => {\r\n    if (id) {\r\n      if (window.confirm(\"¿Realmente desea eliminar esta categoria?\")) {\r\n        let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n        console.log(\"Enviando peticion de eliminado al API\", id);\r\n        fetch(\"http://\" + varLocalStorage.host + \"/api/categories/\" + id, {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: \"Bearer \" + varLocalStorage.token,\r\n          },\r\n        })\r\n          .then((res) => {\r\n            if (!res.ok) {\r\n              window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n            } else {\r\n              console.log(\"Categoria eliminada\");\r\n              this.getCategories();\r\n              this.setState({\r\n                newItem: 0,\r\n                add: false,\r\n              });\r\n            }\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n          });\r\n      }\r\n    }\r\n  };\r\n  handleClickSave = () => {\r\n    if (this.state.name.length > 3) {\r\n      if (window.confirm(\"¿Deseal almacenar esta categoria?\")) {\r\n        //Variables en localStorage\r\n        let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n          body = {\r\n            name: this.state.name,\r\n            category_id: this.state.category_id_3\r\n              ? this.state.category_id_3\r\n              : this.state.category_id_2\r\n              ? this.state.category_id_2\r\n              : this.state.category_id,\r\n          };\r\n        console.log(\"Enviando categoria al API para almacenar\");\r\n        fetch(\"http://\" + varLocalStorage.host + \"/api/categories\", {\r\n          method: \"POST\",\r\n          body: JSON.stringify(body),\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: \"Bearer \" + varLocalStorage.token,\r\n          },\r\n        })\r\n          .then((res) => {\r\n            if (!res.ok) {\r\n              window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n              console.log(\"Error en API\", res);\r\n            }\r\n            return res.json();\r\n          })\r\n          .then((cat) => {\r\n            if (cat.data) {\r\n              console.log(\"Categoria almacenada\");\r\n              this.setState({\r\n                newItem: cat.data.id,\r\n                name: \"\",\r\n                category_id: 0,\r\n                add: false,\r\n              });\r\n              this.getCategories();\r\n            }\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n          });\r\n      }\r\n    } else {\r\n      window.alert(\"Debe de escribir el nombre de la categoria\");\r\n      this.nameInput.focus();\r\n    }\r\n  };\r\n  getCategories = () => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      url = \"http://\" + varLocalStorage.host + \"/api/categories\",\r\n      categoryid = \"&categoryid=raiz\",\r\n      page = this.state.page > 0 ? \"?page=\" + this.state.page : \"?page=1\";\r\n    console.log(\"Descargando lista de categorias\");\r\n    fetch(url + page, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + varLocalStorage.token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((cat) => {\r\n        if (cat.data) {\r\n          console.log(\"Lista de categorias descargadas\");\r\n          this.setState({\r\n            category_list: cat.data,\r\n            meta: cat.meta,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n    //Category_select\r\n    fetch(url + page + categoryid, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + varLocalStorage.token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((cat) => {\r\n        if (cat.data) {\r\n          this.setState({\r\n            category_select: cat.data,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n  handleClickAdd = () => {\r\n    this.setState({\r\n      add: !this.state.add,\r\n      name: \"\",\r\n      category_id: 0,\r\n      category_id_2: 0,\r\n      category_id_3: 0,\r\n      category_hijos: [],\r\n      category_hijos_3: [],\r\n    });\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value.toLowerCase(),\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Category from \"./tools_category\";\r\n//import { Link } from 'react-router-dom';\r\n\r\nexport default class StoreAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      server: \"\",\r\n      company: \"\",\r\n      email: \"\",\r\n      name: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      category_list: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    this.setState({\r\n      server: varLocalStorage.host\r\n        ? varLocalStorage.host\r\n        : window.location.host.split(\":\")[0],\r\n      company: varLocalStorage.company? varLocalStorage.company : \"\",\r\n      email: varLocalStorage.email? varLocalStorage.email : \"\",\r\n      name: varLocalStorage.name ? varLocalStorage.name : \"\",\r\n      username: varLocalStorage.username ? varLocalStorage.username : \"\",\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-6\">\r\n          <div className=\"card card-primary card-outline\">\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">Generales</h5>\r\n              <p>&nbsp;</p>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"fas fa-server\"></i>\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Servidor\"\r\n                  name=\"server\"\r\n                  value={this.state.server}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"fas fa-building\"></i>\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control text-capitalize\"\r\n                  placeholder=\"Nombre de la empresa\"\r\n                  name=\"company\"\r\n                  value={this.state.company}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"card-footer text-right\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={this.clickSave}\r\n              >\r\n                Guardar\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <Category />\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <div className=\"card card-primary card-outline\">\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">Usuario</h5>\r\n              <p>&nbsp;</p>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"fas fa-at\"></i>\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Email\"\r\n                  name=\"email\"\r\n                  value={this.state.email}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"fas fa-user-tag\"></i>\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control text-capitalize\"\r\n                  placeholder=\"Nombre completo\"\r\n                  name=\"name\"\r\n                  value={this.state.name}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <hr />\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"fas fa-user-check\"></i>\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Usuario\"\r\n                  name=\"username\"\r\n                  value={this.state.username}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"fas fa-lock\"></i>\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Contraseña\"\r\n                  name=\"password\"\r\n                  value={this.state.password}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"card-footer text-right\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={this.clickSaveUser}\r\n              >\r\n                Guardar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  clickSave = () => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    varLocalStorage.company = this.state.company;\r\n    varLocalStorage.host = this.state.server;\r\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage));\r\n  };\r\n  clickSaveUser = () => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    varLocalStorage.email = this.state.email;\r\n    varLocalStorage.name = this.state.name;\r\n    varLocalStorage.username = this.state.username;\r\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage));\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value.toLowerCase(),\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Filter extends Component {\r\n  render() {\r\n    const { search, status, date } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"btn-group\">\r\n          <a\r\n            href=\"#Filters\"\r\n            className=\"btn btn-tool text-dark\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#filters\"\r\n          >\r\n            <i className=\"fas fa-filter\"></i>\r\n          </a>\r\n        </div>\r\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Busquedas</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n\r\n              <form className=\"modal-body\">\r\n                <div className=\"input-group mb-3\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por: paciente\"\r\n                    value={search ? search : \"\"}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Estado</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-toggle-on\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"status\"\r\n                    value={status}\r\n                    onChange={this.changeFilters}\r\n                  >\r\n                    <option value=\"\">Todos</option>\r\n                    <option value=\"0\">Activo</option>\r\n                    <option value=\"1\">Terminado</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Fecha</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-calendar-alt\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"form-control\"\r\n                    name=\"date\"\r\n                    value={date}\r\n                    onChange={this.changeFilters}\r\n                  />\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"modal-footer\">\r\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-window-close mr-2\"></i>\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={\r\n                      search || date || status\r\n                        ? \"btn btn-outline-dark\"\r\n                        : \"btn btn-outline-dark disabled\"\r\n                    }\r\n                    onClick={this.onClickClean}\r\n                  >\r\n                    <i className=\"fas fa-eraser mr-2\"></i>\r\n                    Limpiar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    onClick={this.setFilters}\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-search mr-2\"></i>\r\n                    Buscar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  onKeyPressSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      this.setFilters();\r\n    }\r\n  };\r\n  onClickClean = () => {\r\n    this.props.changeFilters(\"search\", \"\");\r\n    this.props.changeFilters(\"status\", \"\");\r\n    this.props.changeFilters(\"date\", \"\");\r\n    this.setFilters();\r\n  };\r\n  setFilters = () => {\r\n    this.props.handleChangePage(1);\r\n    window.$(\"#filters\").modal(\"hide\");\r\n  };\r\n  changeFilters = (e) => {\r\n    const { name, value } = e.target;\r\n    this.props.changeFilters(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport Header from \"../Layouts/headerTable\";\r\nimport Filter from \"./index_filter\";\r\nimport Pagination from \"../Layouts/pagination\";\r\nimport Actions from \"../Layouts/actionsTable\";\r\n\r\nexport default class Exam extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      exams: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      load: true,\r\n      page: 1,\r\n      orderby: \"created_at\",\r\n      order: \"desc\",\r\n      search: \"\",\r\n      status: 0,\r\n      date: moment.utc(new Date()).local().format(\"YYYY-MM-DD\"),\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getExams();\r\n    moment.locale(\"es\");\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.load === false && this.state.load === true) {\r\n      console.log(\"Recargando citas\");\r\n      this.getExams();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { exams, load } = this.state,\r\n      dataHeaders = [\r\n        { name: \"Paciente\", type: \"name\", filter: true },\r\n        { name: \"Edad\" },\r\n        { name: \"Estado\" },\r\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\r\n        { name: \"Registrado\", type: \"created_at\", filter: true },\r\n      ];\r\n\r\n    return (\r\n      <div className=\"card card-info card-outline\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title text-info\">\r\n            <i className=\"fas fa-notes-medical mr-2\"></i>\r\n            Examanes de la vista\r\n          </h3>\r\n          <div className=\"card-tools\">\r\n            <Filter\r\n              search={this.state.search}\r\n              status={this.state.status}\r\n              date={this.state.date}\r\n              changeFilters={this.onchangeSearch}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n            <Pagination\r\n              meta={exams.meta}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-bordered table-hover table-nowrap\">\r\n            <Header\r\n              orderby={this.state.orderby}\r\n              order={this.state.order}\r\n              data={dataHeaders}\r\n              actions={true}\r\n              handleOrder={this.handleOrder}\r\n            />\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"8\" className=\"text-center\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(exams.data).length ? (\r\n                exams.data.map((exam) => {\r\n                  return (\r\n                    <tr\r\n                      key={exam.id}\r\n                      className={\r\n                        exam.estado\r\n                          ? \"table-secondary\"\r\n                          : moment\r\n                              .utc(new Date())\r\n                              .isSame(moment.utc(exam.created_at), \"hour\")\r\n                          ? \"table-success\"\r\n                          : \"\"\r\n                      }\r\n                    >\r\n                      <td>\r\n                        <Link to={\"/consultorio/registro/\" + exam.id}>\r\n                          <span className=\"badge badge-danger text-capitalize p-1\">\r\n                            {exam.paciente.nombre}\r\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\r\n                          </span>\r\n                        </Link>\r\n                      </td>\r\n                      <td>{exam.edad ? exam.edad : \"--\"}</td>\r\n                      <td className=\"text-uppercase\">\r\n                        {exam.estado ? (\r\n                          <span className=\"text-secondary\">Terminado</span>\r\n                        ) : (\r\n                          <span className=\"text-success\">Activo</span>\r\n                        )}\r\n                      </td>\r\n                      <td>{moment(exam.created_at).fromNow()}</td>\r\n                      <td>{moment(exam.updated_at).format(\"LL\")}</td>\r\n                      <Actions\r\n                        id={exam.id}\r\n                        item={exam.paciente.nombre}\r\n                        delete={exam.estado ? null : this.handleDelete}\r\n                        edit={\"/consultorio/registro/\"}\r\n                      />\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"8\" className=\"text-center\">\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <Link\r\n            to=\"/consultorio/registro\"\r\n            className=\"btn btn-outline-info\"\r\n            onClick={this.changePage}\r\n            id=\"/consultorio/registro\"\r\n          >\r\n            <i className=\"fas fa-plus\" id=\"/consultorio/registro\"></i>\r\n            &nbsp; Nuevo examen\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleFilter = () => {\r\n    this.setState({\r\n      load: true,\r\n      page: 1,\r\n    });\r\n  };\r\n  onchangeSearch = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleOrder = (item) => {\r\n    this.setState({\r\n      orderby: item,\r\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\r\n      load: true,\r\n    });\r\n  };\r\n  handleChangePage = (id) => {\r\n    this.setState({\r\n      page: id,\r\n      load: true,\r\n    });\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e.target.id);\r\n  };\r\n  handleDelete = (id, item) => {\r\n    let conf = window.confirm(\r\n        \"¿Esta seguro de eliminar el examen del paciente \" +\r\n          item.toUpperCase() +\r\n          \"?\"\r\n      ),\r\n      { host, token } = this.state;\r\n\r\n    if (conf) {\r\n      //Mandamos señal de eliminación\r\n      this.setState({\r\n        load: true,\r\n      });\r\n      //Inicio de proceso de eliminción por API\r\n      fetch(\"http://\" + host + \"/api/exams/\" + id, {\r\n        method: \"DELETE\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            console.log(\"Examen eliminado\");\r\n            this.getExams();\r\n            window.alert(\"Examen eliminado con exito\");\r\n          } else {\r\n            console.error(\"Error al eliminar el examen\", data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n  getExams() {\r\n    //Variables\r\n    let {\r\n        host,\r\n        token,\r\n        order,\r\n        orderby,\r\n        search,\r\n        page,\r\n        status,\r\n        load,\r\n        date,\r\n      } = this.state,\r\n      url = \"http://\" + host + \"/api/exams\",\r\n      ordenar = `&orderby=${orderby}&order=${order}`,\r\n      buscar = search ? `&search=${search}` : \"\",\r\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\",\r\n      fecha = date === \"\" ? \"\" : \"&date=\" + date,\r\n      estado = status === \"\" ? \"\" : \"&status=\" + status;\r\n\r\n    //Mandamos señal de carga si no lo he hecho\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n    //Realiza la peticion de los contactos\r\n    fetch(url + pagina + ordenar + estado + fecha + buscar, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          console.log(res);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (!data.message) {\r\n          console.log(\"Examenes descargados\");\r\n          this.setState({\r\n            exams: data,\r\n            load: false,\r\n          });\r\n        } else {\r\n          console.log(data.message);\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\n//import \"moment/locale/es\";\r\n\r\nexport default class searchContact extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      contacto: \"\",\r\n      data: [],\r\n      dataContact: {},\r\n      load: true,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    //identificador del contacto\r\n    let id = this.props.contact;\r\n    if (id) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n      this.getContact(id);\r\n    } else {\r\n      this.contactInput.focus();\r\n    }\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.contacto !== this.state.contacto) {\r\n      if (this.state.contacto.length > 2) {\r\n        this.getContacts(this.state.contacto);\r\n      } else {\r\n        this.setState({\r\n          data: [],\r\n        });\r\n      }\r\n    }\r\n    if (props.contact !== this.props.contact && this.props.contact) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n      this.getContact(this.props.contact);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.props.contact) {\r\n      if (this.state.load) {\r\n        return (\r\n          <div className=\"card card-danger card-outline d-print-none\">\r\n            <div className=\"card-body box-profile\">\r\n              <div className=\"text-center\">\r\n                <div className=\"spinner-border text-primary\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      } else if (Object.keys(this.state.dataContact).length) {\r\n        let {\r\n            nombre,\r\n            telefonos,\r\n            domicilio,\r\n            id,\r\n            f_nacimiento,\r\n          } = this.state.dataContact,\r\n          edad = this.props.edad\r\n            ? this.props.edad + \" años\"\r\n            : moment(f_nacimiento).fromNow(true);\r\n\r\n        return (\r\n          <div className=\"card card-danger card-outline\">\r\n            <div className=\"card-body box-profile\">\r\n              <div className=\"text-center\">\r\n                <img\r\n                  className=\"profile-user-img img-fluid img-circle\"\r\n                  src=\"https://uybor.uz/borless/uybor/img/user-images/no-avatar.png\"\r\n                  alt=\"User Avatar\"\r\n                />\r\n              </div>\r\n\r\n              <h3 className=\"profile-username text-center text-capitalize\">\r\n                {nombre}\r\n              </h3>\r\n              <p className=\"text-muted text-center\">\r\n                {telefonos[2] ? (\r\n                  telefonos[2]\r\n                ) : telefonos[0] ? (\r\n                  telefonos[0]\r\n                ) : telefonos[1] ? (\r\n                  telefonos[1]\r\n                ) : (\r\n                  <span className=\"text-danger\">Capture el telefono</span>\r\n                )}\r\n              </p>\r\n              <p className=\"text-muted text-center\">\r\n                {domicilio[0] ? (\r\n                  domicilio[0]\r\n                ) : (\r\n                  <span className=\"text-danger\">Capture el domicilio</span>\r\n                )}\r\n              </p>\r\n\r\n              <ul className=\"list-group list-group-unbordered mb-3\">\r\n                <li className=\"list-group-item\">\r\n                  <b>Edad:</b>\r\n                  <span className=\"float-right\">\r\n                    {f_nacimiento ? edad : \"--\"}\r\n                  </span>\r\n                </li>\r\n                <li className=\"list-group-item\">\r\n                  <b>#Contacto:</b>\r\n                  <span className=\"float-right\">{id}</span>\r\n                </li>\r\n              </ul>\r\n              {!this.props.status ? (\r\n                <div className=\"btn-group btn-block\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-dark\"\r\n                    onClick={this.handleClickChange}\r\n                  >\r\n                    <i className=\"fas fa-exchange-alt mr-1\"></i>\r\n                    <b>Cambiar</b>\r\n                  </button>\r\n                  <Link\r\n                    to={\"/contactos/registro/\" + id}\r\n                    className=\"btn btn-danger\"\r\n                    onClick={(e) => {\r\n                      this.handleChangePage(\"/contactos/registro/\");\r\n                    }}\r\n                  >\r\n                    <i className=\"fas fa-edit mr-1\"></i>\r\n                    <b>Editar</b>\r\n                  </Link>\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    } else {\r\n      return (\r\n        <div className=\"card card-danger card-outline d-print-none\">\r\n          <div className=\"card-body\">\r\n            <label>Buscar paciente</label>\r\n            <div className=\"input-group mb-3\">\r\n              <div className=\"input-group-prepend\">\r\n                <span className=\"input-group-text\">\r\n                  <i className=\"fas fa-user\"></i>\r\n                </span>\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Nombre del paciente\"\r\n                name=\"contacto\"\r\n                autoComplete=\"off\"\r\n                value={this.state.contacto}\r\n                onChange={this.handleSearcContact}\r\n                ref={(input) => {\r\n                  this.contactInput = input;\r\n                }}\r\n              />\r\n            </div>\r\n            {this.state.data.length ? (\r\n              <ul className=\"list-group\">\r\n                {this.state.data.map((contact) => {\r\n                  return (\r\n                    <li key={contact.id} className=\"list-group-item\">\r\n                      <a\r\n                        href=\"#contact\"\r\n                        className=\"text-muted text-capitalize\"\r\n                        onClick={(e) => {\r\n                          this.handleClickContact(e, contact.id);\r\n                        }}\r\n                      >\r\n                        <i className=\"fas fa-user mr-1\"></i>\r\n                        {contact.nombre}\r\n                      </a>\r\n                      {!contact.id ? (\r\n                        <p>\r\n                          <Link\r\n                            to=\"/contactos/registro/\"\r\n                            className=\"btn btn-primary\"\r\n                            onClick={(e) => {\r\n                              this.handleChangePage(\"/contactos/registro/\");\r\n                            }}\r\n                          >\r\n                            <i className=\"fas fa-user mr-1\"></i>\r\n                            <b>Agregar nuevo paciente</b>\r\n                          </Link>\r\n                        </p>\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </li>\r\n                  );\r\n                })}\r\n              </ul>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  getContact = (id) => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    //Realiza busqueda de contacto\r\n    fetch(\"http://\" + varLocalStorage.host + \"/api/contacts/\" + id, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + varLocalStorage.token,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(\"Descargando contacto\");\r\n        this.setState({\r\n          dataContact: data.data,\r\n          load: false,\r\n        });\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n  handleChangePage = (page) => {\r\n    this.props.changePage(page);\r\n  };\r\n  handleClickChange = (e) => {\r\n    e.preventDefault();\r\n    if (window.confirm(\"¿Realmente desea cambiar de paciente?\")) {\r\n      this.setState({\r\n        contacto: \"\",\r\n        data: [],\r\n        dataContact: {},\r\n      });\r\n      this.props.getIdContact(0);\r\n    }\r\n  };\r\n  handleClickContact = (e, id) => {\r\n    e.preventDefault();\r\n    this.state.data.map((contact) => {\r\n      if (contact.id === id) {\r\n        this.setState({\r\n          contacto: \"\",\r\n          data: [],\r\n          dataContact: contact,\r\n        });\r\n        let edad =\r\n          moment(contact.f_nacimiento)\r\n            .fromNow(true)\r\n            .replace(/[a-zA-ZñÑ]/gi, \"\") * 1;\r\n        this.props.getIdContact(id, edad);\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    });\r\n  };\r\n  getContacts = (word) => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      url = \"http://\" + varLocalStorage.host + \"/api/contacts\",\r\n      type = \"&type=0\",\r\n      search = word ? `&search=${word}` : \"\",\r\n      page = \"?page=1\";\r\n    console.log(\"Descargando contactos de la API\");\r\n    //Realiza la peticion de los contactos\r\n    fetch(url + page + search + type, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + varLocalStorage.token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.data && data.data.length) {\r\n          console.log(\"Mostrando información del contacto\");\r\n          this.setState({\r\n            data: data.data,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            data: [\r\n              {\r\n                id: 0,\r\n                nombre: \"No hay contactos para: \" + word,\r\n              },\r\n            ],\r\n          });\r\n        }\r\n      });\r\n  };\r\n  handleSearcContact = (e) => {\r\n    //console.log(e.target.value);\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class GeneralesExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"headingOne\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#collapseOne\"\r\n              aria-expanded=\"true\"\r\n              aria-controls=\"collapseOne\"\r\n            >\r\n              Generales\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"collapseOne\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingOne\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-3\">\r\n                <span className=\"label label-default\">\r\n                  <i className=\"fas fa-desktop\"></i> PC\r\n                </span>\r\n                <input\r\n                  name=\"pc\"\r\n                  type=\"checkbox\"\r\n                  checked={this.props.pc}\r\n                  onChange={this.catchInputs}\r\n                />\r\n                <input\r\n                  type=\"time\"\r\n                  name=\"pc_time\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.pc_time}\r\n                  onChange={this.catchInputs}\r\n                  readOnly={this.props.pc ? \"\" : \"readonly\"}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <span className=\"label label-default\">\r\n                  <i className=\"fas fa-tablet\"></i> Tablet\r\n                </span>\r\n                <input\r\n                  name=\"tablet\"\r\n                  type=\"checkbox\"\r\n                  checked={this.props.tablet}\r\n                  onChange={this.catchInputs}\r\n                />\r\n                <input\r\n                  type=\"time\"\r\n                  name=\"tablet_time\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.tablet_time}\r\n                  onChange={this.catchInputs}\r\n                  readOnly={this.props.tablet ? \"\" : \"readonly\"}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <span className=\"label label-default\">\r\n                  <i className=\"fas fa-mobile\"></i> Telefono\r\n                </span>\r\n                <input\r\n                  name=\"movil\"\r\n                  type=\"checkbox\"\r\n                  checked={this.props.movil}\r\n                  onChange={this.catchInputs}\r\n                />\r\n                <input\r\n                  type=\"time\"\r\n                  name=\"movil_time\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.movil_time}\r\n                  onChange={this.catchInputs}\r\n                  readOnly={this.props.movil ? \"\" : \"readonly\"}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <span className=\"label label-default\">\r\n                  <i className=\"fa fa-laptop\"></i> Laptop\r\n                </span>\r\n                <input\r\n                  name=\"lap\"\r\n                  type=\"checkbox\"\r\n                  checked={this.props.lap}\r\n                  onChange={this.catchInputs}\r\n                />\r\n                <input\r\n                  type=\"time\"\r\n                  name=\"lap_time\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.lap_time}\r\n                  onChange={this.catchInputs}\r\n                  readOnly={this.props.lap ? \"\" : \"readonly\"}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-1\">\r\n              <div className=\"col-md-6\">\r\n                <ul className=\"list-group\">\r\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                    Frontal\r\n                    <span className=\"badge badge-pill\">\r\n                      <input\r\n                        name=\"frontal\"\r\n                        type=\"checkbox\"\r\n                        checked={this.props.frontal}\r\n                        onChange={this.catchInputs}\r\n                      />\r\n                    </span>\r\n                  </li>\r\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                    Occipita\r\n                    <span className=\"badge badge-pill\">\r\n                      <input\r\n                        name=\"occipital\"\r\n                        type=\"checkbox\"\r\n                        checked={this.props.occipital}\r\n                        onChange={this.catchInputs}\r\n                      />\r\n                    </span>\r\n                  </li>\r\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                    General\r\n                    <span className=\"badge badge-pill\">\r\n                      <input\r\n                        name=\"generality\"\r\n                        type=\"checkbox\"\r\n                        checked={this.props.generality}\r\n                        onChange={this.catchInputs}\r\n                      />\r\n                    </span>\r\n                  </li>\r\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                    Cefalea\r\n                    <span className=\"badge badge-pill\">\r\n                      <input\r\n                        name=\"cefalea\"\r\n                        type=\"checkbox\"\r\n                        checked={this.props.cefalea}\r\n                        onChange={this.catchInputs}\r\n                      />\r\n                    </span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <ul className=\"list-group\">\r\n                  <li className=\"list-group-item\">\r\n                    Temporal\r\n                    <br />\r\n                    <i className=\"fa fa-eye\"></i> Izquierdo\r\n                    <span className=\"badge badge-pill\">\r\n                      <input\r\n                        name=\"temporaoi\"\r\n                        type=\"checkbox\"\r\n                        checked={this.props.temporaoi}\r\n                        onChange={this.catchInputs}\r\n                      />\r\n                    </span>\r\n                    <i className=\"fa fa-eye\"></i> Derecho\r\n                    <span className=\"badge badge-pill\">\r\n                      <input\r\n                        name=\"temporaod\"\r\n                        type=\"checkbox\"\r\n                        checked={this.props.temporaod}\r\n                        onChange={this.catchInputs}\r\n                      />\r\n                    </span>\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    Frecuencia\r\n                    <span className=\"badge badge-pill\">\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"c_frecuencia\"\r\n                        maxLength=\"60\"\r\n                        className=\"form-control input-xs\"\r\n                        value={this.props.c_frecuencia}\r\n                        onChange={this.catchInputs}\r\n                      />\r\n                    </span>\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    Intensidad\r\n                    <span className=\"badge badge-pill\">\r\n                      <input\r\n                        type=\"range\"\r\n                        name=\"c_intensidad\"\r\n                        min=\"0\"\r\n                        max=\"4\"\r\n                        value={this.props.c_intensidad}\r\n                        onChange={this.catchInputs}\r\n                      />\r\n                    </span>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class InterrogatorioExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"headingThree\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#collapseThree\"\r\n              aria-expanded=\"false\"\r\n              aria-controls=\"collapseThree\"\r\n            >\r\n              Interrogatorios\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"collapseThree\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingThree\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <label>Interrogatorio inicial</label>\r\n                <textarea\r\n                  name=\"interrogatorio\"\r\n                  className=\"form-control\"\r\n                  value={this.props.interrogatorio}\r\n                  onChange={this.catchInputs}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12\">\r\n                <label>Cirugias oculares</label>\r\n                <textarea\r\n                  name=\"coa\"\r\n                  className=\"form-control\"\r\n                  value={this.props.coa}\r\n                  onChange={this.catchInputs}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12\">\r\n                <label>Antecedentes oculares patologicas personales</label>\r\n                <textarea\r\n                  name=\"aopp\"\r\n                  className=\"form-control\"\r\n                  rows=\"2\"\r\n                  value={this.props.aopp}\r\n                  onChange={this.catchInputs}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12\">\r\n                <label>Antecedentes oculares patologicas familiares</label>\r\n                <textarea\r\n                  name=\"aopf\"\r\n                  className=\"form-control\"\r\n                  rows=\"2\"\r\n                  value={this.props.aopf}\r\n                  onChange={this.catchInputs}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class KeraRetExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"heading\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#panel_100\"\r\n              aria-expanded=\"true\"\r\n              aria-controls=\"panel_100\"\r\n            >\r\n              Keratrometria y Retinoscopia\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"panel_100\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingOne\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-6\">Keratometria</div>\r\n              <div className=\"col-6\">Retinoscopia</div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-3\">\r\n                <i className=\"fas fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"keratometriaoi\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.keratometriaoi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fas fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"keratometriaod\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.keratometriaod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"rsod\"\r\n                  maxLength=\"16\"\r\n                  className=\"form-control\"\r\n                  value={this.props.rsod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"rsoi\"\r\n                  maxLength=\"16\"\r\n                  className=\"form-control\"\r\n                  value={this.props.rsoi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class DiabetesExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"heading4\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#caja4\"\r\n              aria-expanded=\"false\"\r\n              aria-controls=\"caja4\"\r\n            >\r\n              Diabetes\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"caja4\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingThree\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-8\">\r\n                <label>Diab&eacute;tico</label>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <label>Fotocoagulaci&oacute;n laser</label>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-3\">Fecha</div>\r\n              <div className=\"col-2\">Rango de glucosa</div>\r\n              <div className=\"col-3\">Ultimo examen</div>\r\n              <div className=\"col-2\">\r\n                <i className=\"fa fa-eye\"></i> Derecho\r\n              </div>\r\n              <div className=\"col-2\">\r\n                <i className=\"fa fa-eye\"></i> Izquierdo\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-3\">\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"d_time\"\r\n                  className=\"form-control\"\r\n                  value={this.props.d_time}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"d_media\"\r\n                  className=\"form-control\"\r\n                  value={this.props.d_media}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"d_test\"\r\n                  className=\"form-control\"\r\n                  value={this.props.d_test}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <input\r\n                  name=\"d_fclod\"\r\n                  type=\"checkbox\"\r\n                  checked={this.props.d_fclod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n                <input\r\n                  type=\"time\"\r\n                  name=\"d_fclod_time\"\r\n                  className=\"form-control\"\r\n                  value={this.props.d_fclod_time}\r\n                  onChange={this.catchInputs}\r\n                  readOnly={this.props.d_fclod ? \"\" : \"readonly\"}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <input\r\n                  name=\"d_fcloi\"\r\n                  type=\"checkbox\"\r\n                  checked={this.props.d_fcloi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n                <input\r\n                  type=\"time\"\r\n                  name=\"d_fcloi_time\"\r\n                  className=\"form-control\"\r\n                  value={this.props.d_fcloi_time}\r\n                  onChange={this.catchInputs}\r\n                  readOnly={this.props.d_fcloi ? \"\" : \"readonly\"}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <label>Oftalmoscopia</label>\r\n                <textarea\r\n                  name=\"oftalmoscopia\"\r\n                  className=\"form-control\"\r\n                  value={this.props.oftalmoscopia}\r\n                  onChange={this.catchInputs}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class AgudezaExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"heading5\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#caja5\"\r\n              aria-expanded=\"false\"\r\n              aria-controls=\"caja5\"\r\n            >\r\n              Capacidad y agudeza visual\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"caja5\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingThree\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">Capacidad visual</div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"cvod\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control\"\r\n                  value={this.props.cvod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"cvoi\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control\"\r\n                  value={this.props.cvoi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-md-6\">Agudeza visual (Sin lentes)</div>\r\n              <div className=\"col-md-6\">\r\n                Agudeza visual (con la graduaci&oacute;n anterior)\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avslod\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control\"\r\n                  value={this.props.avslod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avsloi\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control\"\r\n                  value={this.props.avsloi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avcgaod\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.avcgaod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avcgaoi\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.avcgaoi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">Agudeza visual final</div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avfod\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control\"\r\n                  value={this.props.avfod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avfoi\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control\"\r\n                  value={this.props.avfoi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <i className=\"fa fa-eye\"></i>\r\n                <i className=\"fa fa-eye\"></i> <label>Ambos</label>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avf2o\"\r\n                  maxLength=\"25\"\r\n                  className=\"form-control\"\r\n                  value={this.props.avf2o}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class DiagnosticoExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"heading6\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#caja6\"\r\n              aria-expanded=\"false\"\r\n              aria-controls=\"caja6\"\r\n            >\r\n              Diagnostico\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"caja6\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingThree\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\"></div>\r\n              <div className=\"col-md-6\">Tensi&oacute;n ocular</div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-3\">\r\n                Diagnostico\r\n                <select\r\n                  name=\"diagnostico\"\r\n                  className=\"form-control\"\r\n                  value={this.props.diagnostico}\r\n                  onChange={this.catchInputs}\r\n                >\r\n                  <option value=\"Hemetrope\">Hem&eacute;trope</option>\r\n                  <option value=\"hipermetropia\">Hipermetrop&iacute;a</option>\r\n                  <option value=\"hipermetropia-astigmatismo\">\r\n                    Hipermetrop&iacute;a y astigmatismo\r\n                  </option>\r\n                  <option value=\"hipermetropia-miopia\">\r\n                    Hipermetrop&iacute;a y miop&iacute;a\r\n                  </option>\r\n                  <option value=\"astigmatismo-regla\">\r\n                    Astigmatismo con la regla\r\n                  </option>\r\n                  <option value=\"astigmatismo-contra-regla\">\r\n                    Astigmatismo contra la regla\r\n                  </option>\r\n                  <option value=\"astigmatismo-oblicuo\">\r\n                    Astigmatismo oblicuo\r\n                  </option>\r\n                  <option value=\"astigmatismo-miopia\">\r\n                    Astigmatismo/m&iacute;opico\r\n                  </option>\r\n                  <option value=\"miopia\">Miop&iacute;a</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                Presbicie\r\n                <br />\r\n                <input\r\n                  name=\"presbicie\"\r\n                  type=\"checkbox\"\r\n                  checked={this.props.presbicie}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"piod\"\r\n                  min=\"0\"\r\n                  max=\"40\"\r\n                  step=\"1\"\r\n                  className=\"form-control\"\r\n                  value={this.props.piod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"pioi\"\r\n                  min=\"0\"\r\n                  max=\"40\"\r\n                  step=\"1\"\r\n                  className=\"form-control\"\r\n                  value={this.props.pioi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <label>Tratamiento oftalmico</label>\r\n                <textarea\r\n                  name=\"txoftalmico\"\r\n                  className=\"form-control\"\r\n                  value={this.props.txoftalmico}\r\n                  onChange={this.catchInputs}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class ObservacionesExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"heading8\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#caja8\"\r\n              aria-expanded=\"false\"\r\n              aria-controls=\"caja8\"\r\n            >\r\n              Observaciones\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"caja8\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingThree\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <textarea\r\n              name=\"observaciones\"\r\n              className=\"form-control\"\r\n              value={this.props.observaciones}\r\n              onChange={this.catchInputs}\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchContact from \"../Contacts/searchContactCard\";\r\nimport Recomendaciones from \"./recomendaciones\";\r\nimport Generales from \"./generalesExam\";\r\nimport Interrogatorios from \"./interrogatoriosExam\";\r\nimport KeraRet from \"./keraRetExam\";\r\nimport Diabetes from \"./diabetesExam\";\r\nimport Agudeza from \"./agudezaExam\";\r\nimport Diagnostico from \"./diagnosticoExam\";\r\nimport Graduacion from \"./graduacionExam\";\r\nimport Observaciones from \"./observacionesExam\";\r\n\r\nexport default class ExamAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: 0,\r\n      edad: 0,\r\n      keratometriaoi: \"\",\r\n      keratometriaod: \"\",\r\n      pantalleooi: \"\",\r\n      pantalleood: \"\",\r\n      interrogatorio: \"\",\r\n      cefalea: false,\r\n      c_frecuencia: \"\",\r\n      c_intensidad: 0,\r\n      frontal: false,\r\n      temporal: false,\r\n      occipital: false,\r\n      generality: false,\r\n      temporaoi: false,\r\n      temporaod: false,\r\n      coa: \"\",\r\n      aopp: \"\",\r\n      aopf: \"\",\r\n      avsloi: \"\",\r\n      avslod: \"\",\r\n      avcgaoi: \"\",\r\n      avcgaod: \"\",\r\n      cvoi: \"\",\r\n      cvod: \"\",\r\n      oftalmoscopia: \"\",\r\n      rsoi: \"\",\r\n      rsod: \"\",\r\n      diagnostico: \"Hemetrope\",\r\n      presbicie: true,\r\n      txoftalmico: \"\",\r\n      esferaoi: 0,\r\n      esferaod: 0,\r\n      cilindroi: 0,\r\n      cilindrod: 0,\r\n      ejeoi: 0,\r\n      ejeod: 0,\r\n      adicioni: 0,\r\n      adiciond: 0,\r\n      dpoi: 0,\r\n      dpod: 0,\r\n      avfoi: \"\",\r\n      avfod: \"\",\r\n      avf2o: \"\",\r\n      lcmarca: \"\",\r\n      lcgoi: \"\",\r\n      lcgod: \"\",\r\n      txoptico: \"\",\r\n      alturaoi: 0,\r\n      alturaod: 0,\r\n      pioi: 0,\r\n      piod: 0,\r\n      observaciones: \"\",\r\n      pc: false,\r\n      tablet: false,\r\n      movil: false,\r\n      lap: false,\r\n      lap_time: \"00:00\",\r\n      pc_time: \"00:00\",\r\n      tablet_time: \"00:00\",\r\n      movil_time: \"00:00\",\r\n      d_time: \"00:00\",\r\n      d_media: \"\",\r\n      d_test: \"\",\r\n      d_fclod: false,\r\n      d_fcloi: false,\r\n      d_fclod_time: \"00:00\",\r\n      d_fcloi_time: \"00:00\",\r\n      category_id: 0,\r\n      contact_id: 0,\r\n      status: 0,\r\n      load: false,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    //Variables\r\n    let id = this.props.match.params.id;\r\n\r\n    if (id) {\r\n      this.getExam(id);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { contact_id } = this.state;\r\n\r\n    return (\r\n      <form className=\"row\">\r\n        <div className=\"col-md-4\">\r\n          <SearchContact\r\n            contact={this.state.contact_id}\r\n            edad={this.state.edad}\r\n            status={this.state.status}\r\n            getIdContact={this.getIdContact}\r\n            changePage={this.changePage}\r\n          />\r\n          {contact_id ? (\r\n            <Recomendaciones\r\n              category_id={this.state.category_id}\r\n              onChangeInput={this.handleChangeInput}\r\n              update={true}\r\n            />\r\n          ) : null}\r\n        </div>\r\n        <div className=\"col-md-8\">\r\n          <div className=\"card card-info card-outline\">\r\n            <div className=\"card-header\">\r\n              <h3 className=\"card-title\">\r\n                <i className=\"fas fa-notes-medical mr-1\"></i>\r\n                {this.state.id ? \"Examen\" : \"Nuevo examen\"}\r\n              </h3>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <div className=\"accordion\" id=\"accordionExample\">\r\n                {contact_id ? (\r\n                  <React.Fragment>\r\n                    <Generales\r\n                      pc={this.state.pc}\r\n                      tablet={this.state.tablet}\r\n                      movil={this.state.movil}\r\n                      lap={this.state.lap}\r\n                      lap_time={this.state.lap_time}\r\n                      pc_time={this.state.pc_time}\r\n                      tablet_time={this.state.tablet_time}\r\n                      movil_time={this.state.movil_time}\r\n                      cefalea={this.state.cefalea}\r\n                      c_frecuencia={this.state.c_frecuencia}\r\n                      c_intensidad={this.state.c_intensidad}\r\n                      frontal={this.state.frontal}\r\n                      temporal={this.state.temporal}\r\n                      occipital={this.state.occipital}\r\n                      generality={this.state.generality}\r\n                      temporaoi={this.state.temporaoi}\r\n                      temporaod={this.state.temporaod}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n\r\n                    <Interrogatorios\r\n                      interrogatorio={this.state.interrogatorio}\r\n                      coa={this.state.coa}\r\n                      aopp={this.state.aopp}\r\n                      aopf={this.state.aopf}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n\r\n                    <KeraRet\r\n                      keratometriaoi={this.state.keratometriaoi}\r\n                      keratometriaod={this.state.keratometriaod}\r\n                      rsoi={this.state.rsoi}\r\n                      rsod={this.state.rsod}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n\r\n                    <Diabetes\r\n                      d_time={this.state.d_time}\r\n                      d_media={this.state.d_media}\r\n                      d_test={this.state.d_test}\r\n                      d_fclod={this.state.d_fclod}\r\n                      d_fclod_time={this.state.d_fclod_time}\r\n                      d_fcloi={this.state.d_fcloi}\r\n                      d_fcloi_time={this.state.d_fcloi_time}\r\n                      oftalmoscopia={this.state.oftalmoscopia}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n\r\n                    <Agudeza\r\n                      cvod={this.state.cvod}\r\n                      cvoi={this.state.cvoi}\r\n                      avslod={this.state.avslod}\r\n                      avsloi={this.state.avsloi}\r\n                      avcgaod={this.state.avcgaod}\r\n                      avcgaoi={this.state.avcgaoi}\r\n                      avfod={this.state.avfod}\r\n                      avfoi={this.state.avfoi}\r\n                      avf2o={this.state.avf2o}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n\r\n                    <Diagnostico\r\n                      diagnostico={this.state.diagnostico}\r\n                      presbicie={this.state.presbicie}\r\n                      piod={this.state.piod}\r\n                      pioi={this.state.pioi}\r\n                      txoftalmico={this.state.txoftalmico}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n\r\n                    <div className=\"card\">\r\n                      <div className=\"card-header\" id=\"heading7\">\r\n                        <h2 className=\"mb-0\">\r\n                          <button\r\n                            className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n                            type=\"button\"\r\n                            data-toggle=\"collapse\"\r\n                            data-target=\"#caja7\"\r\n                            aria-expanded=\"false\"\r\n                            aria-controls=\"caja7\"\r\n                          >\r\n                            Graduaci&oacute;n\r\n                          </button>\r\n                        </h2>\r\n                      </div>\r\n                      <div\r\n                        id=\"caja7\"\r\n                        className=\"collapse\"\r\n                        aria-labelledby=\"headingThree\"\r\n                        data-parent=\"#accordionExample\"\r\n                      >\r\n                        <div className=\"card-body\">\r\n                          <Graduacion\r\n                            esferaod={this.state.esferaod}\r\n                            esferaoi={this.state.esferaoi}\r\n                            cilindrod={this.state.cilindrod}\r\n                            cilindroi={this.state.cilindroi}\r\n                            ejeod={this.state.ejeod}\r\n                            ejeoi={this.state.ejeoi}\r\n                            adiciond={this.state.adiciond}\r\n                            adicioni={this.state.adicioni}\r\n                            dpod={this.state.dpod}\r\n                            dpoi={this.state.dpoi}\r\n                            alturaod={this.state.alturaod}\r\n                            alturaoi={this.state.alturaoi}\r\n                            lcmarca={this.state.lcmarca}\r\n                            lcgod={this.state.lcgod}\r\n                            lcgoi={this.state.lcgoi}\r\n                            onChangeInput={this.handleChangeInput}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <Observaciones\r\n                      observaciones={this.state.observaciones}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n                  </React.Fragment>\r\n                ) : (\r\n                  <div className=\"card\">\r\n                    <div className=\"card-body text-info\">\r\n                      <i className=\"fas fa-exclamation-triangle mr-2\"></i>\r\n                      <label>Elija primero un paciente</label>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"card-footer text-right\">\r\n              <div className=\"btn-group\" role=\"group\">\r\n                <Link\r\n                  to=\"/consultorio\"\r\n                  className=\"btn btn-dark\"\r\n                  onClick={(e) => {\r\n                    this.changePage(\"/consultorio\");\r\n                  }}\r\n                >\r\n                  <i className=\"fas fa-ban mr-1\"></i>\r\n                  <strong>Cancelar</strong>\r\n                </Link>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-dark\"\r\n                  onClick={this.handleStatus}\r\n                >\r\n                  <i\r\n                    className={\r\n                      this.state.status\r\n                        ? \"fas fa-lock-open mr-1\"\r\n                        : \"fas fa-lock mr-1\"\r\n                    }\r\n                  ></i>\r\n                  <strong>{this.state.status ? \"Activar\" : \"Terminar\"}</strong>\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className={\r\n                    contact_id ? \"btn btn-info\" : \"btn btn-info disabled\"\r\n                  }\r\n                  onClick={this.handleSave}\r\n                  disabled={contact_id ? \"\" : \"disabled\"}\r\n                >\r\n                  <i className=\"fas fa-save mr-1\"></i>\r\n                  <strong>Guardar</strong>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n\r\n  handleChangeInput = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleStatus = () => {\r\n    this.setState({\r\n      status: !this.state.status,\r\n    });\r\n  };\r\n  getIdContact = (id, edad) => {\r\n    this.setState({\r\n      contact_id: id,\r\n      edad,\r\n    });\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  handleSave = (e) => {\r\n    e.preventDefault();\r\n    //Confirmación de almacenamiento\r\n    let conf = window.confirm(\"¿Esta seguro de realizar la accion?\");\r\n\r\n    if (conf) {\r\n      //Variables\r\n      let { load, host, token } = this.state,\r\n        body = this.state,\r\n        id = this.state.id,\r\n        //Identificamos la URL y el metodo segun sea el caso (Actualizar o agregar)\r\n        url = id\r\n          ? \"http://\" + host + \"/api/exams/\" + id\r\n          : \"http://\" + host + \"/api/exams\",\r\n        method = id ? \"PUT\" : \"POST\";\r\n      if (!body.category_id) delete body.category_id;\r\n\r\n      //Verificar si los datos son validos.\r\n\r\n      //Mandamos señal de procesamiento\r\n      if (!load) {\r\n        this.setState({\r\n          load: true,\r\n        });\r\n      }\r\n      //Crear o modificar examen\r\n      console.log(\"Enviando datos del examen a la API\");\r\n      fetch(url, {\r\n        method: method,\r\n        signal: this.signal,\r\n        body: JSON.stringify(body),\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.data) {\r\n            console.log(\"Contacto almacenado\");\r\n            if (\r\n              window.confirm(\r\n                \"Examen almacenado con exito!.\\n¿Desea cerrar este contacto?\"\r\n              )\r\n            ) {\r\n              this.props.history.goBack();\r\n            } else {\r\n              this.setState({\r\n                load: false,\r\n                id: data.data.id,\r\n              });\r\n            }\r\n          } else {\r\n            window.alert(\"Error al almacenar el examen. Intentelo mas tarde\");\r\n            console.error(data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    }\r\n  };\r\n  getExam = (id) => {\r\n    if (id) {\r\n      //Variables\r\n      let { host, token, load } = this.state;\r\n\r\n      //Mandamos señal de carga si no lo he hecho\r\n      if (!load) {\r\n        this.setState({\r\n          load: true,\r\n        });\r\n      }\r\n      //Realiza la peticion del examen por el id\r\n      console.log(\"Descargando datos del contacto\");\r\n      fetch(\"http://\" + host + \"/api/exams/\" + id, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            console.log(\"Mostrando examenes\");\r\n            this.setState({\r\n              contact_id: data.data.paciente.id,\r\n              edad: data.data.edad,\r\n              id: data.data.id,\r\n              keratometriaoi: data.data.keratometriaoi,\r\n              keratometriaod: data.data.keratometriaod,\r\n              pantalleooi: data.data.pantalleooi,\r\n              pantalleood: data.data.pantalleood,\r\n              interrogatorio: data.data.interrogatorio,\r\n              cefalea: data.data.cefalea,\r\n              c_frecuencia: data.data.c_frecuencia,\r\n              c_intensidad: data.data.c_intensidad,\r\n              frontal: data.data.frontal,\r\n              temporal: data.data.temporal,\r\n              occipital: data.data.occipital,\r\n              generality: data.data.generality,\r\n              temporaoi: data.data.temporaoi,\r\n              temporaod: data.data.temporaod,\r\n              coa: data.data.coa,\r\n              aopp: data.data.aopp,\r\n              aopf: data.data.aopf,\r\n              avsloi: data.data.avsloi,\r\n              avslod: data.data.avslod,\r\n              avcgaoi: data.data.avcgaoi,\r\n              avcgaod: data.data.avcgaod,\r\n              cvoi: data.data.cvoi,\r\n              cvod: data.data.cvod,\r\n              oftalmoscopia: data.data.oftalmoscopia,\r\n              rsoi: data.data.rsoi,\r\n              rsod: data.data.rsod,\r\n              diagnostico: data.data.diagnostico,\r\n              presbicie: data.data.presbicie,\r\n              txoftalmico: data.data.txoftalmico,\r\n              esferaoi: data.data.esferaoi,\r\n              esferaod: data.data.esferaod,\r\n              cilindroi: data.data.cilindroi,\r\n              cilindrod: data.data.cilindrod,\r\n              ejeoi: data.data.ejeoi,\r\n              ejeod: data.data.ejeod,\r\n              adicioni: data.data.adicioni,\r\n              adiciond: data.data.adiciond,\r\n              dpoi: data.data.dpoi,\r\n              dpod: data.data.dpod,\r\n              avfoi: data.data.avfoi,\r\n              avfod: data.data.avfod,\r\n              avf2o: data.data.avf2o,\r\n              lcmarca: data.data.lcmarca,\r\n              lcgoi: data.data.lcgoi,\r\n              lcgod: data.data.lcgod,\r\n              txoptico: data.data.txoptico,\r\n              alturaoi: data.data.alturaoi,\r\n              alturaod: data.data.alturaod,\r\n              pioi: data.data.pioi,\r\n              piod: data.data.piod,\r\n              observaciones: data.data.observaciones,\r\n              pc: data.data.pc,\r\n              tablet: data.data.tablet,\r\n              movil: data.data.movil,\r\n              lap: data.data.lap,\r\n              lap_time: data.data.lap_time,\r\n              pc_time: data.data.pc_time,\r\n              tablet_time: data.data.tablet_time,\r\n              movil_time: data.data.movil_time,\r\n              d_time: data.data.d_time,\r\n              d_media: data.data.d_media,\r\n              d_test: data.data.d_test,\r\n              d_fclod: data.data.d_fclod,\r\n              d_fcloi: data.data.d_fcloi,\r\n              d_fclod_time: data.data.d_fclod_time,\r\n              d_fcloi_time: data.data.d_fcloi_time,\r\n              category_id: data.data.category_id,\r\n              status: data.data.estado,\r\n            });\r\n          } else {\r\n            console.error(\"Error al cargar el usuario\", data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Filter extends Component {\r\n  render() {\r\n    const { search, status } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"btn-group\">\r\n          <a\r\n            href=\"#Filters\"\r\n            className=\"btn btn-tool text-dark\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#filters\"\r\n          >\r\n            <i className=\"fas fa-filter\"></i>\r\n          </a>\r\n        </div>\r\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Busquedas</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n\r\n              <form className=\"modal-body\">\r\n                <div className=\"input-group mb-3\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por: paciente o # de orden\"\r\n                    value={search}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Estado</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-address-book\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"status\"\r\n                    value={status}\r\n                    onChange={this.changeFilters}\r\n                  >\r\n                    <option value=\"\">Todos</option>\r\n                    <option value=\"0\">En proceso</option>\r\n                    <option value=\"1\">Laboratorio</option>\r\n                    <option value=\"2\">Bicelación</option>\r\n                    <option value=\"3\">Terminado</option>\r\n                    <option value=\"4\">Garantia</option>\r\n                    <option value=\"5\">Baja</option>\r\n                  </select>\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"modal-footer\">\r\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-window-close mr-2\"></i>\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={\r\n                      search\r\n                        ? \"btn btn-outline-dark\"\r\n                        : \"btn btn-outline-dark disabled\"\r\n                    }\r\n                    onClick={this.onClickClean}\r\n                  >\r\n                    <i className=\"fas fa-eraser mr-2\"></i>\r\n                    Limpiar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    onClick={this.setFilters}\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-search mr-2\"></i>\r\n                    Buscar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  onKeyPressSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      this.setFilters();\r\n    }\r\n  };\r\n  onClickClean = () => {\r\n    this.props.changeFilters(\"search\", \"\");\r\n    this.props.changeFilters(\"status\", \"\");\r\n    this.setFilters();\r\n  };\r\n  setFilters = () => {\r\n    this.props.handleChangePage(1);\r\n    window.$(\"#filters\").modal(\"hide\");\r\n  };\r\n  changeFilters = (e) => {\r\n    const { name, value } = e.target;\r\n    this.props.changeFilters(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport Header from \"../Layouts/headerTable\";\r\nimport Filter from \"./index_filter\";\r\nimport Pagination from \"../Layouts/pagination\";\r\nimport Actions from \"../Layouts/actionsTable\";\r\n\r\nexport default class Contacts extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let sdd = JSON.parse(localStorage.getItem(\"OrusOrder\"));\r\n    this.state = {\r\n      pedidos: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      load: true,\r\n      page: sdd ? sdd.page : 1,\r\n      orderby: sdd ? sdd.orderby : \"created_at\",\r\n      order: sdd ? sdd.order : \"asc\",\r\n      search: sdd ? sdd.search : \"\",\r\n      status: sdd ? sdd.status : \"\",\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getPedidos();\r\n    moment.locale(\"es\");\r\n    localStorage.setItem(\r\n      \"OrusOrder\",\r\n      JSON.stringify({\r\n        page: this.state.page,\r\n        orderby: this.state.orderby,\r\n        order: this.state.order,\r\n        search: this.state.search,\r\n        status: this.state.status,\r\n      })\r\n    );\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.load === false && this.state.load === true) {\r\n      console.log(\"Recargando pedidos\");\r\n      this.getPedidos();\r\n      localStorage.setItem(\r\n        \"OrusOrder\",\r\n        JSON.stringify({\r\n          page: this.state.page,\r\n          orderby: this.state.orderby,\r\n          order: this.state.order,\r\n          search: this.state.search,\r\n          status: this.state.status,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { pedidos, load } = this.state,\r\n      dataHeaders = [\r\n        { name: \"Folio\", type: \"id\", filter: true },\r\n        { name: \"Caja\" },\r\n        { name: \"Paciente\", type: \"contact_id\", filter: true },\r\n        { name: \"Detalles\" },\r\n        { name: \"Estado\" },\r\n        { name: \"Nota\" },\r\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\r\n        { name: \"Registrado\", type: \"created_at\", filter: true },\r\n      ];\r\n\r\n    return (\r\n      <div className=\"card card-warning card-outline\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title text-warning\">\r\n            <i className=\"fas fa-clipboard-list mr-1\"></i>\r\n            Listado de pedidos\r\n          </h3>\r\n          <div className=\"card-tools\">\r\n            <Filter\r\n              search={this.state.search}\r\n              status={this.state.status}\r\n              changeFilters={this.onchangeSearch}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n            <Pagination\r\n              meta={pedidos.meta}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-bordered table-hover table-nowrap\">\r\n            <Header\r\n              orderby={this.state.orderby}\r\n              order={this.state.order}\r\n              data={dataHeaders}\r\n              actions={true}\r\n              handleOrder={this.handleOrder}\r\n            />\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"10\" className=\"text-center\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(pedidos.data).length ? (\r\n                pedidos.data.map((pedido) => {\r\n                  return (\r\n                    <tr key={pedido.id}>\r\n                      <td>\r\n                        <span className=\"badge badge-warning text-capitalize\">\r\n                          {pedido.id}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-uppercase\">\r\n                        {pedido.estado === 2 ? (\r\n                          <span>\r\n                            {pedido.caja ? pedido.caja : \"Sin asignar\"}\r\n                          </span>\r\n                        ) : (\r\n                          \"--\"\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        <Link to={\"/pedidos/registro/\" + pedido.id}>\r\n                          <span className=\"badge badge-danger text-capitalize p-1\">\r\n                            {pedido.paciente.nombre}\r\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\r\n                          </span>\r\n                        </Link>\r\n                      </td>\r\n                      <td className=\"text-uppercase\">\r\n                        {pedido.estado === 1 ? (\r\n                          <div>\r\n                            <span className=\"text-danger mr-1\">\r\n                              {pedido.laboratorio\r\n                                ? pedido.laboratorio.nombre\r\n                                : \"Sin asignar\"}\r\n                            </span>{\" \"}\r\n                            {pedido.laboratorio ? \"/ \" + pedido.folio_lab : \"\"}\r\n                          </div>\r\n                        ) : pedido.estado === 2 ? (\r\n                          <small>\r\n                            {pedido.observaciones\r\n                              ? pedido.observaciones\r\n                              : \"sin observaciones\"}\r\n                          </small>\r\n                        ) : !pedido.estado ? (\r\n                          <small>\r\n                            {pedido.examen\r\n                              ? pedido.examen.estado === \"Terminado\"\r\n                                ? \"Examen completado\"\r\n                                : \"Examen no realizado\"\r\n                              : \"Examen no asignado\"}\r\n                          </small>\r\n                        ) : (\r\n                          \"--\"\r\n                        )}\r\n                      </td>\r\n                      <td>{this.setStatusString(pedido.estado)}</td>\r\n                      <td className=\"text-right\">\r\n                        <Link to={\"/notas/registro/\" + pedido.nota.id}>\r\n                          <span className=\"badge badge-success\">\r\n                            {pedido.nota.id}\r\n                          </span>\r\n                        </Link>\r\n                      </td>\r\n                      <td className=\"text-capitalize\">\r\n                        {moment(pedido.updated_at).fromNow()}\r\n                      </td>\r\n                      <td className=\"text-capitalize\">\r\n                        {moment(pedido.created_at).format(\"LL\")}\r\n                      </td>\r\n                      <Actions\r\n                        id={pedido.id}\r\n                        item={pedido.paciente.nombre}\r\n                        delete={this.handleDelete}\r\n                        edit={\"/pedidos/registro/\"}\r\n                      />\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"10\" className=\"text-center\">\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <Link\r\n            to=\"/pedidos/registro\"\r\n            className=\"btn btn-outline-warning\"\r\n            onClick={(e) => {\r\n              this.changePage(\"/pedidos/registro\");\r\n            }}\r\n          >\r\n            <i className=\"fas fa-plus mr-2\"></i>\r\n            <strong>Nuevo pedido</strong>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  setStatusString = (status) => {\r\n    switch (status) {\r\n      case 0:\r\n        return <span className=\"text-warning text-uppercase\">En proceso</span>;\r\n      case 1:\r\n        return <span className=\"text-info text-uppercase\">En laboratorio</span>;\r\n      case 2:\r\n        return <span className=\"text-primary text-uppercase\">Bicelación</span>;\r\n      case 3:\r\n        return <span className=\"text-success text-uppercase\">Terminado</span>;\r\n      case 4:\r\n        return <span className=\"text-info text-uppercase\">Garantia</span>;\r\n      default:\r\n        return <span className=\"text-secondary text-uppercase\">Baja</span>;\r\n    }\r\n  };\r\n  handleFilter = () => {\r\n    this.setState({\r\n      load: true,\r\n      page: 1,\r\n    });\r\n  };\r\n  onchangeSearch = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleOrder = (item) => {\r\n    this.setState({\r\n      orderby: item,\r\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\r\n      load: true,\r\n    });\r\n  };\r\n  handleChangePage = (id) => {\r\n    this.setState({\r\n      page: id,\r\n      load: true,\r\n    });\r\n  };\r\n  changePage = (id) => {\r\n    this.props.page(id);\r\n  };\r\n  handleDelete = (id, name) => {\r\n    let conf = window.confirm(\r\n        \"¿Esta seguro de eliminar el pedido de \" + name.toUpperCase() + \"?\"\r\n      ),\r\n      { host, token } = this.state;\r\n\r\n    if (conf) {\r\n      //Mandamos señal de eliminación\r\n      this.setState({\r\n        load: true,\r\n      });\r\n      //Inicio de proceso de eliminción por API\r\n      console.log(\"Solicitud de eliminación por API\");\r\n      fetch(\"http://\" + host + \"/api/orders/\" + id, {\r\n        method: \"DELETE\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.log(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            console.log(\"Pedido eliminado\");\r\n            this.getPedidos();\r\n            window.alert(\"Pedido eliminado con exito\");\r\n          } else {\r\n            console.error(\"Error al eliminar el pedido\", data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n  getPedidos() {\r\n    //Variables en localStorage\r\n    let { search, status, page, order, orderby, host, token } = this.state,\r\n      url = \"http://\" + host + \"/api/orders\",\r\n      ordenar = `&orderby=${orderby}&order=${order}`,\r\n      buscar = search ? `&search=${search}` : \"\",\r\n      estado = status ? \"&status=\" + status : \"\",\r\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\";\r\n\r\n    //Realiza la peticion de los contactos\r\n    fetch(url + pagina + ordenar + buscar + estado, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          console.log(res);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (!data.message) {\r\n          console.log(\"Mostrando datos del pedidos\");\r\n          this.setState({\r\n            pedidos: data,\r\n            load: false,\r\n          });\r\n        } else {\r\n          console.error(\"Error en la descarga los pedidos\", data.message);\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Items extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: 0,\r\n      store_items_id: 0,\r\n      session: \"\",\r\n      cantidad: 1,\r\n      precio: 0,\r\n      subtotal: 0,\r\n      inStorage: 0,\r\n      producto: \"\",\r\n      out: 0,\r\n      itemNew: false,\r\n      itemsDb: [],\r\n    };\r\n    this.total = 0;\r\n  }\r\n  componentDidMount() {\r\n    this.setState({\r\n      session: this.props.session,\r\n    });\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (this.state.itemNew && this.state.producto.length === 0) {\r\n      this.inputItem.focus();\r\n    }\r\n    /*\r\n    if (this.state.itemNew && this.state.cant === 1 && this.state.id) {\r\n      this.inputCant.focus();\r\n    }\r\n    */\r\n  }\r\n\r\n  render() {\r\n    let { itemNew, itemsDb } = this.state;\r\n    let { items } = this.props;\r\n    this.total = 0;\r\n\r\n    return (\r\n      <table className=\"table table-sm table-striped  mt-2\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\" style={{ width: 64 }}>\r\n              Cantidad\r\n            </th>\r\n            <th scope=\"col\">Descripcion</th>\r\n            <th scope=\"col\" style={{ width: 80 }}>\r\n              Precio\r\n            </th>\r\n            <th scope=\"col\" style={{ width: 80 }}>\r\n              Subtotal\r\n            </th>\r\n            <th scope=\"col\" style={{ width: 60 }}></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {itemNew ? (\r\n            <React.Fragment>\r\n              <tr>\r\n                <td>\r\n                  <input\r\n                    className={\r\n                      this.state.store_items_id\r\n                        ? \"form-control\"\r\n                        : \"form-control disabled\"\r\n                    }\r\n                    disabled={this.state.store_items_id ? false : true}\r\n                    type=\"number\"\r\n                    name=\"cantidad\"\r\n                    ref={(input) => {\r\n                      this.inputCant = input;\r\n                    }}\r\n                    value={this.state.cantidad}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    className={\r\n                      !this.state.store_items_id\r\n                        ? \"form-control\"\r\n                        : \"form-control disabled\"\r\n                    }\r\n                    disabled={!this.state.store_items_id ? false : true}\r\n                    type=\"text\"\r\n                    name=\"producto\"\r\n                    autoComplete=\"off\"\r\n                    ref={(input) => {\r\n                      this.inputItem = input;\r\n                    }}\r\n                    value={this.state.producto}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    className={\r\n                      this.state.store_items_id\r\n                        ? \"form-control\"\r\n                        : \"form-control disabled\"\r\n                    }\r\n                    disabled={this.state.store_items_id ? false : true}\r\n                    type=\"number\"\r\n                    name=\"precio\"\r\n                    value={this.state.precio}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    className=\"form-control disabled\"\r\n                    type=\"number\"\r\n                    name=\"subtotal\"\r\n                    value={this.state.subtotal}\r\n                    readOnly={true}\r\n                  />\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    className=\"btn btn-outline-dark btn-sm\"\r\n                    onClick={this.addItem}\r\n                  >\r\n                    <i className=\"fas fa-plus\"></i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n              {itemsDb.length ? (\r\n                <tr>\r\n                  <td colSpan=\"5\">\r\n                    <div className=\"list-group\">\r\n                      {itemsDb.map((db) => {\r\n                        return (\r\n                          <a\r\n                            className=\"list-group-item list-group-item-action\"\r\n                            href={\"#\" + db.codigo}\r\n                            key={db.id}\r\n                            onClick={(e) => {\r\n                              e.preventDefault();\r\n                              this.handelClickItemDb(\r\n                                db.id,\r\n                                db.producto,\r\n                                db.precio,\r\n                                db.cantidades\r\n                              );\r\n                            }}\r\n                          >\r\n                            ({db.codigo}){db.producto} / {db.marca}\r\n                          </a>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                <tr></tr>\r\n              )}\r\n            </React.Fragment>\r\n          ) : (\r\n            <tr></tr>\r\n          )}\r\n          {items.length ? (\r\n            items.map((item, index) => {\r\n              this.total += item.subtotal * 1;\r\n              return (\r\n                <tr key={index}>\r\n                  <td className=\"text-right\">{item.cantidad}</td>\r\n                  <td>\r\n                    <span\r\n                      className={\r\n                        !item.inStorage\r\n                          ? \"badge badge-warning\"\r\n                          : \"badge badge-primary\"\r\n                      }\r\n                    >\r\n                      {item.producto}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"text-right\">$ {item.precio.toFixed(2)}</td>\r\n                  <td className=\"text-right\">$ {item.subtotal.toFixed(2)}</td>\r\n                  <td className=\"d-print-none\">\r\n                    <button\r\n                      className={\r\n                        this.props.status\r\n                          ? \"btn btn-outline-light btn-sm disabled\"\r\n                          : \"btn btn-outline-light btn-sm\"\r\n                      }\r\n                      disabled={this.props.status ? true : false}\r\n                      onClick={(e) => {\r\n                        if (!this.props.status) this.deleteItem(index);\r\n                      }}\r\n                    >\r\n                      <i className=\"fas fa-trash\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })\r\n          ) : (\r\n            <tr>\r\n              <td className=\"text-center\" colSpan=\"5\">\r\n                No hay articulos cargados\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n        <tfoot>\r\n          <tr>\r\n            <td className=\"text-right\" colSpan=\"2\">\r\n              {!this.props.status ? (\r\n                <button\r\n                  className={\r\n                    this.props.status\r\n                      ? \"btn btn-outline-success btn-sm disabled\"\r\n                      : \"btn btn-outline-success btn-sm\"\r\n                  }\r\n                  disabled={this.props.status ? true : false}\r\n                  onClick={this.handleNewItem}\r\n                >\r\n                  <i\r\n                    className={itemNew ? \"fas fa-times-circle\" : \"fas fa-plus\"}\r\n                  ></i>\r\n                </button>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </td>\r\n            <th scope=\"row\" className=\"text-right\">\r\n              Subtotal\r\n            </th>\r\n            <td className=\"text-right\">$ {this.total.toFixed(2)}</td>\r\n            <td></td>\r\n          </tr>\r\n        </tfoot>\r\n      </table>\r\n    );\r\n  }\r\n\r\n  handelClickItemDb = (id, producto, precio, cant) => {\r\n    if (id) {\r\n      this.setState({\r\n        id: 0,\r\n        store_items_id: id,\r\n        producto,\r\n        precio,\r\n        subtotal: this.state.cantidad * precio,\r\n        //Verificando que exitan los productos en almacen\r\n        inStorage: cant >= this.state.cantidad ? 1 : 0,\r\n        out: cant,\r\n        itemsDb: [],\r\n      });\r\n    }\r\n  };\r\n  deleteItem = (id) => {\r\n    let { items } = this.props;\r\n    items.splice(id, 1);\r\n    this.props.ChangeInput(\"items\", items);\r\n  };\r\n  catchInputs = (e) => {\r\n    let { name, value, type } = e.target,\r\n      subtotal = 0;\r\n    if (name === \"cantidad\") {\r\n      subtotal = this.state.precio * value;\r\n    } else if (name === \"precio\") {\r\n      subtotal = this.state.cantidad * value;\r\n    }\r\n    if (type === \"number\") {\r\n      value = value * 1;\r\n    }\r\n    if (name === \"producto\" && value.length > 3 && !this.state.store_items_id) {\r\n      //Variables en localStorage\r\n      let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n        url = \"http://\" + varLocalStorage.host + \"/api/store\",\r\n        search = \"?search=\" + value;\r\n      //Realiza la peticion del usuario seun el id\r\n      console.log(\"Descargando datos del item\");\r\n      fetch(url + search, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.log(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.data && data.data.length) {\r\n            console.log(\"Almacenando datos del item del DB\");\r\n            this.setState({\r\n              itemsDb: data.data,\r\n            });\r\n          } else if (data.message) {\r\n            console.log(\"Error al almacenar items de la DB\", data.message);\r\n          }\r\n        });\r\n    }\r\n\r\n    this.setState({\r\n      [name]: value,\r\n      subtotal,\r\n    });\r\n  };\r\n  addItem = (e) => {\r\n    e.preventDefault();\r\n    let items = this.props.items,\r\n      find = items.find((item) => {\r\n        return item.store_items_id === this.state.store_items_id;\r\n      }),\r\n      item = this.state;\r\n\r\n    if (find) {\r\n      for (var i = 0; i < items.length; i++) {\r\n        if (items[i].store_items_id === item.store_items_id) {\r\n          item.cantidad += items[i].cantidad;\r\n          item.subtotal = item.cantidad * item.precio;\r\n          items.splice(i, 1);\r\n        }\r\n      }\r\n    }\r\n\r\n    item.inStorage = item.out >= item.cantidad ? 1 : 0;\r\n    item.out = item.out >= item.cantidad ? 0 : item.cantidad - item.out;\r\n\r\n    delete item.itemNew;\r\n    delete item.itemsDb;\r\n    delete item.items;\r\n    items.push(item);\r\n\r\n    this.setState({\r\n      id: 0,\r\n      store_items_id: 0,\r\n      cantidad: 1,\r\n      producto: \"\",\r\n      precio: 0,\r\n      total: 0,\r\n      inStorage: 0,\r\n      out: 0,\r\n      itemNew: false,\r\n    });\r\n    console.log(\"Envio de nuevos productos\", items);\r\n    this.props.ChangeInput(\"items\", items);\r\n  };\r\n  handleNewItem = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      itemNew: !this.state.itemNew,\r\n      store_items_id: 0,\r\n      cantidad: 1,\r\n      producto: \"\",\r\n      precio: 0,\r\n      subtotal: 0,\r\n      inStorage: 0,\r\n      out: 0,\r\n      itemsDb: [],\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class labOrder extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      supplies: [],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getContacts();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <div className=\"border border-warning rounded p-2\">\r\n            <label>Laboratorio</label>\r\n            <select\r\n              className={\r\n                this.props.status > 1 ? \"form-control disabled\" : \"form-control\"\r\n              }\r\n              disabled={this.props.status > 1 ? true : false}\r\n              name=\"lab_id\"\r\n              value={this.props.lab_id}\r\n              onChange={this.changeInput}\r\n            >\r\n              <option value=\"0\">Seleccione un proveedor</option>\r\n              {this.state.supplies.length\r\n                ? this.state.supplies.map((s) => {\r\n                    return (\r\n                      <option key={s.id} value={s.id}>\r\n                        {s.nombre}\r\n                      </option>\r\n                    );\r\n                  })\r\n                : \"\"}\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"border border-warning rounded p-2\">\r\n            <label>Folio</label>\r\n            <input\r\n              type=\"text\"\r\n              className={\r\n                this.props.status > 1 ? \"form-control disabled\" : \"form-control\"\r\n              }\r\n              disabled={this.props.status > 1 ? true : false}\r\n              name=\"npedidolab\"\r\n              value={this.props.npedidolab}\r\n              onChange={this.changeInput}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changeInput = (e) => {\r\n    e.preventDefault();\r\n    let { name, value } = e.target;\r\n    this.props.ChangeInput(name, value);\r\n  };\r\n  getContacts = () => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      url = \"http://\" + varLocalStorage.host + \"/api/contacts\",\r\n      type = \"&type=1&business=1\",\r\n      //search = word ? `&search=${word}` : \"\",\r\n      page = \"?page=1\";\r\n    console.log(\"Descargando proveedores de la API\");\r\n    //Realiza la peticion de los contactos\r\n    fetch(url + page + type, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + varLocalStorage.token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.data) {\r\n          console.log(\"Almacenado proveedores\");\r\n          this.setState({\r\n            supplies: data.data,\r\n          });\r\n        }\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class statusOrder extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <div className=\"border border-warning rounded p-2\">\r\n            <label htmlFor=\"lab\">Estado</label>\r\n            <select\r\n              className=\"form-control\"\r\n              name=\"status\"\r\n              value={this.props.status}\r\n              onChange={this.changeInput}\r\n            >\r\n              <option value=\"0\">En proceso</option>\r\n              <option value=\"1\">Laboratorio</option>\r\n              <option value=\"2\">Bicelación</option>\r\n              <option value=\"3\">Terminado</option>\r\n              <option value=\"4\">Garantia</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changeInput = (e) => {\r\n    e.preventDefault();\r\n    let { name, value } = e.target;\r\n    value = value * 1;\r\n    this.props.ChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class bicelacionOrder extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <div className=\"border border-warning rounded p-2\">\r\n            <label htmlFor=\"lab\">Caja</label>\r\n            <input\r\n              type=\"text\"\r\n              className={\r\n                this.props.status > 2 ? \"form-control disabled\" : \"form-control\"\r\n              }\r\n              disabled={this.props.status > 2 ? true : false}\r\n              name=\"ncaja\"\r\n              value={this.props.ncaja ? this.props.ncaja : \"\"}\r\n              onChange={this.changeInput}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"border border-warning rounded p-2\">\r\n            <label>Observaciones</label>\r\n            <textarea\r\n              name=\"observaciones\"\r\n              className={\r\n                this.props.status > 2 ? \"form-control disabled\" : \"form-control\"\r\n              }\r\n              disabled={this.props.status > 2 ? true : false}\r\n              value={this.props.observaciones ? this.props.observaciones : \"\"}\r\n              onChange={this.changeInput}\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changeInput = (e) => {\r\n    e.preventDefault();\r\n    let { name, value } = e.target;\r\n    if (name === \"caja\") value = value * 1;\r\n    this.props.ChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class garantiaOrder extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <div className=\"border border-warning rounded p-2\">\r\n            <label htmlFor=\"lab\">Garantia</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changeInput = (e) => {\r\n    e.preventDefault();\r\n    let { name, value } = e.target;\r\n    value = value * 1;\r\n    this.props.ChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\n\r\nexport default class messenger extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      messages: [],\r\n      load: true,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getMessengers();\r\n  }\r\n\r\n  render() {\r\n    const { data } = this.props,\r\n      { messages, load } = this.state,\r\n      user = data.idUser;\r\n\r\n    return (\r\n      <div className=\"card direct-chat direct-chat-primary\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title\">\r\n            <i className=\"fas fa-comments mr-1\"></i>\r\n            Chat\r\n          </h3>\r\n        </div>\r\n\r\n        {load ? (\r\n          <div className=\"card-body\">\r\n            <div className=\"card-text text-center p-4\">\r\n              <div className=\"spinner-border text-primary\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : messages.length ? (\r\n          <React.Fragment>\r\n            <div className=\"card-body\">\r\n              <div className=\"direct-chat-messages\">\r\n                {messages.map((message) => {\r\n                  return (\r\n                    <div\r\n                      className={\r\n                        message.created_user.id === user\r\n                          ? \"direct-chat-msg right\"\r\n                          : \"direct-chat-msg\"\r\n                      }\r\n                      key={message.id}\r\n                    >\r\n                      <div className=\"direct-chat-infos clearfix\">\r\n                        <span\r\n                          className={\r\n                            message.created_user.id === user\r\n                              ? \"direct-chat-name float-right\"\r\n                              : \"direct-chat-name float-left\"\r\n                          }\r\n                        >\r\n                          {message.created_user.name}\r\n                        </span>\r\n                        <span\r\n                          className={\r\n                            message.created_user.id === user\r\n                              ? \"direct-chat-timestamp float-left\"\r\n                              : \"direct-chat-timestamp float-right\"\r\n                          }\r\n                        >\r\n                          {moment(message.updated_at).format(\"lll\")}\r\n                        </span>\r\n                      </div>\r\n                      <img\r\n                        className=\"direct-chat-img\"\r\n                        src={\r\n                          message.created_user.id === 1\r\n                            ? \"/img/OrusBot.png\"\r\n                            : \"/img/avatar.png\"\r\n                        }\r\n                        alt=\"message user image1\"\r\n                      />\r\n                      <div className=\"direct-chat-text\">{message.mensaje}</div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card-footer\">\r\n              <form action=\"#\" method=\"post\">\r\n                <div className=\"input-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"message\"\r\n                    placeholder=\"Escriba un mensaje ...\"\r\n                    className=\"form-control\"\r\n                  />\r\n                  <span className=\"input-group-append\">\r\n                    <button type=\"button\" className=\"btn btn-primary\">\r\n                      Enviar\r\n                    </button>\r\n                  </span>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </React.Fragment>\r\n        ) : (\r\n          <div className=\"card-body\">\r\n            <div className=\"card-text text-center p-4\">\r\n              <h5>\r\n                <i className=\"fas fa-comment-slash mr-1\"></i>\r\n                No hay mensajes aun\r\n              </h5>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getMessengers = () => {\r\n    //Variables en localStorage\r\n    const { load, host, token } = this.state,\r\n      { table, idRow } = this.props,\r\n      url = \"http://\" + host + \"/api/messengers\",\r\n      type = \"&table=\" + table + \"&idRow=\" + idRow,\r\n      page = \"?page=1\";\r\n\r\n    //Mandamos señal de procesamiento\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n    console.log(\"Solicitando mensajes de la API\");\r\n    //Realiza la peticion de los contactos\r\n    fetch(url + page + type, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.data) {\r\n          console.log(\"Almacenado mensajes\");\r\n          this.setState({\r\n            messages: data.data,\r\n            load: false,\r\n          });\r\n        } else {\r\n          console.error(data.message);\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport SearchContact from \"../Contacts/searchContactCard\";\r\nimport Items from \"./itemsOrder\";\r\nimport ListExam from \"../Exam/listsExams\";\r\nimport LabOrder from \"./labOrder\";\r\nimport Status from \"./statusOrder\";\r\nimport Bicelacion from \"./bicelacionOrder\";\r\nimport Garantia from \"./garantiaOrder\";\r\nimport Chat from \"../Layouts/messenger\";\r\n\r\nexport default class OrderAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: 0,\r\n      session:\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(10),\r\n      observaciones: \"\",\r\n      lab_id: 0,\r\n      npedidolab: \"\",\r\n      ncaja: 0,\r\n      mensajes: [],\r\n      items: [],\r\n      contact_id: 0,\r\n      usuario: \"\",\r\n      edad: 0,\r\n      exam_id: 0,\r\n      exam: {},\r\n      status: 0,\r\n      date: Date.now(),\r\n      load: false,\r\n      nota: 0,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    let id = this.props.match.params.id;\r\n    if (id) {\r\n      moment.locale(\"es\");\r\n      this.getOrder(id);\r\n    }\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    //console.log(\"Renderizando Add en items\", state.load, this.state.load);\r\n    if (state.load !== this.state.load && this.state.load === true) {\r\n      //this.getOrder();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { contact_id, id } = this.state,\r\n      { data } = this.props;\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-4\">\r\n          <SearchContact\r\n            contact={this.state.contact_id}\r\n            edad={this.state.edad}\r\n            status={this.state.status}\r\n            getIdContact={this.getIdContact}\r\n            changePage={this.changePage}\r\n          />\r\n          {contact_id ? (\r\n            <div className=\"card card-warning card-outline mt-4\">\r\n              <div className=\"card-body\">\r\n                <Status\r\n                  status={this.state.status}\r\n                  ChangeInput={this.handleChangeInput}\r\n                />\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"card card-warning card-outline\">\r\n            <div className=\"card-body\">\r\n              {contact_id ? (\r\n                <React.Fragment>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-2\">\r\n                      <div className=\"border border-warning rounded p-2 d-flex justify-content-between align-items-center\">\r\n                        <span className=\"badge badge-pill badge-warning mx-2\">\r\n                          Folio\r\n                        </span>\r\n                        <strong>\r\n                          {this.state.id ? this.state.id : \"Nuevo\"}\r\n                        </strong>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                      <div className=\"border border-warning rounded p-2 d-flex justify-content-between align-items-center\">\r\n                        <span className=\"badge badge-pill badge-warning mx-2\">\r\n                          Creador\r\n                        </span>\r\n                        <strong>\r\n                          {this.state.usuario\r\n                            ? this.state.usuario\r\n                            : this.props.data.name}\r\n                        </strong>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-2\">\r\n                      <div className=\"border border-warning rounded p-2 d-flex justify-content-between align-items-center\">\r\n                        <span className=\"badge badge-pill badge-success mx-2\">\r\n                          Nota\r\n                        </span>\r\n                        <strong>\r\n                          {this.state.nota ? (\r\n                            <Link\r\n                              to={\"/notas/registro/\" + this.state.nota}\r\n                              onClick={(e) => {\r\n                                this.changePage(\"/notas/registro\");\r\n                              }}\r\n                            >\r\n                              {this.state.nota}\r\n                            </Link>\r\n                          ) : (\r\n                            \"--\"\r\n                          )}\r\n                        </strong>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div className=\"border border-warning rounded p-2 d-flex justify-content-between align-items-center\">\r\n                        <span className=\"badge badge-pill badge-warning mx-2\">\r\n                          Fecha\r\n                        </span>\r\n                        <strong>{moment(this.state.date).format(\"LL\")}</strong>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <ul className=\"nav nav-tabs mt-4\" id=\"myTab\" role=\"tablist\">\r\n                    <li className=\"nav-item\">\r\n                      <a\r\n                        className={\r\n                          !this.state.status || this.state.status === 3\r\n                            ? \"nav-link active\"\r\n                            : \"nav-link\"\r\n                        }\r\n                        href=\"#pedido\"\r\n                        data-toggle=\"tab\"\r\n                      >\r\n                        Nota\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <a className=\"nav-link\" data-toggle=\"tab\" href=\"#exam\">\r\n                        Examen\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <a\r\n                        className={\r\n                          this.state.status === 1\r\n                            ? \"nav-link active\"\r\n                            : !this.state.status\r\n                            ? \"nav-link disabled\"\r\n                            : \"nav-link\"\r\n                        }\r\n                        data-toggle=\"tab\"\r\n                        href=\"#lab\"\r\n                      >\r\n                        Laboratorio\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <a\r\n                        className={\r\n                          this.state.status === 2\r\n                            ? \"nav-link active\"\r\n                            : !this.state.status\r\n                            ? \"nav-link disabled\"\r\n                            : \"nav-link\"\r\n                        }\r\n                        data-toggle=\"tab\"\r\n                        href=\"#bicelacion\"\r\n                      >\r\n                        Bicelación\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <a\r\n                        className={\r\n                          this.state.status === 4\r\n                            ? \"nav-link active\"\r\n                            : \"nav-link disabled\"\r\n                        }\r\n                        data-toggle=\"tab\"\r\n                        href=\"#garantia\"\r\n                      >\r\n                        Garantia\r\n                      </a>\r\n                    </li>\r\n                  </ul>\r\n                  <div className=\"tab-content\" id=\"myTabContent\">\r\n                    <div\r\n                      className={\r\n                        !this.state.status || this.state.status === 3\r\n                          ? \"tab-pane fade pt-4 show active\"\r\n                          : \"tab-pane fade pt-4\"\r\n                      }\r\n                      id=\"pedido\"\r\n                    >\r\n                      <Items\r\n                        items={this.state.items}\r\n                        status={this.state.status}\r\n                        session={this.state.session}\r\n                        ChangeInput={this.handleChangeInput}\r\n                      />\r\n                    </div>\r\n                    <div className=\"tab-pane fade pt-4\" id=\"exam\">\r\n                      <ListExam\r\n                        paciente={this.state.contact_id}\r\n                        edad={this.state.edad}\r\n                        exam={this.state.exam}\r\n                        page={this.changePage}\r\n                        select={true}\r\n                        status={this.state.status}\r\n                        ChangeInput={this.handleChangeInput}\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      className={\r\n                        this.state.status === 1\r\n                          ? \"tab-pane fade pt-4 show active\"\r\n                          : \"tab-pane fade pt-4\"\r\n                      }\r\n                      id=\"lab\"\r\n                    >\r\n                      <LabOrder\r\n                        lab_id={this.state.lab_id ? this.state.lab_id : 0}\r\n                        npedidolab={\r\n                          this.state.npedidolab ? this.state.npedidolab : \"\"\r\n                        }\r\n                        status={this.state.status}\r\n                        ChangeInput={this.handleChangeInput}\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      className={\r\n                        this.state.status === 2\r\n                          ? \"tab-pane fade pt-4 show active\"\r\n                          : \"tab-pane fade pt-4\"\r\n                      }\r\n                      id=\"bicelacion\"\r\n                    >\r\n                      <Bicelacion\r\n                        ncaja={this.state.ncaja}\r\n                        observaciones={this.state.observaciones}\r\n                        status={this.state.status}\r\n                        ChangeInput={this.handleChangeInput}\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      className={\r\n                        this.state.status === 4\r\n                          ? \"tab-pane fade pt-4 show active\"\r\n                          : \"tab-pane fade pt-4\"\r\n                      }\r\n                      id=\"garantia\"\r\n                    >\r\n                      <Garantia\r\n                        status={this.state.status}\r\n                        ChangeInput={this.handleChangeInput}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </React.Fragment>\r\n              ) : this.state.load ? (\r\n                <div className=\"text-center\">\r\n                  <div className=\"spinner-border text-primary\" role=\"status\">\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"alert alert-light\">\r\n                  <h4 className=\"alert-heading\">Nuevo pedido</h4>\r\n                  <p>\r\n                    <i className=\"fas fa-user mr-1\"></i> Primero seleccione al\r\n                    paciente!\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"card-footer text-right\">\r\n              <div className=\"btn-group\" role=\"group\">\r\n                <Link\r\n                  to=\"/pedidos\"\r\n                  className=\"btn btn-dark\"\r\n                  onClick={(e) => {\r\n                    this.changePage(\"/pedidos\");\r\n                  }}\r\n                >\r\n                  <i className=\"fas fa-ban mr-1\"></i>\r\n                  <strong>Cancelar</strong>\r\n                </Link>\r\n                <button\r\n                  className={\r\n                    this.state.contact_id && this.state.items.length\r\n                      ? \"btn btn-warning\"\r\n                      : \"btn btn-warning disabled\"\r\n                  }\r\n                  onClick={this.handleSave}\r\n                  disabled={\r\n                    this.state.contact_id && this.state.items.length\r\n                      ? false\r\n                      : true\r\n                  }\r\n                >\r\n                  <i className=\"fas fa-save mr-1\"></i>\r\n                  <strong>Guardar</strong>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {contact_id && id ? (\r\n            <Chat data={data} table=\"orders\" idRow={id} />\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChangeInput = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  getIdContact = (contact_id, edad) => {\r\n    this.setState({\r\n      contact_id,\r\n      edad,\r\n    });\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n  handleSave = (e) => {\r\n    e.preventDefault();\r\n    //Confirmación de almacenamiento\r\n    let conf = window.confirm(\"¿Esta seguro de realizar la accion de guardar?\");\r\n\r\n    if (conf) {\r\n      //Variables en localStorage\r\n      //Identificamos la URL y el metodo segun sea el caso (Actualizar o agregar)\r\n      //Creamos el body\r\n\r\n      let { id, load, host, token } = this.state,\r\n        url = id\r\n          ? \"http://\" + host + \"/api/orders/\" + id\r\n          : \"http://\" + host + \"/api/orders\",\r\n        method = id ? \"PUT\" : \"POST\",\r\n        body = {},\r\n        items = [];\r\n\r\n      this.state.items.map((item) => {\r\n        items.push({\r\n          cant: item.cantidad,\r\n          price: item.precio,\r\n          subtotal: item.subtotal,\r\n          inStorage: item.inStorage,\r\n          session: item.session,\r\n          out: item.out,\r\n          store_items_id: item.store_items_id,\r\n        });\r\n        return false;\r\n      });\r\n      body = {\r\n        session: this.state.session,\r\n        observaciones: this.state.observaciones,\r\n        npedidolab: this.state.npedidolab,\r\n        ncaja: this.state.ncaja,\r\n        contact_id: this.state.contact_id,\r\n        status: this.state.status,\r\n        items: JSON.stringify(items),\r\n        mensajes: JSON.stringify(this.state.mensajes),\r\n      };\r\n      if (this.state.exam_id) body.exam_id = this.state.exam_id;\r\n      if (this.state.lab_id) body.lab_id = this.state.lab_id;\r\n\r\n      //Verificamos campos validos\r\n\r\n      //Mandamos señal de procesamiento\r\n      if (!load) {\r\n        this.setState({\r\n          load: true,\r\n        });\r\n      }\r\n\r\n      //Actualiza el pedido o creamos un pedido nuevo según el ID\r\n      console.log(\"Enviando datos a API para almacenar\");\r\n      fetch(url, {\r\n        method: method,\r\n        body: JSON.stringify(body),\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.data) {\r\n            console.log(\"Pedido almacenado\");\r\n            if (\r\n              window.confirm(\r\n                \"Pedido almacenado con exito!.\\n¿Desea cerrar este contacto?\"\r\n              )\r\n            ) {\r\n              this.props.history.goBack();\r\n            } else {\r\n              this.setState({\r\n                id: data.data.id,\r\n                usuario: data.data.created,\r\n                date: data.data.created_at,\r\n                nota: data.data.nota.id,\r\n                load: false,\r\n              });\r\n            }\r\n          } else {\r\n            window.alert(\"Error al almacenar el pedido. Intentelo mas tarde\");\r\n            console.error(data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n  getOrder = (id) => {\r\n    if (id > 0) {\r\n      //Variables en localStorage\r\n      let { host, token } = this.state;\r\n      //Realiza la peticion del pedido\r\n      console.log(\"Solicitando datos a la API\");\r\n      fetch(\"http://\" + host + \"/api/orders/\" + id, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.log(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            console.log(\"Mostrando datos del pedido\");\r\n            this.setState({\r\n              id,\r\n              session: data.data.session,\r\n              observaciones: data.data.observaciones,\r\n              lab_id: data.data.laboratorio ? data.data.laboratorio.id : 0,\r\n              npedidolab: data.data.folio_lab,\r\n              ncaja: data.data.caja,\r\n              mensajes: data.data.mensajes,\r\n              items: data.data.productos,\r\n              contact_id: data.data.paciente.id,\r\n              status: data.data.estado,\r\n              usuario: data.data.created,\r\n              exam_id: data.data.examen !== null ? data.data.examen.id : 0,\r\n              exam: data.data.examen !== null ? data.data.examen : {},\r\n              date: data.data.created_at,\r\n              nota: data.data.nota.id,\r\n            });\r\n          } else {\r\n            console.error(\"Error al cargar el usuario\", data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        });\r\n    } else {\r\n      this.setState({\r\n        load: false,\r\n      });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Filter extends Component {\r\n  render() {\r\n    const { search, type, date } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"btn-group\">\r\n          <a\r\n            href=\"#Filters\"\r\n            className=\"btn btn-tool text-dark\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#filters\"\r\n          >\r\n            <i className=\"fas fa-filter\"></i>\r\n          </a>\r\n        </div>\r\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Busquedas</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n\r\n              <form className=\"modal-body\">\r\n                <div className=\"input-group mb-3\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por: paciente o # de venta\"\r\n                    value={search}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Estado</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-address-book\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"type\"\r\n                    value={type}\r\n                    onChange={this.changeFilters}\r\n                  >\r\n                    <option value=\"\">Todos</option>\r\n                    <option value=\"0\">Adeudos</option>\r\n                    <option value=\"1\">Pagados</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Fecha</label>\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"date\"\r\n                    className=\"form-control\"\r\n                    value={date}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"modal-footer\">\r\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-window-close mr-2\"></i>\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={\r\n                      search || type\r\n                        ? \"btn btn-outline-dark\"\r\n                        : \"btn btn-outline-dark disabled\"\r\n                    }\r\n                    onClick={this.onClickClean}\r\n                  >\r\n                    <i className=\"fas fa-eraser mr-2\"></i>\r\n                    Limpiar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    onClick={this.setFilters}\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-search mr-2\"></i>\r\n                    Buscar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  onKeyPressSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      this.setFilters();\r\n    }\r\n  };\r\n  onClickClean = () => {\r\n    this.props.changeFilters(\"search\", \"\");\r\n    this.props.changeFilters(\"type\", \"\");\r\n    this.props.changeFilters(\"date\", \"\");\r\n    this.setFilters();\r\n  };\r\n  setFilters = () => {\r\n    this.props.handleChangePage(1);\r\n    window.$(\"#filters\").modal(\"hide\");\r\n  };\r\n  changeFilters = (e) => {\r\n    const { name, value } = e.target;\r\n    this.props.changeFilters(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport Header from \"../Layouts/headerTable\";\r\nimport Filter from \"./index_filter\";\r\nimport Pagination from \"../Layouts/pagination\";\r\nimport Actions from \"../Layouts/actionsTable\";\r\n\r\nexport default class Contacts extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let sdd = JSON.parse(localStorage.getItem(\"OrusSales\"));\r\n    this.state = {\r\n      pedidos: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      load: true,\r\n      page: sdd ? sdd.page : 1,\r\n      orderby: sdd ? sdd.orderby : \"created_at\",\r\n      order: sdd ? sdd.order : \"asc\",\r\n      search: sdd ? sdd.search : \"\",\r\n      type: sdd ? sdd.type : \"\",\r\n      date: sdd ? sdd.date : \"\",\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getPedidos();\r\n    moment.locale(\"es\");\r\n    localStorage.setItem(\r\n      \"OrusSales\",\r\n      JSON.stringify({\r\n        page: this.state.page,\r\n        orderby: this.state.orderby,\r\n        order: this.state.order,\r\n        search: this.state.search,\r\n        type: this.state.type,\r\n        date: this.state.date,\r\n      })\r\n    );\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.load === false && this.state.load === true) {\r\n      console.log(\"Recargando pedidos\");\r\n      this.getPedidos();\r\n      localStorage.setItem(\r\n        \"OrusSales\",\r\n        JSON.stringify({\r\n          page: this.state.page,\r\n          orderby: this.state.orderby,\r\n          order: this.state.order,\r\n          search: this.state.search,\r\n          type: this.state.type,\r\n          date: this.state.date,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { pedidos, load, search, type, date } = this.state,\r\n      dataHeaders = [\r\n        { name: \"Folio\", type: \"id\", filter: true },\r\n        { name: \"Cliente\" },\r\n        { name: \"Sub-total\" },\r\n        { name: \"Descuento\" },\r\n        { name: \"Total\", type: \"total\", filter: true },\r\n        { name: \"Abonos\" },\r\n        { name: \"Por pagar\" },\r\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\r\n        { name: \"Registrado\", type: \"created_at\", filter: true },\r\n      ];\r\n\r\n    return (\r\n      <div className=\"card card-success card-outline\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title text-success\">\r\n            <i className=\"fas fa-cash-register mr-1\"></i>\r\n            Listado de notas\r\n          </h3>\r\n          <div className=\"card-tools\">\r\n            <Filter\r\n              search={search}\r\n              type={type}\r\n              date={date}\r\n              changeFilters={this.onchangeSearch}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n            <Pagination\r\n              meta={pedidos.meta}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-bordered table-hover table-nowrap\">\r\n            <Header\r\n              orderby={this.state.orderby}\r\n              order={this.state.order}\r\n              data={dataHeaders}\r\n              actions={true}\r\n              handleOrder={this.handleOrder}\r\n            />\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"10\" className=\"text-center p-4\">\r\n                    <div\r\n                      className=\"spinner-border text-primary mr-4\"\r\n                      role=\"status\"\r\n                    >\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                    <span className=\"font-weight-light font-italic\">\r\n                      Espere cargando datos de la venta\r\n                    </span>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(pedidos.data).length ? (\r\n                pedidos.data.map((pedido) => {\r\n                  return (\r\n                    <tr key={pedido.id}>\r\n                      <td>\r\n                        <span className=\"badge badge-success text-capitalize\">\r\n                          {pedido.id}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-uppercase\">\r\n                        <Link to={\"/notas/registro/\" + pedido.id}>\r\n                          <span className=\"badge badge-danger text-capitalize p-1\">\r\n                            {pedido.cliente.nombre}\r\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\r\n                          </span>\r\n                        </Link>\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        $ {pedido.subtotal ? pedido.subtotal : 0.0}\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        $ {pedido.descuento ? pedido.descuento : 0.0}\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        $ {pedido.total ? pedido.total : 0.0}\r\n                      </td>\r\n                      <td className=\"text-right\">$ {pedido.pagado}</td>\r\n                      <td className=\"text-right\">\r\n                        {pedido.total - pedido.pagado <= 0 ? (\r\n                          <label className=\"text-success\">\r\n                            <i className=\"fas fa-check\"></i>\r\n                          </label>\r\n                        ) : (\r\n                          \"$ \" + (pedido.total - pedido.pagado)\r\n                        )}\r\n                      </td>\r\n                      <td className=\"text-capitalize\">\r\n                        {moment(pedido.updated_at).fromNow()}\r\n                      </td>\r\n                      <td className=\"text-capitalize\">\r\n                        {moment(pedido.created_at).format(\"LL\")}\r\n                      </td>\r\n                      <Actions\r\n                        id={pedido.id}\r\n                        item={pedido.cliente.nombre}\r\n                        delete={this.handleDelete}\r\n                        edit={\"/notas/registro/\"}\r\n                      />\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"10\" className=\"text-center\">\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <Link\r\n            to=\"/notas/registro\"\r\n            className=\"btn btn-outline-success\"\r\n            onClick={(e) => {\r\n              this.changePage(\"/notas/registro\");\r\n            }}\r\n          >\r\n            <i className=\"fas fa-plus mr-2\"></i>\r\n            <strong>Nueva nota</strong>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleFilter = () => {\r\n    this.setState({\r\n      load: true,\r\n      page: 1,\r\n    });\r\n  };\r\n  onchangeSearch = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleOrder = (item) => {\r\n    this.setState({\r\n      orderby: item,\r\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\r\n      load: true,\r\n    });\r\n  };\r\n  handleChangePage = (id) => {\r\n    this.setState({\r\n      page: id,\r\n      load: true,\r\n    });\r\n  };\r\n  changePage = (id) => {\r\n    this.props.page(id);\r\n  };\r\n  handleDelete = (id, item) => {\r\n    let conf = window.confirm(\r\n        \"¿Esta seguro de eliminar el pedido de \" + item.toUpperCase() + \"?\"\r\n      ),\r\n      { host, token } = this.state;\r\n\r\n    if (conf) {\r\n      //Mandamos señal de eliminación\r\n      this.setState({\r\n        load: true,\r\n      });\r\n      //Inicio de proceso de eliminción por API\r\n      console.log(\"Solicitud de eliminación por API\");\r\n      fetch(\"http://\" + host + \"/api/sales/\" + id, {\r\n        method: \"DELETE\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"La venta no puede ser eliminado\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            console.log(\"Venta eliminada\");\r\n            this.getPedidos();\r\n            window.alert(\"Venta eliminada con exito\");\r\n          } else {\r\n            console.error(\"Error al eliminar la venta\", data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n  getPedidos = () => {\r\n    //Variables en localStorage\r\n    let {\r\n        host,\r\n        token,\r\n        order,\r\n        orderby,\r\n        search,\r\n        page,\r\n        type,\r\n        date,\r\n        load,\r\n      } = this.state,\r\n      url = \"http://\" + host + \"/api/sales\",\r\n      ordenar = `&orderby=${orderby}&order=${order}`,\r\n      buscar = search ? `&search=${search}` : \"\",\r\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\",\r\n      tipo = type === \"\" ? \"\" : \"&type=\" + type,\r\n      fecha = date === \"\" ? \"\" : \"&date=\" + date;\r\n\r\n    //Mandamos señal de carga si no lo he hecho\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n\r\n    //Realiza la peticion de ventas\r\n    console.log(\"Descargando ventas de API\");\r\n    fetch(url + pagina + ordenar + buscar + tipo + fecha, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          console.log(res);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        console.log(\"Descargando ventas\");\r\n        this.setState({\r\n          pedidos: data,\r\n          load: false,\r\n        });\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\n\r\nexport default class AddAbono extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      metodopago: 1,\r\n      total: 0,\r\n      banco: \"\",\r\n      auth: \"\",\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"abonos\">\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title\">Abono</h5>\r\n              <button\r\n                type=\"button\"\r\n                className=\"close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              >\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n            </div>\r\n\r\n            <form className=\"modal-body\">\r\n              <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                  <label>Fecha</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control-plaintext\"\r\n                    readOnly={true}\r\n                    value={moment().format(\"L\")}\r\n                  />\r\n                </div>\r\n                <div className=\"col\">\r\n                  <label>Usuario</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control-plaintext\"\r\n                    readOnly={true}\r\n                    value={this.props.user}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                  <label>Metodo de pago</label>\r\n                  <select\r\n                    name=\"metodopago\"\r\n                    className=\"custom-select\"\r\n                    value={this.state.metodopago}\r\n                    onChange={this.onChangeValue}\r\n                  >\r\n                    <option value=\"1\">Efectivo</option>\r\n                    <option value=\"2\">Tarjeta de debito</option>\r\n                    <option value=\"3\">Tarjeta de credito</option>\r\n                    <option value=\"4\">La marina</option>\r\n                    <option value=\"5\">Cheque</option>\r\n                    <option value=\"6\">Transferencia</option>\r\n                    <option value=\"0\">Otro</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <label>Cantidad</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    max={this.props.pay}\r\n                    className=\"form-control text-right\"\r\n                    name=\"total\"\r\n                    value={this.state.total ? this.state.total : \"\"}\r\n                    onChange={this.onChangeValue}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {this.state.metodopago !== 1 ? (\r\n                <div className=\"row mb-2\">\r\n                  <div className=\"col\">\r\n                    <label>Banco</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"banco\"\r\n                      className=\"form-control\"\r\n                      value={\r\n                        this.state.metodopago === 4\r\n                          ? \"La marina\"\r\n                          : this.state.banco\r\n                      }\r\n                      disabled={this.state.metodopago === 4 ? true : false}\r\n                      onChange={this.onChangeValue}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <label>N. Autorización</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"auth\"\r\n                      className=\"form-control\"\r\n                      value={this.state.auth}\r\n                      onChange={this.onChangeValue}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ) : null}\r\n            </form>\r\n\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-dark\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-success\"\r\n                onClick={this.handlePay}\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Abonar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handlePay = (e) => {\r\n    e.preventDefault();\r\n    //Maneja el boton de almacenar\r\n    let conf = window.confirm(\"¿Esta seguro de realizar el abono?\"),\r\n      body = this.state;\r\n    //Agregamos parametros de identificación\r\n    body[\"sale_id\"] = this.props.saleId;\r\n    body[\"contact_id\"] = this.props.contactId;\r\n\r\n    if (conf) {\r\n      //Variables en localStorage\r\n      //Identificamos la URL y el metodo segun sea el caso (Actualizar o agregar)\r\n      //Creamos el body\r\n      console.log(\"Enviando datos a API para almacenar abono\");\r\n      let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n\r\n      //Agregamos nuevo abono\r\n      fetch(\"http://\" + varLocalStorage.host + \"/api/payments\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(body),\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.data) {\r\n            console.log(\"Abono almacenado\");\r\n            this.props.handleChange(this.state.total);\r\n            this.setState({\r\n              metodopago: 1,\r\n              total: 0,\r\n              banco: \"\",\r\n              auth: \"\",\r\n            });\r\n          } else console.log(data.message);\r\n        });\r\n    }\r\n  };\r\n  onChangeValue = (e) => {\r\n    let { name, value, type } = e.target;\r\n    if (name === \"total\") {\r\n      value = value * 1;\r\n      if (value > this.props.pay) value = this.props.pay;\r\n      else if (value < 0) value = 0;\r\n    }\r\n    if (name === \"metodopago\" || type === \"number\") value = value * 1;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class printPay extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dataContact: [],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getContact(this.props.contact);\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (props.contact !== this.props.contact) {\r\n      this.getContact(this.props.contact);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { id } = this.props;\r\n    let client = this.state.dataContact;\r\n\r\n    return (\r\n      <div className=\"d-none d-print-block\" style={{ width: 340 }} id={id}>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <div className=\"card m-0\">\r\n              <div className=\"card-body\">\r\n                <h2 className=\"text-center\">\r\n                  <center>\r\n                    <strong>Óptica Madero</strong>\r\n                  </center>\r\n                </h2>\r\n                <h4>\r\n                  <em>\r\n                    Julio Cesar Cardenas Martinez\r\n                    <br />\r\n                    Tel: 312 312 5353\r\n                    <br />\r\n                    Av. Tecnologico 38-A, Vistahermosa, Colima, Col.\r\n                  </em>\r\n                </h4>\r\n                <hr />\r\n                <h4 className=\"text-capitalize\">\r\n                  {client.nombre}\r\n                  <br />\r\n                  {client.telefonos\r\n                    ? client.telefonos[0]\r\n                      ? client.telefonos[0]\r\n                      : client.telefonos[2]\r\n                    : \"--\"}\r\n                </h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <center>\r\n              <h2 className=\"text-center\">Abono</h2>\r\n            </center>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getContact = (id) => {\r\n    if (id) {\r\n      //Variables en localStorage\r\n      let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n      //Realiza busqueda de contacto\r\n      fetch(\"http://\" + varLocalStorage.host + \"/api/contacts/\" + id, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          console.log(\"Descargando contacto\");\r\n          this.setState({\r\n            dataContact: data.data,\r\n          });\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport AddAbono from \"./abonoAdd\";\r\nimport Print from \"./print_pay\";\r\n\r\nexport default class ListAbonos extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      abonos: [],\r\n      total: 0,\r\n      load: true,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentDidMount() {\r\n    this.getPayments();\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n\r\n  render() {\r\n    let { abonos, total, load } = this.state;\r\n    let { id, date, contact } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Fecha</th>\r\n              <th scope=\"col\">Metodo de pago</th>\r\n              <th scope=\"col\">Cantidad</th>\r\n              <th scope=\"col\">Recibio</th>\r\n              <th scope=\"col\">Acciones</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {abonos.length ? (\r\n              <React.Fragment>\r\n                {abonos.map((abono) => {\r\n                  return (\r\n                    <tr key={abono.id}>\r\n                      <td>{moment(abono.created_at).format(\"L\")}</td>\r\n                      <td>\r\n                        {this.SetMethodPayment(abono.metodo)}\r\n                        {abono.metodo !== 1 ? (\r\n                          <span className=\"ml-4\">\r\n                            {abono.banco ? abono.banco : \"--\"} /{\" \"}\r\n                            {abono.Autorizacion ? abono.Autorizacion : \"--\"}\r\n                          </span>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                      </td>\r\n                      <td className=\"text-right\">$ {abono.total.toFixed(2)}</td>\r\n                      <td>{abono.created_user}</td>\r\n                      <td className=\"text-right\">\r\n                        <button\r\n                          className=\"btn btn-outline-light btn-sm\"\r\n                          onClick={() => {\r\n                            this.print(\r\n                              abono.total,\r\n                              moment(abono.created_at).format(\"L\"),\r\n                              abono.id\r\n                            );\r\n                          }}\r\n                        >\r\n                          <i className=\"fas fa-print\"></i>\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </React.Fragment>\r\n            ) : load ? (\r\n              <tr>\r\n                <td colSpan=\"5\" className=\"text-center p-4\">\r\n                  <div\r\n                    className=\"spinner-border text-primary mr-4\"\r\n                    role=\"status\"\r\n                  >\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                  </div>\r\n                  <span className=\"font-weight-light font-italic\">\r\n                    Espere cargando datos de la venta\r\n                  </span>\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              <tr>\r\n                <td colSpan=\"5\" className=\"text-center\">\r\n                  No hay abonos registrados\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <th scope=\"row\" colSpan=\"3\" className=\"text-right\">\r\n                {this.props.pay ? (\r\n                  <a\r\n                    href=\"#abonos\"\r\n                    className={\r\n                      this.props.pay\r\n                        ? \"btn btn-outline-success btn-sm mr-2\"\r\n                        : \"btn btn-outline-success btn-sm mr-2 disabled\"\r\n                    }\r\n                    data-toggle=\"modal\"\r\n                    data-target=\"#abonos\"\r\n                    aria-disabled={this.props.pay ? false : true}\r\n                  >\r\n                    <i className=\"fas fa-money-bill-wave-alt\"></i>\r\n                  </a>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                Total: $ {total.toFixed(2)}\r\n              </th>\r\n              <td colSpan=\"2\"></td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n        <AddAbono\r\n          pay={this.props.pay}\r\n          user={this.props.user}\r\n          saleId={this.props.sale}\r\n          contactId={this.props.contact}\r\n          handleChange={this.handleChange}\r\n        />\r\n        <Print folio={id} date={date} contact={contact} id=\"print_pay\" />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  print = (total, date, id) => {\r\n    let content = document.getElementById(\"print_pay\"),\r\n      pri = document.getElementById(\"ifmcontentstoprint\").contentWindow;\r\n\r\n    pri.document.open();\r\n    pri.document.write(content.innerHTML);\r\n    pri.document.write(\"<fieldset><h3>\");\r\n    pri.document.write(\"Fecha: \" + date);\r\n    pri.document.write(\"<br/>Folio: \" + id);\r\n    pri.document.write(\"<br/>Monto: $ \" + total.toFixed(2));\r\n    pri.document.write(\"</h3></fieldset>\");\r\n    pri.document.close();\r\n    pri.focus();\r\n    pri.print();\r\n  };\r\n  handleChange = (total) => {\r\n    this.getPayments();\r\n    this.setState({\r\n      total: this.state.total + total,\r\n    });\r\n  };\r\n  SetMethodPayment = (status) => {\r\n    switch (status) {\r\n      case 1:\r\n        return (\r\n          <span className=\"badge badge-success text-uppercase\">Efectivo</span>\r\n        );\r\n      case 2:\r\n        return (\r\n          <span className=\"badge badge-success text-uppercase\">\r\n            Tarjeta debito\r\n          </span>\r\n        );\r\n      case 3:\r\n        return (\r\n          <span className=\"badge badge-success text-uppercase\">\r\n            Tarjeta Credito\r\n          </span>\r\n        );\r\n      case 4:\r\n        return (\r\n          <span className=\"badge badge-success text-uppercase\">La marina</span>\r\n        );\r\n      case 5:\r\n        return (\r\n          <span className=\"badge badge-success text-uppercase\">Cheque</span>\r\n        );\r\n      case 6:\r\n        return (\r\n          <span className=\"badge badge-success text-uppercase\">\r\n            Transferencia\r\n          </span>\r\n        );\r\n      default:\r\n        return <span className=\"badge badge-success text-uppercase\">Otro</span>;\r\n    }\r\n  };\r\n  getPayments = () => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      order = \"&order=desc\",\r\n      sale = \"?sale=\" + this.props.sale;\r\n    //Realiza la peticion del usuario seun el id\r\n    console.log(\"Descargando datos de los pagos\");\r\n    fetch(\"http://\" + varLocalStorage.host + \"/api/payments\" + sale + order, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: \"Bearer \" + varLocalStorage.token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          console.log(res);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.meta && data.meta.total) {\r\n          console.log(\"Almacenando abonos\");\r\n          let total = 0;\r\n          for (var i = 0; i < data.data.length; i++) {\r\n            total += data.data[i].total;\r\n          }\r\n          this.props.handleChange(\"pagado\", total * 1);\r\n          this.setState({\r\n            abonos: data.data,\r\n            total,\r\n            load: false,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class printSale extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dataContact: [],\r\n    };\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (props.contact !== this.props.contact) {\r\n      this.getContact(this.props.contact);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      items,\r\n      descuento,\r\n      total,\r\n      saldo,\r\n      abonado,\r\n      folio,\r\n      date,\r\n      id,\r\n    } = this.props;\r\n    let totalItems = 0,\r\n      client = this.state.dataContact;\r\n\r\n    return (\r\n      <div className=\"d-none d-print-block\" style={{ width: 340 }} id={id}>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <div className=\"card m-0\">\r\n              <div className=\"card-body\">\r\n                <h2 className=\"text-center\">\r\n                  <center>\r\n                    <strong>Óptica Madero</strong>\r\n                  </center>\r\n                </h2>\r\n                <h4>\r\n                  <em>\r\n                    Julio Cesar Cardenas Martinez\r\n                    <br />\r\n                    Tel: 312 312 5353\r\n                    <br />\r\n                    Av. Tecnologico 38-A, Vistahermosa, Colima, Col.\r\n                  </em>\r\n                </h4>\r\n                <h4>\r\n                  <i>Folio: {folio}</i>\r\n                  <br />\r\n                  <i>Fecha: {date}</i>\r\n                </h4>\r\n                <hr />\r\n                <h4 className=\"text-capitalize\">\r\n                  {client.nombre}\r\n                  <br />\r\n                  {client.telefonos\r\n                    ? client.telefonos[0]\r\n                      ? client.telefonos[0]\r\n                      : client.telefonos[2]\r\n                    : \"--\"}\r\n                </h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <center>\r\n              <h2 className=\"text-center\">Pedido</h2>\r\n            </center>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>\r\n                    <h4>Cant</h4>\r\n                  </th>\r\n                  <th>\r\n                    <h4>Descripcion</h4>\r\n                  </th>\r\n                  <th>\r\n                    <h4>Precio</h4>\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {items.map((item) => {\r\n                  totalItems += item.cantidad * item.precio;\r\n                  return (\r\n                    <tr key={item.id}>\r\n                      <td>\r\n                        <h5>{item.cantidad}</h5>\r\n                      </td>\r\n                      <td>\r\n                        <h4>{item.producto}</h4>\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        <h5>{item.precio.toFixed(2)}</h5>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n              <tfoot>\r\n                <tr>\r\n                  <td\r\n                    className=\"text-right\"\r\n                    colSpan=\"3\"\r\n                    style={{ textAlign: \"right\" }}\r\n                  >\r\n                    <h4>\r\n                      Subtotal: <label>$ {totalItems.toFixed(2)}</label>\r\n                    </h4>\r\n                    <h4>\r\n                      Descuento: <label>$ {descuento.toFixed(2)}</label>\r\n                    </h4>\r\n                    <h4>\r\n                      Total: <label>$ {total.toFixed(2)}</label>\r\n                    </h4>\r\n                    <h4>\r\n                      Abonado: <label>$ {abonado.toFixed(2)}</label>\r\n                    </h4>\r\n                    <h4>\r\n                      Saldo: <label>$ {saldo.toFixed(2)}</label>\r\n                    </h4>\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <hr />\r\n            <div className=\"card\">\r\n              <div className=\"card-body text-center\">\r\n                <h4>\r\n                  Armazones usados, viejos y/o resecos son responsabilidad del\r\n                  cliente\r\n                </h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getContact = (id) => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    //Realiza busqueda de contacto\r\n    fetch(\"http://\" + varLocalStorage.host + \"/api/contacts/\" + id, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + varLocalStorage.token,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(\"Descargando contacto\");\r\n        this.setState({\r\n          dataContact: data.data,\r\n        });\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class edoCuenta extends Component {\r\n  render() {\r\n    const { pay, descuento, subtotal, total, pagado } = this.props;\r\n    return (\r\n      <div className=\"card card-success card-outline\">\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title mb-4\">\r\n            <i className=\"fas fa-shield-alt mr-2\"></i>\r\n            Estado de cuenta\r\n            {!pay ? (\r\n              <span className=\"badge badge-success ml-2\">Cuenta liquidada</span>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </h5>\r\n\r\n          <div className=\"card-text form-group row\">\r\n            <label className=\"col-6\">Descuento</label>\r\n            <div className=\"col\">\r\n              <input\r\n                className=\"form-control text-right text-success\"\r\n                type=\"number\"\r\n                name=\"descuento\"\r\n                min=\"0\"\r\n                max={subtotal - descuento}\r\n                readOnly={pay ? false : true}\r\n                value={descuento ? descuento.toFixed(2) : \"\"}\r\n                onChange={this.catchInputs}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"card-text form-group row\">\r\n            <label className=\"col-6\">Total</label>\r\n            <div className=\"col\">\r\n              <input\r\n                className=\"form-control text-right text-success\"\r\n                type=\"number\"\r\n                name=\"total\"\r\n                value={total.toFixed(2)}\r\n                onChange={this.catchInputs}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card-text row\">\r\n            <label className=\"col-6 p-2\">Abonado</label>\r\n            <h2 className=\"col text-success p-2 text-right\">\r\n              $ {pagado.toFixed(2)}\r\n            </h2>\r\n          </div>\r\n          <div className=\"card-text row\">\r\n            <label className=\"col-6 p-2\">Saldo</label>\r\n            <h2 className=\"col text-success p-2 text-right\">\r\n              $ {pay.toFixed(2)}\r\n            </h2>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    this.props.catchInputs(e);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport SearchContact from \"../Contacts/searchContactCard\";\r\nimport Items from \"../Order/itemsOrder\";\r\nimport Abonos from \"./abonos\";\r\nimport Print from \"./print_sale\";\r\nimport EdoCuenta from \"./edoCuenta\";\r\n\r\nexport default class SaleAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: 0,\r\n      session:\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(10),\r\n      descuento: 0,\r\n      subtotal: 0,\r\n      total: 0,\r\n      items: [],\r\n      contact_id: 0,\r\n      order_id: 0,\r\n      status: 0,\r\n      usuario: \"\",\r\n      date: moment().format(\"LL\"),\r\n      load: true,\r\n      pagado: 0,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.total = 0;\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n    moment.locale(\"es\");\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getSales();\r\n  }\r\n\r\n  render() {\r\n    let {\r\n        contact_id,\r\n        subtotal,\r\n        descuento,\r\n        pagado,\r\n        items,\r\n        status,\r\n        id,\r\n        session,\r\n        load,\r\n        date,\r\n      } = this.state,\r\n      pay = subtotal - (descuento + pagado);\r\n    this.total = subtotal - descuento;\r\n    pay = pay > 0 ? pay : 0;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row d-print-none\">\r\n          <div className=\"col-4\">\r\n            <SearchContact\r\n              contact={contact_id}\r\n              status={status}\r\n              getIdContact={this.getIdContact}\r\n              changePage={this.changePage}\r\n            />\r\n\r\n            {contact_id && items.length ? (\r\n              <EdoCuenta\r\n                pay={pay}\r\n                descuento={descuento}\r\n                subtotal={subtotal}\r\n                total={this.total}\r\n                pagado={pagado}\r\n                catchInputs={this.catchInputs}\r\n              />\r\n            ) : null}\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"card card-success card-outline\">\r\n              <div className=\"card-body\">\r\n                {contact_id ? (\r\n                  <React.Fragment>\r\n                    <div className=\"row mb-4\">\r\n                      <div className=\"col-2\">\r\n                        <div className=\"border border-success rounded p-2 d-flex justify-content-between align-items-center\">\r\n                          <span className=\"badge badge-pill badge-success mx-2\">\r\n                            Folio\r\n                          </span>\r\n                          <strong>{id ? id : \"Nuevo\"}</strong>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-4\">\r\n                        <div className=\"border border-success rounded p-2 d-flex justify-content-between align-items-center\">\r\n                          <span className=\"badge badge-pill badge-success mx-2\">\r\n                            Creador\r\n                          </span>\r\n                          <strong>\r\n                            {this.state.usuario\r\n                              ? this.state.usuario\r\n                              : this.props.data.name}\r\n                          </strong>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-2\">\r\n                        <div className=\"border border-success rounded p-2 d-flex justify-content-between align-items-center\">\r\n                          <span className=\"badge badge-pill badge-warning mx-2\">\r\n                            Pedido\r\n                          </span>\r\n                          <strong>\r\n                            {this.state.order_id ? (\r\n                              <Link\r\n                                to={\"/pedidos/registro/\" + this.state.order_id}\r\n                                onClick={(e) => {\r\n                                  this.changePage(\"/pedidos/registro\");\r\n                                }}\r\n                              >\r\n                                {this.state.order_id}\r\n                              </Link>\r\n                            ) : (\r\n                              \"--\"\r\n                            )}\r\n                          </strong>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col\">\r\n                        <div className=\"border border-success rounded p-2 d-flex justify-content-between align-items-center\">\r\n                          <span className=\"badge badge-pill badge-success mx-2\">\r\n                            Fecha\r\n                          </span>\r\n                          <strong>{date}</strong>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <Items\r\n                      items={items}\r\n                      status={status}\r\n                      session={session}\r\n                      ChangeInput={this.handleChangeInput}\r\n                    />\r\n                  </React.Fragment>\r\n                ) : load ? (\r\n                  <div className=\"text-center p-4\">\r\n                    <div\r\n                      className=\"spinner-border text-primary mr-4\"\r\n                      role=\"status\"\r\n                    >\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                    <span className=\"font-weight-light font-italic\">\r\n                      Espere cargando datos de la venta\r\n                    </span>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"alert alert-light\">\r\n                    <h4 className=\"alert-heading\">Nueva nota</h4>\r\n                    <p>\r\n                      <i className=\"fas fa-user mr-1\"></i> Primero seleccione al\r\n                      cliente!\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"card-footer text-right\">\r\n                <div className=\"btn-group\" role=\"group\">\r\n                  <Link\r\n                    to=\"/notas\"\r\n                    className=\"btn btn-dark\"\r\n                    onClick={(e) => {\r\n                      this.changePage(\"/notas\");\r\n                    }}\r\n                  >\r\n                    <i\r\n                      className={\r\n                        id ? \"fas fa-arrow-left mr-2\" : \"fas fa-ban mr-2\"\r\n                      }\r\n                    ></i>\r\n                    <strong>{id ? \"Regresar\" : \"Cancelar\"}</strong>\r\n                  </Link>\r\n                  <button\r\n                    className={\r\n                      contact_id && items.length\r\n                        ? \"btn btn-dark\"\r\n                        : \"btn btn-dark disabled\"\r\n                    }\r\n                    onClick={this.printSale}\r\n                    disabled={contact_id && items.length ? false : true}\r\n                  >\r\n                    <i className=\"fas fa-print mr-2\"></i>\r\n                    <strong>Imprimir</strong>\r\n                  </button>\r\n                  <button\r\n                    className={\r\n                      contact_id && items.length && pay\r\n                        ? \"btn btn-success\"\r\n                        : \"btn btn-success disabled\"\r\n                    }\r\n                    onClick={this.handleSave}\r\n                    disabled={contact_id && items.length && pay ? false : true}\r\n                  >\r\n                    <i className=\"fas fa-save mr-2\"></i>\r\n                    <strong>Guardar</strong>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {contact_id && id ? (\r\n              <div className=\"card card-success card-outline\">\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title mb-4\">\r\n                    <i className=\"fas fa-money-bill mr-2\"></i>\r\n                    Abonos\r\n                  </h5>\r\n                  <Abonos\r\n                    abonos={pagado * 1}\r\n                    sale={id * 1}\r\n                    contact={contact_id}\r\n                    pay={pay * 1}\r\n                    user={this.props.data.name}\r\n                    handleChange={this.handleChangeInput}\r\n                  />\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n        <Print\r\n          id=\"print_sale\"\r\n          folio={id}\r\n          date={date}\r\n          items={items}\r\n          descuento={descuento}\r\n          total={this.total}\r\n          saldo={pay}\r\n          abonado={pagado}\r\n          contact={contact_id}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  printSale = () => {\r\n    let content = document.getElementById(\"print_sale\"),\r\n      pri = document.getElementById(\"ifmcontentstoprint\").contentWindow;\r\n\r\n    pri.document.open();\r\n    pri.document.write(content.innerHTML);\r\n    pri.document.close();\r\n    pri.focus();\r\n    pri.print();\r\n  };\r\n  handleChangeInput = (key, value) => {\r\n    let subtotal = 0;\r\n    if (key === \"items\") {\r\n      for (var i = 0; i < value.length; i++) {\r\n        subtotal += value[i].cantidad * value[i].precio;\r\n      }\r\n    } else {\r\n      subtotal = this.state.subtotal;\r\n    }\r\n    this.setState({\r\n      [key]: value,\r\n      subtotal,\r\n    });\r\n  };\r\n  catchInputs = (e) => {\r\n    let { name, value, type } = e.target;\r\n    if (type === \"number\") value = value * 1;\r\n    if (name === \"descuento\") {\r\n      if (value >= this.state.subtotal - this.state.descuento) {\r\n        value = this.state.subtotal - 1;\r\n      }\r\n    }\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  getIdContact = (contact_id, edad) => {\r\n    this.setState({\r\n      contact_id,\r\n      edad,\r\n    });\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n  handleSave = (e) => {\r\n    e.preventDefault();\r\n    //Confirmacion de almacenamiento\r\n    let conf = window.confirm(\"¿Esta seguro de almacenar esta venta?\");\r\n\r\n    if (conf) {\r\n      //Variables\r\n      let { id, host, token, load } = this.state,\r\n        url = id\r\n          ? \"http://\" + host + \"/api/sales/\" + id\r\n          : \"http://\" + host + \"/api/sales\",\r\n        method = id ? \"PUT\" : \"POST\",\r\n        body = {},\r\n        items = [];\r\n\r\n      this.state.items.map((item) => {\r\n        items.push({\r\n          cant: item.cantidad,\r\n          price: item.precio,\r\n          subtotal: item.subtotal,\r\n          inStorage: item.inStorage,\r\n          out: item.out,\r\n          session: item.session,\r\n          store_items_id: item.store_items_id,\r\n        });\r\n        return false;\r\n      });\r\n      body = {\r\n        session: this.state.session,\r\n        descuento: this.state.descuento,\r\n        subtotal: this.state.subtotal,\r\n        total: this.state.subtotal - this.state.descuento,\r\n        contact_id: this.state.contact_id,\r\n        order_id: this.state.order_id ? this.state.order_id : \"\",\r\n        pagado: this.state.pagado,\r\n        items: JSON.stringify(items),\r\n      };\r\n\r\n      //Verificamos datos\r\n\r\n      //Mandamos señal de procesamiento\r\n      if (!load) {\r\n        this.setState({\r\n          load: true,\r\n        });\r\n      }\r\n\r\n      //Actualiza el pedido o creamos un pedido nuevo según el ID\r\n      console.log(\"Enviando datos a API\");\r\n      fetch(url, {\r\n        method: method,\r\n        body: JSON.stringify(body),\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.data) {\r\n            console.log(\"Pedido almacenado\");\r\n            if (\r\n              window.confirm(\r\n                \"Venta almacenada con exito!.\\n¿Desea cerrar esta venta?\"\r\n              )\r\n            ) {\r\n              this.props.history.goBack();\r\n            } else {\r\n              this.setState({\r\n                id: data.data.id,\r\n                usuario: data.data.created,\r\n                date: data.data.created_at,\r\n                status: 1,\r\n                load: false,\r\n              });\r\n            }\r\n          } else {\r\n            window.alert(\"Error al almacenar la venta. Intentelo mas tarde\");\r\n            console.error(data.message);\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n  getSales = () => {\r\n    let id = this.props.match.params.id;\r\n    if (id > 0) {\r\n      //Variables en localStorage\r\n      let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n      //Realiza la peticion del usuario seun el id\r\n      console.log(\"Descargando datos de la venta\");\r\n      fetch(\"http://\" + varLocalStorage.host + \"/api/sales/\" + id, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.log(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          console.log(\"Almacenando datos de la venta\");\r\n          this.setState({\r\n            id: data.data.id,\r\n            session: data.data.session ? data.data.session : this.state.session,\r\n            items: data.data.productos,\r\n            descuento: data.data.descuento,\r\n            subtotal: data.data.subtotal,\r\n            total: data.data.total,\r\n            contact_id: data.data.cliente.id,\r\n            usuario: data.data.created,\r\n            date: moment(data.data.created_at).format(\"LL\"),\r\n            status: 1,\r\n            order_id: data.data.pedido,\r\n            pagado: data.data.pagado,\r\n          });\r\n        });\r\n    } else {\r\n      this.setState({\r\n        load: false,\r\n      });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class SalesOutStock extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      stock: [],\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentDidMount() {\r\n    this.getStockOut();\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">Producto</th>\r\n            <th scope=\"col\">Pedido</th>\r\n            <th scope=\"col\">Faltante</th>\r\n          </tr>\r\n        </thead>\r\n        {this.state.stock.length ? (\r\n          <tbody>\r\n            {this.state.stock.map((item, index) => {\r\n              return (\r\n                <tr key={index}>\r\n                  <td>{item.producto}</td>\r\n                  <td>{item.pedido}</td>\r\n                  <td>{item.faltante}</td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        ) : (\r\n          <tbody></tbody>\r\n        )}\r\n      </table>\r\n    );\r\n  }\r\n\r\n  getStockOut = () => {\r\n    //Variables en localStorage\r\n    let { host, token } = this.state,\r\n      url = \"http://\" + host + \"/api/salesItems\",\r\n      stock = \"?stock=false\";\r\n\r\n    if (token && host) {\r\n      //Realiza la peticion de los productos faltantes\r\n      console.log(\"Descargando stock faltante\");\r\n      fetch(url + stock, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok && res.status !== 401) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.log(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          console.log(\"Almacenando datos descargados\");\r\n          if (data.data) {\r\n            this.setState({\r\n              stock: data.data,\r\n            });\r\n          }\r\n        });\r\n    } else {\r\n      console.error(\"Datos invalidos de session\");\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport SalesOutStock from \"../Sales/salesOutStock\";\r\n\r\nexport default class Dashboard extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-4\">\r\n          <div className=\"card card-success card-outline\">\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title mb-2\">Articulos en pedido sin stock</h5>\r\n              <SalesOutStock data={this.props.data} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport Navtop from \"./components/Layouts/navtop\";\r\nimport Menu from \"./components/Layouts/menu\";\r\nimport Breadcrumb from \"./components/Layouts/breadcrumb\";\r\nimport Footer from \"./components/Layouts/footer\";\r\nimport Users from \"./components/Users/index\";\r\nimport UserAdd from \"./components/Users/add\";\r\nimport Store from \"./components/Store/index\";\r\nimport StoreAdd from \"./components/Store/add\";\r\nimport Contacts from \"./components/Contacts/index\";\r\nimport ContactsAdd from \"./components/Contacts/add\";\r\nimport Tools from \"./components/Layouts/tools\";\r\nimport Exam from \"./components/Exam/index\";\r\nimport ExamAdd from \"./components/Exam/add\";\r\nimport Order from \"./components/Order/index\";\r\nimport OrderAdd from \"./components/Order/add\";\r\nimport Sales from \"./components/Sales/index\";\r\nimport SalesAdd from \"./components/Sales/add\";\r\nimport Dashboard from \"./components/Dashboard/index\";\r\n\r\nexport default class Routers extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      page: this.handleTitleSection(window.location.pathname),\r\n      company: props.data.company,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    //Verificamos permisos\r\n    const dir = window.location.pathname,\r\n      rol = this.props.data.rol;\r\n\r\n    if (\r\n      rol === 1 &&\r\n      (dir.match(/^\\/consultorio/g) ||\r\n        dir.match(/^\\/usuarios/g) ||\r\n        dir.match(/^\\/almacen/g) ||\r\n        dir.match(/^\\/configuraciones/g))\r\n    ) {\r\n      window.location.href = \"/\";\r\n    }\r\n    if (\r\n      rol === 2 &&\r\n      (dir.match(/^\\/pedidos/g) ||\r\n        dir.match(/^\\/usuarios/g) ||\r\n        dir.match(/^\\/almacen/g) ||\r\n        dir.match(/^\\/notas/g) ||\r\n        dir.match(/^\\/configuraciones/g))\r\n    ) {\r\n      window.location.href = \"/\";\r\n    }\r\n    //Verificamos la sesion del usuario\r\n    this.verifyUser();\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (this.state.page !== state.page) {\r\n      //Se verifica cada que se cambia de pagina\r\n      this.verifyUser();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data } = this.props;\r\n\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <Navtop />\r\n        <Menu\r\n          companyName={this.state.company}\r\n          user={data}\r\n          page={this.handlePage}\r\n          logOut={this.props.logOut}\r\n          active={this.state.page}\r\n        />\r\n        <div className=\"content-wrapper\">\r\n          <Breadcrumb title={this.state.page} />\r\n          <div className=\"content\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12\">\r\n                  <Switch>\r\n                    <Route\r\n                      path=\"/usuarios/registro/:id?\"\r\n                      render={(props) => (\r\n                        <UserAdd\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/usuarios\"\r\n                      render={(props) => (\r\n                        <Users {...props} data={data} page={this.handlePage} />\r\n                      )}\r\n                    />\r\n\r\n                    <Route\r\n                      path=\"/almacen/registro/:id?\"\r\n                      render={(props) => (\r\n                        <StoreAdd\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/almacen\"\r\n                      render={(props) => (\r\n                        <Store {...props} data={data} page={this.handlePage} />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      path=\"/contactos/registro/:id?\"\r\n                      render={(props) => (\r\n                        <ContactsAdd\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/contactos\"\r\n                      render={(props) => (\r\n                        <Contacts\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n\r\n                    <Route\r\n                      extric\r\n                      path=\"/consultorio/registro/:id?\"\r\n                      render={(props) => (\r\n                        <ExamAdd\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/consultorio\"\r\n                      render={(props) => (\r\n                        <Exam {...props} data={data} page={this.handlePage} />\r\n                      )}\r\n                    />\r\n\r\n                    <Route\r\n                      extric\r\n                      path=\"/configuraciones\"\r\n                      render={(props) => (\r\n                        <Tools {...props} page={this.handlePage} />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/pedidos/registro/:id?\"\r\n                      render={(props) => (\r\n                        <OrderAdd\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/pedidos\"\r\n                      render={(props) => (\r\n                        <Order {...props} data={data} page={this.handlePage} />\r\n                      )}\r\n                    />\r\n\r\n                    <Route\r\n                      extric\r\n                      path=\"/notas/registro/:id?\"\r\n                      render={(props) => (\r\n                        <SalesAdd\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/notas\"\r\n                      render={(props) => (\r\n                        <Sales {...props} data={data} page={this.handlePage} />\r\n                      )}\r\n                    />\r\n\r\n                    <Route\r\n                      extric\r\n                      path=\"/\"\r\n                      render={(props) => (\r\n                        <Dashboard\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Switch>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  verifyUser = () => {\r\n    //Variables en localStorage\r\n    let { data, logOut } = this.props,\r\n      { host, isLogged, token } = data;\r\n\r\n    //Solo realizamos la verificacion si hay sesion\r\n    if (isLogged && host && token) {\r\n      console.log(\"Verificando usuario\");\r\n      //Realizando verificación de usuarios\r\n      if (token !== \"\" && host !== \"\") {\r\n        fetch(\"http://\" + host + \"/api/user\", {\r\n          method: \"GET\",\r\n          signal: this.signal,\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        })\r\n          .then((res) => {\r\n            if (!res.ok && token !== \"\") {\r\n              console.error(\"Usuario invalido:\", res.statusText);\r\n              logOut();\r\n            }\r\n            return res.json();\r\n          })\r\n          .then((data) => {\r\n            if (!data.message) {\r\n              console.log(\"Usuario valido:\", data.username);\r\n            }\r\n          });\r\n      }\r\n    } else {\r\n      console.error(\"La sesion ya no esta activa o se perdio el host\");\r\n      logOut();\r\n    }\r\n  };\r\n  handlePage = (title) => {\r\n    let page = this.handleTitleSection(title);\r\n    this.setState({\r\n      page,\r\n    });\r\n  };\r\n  handleTitleSection = (page) => {\r\n    //Verificamos que la variable no este vacia\r\n    page = page ? page : window.location.pathname;\r\n    //Maneja el renderiazado del componentes cuando se cambíe el componentes\r\n    if (page === \"\" || typeof page === \"undefined\" || typeof page === \"object\")\r\n      page = \"/\";\r\n    let locations = page.split(\"/\");\r\n    if (locations[1] === \"\") {\r\n      return \"dashboard\";\r\n    } else {\r\n      return locations[1];\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      host: props.host,\r\n      hostShow: false,\r\n      load: false,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n\r\n  render() {\r\n    let { load, username, password, hostShow, host } = this.state,\r\n      { company } = this.props;\r\n    return (\r\n      <div className=\"login-page\">\r\n        <div className=\"login-box\">\r\n          <div className=\"login-logo\">\r\n            <a href=\".\">\r\n              <b className=\"text-primary\">Orus</b> LTE\r\n            </a>\r\n          </div>\r\n\r\n          <div className=\"card\">\r\n            <div className=\"card-body login-card-body\">\r\n              <p className=\"login-box-msg\">{company}</p>\r\n              <form onSubmit={this.handleLogin}>\r\n                <div className=\"input-group mb-3\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Usuario\"\r\n                    name=\"username\"\r\n                    autoFocus={hostShow ? false : true}\r\n                    onChange={this.catchInputs}\r\n                    value={username}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <div className=\"input-group-text\">\r\n                      <span className=\"fas fa-user\"></span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Contraseña\"\r\n                    name=\"password\"\r\n                    autoComplete=\"off\"\r\n                    onChange={this.catchInputs}\r\n                    value={password}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <div className=\"input-group-text\">\r\n                      <span className=\"fas fa-lock\"></span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12 mb-4\">\r\n                    <a\r\n                      href=\"#tools\"\r\n                      onClick={this.showTools}\r\n                      className=\"text-muted\"\r\n                    >\r\n                      <i className=\"fas fa-wifi\"></i> Servidor\r\n                    </a>\r\n                    {hostShow ? (\r\n                      <div className=\"input-group mb-3\">\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Servidor\"\r\n                          name=\"host\"\r\n                          autoComplete=\"off\"\r\n                          autoFocus={hostShow ? true : false}\r\n                          onChange={this.catchInputs}\r\n                          value={host}\r\n                          onKeyPress={this.pressEnter}\r\n                        />\r\n                        <div className=\"input-group-append\">\r\n                          <div className=\"input-group-text\">\r\n                            <span className=\"fas fa-server\"></span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12 text-center\">\r\n                    {load ? (\r\n                      <div\r\n                        className=\"spinner-border text-primary\"\r\n                        role=\"status\"\r\n                      >\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                      </div>\r\n                    ) : (\r\n                      <button\r\n                        type=\"submit\"\r\n                        className=\"btn btn-primary btn-block\"\r\n                      >\r\n                        Iniciar sesion\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  pressEnter = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      let { host } = this.state;\r\n      window.alert(\r\n        \"La conexion al servidor fue actualizada con exito: \\n\" + host\r\n      );\r\n      this.setState({\r\n        hostShow: false,\r\n      });\r\n      this.props.changeState(\"host\", host);\r\n    }\r\n  };\r\n  showTools = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      hostShow: !this.state.hostShow,\r\n    });\r\n  };\r\n  validInputs() {\r\n    //Valida los campos del formulario\r\n    if (this.state.username.length > 4 && this.state.password.length > 7) {\r\n      return true;\r\n    } else {\r\n      alert(\"Los datos ingresados no son validos\");\r\n      return false;\r\n    }\r\n  }\r\n  handleLogin = (e) => {\r\n    e.preventDefault();\r\n    let { host, username, password } = this.state;\r\n    this.setState({\r\n      load: true,\r\n    });\r\n    if (host) {\r\n      //Manejamos el inicio de sesion aqui, declaramos primero las variables\r\n      //sobre todo la de localstorage donde viene el host a conectar\r\n      //La variable body con los datos de inicio\r\n      let valid = this.validInputs(),\r\n        body = {\r\n          email: username,\r\n          password,\r\n        };\r\n      //Si los datos de usuario son correctos manda la informacion al servidor\r\n      if (valid) {\r\n        console.log(\"Enviado credenciales al servidor\");\r\n        fetch(\"http://\" + host + \"/api/users/login\", {\r\n          method: \"POST\",\r\n          body: JSON.stringify(body),\r\n          signal: this.signal,\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        })\r\n          .then((res) => {\r\n            if (!res.ok) {\r\n              window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n              console.error(res);\r\n            }\r\n            return res.json();\r\n          })\r\n          .then((data) => {\r\n            if (data.data) {\r\n              console.log(\"Loggin: realizado con exito\");\r\n              this.props.loginFunction(data);\r\n            } else {\r\n              console.error(\"Login: Sin acceso\", data);\r\n              if (data.message) window.alert(data.message);\r\n              if (data.errors) window.alert(data.errors);\r\n              this.setState({\r\n                username: \"\",\r\n                password: \"\",\r\n                load: false,\r\n              });\r\n            }\r\n          })\r\n          .catch((e) => {\r\n            console.error(e);\r\n          });\r\n      }\r\n    } else {\r\n      console.error(\"No existe un valor para host\");\r\n      this.setState({\r\n        hostShow: true,\r\n        load: false,\r\n      });\r\n    }\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport Routers from \"./Routers\";\r\nimport Login from \"./components/Layouts/login\";\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let storage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    //Agregamos los datos a state\r\n    this.state = {\r\n      isLogged: storage ? storage.isLogged : false,\r\n      token: storage ? storage.token : \"\",\r\n      idUser: storage ? storage.idUser : 0,\r\n      username: storage ? storage.username : \"\",\r\n      name: storage ? storage.name : \"\",\r\n      rol: storage ? storage.rol : 0,\r\n      email: storage ? storage.email : \"\",\r\n      host: storage ? storage.host : window.location.hostname,\r\n      company: storage ? storage.company : \"Optica Madero\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    /*Almacenamos el state en el storage*/\r\n    console.log(\"Cargando data a storage\");\r\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(this.state));\r\n  }\r\n  componentDidUpdate() {\r\n    //Cada que el componnte es redenrizado almacenamos la variables del\r\n    //state en localstorage\r\n    console.log(\"Actualizando data a storage\");\r\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(this.state));\r\n  }\r\n\r\n  render() {\r\n    //Mostramos el componente de login si isLogged no tiene sesion\r\n    //De lo contrario nos dirigimos al compenente de routers\r\n    //donde nos muestra el componente segun el path\r\n    return (\r\n      <Router>\r\n        <main>\r\n          {this.state.isLogged ? (\r\n            <Routers data={this.state} logOut={this.logOut} />\r\n          ) : (\r\n            <Login\r\n              company={this.state.company}\r\n              host={this.state.host}\r\n              loginFunction={this.login}\r\n              changeState={this.changeState}\r\n            />\r\n          )}\r\n        </main>\r\n      </Router>\r\n    );\r\n  }\r\n\r\n  changeState = (name, value) => {\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  login = (s) => {\r\n    //Funcion que maneja el cambio de sesion en el state\r\n    this.setState({\r\n      isLogged: s.data.id ? true : false,\r\n      idUser: s.data.id,\r\n      username: s.data.username,\r\n      name: s.data.name,\r\n      email: s.data.email,\r\n      rol: s.data.rol,\r\n      token: s.token,\r\n    });\r\n  };\r\n  logOut = () => {\r\n    let session = {\r\n      isLogged: false,\r\n      token: \"\",\r\n      idUser: 0,\r\n      username: \"\",\r\n      name: \"\",\r\n      rol: 0,\r\n      email: \"\",\r\n      host: this.state.host,\r\n      company: this.state.company,\r\n    };\r\n    console.log(\"La session ha sido cerrada\");\r\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(session));\r\n    window.location.href = \"/\";\r\n  };\r\n}\r\n\r\nrender(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}