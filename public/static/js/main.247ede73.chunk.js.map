{"version":3,"sources":["utils/url.js","context/AuthContext.js","hooks/useUsers.js","context/ConfigContext.js","components/Users/views/userNameInput.jsx","components/Users/views/userEmailInput.jsx","components/Users/Metadata.jsx","components/Users/Permissions.jsx","components/Activitys.jsx","components/Users/add.jsx","context/StoreContext.js","pages/partials/SideBar.jsx","components/Input.jsx","hooks/useStore.js","components/Store/Brands.jsx","hooks/useContact.js","components/Store/Suppliers.jsx","components/Store/ToolBar.jsx","layouts/pagination.jsx","layouts/list_inbox.jsx","components/Store/Inbox.jsx","hooks/useCategory.js","components/Store/Categories.jsx","hooks/useProducts.js","components/Store/Code.jsx","components/Store/views/BranchesSelect.jsx","components/Store/views/BranchesFormInputs.jsx","components/Store/views/BranchesForm.jsx","components/Store/Add.jsx","components/Store/data/Category_list.jsx","pages/StoreCategories.jsx","components/Store/data/BrandsList.jsx","pages/StoreBrand.jsx","components/Store/views/SetQantityModal.jsx","components/Store/views/Inventory_table.jsx","components/Store/views/SetPriceModal.jsx","pages/StoreInventory.jsx","components/Store/FormEntries.jsx","pages/StoreEntries.jsx","pages/Store.jsx","context/ContactContext.js","components/Contacts/ToolsBar.jsx","components/Contacts/Inbox.jsx","components/Contacts/helper.js","components/Contacts/views/Personal.jsx","components/Contacts/views/Address.jsx","components/Contacts/views/Phones.jsx","components/Sales/views/listOfSales_delete.jsx","components/Contacts/Dashboard.jsx","components/Store/views/listOfBrands.jsx","components/Order/helpers.js","components/Order/views/listOfOrders.jsx","components/Exam/views/List.jsx","components/Exam/cards/List.jsx","layouts/modal.jsx","components/Contacts/Add.jsx","pages/Contacts.jsx","components/Tools/views/Branchs.jsx","pages/Tools.jsx","context/ExamContext.js","components/Exam/ToolBar.jsx","hooks/useExam.js","components/Exam/Inbox.jsx","components/Exam/views/GeneralesExam.jsx","components/Exam/views/interrogatoriosExam.jsx","components/Exam/views/keraRetExam.jsx","components/Exam/views/diabetesExam.jsx","components/Exam/views/agudezaExam.jsx","components/Exam/views/diagnosticoExam.jsx","components/Exam/views/graduacionExam.jsx","components/Exam/views/observacionesExam.jsx","components/Exam/helpers.js","components/Exam/views/RecomendationGlass.jsx","components/Contacts/views/CardNewContact.jsx","components/Contacts/views/Autocomplete.jsx","components/Contacts/views/ShowCardSearch.jsx","components/Contacts/views/ShowCard.jsx","components/Exam/views/SideBarRigth.jsx","components/Exam/Add.jsx","pages/Exams.jsx","context/SaleContext.js","components/Sales/views/ListItemsModal.jsx","components/Sales/helpers.js","components/Sales/views/InputSearchItem.jsx","components/Sales/views/DiscountBtn.jsx","hooks/useSale.js","components/Sales/views/ListSalesModal.jsx","components/Sales/views/ListSalesBtn.jsx","components/print/PrintSale.jsx","components/print/views/SaleHTML.js","components/Sales/views/PaymentModal.jsx","components/Sales/views/PaymentBtn.jsx","components/Sales/views/EraseSaleBtn.jsx","components/Sales/views/SearchCustomerModal.jsx","components/Sales/views/CustomerBtn.jsx","components/Sales/views/PaymentDetails.jsx","components/Sales/views/UpdateItemModal.jsx","components/Sales/views/SalesDetailsTable.jsx","components/Sales/views/SaleDate.jsx","components/Sales/views/ShowToPay.jsx","components/Sales/views/ShowTotal.jsx","components/Sales/views/InfoModal.jsx","components/Sales/views/InfoButton.jsx","pages/Sales.jsx","components/Sales/views/reportPaymentsDetails.jsx","components/Sales/views/reportPays.jsx","components/Sales/views/reportBank.jsx","components/dashboard/Filters.jsx","components/dashboard/boxCut.jsx","pages/AuthDashboard.jsx","context/UserContext.js","components/Users/views/FiltersToolbar.jsx","components/Users/views/Inbox.jsx","pages/Users.jsx","context/OderContext.js","hooks/useOrder.js","components/Order/views/inbox.jsx","utils/helpers.js","components/Store/data/searchStore.jsx","components/Store/helpers.js","components/Store/views/searchItemModal.jsx","components/Order/views/ItemsOrder.jsx","components/Order/views/userEmailInput.jsx","components/Order/views/userPhoneInput.jsx","components/Order/views/Asistent_card_customer.jsx","components/Exam/views/CardExam.jsx","components/Exam/views/CardExamsByUser.jsx","components/Exam/views/FormExamSmall.jsx","components/Order/views/Asistent_card_exam.jsx","components/Order/views/Asistent_card_discount.jsx","components/Order/views/PaymentModal.jsx","components/Order/views/Asistent_card_payments.jsx","components/Order/Asistent.jsx","components/Order/views/labOrder.jsx","components/Order/views/bicelacionOrder.jsx","components/Exam/views/examShort.jsx","components/Order/ExamModal.jsx","components/Order/ModalNota.jsx","components/Order/editOrder.jsx","components/Order/Toolbar.jsx","pages/Orders.jsx","components/Layouts/notify.jsx","components/Layouts/navtop.jsx","components/Layouts/breadcrumb.jsx","components/Layouts/menu.jsx","layouts/Main.jsx","routers/RouterAuth.jsx","pages/Dashboard.jsx","routers/RouterPortal.jsx","components/404NotFound/index.jsx","pages/Login.jsx","routers/Router.jsx","App.jsx","index.js","utils/current.js"],"names":["api","url","method","body","controller","Promise","done","reject","LS","localStorage","getItem","SS","sessionStorage","JSON","parse","protocol","PROTOCOL","window","location","host","HOST","hostname","port","PORT","token","TOKEN","param","headers","Accept","Authorization","includes","toUpperCase","data","stringify","signal","axios","then","res","catch","err","console","error","code","message","response","setUrl","endpoint","id","paramString","paramKeys","Object","keys","Array","isArray","map","k","length","URLSearchParams","AuthContext","createContext","useUser","children","history","useHistory","initialSession","isLogged","idUser","username","name","rol","email","branch","roles","permissions","useState","user","setUser","setUserData","toSave","toLowerCase","setItem","session","credentials","a","password","status","outSession","getCurrentUser","log","pathname","push","getNotifications","unreadNotifications","setNotifications","payload","result","count","parseInt","success","setBranch","update","branch_id","useEffect","Provider","value","auth","setSession","useUsers","getListUsers","filters","getUserById","ID","deleteUser","saveUser","ConfigContext","Config","useContext","initialState","meta","server","useConfig","state","setstate","setStorage","storage","newStorage","UserNameInputComponent","props","mounted","useRef","bgColor","validate","text","searchUser","setState","_onChange","onChange","_handleValidate","handleValidate","current","className","col","type","placeholder","autoComplete","autoFocus","defaultValue","handleChange","target","onBlur","userSearch","replace","test","handleSearchUser","userId","required","minLength","maxLength","pattern","deleted","UserEmailInputComponent","searchEmail","emailSearch","MetadataComponent","currentUser","moment","created_at","fromNow","updated_at","ip_address","last_activity","user_agent","user_data","onClick","PermissionsComponent","role","permission","i","ActivitysComponents","ac","datetime","format","Boolean","inputs","input","load","validUserName","validUserEmail","activities","UserAddComponent","match","params","_handleNewOrEdit","handleNewOrEdit","_users","branchs","setCurrentUser","send","catchInputs","normalize","activity","processData","style","height","disabled","Swal","fire","icon","title","showConfirmButton","timer","showCancelButton","confirmButtonText","cancelButtonText","showLoaderOnConfirm","dismiss","StoreContext","Store","SideBarPartial","Input","showIcon","loadText","options","emptyText","cat","useStore","getItems","deleteItem","saveItemByList","items","saveItem","loading","saveQantityandPrice","readyToSave","saveGlobalPrice","idCategory","productCategoryId","URL","branchSelected","saveQantity","product_id","getBrands","getBrand","saveBrand","deleteBrand","Brands","brands","_store","supplier","brand","handleChangeBrand","useContact","getContacts","getContact","deleteContact","saveContact","Suppliers","_contacts","suppliers","orderby","order","sup","handleChangeSupplier","ToolBar","context","handleSetSelectOptions","checked","set","panel","href","e","preventDefault","zero","htmlFor","itemsPage","PaginationComponent","color","_handlePagination","handlePagination","handleChangePage","page","current_page","last_page","ListInbox","defaultSearch","search","setSearch","setTimer","inputRef","toTimer","handleSearch","clearTimeout","setTimeout","ref","onKeyPress","key","top","left","handleDeleteItem","handleEditItem","handleStatus","handleSync","handleDownload","itemSelected","handlePrint","Inbox","handleChangeOptions","handleSelectItem","item","newOptions","responseType","open","createObjectURL","confirmButtonColor","handleItemSelect","cant_total","colSpan","useCategory","getCategories","getCategory","deleteCategory","saveCategory","Categories","_categories","categories","cat1","cat2","cat3","cat4","input2","filter","input3","sons","input4","input5","categoryid","category","handleReturn","val","useProducts","getProducts","searchBy","getProductById","getProductByCode","saveProduct","Code","hookStore","inUse","setInUse","onChangeProductCode","BranchesSelect","branch_default","setBranchId","listBranches","c","BranchesFormInputs","inBranch","branchID","storeItemID","cant","price","store_item_id","setData","handleChangeInput","parseFloat","min","BranchesForm","branches","defaultBranch","configBranches","currentBranch","codebar","grad","brand_id","unit","supplier_id","category_id","codes","category_code","Add","storeContext","LOADING","inBranches","textSelect","codeReceibed","to","CategoryListComponent","hookCategory","ls","dd","category_raiz","add","categoryData","width","Fragment","last","_categorySelect","categorySelect","category_data","handleSelectCategory","hijos","CategoriesStoreComponent","category_view_sons","category_current","category_cache","minHeight","BrandsList","handleEdit","handleDelete","cursor","BrandsComponent","storeHook","nombre","prevEdit","changeInput","contact_id","SetQantityModal","handleClose","handleUpdateItems","cantidad","setCantidad","tabIndex","class","InventoryTableView","header","itemsProp","showModal","row","h","toFixed","index","newItem","forEach","SetPriceModal","categoryName","_handleSave","handleSave","_close","_handleChange","showLoader","setShowLoader","setPrice","Inventory","catData_1","catData_2","catData_3","catid_1","catid_2","catid_3","globalData","setGlobalData","modal","setModal","cil","rangoInf","rangoSup","disablenBtnModal","handleModal","catid","noGraduationData","FormEntries","eraseItem","setItemNew","configContext","conf","branchesId","b","currentCant","store","searchProductByItem","currentPrice","branch_select","setDataByBranch","getBranchesId","isNaN","branches_used","StoreEntries","Date","now","setNewItem","branches_rest","setDataItem","itemHasNew","getNewItem","c_branch","n_branch","newItems","alt","optionsDefault","ContactContext","Contacts","ToolBarContact","newOrEdit","contact","InboxContact","contactSelected","contacts","handleLoadContacts","select","phones","values","p","maxWidth","enUso","age","created","patternEmail","toExport","handleVerificationData","showMsg","birthday","phone","patternName","patternPhone","telefonoVerify","date","today","anos","getFullYear","_save","changeDataInput","_setData","telnumbers","t_movil","handleGetDataObject","verification","telefonos","dataPrimary","t_casa","t_oficina","business","gender","isEmail","Personal","fn","emailVerification","emailColor","nameVerification","nameColor","birthdayVerification","birthdayColor","contatcs","handleValidContact","helper","except","validates","check","diff","rfc","onKeyDown","zIndex","maxHeight","locale","selected","dateFormat","maxDate","placeholderText","onSelect","toLocaleDateString","isValid","Address","address_street","address_neighborhood","address_location","address_state","address_zip","Phones","phone_notices","phone_cell","phone_office","registerLocale","es","ListOfSalesComponent","sales","sale","total","pedido","Dashboard","analytics","metadata","purchases","exams","orders","updated","ListOfBrandsComponent","handleStatusString","getDataTemporary","field","removeDataTemporary","getBadgeStatus","handleDeleteOrder","_delete","estado","nota","handleSaveOrder","_erase","addDataTemporary","local","getDataOneItem","getStatusType","ListOfOrdersComponent","order_foreing","List","allSelect","_handleSelectedExam","handleSelectedExam","setSelect","scope","isSame","showBottons","examSelect","ModalComponents","_handleCancel","handleCancel","supplier_of","deleted_at","AddContact","id_exam","setContact","btn_enabled","handleChangeData","notices","cell","office","address","street","neighborhood","zip","purchases_count","exams_count","brands_count","suppliers_count","orders_count","domicilios","calle","colonia","municipio","cp","domicilio","handleSaveContact","ContactsComponent","BranchsListComponent","showForm","handleChangeValue","toString","onSubmit","handleUpdateConfig","ToolsComponent","varLocalStorage","company","category_list","ExamContext","Exams","useExam","getExams","getExam","deleteExam","saveExam","InboxExams","_exam","list","examSelected","handleLoadExams","exam","customer","hasOwnProperty","messages","errors","esferaod","esferaoi","cilindrod","cilindroi","ejeod","ejeoi","adiciond","adicioni","adicion_media_od","adicion_media_oi","dpod","dpoi","alturaod","alturaoi","GeneralesExam","handleGetData","pc","pc_time","readOnly","tablet","tablet_time","movil","movil_time","lap","lap_time","frontal","occipital","generality","cefalea","temporaod","temporaoi","c_frecuencia","max","c_intensidad","InterrogatorioExam","onChangeInput","this","interrogatorio","coa","rows","aopp","aopf","Component","KeraRetExamComponent","keratometriaod","keratometriaoi","rsod","rsoi","DiabetesExam","d_fclod","d_fcloi","d_time","d_media","d_test","d_fclod_time","d_fcloi_time","oftalmoscopia","AgudezaExam","cvod","cvoi","avslod","avsloi","avcgaod","avcgaoi","avfod","avfoi","avf2o","DiagnosticoExam","diagnostico","presbicie","step","piod","pioi","txoftalmico","GraduacionExamComponent","lcmarca","lcgod","lcgoi","showContactGlasses","ObservacionesExam","observaciones","handleCodeName","parent","toExportActions","handleTypeInput","getCodeGrad","gradod","gradoi","od","oi","handleSaveExam","examToday","examenes","edad","RecomendationGlass","category_list_2","category_list_3","category_id_1","category_id_2","category_id_3","codesItems","_category","handleCodesItems","handleCategoryChange","_onChangeInput","CardNewContact","nameDefault","hookContact","valid","handleValidForm","dissmiss","handleResult","Autocomplete","showNew","handleSelected","per_page","handleNew","ShowCardSearch","new","newName","handleSelectContact","ShowContactComponent","legend","handleContactSelect","SideBarRigth","_handle","handle","generales","interrogatorios","keraRet","diabetes","agudeza","graduacion","recomendaciones","getDataDefault","used","activitys","_exams","category_ii","doc","num","temporal","nameItem","pantalleooi","pantalleood","txoptico","SaleContext","Sale","ListItemsModal","cantDefault","_Select","handleSelect","handleChangeCant","producto","handleClickItem","toSend","confirm","_make","getMethodName","getSession","Math","random","substring","getForPay","payments","discount","paid","reduce","subtotal","getSubTotal","getTotal","getPagado","InputSearchItem","textSearch","setTextSearch","showList","setShowList","setCantDefault","setList","hookProducts","searchItem","split","makeItem","inStorage","cantidades","out","cantInStore","store_items_id","descripcion","categoria","handleAddItem","found","handleChangeTextSearch","handlePressEnter","DiscountBtnComponent","pagado","btnDisabled","prompt","sum","percent","useSales","ctx","getSaleList","salesFilters","orderBy","getSaleById","saveSale","ListSalesModal","_select","_sales","saleList","setSaleList","handleChangeSearch","saleSelected","handleSelectSale","ListSalesBtn","pay","thereNews","PrintSaleComponent","popup","document","write","card","helpers","amount","order_id","HTMLOrderPrint","getPage","print","onbeforeunload","setPrint","position","display","flexDirection","justifyContent","alignItems","backgroundColor","marginBottom","PaymentModal","forPaid","listBanks","metodopago","metodoname","bank_id","details","handleSetPayment","bank","PaymentBtnComponent","showPayment","EraseSaleBtnComponent","eraseSale","isPayed","SearchCustomerModal","customers","setCustomers","SearchCustomer","handleChangeText","handleKeyPressSearch","saleHelper","handleClickCustomer","CustomerBtnComponent","payment","banco","UpdateItemModal","close","_update","handleUpdate","handleUpdateItem","handleKeyPress","SalesDetailsTableComponent","showUpdateItem","showPaymentDetails","product","handleDeletePayment","newPayments","handleShowUpdateItem","handleCloseUpdateItem","diffDay","handleDeleteBtn","alert","handleShowPaymentDetails","PaymentDetails","toDo","ShowToPay","ShowTotal","InfoModal","InfoButton","saleContext","setShowModal","IndexSalesComponent","hookSale","setDataToSend","back","payed","obj","ReportPaymentsDetails","getSaleDay","paymentsFilters","paymentsUrl","metodo","created_user","dollarUS","ReportPays","changeState","date_end","date_start","efectivo","char","newFiltersPays","donutChartCanvas","$","get","getContext","donutOptions","maintainAspectRatio","responsive","labels","donutData","destroy","mp","datasets","Chart","ReportBank","listBank","bankFilters","bankUrls","Filters","usersList","setUsersList","usersHook","handleChangeDate","BoxCut","ventas","startOf","filterData","filtersState","changeAllState","UserContext","FiltersToolbar","_newOrEdit","_userContext","InboxComponent","userSelected","setUserSelected","users","setLoading","getClassByRole","UsersComponent","OrderContext","useOrder","getListOrders","getOrder","orderID","saveOrder","bi_details","deleteOrder","InboxOrderComponent","orderContext","orderHook","pedidos","setPedidos","_saveOrder","orderSelected","setOrderSelected","handleSelectOrder","getList","cancelButtonColor","handleOrderSelect","paciente","lab","npedidolab","ncaja","SearchItemsComponent","_handleItemSelect","setLoad","setItems","sort","getItemToShow","codeLentString","string","verifyItem","handleVerifyData","codeRef","category_id1","category_id2","category_id4","handleSaveItem","handleCatOne","category_list2","category_id3","category_list3","category_list4","handleCatTwo","handleCatTree","handleCodeString","stringcode","selectedIndex","trim","handleCodeLent","category1","category2","category3","handleNameLent","AddItemModalComponent","codeDefault","_handleAddItem","_handleCloseModal","handleCloseModal","showDesc","setShowDesc","handleChangeItem","hanldeSendBack","ListItemComponent","itemNew","validItems","showDetails","handleSetCantItem","itemsToSave","codeCategory","sub","minWidth","itemFound","findIndex","_handleValidData","handleValidData","contactHook","validEmail","UserPhoneInputComponent","validPhone","CardCustomer","_handleRemoveCustomer","handleRemoveCustomer","_handleUpdateContact","handleUpdateContact","_handleEditor","handleEditor","edit","validToSave","ph","exam_id","contactData","CardShowExam","_handleRemove","handleRemove","_handleEdit","cancelButttonText","CardExamByUser","customer_id","_handleClick","handleClick","examHook","dataNewExam","FormExamSmall","handleOnChange","CardExam","editCustomer","_handleSelect","_hanldeRemove","hanldeRemove","CardDiscount","_handleSetDiscount","handleSetDiscount","toPaid","setDiscount","_handleSetPayments","handleSetPayments","CardOrderPayments","handleToPaid","AsistentComponent","examsList","generalHelper","handleGetCategories","cat_id","_getCategory","executeHook","descuento","handleCloseAssitent","categories_wrong","items_state","finalPayments","denyButtonText","LabOrderComponent","lab_id","lab_order","setSuppliers","supDefault","setSupDefault","hookContacts","s","BicelacionOrderComponent","bi_box","ExamCustomerComponent","examEdit","_ChangeInput","ChangeInput","_saveExam","newExam","setNewExam","handelChangeExam","ExamModal","ModalNota","penddingToPay","EditOrderComponent","statusInitial","showModalNota","setShowModalNota","idurl","hookOrder","fNacimiento","tel","saveFinalOrder","join","Toolbar","initialOptions","IndexOrderComponent","NotifyComponent","timerNotify","notifications","mainRole","countNotify","showNotifications","slice","handleNotifications","handleClickRead","setInterval","clearInterval","notify","notiFyType","time","NavtopComponent","toggleClass","BreadcrumbComponent","config","pathName","useLocation","namePage","path","showChangeBranchs","branchSelect","handleCancelModal","handleClickChangeBranch","reload","getHtmlBody","MenuComponent","companyName","active","avatar","src","opacity","Main","logOut","Routers","exact","render","RouterPortal","NotFoundComponent","Login","defaultStorage","txtHost","hostShow","inputEmail","inputPassword","handleLogin","focus","handleKeyEnter","handleChangeServer","handleEmailEnter","Router","component","NotFound","App","getElementById","module","exports","Intl","NumberFormat","currency"],"mappings":"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","file":"static/js/main.247ede73.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport function getLastParam() {\n  const url = window.location.pathname.split(\"/\");\n\n  return parseInt(url.pop());\n}\n\nexport function api(url, method = \"GET\", body, controller = null) {\n  return new Promise((done, reject) => {\n    const LS = localStorage.getItem(\"OrusSystem\"),\n      SS = sessionStorage.getItem(\"OrusSystem\"),\n      {\n        protocol: PROTOCOL = window.location.protocol,\n        host: HOST = window.location.hostname,\n        port: PORT = window.location.port,\n      } = JSON.parse(LS ? LS : \"{}\"),\n      { token: TOKEN = \"\" } = JSON.parse(SS ? SS : \"{}\");\n    const param = {\n      method,\n      url: `${PROTOCOL}://${HOST}:${PORT}/api/${url}`,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + TOKEN,\n      },\n    };\n\n    if ([\"POST\", \"PUT\"].includes(method.toUpperCase()) && body) {\n      param.data = JSON.stringify(body);\n    }\n    if (controller) param.signal = controller.signal;\n\n    axios(param)\n      .then((res) => {\n        return done(res.data);\n      })\n      .catch((err) => {\n        console.error(\"[Orus System] Query API failer:\", url);\n        console.error(\"[Orus System] Query API code:\", err?.code);\n        console.error(\"[Orus System] Query API message:\", err?.message);\n        return reject(err.response?.data);\n      });\n  });\n}\n\nexport function setUrl(endpoint, id, param = {}) {\n  let url = endpoint,\n    paramString = null;\n  const paramKeys = Object.keys(param);\n\n  if (id) {\n    url += `/${id}`;\n  }\n\n  if (typeof param !== \"object\" || Array.isArray(param)) {\n    return url;\n  }\n\n  if (paramKeys) {\n    paramKeys.map((k) => {\n      if (param[k] === null || param[k] === \"\") {\n        delete param[k];\n      }\n      return null;\n    });\n\n    if (paramKeys.length) {\n      paramString = new URLSearchParams(param);\n      url += `?${paramString}`;\n    }\n  }\n\n  return url;\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { api, setUrl } from \"../utils/url\";\n\nexport const AuthContext = createContext(null);\nexport const Auth = () => useContext(AuthContext);\n\nexport default function useUser({ children }) {\n  const history = useHistory();\n\n  const LS = sessionStorage.getItem(\"OrusSystem\");\n  let initialSession = {\n    isLogged: false,\n    idUser: 0,\n    username: \"\",\n    name: \"\",\n    rol: null,\n    email: \"\",\n    token: \"\",\n    branch: \"\",\n    roles: \"\",\n    permissions: [],\n  };\n\n  const [user, setUser] = useState(() => {\n    if (LS && LS !== \"undefined\") {\n      initialSession = JSON.parse(LS);\n    }\n\n    return initialSession;\n  });\n\n  // Functions\n  const setUserData = (data) => {\n      if (!data) return;\n\n      const toSave = {\n        isLogged: data.isLogged ?? user.isLogged,\n        idUser: data.id,\n        username: data.username.toLowerCase(),\n        name: data.name.toLowerCase(),\n        rol: 2,\n        email: data.email,\n        token: data.token ?? user.token,\n        branch: { ...data.branch.data, id: data.branch.id },\n        roles: data.roles[0],\n        permissions: data.permissions,\n      };\n\n      setUser(toSave);\n      sessionStorage.setItem(\"OrusSystem\", JSON.stringify(toSave));\n    },\n    session = async (credentials) => {\n      const { email, password } = credentials;\n\n      if (!email || !password) {\n        return {\n          status: false,\n          message: \"The fields user or passwors are required\",\n        };\n      }\n\n      return await api(\"user/login\", \"POST\", credentials)\n        .then((data) => {\n          if (!data.status) {\n            return { status: false, data };\n          }\n\n          const { data: user } = data;\n\n          setUserData({\n            ...user,\n            token: data.token,\n            isLogged: true,\n          });\n\n          return { status: true, message: data.message };\n        })\n        .catch((err) => {\n          return {\n            status: false,\n            message: \"Error en el servidor: \" + err?.message,\n          };\n        });\n    },\n    outSession = async () => {\n      return await api(\"user/logout\", \"POST\")\n        .then(() => {\n          setUser(initialSession);\n          sessionStorage.setItem(\"OrusSystem\", \"{}\");\n\n          return true;\n        })\n        .catch((err) => console.error(\"[Server] When close session:\", err));\n    },\n    getCurrentUser = async () => {\n      return await api(\"user\")\n        .then((data) => data.data)\n        .catch((err) => {\n          if (err?.message === \"Unauthenticated.\") {\n            if (history.location?.pathname !== \"/login\") {\n              setUser(initialSession);\n              sessionStorage.setItem(\n                \"OrusSystem\",\n                JSON.stringify(initialSession)\n              );\n\n              history.push(\"/login\");\n            }\n            return;\n          }\n          console.log(\"[Orus System] Responses:\", err);\n        });\n    },\n    getNotifications = async () => {\n      const user = await getCurrentUser().catch(() => {\n        // outSession();\n        return null;\n      });\n\n      if (!user) return [];\n\n      return user.unreadNotifications;\n    },\n    setNotifications = async (payload) => {\n      if (typeof payload !== \"object\") {\n        return {\n          status: false,\n          message: \"Payload should be object\",\n        };\n      }\n\n      return await api(\"user/readAllNotifications\", \"POST\", payload).then(\n        (result) => {\n          const count = parseInt(payload.id) < 0 ? \"Todas\" : 1;\n\n          if (result.success) {\n            console.log(\"[Orus System] Notificaciones marcadas leidas:\", count);\n            return true;\n          }\n\n          return false;\n        }\n      );\n    },\n    setBranch = async (branch) => {\n      const url = setUrl(\"users\", user.idUser);\n\n      const update = {\n        branch_id: branch,\n        name: user.name,\n        username: user.username,\n      };\n      \n      return await api(url, \"PUT\", update).then((result) => {\n        if (result.data && !result.message) return true;\n        else return false;\n      });\n    };\n\n  useEffect(() => {\n    getCurrentUser().then((data) => {\n      if (!data) return;\n\n      console.log(\"[Orus system] Session was created\");\n      setUserData({ ...data, isLogged: true });\n    });\n  }, [user.isLogged]);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        auth: user,\n        setSession: session,\n        outSession,\n        getNotifications,\n        setNotifications,\n        setBranch,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useUsers() {\n\n  const getListUsers = async (filters)=>{\n    const url = setUrl('users', null, filters);\n    return await api(url);\n  }\n\n  const getUserById = async(ID) => {\n    const url = setUrl('users', ID);\n    return await api(url)\n  }\n\n  const deleteUser = async (ID) => {\n    const url = setUrl('users', ID);\n    return await api(url, 'DELETE', null);\n  }\n\n  const saveUser = async (data, ID)=> {\n\n    if(ID){\n      //Actualizamos\n      const url = setUrl('users', ID);\n      return await api(url, 'PUT',data);\n    }else{\n      //Creamos uno nuevo\n\n      const url = setUrl('users');\n      return await api(url, \"POST\", data);\n    }\n  }\n\n  return{\n    getListUsers,\n    getUserById,\n    deleteUser,\n    saveUser,\n  }\n\n}\n\n\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useState, useEffect, useContext } from \"react\";\nimport { api } from \"../utils/url\";\n\nexport const ConfigContext = createContext(null);\nexport const Config = () => useContext(ConfigContext);\n\nconst storage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\nconst initialState = {\n  data: [],\n  meta: {},\n  server: storage,\n};\n\nexport default function useConfig({ children }) {\n  const [state, setstate] = useState(initialState);\n  // Functions\n  const setStorage = (storage) => {\n    if (typeof storage !== \"object\") {\n      return false;\n    }\n\n    const newStorage = {\n      ...state.server,\n      ...storage,\n    };\n\n    setstate({\n      ...state,\n      server: newStorage,\n    });\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(newStorage));\n    return true;\n  };\n\n  useEffect(() => {\n    api(\"config?itemsPage=100\", \"GET\").then((response) => {\n      setstate({\n        ...state,\n        data: response.data,\n        meta: response.meta,\n        setStorage,\n      });\n    });\n  }, []);\n\n  return (\n    <ConfigContext.Provider value={state}>{children}</ConfigContext.Provider>\n  );\n}\n","import { useEffect, useRef, useState } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\n\nexport default function UserNameInputComponent(props) {\n  const user = useUsers();\n  const mounted = useRef(true);\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"Debe de tener al menos 4 caracteres.\",\n    searchUser: false,\n  });\n  const { onChange: _onChange, handleValidate: _handleValidate } = props;\n\n  const handleChange = ({ value }) => {\n    _onChange({\n      name: \"username\",\n      value: value.toLowerCase(),\n    });\n  };\n  const validUser = () => {\n    if (!mounted.current) return;\n\n    const regex = /^[\\w]{4,16}$/,\n      userSearch = props.username.replace(/\\s/g, \"\");\n\n    if (regex.test(userSearch)) {\n      //User valid, next search if exist\n      setState({\n        ...state,\n        searchUser: true,\n      });\n\n      handleSearchUser(userSearch, props.userId, user).then((status) => {\n        if (!mounted.current) return;\n\n        if (status) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"El usuario ya esta registrado.\",\n            searchUser: false,\n          });\n          _handleValidate({\n            name: \"validUserName\",\n            value: false,\n          });\n        } else {\n          setState({\n            ...state,\n            bgColor: \"bg-blue\",\n            validate: \"\",\n            text: \"\",\n            searchUser: false,\n          });\n          _handleValidate({\n            name: \"validUserName\",\n            value: true,\n          });\n        }\n      });\n    } else {\n      //User no valid\n      if (userSearch.length > 4) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"No tiene el formato de usuario\",\n        });\n        _handleValidate({\n          name: \"validUserName\",\n          value: false,\n        });\n      } else if (!userSearch.length) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"Debe de tener de 4 a 16 caracteres alfanumericos.\",\n        });\n        _handleValidate({\n          name: \"validUserName\",\n          value: false,\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      mounted.current = false;\n    };\n  });\n\n  return (\n    <div className={\"col-\" + props.col}>\n      {props.username.length ? (\n        <small>\n          <label>Usuario</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + state.bgColor}>\n            {state.searchUser ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-user-check\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"text\"\n          className={\"form-control\" + state.validate}\n          placeholder=\"Usuario\"\n          autoComplete=\"off\"\n          autoFocus=\"autofocus\"\n          defaultValue={props.username}\n          onChange={({ target }) => handleChange(target)}\n          onBlur={validUser}\n          required=\"required\"\n          minLength=\"4\"\n          maxLength=\"16\"\n          pattern=\"^[\\w]{4,16}$\"\n        />\n      </div>\n      {state.validate ? <small className=\"text-muted\">{state.text}</small> : \"\"}\n    </div>\n  );\n}\n\nconst handleSearchUser = async (username, userId = null, user) => {\n  const result = await user.getListUsers({ username, userId, deleted: 0 });\n\n  if (result.data && result.data.length) {\n    const { username: user } = result.data[0];\n\n    if (user.toLowerCase() === username) {\n      return true;\n    }\n  }\n  return false;\n};\n","import { useState } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\n\nexport default function UserEmailInputComponent(props) {\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"No tiene el formato de un email\",\n    searchEmail: false,\n  });\n\n  const user = useUsers();\n\n  //Vars\n  const { col, email, userId, onChange: _onChange } = props,\n    { bgColor, validate, text, searchEmail } = state;\n\n  //Functions\n  const handleChange = ({ name, value }) => {\n      _onChange({\n        name,\n        value: value.toLowerCase(),\n      });\n    },\n\n    validEmail = () => {\n      const regex =\n          /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n        emailSearch = email.replace(/\\s/g, \"\");\n\n      if (regex.test(emailSearch)) {\n        //User valid, next search if exist\n        setState({\n          ...state,\n          searchUser: true,\n        });\n        \n        handleSearchUser(emailSearch, userId, user).then((response) => {\n          if (response) {\n            setState({\n              bgColor: \"bg-red\",\n              validate: \" border border-danger\",\n              text: \"El usuario ya esta registrado.\",\n              searchUser: false,\n            });\n            _onChange({\n              name: \"validUserEmail\",\n              value: false,\n            });\n          } else {\n            setState({\n              ...state,\n              bgColor: \"bg-blue\",\n              validate: \"\",\n              text: \"\",\n            });\n            _onChange({\n              name: \"validUserEmail\",\n              value: true,\n            });\n          }\n        });\n      } else {\n        //User no valid\n        if (emailSearch.length > 8) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"No tiene el formato de un email valido\",\n          });\n          _onChange({\n            name: \"validUserEmail\",\n            value: false,\n          });\n        } else if (!emailSearch.length) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"Escriba un email valido\",\n          });\n          _onChange({\n            name: \"validUserEmail\",\n            value: false,\n          });\n        }\n      }\n    };\n\n  return (\n    <div className={\"col-\" + col}>\n      {email.length ? (\n        <small>\n          <label>Email</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + bgColor}>\n            {searchEmail ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-at\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"email\"\n          className={\"form-control\" + validate}\n          placeholder=\"email\"\n          name=\"email\"\n          autoComplete=\"off\"\n          defaultValue={email}\n          onChange={({ target }) => handleChange(target)}\n          onBlur={validEmail}\n          required=\"required\"\n        />\n      </div>\n      {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n    </div>\n  );\n}\n\n\nconst handleSearchUser = async (username, userId = null, user) => {\n  const result = await user.getListUsers({ username, userId, deleted: 0 });\n\n  if (result.data && result.data.length) {\n    const { username: user } = result.data[0];\n\n    if (user.toLowerCase() === username) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n\n/* const handleSearchUser = async (email, userId = null, user) => {\n  const result = await user.getListUser\n  const url = getUrl(\"users\", null, { email, userId, deleted: 0 }),\n    result = await api(url);\n\n  if (result.data && result.data.length) {\n    const { email: user } = result.data[0];\n\n    if (user.toLowerCase() === email) {\n      return true;\n    }\n  }\n  return false;\n};\n */\n","import moment from \"moment\";\n\nexport default function MetadataComponent({ data: currentUser }) {\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-primary\">\n          <i className=\"fas fa-database mr-2\"></i>\n          Metadata\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        {currentUser.data?.session ? (\n          <ul className=\"list-group\">\n            <li className=\"list-group-item\">\n              <h6>Datos del usuario</h6>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <span className=\"text-primary\">Registrado</span>\n                  <p>{moment(currentUser.data.created_at).fromNow()}</p>\n                </div>\n                <div className=\"col\">\n                  <span className=\"text-primary\">Ultima actualizacion</span>\n                  <p>{moment(currentUser.data.updated_at).fromNow()}</p>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              <h6>Actividad</h6>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <span className=\"text-primary\">IP</span>\n                  <p>\n                    {currentUser.data.session?.ip_address\n                      ? currentUser.data.session.last_activity\n                      : \"--\"}\n                  </p>\n                </div>\n                <div className=\"col\">\n                  <span className=\"text-primary\">Ultima actividad</span>\n                  <p>\n                    {currentUser.data.session?.last_activity\n                      ? moment(currentUser.data.session.last_activity).fromNow()\n                      : \"--\"}\n                  </p>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"text-primary\">Navegador y OS</span>\n              <p>\n                {currentUser.data.session?.user_agent\n                  ? currentUser.data.session.user_agent\n                  : \"--\"}\n              </p>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"text-primary\">Token</span>\n              <p>\n                {currentUser.data.session?.user_data\n                  ? currentUser.data.session.user_data\n                  : \"--\"}\n              </p>\n            </li>\n          </ul>\n        ) : (\n          <p>Usuario no ha registrado actividad.</p>\n        )}\n      </div>\n      {currentUser.data.session && (\n        <div className=\"card-footer text-right\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            onClick={() => {\n              // close session when session is active\n            }}\n          >\n            <i className=\"fas fa-sign-out-alt mr-1\"></i>\n            Cerrar session\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","export default function PermissionsComponent({ data: currentUser }) {\n  return (\n    <div className=\"card card-primary card-outline mt-4\">\n      <div className=\"card-header\">\n        <h5 className=\"card-title text-primary\">Tipo y permisos</h5>\n      </div>\n      <div className=\"card-body\">\n        <span className=\"badge badge-dark m-1\">{currentUser.role}</span>\n        {currentUser.data?.permissions?.map((permission, i) => (\n          <span className=\"badge badge-primary m-1\" key={i}>\n            {permission}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import moment from \"moment\";\nexport default function ActivitysComponents(props) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title text-muted text-bold w-100 mb-4 text-left\">\n          <i className=\"fas fa-bars mr-1\"></i>\n          Actividad\n        </h5>\n\n        {props.data.map((ac, i) => {\n          const { data, type } = ac;\n\n          return (\n            <p className=\"card-text border-bottom text-left\" key={i}>\n              <span\n                className={\n                  type !== \"deleted\"\n                    ? type === \"created\"\n                      ? \"badge badge-success text-uppercase\"\n                      : \"badge badge-primary text-uppercase\"\n                    : \"badge badge-danger text-uppercase\"\n                }\n              >\n                {type}\n              </span>\n              <span className=\"mx-2 text-uppercase\">\n                {moment(data.datetime).format(\"DD-MMMM-YYYY HH:mm\")}\n              </span>\n              <span className=\"text-bold text-capitalize\">\n                {data.user?.name.toLowerCase()}\n              </span>\n\n              {Boolean(Object.keys(data.inputs).length) && (\n                <span className=\"px-2\">\n                  {Object.keys(data.inputs).map((input, i) => (\n                    <span\n                      key={i}\n                      className=\"badge badge-light text-uppercase mx-1\"\n                    >\n                      {input} / {data.inputs[input]}\n                    </span>\n                  ))}\n                </span>\n              )}\n            </p>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport useUsers from \"../../hooks/useUsers\";\nimport { Config } from \"../../context/ConfigContext\";\nimport { useHistory } from \"react-router-dom\";\n\n//Component\nimport UserNameInput from \"./views/userNameInput\";\nimport UserEmailInput from \"./views/userEmailInput\";\nimport Metadata from \"./Metadata\";\nimport Permissions from \"./Permissions\";\nimport Activities from \"../Activitys\";\n\nconst initialState = {\n  id: 0,\n  role: \"ventas\",\n  password: \"\",\n  username: \"\",\n  name: \"\",\n  email: \"\",\n  branch_id: 12,\n  data: {\n    session: {},\n    roles: [],\n    permissions: [],\n    load: false,\n    validUserName: false,\n    validUserEmail: false,\n    created_at: \"\",\n    updated_at: \"\",\n    activities: [],\n  },\n};\n\nexport default function UserAddComponent(props) {\n  const { id } = props.match.params;\n  const { handleNewOrEdit: _handleNewOrEdit } = props;\n  const _users = useUsers();\n  const configContext = Config();\n  const branchs = configContext.data;\n  const [currentUser, setCurrentUser] = useState(initialState);\n  const history = useHistory();\n  const send =\n    currentUser.name.length &&\n    !currentUser.data.load &&\n    currentUser.data.validUserName &&\n    currentUser.data.validUserEmail\n      ? false\n      : true;\n\n  function processData(data) {\n    if (data) {      \n      setCurrentUser({\n        id: data.id,\n        role: data.roles[0],\n        username: data.username,\n        name: data.name,\n        email: data.email,\n        password: \"\",\n        branch_id: data.branch.id,\n        data: {\n          session: data.session ? data.session : {},\n          permissions: data.permissions,\n          roles: data.roles,\n          load: data.load ? data.load : false,\n          validUserName: true,\n          validUserEmail: true,\n          created_at: data.created_at,\n          updated_at: data.updated_at,\n          activities: data.activity,\n        },\n      });\n    }\n  }\n\n  const handleValidate = ({ name, value }) => {\n    setCurrentUser({\n      ...currentUser,\n      data: {\n        ...currentUser.data,\n        [name]: value,\n      },\n    });\n  };\n\n  const catchInputs = ({ name, value, type }) => {\n    if (type === \"text\") {\n      value = value\n        .toLowerCase()\n        .normalize(\"NFD\")\n        .replace(/[\\u0300-\\u036f]/g, \"\");\n    }\n\n    setCurrentUser({\n      ...currentUser,\n      [name]: value,\n    });\n  };\n\n  const handleSave = () => {\n    const { id, name, username, role, password, email, branch_id } =\n      currentUser;\n\n    //Valid primary data\n    if (!currentUser.data.validUserName) {\n      window.Swal.fire({\n        icon: \"error\",\n        title: \"El nombre de usuario ya esta en uso\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return false;\n    }\n    if (!currentUser.data.validUserEmail) {\n      window.Swal.fire({\n        icon: \"error\",\n        title: \"El correo ya esta en uso\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return false;\n    }\n\n    let data = {\n      name,\n      username,\n      role,\n      email,\n      branch_id,\n    };\n\n    if (password.length >= 8) data.password = password;\n\n    _users.saveUser(data, id).then((data) => {\n      if (data) {\n        window.Swal.fire({\n          title: \"Usuarios\",\n          text: id\n            ? `Usuario actualizado correctamente`\n            : `Usuario guardado correctamente`,\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonText: \"Hecho!\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            history.push(\"/usuarios\");\n            _handleNewOrEdit();\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      _users.getUserById(id).then((data) => {\n        if (data) {\n          processData(data.data);\n        }\n      });\n    }\n  }, [id]);\n\n  return (\n    <div className=\"row\" style={{ height: \"100vh\" }}>\n      <div className={`col-${id ? 8 : 12}`}>\n        <form className=\"card card-primary card-outline\" autoComplete=\"off\">\n          <div className=\"card-header\">\n            <h1 className=\"card-title text-primary\">\n              <i className=\"fas fa-user mr-2\"></i>\n              {id ? \"Editar usuario\" : \"Registrar nuevo usuario\"}\n            </h1>\n          </div>\n          <div className=\"card-body was-validated\">\n            {currentUser.load ? (\n              <div className=\"alert alert-light text-center p-4\">\n                <div className=\"spinner-border text-primary\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            ) : (\n              <>\n                <div className=\"row mb-3\">\n                  <UserNameInput\n                    username={currentUser.username}\n                    userId={id ? id : \"\"}\n                    col={6}\n                    onChange={catchInputs}\n                    handleValidate={handleValidate}\n                  />\n                  <div className=\"col-6\">\n                    {currentUser.name.length ? (\n                      <small>\n                        <label>Nombre completo</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-user-tag\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control text-capitalize\"\n                        placeholder=\"Nombre completo\"\n                        name=\"name\"\n                        autoComplete=\"off\"\n                        defaultValue={currentUser.name}\n                        onChange={({ target }) => catchInputs(target)}\n                        required=\"required\"\n                        minLength=\"8\"\n                        pattern=\"^[a-zA-Z]{2,20}[\\s]{1}[a-zA-Z]{2,20}.*\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    {currentUser.password.length || id ? (\n                      <small>\n                        <label>Contraseña</label>\n                        {!id && (\n                          <span className=\"ml-2 text-muted\">\n                            De 8 a 16 caracteres, por lo menos una mayuscula, un\n                            numero y un caracter especial\n                          </span>\n                        )}\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-lock\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"password\"\n                        className=\"form-control\"\n                        placeholder=\"Contraseña\"\n                        name=\"password\"\n                        autoComplete=\"off\"\n                        defaultValue={currentUser.password}\n                        onChange={({ target }) => catchInputs(target)}\n                        required={id ? false : true}\n                        minLength=\"8\"\n                        maxLength=\"16\"\n                        pattern=\"^(?=.*[A-Z])(?=.*[!@#$&.*])(?=.*[0-9])(?=.*[a-z]).{8,16}$\"\n                      />\n                    </div>\n                  </div>\n                  <UserEmailInput\n                    email={currentUser.email}\n                    userId={id ? id : \"\"}\n                    col={6}\n                    onChange={catchInputs}\n                  />\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    <small>\n                      <label>Tipo de usuario</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-id-card\"></i>\n                        </span>\n                      </div>\n                      <select\n                        className=\"custom-select\"\n                        name=\"role\"\n                        defaultValue={currentUser.role}\n                        onChange={({ target }) => catchInputs(target)}\n                      >\n                        <option value=\"admin\">Administrador</option>\n                        <option value=\"ventas\">Ventas</option>\n                        <option value=\"doctor\">Optometrista</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"col-md-6\">\n                    <small>\n                      <label>Sucursal</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-store\"></i>\n                        </span>\n                      </div>\n                      <select\n                        className=\"custom-select text-uppercase\"\n                        name=\"branch_id\"\n                        value={currentUser.branch_id}\n                        onChange={({ target }) => catchInputs(target)}\n                      >\n                        {branchs.map((branch) =>\n                          branch.name !== \"bank\" ? (\n                            <option value={branch.id} key={branch.id}>\n                              {branch.data.name}\n                            </option>\n                          ) : null\n                        )}\n                      </select>\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n          <div className=\"card-footer\">\n            <div className=\"row\">\n              <div className=\"col-md-12 text-right\">\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-dark\"\n                    onClick={() => {\n                      history.push(`/usuarios`);\n                      _handleNewOrEdit();\n                    }}\n                  >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={\n                      currentUser.load\n                        ? \"btn btn-primary disabled\"\n                        : \"btn btn-primary\"\n                    }\n                    disabled={send ? true : false}\n                    onClick={handleSave}\n                  >\n                    <i className=\"fas fa-save mr-1\"></i>\n                    {id ? \"Actualizar\" : \"Guardar\"}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n\n        <Permissions data={currentUser} />\n      </div>\n      {id && (\n        <div className=\"col-4\">\n          <Metadata data={currentUser} />\n          <Activities data={currentUser.data.activities} />\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const StoreContext = createContext(null);\nexport const Store = () => useContext(StoreContext);\n","import React from \"react\";\n\nexport default function SideBarPartial(props) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <h5 className=\"card-title\">\n          <i\n            className={\n              props.icon\n                ? \"mr-2 fas fa-\" + props.icon\n                : \"mr-2 fas fa-ellipsis-v\"\n            }\n          ></i>\n          {props.title ?? \"Menu\"}\n        </h5>\n      </div>\n      <div className=\"card-body p-0\">\n        <ul className=\"list-group nav list-group-flush\">{props.children}</ul>\n      </div>\n    </div>\n  );\n}\n","export default function Input(props) {\n  const { showIcon = true } = props;\n  \n  return (\n    <div className=\"input-group mb-3\">\n      {showIcon && (\n        <div className=\"input-group-prepend\">\n          <span\n            className={\n              props.value\n                ? \"input-group-text bg-primary\"\n                : \"input-group-text bg-warning\"\n            }\n          >\n            <i className={`fas fa-${props.icon ?? \"sort-amount-down\"}`}></i>\n          </span>\n        </div>\n      )}\n\n      <select\n        className=\"custom-select text-uppercase\"\n        value={props.value ?? \"\"}\n        disabled={props.load ?? false}\n        onChange={({ target }) => {\n          if (props.handleChange) {\n            props.handleChange(parseInt(target.value));\n          }\n        }}\n      >\n        {props.load ? (\n          <option value=\"\">{props.loadText ?? \"Cargando opciones\"}</option>\n        ) : (\n          <>\n            {!Boolean(props.options?.length) ? (\n              <option value=\"\">{props.emptyText ?? \"No hay opciones\"}</option>\n            ) : (\n              <option value=\"0\">--{props.text ?? \"Seleccione uno\"}--</option>\n            )}\n          </>\n        )}\n\n        {props.options?.map((cat) => {\n          return (\n            <option value={cat.id} key={cat.id}>\n              {cat.name}\n            </option>\n          );\n        })}\n      </select>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useStore() {\n  const getItems = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"store\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get items list in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const getItem = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"store\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const deleteItem = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"store\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveItemByList = async (items) => {\n    if (!items) return;\n    const url = setUrl(\"store/bylist\");\n\n    return await api(url, \"POST\", { items })\n      .then((res) => {\n        return res;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when save items by list in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveItem = async (data) => {\n    if (!data) return;\n    const { id } = data;\n\n    //delete data.id;\n    delete data.data;\n    delete data.loading;\n\n    if (id) {\n      const url = setUrl(\"store\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save item in hook:\",\n            err.message\n          );\n\n          throw err;\n        });\n    } else {\n      const url = setUrl(\"store\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save item in hook:\",\n            err.message\n          );\n          throw err;\n        });\n    }\n  };\n\n  const saveQantityandPrice = async (data) => {\n    delete data.readyToSave;\n    const { id } = data;\n\n    if (id === 0) {\n      const url = setUrl(\"branches\");\n      const method = \"POST\";\n      return await api(url, method, data);\n    } else {\n      const url = setUrl(\"branches\", id);\n      const method = \"PUT\";\n      return await api(url, method, data);\n    }\n  };\n\n  const saveGlobalPrice = async (data) => {\n    const idCategory = data.productCategoryId;\n    const URL = setUrl(`categories/setprice/${idCategory}`);\n    const method = \"POST\";\n\n    delete data.productCategoryId;\n    delete data.branchSelected;\n\n    return await api(URL, method, data);\n  };\n\n  const saveQantity = async (data)=>{   \n    const product_id = data.product_id;\n    const url = setUrl(`store/setcant/${product_id}`);\n    const method = 'POST';\n    return await api(url, method, data);\n  }\n\n  // Brands functions -------------------------\n  const getBrands = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"brands\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get brands list in hook:\",\n          err.message\n        );\n        throw err;\n      });\n  };\n\n  const getBrand = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"brands\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get brands in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveBrand = async (data) => {\n    const url = setUrl(\"brands\");\n    return await api(url, \"POST\", data);\n  };\n\n  const deleteBrand = async (id) => {\n    const url = setUrl(\"brands\", id);\n    return await api(url, \"DELETE\", null)\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  return {\n    getItems,\n    getItem,\n    deleteItem,\n    saveItem,\n    saveItemByList,\n    saveQantityandPrice,\n    saveGlobalPrice,\n    getBrands,\n    getBrand,\n    saveBrand,\n    deleteBrand,\n    saveQantity,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\nimport Input from \"../Input\";\nimport useStore from \"../../hooks/useStore\";\n\nexport default function Brands(props) {\n  \n  const [state, setState] = useState({\n    brands: [],\n    load: true,\n  });\n\n  const _store = useStore();\n\n  const getBrands = () => {\n    _store.getBrands({supplier: props.supplier}).then((brands) => {\n        if(brands){\n          setState({\n            ...state, \n          brands: brands.data,  \n          load: false,\n        });\n        }else{\n          console.error(\"Error al obetner las marcas\");\n        }\n        \n      });\n  };\n\n  useEffect(() => {\n    getBrands();\n  }, [props.supplier]);// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <small>\n          <label>Marca</label>\n        </small>\n        <Input\n          options={state.brands}\n          value={props.brand}\n          text=\"Seleccione una marca\"\n          icon=\"copyright\"\n          emptyText=\"No hay marcas para este proveedor\"\n          load={state.load}\n          loadText=\"Cargando marcas\"\n          handleChange={(id) => {\n            if (props.handleChangeBrand) {\n              props.handleChangeBrand(id);\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useContact() {\n\n  const getContacts = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"contacts\", null, options);\n    //type, bussiness\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contacts list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n  const getContact = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"contacts\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contact in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n\n  const deleteContact = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"contacts\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete contact in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n\n  \n  const saveContact = async (data) => {\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"contacts\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save contact in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    } else {\n      const url = setUrl(\"contacts\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save contact in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    }\n  };\n\n  return {\n    getContacts,\n    getContact,\n    deleteContact,\n    saveContact,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\nimport useContact from \"../../hooks/useContact\";\nimport Input from \"../Input\";\n\nexport default function Suppliers(props) {\n  \n  const _contacts = useContact();\n  const [state, setState] = useState({\n    suppliers: [],\n    load: true,\n  });\n\n  const getSuppliers = () => {\n    _contacts\n      .getContacts({\n        type: 1,\n        orderby: \"name\",\n        order: \"asc\",\n      })\n      .then((sup) => {\n        setState({\n          suppliers: sup.data,\n          load: false,\n        });\n      });\n  };\n\n  useEffect(() => {\n    getSuppliers();\n  }, []);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <small>\n          <label>Proveedor</label>\n        </small>\n        <Input\n          options={state.suppliers}\n          value={props.supplier ?? \"\"}\n          text=\"Seleccione un provedor\"\n          icon=\"address-book\"\n          load={state.load}\n          handleChange={(id) => {\n            if (props.handleChangeSupplier) {\n              props.handleChangeSupplier(id);\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import { Store } from \"../../context/StoreContext\";\n//Components\nimport SideBar from \"../../pages/partials/SideBar\";\n\nimport BrandsInput from \"./Brands\";\nimport SuppliersInput from \"./Suppliers\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function ToolBar() {\n  const context = Store();\n  const history = useHistory();\n\n  //Funciones\n  const handleSetSelectOptions = ({ name, value, checked }) => {\n    if (name === \"itemsPage\") value = parseInt(value);\n    if (name === \"supplier\" && value > 0) value = parseInt(value);\n    if (name === \"zero\") {\n      if (checked) value = \"true\";\n      else value = \"false\";\n    }\n\n    context.set({\n      ...context,\n      options: {\n        ...context.options,\n        [name]: value,\n      },\n    });\n  };\n  \n  const handleChangeSupplier = (id) => {\n    context.set({\n      ...context,\n      options: {\n        ...context.options,\n        brand: \"\",\n        supplier: id,\n      },\n    });\n  };\n\n  return (\n    <SideBar title={context.panel === \"inbox\" ? \"Menu y filtros\" : \"Menu\"}>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"inbox\" ? \"nav-link  disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n            context.set({\n              ...context,\n              panel: \"inbox\",\n            });\n            history.push(\"/almacen\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"inbox\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Productos\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"category\" ? \"nav-link disabled\" : \"nav-link \"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"category\",\n            });\n\n            history.push(\"/almacen/categorias\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"category\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Categorias\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"brands\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"brands\",\n            });\n\n            history.push(\"/almacen/marcas\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"brands\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Marcas\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"inventory\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"inventory\",\n            });\n\n            history.push(\"/almacen/inventario\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"inventory\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Inventario\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"entries\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"entries\",\n            });\n\n            history.push(\"/almacen/entradas\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"entries\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Entradas\n        </a>\n      </li>\n\n      {context.panel === \"inbox\" && (\n        <>\n          <li className=\"nav-item p-1\">\n            <SuppliersInput\n              supplier={context.options?.supplier}\n              showIcon={false}\n              handleChangeSupplier={(id) => handleChangeSupplier(id)}\n            />\n          </li>\n          {context.options?.supplier && (\n            <li className=\"nav-item p-1\">\n              <BrandsInput\n                supplier={context.options?.supplier}\n                brand={context.options?.brand}\n                showIcon={false}\n                handleChangeBrand={(id) => {\n                  handleSetSelectOptions({\n                    name: \"brand\",\n                    value: id,\n                  });\n                }}\n              />\n            </li>\n          )}\n          <li className=\"nav-item p-1\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"zero\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"zero\"\n                checked={context.options?.zero === \"true\" ? true : false}\n                onChange={({ target }) => handleSetSelectOptions(target)}\n              />\n              <label\n                className=\"custom-control-label font-weight-normal\"\n                htmlFor=\"zero\"\n              >\n                Cantidades en cero\n              </label>\n            </div>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"orderby\">Ordenar por</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"orderby\"\n              id=\"orderby\"\n              value={context.options?.orderby}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"created_at\">Fecha de registro</option>\n              <option value=\"updated_at\">Fecha de modificacion</option>\n            </select>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"order\">Mostrar por</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"order\"\n              id=\"order\"\n              value={context.options?.order}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"asc\">Antiguos</option>\n              <option value=\"desc\">Recientes</option>\n            </select>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"itemsPage\">Numero de productos</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"itemsPage\"\n              id=\"itemsPage\"\n              value={context.options?.itemsPage}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"25\">ver 25</option>\n              <option value=\"50\">ver 50</option>\n              <option value=\"75\">ver 75</option>\n              <option value=\"100\">ver 100</option>\n            </select>\n          </li>\n        </>\n      )}\n    </SideBar>\n  );\n}\n","export default function PaginationComponent({\n  meta,\n  color,\n  handlePagination: _handlePagination,\n}) {\n\n\n\n  const handleChangePage = (page) => {\n    if (_handlePagination) {\n      _handlePagination(page);\n    } else {\n      console.error(\"[OrusSystem] Funcion de paginador no definida\");\n    }\n  };\n\n  return (\n    <div className=\"btn-group\">\n      <ul className=\"pagination pagination-sm m-0 mb-1\">\n        <li\n          className={\n            meta.current_page === 1 ? \"page-item disabled\" : \"page-item test-\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === 1\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(1);\n            }}\n          >\n            Primero\n          </a>\n        </li>\n        <li\n          className={\n            meta.current_page === 1 ? \"page-item disabled\" : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === 1\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.current_page - 1);\n            }}\n          >\n            <i className=\"fas fa-caret-left\"></i>\n          </a>\n        </li>\n        <li className=\"page-item\">\n          <span className=\"page-link text-dark\">\n            {meta.current_page && meta.last_page ? (\n              <>\n                {meta.current_page} /{meta.last_page}\n              </>\n            ) : (\n              \"...\"\n            )}\n          </span>\n        </li>\n        <li\n          className={\n            meta.current_page === meta.last_page\n              ? \"page-item disabled\"\n              : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === meta.last_page\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.current_page + 1);\n            }}\n          >\n            <i className=\"fas fa-caret-right\"></i>\n          </a>\n        </li>\n        <li\n          className={\n            meta.current_page === meta.last_page\n              ? \"page-item disabled\"\n              : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === meta.last_page\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.last_page);\n            }}\n          >\n            Ultimo\n          </a>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport Pagination from \"../layouts/pagination\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nconst ListInbox = (props) => {\n  \n  //Const\n  const { defaultSearch = \"\" } = props;\n  //States\n  const [search, setSearch] = useState(defaultSearch);\n  const [timer, setTimer] = useState(\"\");\n  const inputRef = useRef();\n\n  const _authContext = useContext(AuthContext);\n  const { auth } = _authContext;\n\n  useEffect(() => {\n    let toTimer = null;\n    if (props.handleSearch) {\n      if (search.length) {\n        if (timer) clearTimeout(timer);\n        toTimer = setTimeout(() => {\n          props.handleSearch(search);\n        }, 1000);\n        setTimer(toTimer);\n      } else {\n        props.handleSearch(\"\");\n      }\n    }\n    // eslint-disable-next-line\n  }, [search]);\n\n  return (\n    <div className={\"card card-\" + props.color + \" card-outline\"}>\n      <div className=\"card-header\">\n        <h3 className={\"card-title text-\" + props.color}>\n          <i\n            className={\n              props.icon ? \"mr-1 fas fa-\" + props.icon : \"mr-1 fas fa-user\"\n            }\n          ></i>\n          {props.title}\n        </h3>\n        <div className=\"card-tools\">\n          {props.handleSearch && (\n            <div className=\"input-group input-group-sm position-relative\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Buscar\"\n                defaultValue={search}\n                ref={inputRef}\n                onChange={({ target }) => {\n                  const { value } = target;\n                  setSearch(value);\n                }}                                \n                onKeyPress={(e) => {\n                  const { key } = e;\n                  if (key === \"Enter\") {\n                    if (timer) clearTimeout(timer);\n                    props.handleSearch(search);\n                  }\n                }}\n              />\n              <div\n                className=\"position-absolute\"\n                style={{ top: 5, left: -20, color: \"#ced4da\" }}\n              >\n                <i className=\"fas fa-search\"></i>\n              </div>\n              {search.length > 2 ? (\n                <div className=\"input-group-append\">\n                  <div\n                    className=\"btn btn-secondary\"\n                    onClick={(e) => {\n                      inputRef.current.value = \"\";\n                      setSearch(\"\");\n                    }}\n                  >\n                    <i className=\"fas fa-window-close\"></i>\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          )}\n        </div>\n      </div>\n      <div className=\"p-0 card-body\">\n        {props.handleDeleteItem ||\n        props.handleEditItem ||\n        props.handleStatus ||\n        props.handleSync ||\n        props.meta ||\n        props.handleDownload ? (\n          <div className=\"mailbox-controls\">\n            <div className=\"btn-group\">\n              {props.handleDeleteItem ? (\n                \n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm text-danger\"\n                  title=\"Eliminar\"\n                  disabled = {props.itemSelected ? (props.itemSelected === auth.idUser) ? true : false : true}\n                  onClick={(e) => props.handleDeleteItem()}\n                >\n                  <i className=\"fas fa-trash-alt\"></i>\n                </button>\n              ) : null}\n\n              {props.handleEditItem ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Editar\"\n                  disabled={props.itemSelected ? false : true}\n                  onClick={(e) => props.handleEditItem()}\n                >\n                  <i className=\"fas fa-edit\"></i>\n                </button>\n              ) : null}\n\n              {props.handleStatus ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Estado\"\n                  disabled={props.itemSelected ? false : true}\n                  onClick={(e) => props.handleStatus()}\n                >\n                  <i className=\"fas fa-check-circle\"></i>\n                </button>\n              ) : null}\n\n              {props.handleSync ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Recargar\"\n                  onClick={(e) => props.handleSync()}\n                >\n                  <i className=\"fas fa-sync-alt\"></i>\n                </button>\n              ) : null}\n\n              {props.handlePrint ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Imprimir\"\n                  onClick={(e) => props.handlePrint()}\n                >\n                  <i className=\"fas fa-print\"></i>\n                </button>\n              ) : null}\n\n              {props.handleDownload ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Exportar\"\n                  onClick={(e) => props.handleDownload()}\n                >\n                  <i className=\"fas fa-file-csv\"></i>\n                </button>\n              ) : null}\n            </div>\n\n            <div className=\"float-right\">\n              {props.meta && (\n                <Pagination\n                  meta={props.meta}\n                  color={props.color}\n                  handlePagination={props.handlePagination}\n                />\n              )}\n            </div>\n          </div>\n        ) : null}\n\n        <div className=\"table-responsive mailbox-messages\">\n          {props.children}\n        </div>\n      </div>\n      {props.loading ? (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default ListInbox;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Store } from \"../../context/StoreContext\";\nimport useStore from \"../../hooks/useStore\";\n\n//Components\nimport ListInbox from \"../../layouts/list_inbox\";\n//import { api, getUrl } from \"../../redux/sagas/api\";\nimport {api, setUrl} from '../../utils/url';\n\nexport default function Inbox(props) {\n  const context = Store();\n  const _store = useStore();\n  const history = useHistory();\n  //const storeContext = useContext(StoreContext);\n\n  //States\n  const [state, setState] = useState({\n    itemSelected: {},\n    items: [],\n    meta: {},\n    loading: false,\n  });\n  //Functions\n  const handleChangeOptions = (key, value) => {\n      if (context.options[key] !== value) {\n        context.set({\n          ...context,\n          options: {\n            ...context.options,\n            [key]: value,\n          },\n        });\n      }\n    },\n    deleteItem = () => {\n      window.Swal.fire({\n        title: \"Productos\",\n        text: \"Desea eliminar el producto seleccionado?\",\n        icon: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#007bff\",\n        confirmButtonText: \"Eliminar\",\n        cancelButtonText: \"Cancelar\",\n        showLoaderOnConfirm: true,\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          //Hook de eliminar producto\n          _store.deleteItem(state.itemSelected.id).then((data)=>{\n            if(data === true){\n              window.Swal.fire({\n                title: \"Productos\",\n                text: \"Producto eliminado correctamente\",\n                icon: \"success\",\n                showCancelButton: false,\n                confirmButtonColor: \"#007bff\",\n                confirmButtonText: \"Ok\",\n                cancelButtonText: \"Cancelar\",\n                showLoaderOnConfirm: true,\n              }).then(({ dismiss }) => {\n                if (!dismiss) {\n                  setState({\n                    ...state,\n                    itemSelected: {},\n                  });\n\n                  setState({\n                    ...state,\n                    loading: true,\n                  });\n\n                  _store.getItems(context.options).then((res) => {\n                    if (res) {\n                      setState({\n                        ...state,\n                        items: res.data,\n                        meta: res.meta,\n                        loading: false,\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          })\n        }\n      });\n\n\n      //helper.handleDeleteItem(state.itemSelected, context.options, () => {});\n      /* setState({\n        ...state,\n        itemSelected: {},\n      }); */\n    },\n\n    handleItemSelect = ({ checked }, item) => {\n      setState({\n        ...state,\n        itemSelected: checked ? item : {},\n      });\n    },\n\n\n    handleSelectItem = (e, item) => {\n      if (e) e.preventDefault();\n\n      if (item?.id) {\n        history.push(`/almacen/${item.id}`);\n      } else if (state.itemSelected?.id) {\n        history.push(`/almacen/${state.itemSelected.id}`);\n      }\n    },\n    handleDownload = async () => {\n      // _setLoading(true);\n      const newOptions = { ...context.options, responseType: \"csv\" };\n      console.log(\"[Orus Sytem] Start donwload csv\");\n\n      const url = setUrl(\"store\", null, newOptions);\n\n      const data = await api(url);\n      // _setLoading();\n      if (data) {\n        console.log(\"[Orus Sytem] Process data csv\");\n        window.open(URL.createObjectURL(data));\n        console.log(\"[Orus Sytem] Donwload is ok\");\n        window.Swal.fire({\n          title: \"Descargas\",\n          text: \"El archivo CSV fue generado correctamente\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      } else {\n        window.Swal.fire({\n          title: \"Descargas\",\n          text: \"El archivo CSV no se genero correctamente\",\n          icon: \"error\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n      }\n    };\n  const handleSync = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n    _store.getItems(context.options).then((res) => {\n      if (res) {\n        setState({\n          ...state,\n          items: res.data,\n          meta: res.meta,\n          loading: false,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    handleSync();\n  }, [context.options]);// eslint-disable-line react-hooks/exhaustive-deps\n  return (\n    <ListInbox\n      title=\"Lista de productos\"\n      icon=\"id-badge\"\n      color=\"primary\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.itemSelected?.id}\n      defaultSearch={context.options.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleDeleteItem={deleteItem}\n      handleEditItem={handleSelectItem}\n      handleDownload={handleDownload}\n      handleSync={handleSync}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Codigo</th>\n            <th>Describción</th>\n            <th>Proveedor</th>\n            <th>Marca</th>\n            <th>Cant</th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.items.length ? (\n            <>\n              {state.items.map((item) => {\n                return (\n                  <tr key={item.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={item.id}\n                        id={\"item_\" + item.id}\n                        checked={\n                          state.itemSelected?.id === item.id ? true : false\n                        }\n                        onChange={({ target }) =>\n                          handleItemSelect(target, item)\n                        }\n                      />\n                      <label\n                        htmlFor={\"item_\" + item.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td className=\"icheck-primary\">\n                      <div className=\"badge badge-dark text-uppercase\">\n                        {item.code}\n                      </div>\n                    </td>\n                    <td className=\"mailbox-name text-capitalize text-truncate\">\n                      <a\n                        href=\"·link\"\n                        onClick={(e) => handleSelectItem(e, item)}\n                        className=\"text-bold\"\n                      >\n                        {item.name}\n                      </a>\n                    </td>\n                    <td className=\"mailbox-attachment text-capitalize text-truncate text-muted\">\n                      <span>{item.supplier ? item.supplier.name : \"--\"}</span>\n                    </td>\n                    <td className=\"mailbox-attachment text-uppercase text-truncate text-muted\">\n                      <span>{item.brand ? item.brand.name : \"--\"}</span>\n                    </td>\n                    <td className=\"mailbox-date text-muted text-truncate text-right\">\n                      <span>{item.cant_total}</span>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"6\">\n                No hay productos registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </ListInbox>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useCategory() {\n  \n  const getCategories = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"categories\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get categories list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n\n  const getCategory = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"categories\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get category in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n  \n  const deleteCategory = async (id) => {\n    if (!id) return false;\n    \n    const url = setUrl(\"categories\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete category in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n  const saveCategory = async (data) => {\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"categories\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save category in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    } else {\n      const url = setUrl(\"categories\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save category in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    }\n  };\n\n  return {\n    getCategories,\n    getCategory,\n    deleteCategory,\n    saveCategory,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\n//Hooks\nimport useCategory from \"../../hooks/useCategory\";\n\n//Components\nimport Input from \"../Input\";\n\nexport default function Categories(props) {\n\n  const _categories = useCategory();\n\n  const [state, setState] = useState({\n    categories: [],\n    cat1: 0,\n    cat2: 0,\n    cat3: 0,\n    cat4: 0,\n    load: true,\n  });\n\n\n  const input2 = state.categories.filter((cat) => cat.id === state.cat1)[0];\n  const input3 = input2?.sons?.filter((cat) => cat.id === state.cat2)[0];\n  const input4 = input3?.sons?.filter((cat) => cat.id === state.cat3)[0];\n  const input5 = input4?.sons?.filter((cat) => cat.id === state.cat4)[0];\n\n  // Functions\n  const getCategories = () => {\n    _categories\n      .getCategories({\n        categoryid: \"raiz\",\n      })\n      .then(({ data: cat }) => {\n        setState({\n          ...state,\n          categories: cat,\n          load: false,\n        });\n      });\n  };\n\n  const getCategory = (id) => {\n    _categories.getCategory(id).then((cat) => {\n      if (state.cat1 === parseInt(cat.code[0])) {\n        if (state.cat2 === parseInt(cat.code[1])) {\n          if (state.cat3 === parseInt(cat.code[2])) {\n            if (state.cat4 === parseInt(cat.code[3])) {\n              return;\n            }\n          }\n        }\n      }\n\n      setState({\n        ...state,\n        cat1: parseInt(cat.code[0]),\n        cat2: parseInt(cat.code[1]),\n        cat3: parseInt(cat.code[2]),\n        cat4: parseInt(cat.code[3]),\n        load: false,\n      });\n    });\n  };\n\n\n  const handleReturn = () => {\n    if (state.cat1 && input2 && !input2.sons?.length) {\n      return props.handleChange(state.cat1, input2.code);\n    } else if (props.category) {\n      if (state.cat1 && !state.cat2 && !state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat2 && input3 && !input3.sons?.length) {\n      return props.handleChange(state.cat2, input3.code);\n    } else if (props.category) {\n      if (state.cat1 && state.cat2 && !state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat3 && input4 && !input4.sons?.length) {\n      return props.handleChange(state.cat3, input4.code);\n    } else if (props.category) {\n      if (state.cat1 && state.cat2 && state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat4) {\n      return props.handleChange(state.cat4, input5?.code);\n    }\n  };\n\n  useEffect(() => {\n    if (!state.categories.length) {\n      getCategories();\n    }\n\n    handleReturn();\n\n  }, [state]);// eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (state.categories.length && props.category) {\n      getCategory(props.category);\n    }\n  }, [state.categories, props.category]);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div>\n      <Input\n        text=\"Seleccione una categoria principal\"\n        options={state.categories}\n        value={state.cat1}\n        load={state.load}\n        handleChange={(val) =>\n          setState({ ...state, cat1: val, cat2: 0, cat3: 0, cat4: 0, })\n        }\n      />\n\n      {Boolean(state.cat1) && Boolean(input2?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input2.name}`}\n          options={input2.sons}\n          value={state.cat2}\n          handleChange={(val) =>\n            setState({ ...state, cat2: val, cat3: 0, cat4: 0 })\n          }\n        />\n      )}\n\n      {Boolean(state.cat2) && Boolean(input3?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input3.name}`}\n          options={input3.sons}\n          value={state.cat3}\n          handleChange={(val) => setState({ ...state, cat3: val, cat4: 0 })}\n        />\n      )}\n\n      {Boolean(state.cat2) && Boolean(input4?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input4.name}`}\n          options={input4.sons}\n          value={state.cat4}\n          handleChange={(val) => setState({ ...state, cat4: val })}\n        />\n      )}\n    </div>\n  );\n}\n","import {api, setUrl} from '../utils/url';\n\n\n\nexport default function useProducts(){\n    \n    //Funciones\n    const getProducts = async (searchBy)=> {\n        const url = setUrl('store', null, {search: searchBy});\n        return await api(url);\n    }\n\n\n    const getProductById = async (id)=>{\n        const url = setUrl('store', id);\n        return await api(url);\n    }\n\n    const getProductByCode = async(code, id) =>{\n        const url = setUrl('store', null, {code, id})\n        return await api(url);\n    }\n\n\n    const saveProduct = async(data)=>{\n        const {id} = data;\n        const url = setUrl('store');\n\n        if(id){\n            //PUT\n            return await api(url, 'PUT', data);\n        }else{\n            return await api(url, 'POST', data);\n        }\n    }\n\n    return {\n        getProducts, \n        getProductById,\n        getProductByCode,\n        saveProduct,\n    };\n}\n","import { useState } from \"react\";\n//Hooks\nimport useProducts from \"../../hooks/useProducts\";\n\n\nexport default function Code(props) {\n  const hookStore = useProducts();\n  const [inUse, setInUse] = useState(props.code.length === 0 ? true : false);\n\n  return (\n    <div className=\"input-group mb-3\">\n      <div className=\"input-group-prepend\">\n        <span\n          className={\n            inUse === true ? \"input-group-text bg-warning\" :  \"input-group-text bg-primary\"\n          }\n        >\n          <i className=\"fas fa-code\"></i>\n        </span>\n      </div>\n      <input\n        type=\"text\"\n        className=\"form-control text-uppercase\"\n        placeholder=\"Codigo\"\n        name=\"code\"\n        defaultValue={props.code}\n\n        onChange={({target}) => {\n          const {value} = target;\n          props.onChangeProductCode(value);\n        }}\n        \n        onBlur={() => {\n          if(props.code.length === 0){\n            setInUse(true);\n          }else{\n            hookStore.getProductByCode(props.code, props.id).then((data)=>{\n              if(data.data.length){         \n                if(data.data[0].code === props.code){                                  \n                  setInUse(false);\n                }else{\n                  setInUse(true);\n                }              \n              }else if(data.data.length === 0){              \n                setInUse(false);\n              }\n            })\n          }\n        }}\n        autoComplete=\"off\"\n        maxLength=\"18\"\n      />\n      {inUse === true ? (\n        <span className=\"text-muted text-xs d-block w-100\">\n          Campo vacio o còdigo en uso\n        </span>\n      ) : null}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useContext } from \"react\";\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\nexport default function BranchesSelect({ branch_default , showIcon = true, setBranchId }) {\n  \n  const configContext = useContext(ConfigContext);\n  const listBranches = configContext.data.filter((c) => c.name === \"branches\");\n  \n  return (\n    <div className=\"input-group mb-3\">\n      {showIcon && (\n        <div className=\"input-group-prepend\">\n          <span className=\"input-group-text bg-primary\">\n            <i className=\"fas fa-store-alt\"></i>\n          </span>\n        </div>\n      )}\n      <select\n        className=\"custom-select text-uppercase\"\n        name=\"branch_id\"\n        value={branch_default}\n        onChange={({ target }) => setBranchId(target)}\n      >\n        <option value=\"0\">-- Ninguna --</option> \n        {listBranches.map((branch)=>(\n           <option value={branch.id} key={branch.id}>\n           {branch.data.name}\n         </option> \n        ))}       \n      </select>\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\n//Hooks\nimport useStore from \"../../../hooks/useStore\";\n\nexport default function BranchesFormInputs({ inBranch, branchID, storeItemID }) {\n\n  const hookStore = useStore();\n\n  const [data, setData] = useState({\n    id: 0,\n    cant:0,\n    price: 1,\n    store_item_id: 0,\n    branch_id:0,\n    readyToSave: false,\n  });\n\n  const handleChangeInput = ({ name, value }) => {\n    let readyToSave = false;\n    if (name === \"cant\") {\n      value = parseInt(value);\n    } else {\n      value = parseFloat(value);\n    }\n\n    if (inBranch[name] !== value) {\n      readyToSave = true;\n    }\n    setData({\n      ...data,\n      readyToSave,\n      [name]: value,\n    });\n  };\n\n  const handleSaveInBranch = () => {\n    hookStore.saveQantityandPrice(data).then((data)=>{\n      if(data){\n      }else{\n        console.error(\"Error al guardar la informacion\");\n      }\n    });\n    setData({\n      ...data,\n      readyToSave: false,\n    });\n  };\n\n  useEffect(()=>{\n    setData({\n      id: inBranch.id ? inBranch.id : 0,\n      cant: inBranch.cant ? inBranch.cant : 0,\n      price: inBranch.price ? inBranch.price : 0,\n      readyToSave: false,\n      store_item_id: storeItemID,\n      branch_id: branchID,\n    });\n  }, [inBranch])// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col\">\n          <small>\n            <label>Cantidad en existencia</label>\n          </small>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text bg-primary\">\n                <i className=\"fas fa-database\"></i>\n              </span>\n            </div>\n            <input\n              type=\"number\"\n              className=\"form-control text-right\"\n              placeholder=\"Cantidades en existencia\"\n              name=\"cant\"\n              onChange={({ target }) => handleChangeInput(target)}\n              value={data.cant}\n              min={0}\n            />\n          </div>\n        </div>\n        <div className=\"col\">\n          <small>\n            <label>Precio</label>\n          </small>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text bg-primary\">\n                <i className=\"fas fa-money-bill\"></i>\n              </span>\n            </div>\n            <input\n              type=\"number\"\n              className=\"form-control text-right\"\n              placeholder=\"Precio\"\n              name=\"price\"\n              onChange={({ target }) => handleChangeInput(target)}\n              value={data.price}\n              min={0}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col text-right\">\n          <button\n            className={\n              !data.readyToSave ? \"btn btn-secondary\" : \"btn btn-success\"\n            }\n            type=\"button\"\n            onClick={handleSaveInBranch}\n            disabled={!data.readyToSave}\n          >\n            <i className=\"fas fa-save mr-1\"></i> Guardar\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useContext } from \"react\";\n\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\n//Components\nimport BranchesFormInputs from \"./BranchesFormInputs\";\n\nexport default function BranchesForm({ branches, storeItemID, defaultBranch }) {\n\n  const configContext = useContext(ConfigContext);\n  const configBranches = configContext.data.filter((c)=>c.name === 'branches');\n\n  return (\n    <form>\n\n      {defaultBranch === 0 ? \n        configBranches.map((branch) => {\n          const currentBranch = branches.filter((i)=> i.branch_id === branch.id )          \n          return (\n            <div className=\"card\" key={branch.id}>\n              <div className=\"card-header\">\n                <h5 className=\"card-title text-primary text-capitalize\">\n                  <i className=\"fas fa-store-alt mr-1\"></i> {branch.data.name}\n                </h5>\n              </div>\n              <div className=\"card-body\">\n              <BranchesFormInputs\n                inBranch={currentBranch[0] ?? {}}\n                branchID = {branch.id}\n                storeItemID = {storeItemID}\n              />\n              </div>\n            </div>\n          );\n        })      \n      :\n        configBranches.map((branch) => {\n          \n          const currentBranch = branches.filter((i)=> i.branch_id === branch.id );          \n\n          if(branch.id === defaultBranch){\n            return (\n              <div className=\"card\" key={branch.id}>\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-primary text-capitalize\">\n                    <i className=\"fas fa-store-alt mr-1\"></i> {branch.data.name}\n                  </h5>\n                </div>\n                <div className=\"card-body\">\n                <BranchesFormInputs\n                  inBranch={currentBranch[0] ?? {}}\n                  branchID = {branch.id}\n                  storeItemID = {storeItemID}\n                />\n                </div>\n              </div>\n            )\n          }else{ return null}\n        }         \n        )\n      }\n    </form>\n  );\n}","import { useEffect, useState, useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\n//Context\nimport { StoreContext } from \"../../context/StoreContext\";\n\n//Hooks\nimport useStore from \"../../hooks/useStore\";\n\n// Components\nimport CategoryInput from \"./Categories\";\nimport Suppliers from \"./Suppliers\";\nimport Brands from \"./Brands\";\nimport Code from \"./Code\";\nimport Activitys from \"../Activitys\";\nimport BranchesSelect from \"../../components/Store/views/BranchesSelect\";\nimport BranchesForm from \"../../components/Store/views/BranchesForm\";\n\nconst initialState = {\n  id: 0,\n  code: \"\",\n  codebar: \"\",\n  grad: \"\",\n  brand_id: 0,\n  name: \"\",\n  unit: \"PZ\",\n  cant: 1,\n  price: 1,\n  supplier_id: 0,\n  category_id: 0,\n  branch_default: 0,\n  data: {\n    category: { code: [] },\n    categories: [],\n    branches: [],\n    codes: [],\n    category_code: [],\n    activity: [],\n  },\n  loading: false,\n};\n\nexport default function Add(props) {\n  const storeContext = useContext(StoreContext);\n  const { id } = props.match.params;\n  const [state, setState] = useState(initialState);\n  const _store = useStore();\n  const { code, loading: LOADING } = state;\n  const history = useHistory();\n\n  const idsCategory = state.data.category.code\n    ? state.data.category.code.filter((i) => i !== \"\")\n    : [];\n\n  let readyToSave = false;\n  if (idsCategory.includes(\"1\")) {\n    readyToSave = state.category_id && state.code && state.name;\n  } else {\n    readyToSave =\n      state.category_id &&\n      state.code &&\n      state.name &&\n      state.supplier_id &&\n      state.brand_id;\n  }\n\n  // Functions\n  const saveProduct = () => {\n    _store.saveItem(state).then((data) => {\n      if (data) {\n        window.Swal.fire({\n          title: \"Productos\",\n          text: \"Producto guardado correctamente\",\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"OK\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            setState(initialState);\n            storeContext.set({\n              ...storeContext,\n              panel: \"inbox\",\n            });\n            history.push(\"/almacen\");\n          }\n        });\n      } else {\n        window.Swal.fire({\n          title: \"Almacenamiento\",\n          text: \"Error al guardar el producto\",\n          icon: \"error\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"Crear\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        });\n      }\n    });\n  };\n\n  const getItem = () => {\n    _store.getItem(id).then((res) => {\n      setState({\n        ...state,\n        id: res.id ? res.id : 0,\n        name: res.name ? res.name : \"\",\n        category_id: res.category?.id,\n        supplier_id: res.supplier?.id,\n        brand_id: res.brand?.id,\n        branch_default: res.branch_default ?? 0,\n        code: res.code ? res.code : \"\",\n        data: {\n          ...state.data,\n          category: res.category ? res.category : [],\n          inBranches: res.inBranches ? res.inBranches : \"\",\n          branches: res.branches ? res.branches : [],\n          activity: res.activity ? res.activity : [],\n        },\n        loading: false,\n      });\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      getItem();\n    }\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title text-primary text-bold\">\n              <i className=\"fas fa-database mr-1\"></i>\n              {id ? `Editar producto (${code})` : \"Registrar nuevo producto\"}\n            </h3>\n          </div>\n          <form className=\"card-body\" autoComplete=\"off\">\n            <div className=\"row\">\n              <div className=\"col\">\n                <fieldset>\n                  <small className=\"mr-2\">\n                    <label>Categoria</label>\n                  </small>\n\n                  <CategoryInput\n                    category={state.category_id}\n                    handleChange={(id, code) => {\n                      setState({\n                        ...state,\n                        category_id: id,\n                        data: {\n                          ...state.data,\n                          category_code: code,\n                        },\n                      });\n                    }}\n                  />\n                </fieldset>\n              </div>\n            </div>\n\n            {Boolean(state.data.category_code.length) &&\n              !state.data.category_code.includes(\"1\") && (\n                <Suppliers\n                  supplier={state.supplier_id}\n                  handleChangeSupplier={(id) => {\n                    setState({\n                      ...state,\n                      supplier_id: id,\n                      brand_id: 0,\n                    });\n                  }}\n                />\n              )}\n\n            {Boolean(state.supplier_id) && (\n              <Brands\n                brand={state.brand_id}\n                supplier={state.supplier_id}\n                textSelect=\"Selecione la marca\"\n                handleChangeBrand={(id) => {\n                  setState({\n                    ...state,\n                    brand_id: id,\n                  });\n                }}\n              />\n            )}\n\n            {state.category_id ? (\n              <>\n                <div className=\"row\">\n                  {state.data.category_code.includes(\"1\") && (\n                    <div className=\"col-3\">\n                      <small>\n                        <label>Graduacion</label>\n                      </small>\n                      <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                          <span className=\"input-group-text bg-primary\">\n                            <i className=\"fas fa-glasses\"></i>\n                          </span>\n                        </div>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          placeholder=\"+100100\"\n                          defaultValue={state.grad}\n                          onChange={({ target }) =>\n                            setState({ ...state, grad: target.value })\n                          }\n                          maxLength=\"7\"\n                          autoComplete=\"off\"\n                        />\n                      </div>\n                    </div>\n                  )}\n                  <div className=\"col\">\n                    {state.unit ? (\n                      <small>\n                        <label>Unidad de presentacion</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span\n                          className={\n                            state.unit\n                              ? \"input-group-text bg-primary\"\n                              : \"input-group-text bg-warning\"\n                          }\n                        >\n                          <i className=\"fas fa-balance-scale\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Unidad de presentación\"\n                        defaultValue={state.unit}\n                        onChange={({ target }) =>\n                          setState({ ...state, unit: target.value })\n                        }\n                        maxLength=\"4\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">\n                    {state.code ? (\n                      <small>\n                        <label>Codigo</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n\n                    <Code\n                      code={state.code}\n                      id={state.id}\n                      onChangeProductCode={(codeReceibed) => {\n                        setState({\n                          ...state,\n                          code: codeReceibed,\n                        });\n                      }}\n                    />\n                  </div>\n                  <div className=\"col\">\n                    <small>\n                      <label>Codigo de barras</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-primary\">\n                          <i className=\"fas fa-barcode\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Codigo de barras\"\n                        name=\"codebar\"\n                        defaultValue={state.codebar}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            codebar: target.value,\n                          });\n                        }}\n                        autoComplete=\"off\"\n                        maxLength=\"100\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col\">\n                    {state.name ? (\n                      <small>\n                        <label>Nombre del producto</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span\n                          className={\n                            state.name\n                              ? \"input-group-text bg-primary\"\n                              : \"input-group-text bg-warning\"\n                          }\n                        >\n                          <i className=\"fas fa-archive\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control text-uppercase\"\n                        placeholder=\"Nombre\"\n                        name=\"name\"\n                        defaultValue={state.name}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            name: target.value,\n                          });\n                        }}\n                        maxLength=\"149\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <div className=\"row\">\n                <div className=\"col\">\n                  <h6 className=\"text-warning\">\n                    Seleccione primero una categoría.\n                  </h6>\n                </div>\n              </div>\n            )}\n          </form>\n          <div className=\"card-footer text-right\">\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <div className=\"btn-group\" role=\"group\">\n                  <Link\n                    to=\"/almacen\"\n                    className=\"btn btn-default\"\n                    onClick={() => {\n                      storeContext.set({\n                        ...storeContext,\n                        panel: \"inbox\",\n                      });\n                    }}\n                  >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                    {id ? \"Cerrar\" : \"Cancelar\"}\n                  </Link>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      saveProduct();\n                    }}\n                    className={\n                      !readyToSave ? \"btn btn-secondary\" : \"btn btn-primary\"\n                    }\n                    disabled={!readyToSave}\n                  >\n                    <i className=\"fas fa-save mr-1\"></i>\n                    Guardar\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          {LOADING && (\n            <div className=\"overlay dark\">\n              <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n            </div>\n          )}\n        </div>\n      </div>\n      {id ? (\n        <div className=\"col\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <div className=\"card card-primary card-outline\">\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-primary\">\n                    Sucursal por defecto\n                  </h5>\n                </div>\n                <div className=\"card-body\">\n                  <BranchesSelect\n                    branch_default={state.branch_default}\n                    showIcon={false}\n                    setBranchId={(target) => {\n                      const { value } = target;                      \n                      setState({\n                        ...state,\n                        branch_default: parseInt(value),\n                      });\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col\">\n              <BranchesForm\n                branches={state.data.branches}\n                storeItemID={state.id}\n                defaultBranch={state.branch_default}\n              />\n            </div>\n          </div>\n        </div>\n      ) : null}\n\n      {state.data.activity.length ? (\n        <div className=\"col-lg-12\">\n          <Activitys data={state.data.activity} />\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React, { useEffect, useState, useContext } from \"react\";\nimport useCategory from \"../../../hooks/useCategory\";\nimport { StoreContext } from \"../../../context/StoreContext\";\n\n\nexport default function CategoryListComponent(props){\n\n  const hookCategory = useCategory();\n  \n  const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\n  const storeContext = useContext(StoreContext);\n\n  const [state, setState] = useState({\n    id: 0,\n    meta: {},\n    dd: false,\n    name: \"\",\n    category_raiz: [],\n    category_id: props.category,\n    page: 1,\n    host: ls.host,\n    token: ls.token,\n    load: false,\n  });\n\n  const { category_raiz, category_id, name, add } = state, { loading: load } = props;\n\n  useEffect(()=>{\n\n    const { categoryData = [] } = props;\n\n    if (categoryData) {\n      setState({\n        ...state, \n        category_raiz: categoryData,\n      });\n    }\n  },[props])// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const handleClickAdd = () => {\n    setState({\n      ...state,\n      add: !state.add,\n      name: \"\",\n    });\n  };\n\n  const handleSelectCategory = (cat) => {\n\n    const { last, categorySelect: _categorySelect } = props, { category_raiz } = state;\n\n    if (last) return false;\n    if (!cat.sons || (cat.sons && !cat.sons.length)) return false;\n\n    _categorySelect({\n      category_id: cat.id,\n      category_data: category_raiz,\n    });\n\n    setState({\n      ...state, \n      category_id: cat.id,\n    });\n  };\n\n  const handleClickDelete = (id, name) => {\n    if (id) {\n      //const { _delete } = this.props;\n      /* const item = { id }, options = { categoryid: \"raiz\" },\n      text =\n      \"Esta seguro de eliminar la categoria: \" + name.toUpperCase() + \"?\"; */\n\n      //Ejecutar hook para eliminar la categoria\n      hookCategory.deleteCategory(id).then((data)=>{\n        if(data){\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Categoria eliminada correctamente',\n            icon: \"success\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              storeContext.set({\n                ...storeContext,\n                panel:\"inbox\",\n              })\n            }\n          });\n        }else{\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Error al eliminar la categoria',\n            icon: \"error\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          })\n        }\n      })\n      //helper.handleDeleteItem(item, options, _delete, text);\n    }\n  };\n\n\n const catchInputs = (e) => {\n    const { name, value } = e.target;\n    setState({\n      ...state, \n      [name]: value.toLowerCase(),\n    });\n  };\n\n\n  const handleClickSave = () => {\n    //Verificamos campos validos\n    if (state.name.length < 4) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Debe de escribir el nombre de la categoria\",\n        \"warning\"\n      );\n      //this.nameInput.focus();\n      return false;\n    }\n\n    const { category_id, name } = state;\n    const data = { name, category_id: category_id};\n    //const { _save } = this.props;\n    \n    //const options = { categoryid: \"raiz\" };\n\n   /*  const text = id\n        ? \"¿Esta seguro de actualizar la categoria?\"\n        : \"¿Esta seguro de crear una nueva categoria?\",\n      _close = () => {\n        setState({\n          ...state,\n          name: \"\",\n          category_id: 0,\n          add: false,\n        });\n      };\n */\n\n      hookCategory.saveCategory(data).then((data)=>{\n        if(data){\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Categoria guardada correctamente',\n            icon: \"success\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              storeContext.set({\n                ...storeContext,\n                panel:\"inbox\",\n              })\n            }\n          });\n        }else{\n          window.Swal.fire(\n            \"Categorias\",\n            \"Error al guardar la categoria\",\n            \"error\"\n          );\n        }\n      });\n\n      \n\n\n    //helper.handleSaveItem(id, data, options, _save, _close, text);\n  };\n\n\n\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-body\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>Nombre</th>\n              <th style={{ width: 48 }}></th>\n            </tr>\n          </thead>\n          <tbody>\n            {category_raiz.length ? (\n              <React.Fragment>\n                {category_raiz.map((cat) => {                  \n                  return (\n                    <tr key={cat.id}>\n                      <td className=\"text-capitalize\">\n                        <a\n                          href={\"#select!\" + cat.id}\n                          onClick={(e) => {\n                            e.preventDefault();\n                            handleSelectCategory(cat);\n                          }}\n                          className={\n                            cat.sons && cat.sons.length\n                              ? \"text-primary\"\n                              : \"text-dark\"\n                          }\n                        >\n                          {cat.name}\n                        </a>\n                      </td>\n                      <td className=\"btn-group\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-default\"\n                          disabled={true}\n                          title=\"Proximamente\"\n                        >\n                          <i className=\"fas fa-edit\"></i>\n                        </button>\n                        <button\n                          type=\"button\"\n                          title=\"Eliminar\"\n                          className={\n                            cat.hijos && cat.hijos.length\n                              ? \"btn btn-outline-secondary btn-sm\"\n                              : \"btn btn-outline-danger btn-sm\"\n                          }\n                          onClick={(e) => {\n                            handleClickDelete(cat.id, cat.name);\n                          }}\n                          disabled={cat.hijos && cat.hijos.length}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </React.Fragment>\n            ) : (\n              <tr>\n                <td colSpan=\"8\" className=\"text-center\">\n                  <span className=\"mr-3\">Cargando categorias </span>\n                  <div className=\"spinner-border text-primary\" role=\"status\">\n                    <span className=\"sr-only\">Cargando ...</span>\n                  </div>\n                </td>\n              </tr>\n            )}\n          </tbody>\n          {add && !load ? (\n            <tfoot>\n              <tr>\n                <td>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    className=\"form-control text-uppercase\"\n                    autoComplete=\"off\"\n                    value={name}\n                    onChange={catchInputs}\n                    ref={(input) => {\n                      //this.nameInput = input;\n                    }}\n                  />\n                </td>\n                <td>\n                  <button\n                    className=\"btn btn-dark btn-sm\"\n                    onClick={handleClickSave}\n                    disabled={name.length < 3}\n                    title=\"Guardar categoria\"\n                  >\n                    <i className=\"fas fa-save\"></i>\n                  </button>\n                </td>\n              </tr>\n            </tfoot>\n          ) : null}\n        </table>\n      </div>\n      <div className=\"card-footer text-right\">\n        <button\n          className={\n            add\n              ? \"btn btn-secondary btn-sm text-bold\"\n              : \"btn btn-primary btn-sm\"\n          }\n          onClick={handleClickAdd}\n          disabled={!category_id}\n          title={add ? \"Cancelar\" : \"Crear nueva categoria\"}\n        >\n          {add ? (\n            <>\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </>\n          ) : (\n            <>\n              <i className=\"fas fa-plus mr-1\"></i>\n              Agregar\n            </>\n          )}\n        </button>\n      </div>\n    </div>\n  );\n}\n\n","import React, { useState, useEffect } from \"react\";\n//Components\nimport Catalogo from \"../components/Store/data/Category_list\";\nimport useCategory from \"../hooks/useCategory\";\n\nexport default function CategoriesStoreComponent(){\n\n  const hookCategory = useCategory();\n\n  const [state, setState] = useState({\n    category_id: 0,\n    category_data: [],\n  })\n\n  const { category_id, category_data } = state;\n  \n  let category_view_sons = category_data, category_current = {};\n  \n  if (category_id) {\n    const category_cache = category_data.filter(\n      (cat) => cat.id === category_id\n    );\n\n    if (category_cache.length) {\n      category_current = category_cache[0];\n      if (category_current && category_current.sons) {\n        category_view_sons = category_current.sons;\n      }\n    }\n  }\n\n  const handleLoadCategories = () => {\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data){\n        setState({\n          ...state,\n          category_data: data.data,\n        })\n      }else{\n        console.error(\"Error al obtener la lista de categorias\");\n      }\n    })\n  };\n\n  const handleChangeState = (data) => {\n    setState(data);\n  };\n\n\n  const handleClickParent = (e) => {\n    if (e) e.preventDefault();\n\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data){\n        setState({\n          category_data: data.data,\n          category_id: null,\n        });\n      }else{\n        console.error(\"Error al obtener la lista de categorias\");\n      }\n    })\n  };\n\n  useEffect(()=>{\n    handleLoadCategories();\n  },[]);// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  return (\n    <div className=\"row\" style={{minHeight:'100vh'}}>\n      <div className=\"col-8\">\n        <nav>\n          <ol className=\"breadcrumb\">\n            { state.category_id ? (\n              <>\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                  <a href=\"#link\" onClick={handleClickParent}>\n                    Raiz\n                  </a>\n                </li>\n                {category_current.id ? (\n                  <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                    {category_current.name}\n                  </li>\n                ) : null}\n              </>\n            ) : (\n              <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                Seleccione una categoria para ver su contenido\n              </li>\n            )}\n          </ol>\n        </nav>\n        <Catalogo\n          category={category_id}\n          categoryData={category_view_sons ?? []}\n          categorySelect={handleChangeState}\n        />\n      </div>\n    </div>\n  );\n}\n\n\n","export default function BrandsList({\n  brands,\n  handleEdit = null,\n  handleDelete = null,\n}) {\n  return (\n    <ul className=\"card-text list-group\">\n      {!brands.length ? (\n        <li className=\"list-group-item\">  \n          <p className=\"text-danger\">\n            <i className=\"fas fa-info-circle mr-1\"></i>\n            No exiten marcas para este proveedor!\n          </p>\n        </li>\n      ) : (\n        brands.map((brand) => {\n          return (\n            <li\n              className=\"list-group-item d-flex justify-content-between align-items-center\"\n              key={brand.id}\n            >\n              <span className=\"text-dark text-uppercase text-truncate\">\n                <i className=\"fas fa-thumbtack mr-1\"></i>\n                {brand.name}\n              </span>\n              \n              <div>\n                {handleEdit && (\n                  <span\n                    className=\"badge badge-dark badge-pill py-1 mr-2\"\n                    style={{ cursor: \"pointer\" }}\n                    title=\"Editar\"\n                    onClick={() => handleEdit(brand)}\n                  >\n                    <i className=\"fas fa-edit\"></i>\n                  </span>\n                )}\n\n                {handleDelete && (\n                  <span\n                    className=\"badge badge-danger badge-pill py-1\"\n                    style={{ cursor: \"pointer\" }}\n                    title=\"Eliminar\"\n                    onClick={() => handleDelete(brand)}\n                  >\n                    <i className=\"fas fa-trash\"></i>\n                  </span>\n                )}\n              </div>\n            </li>\n          );\n        })\n      )}\n    </ul>\n  );\n}\n","import React, {useState, useEffect, useContext } from \"react\";\nimport useStore from \"../hooks/useStore\";\nimport { StoreContext } from \"../context/StoreContext\";\n\n//Components\nimport Suppliers from \"../components/Store/Suppliers\";\nimport BrandsList from \"../components/Store/data/BrandsList\";\n\n\nexport default function BrandsComponent(){\n\n  const storeHook = useStore();\n\n  const storeContext = useContext(StoreContext);\n\n  const [state, setState] = useState({\n    id: null,\n    supplier: 0,\n    brands: [],\n    name: \"\",\n    loading: false,\n  });\n\n  useEffect(()=>{\n    getBrands();\n  },[state.supplier]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const getBrands = () => {\n    const { supplier } = state;\n    if (supplier) {\n      storeHook.getBrands({supplier, order: \"name\"}).then((data)=>{ \n        if(data){\n          setState({\n            ...state,\n            brands: data.data,\n          })\n        }else{\n          console.error(\"Error al obtener la lista de marcas\");\n        }\n      })\n    }\n  };\n\n  const handleCancelBtn = () => {\n    setState({\n      ...state, \n      name: \"\",\n      id: null,\n    });\n  };\n\n  const saveBrand = (e) => {\n    e.preventDefault();\n    const {  name, supplier } = state, data = { name, contact_id: supplier};\n\n    if (name.length < 3) {\n      window.Swal.fire(\n        \"Error\",\n        \"El nombre de la marca debe de tener por lo menos 3 caracteres\",\n        \"error\"\n      );\n      return false;\n    } else if (!supplier) {\n      window.Swal.fire(\n        \"Error\",\n        \"Debe de elegir a un proveedor primero\",\n        \"error\"\n      );\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de CREAR un nuevo producto?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        storeHook.saveBrand(data).then((data)=>{\n          if(data){\n            window.Swal.fire({\n              title: \"Almacenamiento\",\n              text: \"Producto almacenado correctamente\",\n              icon:'success',\n              showCancelButton: false,\n              confirmButtonColor: \"#007bff\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n            })\n          }\n          else{\n            console.error(\"Error al guardar la data enviada\");\n          }\n        })\n\n        storeContext.set({\n          ...storeContext,\n          panel: 'inbox',\n        })\n\n        setState({\n          ...state, \n          name: \"\",\n          id: null,\n        });\n      }\n    });\n  };\n\n  const prevEdit = (brand) => {\n    setState({\n      ...state, \n      name: brand.nombre,\n      id: brand.id,\n    });\n  };\n\n  const deleteBrand = (id, item) => {\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar la marca \" + item.toUpperCase() + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        storeHook.deleteBrand(id).then((data)=>{\n          if(data === true){\n            window.Swal.fire({\n              title:'Marcas',\n              text:'Marca eliminada correctamente',\n              icon:'success',\n              showCancelButton: false,\n              confirmButtonColor: \"#007bff\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n\n            })\n          }\n          else{\n            window.Swal.fire({\n              title:'Marcas',\n              text:'Error al eliminar la marca',\n              icon:'error',\n              showCancelButton: false,\n              confirmButtonColor: \"#d33\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n\n            })\n          }\n        })\n        storeContext.set({\n          ...storeContext,\n          panel: 'inbox',\n        })\n      }\n    });\n  };\n  \n  const changeInput = ({ name, value }) => {\n    setState({\n      ...state, \n      [name]: value.toLowerCase(),\n    });\n  };\n\n  const { id, supplier, name } = state;\n\n  const { loading } = state;\n\n  return (\n    <div className=\"row\" style={{minHeight:'100vh'}}>\n      <div className = {supplier ? \"col-lg-6\" : \"col-lg-12\"}>\n        <div className=\"card card-primary card-outline\">\n          <h5 className=\"card-title mt-2 ml-2 text-bold\">\n            Marcas para productos\n          </h5>\n          <div className=\"card-body\">\n            <Suppliers\n              supplier={supplier}\n              handleChangeSupplier={(id) => {\n                setState({\n                  ...state, \n                  supplier: id,\n                  brands: id ? state.brands : [],\n                });\n              }}\n            />\n            {!state.brands.length && (\n              <p className=\"card-text\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Para iniciar, primero seleccione a un proveedor\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {supplier ? (\n        <div className=\"col\">\n          <div className=\"card card-primary card-outline\">\n            <div className=\"card-body\">\n              <h5 className=\"card-title text-dark mb-4 text-bold\">\n                Listado de marcas\n              </h5>\n              <BrandsList\n                brands={state.brands}\n                handleEdit={(brand) => prevEdit(brand)}\n                handleDelete={(brand) => {\n                  deleteBrand(brand.id, brand.name);\n                }}\n              />\n            </div>\n            <div className=\"card-footer\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control mr-1\"\n                  name=\"name\"\n                  value={name}\n                  onChange={({ target }) => changeInput(target)}\n                />\n                <div className=\"btn-group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-default\"\n                    disabled={!name}\n                    onClick={handleCancelBtn}\n                  >\n                    <i className=\"fas fa-eraser\"></i>\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={id ? \"btn btn-success\" : \"btn btn-primary\"}\n                    onClick={saveBrand}\n                    disabled={!name}\n                  >\n                    <i className=\"fas fa-save\"></i>\n                  </button>\n                </div>\n              </div>\n            </div>\n            {loading ? (\n              <div className=\"overlay dark\">\n                <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\n\n","import { useState } from \"react\";\nimport useStore from \"../../../hooks/useStore\";\n\nfunction SetQantityModal({item, handleClose, handleUpdateItems}) {\n\n  const [cantidad, setCantidad] = useState(0);\n  const hookStore = useStore();\n\n  const saveQantity = ()=>{\n\n    const data = {\n      product_id: item.id,\n      //branch_default: state.item.branch_default,\n      cant: cantidad,\n    };\n\n    hookStore.saveQantity(data).then((data)=>{\n      if(data){\n        handleClose(data.data);\n      }\n      else{\n        console.error(\"Error al guardar la cantidad\");\n      }\n    })\n  };\n\n    return (\n        <div className=\"modal d-block\" tabIndex=\"-1\">\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">Asignar Cantidad</h5>\n              <button type=\"button\" className=\"close\" onClick={handleClose}>\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n  \n            <div className=\"modal-body p-2\">\n                <h5 className=\"text-center mt-2 mb-3\"><span class=\"badge badge-info\">{item.name.toUpperCase()}</span></h5>\n                <h6 className=\"text-center font-weight-bold\">Cantidad actual: <span className=\"font-weight-normal\">{item.cant}</span></h6>\n                <div className=\"\">\n                    <label>Cantidad</label>\n                    <input \n                        name = \"price\" \n                        type=\"number\" \n                        defaultValue={0} \n                        className=\"form-control\" \n                        placeholder=\"Cantidad\" \n                        onChange={(e)=>setCantidad(e.target.value)}                        \n                    />\n                </div>                        \n            </div>\n  \n            <div className=\"modal-footer\">\n             <button type=\"button\" className=\"btn btn-default\" onClick={handleClose}>\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n              </button>\n  \n              <button type=\"button\" className=\"btn btn-success\" disabled = { cantidad <= 0 || cantidad === '0' || !cantidad ? true : false} onClick={saveQantity}>\n                Asignar\n              </button>\n            </div>\n  \n          </div>\n        </div>\n      </div>\n    );\n  }\n  \n  export default SetQantityModal;\n  \n\n\n\n ","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SetQantityModal from \"./SetQantityModal\";\n\nexport default function InventoryTableView({ header, body, itemsProp }) {\n  const [state, setState] = useState({\n    item: {},\n    showModal: false,\n    items: [],\n  });\n\n  const handleUpdateItems = (newItem) => {\n    const items = [...state.items];\n\n    items.forEach((item) => {\n      if (item.id === newItem.id) {\n        item.cant = newItem.cant;\n      }\n    });\n\n    setState({\n      ...state,\n      items: items,\n      showModal: false,\n    });\n  };\n\n  useEffect(() => {\n    setState({\n      ...state,\n      items: itemsProp,\n    });\n  }, []);\n\n  return (\n    <div className=\"table-responsive\" style={{ height: \"100vh\" }}>\n      <table className=\"table table-sm table-bordered table-hover\">\n        <thead>\n          <tr>\n            <th>/</th>\n            {header}\n          </tr>\n        </thead>\n        <tbody>\n          {body.map((row, i) => {\n            const zero = row.props.children.type === \"label\" ? true : false;\n            return (\n              <tr className={zero ? \"table-secondary\" : \"\"} key={i}>\n                {row}\n                {header.map((h, i) => {\n                  let grad = zero\n                    ? parseFloat(row.props.children.props.children)\n                        .toFixed(2)\n                        .replace(\".\", \"\")\n                    : parseFloat(row.props.children)\n                        .toFixed(2)\n                        .replace(\".\", \"\");\n                  if (parseInt(grad) >= 0) grad = \"+\" + grad;\n                  grad += parseFloat(h.props.children)\n                    .toFixed(2)\n                    .replace(/[-.]/g, \"\");\n\n                  return (\n                    <td key={grad + i} className=\"text-center\">\n                      {state.items.length ? (\n                        state.items.map((item, index) => {\n                          return grad === item.grad ? (\n                            <div key={index}>\n                              {item.cant_total ? (\n                                <span\n                                  onClick={() => {\n                                    setState({\n                                      ...state,\n                                      item: item,\n                                      showModal: true,\n                                    });\n                                  }}\n                                  style={{ cursor: \"pointer\" }}\n                                  title={item.grad}\n                                  key={item.id + index}\n                                  className={\n                                    item.cant > 0\n                                      ? \"badge badge-success\"\n                                      : \"badge badge-danger\"\n                                  }\n                                >\n                                  {item.cant}\n                                </span>\n                              ) : null}\n                            </div>\n                          ) : null;\n                        })\n                      ) : (\n                        <Link to=\"/almacen/registro\">\n                          <i className=\"fas fa-plus text-secondary\"></i>\n                        </Link>\n                      )}\n                    </td>\n                  );\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n\n      {state.showModal ? (\n        <SetQantityModal item={state.item} handleClose={handleUpdateItems} />\n      ) : null}\n    </div>\n  );\n}\n","import { useState } from \"react\";\n\nfunction SetPriceModal({categoryName, handleSave: _handleSave ,handleClose: _close, handleChange: _handleChange}) {\n\n  const [showLoader, setShowLoader] = useState(false);\n  const [price, setPrice] = useState(0);\n\n\n  return (\n\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Asignar Precio</h5>\n            <button onClick={_close} type=\"button\" className=\"close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n          <div className=\"modal-body p-2\">\n            {showLoader ? (\n              <div className=\"text-center\">\n              <h4 className=\"text-primary\">Asignando precios </h4>\n              <div\n                className=\"spinner-border text-primary ml-4\"\n                role=\"status\"\n              >\n                <span className=\"sr-only\">Cargando ...</span>\n              </div>\n            </div>\n            ):(\n              <div className=\"d-flex flex-column justify-content-start align-items-start\">\n              <h5 className=\"text-center mt-2 mb-3\"><span class=\"badge badge-info\">{categoryName.toUpperCase()}</span></h5>\n                  <label>Precio</label>\n                  <input onChange={({target})=>{\n                    const {name, value} = target;\n                    setPrice(value);\n                    _handleChange(name, value);\n\n                  }} name = \"price\" type=\"number\" defaultValue={price} className=\"form-control\" placeholder=\"Precio\"/>\n\n              </div>\n            )}\n              \n          </div>\n\n          <div className=\"modal-footer\">\n            <button type=\"button\" className=\"btn btn-default\" onClick={_close} disabled={showLoader ? true : false}>\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n\n            <button disabled={showLoader || !price ||price === '0' ? true : false} type=\"button\" className=\"btn btn-success\" onClick={()=>{\n              _handleSave();\n              setShowLoader(true);\n            }}>\n              Asignar\n            </button>\n          </div>\n\n        </div>\n      </div>\n    </div> \n  );\n}\n\nexport default SetPriceModal;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport InventoryTableView from \"../components/Store/views/Inventory_table\";\nimport SetPriceModal from \"../components/Store/views/SetPriceModal\";\n\n//Hooks\nimport useCategory from \"../hooks/useCategory\";\nimport useStore from \"../hooks/useStore\";\n\n//Context\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Inventory(){\n\n  const authContext = useContext(AuthContext);\n  const currentBranch = authContext.auth.branch;\n  \n  const [state, setState] = useState({\n    catData_1: [],\n    catData_2: [],\n    catData_3: [],\n    catid_1: 0,\n    catid_2: 0,\n    catid_3: 0,\n    load: false,\n    items: [],\n    meta: {},\n    price: 0,\n  });\n\n\n\n  const [globalData, setGlobalData] = useState({\n    branchSelected: currentBranch ? currentBranch.id : 0,\n    price: 0,\n    productCategoryId: 0,\n  });\n\n  const [modal, setModal] = useState(false);\n\n  const hookCategory = useCategory();\n  const hookStore = useStore();\n\n  const header = [];\n  const body = [];\n  \n  let i = 0;\n  do {\n    header.push(<th key={i}>{i.toFixed(2)}</th>);\n    i = i - 0.25;\n  } while (i > parseFloat(state.meta.cil) - 0.25);\n\n  i = parseFloat(state.meta.rangoInf);\n  do {\n    if (i === 0)\n      body.push(\n        <td>\n          <label>0.00</label>\n        </td>\n      );\n    else body.push(<td>{i.toFixed(2)}</td>);\n    i = i + 0.25;\n  } while (i < parseFloat(state.meta.rangoSup) + 0.25);\n\n\n  const disabled = state.items.length !== 0 ? false : true;\n  const disablenBtnModal = globalData.branchSelected === 0 || \n                           globalData.price === 0  || \n                           globalData.productCategoryId === 0 ? true : false;\n\n  const handleModal = () => {\n    setModal(!modal);\n  };\n\n\n  const savePriceGlobal =  () => {\n    hookStore.saveGlobalPrice(globalData).then((data)=>{\n      handleModal();\n      if(data){\n        window.Swal.fire({\n          title: \"Productos\",\n          text: \"Precio asignado correctamente\",\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"OK\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            setGlobalData({\n              branchSelected: currentBranch ? currentBranch.id : 0,\n              price: 0,\n              productCategoryId: 0,\n            })\n          }\n        });\n      }else{\n        console.error(\"Error en la cosulta\");\n        window.Swal.fire({\n          title: \"Productos\",\n          text: \"Erro al guardar el precio global\",\n          icon: \"error\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"OK\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            setGlobalData({\n              branchSelected: currentBranch ? currentBranch.id : 0,\n              price: 0,\n              productCategoryId: 0,\n            })\n          }\n        });\n      }\n    });\n  }\n\n  const getItems = async (catid) => {\n    const { load } = state;\n    const filters = {\n      cat:catid,\n      itemsPage: 500,\n    };\n    //Cargando\n    if (!load) {\n      setState({\n        ...state,\n        load: true,\n      });\n    }\n\n    hookStore.getItems(filters).then((data)=>{\n      if(data){\n        const noGraduationData = data.data.filter((item) => item.grad !== '+000000' );\n        setState({\n          ...state, \n          items: noGraduationData ? noGraduationData : [],\n          catid_3: catid,\n          load: false,\n        });\n      }else{\n        console.error(\"Error al obtener la lista de productos\");\n        setState({\n          ...state,\n          load: false,\n        });\n      }\n    })\n  };\n\n\n  const handleClickCat = (e) => {\n    const { name, value } = e.target;\n    const { catData_1, catData_2 } = state;\n    let sons = [];\n    let  meta = {};\n\n    if (name === \"catid_1\") {\n      catData_1.map((cat) => {\n        if (cat.id === parseInt(value)) {\n          sons = cat.sons;\n          meta = cat.meta;\n          return true;\n        } else return false;\n      });\n\n      setState({\n        ...state,\n        catid_1: parseInt(value),\n        catid_2: 0,\n        catid_3: 0,\n        catData_2: sons,\n        catData_3: [],\n        meta,\n      });\n\n    } else if (name === \"catid_2\") {\n      catData_2.map((cat) => {\n        if (cat.id === parseInt(value)) {\n          sons = cat.sons;\n          return true;\n        } else return false;\n      });\n\n      setState({\n        ...state,\n        catid_2: parseInt(value),\n        catid_3: 0,\n        catData_3: sons,\n      });\n    }\n  };\n\n  const getCategories = () => {\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data && data.data){\n        setState({\n          ...state, \n          catid_1: 5,\n          meta: data.data[0].meta,\n          catData_1: data.data[0].sons,\n          catData_2: data.data[0].sons[0].sons\n        });\n      }else{\n        console.error(\"Error al descargar categorías\");\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n      }\n    })\n  };\n\n  useEffect(()=>{\n    getCategories();\n  },[]);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return(\n    <div className=\"row\" style={{height:'1000px'}}>\n        <div className=\"col\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n\n              <div className=\"d-flex justify-content-around align-items-center\">\n\n                <div className=\"col-lg-3\">\n                    <select\n                      className=\"custom-select\"\n                      name=\"catid_2\"\n                      value={state.catid_2}\n                      onChange={handleClickCat}\n                    >\n                      <option value=\"0\">Seleccione un material</option>\n                      {state.catData_2.map((cat) => {\n                        return (\n                          <option key={cat.id} value={cat.id}>\n                            {cat.name}\n                          </option>\n                        );\n                      })}\n                    </select>\n                  </div>\n\n                {state.catid_2 && state.catData_3.length ? (\n                  <div className=\"col-lg-9 d-flex justify-content-around align-items-center\">\n                    <div\n                      className=\"btn-group col-lg-8\"\n                      role=\"group\"\n                      aria-label=\"Basic example\"\n                      style={{height:'3rem'}}\n                    >\n                      {state.catData_3.map((cat) => {\n                        return (\n                          <button\n                            key={cat.id}\n                            className={\n                              state.catid_3 === cat.id\n                                ? \"btn btn-primary\"\n                                : \"btn btn-secondary\"\n                            }\n                            onClick={(e) => {                      \n                              getItems(cat.id);\n                              setState({\n                                ...state,\n                                catid_3: cat.id,\n                                load: true,\n                              });\n                            }}\n                          >\n                            {cat.name}\n                          </button>\n                        );\n                      })}\n                    </div>\n                    <div className=\"col-lg-4 d-flex flex-column align-items-center justify-content-center\">\n                      <p>Total de productos: {state.items.length}</p>\n                      <button disabled = {disabled} className=\"btn btn-success bg-success\" onClick={handleModal}>                        \n                        Asignar Precio\n                        <i className=\"fas fa-money-bill ml-2\"></i>\n                      </button>                                         \n                    </div>                    \n                  </div>\n                ) : null}\n              </div>\n            </div>\n\n\n            <div className=\"card-body\">\n              {state.catid_3 ? (\n                <React.Fragment>\n                  {state.load ? (\n                    <div className=\"text-center\">\n                      <span className=\"text-primary\">Cargando productos</span>\n                      <div\n                        className=\"spinner-border text-primary ml-4\"\n                        role=\"status\"\n                      >\n                        <span className=\"sr-only\">Cargando ...</span>\n                      </div>\n                    </div>\n                  ) : (\n                    <React.Fragment>\n                      <div className=\"row mb-2\">\n                        <div className=\"col mt-2\">\n                          \n                        </div>\n                        <div className=\"col\">\n                          \n                        </div>\n                        <div className=\"col-6\">\n                          <div className=\"row\">\n                          </div>\n                        </div>\n                      </div>\n\n                      {modal && <SetPriceModal \n                          branch = {currentBranch} \n                          currentBranch = {currentBranch}\n                          handleChange={(name, value) => {\n                            setGlobalData({\n                              ...globalData,\n                              [name]: parseInt(value),\n                              productCategoryId: state.items.length ? state.items[0].category.id : 0,\n                            })\n                          }} \n                          handleClose={handleModal} \n                          disabled = {disablenBtnModal}\n                          handleSave = {savePriceGlobal}\n                          categoryName = {`${state.catData_1[0].name} / ${state.catData_2[0].name} / ${state.catData_3[0].name}`}\n                        />}\n\n                      <InventoryTableView\n                        header={header}\n                        body={body}\n                        itemsProp={state.items}\n                      />\n\n\n                    </React.Fragment>\n                  )}\n                </React.Fragment>\n              ) : (\n                <div className=\"alert alert-warning text-light\" role=\"alert\">\n                  <h4 className=\"alert-heading\">\n                    <i className=\"fas fa-exclamation\"></i> Seleccion.\n                  </h4>\n                  <hr />\n                  <ul>\n                    {/* {!state.catid_1 ? (\n                      <li>Selecciones primero el tipo de lente</li>\n                    ) : null} */}\n                    {!state.catid_2 ? <li>Seleccione el material</li> : null}\n                    <li>Por ultimo el tratamiento</li>\n                  </ul>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { Config } from \"../../context/ConfigContext\";\nimport useStore from \"../../hooks/useStore\";\n\nexport default function FormEntries({\n  data,\n  eraseItem,\n  setItemNew,\n  setData,\n  setBranch,\n}) {\n  const configContext = Config();\n  const branches = configContext?.data.filter(\n    (conf) => conf.name === \"branches\"\n  );\n  const branchesId = branches.map((b) => b.id);\n  const [state, setState] = useState({\n    id: 0,\n    code: \"\",\n    branch_id: 0,\n    cant: 0,\n    price: 0,\n    currentCant: 0,\n    branchesId: [],\n  });\n  const store = useStore();\n  const searchProductByItem = async () => {\n    if (!state.code) return;\n\n    const items = await store.getItems({ code: state.code });\n    const item = items?.data.length ? items.data[0] : {};\n\n    if (item && Object.keys(item).length) {\n      setItemNew(state.id, state.branch_id, item);\n    } else {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"Codigo no encontrado\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      setState({\n        ...state,\n        code: \"\",\n      });\n    }\n  };\n  const setDataByBranch = () => {\n    const branch_id = data.branch_default\n      ? data.branch_default\n      : data.branch_id;\n    let currentCant = 0,\n      currentPrice = 0;\n\n    if (branch_id) {\n      const branch_select = data.branches?.filter(\n        (b) => b.branch_id === branch_id\n      );\n\n      if (branch_select && branch_select.length) {\n        const inBranch = branch_select[0];\n\n        currentCant = inBranch.cant;\n        currentPrice = inBranch.price;\n      }\n\n      if (!currentPrice) {\n        currentPrice = data.price ? data.price : state.price;\n      }\n    }\n    return [branch_id, currentCant, currentPrice];\n  };\n  const getBranchesId = () => {\n    const branches = [];\n    data.branches?.forEach((branch) => branches.push(branch.branch_id));\n\n    return branches;\n  };\n\n  useEffect(() => {\n    const [branch_id, currentCant, currentPrice] = setDataByBranch();\n    const branchesId = getBranchesId();\n\n    setState({\n      ...state,\n      id: data.id,\n      code: data.code,\n      cant: data.cant,\n      branch_id,\n      currentCant,\n      price: currentPrice,\n      branchesId,\n    });\n  }, [data.id, data.branch_id]);\n\n  return (\n    <div className=\"form-row border-bottom mt-2\">\n      <div className=\"form-group col-2\">\n        <label htmlFor=\"code\">Codigo</label>\n        <input\n          type=\"text\"\n          className=\"form-control text-uppercase\"\n          placeholder=\"Codigo del producto\"\n          id=\"code\"\n          disabled={typeof state.id === \"number\" ? true : false}\n          value={state.code}\n          onChange={({ target }) =>\n            setState({ ...state, code: target.value.toLowerCase() })\n          }\n          onKeyPress={({ key }) => key === \"Enter\" && searchProductByItem()}\n        />\n      </div>\n      <div className=\"form-group col-3\">\n        <label htmlFor=\"name\">Producto</label>\n        <input\n          type=\"text\"\n          className=\"form-control text-uppercase\"\n          placeholder=\"Nombre del producto\"\n          id=\"name\"\n          value={data.name ?? \"\"}\n          disabled={true}\n          onChange={() => {}}\n        />\n      </div>\n      <div className=\"form-group col-3\">\n        <label htmlFor=\"branch\">Sucursal</label>\n        <select\n          id=\"branch\"\n          className=\"form-control text-uppercase\"\n          disabled={\n            typeof state.id === \"string\" ||\n            branchesId.includes(data.branch_default) ||\n            data.cant\n              ? true\n              : false\n          }\n          value={data.branch_default ? data.branch_default : state.branch_id}\n          onChange={({ target }) => {\n            if (!isNaN(target.value)) {\n              setBranch(state.id, state.branch_id, parseInt(target.value));\n            }\n          }}\n        >\n          <option value={0}>--- Seleccione una sucursal ---</option>\n          {branches.map((branch) => {            \n            if (data.branches_used.includes(branch.id)) {\n              return null;\n            }\n\n            return (\n              <option key={branch.id} value={branch.id}>\n                {branch.data?.name}\n              </option>\n            );\n          })}\n        </select>\n      </div>\n      <div className=\"form-group col-1\">\n        <label htmlFor=\"current\">Actual</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"current\"\n          value={state.currentCant ?? 0}\n          disabled={true}\n          onChange={() => {}}\n        />\n      </div>\n      <div className=\"form-group col-1\">\n        <label htmlFor=\"cant\">Ingreso</label>\n        <input\n          type=\"text\"\n          className={\n            data.cant !== state.cant\n              ? \"form-control is-warning\"\n              : \"form-control\"\n          }\n          placeholder=\"Cantidad\"\n          id=\"cant\"\n          disabled={typeof state.id === \"string\" ? true : false}\n          value={state.cant ?? 0}\n          onChange={({ target }) => {\n            if (!isNaN(target.value)) {\n              setState({\n                ...state,\n                cant: parseInt(target.value ? target.value : 0),\n              });\n            }\n          }}\n        />\n      </div>\n      <div className=\"form-group col-1\">\n        <label htmlFor=\"price\">Precio</label>\n        <input\n          type=\"text\"\n          className={\n            data.price !== state.price\n              ? \"form-control is-warning\"\n              : \"form-control\"\n          }\n          placeholder=\"Precio\"\n          id=\"price\"\n          disabled={typeof state.id === \"string\" ? true : false}\n          value={state.price ?? 0}\n          onChange={({ target }) => {\n            if (!isNaN(target.value)) {\n              setState({ ...state, price: parseInt(target.value) });\n            }\n          }}\n          onKeyPress={({ key }) => key === \"Enter\" && setData(state)}\n        />\n      </div>\n      <div className=\"form-group col-1 text-right pt-4\">\n        <div\n          className=\"btn-group btn-group-sm mt-2\"\n          role=\"group\"\n          aria-label=\"...\"\n        >\n          <button\n            className=\"btn btn-sm btn-warning\"\n            onClick={() => eraseItem(data)}\n          >\n            <i className=\"fas fa-trash\" />\n          </button>\n          <button\n            className=\"btn btn-sm btn-success\"\n            disabled={typeof state.id === \"string\" ? true : false}\n            onClick={() => setData(state)}\n          >\n            {data.cant ? (\n              <i className=\"fas fa-pen\" />\n            ) : (\n              <i className=\"fas fa-check\" />\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport FormEntries from \"../components/Store/FormEntries\";\nimport { Config } from \"../context/ConfigContext\";\nimport useStore from \"../hooks/useStore\";\n\nexport default function StoreEntries() {\n  const configContext = Config();\n  const branches = configContext?.data.filter(\n    (conf) => conf.name === \"branches\"\n  );\n  const branchesId = branches.map((b) => b.id);\n  const store = useStore();\n  const [state, setState] = useState({\n    items: [\n      {\n        id: `${Date.now()}`,\n        code: \"\",\n        name: \"\",\n        branch_id: 0,\n        cant: 0,\n        price: 0,\n        branches: [],\n        branches_used: [],\n        branch_default: null,\n      },\n    ],\n  });\n  const setNewItem = (id, branch_id, item) => {\n    const items = [...state.items];\n    const branches_used = {};\n    const branches_rest = {};\n    let done = 0;\n\n    for (const i of items) {\n      if (!branches_used[i.id]?.length) branches_used[i.id] = [];\n      if (!branches_rest[i.id]?.length) branches_rest[i.id] = branchesId;\n\n      if (i.id === item.id) {\n        if (branchesId.includes(item.branch_default)) {\n          window.Swal.fire({\n            title: \"Almacen\",\n            text: \"Codigo ya se encuentra en la lsta\",\n            icon: \"warning\",\n            timer: 2500,\n          });\n          break;\n        }\n\n        branches_rest[i.id] = branches_rest[i.id].filter(\n          (b) => b !== i.branch_id\n        );\n        branches_used[i.id].push(i.branch_id);\n\n        item.branches = item.branches.filter(\n          (b) => !branches_used[i.id].includes(b.branch_id)\n        );\n      }\n\n      if (!branches_rest[i.id].length) {\n        window.Swal.fire({\n          title: \"Almacen\",\n          text: \"Codigo ya fue agregado a la lista en todas sus sucursales\",\n          icon: \"warning\",\n          timer: 2500,\n        });\n        break;\n      }\n\n      if (i.id === id && i.branch_id === branch_id) {\n        i.id = item.id;\n        i.code = item.code;\n        i.name = item.name;\n        i.price = item.price;\n        i.branches = item.branches;\n        i.branches_used = branches_used[i.id] ?? [];\n        i.branch_default = item.branch_default ?? null;\n        i.branch_id = item.branch_default ? item.branch_default : 0;\n      }\n\n      done++;\n    }\n\n    if (done < items.length) {\n      items.forEach((i) => {\n        if (typeof i.id === \"string\" && i.id === item.id) {\n          i.code = \"\";\n        }\n      });\n    }\n\n    setState({\n      items,\n    });\n  };\n  const setDataItem = (item) => {\n    const items = [...state.items];\n    let itemHasNew = true;\n\n    if (!item.cant) {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"La cantidad de productos (ingreso), es un valor requerido\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      return;\n    }\n\n    if (!item.price) {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"Es necesario establecer un precio mayor a cero\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      return;\n    }\n\n    if (!item.branch_id) {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"Por favor seleccione una sucursal\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      return;\n    }\n\n    items.forEach((i) => {\n      if (i.id === item.id && i.branch_id === item.branch_id) {\n        i.cant = item.cant;\n        i.price = item.price;\n        i.branch_id = item.branch_id;\n      }\n\n      if (typeof i.id === \"string\") {\n        itemHasNew = false;\n      }\n    });\n\n    if (itemHasNew) {\n      items.push(getNewItem());\n    }\n\n    setState({\n      items,\n    });\n  };\n  const setBranch = (id, c_branch, n_branch) => {\n    const items = [...state.items];\n\n    items.forEach((i) => {\n      if (i.id === id && i.branch_id === c_branch) {\n        i.branch_id = n_branch;\n      }\n    });\n\n    setState({\n      items,\n    });\n  };\n  const deleteItem = (item) => {\n    const items = [...state.items];\n    const newItems = items.filter((i) => {\n      if (i.id === item.id && i.branch_id === item.branch_id) {\n        return false;\n      }\n\n      return true;\n    });\n\n    setState({\n      items: newItems,\n    });\n  };\n  const saveItems = () => {\n    const items = state.items.filter((i) => typeof i.id === \"number\");\n    const newItems = [];\n\n    for (let i = 0; i < items.length; i++) {\n      delete items[i].branch_default;\n      delete items[i].branches;\n      delete items[i].branches_used;\n      delete items[i].name;\n      delete items[i].code;\n    }\n    // MFPLAR-000075\n    store\n      .saveItemByList(items)\n      .then((res) => {        \n        window.Swal.fire({\n          title: \"Almacen\",\n          text: \"Productos almacenados con exito\",\n          icon: \"success\",\n          timer: 2500,\n        });\n        newItems.push(getNewItem());\n        setState({\n          ...state,\n          items: newItems,\n        });\n      })\n      .catch((err) =>\n        console.error(\"Error when save items:\", err.message)\n      );\n  };\n\n  useEffect(() => {\n  }, [state.items]);\n\n  return (\n    <div className=\"row\" style={{height:'100vh'}}>\n      <div className=\"col-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-header\">\n            <h5 className=\"card-title mt-2 ml-2 text-bold\">\n              Entradas de productos por lote\n            </h5>\n            <div className=\"card-tools\">\n              <button\n                className=\"btn btn-sm btn-primary\"\n                title=\"Agregar una linea nueva\"\n                alt=\"Agregar una linea nueva\"\n                onClick={() => {\n                  const items = [...state.items];\n                  items.push(getNewItem());\n\n                  setState({\n                    items,\n                  });\n                }}\n              >\n                <i className=\"fas fa-plus\" />\n              </button>\n            </div>\n          </div>\n\n          <div className=\"card-body\">\n            {state.items.map((item, i) => (\n              <FormEntries\n                key={`${item.id}${Date.now()}${i}`}\n                data={item}\n                eraseItem={deleteItem}\n                setItemNew={setNewItem}\n                setData={setDataItem}\n                setBranch={setBranch}\n              />\n            ))}\n          </div>\n          <div className=\"card-footer text-right\">\n            <button className=\"btn btn-primary\" onClick={saveItems}>\n              Enviar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction getNewItem() {\n  return {\n    id: `${Date.now()}`,\n    code: \"\",\n    name: \"\",\n    branch_id: 0,\n    cant: 0,\n    price: 0,\n    branches: [],\n    branches_used: [],\n    branch_default: null,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { StoreContext } from \"../context/StoreContext\";\n\n//Compinentes\nimport ToolBar from \"../components/Store/ToolBar\";\nimport Inbox from \"../components/Store/Inbox\";\nimport Add from \"../components/Store/Add\";\nimport Categories from \"./StoreCategories\";\nimport Brands from \"./StoreBrand\";\nimport Inventory from \"./StoreInventory\";\nimport Entries from \"./StoreEntries\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  search: \"\",\n  itemsPage: 25,\n  supplier: \"\",\n  brand: \"\",\n  zero: \"false\",\n};\n\nexport default function Store(props) {\n  \n  const [state, setState] = useState({\n    panel: \"\",\n    options: optionsDefault,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    let panel = \"inbox\";\n\n    if (id) {\n      if (!isNaN(id)) {\n        panel = \"neworedit\";\n      } else {\n        switch (id?.toLowerCase()) {\n          case \"categorias\":\n            panel = \"category\";\n            break;\n          case \"marcas\":\n            panel = \"brands\";\n            break;\n          case \"inventario\":\n            panel = \"inventory\";\n            break;\n          case \"entradas\":\n            panel = \"entries\";\n            break;\n          default:\n            panel = \"inbox\";\n        }\n      }\n    }\n\n    setState({\n      ...state,\n      panel,\n    });\n\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <StoreContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <div className=\"col-sm-12 col-md-2\">\n          <button\n            className=\"btn bg-primary btn-block mb-3\"\n            type=\"button\"\n            disabled={state.panel !== \"inbox\"}\n            onClick={() => setState({ ...state, panel: \"neworedit\" })}\n          >\n            <i className=\"fas fa-plus mr-1\"></i>\n            Nuevo producto\n          </button>\n          <ToolBar />\n        </div>\n        <div className=\"col-sm-12 col-md-10\">\n          {state.panel === \"inbox\" && <Inbox />}\n          {state.panel === \"neworedit\" && <Add {...props} />}\n          {state.panel === \"category\" && <Categories></Categories>}\n          {state.panel === \"brands\" && <Brands></Brands>}\n          {state.panel === \"inventory\" && <Inventory></Inventory>}\n          {state.panel === \"entries\" && <Entries></Entries>}\n        </div>\n      </div>\n    </StoreContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const ContactContext = createContext(null);\nexport const Contacts = () => useContext(ContactContext);\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useHistory } from \"react-router-dom\";\n\nimport SideBar from \"../../pages/partials/SideBar\";\nimport { Contacts } from \"../../context/ContactContext\";\n\nexport default function ToolBarContact({\n  newOrEdit = false,\n  handleNewOrEdit: _handleNewOrEdit,\n}) {\n  const context = Contacts();\n  const history = useHistory();\n\n  return (\n    <div className=\"col-sm-12 col-md-2\">\n      <button\n        className=\"btn bg-indigo btn-block mb-3\"\n        type=\"button\"\n        disabled={newOrEdit}\n        onClick={() => _handleNewOrEdit()}\n      >\n        <i className=\"fas fa-plus mr-1\"></i>\n        Nuevo contacto\n      </button>\n      <SideBar title={newOrEdit ? \"Menu\" : \"Filtros\"}>\n        {!newOrEdit ? (\n          <>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"type\">Tipo</label>\n              <select\n                className=\"form-control \"\n                name=\"type\"\n                id=\"type\"\n                value={context.options?.type}\n                onChange={({ target }) => {\n                  const value = parseInt(target.value);\n                  \n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      type: !isNaN(value) ? value : \"\",\n                    },\n                  });\n                }}\n              >\n                <option value=\"\">-- Todos --</option>\n                <option value=\"0\">Clientes</option>\n                <option value=\"1\">Proveedores</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"orderby\">Ordenar por</label>\n              <select\n                className=\"form-control \"\n                name=\"orderby\"\n                id=\"orderby\"\n                value={context.options?.orderby}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      orderby: target.value,\n                    },\n                  });\n                }}\n              >\n                <option value=\"created_at\">Fecha de registro</option>\n                <option value=\"updated_at\">Fecha de modificacion</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"order\">Mostrar por</label>\n              <select\n                className=\"form-control \"\n                name=\"order\"\n                id=\"order\"\n                value={context.options?.order}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      order: target.value,\n                    },\n                  });\n                }}\n              >\n                <option value=\"asc\">Antiguos</option>\n                <option value=\"desc\">Recientes</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"itemsPage\">Numero de contactos</label>\n              <select\n                className=\"form-control \"\n                name=\"itemsPage\"\n                id=\"itemsPage\"\n                value={context.options?.itemsPage}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      itemsPage: parseInt(target.value),\n                    },\n                  });\n                }}\n              >\n                <option value=\"25\">ver 25</option>\n                <option value=\"50\">ver 50</option>\n                <option value=\"75\">ver 75</option>\n                <option value=\"100\">ver 100</option>\n              </select>\n            </li>\n          </>\n        ) : (\n          <>\n            <li className=\"list-group-item\">\n              <a\n                href=\"#back\"\n                className=\"d-flex justify-content-between align-items-center\"\n                onClick={(e) => {\n                  e.preventDefault();                  \n                  history.push(\"/contactos\");\n                }}\n              >\n                Ver listado\n                <span className=\"badge badge-primary badge-pill\">\n                  <i className=\"fas fa-chevron-left\"></i>\n                </span>\n              </a>\n            </li>\n            {context.contact?.id ? (\n              <li className=\"list-group-item\">\n                <a\n                  href=\"#details\"\n                  className=\"d-flex justify-content-between align-items-center\"\n                >\n                  Detalles\n                  <span className=\"badge badge-primary badge-pill\">\n                    <i className=\"fas fa-chevron-right\"></i>\n                  </span>\n                </a>\n              </li>\n            ) : null}\n          </>\n        )}\n      </SideBar>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n//Components\nimport Inbox from \"../../layouts/list_inbox\";\nimport useContact from \"../../hooks/useContact\";\n\n//Context\nimport { Contacts } from \"../../context/ContactContext\";\n\nexport default function InboxContact() {\n  const context = Contacts();\n  const _contacts = useContact();\n  const history = useHistory();\n  const [state, setState] = useState({\n    contactSelected: \"\",\n    contacts: [],\n    meta: {},\n    loading: false,\n  });\n\n  // Functions\n  const handleLoadContacts = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n\n    _contacts\n      .getContacts({\n        ...context.options,\n      })\n      .then((res) => {\n        setState({\n          ...state,\n          loading: false,\n          contacts: res.data,\n          meta: res.meta,\n          contactSelected: \"\",\n        });\n      });\n  };\n\n  useEffect(() => {\n    if (Object.keys(context.options).length) {\n      handleLoadContacts();\n    }\n  }, [context.options]);\n\n  return (\n    <Inbox\n      title=\"Lista de contactos\"\n      icon=\"id-badge\"\n      color=\"indigo\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.contactSelected}\n      handlePagination={(page) => {\n        if (page) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              page,\n            },\n          });\n        }\n      }}\n      handleSearch={(search) => {\n        if (search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search,\n              page: 1,\n            },\n          });\n        } else if (context.options.search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search: \"\",\n              page: 1,\n            },\n          });\n        }\n      }}\n      handleDeleteItem={(select) => {\n        if (state.contactSelected) {\n          window.Swal.fire({\n            title: \"Contactos\",\n            text: \"¿Desea eliminar a este contacto?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Eliminar\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              _contacts\n                .deleteContact(state.contactSelected)\n                .then(() => {\n                  handleLoadContacts();\n                })\n                .catch((err) => {\n                  console.error(\n                    \"[Orus System] Catch when delete contact:\",\n                    err.message\n                  );\n                });\n            } else {\n              setState({\n                ...state,\n                contactSelected: \"\",\n              });\n            }\n          });\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un contacto seleccionado\",\n            icon: \"error\",\n            timer: 3000,\n          });\n        }\n      }}\n      handleEditItem={() => {\n        if (state.contactSelected) {\n          history.push(`contactos/${state.contactSelected}`);\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un contacto seleccionado\",\n            icon: \"error\",\n            timer:3000\n          });\n        }\n      }}\n      handleSync={() => {\n        context.set({\n          ...context,\n          options: {\n            ...context.options,\n            page: 1,\n          },\n        });\n      }}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Edad</th>\n            <th>E-mail</th>\n            <th>Telefono</th>\n            <th>Creado por</th>\n            <th>\n              {context.options.orderby === \"created_at\"\n                ? \"Registrado\"\n                : \"Actualizado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.contacts?.map((contact) => {\n            const phones = Object.values(contact.phones).filter((p) => p);\n\n            return (\n              <tr key={contact.id}>\n                <td className=\"icheck-primary pl-2\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"form-check-input mt-4\"\n                    value={contact.id}\n                    id={\"contact_\" + contact.id}\n                    //disabled={contact.enUso}\n                    checked={\n                      state.contactSelected === contact.id ? true : false\n                    }\n                    onChange={({ target }) => {\n                      const { value, checked } = target;\n                      setState({\n                        ...state,\n                        contactSelected: checked ? parseInt(value) : \"\",\n                      });\n                    }}\n                  />\n                  <label\n                    htmlFor={\"contact_\" + contact.id}\n                    className=\"sr-only\"\n                  ></label>\n                </td>\n                <td\n                  className=\"mailbox-name text-capitalize text-truncate\"\n                  style={{ cursor: \"pointer\", maxWidth: 180 }}\n                  onClick={() => {\n                    history.push(`contactos/${contact.id}`);\n                  }}\n                >\n                  <label\n                    style={{ cursor: \"pointer\" }}\n                    className={contact.enUso ? \"text-indigo\" : \"\"}\n                  >\n                    {contact.type ? (\n                      <i className=\"fas fa-store text-sm mr-2\"></i>\n                    ) : (\n                      <i className=\"fas fa-user text-sm mr-2\"></i>\n                    )}\n                    {contact.name.toLowerCase()}\n                  </label>\n                </td>\n                <th>{contact.age ? contact.age : \"--\"}</th>\n                <td\n                  className=\"mailbox-attachment text-lowercase text-truncate\"\n                  style={{ maxWidth: 180 }}\n                >\n                  <span>\n                    <i className=\"fas fa-envelope text-sm mr-2\"></i>\n                    <a href={\"mailto:\" + contact.email} className=\"text-muted\">\n                      {contact.email?.toLowerCase()}\n                    </a>\n                  </span>\n                </td>\n                <td className=\"mailbox-date text-muted text-truncate text-right\">\n                  <span>\n                    <i className=\"fas fa-phone text-sm mr-2\"></i>\n                    {phones.length ? phones[0] : \"--\"}\n                  </span>\n                </td>\n                <td className=\"text-capitalize\">\n                  {contact.created.name.toLowerCase()}\n                </td>\n                <td>\n                  {moment(\n                    context.options.orderby === \"created_at\"\n                      ? contact.created_at\n                      : contact.updated_at\n                  ).fromNow()}\n                </td>\n              </tr>\n            );\n          })}\n\n          {!state.contacts?.length && (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"7\">\n                <i className=\"fa fa-info mx-2\"></i>\n                {context.options.search ? (\n                  <span>\n                    La busqueda\n                    <strong className=\"text-dark mx-1\">\n                      \"{context.options.search}\",\n                    </strong>\n                    no coincide con ning&uacute;n contacto.\n                  </span>\n                ) : (\n                  \"No hay contactos registrados\"\n                )}\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Inbox>\n  );\n}\n","/* eslint-disable no-useless-escape */\nconst patternEmail =\n  /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})$/i;\n\nconst handleVerificationData = (data, showMsg = true) => {\n  const { name, email, birthday, phone, type } = data,\n    patternName =\n      /^[A-ZÁÉÍÓÚñáéíóúÑ]+\\s[A-ZÁÉÍÓÚñáéíóúÑ]{2,}(\\s?[A-ZÁÉÍÓÚñáéíóúÑ]+){1,}/gim,\n    patternPhone = /^\\d{10}$/gim;\n\n  if (!type && !patternName.test(name)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El nombre del contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n    return {\n      result: false,\n      name: \"name\",\n    };\n  }\n  if (!patternEmail.test(email)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El correo electrónico del contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"email\",\n    };\n  }\n\n  let telefonoVerify = patternPhone.test(phone);\n\n  if (!type && !telefonoVerify) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El numero de contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"telnumbers\",\n    };\n  }\n\n  const date = new Date(birthday),\n    today = new Date(),\n    anos = today.getFullYear() - date.getFullYear();\n\n  if (!type && (!birthday || anos < 1)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"La fecha de nacimiento es erronea\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"bithday\",\n    };\n  }\n\n  return {\n    result: true,\n  };\n};\n\nconst saveContact = (title = \"contacto\", data, _save, id = null) => {\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `¿Esta seguro de actualizar al ${title}?`\n      : `¿Esta seguro de crear un nuevo ${title}?`,\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        id,\n        data,\n      });\n    }\n  });\n};\n\nconst changeDataInput = (input, data, _setData) => {\n  const { name, value } = input;\n  let val = value;\n\n  if (name === \"telnumbers\") {\n    val = {\n      ...data.telnumbers,\n      t_movil: value,\n    };\n  }\n\n  _setData({\n    ...data,\n    [name]: val,\n  });\n};\n\nconst dataPrimary = {\n  name: \"\",\n  telnumbers: { t_casa: \"\", t_oficina: \"\", t_movil: \"\" },\n  email: \"\",\n  birthday: \"\",\n  type: 0,\n  business: 0,\n  gender: \"female\",\n};\n\nconst handleGetDataObject = (key, value, verification) => {\n  switch (key) {\n    case \"name\":\n      return {\n        name: value,\n        verification: {\n          ...verification,\n          name: true,\n        },\n      };\n    case \"email\":\n      return {\n        email: value,\n        verification: {\n          ...verification,\n          email: true,\n        },\n      };\n    case \"birthday\":\n      return {\n        birthday: value,\n        verification: {\n          ...verification,\n          birthday: true,\n        },\n      };\n    case \"telefonos\":\n      return {\n        telefonos: value,\n        verification: {\n          ...verification,\n          telefonos: true,\n        },\n      };\n    default:\n      return {\n        [key]: value,\n      };\n  }\n};\n\nfunction isEmail(email) {\n  return email ? patternEmail.test(email) : false;\n}\n\nconst toExport = {\n  handleVerificationData,\n  saveContact,\n  changeDataInput,\n  handleGetDataObject,\n  dataPrimary,\n  isEmail,\n};\n\nexport default toExport;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport { useEffect, useState } from \"react\";\n\nimport helper from \"../helper\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function Personal({ data = {}, handleChange, fn }) {\n  const [state, setState] = useState({\n    emailVerification: null,\n    emailColor: \"dark\",\n    nameVerification: null,\n    nameColor: \"dark\",\n    birthdayVerification: false,\n    birthdayColor: \"dark\",\n    contatcs: [],\n  });\n\n  const handleValidContact = (type, value) => {\n    if (!type || !value) return;\n\n    if (type === \"email\" && helper.isEmail(value)) {\n      fn.getContacts({\n        page: 1,\n        orderby: \"created_at\",\n        order: \"desc\",\n        itemsPage: 10,\n        email: value,\n        except: data.id,\n      }).then((res) => {\n        setState({\n          ...state,\n          emailVerification: Boolean(res.data?.length),\n          emailColor: !res.data?.length ? \"dark\" : \"danger\",\n        });\n        handleChange(\"validates\", {\n          ...data.validates,\n          email: !Boolean(res.data?.length),\n        });\n      });\n    }\n\n    if (type === \"name\") {\n      fn.getContacts({\n        page: 1,\n        orderby: \"created_at\",\n        order: \"desc\",\n        itemsPage: 10,\n        name: value,\n        except: data.id,\n      }).then((res) => {\n        setState({\n          ...state,\n          contacts: res.data?.length ? res.data : [],\n          nameVerification: Boolean(res.data?.length),\n          nameColor: !res.data?.length ? \"dark\" : \"danger\",\n        });\n        handleChange(\"validates\", {\n          ...data.validates,\n          name: !Boolean(res.data?.length),\n        });\n      });\n    }\n  };\n\n  useEffect(() => {\n    const check = {\n      birthday: Boolean(moment().diff(data.birthday, \"days\") > 0),\n      test: moment().diff(data.birthday, \"days\"),\n    };\n\n    if (check.birthday !== state.birthdayVerification) {\n      setState({\n        ...state,\n        birthdayVerification: check.birthday,\n        birthdayColor: check.birthday ? \"dark\" : \"danger\",\n      });\n      handleChange(\"validates\", {\n        ...data.validates,\n        birthday: check.birthday,\n      });\n    }\n  }, [data.name, data.email, data.birthday]);\n\n  return (\n    <>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Tipo de contacto</label>\n          <select\n            className=\"custom-select\"\n            name=\"type\"\n            value={data.type ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"type\", parseInt(target.value))\n            }\n          >\n            <option value=\"0\">Cliente</option>\n            <option value=\"1\">Proveedor</option>\n          </select>\n        </div>\n        {data.type ? (\n          <div className=\"form-group custom-control custom-checkbox\">\n            <input\n              type=\"checkbox\"\n              name=\"business\"\n              className=\"custom-control-input\"\n              checked={data.business ?? false}\n              onChange={({ target }) =>\n                handleChange(\"business\", target.checked)\n              }\n              id=\"business_checkbox\"\n            />\n            <label\n              htmlFor=\"business_checkbox\"\n              className=\"custom-control-label cursor-pointer\"\n            >\n              <small>¿Es un laboratorio?</small>\n            </label>\n          </div>\n        ) : null}\n        <div className=\"form-group\">\n          <label>RFC</label>\n          <input\n            type=\"text\"\n            className=\"form-control text-uppercase text-truncate\"\n            placeholder=\"facturas\"\n            name=\"rfc\"\n            defaultValue={data.rfc ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"rfc\", target.value.toUpperCase())\n            }\n            minLength=\"10\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Género</label>\n          <select\n            className=\"custom-select\"\n            name=\"gender\"\n            value={data.gender ?? \"\"}\n            onChange={({ target }) => handleChange(\"gender\", target.value)}\n          >\n            <option value=\"male\">Hombre</option>\n            <option value=\"female\">Mujer</option>\n          </select>\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group position-relative\">\n          <label>\n            Nombre completo <span className=\"text-orange\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            className={`form-control text-capitalize text-truncate text-${state.nameColor}`}\n            placeholder=\"Ej: Juan Perez G\"\n            name=\"name\"\n            defaultValue={data.name ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"name\", target.value.toLowerCase())\n            }\n            onBlur={({ target }) =>\n              handleValidContact(\"name\", target.value.toLowerCase())\n            }\n            onKeyDown={({ key }) => {\n              if (key === \"Escape\") {\n                setState({\n                  ...state,\n                  contacts: [],\n                });\n              }\n            }}\n          />\n          {!data.name && (\n            <small>\n              <span className=\"text-orange\">Este campo es requerido</span>\n            </small>\n          )}\n\n          {state.contacts?.length && data.name?.length > 5 && !data.id\n            ? showContacts(state.contacts)\n            : null}\n        </div>\n\n        <div className=\"form-group\">\n          <label>\n            Correo electr&oacute;nico <span className=\"text-orange\">*</span>\n          </label>\n          <input\n            type=\"email\"\n            className={`form-control text-lowercase text-truncate text-${state.emailColor}`}\n            placeholder=\"Ej: correo@domain.com\"\n            name=\"email\"\n            defaultValue={data.email ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"email\", target.value.toLowerCase())\n            }\n            onBlur={({ target }) => handleValidContact(\"email\", target.value)}\n          />\n          {!data.email && (\n            <small>\n              <span className=\"text-orange\">Este campo es requerido</span>\n            </small>\n          )}\n\n          {data.email && !helper.isEmail(data.email) && (\n            <small>\n              <span className=\"text-orange\">Este no es un correo valido</span>\n            </small>\n          )}\n\n          {state.emailVerification &&\n            typeof state.emailVerification === \"boolean\" && (\n              <small>\n                <span className=\"text-orange\">\n                  Este e-mail ya se encuentra registrado\n                </span>\n              </small>\n            )}\n        </div>\n\n        {!data.type ? (\n          <div className=\"form-group\">\n            <label>\n              Fecha de nacimiento <span className=\"text-orange\">*</span>\n            </label>\n            <DatePicker\n              className={`form-control text-${state.birthdayColor}`}\n              locale=\"es\"\n              selected={new Date(data.birthday.format(\"YYYY/MM/DD\"))}\n              dateFormat=\"dd/MM/yyyy\"\n              maxDate={new Date()}\n              placeholderText=\"Seleccione una fecha\"\n              onSelect={(date) => {\n                if (date) {\n                  date = date.toLocaleDateString(\"es-MX\");\n                  const birthday = moment(date, \"DD/MM/YYYY\");\n\n                  if (birthday.isValid()) {\n                    handleChange(\"birthday\", birthday);\n                  }\n                }\n              }}\n              onChange={(date) => {\n                if (date) {\n                  date = date.toLocaleDateString(\"es-MX\");\n                  const birthday = moment(date, \"DD/MM/YYYY\");\n\n                  if (birthday.isValid()) {\n                    handleChange(\"birthday\", birthday);\n                  }\n                }\n              }}\n            />\n            {!state.birthdayVerification && (\n              <small>\n                <span className=\"text-orange\">Este campo es requerido</span>\n              </small>\n            )}\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n}\n\nfunction showContacts(contacts) {\n  return (\n    <div\n      className=\"position-absolute border rounded p-0 bg-white overflow-auto \"\n      style={{\n        zIndex: \"50\",\n        top: \"4.1rem\",\n        width: \"100%\",\n        maxHeight: \"8rem\",\n      }}\n    >\n      <ul className=\"list-group\">\n        {contacts.map((contact) => {\n          return (\n            <li className=\"list-group-item text-truncate\" key={contact.id}>\n              <i className=\"fas fa-minus mr-1 text-danger\"></i>\n              <span className=\"text-capitalize text-muted text-monospace text-sm\">\n                {contact.name?.toLowerCase()}\n              </span>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n","export default function Address({ data, handleChange }) {\n  return (\n    <>\n      <div className=\"col\">\n        {data.address_street ? (\n          <small>\n            <label>Calle y numero</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-road\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Calle y numero\"\n            defaultValue={data.address_street ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_street\", target.value.toLowerCase())\n            }\n          />\n        </div>\n        {data.address_neighborhood ? (\n          <small>\n            <label>Colonia</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-location-arrow\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Colonia\"\n            defaultValue={data.address_neighborhood ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_neighborhood\", target.value.toLowerCase())\n            }\n          />\n        </div>\n        {data.address_location ? (\n          <small>\n            <label>Municipio</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-location-arrow\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Municipio\"\n            defaultValue={data.address_location ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_location\", target.value.toLowerCase())\n            }\n          />\n        </div>\n      </div>\n      <div className=\"col\">\n        {data.address_state ? (\n          <small>\n            <label>Estado</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-map-marker\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Estado\"\n            defaultValue={data.address_state ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_state\", target.value.toLowerCase())\n            }\n          />\n        </div>\n        {data.address_zip ? (\n          <small>\n            <label>Codigo postal</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-map-marker\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Codigo Postal\"\n            defaultValue={data.address_zip ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_zip\", target.value.toLowerCase())\n            }\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from \"react\";\n\nexport default function Phones({ data, handleChange }) {\n  useEffect(() => {\n    const check = Boolean(\n      [data.phone_notices, data.phone_cell, data.phone_office].filter(\n        (phone) => phone.length === 10\n      ).length\n    );\n\n    if (check !== data.validates?.phones) {\n      handleChange(\"validates\", {\n        ...data.validates,\n        phones: check,\n      });\n    }\n  }, [data.phone_notices, data.phone_cell, data.phone_office]);\n\n  return (\n    <>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono para recados</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_notices}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_notices\", target.value);\n                }\n              }}\n            />\n          </div>\n          {data.phone_notices && data.phone_notices.length !== 10 && (\n            <small>\n              <span className=\"text-orange\">Telefono a 10 numeros</span>\n            </small>\n          )}\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono personal / whatsApp</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_cell}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_cell\", target.value);\n                }\n              }}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono del trabajo</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_office}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_office\", target.value);\n                }\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport moment from \"moment\";\n\nconst ListOfSalesComponent = (props) => {\n  const { sales } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Total</th>\n          <th>Orden</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {sales.map((sale) => {\n          return (\n            <tr key={sale.id}>\n              <th>#{sale.id}</th>\n              <td>$ {sale.total.toFixed(2)}</td>\n              <td>#{sale.pedido}</td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(sale.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfSalesComponent;\n","import moment from \"moment\";\n\nexport default function Dashboard({ analytics, metadata }) {\n  const { purchases, exams, brands, orders, suppliers } = analytics;\n  const { created_at, created, updated, updated_at } = metadata;\n\n  return (\n    <div className=\"row\">\n      {brands ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-orange\">\n            <div className=\"inner\">\n              <h5>{brands}</h5>\n\n              <p>Marcas</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-shopping-bag\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {suppliers ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-indigo\">\n            <div className=\"inner\">\n              <h5>{suppliers}</h5>\n\n              <p>Laboratorio</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-building\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {purchases ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-success\">\n            <div className=\"inner\">\n              <h5>{purchases}</h5>\n\n              <p>Compras</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-money-bill\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {exams ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-info\">\n            <div className=\"inner\">\n              <h5>{exams}</h5>\n\n              <p>Examenes</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-notes-medical\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {orders ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-warning\">\n            <div className=\"inner\">\n              <h5>{orders}</h5>\n\n              <p>Pedidos</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-shopping-basket\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {created_at && (\n        <div className=\"col\">\n          <div className=\"small-box bg-primary\">\n            <div className=\"inner\">\n              <h5>\n                {moment().diff(created_at, \"days\") >= 0\n                  ? created_at.format(\"DD/MMMM/Y\")\n                  : \"--/--/--\"}\n              </h5>\n\n              <p>Registrado</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-calendar\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              {moment().diff(updated_at, \"days\") >= 0\n                ? `Modificado: ${updated_at.format(\"DD/MMMM/Y\")}`\n                : \"Modificado --/--/--\"}\n            </a>\n          </div>\n        </div>\n      )}\n\n      {created && (\n        <div className=\"col\">\n          <div className=\"small-box bg-primary\">\n            <div className=\"inner text-capitalize\">\n              <h5 className=\"text-truncate\">{created}</h5>\n\n              <p>Registrado por</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-user\"></i>\n            </div>\n            <a\n              href=\"#details\"\n              className=\"small-box-footer text-xs text-truncate text-capitalize\"\n            >\n              Modificado: {updated}\n            </a>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport moment from \"moment\";\n\nconst ListOfBrandsComponent = (props) => {\n  const { brands } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>Nombre</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {brands.map((brand) => {\n          return (\n            <tr key={brand.id}>\n              <td className=\"text-uppercase\">{brand.name}</td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(brand.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfBrandsComponent;\n","const handleStatusString = (status) => {\n  switch (status) {\n    case 0:\n      return \"procesando\";\n    case 1:\n      return \"laboratorio\";\n    case 2:\n      return \"bicelacion\";\n    case 3:\n      return \"terminado\";\n    case 4:\n      return \"entregado\";\n    default:\n      return \"garantia\";\n  }\n};\nconst getBadgeStatus = (status) => {\n  switch (status) {\n    case 0:\n      return (\n        <span className=\"badge badge-light mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    case 1:\n    case 2:\n      return (\n        <span className=\"badge badge-primary mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    case 3:\n      return (\n        <span className=\"badge badge-info mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    case 4:\n      return (\n        <span className=\"badge badge-secondary mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    default:\n      return (\n        <span className=\"badge badge-dark mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n  }\n};\n\nconst getStatusType = [\n  \"procesando\",\n  \"laboratorio\",\n  \"bicelacion\",\n  \"terminado\",\n  \"entregado\",\n];\n\nconst handleDeleteOrder = (order, options, _delete) => {\n  if (order.id) {\n    if (order.estado) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El pedido tiene un proceso avanzado\",\n        icon: \"warning\",\n      });\n      return false;\n    }\n    if (order.nota) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"No se puede eliminar un pedido con una venta activa\",\n        icon: \"warning\",\n      });\n      return false;\n    }\n\n    window.Swal.fire({\n      text: `¿Esta seguro de eliminar el pedido ${order.id}?`,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss && _delete) {\n        _delete({\n          id: order.id,\n          options,\n        });\n        console.log(\"[Orus System] Eliminando pedido: \" + order.id);\n        return true;\n      }\n    });\n    return false;\n  }\n};\n\nconst handleSaveOrder = (id, data, options, _save, _erase) => {\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `¿Esta seguro de actualizar el pedido ${id}?`\n      : \"¿Esta seguro de crear un nuevo pedido?\",\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        data,\n        id,\n        options,\n      });\n      if (_erase) _erase();\n      removeDataTemporary(data.contact_id);\n    }\n  });\n};\n\nconst getDataTemporary = (field) => {\n    const data = JSON.parse(localStorage.getItem(\"OrusSystem\") ?? \"\");\n\n    if (!data.orders) {\n      data.orders = [];\n    }\n\n    return field ? data.orders : data;\n  },\n  addDataTemporary = (data) => {\n    const local = getDataTemporary();\n    let localToSave = {\n      ...local,\n      orders: local.orders.filter((item) => item.id !== data.id),\n    };\n\n    localToSave.orders.push(data);\n    // localStorage.setItem(\"OrusSystem\", JSON.stringify(localToSave));\n  },\n  removeDataTemporary = (id, fn) => {\n    // const local = getDataTemporary(),\n    //   data = {\n    //     ...local,\n    //     orders: local.orders.filter((item) => item.id !== id),\n    //   };\n    // localStorage.setItem(\"OrusSystem\", JSON.stringify(data));\n    if (fn) fn();\n  },\n  getDataOneItem = (id) => {\n    const local = getDataTemporary(),\n      data = local.orders.filter((item) => item.id === id);\n    if (data) {\n    }\n    return data[0] ?? {};\n  };\n\nconst toExport = {\n  handleStatusString,\n  getBadgeStatus,\n  handleDeleteOrder,\n  handleSaveOrder,\n  getDataTemporary,\n  addDataTemporary,\n  removeDataTemporary,\n  getDataOneItem,\n  getStatusType,\n};\n\nexport default toExport;\n","import React from \"react\";\nimport moment from \"moment\";\nimport helper from \"../helpers\";\n\nconst ListOfOrdersComponent = (props) => {\n  const { orders } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Folio LAB</th>\n          <th>Nota</th>\n          <th>Estado</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {orders.map((order) => {\n          return (\n            <tr key={order.id}>\n              <th>#{order.id}</th>\n              <td>{order.order_foreing ? `#${order.order_foreing}` : \"--\"}</td>\n              <td>{order.nota ? `#${order.nota}` : \"--\"}</td>\n              <td className=\"text-uppercase\">\n                <span className=\"badge badge-secondary\">\n                  {helper.handleStatusString(order.status)}\n                </span>\n              </td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(order.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfOrdersComponent;\n","import { useState } from \"react\";\nimport moment from \"moment\";\n\nexport default function List(props) {\n  const {\n    exams = [],\n    allSelect = false,\n    handleSelectedExam: _handleSelectedExam,\n  } = props;\n\n  const [select, setSelect] = useState(\"\");\n\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th scope=\"col\"></th>\n          <th scope=\"col\">Folio</th>\n          <th scope=\"col\">Registrado</th>\n          <th scope=\"col\">Estado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {!exams.length ? (\n          <tr>\n            <th colSpan=\"4\" className=\"text-center\">\n              <i className=\"fas fa-info-circle mr-1\"></i>\n              No hay registros\n            </th>\n          </tr>\n        ) : null}\n        {exams.map((row) => {\n          return (\n            <tr\n              key={row.id}\n              className={\n                moment(new Date()).isSame(moment(row.created_at), \"day\")\n                  ? \"text-primary\"\n                  : \"\"\n              }\n            >\n              <td>\n                <div className=\"icheck-primary\">\n                  {_handleSelectedExam ? (\n                    <>\n                      <input\n                        type=\"checkbox\"\n                        name={\"exam_\" + row.id}\n                        id={\"exam_\" + row.id}\n                        defaultValue={row.id}\n                        onChange={({ target }) => {\n                          if (target.checked) {\n                            setSelect(row.id);\n                            _handleSelectedExam(row);\n                          } else {\n                            setSelect(\"\");\n                          }\n                        }}\n                        disabled={!allSelect}\n                        checked={select === row.id}\n                      />\n                      <label htmlFor={\"exam_\" + row.id}></label>\n                    </>\n                  ) : null}\n                </div>\n              </td>\n              <th scope=\"row\">\n                <span className=\"text\">#{row.id}</span>\n              </th>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(row.created_at).fromNow()}\n              </td>\n              <td>\n                {row.status ? (\n                  <span className=\"badge badge-success\">\n                    <i className=\"fas fa-check\"></i> Terminado\n                  </span>\n                ) : (\n                  <span className=\"badge badge-secondary\">\n                    <i className=\"fas fa-hourglass\"></i> Activo\n                  </span>\n                )}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n","import ListExam from \"../views/List\";\n\nexport default function List({ showBottons = false, exams = [] }) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title text-indigo text-bold\">\n          <i className=\"fas fa-notes-medical mr-1\"></i>\n          Examenes\n        </h5>\n        {exams.length ? (\n          <ListExam\n            allSelect={true}\n            exams={exams}\n            handleSelectedExam={(examSelect) => {\n            }}\n          />\n        ) : (\n          <div className=\"alert alert-info mt-5\">\n            <h5>\n              <i className=\"fas fa-info-circle mr-1\"></i>\n              Aun no hay examenes para este contacto\n            </h5>\n          </div>\n        )}\n      </div>\n      {showBottons && (\n        <div className=\"card-footer text-right\">\n          <div className=\"btn-group\">\n            <button className=\"btn btn-secondary\">Nuevo</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","function ModalComponents({\n  title = \"confirmación\",\n  body,\n  handleCancel: _handleCancel,\n}) {\n  const handleClose = () => {\n    if (_handleCancel) _handleCancel();\n  };\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-dark text-bold text-capitalize\">\n              {title}\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">{body}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ModalComponents;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\n//Components\nimport Personal from \"./views/Personal\";\nimport Domicilio from \"./views/Address\";\nimport Telefono from \"./views/Phones\";\nimport ListSales from \"../Sales/views/listOfSales_delete\";\nimport Dashboard from \"./Dashboard\";\nimport ListBrands from \"../Store/views/listOfBrands\";\nimport ListOrders from \"../Order/views/listOfOrders\";\nimport CardExams from \"../Exam/cards/List\";\nimport Confirm from \"../../layouts/modal\";\nimport useContact from \"../../hooks/useContact\";\nimport helper from \"./helper\";\nimport Activitys from \"../Activitys\";\n\nconst initialState = {\n  id: 0,\n  name: \"\",\n  rfc: \"\",\n  gender: \"male\",\n  email: \"\",\n  type: 0,\n  business: 0,\n  birthday: moment(),\n  phone_notices: \"\",\n  phone_cell: \"\",\n  phone_office: \"\",\n  age: \"\",\n  address_street: \"\",\n  address_neighborhood: \"\",\n  address_location: \"Colima\",\n  address_state: \"Colima\",\n  address_zip: \"\",\n  done: {\n    purchases: [],\n    brands: [],\n    supplier_of: [],\n    orders: [],\n    exams: [],\n  },\n  analytics: {\n    purchases: 0,\n    exams: 0,\n    brands: 0,\n    suppliers: 0,\n    orders: 0,\n  },\n  metadata: {\n    created_at: \"\",\n    updated_at: \"\",\n    deleted_at: \"\",\n    created: \"\",\n    updated: \"--\",\n  },\n  validates: {\n    name: false,\n    email: false,\n    birthday: false,\n    phones: false,\n  },\n  activity: [],\n  loading: false,\n};\n\n/**\n * DEFAULT COMPONENT\n */\nexport default function AddContact(props) {\n  const { id } = props.match.params;\n  const { handleNewOrEdit: _handleNewOrEdit, showModal = false } = props;\n  const _contacts = useContact();\n  const [contact, setContact] = useState(initialState);\n  const {\n    done: { purchases, brands, supplier_of, orders, exams },\n    analytics,\n    metadata,\n  } = contact;\n  const history = useHistory();\n  let btn_enabled =\n    Object.values(contact.validates).filter((val) => val).length === 4;\n\n  // Functions\n  const handleChangeData = (key, value) => {\n    if (!key) return;\n\n    if (contact[key] === value) {\n      return;\n    }\n\n    setContact({\n      ...contact,\n      [key]: value,\n    });\n  };\n  const handleSaveContact = () => {\n    const data = {\n      id: contact.id,\n      name: contact.name,\n      rfc: contact.rfc,\n      gender: contact.gender,\n      email: contact.email,\n      type: contact.type,\n      business: contact.business,\n      birthday: contact.birthday.format(\"YYYY/MM/DD\"),\n      phones: {\n        notices: contact.phone_notices,\n        cell: contact.phone_cell,\n        office: contact.phone_office,\n      },\n      domicilio: {\n        street: contact.address_street,\n        neighborhood: contact.address_neighborhood,\n        location: contact.address_location,\n        state: contact.address_state,\n        zip: contact.address_zip,\n      },\n    };\n\n    window.Swal.fire({\n      title: \"Contactos\",\n      text: data.id\n        ? \"¿Desea actualizar a este contacto?\"\n        : \"¿Desea crear un nuevo contacto?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonText: data.id ? \"Actualizar\" : \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        _contacts.saveContact(data).then((res) => {\n          if (res?.id) {\n            console.log(\"[Orus System] Create contatc successfully\", res.id);\n            _handleNewOrEdit();\n            history.push(\"/contactos\");\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      _contacts.getContact(parseInt(id)).then((data) => {\n        processData(data, setContact);\n      });\n    }\n  }, [id]);\n\n  return (\n    <>\n      {contact.id ? (\n        <Dashboard analytics={analytics} metadata={metadata} />\n      ) : null}\n\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          {metadata.deleted_at ? (\n            <div className=\"alert alert-warning\">\n              <h4 className=\"alert-heading\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Precaucion!\n              </h4>\n              <p>\n                Este contacto fue eliminado por {contact.updated?.name} el{\" \"}\n                {moment(contact.deleted_at).format(\"LLLL\")}\n              </p>\n            </div>\n          ) : null}\n          <div className=\"card card-indigo card-outline\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title text-indigo\">\n                <i className=\"fas fa-address-book mr-1\"></i>\n                {contact.id ? (\n                  <label>\n                    Editar contacto\n                    <span className=\"badge bg-indigo ml-2\">{contact.id}</span>\n                  </label>\n                ) : (\n                  <label>Registrar nuevo contacto</label>\n                )}\n              </h3>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                  Datos personales\n                </h6>\n                <Personal\n                  data={contact}\n                  handleChange={handleChangeData}\n                  fn={_contacts}\n                />\n              </div>\n              <div className=\"row mt-5 border-top pt-5\">\n                <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                  Medios de contacto <span className=\"text-orange\">*</span>\n                  {!contact.validates.phones && (\n                    <small className=\"d-block w-100\">\n                      <span className=\"text-orange\">\n                        Ingrese por lo menos un telefono\n                      </span>\n                    </small>\n                  )}\n                </h6>\n                <Telefono data={contact} handleChange={handleChangeData} />\n              </div>\n              {!contact.type ? (\n                <div className=\"row mt-5 border-top pt-5\">\n                  <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                    Domicilios del contacto\n                  </h6>\n                  <Domicilio\n                    data={contact}\n                    domicilios={\n                      contact.address ?? {\n                        calle: \"\",\n                        colonia: \"\",\n                        municipio: \"\",\n                        estado: \"\",\n                        cp: \"\",\n                      }\n                    }\n                    handleChange={handleChangeData}\n                  />\n                </div>\n              ) : null}\n            </div>\n            <div className=\"card-footer\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <div className=\"btn-group float-right\" role=\"group\">\n                    <button\n                      className=\"btn btn-default\"\n                      type=\"button\"\n                      onClick={() => {\n                        history.push(\"/contactos\");\n                        _handleNewOrEdit();\n                      }}\n                    >\n                      <i\n                        className={\n                          contact.id\n                            ? \"fas fa-arrow-left mr-2\"\n                            : \"fas fa-ban mr-2\"\n                        }\n                      ></i>\n                      <strong>{contact.id ? \"Cerrar\" : \"Cancelar\"}</strong>\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"btn bg-indigo\"\n                      onClick={() => handleSaveContact()}\n                      disabled={!btn_enabled}\n                    >\n                      <i className=\"fas fa-save mr-1\"></i>\n                      {contact.id ? \"Actualizar\" : \"Guardar\"}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            {contact.loading && (\n              <div className=\"overlay dark\">\n                <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      {contact.id ? (\n        <div className=\"content\" id=\"details\">\n          <div className=\"row\">\n            {!contact.type && (\n              <div className=\"col\">\n                <CardExams exams={exams} />\n              </div>\n            )}\n\n            {purchases.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-money-bill mr-1\"></i>\n                      Compras\n                    </h5>\n                    <ListSales sales={purchases} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {brands.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-copyright mr-1\"></i>\n                      Marcas\n                    </h5>\n                    <ListBrands brands={brands} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {supplier_of.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-building mr-1\"></i>\n                      Laboratorio\n                    </h5>\n                    <ListOrders orders={supplier_of ?? []} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {orders.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-shopping-basket mr-1\"></i>\n                      Pedidos\n                    </h5>\n                    <ListOrders orders={orders ?? []} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n          </div>\n          {Boolean(contact.activity.length) && (\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <Activitys data={contact.activity} />\n              </div>\n            </div>\n          )}\n        </div>\n      ) : null}\n      {showModal && (\n        <Confirm body={dataBodyConfirm(10)} handleCancel={() => {}} />\n      )}\n    </>\n  );\n}\n\nfunction processData(data, setData) {\n  if (data) {\n    const birthday = moment(data.metadata?.birthday);\n    const today = moment();\n    const diff = today.diff(birthday, \"days\");\n\n    setData({\n      id: data.id,\n      name: data.name?.toLowerCase(),\n      rfc: data.rfc?.toUpperCase(),\n      gender: data.metadata?.gender ? data.metadata?.gender : \"male\",\n      email: data.email?.toLowerCase(),\n      type: data.type,\n      business: data.business,\n      birthday: diff > 0 ? birthday : today,\n      phone_notices: data.phones?.notices,\n      phone_cell: data.phones?.cell,\n      phone_office: data.phones?.office,\n      age: data.age ?? 0,\n      address_street: data.address?.street.toLowerCase(),\n      address_neighborhood: data.address?.neighborhood.toLowerCase(),\n      address_location: data.address?.location.toLowerCase(),\n      address_state: data.address?.state.toLowerCase(),\n      address_zip: data.address?.zip.toLowerCase(),\n      done: {\n        purchases: data.purchases,\n        brands: data.brands,\n        supplier_of: data.supplier_of,\n        orders: data.orders,\n        exams: data.exams,\n      },\n      analytics: {\n        purchases: data.purchases_count,\n        exams: data.exams_count,\n        brands: data.brands_count,\n        suppliers: data.suppliers_count,\n        orders: data.orders_count,\n      },\n      metadata: {\n        created_at: data.created_at ? moment(data.created_at) : moment(),\n        updated_at: data.updated_at ? moment(data.updated_at) : moment(),\n        deleted_at: data.deleted_at ?? \"\",\n        created: data.created?.username.toLowerCase() ?? \"\",\n        updated: data.updated?.username.toLowerCase() ?? \"--\",\n      },\n      validates: {\n        name: data.name?.length > 5,\n        email: helper.isEmail(data.email),\n        birthday: Boolean(moment().diff(data.metadata?.birthday, \"days\") > 0),\n        phones: Boolean(\n          Object.values(data.phones ?? {}).filter(\n            (phone) => phone.length === 10\n          ).length\n        ),\n      },\n      activity: data.activity ?? [],\n      loading: false,\n    });\n  }\n}\n\nfunction dataBodyConfirm(id_exam) {\n  return (\n    <div>\n      <p className=\"text-center\">¿Realmente desea ver el examen?</p>\n      <div className=\"text-center\">\n        <Link to={`/consultorio/${id_exam}`} className=\"btn btn-primary\">\n          Confirmar\n        </Link>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport { ContactContext } from \"../context/ContactContext\";\nimport ToolsBar from \"../components/Contacts/ToolsBar\";\nimport Inbox from \"../components/Contacts/Inbox\";\nimport Add from \"../components/Contacts/Add\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n};\n\nexport default function ContactsComponent(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    newOrEdit: null,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]);\n\n  return (\n    <ContactContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <ToolsBar\n          newOrEdit={state.newOrEdit}\n          handleNewOrEdit={() =>\n            setState({\n              ...state,\n              newOrEdit: !state.newOrEdit,\n            })\n          }\n        />\n        {typeof state.newOrEdit === \"boolean\" ? (\n          <div className=\"col-sm-12 col-md-8 col-lg-10\">\n            {state.newOrEdit ? (\n              <Add\n                {...props}\n                handleNewOrEdit={() =>\n                  setState({ ...state, newOrEdit: !state.newOrEdit })\n                }\n              />\n            ) : (\n              <Inbox />\n            )}\n          </div>\n        ) : (\n          <p>Loading component</p>\n        )}\n      </div>\n    </ContactContext.Provider>\n  );\n}\n","import { useState, useContext } from \"react\";\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n//import helper from \"../helpers\";\n\nexport default function BranchsListComponent() {\n\n  const [data, setData] = useState({\n    showForm: false,\n    id: 0,\n    name: \"\",\n    address: \"\",\n    phone: \"\",\n  });\n  \n/*   const options = {\n    page: 1,\n    name: \"branches\",\n    itemsPage: 10,\n  }; */\n\n  const configContext = useContext(ConfigContext);\n\n  const branches = configContext.data.filter((item)=>item.name === 'branches');\n\n  //Actions\n  const handleUpdateConfig = ({ id, values, data }) => {\n      setData({\n        ...data,\n        showForm: true,\n        id,\n        //TODO: Destructuramoos data, Cambiamos values por data, validamos si existen [name, address, phone] evitar toString //\n        name: data.name?.toString().toLowerCase(),\n        address: data.address?.toString().toLowerCase(),\n        phone: data.phone?.toString().toLowerCase(),\n      });\n    },\n\n    handleCancelForm = () =>\n      setData({\n        ...data,\n        showForm: false,\n        id: 0,\n        name: \"\",\n        address: \"\",\n        phone: \"\",\n      }),\n\n    handleNewBranch = () => setData({ ...data, showForm: true }),\n\n    handleChangeValue = ({ name, value }) => {\n      setData({\n        ...data,\n        [name]: value.toString().toLowerCase(),\n      });\n    },\n\n    handleSendDataForm = (e) => {\n      e.preventDefault();\n    };\n\n\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title d-block mb-2\">\n          <i className=\"fas fa-store mr-1\"></i>\n          Sucursales\n        </h5>\n\n        {data.showForm ? (\n          <form className=\"card-text m-2 mt-4\" onSubmit={handleSendDataForm}>\n            <div className=\"form-group\">\n              <label>Nombre de la sucursal</label>\n              <input\n                type=\"text\"\n                placeholder=\"Escriba el nombre de la sucursal\"\n                className=\"form-control\"\n                name=\"name\"\n                defaultValue={data.name}\n                onChange={({ target }) => handleChangeValue(target)}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Domicilio</label>\n              <input\n                type=\"text\"\n                placeholder=\"Escriba el domicilio de la sucursal\"\n                className=\"form-control\"\n                name=\"address\"\n                defaultValue={data.address}\n                onChange={({ target }) => handleChangeValue(target)}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Telefono</label>\n              <input\n                type=\"phone\"\n                placeholder=\"Escriba el telefono de la sucursal\"\n                className=\"form-control\"\n                name=\"phone\"\n                defaultValue={data.phone}\n                onChange={({ target }) => handleChangeValue(target)}\n                maxLength={10}\n              />\n            </div>\n            <div className=\"form-group text-right\">\n              <button\n                type=\"button\"\n                className=\"btn btn-link\"\n                onClick={handleCancelForm}\n              >\n                Cancelar\n              </button>\n              <button type=\"submit\" className=\"btn btn-dark ml-2\">\n                Guardar\n              </button>\n            </div>\n          </form>\n        ) : (\n          <div className=\"table-responsive\">\n            <table className=\"table table-striped table-sm\">\n              <thead>\n                <tr>\n                  <th>Nombre</th>\n                  <th>Domicilio</th>\n                  <td>\n                    <span className=\"sr-only\">Acciones</span>\n                  </td>\n                </tr>\n              </thead>\n              <tbody>\n                {branches.map((branch) => (\n                  branch.name !== 'bank' ? (\n                    <tr key={branch.id}>\n                    <td className=\"text-capitalize\">{branch.data.name}</td>\n                    <td className=\"text-truncate text-capitalize\">\n                      {branch.data.address ?? \"--\"}\n                    </td>\n                    <td className=\"text-right\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-sm btn-primary ml-1\"\n                        onClick={() => handleUpdateConfig(branch)}\n                      >\n                        <i className=\"fas fa-edit\"></i>\n                      </button>\n                    </td>\n                  </tr>\n                  ) : null\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n      <div className=\"card-footer text-right\">\n        <button\n          className=\"btn btn-primary btn-sm\"\n          disabled={data.showForm}\n          onClick={handleNewBranch}\n        >\n          <i className=\"fas fa-plus\"></i>\n        </button>\n      </div>\n    </div>\n  );\n}\n","import { useState, useContext } from \"react\";\nimport BranchsList from '../components/Tools/views/Branchs';\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function ToolsComponent(){\n\n  const { auth } = useContext(AuthContext);\n\n  const varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\n  const [state, setState] = useState({\n    server: varLocalStorage.host ? varLocalStorage.host : \"\",\n    company:  varLocalStorage.company ? varLocalStorage.company : \"\",\n    email: auth.email ? auth.email : \"\",\n    name: auth.name ? auth.name : \"\",\n    username: auth.username ? auth.username : \"\",\n    password: \"\",\n    category_list: [],\n  });\n\n  const clickSave = () => {\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    varLocalStorage.company = state.company;\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage));\n  },\n\n  clickSaveUser = () => {\n\n    //TODO: Ejecutar llamada a la API para actualizar el usuario\n\n\n    //Variables en localStorage\n    /* let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    varLocalStorage.email = state.email;\n    varLocalStorage.name = state.name;\n    varLocalStorage.username = state.username;\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage)); */\n  },\n  \n  catchInputs = (e) => {\n    const { name, value } = e.target;\n    setState({\n      [name]: value.toLowerCase(),\n    });\n  };\n\n  return (\n    <div className=\"row\" style={{height:'100vh'}}>\n      <div className=\"col-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Generales</h5>\n            <p>&nbsp;</p>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-server\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Servidor\"\n                name=\"server\"\n                value={state.server}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-building\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control text-capitalize\"\n                placeholder=\"Nombre de la empresa\"\n                name=\"company\"\n                value={state.company}\n                onChange={catchInputs}\n              />\n            </div>\n          </div>\n          <div className=\"card-footer text-right\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={clickSave}\n            >\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n\n\n      <div className=\"col-lg-6 col-sm-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Usuario</h5>\n            <p>&nbsp;</p>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-at\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Email\"\n                name=\"email\"\n                value={state.email}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-user-tag\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control text-capitalize\"\n                placeholder=\"Nombre completo\"\n                name=\"name\"\n                value={state.name}\n                onChange={catchInputs}\n              />\n            </div>\n            <hr />\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-user-check\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Usuario\"\n                name=\"username\"\n                value={state.username}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-lock\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Contraseña\"\n                name=\"password\"\n                value={state.password}\n                onChange={catchInputs}\n              />\n            </div>\n          </div>\n          <div className=\"card-footer text-right\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={clickSaveUser}\n            >\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"col-lg-6 col-md-12 col-sm-12\">\n        <BranchsList />\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const ExamContext = createContext(null);\nexport const Exams = () => useContext(ExamContext);\n","import DatePicker, { registerLocale } from \"react-datepicker\";\nimport moment from \"moment\";\n\nimport SideBar from \"../../pages/partials/SideBar\";\nimport { Exams } from \"../../context/ExamContext\";\nimport { Config } from \"../../context/ConfigContext\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function ToolBar({ newOrEdit, handleNewOrEdit }) {\n  const context = Exams();\n  const config = Config();\n  const branches = config.data?.filter((b = {}) => b.name === \"branches\");\n  const date = context.options?.date ? moment(context.options.date) : moment();\n\n  return (\n    <div className=\"col-sm-12 col-md-2 d-print-none\">\n      <button\n        className=\"btn bg-info btn-block mb-3\"\n        type=\"button\"\n        disabled={newOrEdit}\n        onClick={handleNewOrEdit}\n      >\n        <i className=\"fas fa-plus mr-1\"></i>\n        Nuevo examen\n      </button>\n\n      <SideBar title=\"Filtros\">\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"orderby\">Ordenar por</label>\n          <select\n            className=\"form-control\"\n            id=\"orderby\"\n            defaultValue={context.options?.orderby}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  orderby: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"created_at\">Fecha de registro</option>\n            <option value=\"updated_at\">Fecha de modificacion</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"date\">Fecha</label>\n          <DatePicker\n            className={`form-control`}\n            locale=\"es\"\n            selected={new Date(date.format(\"YYYY/MM/DD\"))}\n            dateFormat=\"dd/MM/yyyy\"\n            maxDate={new Date()}\n            placeholderText=\"Seleccione una fecha\"\n            onSelect={(date) => {\n              if (date) {\n                date = date.toLocaleDateString(\"es-MX\");\n                date = moment(date, \"DD/MM/YYYY\");\n\n                if (date.isValid()) {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      date: date.format(\"YYYY/MM/DD\"),\n                    },\n                  });\n                }\n              }\n            }}\n            onChange={(date) => {\n              if (date) {\n                date = date.toLocaleDateString(\"es-MX\");\n                date = moment(date, \"DD/MM/YYYY\");\n\n                if (date.isValid()) {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      date: date.format(\"YYYY/MM/DD\"),\n                    },\n                  });\n                }\n              }\n            }}\n          />\n          <button\n            type=\"button\"\n            className=\"btn btn-info btn-block text-bold mt-1\"\n            onClick={(e) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  date: \"\",\n                },\n              });\n            }}\n          >\n            <i className=\"fas fa-trash mr-1\"></i>\n            Borrar fecha\n          </button>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"order\">Mostrar por</label>\n          <select\n            className=\"form-control\"\n            id=\"order\"\n            value={context.options?.order}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  order: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"asc\">Antiguos</option>\n            <option value=\"desc\">Recientes</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"itemsPage\">Numero de examenes</label>\n          <select\n            className=\"form-control\"\n            id=\"itemsPage\"\n            value={context.options?.itemsPage}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  itemsPage: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"25\">ver 25</option>\n            <option value=\"50\">ver 50</option>\n            <option value=\"75\">ver 75</option>\n            <option value=\"100\">ver 100</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"status\">Estado</label>\n          <select\n            className=\"form-control\"\n            id=\"status\"\n            value={context.options?.status}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  status: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"\">-- Todos --</option>\n            <option value=\"1\">Solo terminados</option>\n            <option value=\"0\">En proceso</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"status\">Sucursales</label>\n          <select\n            className=\"form-control text-capitalize\"\n            id=\"branch\"\n            value={context.options?.branch}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  branch: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"all\">-- Todas --</option>\n            {branches?.map((branch) => (\n              <option value={branch.id} key={branch.id}>\n                {branch.data?.name}\n              </option>\n            ))}\n          </select>\n        </li>\n      </SideBar>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useExam() {\n  const getExams = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"exams\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contacts list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n\n  const getExam = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"exams\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contact in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n\n  const deleteExam = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"exams\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete contact in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n\n\n  const saveExam = async (data) => {\n\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"exams\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\"[Orus System] Catch when update exam in hook\");\n          return err;\n        });\n    } else {\n      const url = setUrl(\"exams\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\"[Orus System] Catch when create exam in hook\");\n          return err;\n        });\n    }\n  };\n\n  return {\n    getExams,\n    getExam,\n    deleteExam,\n    saveExam,\n  };\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\n\n//Context\nimport { Exams } from \"../../context/ExamContext\";\n\n//Components\nimport Inbox from \"../../layouts/list_inbox\";\nimport useExam from \"../../hooks/useExam\";\n\nexport default function InboxExams() {\n  const context = Exams();\n  const _exam = useExam();\n  const history = useHistory();\n  const [state, setState] = useState({\n    list: [],\n    meta: {},\n    loading: false,\n    examSelected: {},\n  });\n\n  // Functions\n  const handleLoadExams = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n\n    _exam.getExams(context.options).then((res) => {\n      if (res.data) {\n        setState({\n          ...state,\n          list: res.data,\n          meta: res.meta,\n          loading: false,\n          examSelected: {},\n        });\n      }\n    });\n  };\n  const handleStatus = (exam) => {\n    if (exam?.id) {\n      _exam\n        .saveExam({\n          id: exam.id,\n          status: !exam.status,\n          contact_id: exam.customer?.id,\n        })\n        .then((res) => {\n          if (res.id) handleLoadExams();\n          else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.error(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n    } else if (state.examSelected?.id) {\n      _exam\n        .saveExam({\n          id: state.examSelected.id,\n          status: !state.examSelected.status,\n          contact_id: state.examSelected.customer?.id,\n        })\n        .then((res) => {\n          if (res.id) handleLoadExams();\n          else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.error(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n    } else {\n      console.error(\n        \"[Orus System] When get id of exam:\",\n        exam,\n        state.examSelected\n      );\n      window.Swal.fire({\n        title: \"Consultorio\",\n        text: \"Lo sentimos no existe un examen seleccionado\",\n        icon: \"warning\",\n        showConfirmButton: false,\n        timer: 3000,\n      });\n    }\n  };\n\n  useEffect(() => {\n    handleLoadExams();\n  }, [context.options]);\n\n  return (\n    <Inbox\n      title=\"Lista de examenes\"\n      icon=\"notes-medical\"\n      color=\"info\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.examSelected?.id}\n      handlePagination={(page) => {\n        if (page) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              page,\n            },\n          });\n        }\n      }}\n      handleSearch={(search) => {\n        if (search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search,\n              page: 1,\n            },\n          });\n        } else if (context.options.search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search: \"\",\n              page: 1,\n            },\n          });\n        }\n      }}\n      handleDeleteItem={() => {\n        if (state.examSelected?.id) {\n          window.Swal.fire({\n            title: \"Consultorio\",\n            text: \"¿Desea eliminar el examen?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Eliminar\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              _exam.deleteExam(state.examSelected.id).then(() => {\n                handleLoadExams();\n              });\n            } else {\n              setState({\n                ...state,\n                examSelected: {},\n              });\n            }\n          });\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un examen seleccionado\",\n            icon: \"error\",\n            timer:3000,\n          });\n        }\n      }}\n      handleEditItem={() => {\n        if (state.examSelected?.id) {\n          history.push(`consultorio/${state.examSelected.id}`);\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un examen seleccionado\",\n            icon: \"error\",\n          });\n        }\n      }}\n      handleSync={handleLoadExams}\n      handleStatus={handleStatus}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Estado</th>\n            <th>ESF</th>\n            <th>CIL</th>\n            <th>EJE</th>\n            <th>ADC</th>\n            <th>MED</th>\n            <th>DP</th>\n            <th>ALT</th>\n            <th>\n              {context.options?.orderby === \"created_at\"\n                ? \"Registrado\"\n                : \"Actualizado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.list?.length ? (\n            <>\n              {state.list?.map((exam) => {\n                return (\n                  <tr key={exam.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        id={\"exam_\" + exam.id}\n                        checked={\n                          state.examSelected?.id === exam.id ? true : false\n                        }\n                        disabled={exam.estado || exam.orders?.length}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            examSelected: target.checked ? exam : \"\",\n                          });\n                        }}\n                      />\n                      <label\n                        htmlFor={\"exam_\" + exam.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td className=\"mailbox-name text-capitalize text-truncate\">\n                      <a\n                        href=\"#edit\"\n                        onClick={(e) => {\n                          e.preventDefault();\n                          history.push(`consultorio/${exam.id}`);\n                        }}\n                      >\n                        <span\n                          className={\n                            exam.status || exam.orders?.length\n                              ? \"text-muted\"\n                              : \"text-dark text-bold\"\n                          }\n                        >\n                          <i className=\"fas fa-user text-sm mr-2\"></i>\n                          {exam.customer?.name.toLowerCase()}\n                        </span>\n                      </a>\n                    </td>\n                    <td\n                      className=\"text-center\"\n                      style={{ cursor: \"pointer\" }}\n                      onClick={() => handleStatus(exam)}\n                    >\n                      {exam.status ? (\n                        <i\n                          className=\"fas fa-clipboard-check text-muted\"\n                          title=\"Terminado\"\n                        ></i>\n                      ) : (\n                        <i\n                          className=\"fas fa-clipboard text-info\"\n                          title=\"En proceso\"\n                        ></i>\n                      )}\n                    </td>\n                    <td>\n                      {exam.esferaod}/{exam.esferaoi}\n                    </td>\n                    <td>\n                      {exam.cilindrod}/{exam.cilindroi}\n                    </td>\n                    <td>\n                      {exam.ejeod}/{exam.ejeoi}\n                    </td>\n                    <td>\n                      {exam.adiciond}/{exam.adicioni}\n                    </td>\n                    <td>\n                      {exam.adicion_media_od}/{exam.adicion_media_oi}\n                    </td>\n                    <td>\n                      {exam.dpod}/{exam.dpoi}\n                    </td>\n                    <td>\n                      {exam.alturaod}/{exam.alturaoi}\n                    </td>\n                    <td>\n                      {moment(\n                        context.options?.orderby === \"created_at\"\n                          ? exam.created_at\n                          : exam.updated_at\n                      ).fromNow()}\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"12\">\n                No hay examenes registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Inbox>\n  );\n}\n","export default function GeneralesExam(props) {\n  const catchInputs = (e) => {\n    const { name, type, checked, value } = e.target;\n    const val = type === \"checkbox\" ? checked : value.toLowerCase();\n\n    props.handleGetData(name, val);\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"pc\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"pc\"\n              checked={props.pc}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"pc\">\n              <i className=\"fas fa-desktop\"></i> PC\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"pc_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.pc_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.pc ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"tablet\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"tablet\"\n              checked={props.tablet}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"tablet\">\n              <i className=\"fas fa-tablet-alt\"></i> Tablet\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"tablet_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.tablet_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.tablet ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"movil\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"movil\"\n              checked={props.movil}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"movil\">\n              <i className=\"fas fa-mobile-alt\"></i> Telefono\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"movil_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.movil_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.movil ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"lap\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"lap\"\n              checked={props.lap}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"lap\">\n              <i className=\"fas fa-laptop\"></i> Laptop\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"lap_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.lap_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.lap ? \"\" : \"readonly\"}\n          />\n        </div>\n      </div>\n      <div className=\"row mt-1\">\n        <div className=\"col-md-6\">\n          <ul className=\"list-group\">\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"frontal\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"frontal\"\n                  checked={props.frontal}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"frontal\">\n                  Frontal\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"occipital\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"occipital\"\n                  checked={props.occipital}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"occipital\">\n                  Occipital\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"generality\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"generality\"\n                  checked={props.generality}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"generality\">\n                  General\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"cefalea\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"cefalea\"\n                  checked={props.cefalea}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"cefalea\">\n                  Cefalea\n                </label>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div className=\"col-md-6\">\n          <ul className=\"list-group\">\n            <li className=\"list-group-item\">\n              Temporal\n              <br />\n              <div className=\"row mt-2\">\n                <div className=\"col\">\n                  <div className=\"custom-control custom-switch\">\n                    <input\n                      name=\"temporaod\"\n                      type=\"checkbox\"\n                      className=\"custom-control-input\"\n                      id=\"temporaod\"\n                      checked={props.temporaod}\n                      onChange={catchInputs}\n                    />\n                    <label className=\"custom-control-label\" htmlFor=\"temporaod\">\n                      <i className=\"fa fa-eye\"></i> Derecho\n                    </label>\n                  </div>\n                </div>\n                <div className=\"col\">\n                  <div className=\"custom-control custom-switch\">\n                    <input\n                      name=\"temporaoi\"\n                      type=\"checkbox\"\n                      className=\"custom-control-input\"\n                      id=\"temporaoi\"\n                      checked={props.temporaoi}\n                      onChange={catchInputs}\n                    />\n                    <label className=\"custom-control-label\" htmlFor=\"temporaoi\">\n                      <i className=\"fa fa-eye\"></i> Izquierdo\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              Frecuencia\n              <span className=\"badge badge-pill\">\n                <input\n                  type=\"text\"\n                  name=\"c_frecuencia\"\n                  maxLength=\"60\"\n                  className=\"form-control input-xs\"\n                  defaultValue={props.c_frecuencia ?? \"\"}\n                  onChange={catchInputs}\n                />\n              </span>\n            </li>\n            <li className=\"list-group-item\">\n              <label htmlFor=\"c_intensidad\">Intensidad</label>\n              <div className=\"row\">\n                <div className=\"col-11\">\n                  <input\n                    type=\"range\"\n                    name=\"c_intensidad\"\n                    className=\"custom-range custom-range-info\"\n                    id=\"c_intensidad\"\n                    min=\"0\"\n                    max=\"4\"\n                    defaultValue={props.c_intensidad ?? \"\"}\n                    onChange={catchInputs}\n                  />\n                </div>\n                <div className=\"col-1\">\n                  <h6>{props.c_intensidad}</h6>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { Component } from \"react\";\n\nexport default class InterrogatorioExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Interrogatorio inicial</label>\n            <textarea\n              name=\"interrogatorio\"\n              className=\"form-control\"\n              defaultValue={this.props.interrogatorio ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Cirugias oculares</label>\n            <textarea\n              name=\"coa\"\n              className=\"form-control\"\n              defaultValue={this.props.coa ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Antecedentes oculares patologicas personales</label>\n            <textarea\n              name=\"aopp\"\n              className=\"form-control\"\n              rows=\"2\"\n              defaultValue={this.props.aopp ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Antecedentes oculares patologicas familiares</label>\n            <textarea\n              name=\"aopf\"\n              className=\"form-control\"\n              rows=\"2\"\n              defaultValue={this.props.aopf ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React from \"react\";\n\nconst KeraRetExamComponent = (props) => {\n  const catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    props.onChangeInput(name, value);\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-6\">Keratometria</div>\n        <div className=\"col-6\">Retinoscopia</div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-3\">\n          <i className=\"fas fa-eye\"></i> <label>Derecho</label>\n          <input\n            type=\"text\"\n            name=\"keratometriaod\"\n            maxLength=\"12\"\n            className=\"form-control input-xs\"\n            defaultValue={props.keratometriaod ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-3\">\n          <i className=\"fas fa-eye\"></i> <label>Izquierdo</label>\n          <input\n            type=\"text\"\n            name=\"keratometriaoi\"\n            maxLength=\"12\"\n            className=\"form-control input-xs\"\n            defaultValue={props.keratometriaoi ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n          <input\n            type=\"text\"\n            name=\"rsod\"\n            maxLength=\"16\"\n            className=\"form-control\"\n            defaultValue={props.rsod ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n          <input\n            type=\"text\"\n            name=\"rsoi\"\n            maxLength=\"16\"\n            className=\"form-control\"\n            defaultValue={props.rsoi ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default KeraRetExamComponent;\n","import React, { Component } from \"react\";\n\nexport default class DiabetesExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-8\">\n            <label>Diab&eacute;tico</label>\n          </div>\n          <div className=\"col-md-4\">\n            <label>Fotocoagulaci&oacute;n laser</label>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">Fecha</div>\n          <div className=\"col-2\">Rango de glucosa</div>\n          <div className=\"col-3\">Ultimo examen</div>\n          <div className=\"col-2\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"d_fclod\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"d_fclod\"\n                checked={this.props.d_fclod}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"d_fclod\">\n                <i className=\"fa fa-eye\"></i> Derecho\n              </label>\n            </div>\n          </div>\n          <div className=\"col-2\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"d_fcloi\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"d_fcloi\"\n                checked={this.props.d_fcloi}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"d_fcloi\">\n                <i className=\"fa fa-eye\"></i> Izquierdo\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <input\n              type=\"date\"\n              name=\"d_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_time ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_media\"\n              className=\"form-control\"\n              defaultValue={this.props.d_media ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <input\n              type=\"date\"\n              name=\"d_test\"\n              className=\"form-control\"\n              defaultValue={this.props.d_test ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_fclod_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_fclod_time ?? \"\"}\n              onChange={this.catchInputs}\n              readOnly={this.props.d_fclod ? \"\" : \"readonly\"}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_fcloi_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_fcloi_time ?? \"\"}\n              onChange={this.catchInputs}\n              readOnly={this.props.d_fcloi ? \"\" : \"readonly\"}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Oftalmoscopia</label>\n            <textarea\n              name=\"oftalmoscopia\"\n              className=\"form-control\"\n              defaultValue={this.props.oftalmoscopia ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class AgudezaExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-6\">Capacidad visual</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"cvod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.cvod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"cvoi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.cvoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-md-6\">Agudeza visual (Sin lentes)</div>\n          <div className=\"col-md-6\">\n            Agudeza visual (con la graduaci&oacute;n anterior)\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"avslod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avslod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"avsloi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avsloi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"avcgaod\"\n              maxLength=\"12\"\n              className=\"form-control input-xs\"\n              defaultValue={this.props.avcgaod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"avcgaoi\"\n              maxLength=\"12\"\n              className=\"form-control input-xs\"\n              defaultValue={this.props.avcgaoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6\">Agudeza visual final</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avfod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avfod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avfoi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avfoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-4\">\n            <i className=\"fa fa-eye\"></i>\n            <i className=\"fa fa-eye\"></i> <label>Ambos</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avf2o\"\n              maxLength=\"25\"\n              className=\"form-control\"\n              defaultValue={this.props.avf2o ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class DiagnosticoExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-6\"></div>\n          <div className=\"col-md-6\">Tensi&oacute;n ocular</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            Diagnostico\n            <select\n              name=\"diagnostico\"\n              className=\"form-control\"\n              defaultValue={this.props.diagnostico ?? \"\"}\n              onChange={this.catchInputs}\n            >\n              <option value=\"Emetrope\">Em&eacute;trope</option>\n              <option value=\"hipermetropia\">Hipermetrop&iacute;a</option>\n              <option value=\"hipermetropia-astigmatismo\">\n                Hipermetrop&iacute;a y astigmatismo\n              </option>\n              <option value=\"hipermetropia-miopia\">\n                Hipermetrop&iacute;a y miop&iacute;a\n              </option>\n              <option value=\"astigmatismo-regla\">\n                Astigmatismo con la regla\n              </option>\n              <option value=\"astigmatismo-contra-regla\">\n                Astigmatismo contra la regla\n              </option>\n              <option value=\"astigmatismo-oblicuo\">Astigmatismo oblicuo</option>\n              <option value=\"astigmatismo-miopia\">\n                Astigmatismo/m&iacute;opico\n              </option>\n              <option value=\"miopia\">Miop&iacute;a</option>\n            </select>\n          </div>\n          <div className=\"col-md-3\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"presbicie\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"presbicie\"\n                checked={this.props.presbicie}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"presbicie\">\n                Presbicie\n              </label>\n            </div>\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"number\"\n              name=\"piod\"\n              min=\"0\"\n              max=\"40\"\n              step=\"1\"\n              className=\"form-control\"\n              defaultValue={this.props.piod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"number\"\n              name=\"pioi\"\n              min=\"0\"\n              max=\"40\"\n              step=\"1\"\n              className=\"form-control\"\n              defaultValue={this.props.pioi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Tratamiento oftalmico</label>\n            <textarea\n              name=\"txoftalmico\"\n              className=\"form-control\"\n              defaultValue={this.props.txoftalmico ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import { Component } from \"react\";\n\nexport default class GraduacionExamComponent extends Component {\n  render() {\n    const {\n      readOnly = false,\n      cilindrod,\n      cilindroi,\n      esferaod,\n      esferaoi,\n      ejeod,\n      ejeoi,\n      adiciond,\n      adicioni,\n      adicion_media_od,\n      adicion_media_oi,\n      dpod,\n      dpoi,\n      alturaod,\n      alturaoi,\n      lcmarca,\n      lcgod,\n      lcgoi,\n      showContactGlasses = true,\n    } = this.props;\n\n    return (\n      <>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Esfera</th>\n              <th>Cilindro</th>\n              <th>Eje</th>\n              <th>Adici&oacute;n</th>\n              <th>Adici&oacute;n media</th>\n              <th>D/P</th>\n              <th>Altura</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <i className=\"fa fa-eye mr-1\" title=\"Ojo derecho\"></i>\n                <span className=\"text-sm d-block\">Derecho</span>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"esferaod\"\n                  min=\"-20\"\n                  max=\"20\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={esferaod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{esferaod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"cilindrod\"\n                  min=\"-20\"\n                  max=\"0\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={cilindrod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{cilindrod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"ejeod\"\n                  min=\"0\"\n                  max=\"180\"\n                  step=\"1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  placeholder=\"°\"\n                  defaultValue={ejeod ? parseInt(ejeod) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{ejeod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adiciond\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adiciond ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{adiciond ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicion_media_od\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicion_media_od ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">\n                  {adicion_media_od ?? \"\"}\n                </h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"dpod\"\n                  min=\"40\"\n                  max=\"80\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={dpod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{dpod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"alturaod\"\n                  min=\"0\"\n                  max=\"35\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={alturaod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{alturaod ?? \"\"}</h5>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <i className=\"fa fa-eye ml-1\" title=\"Ojo izquierdo\"></i>\n                <span className=\"text-sm d-block\">Izquierdo</span>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"esferaoi\"\n                  min=\"-20\"\n                  max=\"20\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={esferaoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{esferaoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"cilindroi\"\n                  min=\"-20\"\n                  max=\"0\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={cilindroi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{cilindroi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"ejeoi\"\n                  min=\"0\"\n                  max=\"180\"\n                  step=\"1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  placeholder=\"°\"\n                  defaultValue={ejeoi ? parseInt(ejeoi) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{ejeoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicioni\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicioni ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{adicioni ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicion_media_oi\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicion_media_oi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">\n                  {adicion_media_oi ?? \"\"}\n                </h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"dpoi\"\n                  min=\"40\"\n                  max=\"80\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={dpoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{dpoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"alturaoi\"\n                  min=\"0\"\n                  max=\"35\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={alturaoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{alturaoi ?? \"\"}</h5>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        {showContactGlasses && (\n          <ul className=\"list-group d-print-none mt-4\">\n            <li className=\"list-group-item\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  Lente de contacto\n                  <input\n                    type=\"text\"\n                    name=\"lcmarca\"\n                    maxLength=\"70\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcmarca ?? \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n                  <input\n                    type=\"text\"\n                    name=\"lcgod\"\n                    maxLength=\"30\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcgod ? lcgod : \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n                <div className=\"col\">\n                  <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n                  <input\n                    type=\"text\"\n                    name=\"lcgoi\"\n                    maxLength=\"30\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcgoi ? lcgoi : \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n              </div>\n            </li>\n          </ul>\n        )}\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name, type, value, checked } = e.target,\n      { onChangeInput } = this.props;\n    let val = value;\n\n    if (type === \"checkbox\") val = checked;\n    if (type === \"text\") val = value.toLowerCase();\n    if (type === \"number\") {\n      if (name === \"ejeod\" || name === \"ejeoi\") {\n        val = parseInt(value);\n      } else {\n        val = parseFloat(value);\n        val = val.toFixed(2);\n        val = parseFloat(val);\n      }\n    }\n    if (onChangeInput) onChangeInput(name, val);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class ObservacionesExam extends Component {\n  render() {\n    return (\n      <>\n        <label htmlFor=\"observaciones\">Observaciones</label>\n        <textarea\n          name=\"observaciones\"\n          id=\"observaciones\"\n          className=\"form-control\"\n          defaultValue={this.props.observaciones ?? \"\"}\n          onChange={this.catchInputs}\n        ></textarea>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import moment from \"moment\";\n\nconst handleTypeInput = (key) => {\n  if (\n    key === \"pc\" ||\n    key === \"tablet\" ||\n    key === \"movil\" ||\n    key === \"lap\" ||\n    key === \"pc_time\" ||\n    key === \"tablet_time\" ||\n    key === \"movil_time\" ||\n    key === \"lap_time\" ||\n    key === \"frontal\" ||\n    key === \"occipital\" ||\n    key === \"generality\" ||\n    key === \"cefalea\" ||\n    key === \"temporaod\" ||\n    key === \"temporaoi\" ||\n    key === \"c_frecuencia\" ||\n    key === \"c_intensidad\"\n  ) {\n    return \"generales\";\n  }\n  if (\n    key === \"interrogatorio\" ||\n    key === \"coa\" ||\n    key === \"aopp\" ||\n    key === \"aopf\"\n  ) {\n    return \"interrogatorios\";\n  }\n  if (\n    key === \"keratometriaod\" ||\n    key === \"keratometriaoi\" ||\n    key === \"rsod\" ||\n    key === \"rsoi\"\n  ) {\n    return \"keraRet\";\n  }\n  if (\n    key === \"d_time\" ||\n    key === \"d_media\" ||\n    key === \"d_test\" ||\n    key === \"d_fclod\" ||\n    key === \"d_fclod_time\" ||\n    key === \"d_fcloi\" ||\n    key === \"d_fcloi_time\"\n  ) {\n    return \"diabetes\";\n  }\n  if (\n    key === \"cvod\" ||\n    key === \"cvoi\" ||\n    key === \"avslod\" ||\n    key === \"avsloi\" ||\n    key === \"avcgaod\" ||\n    key === \"avcgaoi\" ||\n    key === \"avfod\" ||\n    key === \"avfoi\" ||\n    key === \"avf2o\"\n  ) {\n    return \"agudeza\";\n  }\n  if (\n    key === \"diagnostico\" ||\n    key === \"presbicie\" ||\n    key === \"piod\" ||\n    key === \"pioi\" ||\n    key === \"txoftalmico\"\n  ) {\n    return \"diagnostico\";\n  }\n  if (\n    key === \"esferaod\" ||\n    key === \"esferaoi\" ||\n    key === \"cilindrod\" ||\n    key === \"cilindroi\" ||\n    key === \"ejeod\" ||\n    key === \"ejeoi\" ||\n    key === \"adiciond\" ||\n    key === \"adicioni\" ||\n    key === \"adicion_media_od\" ||\n    key === \"adicion_media_oi\" ||\n    key === \"dpod\" ||\n    key === \"dpoi\" ||\n    key === \"alturaod\" ||\n    key === \"alturaoi\" ||\n    key === \"lcmarca\" ||\n    key === \"lcgod\" ||\n    key === \"lcgoi\"\n  ) {\n    return \"graduacion\";\n  }\n  if (key === \"observaciones\") {\n    return \"observaciones\";\n  }\n\n  return null;\n};\nconst handleCodeName = (category) => {\n  let code = \"\";\n  if (category.parent) {\n    if (category.parent.parent) {\n      code = category.parent.parent.meta.code;\n      code += category.parent.meta.code;\n      code += category.meta.code;\n    } else {\n      code = category.parent.meta.code;\n      code += category.meta.code;\n    }\n  } else {\n    code = category.meta.code;\n  }\n\n  return code;\n};\nconst getCodeGrad = (category, esferaod, esferaoi, cilindrod, cilindroi) => {\n  const code = Object.keys(category).length ? handleCodeName(category) : null;\n\n  if (!code) return {};\n\n  let gradod = \"+000000\",\n    gradoi = \"+000000\";\n\n  if (cilindrod || esferaod) {\n    gradod = esferaod > 0 ? \"+\" : \"\";\n    gradod +=\n      esferaod.toFixed(2).toString().replace(\".\", \"\") +\n      cilindrod.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\n  }\n  if (cilindroi || esferaoi) {\n    gradoi = esferaoi > 0 ? \"+\" : \"\";\n    gradoi +=\n      esferaoi.toFixed(2).toString().replace(\".\", \"\") +\n      cilindroi.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\n  }\n\n  return {\n    code,\n    od: gradod,\n    oi: gradoi,\n  };\n};\n//Quickly save exam with a button\nconst handleSaveExam = (contact, id = 0, _save) => {\n  const examToday = contact.examenes.filter(\n    (exam) =>\n      moment(exam.created_at).diff(moment(), \"days\") === 0 || !exam.estado\n  );\n\n  if (examToday.length && !id) {\n    window.Swal.fire({\n      title: \"Examenes\",\n      text: \"Existe un examen activo o del dia\",\n      icon: \"error\",\n    });\n    console.error(\"[OrusSystem] Examenes activos:\", examToday.length);\n    return false;\n  }\n\n  //Confirmación de almacenamiento\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `¿Esta seguro de actualizar este examen?`\n      : \"¿Esta seguro de crear un nuevo examen?\",\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        id: 0,\n        data: {\n          edad: contact.edad,\n          contact_id: contact.id,\n        },\n      });\n    }\n  });\n};\n\nconst toExportActions = {\n  handleTypeInput,\n  handleCodeName,\n  getCodeGrad,\n  handleSaveExam,\n};\n\nexport default toExportActions;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport useCategory from \"../../../hooks/useCategory\";\nimport helper from \"../helpers\";\n\nexport default function RecomendationGlass(props) {\n  const [state, setState] = useState({\n    category_list: [],\n    category_list_2: [],\n    category_list_3: [],\n    category_id_1: 0,\n    category_id_2: 0,\n    category_id_3: 0,\n    category: {},\n    codesItems: {},\n  });\n  const _category = useCategory();\n  const {\n      category_id,\n      title,\n      esferaod,\n      esferaoi,\n      cilindrod,\n      cilindroi,\n      handleCodesItems,\n    } = props,\n    {\n      codesItems,\n      category_id_1,\n      category_id_2,\n      category_id_3,\n      category_list_2,\n      category_list_3,\n      category_list,\n    } = state;\n  // Functions\n  const handleCategoryChange = (e) => {\n    const { name, value } = e.target,\n      { onChangeInput: _onChangeInput } = props;\n\n    switch (name) {\n      case \"category_id_1\":\n        for (const key in category_list) {\n          if (category_list[key].id === parseInt(value)) {\n            setState({\n              ...state,\n              category_id_1: parseInt(value),\n              category_id_3: 0,\n              category_list_2: category_list[key].sons,\n              category_list_3: [],\n            });\n            break;\n          }\n        }\n        break;\n      case \"category_id_2\":\n        if (value) {\n          state.category_list_2.map((cat) => {\n            if (cat.id === parseInt(value)) {\n              setState({\n                ...state,\n                category_id_2: parseInt(value),\n                category_list_3: cat.sons,\n              });\n            }\n            return null;\n          });\n        }\n        break;\n      case \"category_id_3\":\n        _onChangeInput(parseInt(value));\n        break;\n\n      default:\n        setState({\n          ...state,\n          [name]: parseInt(value),\n        });\n        break;\n    }\n  };\n  const handleClickCategory = (e) => {\n    e.preventDefault();\n    const { onChangeInput } = props;\n    setState({\n      ...state,\n      category_list_2: [],\n      category_list_3: [],\n      category_id_1: 0,\n      category_id_2: 0,\n      category_id_3: 0,\n      category: {},\n      codesItems: {},\n    });\n    onChangeInput(0);\n  };\n  const getCategory = async (id) => {\n    if (id) {\n      _category.getCategory(id).then((cat) => {\n        if (cat.id) {\n          setState({\n            ...state,\n            category: cat,\n          });\n        } else {\n          console.error(\"[DEBUG] NEW ERROR\", cat);\n        }\n      });\n    }\n\n    return {};\n  };\n  const getCategories = async () => {\n    _category\n      .getCategories({\n        categoryid: \"raiz\",\n        search: \"lentes\",\n        order: \"id\",\n      })\n      .then(({ data: cat }) => {\n        setState({\n          ...state,\n          category_list: cat[0].sons,\n        });\n      });\n  };\n\n  useEffect(() => {\n    if (category_id) {\n      getCategory(category_id);\n    } else {\n      getCategories();\n    }\n  }, [category_id]);\n\n  useEffect(() => {\n    if (state.category.id) {\n      const data = helper.getCodeGrad(\n        state.category,\n        esferaod,\n        esferaoi,\n        cilindrod,\n        cilindroi\n      );\n\n      setState({\n        ...state,\n        codesItems: data,\n      });\n    }\n  }, [state.category]);\n\n  return (\n    <div className=\"card border border-info rounded d-print-none\">\n      <div className=\"card-body\">\n        <h3 className=\"card-title text-success m-2\">{title}</h3>\n        {!category_id && (\n          <>\n            {category_list.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Tipo</span>\n                </div>\n                <select\n                  name=\"category_id_1\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_1 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el tipo --</option>\n                  {category_list.map((cat) => {\n                    if (\n                      cat.meta &&\n                      cat.meta.rangoInf <= esferaod &&\n                      esferaod <= cat.meta.rangoSup &&\n                      cat.meta.rangoInf <= esferaoi &&\n                      esferaoi <= cat.meta.rangoSup &&\n                      cat.meta.cil <= cilindrod &&\n                      cat.meta.cil <= cilindroi\n                    ) {\n                      return (\n                        <option value={cat.id} key={cat.id}>\n                          {cat.name}\n                        </option>\n                      );\n                    } else return null;\n                  })}\n                </select>\n              </div>\n            ) : null}\n\n            {category_id_1 && category_list_2.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Material</span>\n                </div>\n                <select\n                  name=\"category_id_2\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_2 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el material --</option>\n                  {category_list_2.map((cat) => {\n                    if (\n                      cat.meta &&\n                      cat.meta.rangoInf <= esferaod &&\n                      esferaod <= cat.meta.rangoSup &&\n                      cat.meta.rangoInf <= esferaoi &&\n                      esferaoi <= cat.meta.rangoSup\n                    ) {\n                      return (\n                        <option value={cat.id ?? \"\"} key={cat.id}>\n                          {cat.name}\n                        </option>\n                      );\n                    } else return false;\n                  })}\n                </select>\n              </div>\n            ) : null}\n\n            {category_id_1 && category_id_2 && category_list_3.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Tratamiento</span>\n                </div>\n                <select\n                  name=\"category_id_3\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_3 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el tratamiento --</option>\n                  {category_list_3.map((cat) => {\n                    return (\n                      <option value={cat.id ?? \"\"} key={cat.id}>\n                        {cat.name}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n            ) : null}\n          </>\n        )}\n\n        {Object.values(codesItems).length ? (\n          <>\n            {codesItems.code + codesItems.od ===\n            codesItems.code + codesItems.oi ? (\n              <p className=\"card-text\">\n                <label>Lente</label>: {codesItems.code + codesItems.od}\n              </p>\n            ) : (\n              <div className=\"row card-text\">\n                <div className=\"col\">\n                  <label>Lente Derecho</label>\n                  <br /> {codesItems.code + codesItems.od}\n                </div>\n                <div className=\"col\">\n                  <label>Lente Izquierdo</label>\n                  <br /> {codesItems.code + codesItems.oi}\n                </div>\n              </div>\n            )}\n\n            {handleCodesItems && (\n              <p className=\"card-text text-right\">\n                <button\n                  className=\"btn btn-info\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    handleCodesItems({\n                      code: codesItems.code,\n                      od: codesItems.od,\n                      oi: codesItems.oi,\n                    });\n                  }}\n                >\n                  <i className=\"fas fa-check mr-2\"></i>Siguiente\n                </button>\n              </p>\n            )}\n\n            {props.update ? (\n              <p className=\"card-text text-right\">\n                <button\n                  className=\"btn btn-outline-info btn-sm card-link mt-2\"\n                  onClick={handleClickCategory}\n                >\n                  Cambiar\n                </button>\n              </p>\n            ) : null}\n          </>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport moment from \"moment\";\nimport useContact from \"../../../hooks/useContact\";\n\nimport helper from \"../helper\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function CardNewContact(props) {\n  const { title = \"contacto\", nameDefault, messages = [] } = props;\n  const [data, setData] = useState({\n    name: \"\",\n    phone: \"\",\n    birthday: moment(),\n    email: \"\",\n    gender: \"female\",\n  });\n\n  const hookContact = useContact();\n\n  const handleValidForm = (showMsg = false) => {\n    const verify = helper.handleVerificationData(data, showMsg);\n    return verify.result;\n  };\n\n  const handleSave = () => {\n    const valid = handleValidForm(true),\n      body = {\n        ...data,\n        phones: { cell: data.phone },\n        type: 0,\n        business: 0,\n      };\n    if (!valid) return false;\n\n    hookContact.saveContact(body).then((data) => {\n      if (data?.id) {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Usuario guardado correctamente\",\n          showConfirmButton: false,\n          showCancelButton: false,\n          timer: 3000,\n        }).then(({ dissmiss }) => {\n          if (!dissmiss) {\n            props.handleResult(data);\n          }\n        });\n      } else {\n        window.Swal.fire({\n          icon: \"errror\",\n          title: \"Error al guardar el usuario\",\n          showConfirmButton: false,\n          showCancelButton: false,\n          timer: 3000,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (nameDefault) {\n      setData({\n        ...data,\n        name: nameDefault,\n      });\n    }\n  }, []);\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-primary text-bold\">\n              <i className=\"fas fa-plus mr-2\"></i>\n              Crear nuevo {title}\n            </h5>\n            <button\n              type=\"button\"\n              className=\"close\"\n              onClick={props.handleCancel}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            {messages.length ? (\n              <>\n                {messages.map((message, index) => {\n                  const { type, text } = message;\n\n                  return (\n                    <div\n                      className={`alert alert-${\n                        type === \"error\"\n                          ? \"danger\"\n                          : type === \"success\"\n                          ? type\n                          : \"warning\"\n                      }`}\n                      key={index}\n                    >\n                      <i className=\"fas fa-info mr-1\"></i>\n                      {text}\n                    </div>\n                  );\n                })}\n              </>\n            ) : null}\n            <div className=\"form-group\">\n              <label>Nombre del {title}</label>\n              <input\n                type=\"text\"\n                className=\"form-control text-uppercase\"\n                placeholder={`Nombre del ${title}`}\n                autoComplete=\"off\"\n                required=\"required\"\n                pattern=\"^[a-zA-Z.]{2,20}[\\s]{1}[a-zA-Z.]{2,20}.*\"\n                minLength=\"8\"\n                defaultValue={data.name}\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    name: target.value.toLowerCase(),\n                  });\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>E-mail</label>\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                defaultValue={data.email}\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    email: target.value.toLowerCase(),\n                  });\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Telefono celular</label>\n              <input\n                type=\"tel\"\n                placeholder=\"Telefono celular\"\n                className=\"form-control\"\n                maxLength=\"10\"\n                value={data.phone}\n                onChange={({ target }) => {\n                  if (!isNaN(target.value)) {\n                    setData({\n                      ...data,\n                      phone: target.value,\n                    });\n                  }\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Fecha de naciemiento</label>\n\n              <DatePicker\n                className={`form-control`}\n                locale=\"es\"\n                selected={new Date(data.birthday.format(\"YYYY/MM/DD\"))}\n                dateFormat=\"dd/MM/yyyy\"\n                maxDate={new Date()}\n                placeholderText=\"Seleccione una fecha\"\n                onSelect={(date) => {\n                  if (date) {\n                    date = date.toLocaleDateString(\"es-MX\");\n                    date = moment(date, \"DD/MM/YYYY\");\n\n                    if (date.isValid()) {\n                      setData({\n                        ...data,\n                        birthday: date,\n                      });\n                    }\n                  }\n                }}\n                onChange={(date) => {\n                  if (date) {\n                    date = date.toLocaleDateString(\"es-MX\");\n                    date = moment(date, \"DD/MM/YYYY\");\n\n                    if (date.isValid()) {\n                      setData({\n                        ...data,\n                        birthday: date,\n                      });\n                    }\n                  }\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Género</label>\n              <select\n                className=\"custom-select\"\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    gender: target.value,\n                  });\n                }}\n                defaultValue={data.gender}\n              >\n                <option value=\"male\">Hombre</option>\n                <option value=\"female\">Mujer</option>\n              </select>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <div className=\"btn-group\">\n              {props.handleCancel && (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default\"\n                  onClick={props.handleCancel}\n                >\n                  <i className=\"fas fa-ban mr-1\"></i>\n                  cancelar\n                </button>\n              )}\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={handleSave}\n              >\n                <i className=\"fas fa-save\"></i>\n                Guardar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","export default function Autocomplete(props) {\n  return (\n    <div\n      className=\"position-absolute overflow-auto\"\n      style={{\n        left: props.left ?? \"0rem\",\n        height: !props.showNew ? \"12rem\" : \"0rem\",\n        zIndex: \"10\",\n        width: \"100%\",\n        maxWidth: props.maxWidth ?? \"30rem\",\n      }}\n    >\n      <ul className=\"list-group\">\n        {props.contacts.length ? (\n          <>\n            {props.contacts.map((contact) => {\n              if (contact.id === 2) {\n                return (\n                  <li\n                    key={contact.id}\n                    className=\"list-group-item text-capitalize\"\n                  >\n                    <i className=\"fas fa-user mr-1 text-secondary\"></i>\n                    {contact.name.toLowerCase()}\n                  </li>\n                );\n              } else {\n                return (\n                  <li\n                    key={contact.id}\n                    className=\"list-group-item text-capitalize\"\n                  >\n                    <a\n                      href=\"#selecte\"\n                      className=\"text-indigo\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        props.handleSelected(contact);\n                      }}\n                    >\n                      <i className=\"fas fa-user mr-1\"></i>\n                      {contact.name.toLowerCase()}\n                    </a>\n                  </li>\n                );\n              }\n            })}\n            {props.meta?.total > props.meta?.per_page ? (\n              <li className=\"list-group-item text-muted\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Existen mas registros, sea mas espesifico\n              </li>\n            ) : null}\n          </>\n        ) : props.meta?.total === 0 && props.handleNew ? (\n          <li className=\"list-group-item\">\n            <a\n              href=\"·create\"\n              onClick={(e) => {\n                e.preventDefault();\n                props.handleNew();\n              }}\n            >\n              <i className=\"fas fa-info-circle mr-1 text-dark\"></i>\n              <label>El {props.title}:</label>\n              <span className=\"text-uppercase text-dark font-weight-bold ml-1\">\n                {props.text}\n              </span>\n              , no existe.\n              <span className=\"badge badge-dark ml-2\">Registrar</span>\n            </a>\n          </li>\n        ) : null}\n      </ul>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useRef, useState } from \"react\";\n\nimport Easycontact from \"./CardNewContact\";\nimport Autocomplete from \"./Autocomplete\";\n\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function ShowCardSearch(props) {\n  const [state, setState] = useState({\n    search: \"\",\n    contacts: [],\n    meta: {},\n    new: false,\n    newName: \"\",\n    loading: false,\n    timer: \"\",\n  });\n  const _contacts = useContact();\n  const input = useRef();\n  // Functions\n  const handleSearch = () => {\n    setState({\n      ...state,\n      timer: \"\",\n      loading: true,\n    });\n    _contacts\n      .getContacts({\n        search: state.search,\n        itemsPage: 10,\n      })\n      .then((res) => {\n        if (res.data) {\n          setState({\n            ...state,\n            contacts: res.data,\n            meta: res.meta,\n            loading: false,\n          });\n        } else {\n          const messages = Object.values(res.errors);\n\n          console.error(\"[Orus System] Message of server:\", res.errors);\n          window.Swal.fire({\n            title: \"Contactos\",\n            text: messages[0],\n            icon: \"error\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n\n          setState({\n            ...state,\n            contacts: [],\n            meta: {},\n            loading: false,\n          });\n        }\n      });\n  };\n\n  useEffect(() => {\n    let toTimer = null;\n    if (state.search.length >= 3) {\n      if (state.timer) clearTimeout(state.timer);\n      toTimer = setTimeout(() => handleSearch(), 2000);\n      setState({\n        ...state,\n        timer: toTimer,\n        contacts: [],\n        meta: {},\n      });\n    } else if (!state.search.length) {\n      if (state.timer) clearTimeout(state.timer);\n      setState({\n        ...state,\n        timer: null,\n        contacts: [],\n        meta: {},\n        loading: false,\n      });\n    }\n  }, [state.search]);\n\n  return (\n    <>\n      <input\n        type=\"text\"\n        className=\"form-control text-uppercase\"\n        defaultValue={state.search}\n        onChange={({ target }) => {\n          setState({\n            ...state,\n            search: target.value?.toLowerCase(),\n          });\n        }}\n        disabled={state.loading}\n        onKeyDown={({ key }) => {\n          if (key === \"Escape\") {\n            setState({\n              ...state,\n              contacts: [],\n              search: \"\",\n            });\n            input.current.value = \"\";\n          } else if (key === \"Enter\") {\n            if (state.timer) clearTimeout(state.timer);\n            handleSearch();\n            setState({\n              ...state,\n              timer: null,\n            });\n          }\n        }}\n        ref={input}\n      />\n\n      {state.loading && (\n        <div className=\"float-right px-4\">\n          <div className=\"spinner-border text-indigo\"></div>\n        </div>\n      )}\n\n      {state.new && (\n        <Easycontact\n          title={props.title}\n          nameDefault={state.newName}\n          handleCancel={(e) => {\n            setState({\n              ...state,\n              new: false,\n              newName: \"\",\n            });\n          }}\n          handleResult={(contact) => {\n            setState({\n              ...state,\n              new: false,\n              newName: \"\",\n            });\n            props.handleSelectContact(contact);\n          }}\n        />\n      )}\n\n      {state.search.length > 2 && !state.loading && (\n        <div className=\"w-100 d-block position-static\">\n          <Autocomplete\n            contacts={state.contacts}\n            text={state.search}\n            meta={state.meta}\n            title={props.title}\n            left=\"6rem\"\n            maxWidth=\"28rem\"\n            handleNew={(e) => {\n              setState({\n                ...state,\n                contacts: [],\n                search: \"\",\n                new: true,\n                newName: state.search,\n              });\n              input.current.value = \"\";\n            }}\n            handleSelected={(contact) => {\n              props.handleSelectContact(contact);\n\n              setState({\n                ...state,\n                contacts: [],\n                search: \"\",\n              });\n              input.current.value = \"\";\n            }}\n          />\n        </div>\n      )}\n    </>\n  );\n}\n","import { useHistory } from \"react-router-dom\";\nimport Search from \"./ShowCardSearch\";\n\nexport default function ShowContactComponent(props) {\n  const { data = {}, readOnly = false, title = \"contacto\", legend } = props;\n  const history = useHistory();\n\n  return (\n    <div className=\"w-100 d-block\">\n      {legend && !data.id && (\n        <span className=\"text-sm text-muted ml-4 w-100 d-block\">\n          <label>Primero:</label> {legend}\n        </span>\n      )}\n\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className=\"input-group-text text-capitalize\">\n            <i className=\"fas fa-user mr-2\"></i> {title}\n          </span>\n        </div>\n\n        \n        {data.id ? (\n          <>\n            <span className=\"form-control bg-light\">\n              {data.name.toUpperCase()}\n              <span className=\"badge badge-secondary mx-1\">\n                <i className=\"fas fa-envelope mr-1\"></i>\n                {data.email ? data.email : \"--\"}\n              </span>\n              <span className=\"badge badge-secondary ml-1\">\n                <i className=\"fas fa-calendar mr-1\"></i>\n                {data.age ? `${data.age} años` : \"--\"}\n              </span>\n            </span>\n            {!readOnly && (\n              <div className=\"float-right\">\n                <div className=\"btn-group btn-sm d-print-none\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary btn-sm\"\n                    onClick={() => {\n                      window.Swal.fire({\n                        title: \"Contactos\",\n                        text: `¿Esta seguro de cambiar de ${props.title}?`,\n                        icon: \"question\",\n                        showCancelButton: true,\n                        // confirmButtonColor: \"#d33\",\n                        confirmButtonText: \"Cambiar\",\n                        cancelButtonText: \"Cancelar\",\n                        showLoaderOnConfirm: true,\n                      }).then(({ dismiss }) => {\n                        if (!dismiss) {\n                          props.handleContactSelect({ id: 0 });\n                          //props.handleContactSelect();\n                        }\n                      });\n                    }}\n                    title=\"Cambiar\"\n                  >\n                    <i className=\"fas fa-exchange-alt\"></i>\n                  </button>\n                  <button\n                    className=\"btn bg-indigo btn-sm\"\n                    onClick={() => history.push(`/contactos/${data.id}`)}\n                    title=\"Editar\"\n                  >\n                    <i className=\"fas fa-edit\"></i>\n                  </button>\n                </div>\n              </div>\n            )}\n          </>\n        ) : (\n          <Search\n            title={title}\n            handleSelectContact={(contact) => {\n              props.handleContactSelect(contact);\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n","export default function SideBarRigth({ state, handle: _handle }) {\n  return (\n    <div className=\"nav flex-column nav-tabs\">\n      <a\n        className={!state.panel ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(0);\n        }}\n      >\n        <i\n          className={\n            state.generales\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Generales\n      </a>\n\n      <a\n        className={state.panel === 1 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(1);\n        }}\n      >\n        <i\n          className={\n            state.interrogatorios\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Interrogatorio\n      </a>\n\n      <a\n        className={state.panel === 2 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(2);\n        }}\n      >\n        <i\n          className={\n            state.keraRet\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Keratometria\n      </a>\n\n      <a\n        className={state.panel === 3 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(3);\n        }}\n      >\n        <i\n          className={\n            state.diabetes\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Diabetes\n      </a>\n\n      <a\n        className={state.panel === 4 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(4);\n        }}\n      >\n        <i\n          className={\n            state.agudeza\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Agudeza\n      </a>\n\n      <a\n        className={state.panel === 5 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(5);\n        }}\n      >\n        <i\n          className={\n            state.diagnostico\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Diagnostico\n      </a>\n\n      <a\n        className={state.panel === 6 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(6);\n        }}\n      >\n        <i\n          className={\n            state.graduacion\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Graduación\n      </a>\n\n      <a\n        className={state.panel === 7 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(7);\n        }}\n      >\n        <i\n          className={\n            state.observaciones\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Observaciones\n      </a>\n\n      <a\n        className={state.panel === 8 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(8);\n        }}\n      >\n        <i\n          className={\n            state.recomendaciones\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Recomendaciones\n      </a>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n\n\n//Componentes\nimport Generales from \"./views/GeneralesExam\";\nimport Interrogatorios from \"./views/interrogatoriosExam\";\nimport KeraRet from \"./views/keraRetExam\";\nimport Diabetes from \"./views/diabetesExam\";\nimport Agudeza from \"./views/agudezaExam\";\nimport Diagnostico from \"./views/diagnosticoExam\";\nimport Graduacion from \"./views/graduacionExam\";\nimport Observaciones from \"./views/observacionesExam\";\nimport Recomendaciones from \"./views/RecomendationGlass\";\nimport ShowContact from \"../Contacts/views/ShowCard\";\nimport SideBarRigth from \"./views/SideBarRigth\";\nimport useExam from \"../../hooks/useExam\";\nimport Activitys from \"../Activitys\";\n\nexport default function Add(props) {\n  const [state, setState] = useState({\n    ...getDataDefault(),\n    loading: false,\n    panel: 0,\n    used: {\n      generales: false,\n      interrogatorios: false,\n      keraRet: false,\n      diabetes: false,\n      agudeza: false,\n      diagnostico: false,\n      graduacion: false,\n      observaciones: false,\n      recomendaciones: false,\n    },\n    activitys:[],\n  });\n\n\n\n  const { id } = props.match.params;\n  const _exams = useExam();\n  const history = useHistory();\n\n  // Functions\n  const handlePanel = (num) => {\n    if (isNaN(num)) return;\n    if (typeof num === \"string\") num = parseInt(num);\n\n    setState({\n      ...state,\n      panel: num,\n    });\n  };\n  const handleSave = () => {\n    const data = {\n      ...state,\n    };\n    const { contact } = data;\n    delete data.loading;\n    delete data.panel;\n    delete data.used;\n    delete data.contact;\n    if (!data.category_ii) delete data.category_ii;\n    if (!data.category_id) delete data.category_id;\n\n    if (\n      (data.cilindrod < 0 && !data.ejeod) ||\n      (data.cilindroi < 0 && !data.ejeoi)\n    ) {\n      window.Swal.fire(\n        \"Consultorio\",\n        \"El campo CILINDRO esta vacio\",\n        \"warning\"\n      );\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Consultorio\",\n      text: data.id\n        ? `¿Desea actualizar el examen de ${contact.name.toUpperCase()}?`\n        : `¿Desea crear un nuevo examen para ${contact.name.toUpperCase()}?`,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonText: data.id ? \"Actualizar\" : \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        _exams.saveExam(data).then((res) => {\n          if (res?.id) {\n            console.log(\"[Orus System] Save exam successfully\", res.id);\n            props.handleNewOrEdit();\n            history.push(\"/consultorio\");\n          } else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.error(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      console.log(\"[Orus System] Loading exam:\", id);\n      setState({\n        ...state,\n        loading: false,\n      });\n      _exams.getExam(id).then((res) => {\n        res.category_ii = res.category_ii?.id;\n        res.category_id = res.category_id?.id;\n\n        setState({\n          ...getDataDefault(res),\n          loading: false,\n          panel: 0,\n          used: {\n            generales: true,\n            interrogatorios: true,\n            keraRet: true,\n            diabetes: true,\n            agudeza: true,\n            diagnostico: true,\n            graduacion: true,\n            observaciones: true,\n            recomendaciones: true,\n          },\n          activitys: res.activity ?? [],\n        });\n      });\n    }\n  }, [id]);\n\n  return (\n    <>\n      <div className=\"card card-info card-outline d-print-none\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title text-info\">\n            <i className=\"fas fa-notes-medical mr-1\"></i>\n            {state.id ? (\n              <label>\n                Examen <span className=\"badge badge-info\">#{state.id}</span>\n              </label>\n            ) : (\n              \"Nuevo examen\"\n            )}\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"form-group\">\n            <ShowContact\n              readOnly={state.id ? true : false}\n              title=\"paciente\"\n              legend=\"Busque el paciente por nombre para crear un nuevo examen\"\n              left=\"6.5rem\"\n              data={state.contact}\n              handleContactSelect={(doc) => {\n                setState({\n                  ...state,\n                  contact: doc,\n                  contact_id: doc.id,\n                });\n              }}\n            />\n          </div>\n\n          {state.contact?.id ? (\n            <div className=\"row\">\n              <div className=\"col-2\">\n                <SideBarRigth\n                  state={{ panel: state.panel, ...state.used }}\n                  handle={handlePanel}\n                />\n              </div>\n              <div className=\"col-10\">\n                {!state.panel ? (\n                  <Generales\n                    pc={state.pc ?? \"\"}\n                    tablet={state.tablet ?? \"\"}\n                    movil={state.movil ?? \"\"}\n                    lap={state.lap ?? \"\"}\n                    lap_time={state.lap_time ?? \"\"}\n                    pc_time={state.pc_time ?? \"\"}\n                    tablet_time={state.tablet_time ?? \"\"}\n                    movil_time={state.movil_time ?? \"\"}\n                    cefalea={state.cefalea ?? \"\"}\n                    c_frecuencia={state.c_frecuencia ?? \"\"}\n                    c_intensidad={state.c_intensidad ?? \"\"}\n                    frontal={state.frontal ?? \"\"}\n                    temporal={state.temporal ?? \"\"}\n                    occipital={state.occipital ?? \"\"}\n                    generality={state.generality ?? \"\"}\n                    temporaoi={state.temporaoi ?? \"\"}\n                    temporaod={state.temporaod ?? \"\"}\n                    handleGetData={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          generales: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n                {state.panel === 1 ? (\n                  <Interrogatorios\n                    interrogatorio={state.interrogatorio ?? \"\"}\n                    coa={state.coa ?? \"\"}\n                    aopp={state.aopp ?? \"\"}\n                    aopf={state.aopf ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          interrogatorios: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 2 ? (\n                  <KeraRet\n                    keratometriaoi={state.keratometriaoi ?? \"\"}\n                    keratometriaod={state.keratometriaod ?? \"\"}\n                    rsoi={state.rsoi ?? \"\"}\n                    rsod={state.rsod ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          keraRet: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 3 ? (\n                  <Diabetes\n                    d_time={state.d_time ?? \"\"}\n                    d_media={state.d_media ?? \"\"}\n                    d_test={state.d_test ?? \"\"}\n                    d_fclod={state.d_fclod ?? \"\"}\n                    d_fclod_time={state.d_fclod_time ?? \"\"}\n                    d_fcloi={state.d_fcloi ?? \"\"}\n                    d_fcloi_time={state.d_fcloi_time ?? \"\"}\n                    oftalmoscopia={state.oftalmoscopia ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          diabetes: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 4 ? (\n                  <Agudeza\n                    cvod={state.cvod ?? \"\"}\n                    cvoi={state.cvoi ?? \"\"}\n                    avslod={state.avslod ?? \"\"}\n                    avsloi={state.avsloi ?? \"\"}\n                    avcgaod={state.avcgaod ?? \"\"}\n                    avcgaoi={state.avcgaoi ?? \"\"}\n                    avfod={state.avfod ?? \"\"}\n                    avfoi={state.avfoi ?? \"\"}\n                    avf2o={state.avf2o ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          agudeza: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 5 ? (\n                  <Diagnostico\n                    diagnostico={state.diagnostico ?? \"\"}\n                    presbicie={state.presbicie ?? \"\"}\n                    piod={state.piod ?? \"\"}\n                    pioi={state.pioi ?? \"\"}\n                    txoftalmico={state.txoftalmico ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          diagnostico: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 6 ? (\n                  <Graduacion\n                    esferaod={state.esferaod ?? 0}\n                    esferaoi={state.esferaoi ?? 0}\n                    cilindrod={state.cilindrod ?? 0}\n                    cilindroi={state.cilindroi ?? 0}\n                    ejeod={state.ejeod ?? 0}\n                    ejeoi={state.ejeoi ?? 0}\n                    adiciond={state.adiciond ?? 0}\n                    adicioni={state.adicioni ?? 0}\n                    adicion_media_od={state.adicion_media_od ?? 0}\n                    adicion_media_oi={state.adicion_media_oi ?? 0}\n                    dpod={state.dpod ?? 0}\n                    dpoi={state.dpoi ?? 0}\n                    alturaod={state.alturaod ?? 0}\n                    alturaoi={state.alturaoi ?? 0}\n                    lcmarca={state.lcmarca ?? 0}\n                    lcgod={state.lcgod ?? 0}\n                    lcgoi={state.lcgoi ?? 0}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          graduacion: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 7 ? (\n                  <Observaciones\n                    observaciones={state.observaciones ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          observaciones: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 8 ? (\n                  <div className=\"row\">\n                    <div className=\"col\">\n                      <Recomendaciones\n                        category_id={state.category_id ?? null}\n                        esferaod={state.esferaod ?? \"\"}\n                        esferaoi={state.esferaoi ?? \"\"}\n                        cilindrod={state.cilindrod ?? \"\"}\n                        cilindroi={state.cilindroi ?? \"\"}\n                        nameItem=\"item1\"\n                        title=\"Recomendacion principal\"\n                        onChangeInput={(value) => {\n                          setState({\n                            ...state,\n                            category_id: value,\n                            category_ii: 0,\n                            used: {\n                              ...state.used,\n                              recomendaciones: true,\n                            },\n                          });\n                        }}\n                        update={true}\n                      />\n                    </div>\n                    {state.category_id ? (\n                      <div className=\"col\">\n                        <Recomendaciones\n                          category_id={state.category_ii ?? null}\n                          esferaod={state.esferaod ?? \"\"}\n                          esferaoi={state.esferaoi ?? \"\"}\n                          cilindrod={state.cilindrod ?? \"\"}\n                          cilindroi={state.cilindroi ?? \"\"}\n                          nameItem=\"item2\"\n                          title=\"Recomendacion adicional\"\n                          onChangeInput={(value) => {\n                            setState({\n                              ...state,\n                              category_ii: value,\n                              used: {\n                                ...state.used,\n                                recomendaciones: true,\n                              },\n                            });\n                          }}\n                          update={true}\n                        />\n                      </div>\n                    ) : null}\n                  </div>\n                ) : null}\n              </div>\n            </div>\n          ) : null}\n        </div>\n        <div className=\"card-footer text-right\">\n          <div className=\"btn-group\" role=\"group\">\n            <a\n              href=\"#close\"\n              className=\"btn btn-default\"\n              onClick={(e) => {\n                e.preventDefault();\n                history.push(\"/consultorio\");\n                props.handleNewOrEdit();\n              }}\n            >\n              <i\n                className={\n                  state.id ? \"fas fa-arrow-left mr-2\" : \"fas fa-ban mr-2\"\n                }\n              ></i>\n              <strong>{state.id ? \"Cancelar\" : \"Cerrar\"}</strong>\n            </a>\n            {state.id ? (\n              <button\n                className=\"btn btn-default\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  // window.print();\n                }}\n              >\n                <i className=\"fas fa-print mr-2\"></i>\n                Imprimir\n              </button>\n            ) : null}\n            <button\n              type=\"button\"\n              className={\n                state.contact?.id ? \"btn btn-info\" : \"btn btn-info disabled\"\n              }\n              onClick={handleSave}\n              disabled={state.contact?.id ? false : true}\n            >\n              <i className=\"fas fa-save mr-1\"></i>\n              <strong>{state.id ? \"Actualizar\" : \"Guardar\"}</strong>\n            </button>\n          </div>\n        </div>\n      </div>\n      {/* {state.contact?.id && (\n        <PrintExam\n          esferaod={state.esferaod ?? \"\"}\n          esferaoi={state.esferaoi ?? \"\"}\n          cilindrod={state.cilindrod ?? \"\"}\n          cilindroi={state.cilindroi ?? \"\"}\n          ejeod={state.ejeod ?? \"\"}\n          ejeoi={state.ejeoi ?? \"\"}\n          adiciond={state.adiciond ?? \"\"}\n          adicioni={state.adicioni ?? \"\"}\n          adicion_media_od={state.adicion_media_od ?? \"\"}\n          adicion_media_oi={state.adicion_media_oi ?? \"\"}\n          dpod={state.dpod ?? \"\"}\n          dpoi={state.dpoi ?? \"\"}\n          alturaod={state.alturaod ?? \"\"}\n          alturaoi={state.alturaoi ?? \"\"}\n          lcmarca={state.lcmarca ?? \"\"}\n          lcgod={state.lcgod ?? \"\"}\n          lcgoi={state.lcgoi ?? \"\"}\n          diagnostico={state.diagnostico ?? \"\"}\n          paciente={state.contact ?? \"\"}\n          presbicie={state.presbicie ?? \"\"}\n        />\n      )} */}\n\n      {\n        state.activitys.length ? (\n          <Activitys\n            data = {state.activitys}\n          />\n        ): null\n      }\n\n      \n    </>\n  );\n}\n\nfunction getDataDefault(data = {}) {\n  return {\n    id: data.id ?? 0,\n    age: data.customer?.age ?? 0,\n    keratometriaoi: data.keratometriaoi ?? \"\",\n    keratometriaod: data.keratometriaod ?? \"\",\n    pantalleooi: data.pantalleooi ?? \"\",\n    pantalleood: data.pantalleood ?? \"\",\n    interrogatorio: data.interrogatorio ?? \"\",\n    cefalea: data.cefalea ?? 0,\n    c_frecuencia: data.c_frecuencia ?? \"\",\n    c_intensidad: data.c_intensidad ?? 0,\n    frontal: data.frontal ?? 0,\n    temporal: data.temporal ?? 0,\n    occipital: data.occipital ?? 0,\n    generality: data.generality ?? 0,\n    temporaoi: data.temporaoi ?? 0,\n    temporaod: data.temporaod ?? 0,\n    coa: data.coa ?? \"\",\n    aopp: data.aopp ?? \"\",\n    aopf: data.aopf ?? \"\",\n    avsloi: data.avsloi ?? \"\",\n    avslod: data.avslod ?? \"\",\n    avcgaoi: data.avcgaoi ?? \"\",\n    avcgaod: data.avcgaod ?? \"\",\n    cvoi: data.cvoi ?? \"\",\n    cvod: data.cvod ?? \"\",\n    oftalmoscopia: data.oftalmoscopia ?? \"\",\n    rsoi: data.rsoi ?? \"\",\n    rsod: data.rsod ?? \"\",\n    diagnostico: data.diagnostico ?? \"\",\n    presbicie: data.presbicie ?? 0,\n    txoftalmico: data.txoftalmico ?? \"\",\n    esferaoi: data.esferaoi ?? 0,\n    esferaod: data.esferaod ?? 0,\n    cilindroi: data.cilindroi ?? 0,\n    cilindrod: data.cilindrod ?? 0,\n    ejeoi: data.ejeoi ?? 0,\n    ejeod: data.ejeod ?? 0,\n    adicioni: data.adicioni ?? 0,\n    adiciond: data.adiciond ?? 0,\n    adicion_media_oi: data.adicion_media_oi ?? 0,\n    adicion_media_od: data.adicion_media_od ?? 0,\n    dpoi: data.dpoi ?? 0,\n    dpod: data.dpod ?? 0,\n    avfod: data.avfod ?? \"\",\n    avfoi: data.avfoi ?? \"\",\n    avf2o: data.avf2o ?? \"\",\n    lcmarca: data.lcmarca ?? \"\",\n    lcgoi: data.lcgoi ?? \"\",\n    lcgod: data.lcgod ?? \"\",\n    txoptico: data.txoptico ?? \"\",\n    alturaod: data.alturaod ?? 0,\n    alturaoi: data.alturaoi ?? 0,\n    pioi: data.pioi ?? 0,\n    piod: data.piod ?? 0,\n    observaciones: data.observaciones ?? \"\",\n    pc: data.pc ?? 0,\n    tablet: data.tablet ?? 0,\n    movil: data.movil ?? 0,\n    lap: data.lap ?? 0,\n    lap_time: data.lap_time ?? \"00:00\",\n    pc_time: data.pc_time ?? \"00:00\",\n    tablet_time: data.tablet_time ?? \"00:00\",\n    movil_time: data.movil_time ?? \"00:00\",\n    d_time: data.d_time ?? \"\",\n    d_media: data.d_media ?? \"\",\n    d_test: data.d_test ?? \"\",\n    d_fclod: data.d_fclod ?? 0,\n    d_fcloi: data.d_fcloi ?? 0,\n    d_fclod_time: data.d_fclod_time ?? \"00:00\",\n    d_fcloi_time: data.d_fcloi_time ?? \"00:00\",\n    contact: data.customer ?? {},\n    status: data.status ?? 1,\n    contact_id: data.customer?.id,\n    category_id: data.category_id ?? 0,\n    category_ii: data.category_ii ?? 0,\n  };\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport ToolBar from \"../components/Exam/ToolBar\";\nimport Inbox from \"../components/Exam/Inbox\";\nimport Add from \"../components/Exam/Add\";\n\nimport { ExamContext } from \"../context/ExamContext\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  search: \"\",\n  status: \"\",\n  itemsPage: 25,\n  date: \"\",\n  branch: \"all\",\n};\n\nexport default function Exams(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    newOrEdit: null,\n  });\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]);\n\n  return (\n    <ExamContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <ToolBar\n          newOrEdit={state.newOrEdit}\n          handleNewOrEdit={() =>\n            setState({ ...state, newOrEdit: !state?.newOrEdit })\n          }\n        />\n        {typeof state.newOrEdit === \"boolean\" ? (\n          <div className=\"col-sm-12 col-md-10\">\n            {state.newOrEdit ? (\n              <Add\n                {...props}\n                handleNewOrEdit={() =>\n                  setState({ ...state, newOrEdit: !state.newOrEdit })\n                }\n              />\n            ) : (\n              <Inbox />\n            )}\n          </div>\n        ) : (\n          <p>Loading component</p>\n        )}\n      </div>\n    </ExamContext.Provider>\n  );\n}\n","import { createContext, useContext } from \"react\";\n\nexport const SaleContext = createContext(null);\nexport const Sale = () => useContext(SaleContext);","import { useState } from \"react\";\n\nfunction ListItemsModal({\n  items,\n  cantDefault = 1,\n  handleClose: _close,\n  handleSelect: _Select,\n}) {\n\n\n  const [data, setData] = useState({\n    item: null,\n    cant: cantDefault,\n    price: 0,\n  });\n\n  const disabled = data.price <= 0 || isNaN(data.price) ? true : false;\n  \n  //Functions\n  const handleClose = () => {\n      if (_close) _close();\n    },\n\n\n    handleClickItem = (e, item) => {\n      e.preventDefault();\n      setData({\n        ...data,\n        price: item.price,\n        item,\n      });\n    },\n\n    handleSelectItem = () => {\n      const toSend = {\n        ...data,\n        item: {\n          ...data.item,\n          price: data.price,\n        },\n      };\n\n      _Select(toSend);\n\n      setData({\n        item: null,\n        cant: 1,\n        price: 0,\n      });\n      handleClose();\n    },\n\n\n    handleChangeCant = ({ name, value }) => {\n      setData({\n        ...data,\n        [name]: parseInt(value),\n      });\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione un producto</h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              {data.item && data.item.id ? (\n                <>\n                  <div className=\"text-uppercase mb-4\">\n                    {data.item.producto}                  \n                  </div>\n                  <div className=\"form-group row\">\n                    <label className=\"col-2 col-form-label\">Cantidad</label>\n                    {cantDefault < 2 ? (\n                      <div className=\"col\">\n                        <input\n                          type=\"number\"\n                          placeholder=\"Cantidad\"\n                          name=\"cant\"\n                          className=\"form-control\"\n                          defaultValue={data.cant}\n                          onChange={({ target }) => handleChangeCant(target)}\n                        />\n                      </div>\n                    ) : (\n                      <span className=\"col text-lg\">{data.cant}</span>\n                    )}\n                    <label className=\"col-2 col-form-label\">Precio</label>\n                    <div className=\"col\">\n                        <input\n                          type=\"number\"\n                          placeholder=\"Precio\"\n                          name=\"price\"\n                          className=\"form-control\"\n                          defaultValue={data.price.toString()}\n                          onChange={({ target }) => handleChangeCant(target)}\n                        />\n                      </div>\n                  </div>\n                </>\n              ) : (\n                <table className=\"table table-sm\">\n                  <tbody>\n                    {items ? (\n                      <>\n                        {items.length ? (\n                          <>\n                            {items.map((item) => (\n                              <tr key={item.id}>\n                                <td className=\"text-right\">\n                                  <span className=\"badge badge-dark\">\n                                    {item.code}\n                                  </span>\n                                </td>\n                                <td className=\"text-capitalize text-left\">\n                                  <a\n                                    href=\"#select\"\n                                    onClick={(e) => handleClickItem(e, item)}\n                                  >\n                                    {item.name}\n                                  </a>\n                                </td>\n                                <td>${item.price}</td>\n                              </tr>\n                            ))}\n                          </>\n                        ) : (\n                          <tr>\n                            <td>No existen productos para esta coincidencia</td>\n                          </tr>\n                        )}\n                      </>\n                    ) : (\n                      <tr>\n                        <td>\n                          <i className=\"fas fa-info-circle mr-1\"></i> No se\n                          recibieron los productos\n                        </td>\n                      </tr>\n                    )}\n                  </tbody>\n                </table>\n              )}\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={handleClose}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleSelectItem}\n              disabled = { disabled }\n            >\n              <i className=\"fas fa-check mr-1\"></i>\n              Seleccionar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ListItemsModal;\n","const confirm = (text, _make) => {\n  window.Swal.fire({\n    title: \"Ventas\",\n    text,\n    icon: \"warning\",\n    showCancelButton: true,\n    confirmButtonText: \"Aceptar\",\n    cancelButtonText: \"Cancelar\",\n  }).then(({ dismiss }) => {\n    if (!dismiss) {\n      if (_make) _make();\n    }\n  });\n};\n\nconst getMethodName = (status) => {\n  switch (status) {\n    case 1:\n      return \"efectivo\";\n    case 2:\n      return \"tarjeta debito\";\n    case 3:\n      return \"tarjeta Credito\";\n    case 4:\n      return \"la marina\";\n    case 5:\n      return \"cheque\";\n    case 6:\n      return \"transferencia\";\n    default:\n      return \"otro\";\n  }\n};\n\n//TODO:GET SESSION(ERROR VARIABLE)//\nconst getSession = () => {\n  return (\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(10)\n  );\n};\n\nconst getForPay = (items, payments, discount = 0) => {\n  if (!items || !Array.isArray(items) || !items.length) {\n    return 0;\n  }\n\n  if (!Array.isArray(payments)) {\n    payments = [];\n  }\n\n  const paid = payments.reduce((b, p) => b + p.total, 0);\n  const total = items.reduce((b, p) => b + p.subtotal, 0);\n\n  return total - paid - discount;\n};\n\nconst getSubTotal = (items) => {\n  if (!items || !items.length) {\n    return 0;\n  }\n\n  return items.reduce((b, p) => b + p.subtotal, 0);\n};\n\nconst getTotal = (subtotal, discount) => {\n  return subtotal - discount;\n};\n\nconst getPagado = (payments = []) => {\n  if (!payments || !payments.length) {\n    return 0;\n  }\n  return payments.reduce((b, p) => b + p.total, 0);\n};\n\nconst toExport = {\n  confirm,\n  getMethodName,\n  getSession,\n  getForPay,\n  getSubTotal,\n  getTotal,\n  getPagado,\n};\n\nexport default toExport;\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Components\nimport ListModal from \"./ListItemsModal\";\n\n//Hooks\nimport useProducts from \"../../../hooks/useProducts\";\n\n//Helper\nimport helper from \"../helpers\";\n\nfunction InputSearchItem() {\n  //State\n  const [textSearch, setTextSearch] = useState(\"\");\n  const [showList, setShowList] = useState(false);\n  const [cantDefault, setCantDefault] = useState(1);\n  const [list, setList] = useState([]);\n\n  const sale = Sale();\n  const { session } = sale;\n  const hookProducts = useProducts();\n\n  //Functions\n  const handleChangeTextSearch = ({ value }) => {\n      setTextSearch(value);\n    },\n    handlePressEnter = (key) => {\n      if (key === \"Enter\") {\n        searchItem();\n      }\n    },\n    searchItem = () => {\n      if (textSearch.length > 2) {\n        const codes = textSearch.split(\"*\");\n        let search = textSearch;\n\n        if (codes.length === 2) {\n          search = codes[1];\n          setCantDefault(parseInt(codes[0]));\n        }\n\n        hookProducts.getProducts(search).then((data) => {\n          if (data) {\n            setList(data.data);\n          } else {\n            console.error(\"Error al buscar el producto\");\n          }\n        });\n        setTextSearch(\"\");\n      }\n    },\n    handleCloseModal = () => {\n      setShowList(false);\n    },\n    makeItem = (data) => {\n      return {\n        id: 0,\n        cant: data.cant,\n        price: parseFloat(data.item.price),\n        subtotal: parseInt(data.cant) * parseFloat(data.item.price),\n        inStorage:\n          parseInt(data.item.cantidades) >= parseInt(data.cant) ? true : false,\n        out: parseInt(data.item.cantidades) - parseInt(data.cant),\n        cantInStore: parseInt(data.item.cantidades),\n        session,\n        store_items_id: data.item.id,\n        descripcion: data.item.descripcion,\n        producto: data.item.name.toLowerCase(),\n        category: data.item.categoria ? data.item.categoria.id : 0,\n      };\n    },\n    handleSelectItem = (data) => {\n      const item = makeItem(data);\n      handleAddItem(item);\n      setCantDefault(1);\n    },\n    handleAddItem = (result) => {\n      const found = sale.items.filter(\n        (item) => item.store_items_id === result.store_items_id\n      );\n\n      let newItems = sale.items.filter(\n        (item) => item.store_items_id !== result.store_items_id\n      );\n\n      if (found.length) {\n        const cantidad = parseInt(result.cant) + parseInt(found[0].cant),\n          item = {\n            ...found[0],\n            cant: cantidad,\n            subtotal: parseFloat(result.price) * cantidad,\n            inStorage: cantidad >= parseInt(result.cantInStore) ? true : false,\n            out: parseInt(result.cantInStore) - cantidad,\n          };\n        newItems.push(item);\n        window.Swal.fire({\n          title: \"Producto agregado\",\n          text: `Se agrego otro ${found[0].producto} a la lista`,\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonText: \"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        });\n      } else {\n        newItems.push(result);\n      }\n\n      let subtotal = helper.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helper.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      });\n    };\n\n  useEffect(() => {\n    if (list.length) {\n      if (list.length === 1) {\n        const item = makeItem({\n          item: list[0],\n          cant: cantDefault ? cantDefault : 1,\n        });\n\n        if (item.price <= 0) {\n          window.Swal.fire({\n            title: \"Verificar\",\n            text: `El item que intentas agregar tiene un precio de $0, revisa el precio en el almacen`,\n            icon: \"warning\",\n            showCancelButton: false,\n            confirmButtonText: \"Ok\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          });\n        } else {\n          handleAddItem(item);\n          setCantDefault(1);\n        }\n      } else {\n        setShowList(true);\n      }\n    }\n  }, [list]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"btn-group text-center d-print-none\">\n      <input\n        className=\"form-control\"\n        placeholder=\"Codigo\"\n        onChange={({ target }) => handleChangeTextSearch(target)}\n        onKeyPress={({ key }) => handlePressEnter(key)}\n        value={textSearch}\n      />\n      <button\n        type=\"button\"\n        className=\"btn btn-primary\"\n        onClick={searchItem}\n        disabled={textSearch.length > 2 ? false : true}\n      >\n        <i className=\"fas fa-barcode\"></i>\n      </button>\n\n      {showList && list.length ? (\n        <ListModal\n          items={list}\n          cantDefault={cantDefault}\n          handleClose={handleCloseModal}\n          handleSelect={handleSelectItem}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nexport default InputSearchItem;\n","//Context\nimport { Sale } from '../../../context/SaleContext';\n\n//Helper\nimport helper from '../helpers';\n\nexport default function DiscountBtnComponent() {\n\n  const sale = Sale();\n  const pagado = helper.getPagado(sale.payments);\n  const btnDisabled = sale.subtotal - pagado > 0 && sale.discount === 0 && pagado === 0 ? false : true;\n\n\n  //Functions\n  const handleAddDiscount = () => {\n    const discount = window.prompt(\"Agregue el descuento a aplicar\"),\n      isNumeric = /^[0-9]+$/gms,\n      isPercen = /^[0-9]{2,3}%$/gms;\n\n      if(discount === null){\n        return null;\n      }else{\n        let sum = 0;\n        sale.items.forEach((item) => (sum += item.subtotal));\n\n        if (discount.match(isNumeric)) {\n          const value = parseInt(discount);\n          \n          sale.set({\n            ...sale,\n            discount: value,\n            total: sale.subtotal - value,\n          });\n\n        } else if (discount.match(isPercen)) {\n          const percent = parseInt(discount.replace(\"%\", \"\")) / 100,\n          value = parseInt(sum * percent);          \n          sale.set({\n            ...sale,\n            discount: value,  \n            total: sale.subtotal - value,               \n          })          \n        }\n      }\n  };\n\n  return (\n    <button\n      className=\"btn btn-primary mx-1\"\n      title=\"Agregar descuento\"\n      onClick={handleAddDiscount}\n      disabled={btnDisabled}\n    >\n      <i className=\"fas fa-percent\"></i>\n    </button>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useSales(ctx) {\n  //Functions\n  const getSaleList = async (search) => {\n    const salesFilters = {\n      orderBy: \"created_at\",\n      order: \"desc\",\n      itemsPage: 100,\n    };\n    if (search) {\n      salesFilters.search = search;\n    }\n\n    const url = setUrl(\"sales\", null, salesFilters);\n    return await api(url);\n  }; \n\n  const getSaleById = async (id) => {\n    const url = setUrl(\"sales\", id);\n    return await api(url);\n  };\n\n  const saveSale = async (sale) => {\n    try {\n      const { id } = sale,\n        url = setUrl(\"sales\", id),\n        method = id ? \"PUT\" : \"POST\";\n        \n      return await api(url, method, sale);\n    } catch (e) {\n      console.error(\n        \"[Orus System] Error in saga/sales handledSaveSale\",\n        e.message\n      );\n    }\n  };\n\n  return {\n    getSaleList,\n    getSaleById,\n    saveSale,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Hooks\nimport useSales from \"../../../hooks/useSale\";\n\n//Libraries\nimport moment from \"moment\";\n\nfunction ListSalesModal({ handleClose: _close, handleSelect: _select }) {\n  const _sales = useSales();\n\n  const [search, setSearch] = useState(\"\");\n\n  const [saleList, setSaleList] = useState([]);\n\n  const sale = Sale();\n\n  const items =\n    saleList.length !== 0 ? saleList : sale.length !== 0 ? sale : [];\n\n  const handleSelectSale = (e, saleSelected) => {\n      if (e) e.preventDefault();\n\n      if (sale.items.length) {\n        window.Swal.fire({\n          title: \"Ventas\",\n          text: `Si cargas una venta, se cerrará la venta actual`,\n          icon: \"question\",\n          showCancelButton: true,\n          confirmButtonText: \"Cargar\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            _select(saleSelected);\n          } else {\n            return null;\n          }\n        });\n      } else {\n        _select(saleSelected);\n      }\n    },\n    handleChangeSearch = ({ value }) => {\n      setSearch(value);\n    };\n\n  useEffect(() => {\n    _sales\n      .getSaleList(search)\n      .then((data) => {\n        if (data) {          \n          setSaleList(data.data);\n        } else {\n          console.error(\"Error al obtener las ventas\");\n        }\n      })\n      .catch((error) => console.error(error));\n  }, [search]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione una venta</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"w-full d-block mb-4\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"Buscar por folio o nombre\"\n                  onChange={({ target }) => handleChangeSearch(target)}              \n                />\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default ml-1\"                  \n                >\n                  <i className=\"fas fa-search\"></i>\n                </button>\n              </div>\n            </div>\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              <table className=\"table table-sm\">\n                <tbody>\n                  {items ? (\n                    <>\n                      {items.length ? (\n                        <>\n                          {items.map((item) => (\n                            <tr key={item.id}>\n                              <td className=\"text-right\">\n                                <span className=\"badge badge-dark\">\n                                  {item.id}\n                                </span>\n                              </td>\n                              <td className=\"text-capitalize text-left\">\n                                <a\n                                  href=\"#select\"\n                                  onClick={(e) => handleSelectSale(e, item)}\n                                >\n                                  {item.customer ? item.customer.name : \"--\"}\n                                </a>\n                              </td>\n                              <td className=\"text-right\">\n                                {moment(item.created_at).fromNow()}\n                              </td>\n                            </tr>\n                          ))}\n                        </>\n                      ) : (\n                        <tr className=\"overlay dark\">\n                          <td className=\"overlay dark\">\n                            <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                            Cargando las ventas!!\n                          </td>\n                        </tr>\n                      )}\n                    </>\n                  ) : (\n                    <tr>\n                      <td>\n                        <i className=\"fas fa-info-circle mr-1\"></i> Escriba el\n                        folio o nombre para cargar una venta\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ListSalesModal;\n","import { useState } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Components\nimport ListSalesModal from \"./ListSalesModal\";\n\nexport default function ListSalesBtn() {\n  const sale = Sale();\n  const [data, setData] = useState(false);\n  const disabled = sale.items.length ? true : false;\n\n  //Functions\n  const handleShowListSales = () => {\n      setData(true);\n    },\n    handleCloseListSales = () => {\n      setData(false);\n    },\n    handleSelectSale = (saleSelected) => {\n      let pagado = 0;\n      saleSelected.payments.forEach((pay) => (pagado = pay.total));\n      setData(false);\n      \n      sale.set({\n        id: saleSelected.id,\n        contact_id: saleSelected.customer.id,\n        customer: saleSelected.customer,\n        items: saleSelected.items,\n        session: saleSelected.session,\n        discount: saleSelected.discount,\n        subtotal: saleSelected.subtotal,\n        total: saleSelected.total,\n        payments: saleSelected.payments,\n        branch_id: saleSelected.branch.id,\n        created_at: saleSelected.created_at,\n        activitys: saleSelected.activity,\n        order: saleSelected.order ?? 0,\n        thereNews: false,\n      });\n\n      return pagado;\n    };\n\n  return (\n    <>\n      <button\n        className=\"btn btn-primary mr-1\"\n        title=\"Cargar una venta\"\n        onClick={handleShowListSales}\n        disabled={disabled}\n      >\n        <i className=\"fas fa-list\"></i>\n      </button>\n\n      {data && (\n        <ListSalesModal\n          handleClose={handleCloseListSales}\n          handleSelect={handleSelectSale}\n        />\n      )}\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect } from \"react\";\nimport HTMLOrderPrint from \"./views/SaleHTML\";\nimport { Auth } from \"../../context/AuthContext\";\n\nexport default function PrintSaleComponent(props) {\n  const { auth: currentUser } = Auth();\n  const currentBranch = currentUser.branch;\n  const handleClose = () => {\n    props.setPrint();\n  };\n\n  useEffect(() => {\n    if (!props.data) {\n      console.error(\"[Orus System] Data is parameter required\");\n      return;\n    }\n\n    const popup = window.open(\n      \"\",\n      \"_blank\",\n      \"fullscreen=1,menubar=0,resizable=0,scrollbars=0,titlebar=0,toolbar=0,top=0,left=300\"\n    );\n\n    popup.document.write(getPage(props.data, currentBranch));\n    popup.window.print();\n\n    popup.onbeforeunload = function () {\n      handleClose();\n    };\n  }, []);\n\n  return <div className=\"load\" style={{\n    position:'fixed',\n    zIndex:'5',\n    width:'100%',\n    top:0,\n    left:0,\n    height:'100%',\n    display:'flex',\n    flexDirection:'column',\n    justifyContent:'center',\n    alignItems:'center',\n    backgroundColor: 'rgba(0,0,0,.5)',\n    }}>      \n      <h1 style={{color:'white', marginBottom:'5%'}}>IMPRESION EN CURSO</h1>\n      <i className=\"fas fa-print fa-6x\"></i>      \n  </div>;\n}\n\nfunction getPage(data, branch) {\n  const card = HTMLOrderPrint(data ?? {}, branch);\n  const body = `<div style=\"width:280px; padding: 0px; margin: 0px; border:1px dotted #DDD\">${card}</div>`;\n\n  return `<html>\n        <head>\n            <title>${\n              data.order_id ? \"Pedido #\" + data.order_id : \"Venta #\" + data.id\n            }</title>            \n        </head>\n        <body style=\"display:flex; justify-content: center; align-items:center\">\n            ${body}\n        </body>\n    </html>`;\n}\n","import moment from \"moment\";\nimport \"moment/locale/es\";\nimport helpers from \"../../Sales/helpers\";\nmoment.locale(\"es\");\n\nexport default function HTMLOrderPrint(sale, branch) {\n  const paid = helpers.getPagado(sale.payments);\n  let amount = sale.total - paid;\n\n  const phone = Object.values(sale.customer?.phones ?? {}).filter(\n    (phone) => phone\n  );\n\n  return `\n  <div style=\"width:100%; padding: 0px; margin: 0px;\">\n    <h6 style=\"font-size: 14; font-family:sans-serif; text-align: right; margin: 0px\">\n      ${sale.order_id ? \"Pedido\" : \"Nota\"}:\n      <strong>${sale.order_id ? sale.order_id : sale.id}</strong>\n    </h6> \n    \n    <h2 style=\"font-size: 28; font-family: sans-serif; margin: 24px 0px;\">\n      <center>\n        <strong>Óptica Madero</strong>\n      </center>\n    </h2>\n\n    <h4 style=\"font-size: 22; font-family: sans-serif; text-align: center; margin:10px 0px;\">\n      Julio Cesar Cardenas Martinez\n    </h4>\n\n    <div style=\"font-size: 14; font-family: sans-serif; width:100%; text-align: center; margin: 0px 5px\">\n      <span style=\"text-transform: uppercase;\">\n        ${branch.name}\n      </span>\n      <br />\n      <span>${branch.phone}</span>\n      <br />\n      <span>${branch.address}</span>\n      <br/>\n      <strong>${moment().format(\"LLLL\")}</strong>\n    </div>\n\n    <h4 style=\"font-size: 22; font-family: sans-serif; text-align: center; text-transform: uppercase;\">\n      ${sale.customer?.name ? sale.customer.name : \"Venta de mostrador\"}\n      <br />\n      <strong>\n        <em style=\"font-size: 18\">\n          ${phone.length ? phone : \"--\"}\n        </em>\n      </strong>\n    </h4>\n\n    <h2 style= \"font-size: 22; font-family:sans-serif\">\n      <center><strong>${sale.order_id ? \"Pedido\" : \"Nota\"}</strong></center>\n    </h2>\n\n    <table style=\"width:100%;\">\n      <thead>\n        <tr>\n          <th style=\"font-size: 12; font-family: sans-serif; text-align:left; width:24px\">\n            Cant\n          </th>\n          <th style=\"font-size: 12; font-family: sans-serif\">\n            Descripcion\n          </th>\n          <th style=\"font-size: 12; font-family: sans-serif; text-align:right; width:48px\">\n            Total\n          </th>\n        </tr>\n      </thead>\n          \n      <tbody>\n        ${sale.items.map((item, index) => {\n          return `<tr key=${index} style=\"\">\n            <td style=\"font-size: 16; font-family: sans-serif; text-align:left\">\n              ${item.cant}\n            </td>\n            <td style=\"font-size: 14; font-family: sans-serif\">\n              ${item.name ?? item.producto}\n            </td>\n            <td style=\"font-size: 16; font-family: sans-serif; text-align:right;\">                    \n              $ ${item.cant * item.price}\n            </td>\n          </tr>`;\n        })}\n      </tbody>\n\n      <tfoot>\n        <tr>\n          <td colspan=\"3\">\n            ${\n              sale.discount !== 0\n                ? `<div style = \"width:100%\">\n                  <h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px; margin-top:12px\">\n                    Subtotal: <label>$ ${sale.subtotal ?? 0}</label>\n                  </h4>\n                  <h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px;\">\n                    Descuento: <label>$ ${sale.discount}</label>\n                  </h4>\n                </div>\n                <h4 style= \"font-size:18; width:100%; font-family: sans-serif; text-align: right; margin:0px;\">\n                  Total: <label>$ ${sale.total ?? 0}</label>\n                </h4>`\n                : `<h4 style= \"font-size:18; width:100%; font-family: sans-serif; text-align: right; margin:0px; margin-top:12px\">\n                  Total: <label>$ ${sale.total ?? 0}</label>\n                </h4>`\n            }\n                      \n            <div style = \"width:100%;\">\n              <h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px;\">\n                Abonado: <label>$ ${paid}</label>\n              </h4>\n              ${\n                amount\n                  ? `<h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px;\">\n                    Saldo: <label>$ ${amount}</label>\n                    </h4>`\n                  : `<div style=\"text-align:center; width: 100%\">\n                     <h3 style=\"font-weight:bold\">\n                      ::: Cuenta Pagada :::                      \n                    </h3>\n                  </div>`\n              }\n            </div>\n          </td>\n        </tr>\n      </tfoot>\n    </table>\n      \n    <div>\n      <ul style=\"font-family:sans-serif; font-size: 12;\">\n        <li>\n          Armazones usados, viejos y/o resecos son responsabilidad del\n          cliente\n        </li>\n        <li>\n          Armazones reparados por el cliente pierden garantia de proovedor\n        </li>\n      </ul>\n    </div>\n  </div>\n  `;\n}\n","import { useState, useContext } from \"react\";\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Helpers\nimport helpers from \"../helpers\";\n\nfunction PaymentModal({ forPaid, handleClose: _close }) {\n  const config = useContext(ConfigContext);\n  const listBanks = config.data;\n\n  const sale = Sale();\n\n  //States\n  const [data, setData] = useState({\n    id: 0,\n    metodopago: 1,\n    metodoname: \"efectivo\",\n    total: 0,\n    bank_id: null,\n    details: null,\n    auth: null,\n    forPaid: forPaid,\n  });\n\n  //Functions\n  const handleChangeInput = ({ name, value, type }) => {\n      let val = value;\n      if (type === \"number\" || type === \"select-one\") val = parseFloat(value);\n      setData({\n        ...data,\n        [name]: val,\n      });\n    },\n    handleSetPayment = () => {\n      const payments = [...sale.payments];\n      let pagado = 0;\n\n      if (!data.total) {\n        window.Swal.fire({\n          icon: \"warning\",\n          title: \"El total del abono debe ser mayor a 0\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return false;\n      }\n\n      if (\n        data.metodopago !== 1 &&\n        data.metodopago !== 4 &&\n        data.metodopago !== 0\n      ) {\n        if (!data.bank_id) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Seleccione un banco\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n        if (data.auth?.length < 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique los ultimos 4 numeros de la tarjeta\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        } else if (data.auth?.length > 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique solamente 4 numeros\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      if (data.metodopago === 4) {\n        if (!data.auth) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique el numero de autorización\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      payments.push({\n        ...data,\n        id: `new${Date.now().toString()}`,\n        metodoname: helpers.getMethodName(data.metodopago),\n        total: forPaid < data.total ? forPaid : data.total,\n      });\n\n      payments.forEach((pay) => (pagado += pay.total));\n\n      _close();\n\n      sale.set({\n        ...sale,\n        payments: payments,\n        thereNews: true,\n      });\n    },\n    handleSubmitForm = (e) => {\n      e.preventDefault();\n      handleSetPayment();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Capture el pago</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <form autoComplete=\"off\" onSubmit={handleSubmitForm}>\n              <div className=\"row mb-2 bg-gray-light\">\n                <div className=\"col\">\n                  <h4 className=\"text-center\">\n                    Por pagar: <span className=\"text-success\">$ {forPaid}</span>\n                  </h4>\n                </div>\n              </div>\n              <div className=\"row my-2\">\n                <div className=\"col\">\n                  <label>Metodo de pago</label>\n                  <select\n                    name=\"metodopago\"\n                    className=\"custom-select text-uppercase\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    defaultValue={data.metodopago}\n                  >\n                    <option value=\"1\">Efectivo</option>\n                    <option value=\"2\">Tarjeta de debito</option>\n                    <option value=\"3\">Tarjeta de credito</option>\n                    <option value=\"4\">La marina</option>\n                    <option value=\"5\">Cheque</option>\n                    <option value=\"6\">Transferencia</option>\n                    <option value=\"0\">Otro</option>\n                  </select>\n                </div>\n                <div className=\"col\">\n                  <label>Cantidad</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    className=\"form-control text-right\"\n                    name=\"total\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    autoFocus={true}\n                  />\n                </div>\n              </div>\n\n              {data.metodopago !== 1 ? (\n                <div className=\"row mb-2\">\n                  <div className=\"col\">\n                    {data.metodopago !== 4 && data.metodopago !== 0 ? (\n                      <>\n                        <label>Banco</label>\n                        <select\n                          name=\"bank_id\"\n                          className=\"custom-select text-uppercase\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        >\n                          <option value=\"\">--Seleccione un banco--</option>\n                          {listBanks.map((bank) => {\n                            return bank.name === \"bank\" ? (\n                              <option key={bank.id} value={bank.id}>\n                                {bank.data}\n                              </option>\n                            ) : null;\n                          })}\n                        </select>\n                      </>\n                    ) : !data.metodopago ? (\n                      <>\n                        <label>Espesifique</label>\n                        <input\n                          type=\"text\"\n                          name=\"details\"\n                          className=\"form-control\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        />\n                      </>\n                    ) : (\n                      <h4 className=\"d-bloc text-center mt-4 text-success\">\n                        LA MARINA\n                      </h4>\n                    )}\n                  </div>\n                  <div className=\"col\">\n                    <label>\n                      {data.metodopago !== 4\n                        ? \"Ultimos 4 digitos\"\n                        : \"N. Autorización\"}\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"auth\"\n                      className=\"form-control\"\n                      onChange={({ target }) => handleChangeInput(target)}\n                    />\n                  </div>\n                </div>\n              ) : null}\n\n              {forPaid < data.total ? (\n                <div className=\"row\">\n                  <div className=\"col\">\n                    <h4 className=\"text-center mt-4\">\n                      {data.metodopago === 1 ? (\n                        <>\n                          Cambio:\n                          <span className=\"ml-2\">$ {data.total - forPaid}</span>\n                        </>\n                      ) : (\n                        <span className=\"text-danger\">\n                          <i className=\"fas fa-info-circle mr-2\"></i>\n                          La cantidad cobrada es mayor al total\n                        </span>\n                      )}\n                    </h4>\n                  </div>\n                </div>\n              ) : null}\n            </form>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => handleSetPayment()}\n              disabled={!data.total || data.total > data.forPaid}\n            >\n              <i className=\"fas fa-money-bill mr-1\"></i>\n              Abonar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","import { useState } from \"react\";\n\n//Components\nimport PaymentModal from \"./PaymentModal\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Helper\nimport helpers from '../helpers';\n\n\nexport default function PaymentBtnComponent() {\n\n  const [data, setData] = useState({\n    showPayment: false,\n  });\n\n  const sale = Sale();\n\n  const forPaid = helpers.getForPay(sale.items, sale.payments, sale.discount);\n\n  const pagado  = sale.discount === 0 ? helpers.getPagado(sale.payments) : helpers.getPagado(sale.payments) + sale.discount; \n  const paid = sale.subtotal <= pagado ? true : false;\n\n  //Functions\n  const handleShowPayment = () => {\n      setData({\n        ...data,\n        showPayment: true,\n      });\n    },\n    handleClosePayment = () => {\n      setData({\n        ...data,\n        showPayment: false,\n      });\n    };\n\n  return (\n    <>\n      <button\n        className=\"btn btn-success ml-2 d-print-none\"\n        onClick={handleShowPayment}\n        disabled={!sale.items.length || (sale.subtotal && paid)}\n      >\n        <i className=\"fas fa-money-bill-alt\"></i>\n      </button>\n      {data.showPayment && (\n        <PaymentModal\n          handleClose={handleClosePayment}\n          sale={{\n            ...sale,\n            contact_id: sale.customer.id,\n          }}\n          forPaid={forPaid}\n        />\n      )}\n    </>\n  );\n}\n","import { useContext } from 'react';\nimport helpers from \"../helpers.js\";\nimport { useHistory } from 'react-router-dom';\n\n\n//Context\nimport { AuthContext } from '../../../context/AuthContext';\nimport { Sale } from '../../../context/SaleContext';\n\nexport default function EraseSaleBtnComponent(props) {\n\n  const sale = Sale();\n  const disabled = sale.customer.id || sale.items.length ? false : true;\n  const {auth} = useContext(AuthContext);\n  const history = useHistory();\n\n  //Functions\n  const eraseSale = () => {\n      sale.set({\n        id: 0,\n        customer: {\n          id: 0,\n          name: \"venta de mostrador\",\n        },\n        contact_id: 2,\n        items: [],\n        session: helpers.getSession(),\n        discount: 0,\n        subtotal: 0,\n        total: 0,\n        payments: [],\n        branch_id: auth.branch.id,\n        isPayed: false,\n      })\n\n      if( props.match.params.id){\n        history.push('/notas');\n      }else{\n        return null\n      }\n    },\n\n    handleEraseSale = () => {\n      helpers.confirm(\"¿Desea terminar esta venta? La venta actual no se guardara\", eraseSale);\n    };\n\n  return (\n    <button\n      className=\"btn btn-warning ml-1\"\n      title=\"Nueva venta\"\n      onClick={handleEraseSale}\n      disabled={ disabled }\n    >\n      <i className=\"fas fa-window-close\"></i>\n    </button>\n  );\n}\n","import { useState, useContext } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\nimport { AuthContext } from \"../../../context/AuthContext\";\n\n//Hooks\nimport useContact from \"../../../hooks/useContact\";\n\n//Helper\nimport saleHelper from '../helpers';\n\nfunction SearchCustomerModal({ handleClose: _close }) {\n  const [data, setData] = useState({\n    textSearch: \"\",\n  });\n\n  const [customers, setCustomers ] = useState([]);\n  const sale = Sale();\n  const { auth } = useContext(AuthContext);\n  const  _contacts  = useContact();\n\n  //Functions\n  const handleClose = () => {\n      if (_close) _close();\n    },\n    handleChangeText = ({ value }) => {\n      setData({\n        textSearch: value,\n      });\n    },\n    handleKeyPressSearch = (key) => {\n      if (key === \"Enter\") {\n        if (data.textSearch.length > 4) {\n          return SearchCustomer();\n        }\n\n        window.Swal.fire({\n          title: \"Verificacion\",\n          text: \"Escriba un nombre valido, al menos 5 caracteres\",\n          icon: \"warning\",\n        });\n      }\n    },\n    SearchCustomer = () => {\n      const filters = {\n        search: data.textSearch,\n        itemsPage: \"25\",\n        orderBy: \"id\",\n        order: \"desc\",\n      };\n\n      _contacts.getContacts(filters).then((data)=>{\n        if(data){\n          setCustomers(data.data);\n        }else{\n          console.error(\"Error al obtener usuario\");\n        }\n      })\n    },\n    handleClickCustomer = (e, customer) => {\n      e.preventDefault();\n      if (sale.customer.id !== customer.id) {\n        if (![0, 2].includes(sale.customer.id)) {\n          window.Swal.fire({  \n            title: \"Ventas\",\n            text: \"Esta accion creara una nueva venta ¿Esta seguro que desea crear una nueva venta?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Crear\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {                         \n              sale.set({\n                id: 0,\n                customer: {\n                  id:customer.id,\n                  name: customer.name,\n                  phones: customer.phones ?? {},\n                },\n                contact_id: customer.id,\n                items: [],\n                session: saleHelper.getSession(),\n                discount: 0,\n                subtotal: 0,\n                total: 0,\n                payments: [],\n                branch_id: auth.branch.id,\n              })\n              _close();\n            }\n          });\n        } else {\n          sale.set({\n            ...sale,\n            customer:{\n              id: customer.id,\n              name: customer.name ? customer.name : \"Venta de mostrador\",\n              phones: customer.phones ?? {},\n            },\n            contact_id: customer.id\n          }).then(() =>  _close());\n        }\n      } else {\n        _close();\n      }\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione un cliente</h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"form-inline mb-3\">\n              <div className=\"form-group\">\n                <input\n                  className=\"form-control\"\n                  placeholder=\"Buscar cliente\"\n                  onChange={({ target }) => handleChangeText(target)}\n                  onKeyPress={({ key }) => handleKeyPressSearch(key)}\n                  onBlur={() => data.textSearch.length > 4 && SearchCustomer()}\n                  autoFocus={true}\n                />\n              </div>\n              <div className=\"form-group pl-2\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary btn-sm\"\n                  onClick={SearchCustomer}\n                  disabled={data.textSearch.length < 5}\n                >\n                  <i className=\"fas fa-search\"></i>\n                </button>\n              </div>\n            </div>\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              <table className=\"table table-sm\">\n                <tbody>\n                  {customers.map((customer) => (\n                    <tr key={customer.id}>\n                      <td className=\"text-right\">\n                        <span className=\"badge badge-dark\">{customer.id}</span>\n                      </td>\n                      <td className=\"text-left\">\n                        <a\n                          href=\"#select\"\n                          onClick={(e) => handleClickCustomer(e, customer)}\n                          className=\"text-capitalize\"\n                        >\n                          {customer.name.toLowerCase()}\n                        </a>\n                      </td>\n                    </tr>\n                  ))}\n                  {!customers.length && (\n                    <>\n                      {[0, 2].includes(sale.customer.id) ? (\n                        <tr>\n                          <td>No existen pacientes con esta coincidencia</td>\n                        </tr>\n                      ) : (\n                        <tr>\n                          <td>\n                            <span className=\"alert alert-warning text-center\">\n                              Cambiar de usuario, provocara cerrar la{\" \"}\n                              <strong>venta</strong> actual.\n                            </span>\n                          </td>\n                        </tr>\n                      )}\n                    </>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={handleClose}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SearchCustomerModal;\n","import { useState } from \"react\";\n\n//Componentes\nimport SearchCustomerModal from \"./SearchCustomerModal\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\nexport default function CustomerBtnComponent() {\n\n  // Modal\n  const [modal, setModal] = useState(false);\n\n  \n  const handleModal = () => {\n    setModal(!modal);\n  };\n\n  const sale = Sale();\n  \n  return (\n    <>\n      <i className=\"fas fa-user mr-1 text-indigo\"></i>\n      Cliente:\n      <label className=\"text-capitalize ml-1\">\n        {sale.customer ? sale.customer.name : \"XXX - vuelva a cargar\"}\n      </label>\n      <button\n        type=\"button\"\n        className=\"btn bg-indigo btn-sm ml-2\"\n        title=\"Buscar cliente\"\n        onClick={handleModal}\n      >\n        <i className=\"fas fa-exchange-alt\"></i>\n      </button>\n      {modal && <SearchCustomerModal handleClose={handleModal} />}\n    </>\n  );\n}\n\n","import moment from \"moment\";\n\nfunction PaymentModal({ payment = {}, handleClose: _close }) {\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Detalles del abono</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"row mb-2\">\n              <div className=\"col\">\n                <label className=\"mr-2\">Metodo de pago</label>\n                <span>{payment.metodoname}</span>\n              </div>\n              <div className=\"col\">\n                <label className=\"mr-2\">Cantidad abonada</label>\n                <span>${payment.total}</span>\n              </div>\n            </div>\n\n            {payment.banco && payment.banco.id ? (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <label className=\"mr-2\">Banco</label>\n                  <span>{payment.banco.value}</span>\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2\">Auth</label>\n                  <span>{payment.auth ?? \"--\"}</span>\n                </div>\n              </div>\n            ) : null}\n\n            {payment.id ? (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block\">Folio</label>\n                  <span>{payment.id}</span>\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block\">Fecha</label>\n                  {payment.created_at ? (\n                    <span>{moment(payment.created_at).format(\"LL\")}</span>\n                  ) : (\n                    <span>--</span>\n                  )}\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block text-uppercase\">Recibio</label>\n                  <span>\n                    {payment.created && payment.created.name\n                      ? payment.created.name\n                      : \"--\"}\n                  </span>\n                </div>\n              </div>\n            ) : (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <span className=\"alert alert-warning d-block text-bold\">\n                    <i className=\"fas fa-info-circle mr-1\"></i>\n                    Pago no acreditado!\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","import { useState } from \"react\";\n\nexport default function UpdateItemModal({\n  item,\n  close: _close,\n  handleUpdate: _update,\n}) {\n  const [data, setData] = useState({\n    cant: item.cant ?? 0,\n    price: item.price ?? 0,\n  });\n  //Functions\n  const handleChangeInput = ({ name, value }) => {      \n      setData({\n        ...data,\n        [name]: parseInt(value),\n      });\n    },\n\n    handleUpdateItem = () => {\n      _update({\n        ...item,\n        ...data,\n        subtotal: data.cant * data.price,\n      });\n    },\n\n    handleKeyPress = (key) => {\n      if (key === \"Enter\") handleUpdateItem();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">\n              <span className=\"text-capitalize text-truncate\">\n                {item.producto}\n              </span>\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"row my-2\">\n              <div className=\"col\">\n                <label>Cantidad</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form-control text-right\"\n                  name=\"cant\"\n                  defaultValue={data.cant}\n                  onChange={({ target }) => handleChangeInput(target)}\n                />\n              </div>\n              <div className=\"col\">\n                <label>Precio</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form-control text-right\"\n                  name=\"price\"\n                  defaultValue={data.price}\n                  onChange={({ target }) => handleChangeInput(target)}\n                  onKeyPress={({ key }) => handleKeyPress(key)}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleUpdateItem}\n            >\n              <i className=\"fas fa-save mr-1\"></i>\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useContext, useState } from \"react\";\n\n//Components\nimport PaymentDetails from \"./PaymentDetails\";\nimport UpdateItemModal from \"./UpdateItemModal\";\n\n// Context\nimport { Sale } from \"../../../context/SaleContext\";\nimport { AuthContext } from \"../../../context/AuthContext\";\n\n//Helper\nimport helpers from \"../helpers\";\n\n//Libraries\nimport moment from \"moment\";\n\nexport default function SalesDetailsTableComponent() {\n  const sale = Sale();\n  const pagado = !sale.discount\n    ? helpers.getPagado(sale.payments)\n    : helpers.getPagado(sale.payments) + sale.discount;\n  const paid = sale.subtotal <= pagado ? true : false;\n  const { auth } = useContext(AuthContext);\n  const { roles } = auth;\n\n  const [data, setData] = useState({\n    showUpdateItem: false,\n    showPaymentDetails: false,\n    item: {},\n    payment: {},\n  });\n\n  //Functions\n  const handleDeleteItem = (item) => {\n      const newItems = sale.items.filter(\n        (product) => product.store_items_id !== item.store_items_id\n      );\n\n      let subtotal = helpers.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helpers.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      });\n    },\n    handleShowPaymentDetails = (e, payment) => {\n      if (e) e.preventDefault();\n\n      setData({\n        ...data,\n        showPaymentDetails: true,\n        payment,\n      });\n    },\n    handleDeleteDiscount = () => {\n      helpers.confirm(\"Realmente desea eliminar el descuento\", () => {\n        sale.set({\n          ...sale,\n          discount: 0,\n        });\n      });\n    },\n    handleDeletePayment = ({ id, total, metodoname }) => {\n      const newPayments = sale.payments.filter((payment) => payment.id !== id);\n\n      helpers.confirm(`Realmente desea eliminar el pago de  $${total}`, () => {\n        sale.set({\n          ...sale,\n          payments: newPayments,\n        });\n      });\n    },\n    handleShowUpdateItem = (e, item) => {\n      if (e) e.preventDefault();\n      setData({\n        ...data,\n        showUpdateItem: true,\n        item,\n      });\n    },\n    handleClosePaymentDetails = () => {\n      setData({\n        ...data,\n        showPaymentDetails: false,\n        payment: {},\n      });\n    },\n    handleUpdateItem = (item) => {\n      const newItems = sale.items.filter(\n        (i) => i.store_items_id !== item.store_items_id\n      );\n      newItems.push(item);\n\n      let subtotal = helpers.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helpers.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      });\n\n      handleCloseUpdateItem();\n    },\n    handleCloseUpdateItem = () => {\n      setData({\n        ...data,\n        showUpdateItem: false,\n        item: {},\n      });\n    };\n\n  return (\n    <>\n      <table className=\"table table-striped\">\n        <tbody>\n          {sale.items && sale.items.length ? (\n            <>\n              {sale.items.map((item, index) => {\n                const disabled =\n                  (sale.subtotal && paid) ||\n                  sale.payments.length ||\n                  sale.discount;\n                const diffDay = moment(Date.now()).diff(\n                  moment(sale.created_at),\n                  \"days\"\n                );\n                if (!item.store_items_id) return null;\n\n                return (\n                  <tr key={index}>\n                    {handleDeleteBtn(handleDeleteItem, item, disabled)}\n                    <td\n                      onClick={(e) => {\n                        if (roles === \"ventas\" && diffDay !== 0) {\n                          alert(\"No puedes editar esta venta!\");\n                        } else {\n                          handleShowUpdateItem(null, item);\n                        }\n                      }}\n                    >\n                      <a\n                        href=\"#details\"\n                        className=\"text-muted w-full d-block text-uppercase\"\n                        onClick={(e) => {\n                          if (roles === \"ventas\") {\n                            return null;\n                          } else {\n                            handleShowUpdateItem(e, item);\n                          }\n                        }}\n                      >\n                        {item.producto ? item.producto : item.name}\n                      </a>\n                      <label className=\"w-full d-block\">\n                        <span className=\"badge badge-dark mr-1\">\n                          {item.cant}\n                        </span>\n                        *\n                        <span\n                          className={item.price ? \"mx-1\" : \"mx-1 text-danger\"}\n                        >\n                          ${item.price}\n                        </span>\n                        =\n                        <span\n                          className={\n                            item.subtotal ? \"ml-1\" : \"ml-1 text-danger\"\n                          }\n                        >\n                          ${item.subtotal}\n                        </span>\n                      </label>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : null}\n          {sale.discount ? (\n            <tr>\n              {handleDeleteBtn(handleDeleteDiscount, null, paid)}\n              <td>\n                <span className=\"text-danger w-full d-block text-uppercase\">\n                  Descuento\n                </span>\n                <label className=\"w-full d-block\">\n                  <span className=\"ml-1 text-danger\">- ${sale.discount}</span>\n                </label>\n              </td>\n            </tr>\n          ) : null}\n          {sale.payments.length ? (\n            <>\n              {sale.payments.map((pay, index) => {\n                const disabled =\n                  sale.id && !sale.order\n                    ? true\n                    : sale.id && sale.order\n                    ? sale.isPayed\n                      ? true\n                      : false\n                    : false;\n\n                return (\n                  <tr key={index}>\n                    {handleDeleteBtn(handleDeletePayment, pay, disabled)}\n                    <td>\n                      <a\n                        href=\"#link\"\n                        className=\" w-full d-block text-uppercase\"\n                        onClick={(e) => handleShowPaymentDetails(e, pay)}\n                      >\n                        <span className=\"text-success\">Abono</span>\n                        <span className=\"ml-1 text-muted\">\n                          {pay.metodoname}\n                        </span>\n                      </a>\n                      <label className=\"w-full d-block\">\n                        <span className=\"ml-1 text-muted\">\n                          {moment(pay.created_at).format(\"LL\")},\n                        </span>\n                        <span className=\"ml-1\">${pay.total}</span>\n                      </label>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : null}\n\n          {sale.thereNews && sale.order ? (\n            <tr className=\"table-info\">\n              <td colSpan=\"2\">\n                <span className=\" w-full d-block text-uppercase text-center text-bold\">\n                  <i className=\"fas fa-info-circle mr-1 text-primary\"></i>\n                  Para guardar los cambios presione el boton ¡Imprimir!\n                </span>\n              </td>\n            </tr>\n          ) : (\n            Boolean(paid && sale.subtotal) && (\n              <tr className=\"table-info\">\n                <td colSpan=\"2\">\n                  <span className=\" w-full d-block text-uppercase text-center text-bold\">\n                    <i className=\"fas fa-info-circle mr-1 text-primary\"></i>\n                    Cuenta pagada!\n                  </span>\n                </td>\n              </tr>\n            )\n          )}\n        </tbody>\n      </table>\n\n      {data.showPaymentDetails && (\n        <PaymentDetails\n          handleClose={handleClosePaymentDetails}\n          payment={data.payment}\n        />\n      )}\n\n      {data.showUpdateItem && (\n        <UpdateItemModal\n          item={data.item}\n          handleUpdate={handleUpdateItem}\n          close={handleCloseUpdateItem}\n        />\n      )}\n    </>\n  );\n}\n\nfunction handleDeleteBtn(toDo, data = null, disabled = false) {\n  return (\n    <td style={{ width: 32 }}>\n      <button\n        type=\"button\"\n        className={disabled ? \"btn btn-default disabled\" : \"btn btn-default\"}\n        onClick={() => {\n          if (toDo) {\n            if (data) toDo(data);\n            else toDo();\n          }\n        }}\n        disabled={disabled}\n      >\n        <i className=\"fas fa-trash text-muted\"></i>\n      </button>\n    </td>\n  );\n}\n","import { Sale } from \"../../../context/SaleContext\";\nimport moment from \"moment\";\n\nexport default function CustomerBtnComponent() {\n\n    const sale = Sale();\n    return(\n        <div>\n            <label className=\"mx-1\">Folio:</label>\n            <span className=\"mx-1\">{sale.id ? sale.id : \"Nuevo\"}</span> \n            <label className=\"mx-1\">Fecha:</label>\n            <span className=\"mx-1\">\n            {moment(sale.created_at).format(\"L\")}\n            </span>\n            {sale.order ? (\n            <>\n                <label className=\"mx-1\">Pedido:</label>\n                <span className=\"mx-1\">{sale.order}</span>\n            </>\n            ) : null}\n        </div>\n    );\n}\n","import { Sale } from '../../../context/SaleContext';\nimport helpers from \"../helpers.js\";\n\n\nexport default function ShowToPay(){\n    const sale = Sale();\n    return(\n        <>\n            <span className=\"text-lg\">Por pagar:</span>\n            <label className=\"text-lg ml-1\">\n                ${helpers.getForPay(sale.items, sale.payments, sale.discount)}\n            </label>\n        </>\n    )\n}\n","import { Sale } from '../../../context/SaleContext';\n\nexport default function ShowTotal(){\n    const sale = Sale();\n    return(\n        <>\n            <span className=\"text-lg\">Total:</span>\n            <label className=\"text-lg ml-1\">${sale.subtotal}</label>\n        </>    \n    )\n}\n","import Activitys from \"../../Activitys\"\n\nexport default function InfoModal({handleClose:_close, data}){\n    return(\n        <div className=\"modal d-block\">      \n        <div className=\"modal-dialog modal-lg\" role=\"document\">\n\n            <div className=\"modal-content\">\n            <div className=\"modal-header\">\n                <h5 className=\"modal-title\">Actividad</h5>\n                <button type=\"button\" className=\"close\" onClick={() => _close()}>\n                <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <Activitys\n                data = {data}\n            />           \n\n            <div className=\"modal-footer\">                \n                    <button\n                    type=\"button\"\n                    className=\"btn btn-default\"\n                    onClick={() => _close()}\n                    >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                        Cerrar\n                    </button>                \n\n            </div>\n            </div>\n        </div>\n    </div> \n    )\n}","import { useState,useContext } from \"react\";\nimport { SaleContext } from \"../../../context/SaleContext\"\nimport InfoModal from \"./InfoModal\";\n\nexport default function InfoButton(){\n\n    const saleContext = useContext(SaleContext);\n\n    const [showModal, setShowModal] = useState(false);\n\n    return(\n        <div>\n            <button\n                className=\"btn btn-info ml-2\"\n                title=\"Ver actividad\"\n                disabled = {saleContext.id ? false : true}\n                onClick = {()=> setShowModal(true)}                \n            >\n                <i className=\"fas fa-info\"></i>\n             </button>\n            {showModal ? (\n                <InfoModal\n                    data = {saleContext.activitys ?? []}                \n                    handleClose = {()=>{setShowModal(false)}}\n                />\n            ):null}\n        </div>\n    \n    \n\n\n    )\n};","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState, useContext } from \"react\";\n\n//Components\nimport InputSearchItem from \"../components/Sales/views/InputSearchItem\";\nimport DiscountBtnComponent from \"../components/Sales/views/DiscountBtn\";\nimport ListSalesBtn from \"../components/Sales/views/ListSalesBtn\";\nimport PrintSaleComponent from \"../components/print/PrintSale\";\nimport PaymentBtnComponent from \"../components/Sales/views/PaymentBtn\";\nimport EraseBtn from \"../components/Sales/views/EraseSaleBtn\";\nimport CustomerBtnComponent from \"../components/Sales/views/CustomerBtn\";\nimport SalesDetailsTableComponent from \"../components/Sales/views/SalesDetailsTable\";\nimport SaleDate from \"../components/Sales/views/SaleDate\";\nimport ShowToPay from \"../components/Sales/views/ShowToPay\";\nimport ShowTotal from \"../components/Sales/views/ShowTotal\";\nimport saleHelper from \"../components/Sales/helpers\";\nimport InfoButton from \"../components/Sales/views/InfoButton\";\n\n//Context\nimport { SaleContext } from \"../context/SaleContext\";\nimport { AuthContext } from \"../context/AuthContext\";\n\n//Hook\nimport useSales from \"../hooks/useSale\";\n\n//Helpers\nimport helpers from \"../components/Sales/helpers\";\n\nexport default function IndexSalesComponent(props) {\n  const { auth } = useContext(AuthContext);\n  const hookSale = useSales();\n  const initialState = {\n    id: 0,\n    order: 0,\n    customer: {\n      id: 0,\n      name: \"venta de mostrador\",\n      phones: {},\n    },\n    contact_id: 2,\n    items: [],\n    session: saleHelper.getSession(),\n    discount: 0,\n    subtotal: 0,\n    total: 0,\n    payments: [],\n    branch_id: auth.branch.id,\n    activitys: [],\n    print: false,\n    isPayed: false,\n    thereNews: false,\n  };\n\n  const [state, setState] = useState(initialState);\n\n  const pagado = helpers.getPagado(state.payments) + state.discount;\n  const paid = state.total <= pagado ? true : false;\n  const disabled = state.order\n    ? false\n    : !paid || !state.items.length\n    ? true\n    : false;\n\n  const validateSale = () => {\n    if (state.id && state.order && state.thereNews) {\n      saveSale();\n    } else {\n      setState({\n        ...state,\n        print: true,\n      });\n    }\n  };\n  const handleSet = (obj) => {\n    return new Promise((done) => {\n      setState(obj);\n      done();\n    });\n  };\n\n  const setDataToSend = () => {\n    const data = {\n      id: state.id,\n      contact_id: state.contact_id,\n      discount: state.discount,\n      items: [],\n      payments: [],\n    };\n\n    if (!state.id) {\n      data.session = state.session;\n    }\n\n    state.items.forEach((item) =>\n      data.items.push({\n        cant: item.cant,\n        price: item.price,\n        store_items_id: item.store_items_id,\n      })\n    );\n\n    if (state.payments.length) {\n      state.payments.forEach((payment) => {\n        const pay = {\n          metodopago: payment.metodopago,\n          total: payment.total,\n        };\n\n        if (payment.metodopago !== 1) {\n          pay.auth = payment.auth;\n          if (payment.metodopago !== 4) {\n            pay.bank_id = payment.bank_id;\n          }\n        }\n\n        data.payments.push(pay);\n      });\n    }\n    return data;\n  };\n\n  const saveSale = () => {\n    const returnedSale = hookSale.saveSale(setDataToSend());\n\n    returnedSale.then(({ data }) => {\n      if (data) {          \n        if (state.id && state.order) {          \n          setState({\n            ...state,\n            id: data.id,\n            thereNews: false,\n            print: true,\n          });\n        } else {\n          window.Swal.fire({\n            title: \"Venta Guardada correctamente\",\n            text: `¿Quieres imprimir el ticket de la venta?`,\n            icon: \"success\",\n            showCancelButton: true,\n            confirmButtonText: \"Imprimir\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              setState({\n                ...state,\n                id: data.id,\n                thereNews: false,\n                print: true,\n              });\n            } else {\n              helpers.confirm(\"Cerrar la venta actual\", () => {\n                setState(initialState);\n              });\n            }\n          });\n        }\n      } else {\n        console.error(\"Error al guardar la venta\");\n      }\n    });\n  };\n\n  useEffect(() => {    \n    const total = state.items?.reduce(\n      (back, item) => item.cant * item.price + back, 0);\n    const payments = state.payments?.reduce((back, item) => item.total + back, 0);\n    let payed = Boolean(!(total - state.discount - payments));\n    let thereNews = state.id ? false : true;\n\n    if (!total && !payments) {\n      thereNews = false;\n      payed = false;\n\n    } \n\n    else if (state.thereNews) {\n      thereNews = true;\n    }\n\n    if(state.thereNews === false && state.load === false){      \n      thereNews = true\n    }\n\n    setState({\n      ...state,\n      isPayed: payed,\n      thereNews,\n      load: false,\n    });\n\n  }, [state.items, state.payments, state.discount]);\n\n  useEffect(() => {\n    if (state.isPayed) {\n      if (!state.id && !state.order) {\n        saveSale();\n      }\n    }\n  }, [state.isPayed]);\n\n  useEffect(() => {\n    if (props.match.params.id) {\n      hookSale.getSaleById(props.match.params.id).then((data) => {\n        if (data) {\n          setState({\n            ...state,\n            id: data.data.id,\n            order: data.data.order,\n            contact_id: data.data.customer.id,\n            items: data.data.items,\n            session: data.data.session,\n            discount: data.data.discount,\n            subtotal: data.data.subtotal,\n            total: data.data.total,\n            payments: data.data.payments,\n            branch_id: data.data.branch.id,\n            created_at: data.data.created_at,\n            activitys: data.data.activity,\n            customer: data.data.customer,\n            thereNews: false,\n          });\n        }\n      });\n    }\n  }, []);\n\n  return (\n    <SaleContext.Provider value={{ ...state, set: handleSet }}>\n      <div className=\"card border border-gray\">\n        <div className=\"card-body pb-2 d-print-none\">\n          <nav className=\"row\">\n            <div className=\"col\">\n              <CustomerBtnComponent />\n            </div>\n\n            <div className=\"col\">\n              <SaleDate></SaleDate>\n            </div>\n\n            <div className=\"col-3\">\n              <div className=\"card-tools d-flex justify-content-end mb-3\">\n                <ListSalesBtn />\n\n                <DiscountBtnComponent />\n\n                <EraseBtn {...props} />\n\n                <InfoButton />\n              </div>\n            </div>\n          </nav>\n          <div\n            className=\"overflow-auto text-right p-0 border border-gray\"\n            style={{ minHeight: \"65vh\" }}\n          >\n            <SalesDetailsTableComponent />\n          </div>\n        </div>\n\n        <div className=\"card-footer\">\n          <div className=\"row\">\n            <div className=\"col d-print-none\">\n              <ShowTotal />\n            </div>\n\n            <div className=\"col d-print-none\">\n              <ShowToPay />\n            </div>\n\n            <div className=\"col-6 text-right\">\n              <InputSearchItem />\n\n              <PaymentBtnComponent />\n\n              <button\n                className=\"btn btn-primary ml-3\"\n                onClick={() => validateSale()}\n                disabled={disabled}\n              >\n                <i className=\"fas fa-print mr-2\"></i>\n                Imprimir\n              </button>\n\n              {state.print && (\n                <PrintSaleComponent\n                  data={{ ...state, order_id: state.order }}\n                  setPrint={() => setState({ ...state, print: false })}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </SaleContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api, setUrl } from \"../../../utils/url\";\n\nexport default function ReportPaymentsDetails({ filters }) {\n  const [state, setState] = useState({\n    payments: [],\n    meta: {},\n    page: 1,\n    load: false,\n  });\n\n  const getSaleDay = async () => {\n    const paymentsFilters = {\n      ...filters,\n    };\n\n    paymentsFilters.itemsPage = 12;\n    paymentsFilters.page = state.page;\n\n    const paymentsUrl = setUrl(\"payments\", null, paymentsFilters);\n\n    const { data, message, meta } = await api(paymentsUrl);\n\n    if (data) {\n      setState({\n        ...state,\n        payments: data,\n        meta: meta,\n        load: false,\n      });\n    } else if (message) {\n      setState({\n        ...state,\n        load: false,\n      });\n\n      console.error(\"[Orus system] Error in report payments details:\", message);\n      window.Swal.fire(\"Fallo de conexion\", message, \"error\");\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [filters, state.page]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">Detallado</h3>\n      </div>\n      <div className=\"card-body\">\n        <table className=\"table table-sm\">\n          <thead>\n            <tr>\n              <th>Metodo</th>\n              <th>Cliente</th>\n              <th>Pedido</th>\n              <th>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {state.load ? (\n              <tr>\n                <td colSpan=\"4\" className=\"text-center p-4\">\n                  <div\n                    className=\"spinner-border text-primary mr-4\"\n                    role=\"status\"\n                  >\n                    <span className=\"sr-only\">Loading...</span>\n                  </div>\n                  <span className=\"font-weight-light font-italic\">\n                    Espere cargando datos de pagos\n                  </span>\n                </td>\n              </tr>\n            ) : state.payments.length ? (\n              state.payments.map((pay) => {    \n                return (\n                  <tr\n                    key={pay.id}\n                    className={pay.metodo === 1 ? \"text-success\" : \"\"}\n                  >\n                    <th className=\"text-uppercase\">{pay.metodoname}</th>\n                    <td className=\"text-capitalize\">\n                      {pay.sale && pay.sale.customer\n                        ? pay.sale.customer.name\n                        : \"--\"}\n                    </td>\n                    <td>\n                      <span\n                        className=\"badge badge-primary\"\n                        alt={\"Cobrado por: \" + pay.created_user}\n                        title={\"Cobrado por: \" + pay.created_user}\n                      >\n                        {pay.sale && pay.sale.pedido ? pay.sale.pedido : \"--\"}\n                      </span>\n                    </td>\n                    <td className=\"text-right\">{dollarUS.format(pay.total)}</td>\n                  </tr>\n                );\n              })\n            ) : (\n              <tr>\n                <th colSpan=\"4\" className=\"text-center\">\n                  <h6 className=\"text-warning\">\n                    <i className=\"fas fa-info mr-2\"></i>\n                    No hay datos para este dia\n                  </h6>\n                </th>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n      {state.meta.total ? (\n        <div className=\"card-footer\">\n          {state.meta.current_page === 1 ? (\n            <a href=\"#next\" onClick={(e) => e.preventDefault()}>\n              <i className=\"fas fa-step-backward text-dark\"></i>\n            </a>\n          ) : (\n            <a\n              href=\"#next\"\n              onClick={(e) => {\n                e.preventDefault();\n                setState({\n                  ...state,\n                  page: state.page - 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-step-backward\"></i>\n            </a>\n          )}\n          {\" \" + state.page + \" / \" + state.meta.last_page + \" \"}\n          {state.meta.current_page === state.meta.last_page ? (\n            <a href=\"#next\" onClick={(e) => e.preventDefault()}>\n              <i className=\"fas fa-step-forward text-dark\"></i>\n            </a>\n          ) : (\n            <a\n              href=\"#next\"\n              onClick={(e) => {\n                e.preventDefault();\n                setState({\n                  ...state,\n                  page: state.page + 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-step-forward\"></i>\n            </a>\n          )}\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api } from \"../../../utils/url\";\n\nexport default function ReportPays({ filters, changeState }) {\n  const { user, date_end, date_start } = filters;\n\n  const [state, setState] = useState({\n    rol: user.roles,\n    total: 0,\n    efectivo: 0,\n    page: 1,\n    char: null,\n  });\n\n  const getSaleDay = async () => {\n    const newFiltersPays = {\n      ...filters,\n    };\n\n    newFiltersPays.itemsPage = 12;\n    newFiltersPays.page = state.page;\n    newFiltersPays.type = \"methods\";\n\n    //const reportPaysUrl = setUrl(\"payments\", null, newFiltersPays);\n\n    const { data, message } = await api(\n      `payments?date_start=${date_start}&date_end=${date_end}&itemsPage=12&page=1&type=methods`\n    );\n\n    if (data) {\n      var donutChartCanvas = window.$(\"#donutChart\").get(0).getContext(\"2d\"),\n        donutOptions = {\n          maintainAspectRatio: true,\n          responsive: true,\n        },\n        labels = [],\n        values = [],\n        total = 0,\n        efectivo = 0,\n        donutData = {};\n\n      if (state.char) state.char.destroy();\n\n      if (!data.message) {\n        if (data && data.length) {\n          await data.map((mp) => {\n            labels.push(mp.method);\n            values.push(mp.total.toFixed(2));\n            if (mp.method === \"efectivo\") {\n              changeState(\"ventas\", mp.total);\n              efectivo = mp.total;\n            }\n            total += mp.total;\n            return null;\n          });\n        } else {\n          labels = [\"No hay datos\"];\n          values = [0];\n        }\n\n        setState({\n          ...state,\n          total,\n          efectivo,\n        });\n      } else {\n        console.error(\"[ORUS] Error al cargar la venta del dia\", data.message);\n        labels = [\"No hay datos\"];\n        values = [100];\n      }\n      donutData = {\n        labels: labels,\n        datasets: [\n          {\n            data: values,\n            backgroundColor: [\n              \"#f56954\",\n              \"#00a65a\",\n              \"#f39c12\",\n              \"#00c0ef\",\n              \"#3c8dbc\",\n              \"#d2d6de\",\n              \"#000\",\n            ],\n          },\n        ],\n      };\n      state.char = new window.Chart(donutChartCanvas, {\n        type: \"pie\",\n        data: donutData,\n        options: donutOptions,\n      });\n    } else {\n      window.Swal.fire({\n        title: \"Error!\",\n        text: \"Ups!\\n Hubo un error al descargar las ventas\",\n        icon: \"error\",\n        confirmButtonText: \"Ok\",\n      });\n\n      return message;\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [filters]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">\n          {state.rol\n            ? \"Mis ventas del dia por metodo de pago\"\n            : \"Ventas del dia por metodo de pago\"}\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        <canvas id=\"donutChart\"></canvas>\n        <p>\n          {!state.rol ? (\n            <React.Fragment>\n              Venta: <strong>{dollarUS.format(state.total)}</strong>\n              <br />\n            </React.Fragment>\n          ) : null}\n          Efectivo: <strong>{dollarUS.format(state.efectivo)}</strong>\n        </p>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api, setUrl } from \"../../../utils/url\";\n\nexport default function ReportBank({ filters }) {\n  const [state, setState] = useState({\n    listBank: [],\n    page: 1,\n    data: [],\n    load: false,\n  });\n\n  const getSaleDay = async () => {\n    const bankFilters = {\n      ...filters,\n    };\n\n    bankFilters.itemsPage = 12;\n    bankFilters.page = state.page;\n    bankFilters.type = \"banks\";\n\n    const bankUrls = setUrl(\"payments\", null, bankFilters);\n\n    const { data, message } = await api(bankUrls);\n\n    if (data) {\n      setState({\n        ...state,\n        data: data,\n        load: false,\n      });\n    } else if (message) {\n      setState({\n        ...state,\n        load: false,\n      });\n      console.error(\"[Orus system] Error in report payments details:\", message);\n      window.Swal.fire(\"Fallo de conexion\", message, \"error\");\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [filters]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">\n          Detallado de pagos bancarios\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        {state.load ? (\n          <div>\n            <div className=\"spinner-border text-primary mr-4\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </div>\n            <span className=\"font-weight-light font-italic\">\n              Espere cargando datos de banco\n            </span>\n          </div>\n        ) : (\n          <ul className=\"list-group\">\n            {state.data.length ? (\n              state.data.map((bank, i) => {\n                return (\n                  <li\n                    className=\"list-group-item d-flex justify-content-between align-items-center\"\n                    key={i}\n                  >\n                    <label className=\"text-uppercase\">{bank.name}</label>\n                    <span className=\"badge badge-primary\">\n                      {dollarUS.format(bank.total)}\n                    </span>\n                  </li>\n                );\n              })\n            ) : (\n              <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                <h6 className=\"text-warning\">\n                  <i className=\"fas fa-info mr-2\"></i>\n                  No hay datos para este dia\n                </h6>\n              </li>\n            )}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { useContext, useState, useEffect } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\n//Context\nimport { ConfigContext } from \"../../context/ConfigContext\";\n\n//Hooks\nimport useUsers from \"../../hooks/useUsers\"\n\nexport default function Filters({ filters, changeState }) {  \n\n  const { user, branch_id, date_end, date_start } = filters;\n  const [state, setState] = useState({\n    branch_id: branch_id,\n    user: user,\n    date_start,\n    date_end,\n  });\n  \n  const [usersList, setUsersList] = useState([]);\n  const usersHook = useUsers();\n  const config = useContext(ConfigContext);\n  const branches = config.data.filter((c) => c.name === \"branches\");\n\n\n  \n  // Functions\n  const sendDataFilter = () => {\n      const { user, branch_id, date_end, date_start } = state;\n      changeState({\n        branch_id,\n        user,\n        date_start,\n        date_end,\n      });\n    },\n    handleChangeDate = (field, date) => {\n      setState({\n        ...state,\n        [field]: moment(date).format(\"YYYY-MM-DD\"),\n      });\n    };\n\n    useEffect(()=>{\n      usersHook.getListUsers().then((data)=>{\n        if(data){\n          setUsersList(data.data)\n        }else{\n          console.error(\"Error al obtener la lista de usuarios\");\n        }\n      })\n    },[])// eslint-disable-line react-hooks/exhaustive-deps\n  return (\n    <div className=\"border-bottom pb-3 mb-4\">\n      <div className=\"card-body p-0 bg-light\">\n        <div className=\"form-group row col-lg-12 m-0\">\n          <div className=\"col-lg-1 mt-sm-3 ml-sm-3\">\n            <p className=\"mt-2 font-weight-bold text-secondary h5\">Filtros</p>\n          </div>\n\n          <div className=\"col-lg-2 mt-sm-3\">\n            <div className=\"col-lg-12\">\n              <select\n                className=\"form-control text-capitalize\"\n                defaultValue={branch_id}\n                onChange={({ target }) =>\n                  setState({ ...state, branch_id: target.value })\n                }\n              >\n                <option value=\"\">\n                  {branch_id === \"\" ? \"Sucursal\" : \"Todas\"}\n                </option>\n                {branches.map((branch) => {\n                  return (\n                    <option key={branch.id} value={branch.id}>\n                      {branch.data.name}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"col-lg-2 mt-sm-3\">\n            <div className=\"col-lg-12\">\n              <select\n                className=\"form-control text-capitalize\"\n                defaultValue={user}\n                onChange={({ target }) =>\n                  setState({ ...state, user: target.value })\n                }\n              >\n                <option value=\"\">{user === \"\" ? \"Usuarios\" : \"Todos\"}</option>\n                {usersList.map((user) => {\n                  if (!branch_id) {\n                    return (\n                      <option key={user.id} value={user.id}>\n                        {user.name}\n                      </option>\n                    );\n                  } else {\n                    return user.roles[0] !== \"doctor\" ? (\n                      <option key={user.id} value={user.id}>\n                        {user.name}\n                      </option>\n                    ) : null;\n                  }\n                })}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"row mt-sm-3 m-0 ml-sm-2\">\n            <label className=\"col-lg-1 col-form-label p-0 ml-5 mt-2 ml-sm-3\">\n              De:\n            </label>\n            <div className=\"col-lg-10\">\n              <DatePicker\n                className=\"form-control\"\n                selected={\n                  new Date(moment(state.date_start).format(\"MM-DD-YYYY\"))\n                }\n                onSelect={(date) => handleChangeDate(\"date_start\", date)}\n                onChange={(date) => handleChangeDate(\"date_start\", date)}\n              />\n            </div>\n          </div>\n\n          <div className=\"row mt-sm-3 m-0\">\n            <label className=\"col-lg-1 col-form-label p-0 mt-2 ml-sm-3\">\n              a:\n            </label>\n            <div className=\"col-lg-10\">\n              <DatePicker\n                className=\"form-control\"\n                selected={new Date(moment(state.date_end).format(\"MM-DD-YYYY\"))}\n                onSelect={(date) => handleChangeDate(\"date_end\", date)}\n                onChange={(date) => handleChangeDate(\"date_end\", date)}\n              />\n            </div>\n          </div>\n\n          <div className=\"col-lg-2 row mt-sm-3 d-flex justify-content-center m-0 h-50\">\n            <button\n              type=\"button\"\n              className=\"btn w-50 btn-success font-weight-bold\"\n              onClick={sendDataFilter}\n            >\n              Filtrar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { Component } from \"react\";\n\n//Componentes\nimport { dollarUS } from \"../../utils/current\";\n\nexport default class BoxCut extends Component {\n  render() {\n    const { ventas } = this.props;\n\n    return (\n      <div className=\"card border border-info rounded\">\n        <div className=\"card-body bg-light\">\n          <h2 className=\"card-title text-secondary\">Efectivo de caja</h2>\n          <br />\n          <div className=\"row\">\n            <div className=\"col\">\n              <h5 className=\"text-success\">{dollarUS.format(ventas)}</h5>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import { useState, useContext } from \"react\";\nimport moment from \"moment\";\n\nimport PaymentsDetails from \"../components/Sales/views/reportPaymentsDetails\";\nimport ReportPays from \"../components/Sales/views/reportPays\";\nimport ReportBank from \"../components/Sales/views/reportBank\";\nimport Filters from \"../components/dashboard/Filters\";\nimport BoxCut from \"../components/dashboard/boxCut\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Dashboard() {\n  const { auth } = useContext(AuthContext);\n\n  const [state, setState] = useState({\n    user: 0,\n    date_start: moment().startOf(\"week\").format(\"YYYY-MM-DD\"),\n    date_end: moment().format(\"YYYY-MM-DD\"),\n    branch_id: auth.branch.id,\n    ventas: 0,\n    filterData: {},\n  });\n\n  const filtersState = {\n    user: state.user,\n    date_start: state.date_start,\n    date_end: state.date_end,\n    branch_id: state.branch_id,\n  };\n  \n  const changeAllState = (obj) => {\n    if (typeof obj !== \"object\") {\n      console.log(\"[Orus system] The filters data not is a object:\", obj);\n      return;\n    }\n\n    setState({\n      ...state,\n      ...obj,\n    });\n  };\n\n  return (\n    <div className=\"content\" style={{minHeight:'100vh'}}>\n      <p className=\"h4 border-bottom mb-4\">\n        Bienvenido\n        <span className=\"font-weight-bold mx-2 text-capitalize\">\n          {auth.name.toLowerCase()}\n        </span>\n        este es el resumen.\n      </p>\n\n      <div className=\"row\">\n        <div className=\"col col-md-12 col-lg-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <Filters filters={filtersState} changeState={changeAllState} />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col-lg-4 col-md-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <BoxCut ventas={state.ventas} />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <ReportPays filters={filtersState} changeState={changeAllState} />\n            </div>\n          </div>\n        </div>\n        <div className=\"col-lg-8 col-md-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-4 col-md-12\">\n              <ReportBank filters={filtersState} changeState={changeAllState} />\n            </div>\n            <div className=\"col-lg-8 col-md-12\">\n              <PaymentsDetails\n                filters={filtersState}\n                changeState={changeAllState}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { createContext, useContext } from \"react\";\n\nexport const UserContext = createContext(null);\nexport const Users = ()=> useContext(UserContext);","import { useContext } from \"react\";\nimport { UserContext } from \"../../../context/UserContext\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function FiltersToolbar({handleNewOrEdit: _handleNewOrEdit, newOrEdit: _newOrEdit}){\n\n    const _userContext = useContext(UserContext)\n    const history = useHistory();\n    \n    return (\n          <div className=\"col-lg-12\">\n\n\n            <button \n\n              className={\n                _userContext.panel !== \"inbox\"\n                  ? \"disabled mb-3 btn btn-secondary btn-block\"\n                  : \"mb-3 btn btn-primary btn-block\"\n              }\n\n              onClick={(e) => {\n                e.preventDefault();\n                _handleNewOrEdit()\n              }}\n\n              disabled={ _newOrEdit}\n              >\n                <i className=\"mr-2 fas fa-plus\"></i>\n                Usuario nuevo\n            </button>\n    \n            {!_newOrEdit ? (\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-dark\">\n                    <i className=\"mr-2 fas fa-ellipsis-v\"></i>Filtros\n                  </h5>\n                </div>\n                <div className=\"p-0 card-body\">\n                  <ul className=\"nav nav-pills flex-column\">\n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"orderby\">Ordenar por</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"orderby\"\n                        id=\"orderby\"\n                        value={_userContext.options.orderby}\n                        onChange={({ target }) => {\n\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"created_at\">Fecha de registro</option>\n                        <option value=\"updated_at\">Fecha de modificacion</option>\n                      </select>\n                    </li>\n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"order\">Mostrar por</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"order\"\n                        id=\"order\"\n                        value={_userContext.options.order}\n                        onChange={({ target }) => {\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"asc\">Antiguos</option>\n                        <option value=\"desc\">Recientes</option>\n                      </select>\n                    </li>\n    \n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"itemsPage\">Numero de usuarios</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"itemsPage\"\n                        id=\"itemsPage\"\n                        value={_userContext.options.itemsPage}\n                        onChange={({ target }) =>{\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"25\">ver 25</option>\n                        <option value=\"50\">ver 50</option>\n                        <option value=\"75\">ver 75</option>\n                        <option value=\"100\">ver 100</option>\n                      </select>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            ) : (\n              <div>\n                <li className=\"list-group-item\">\n              <a\n                href=\"#back\"\n                className=\"d-flex justify-content-between align-items-center\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  _handleNewOrEdit();\n                  history.push('/usuarios');\n                }}\n              >\n                Ver listado\n                <span className=\"badge badge-primary badge-pill\">\n                  <i className=\"fas fa-chevron-left\"></i>\n                </span>\n              </a>\n            </li>\n              </div>\n            )}\n          </div>\n    )\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { useEffect, useState, useContext } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\nimport { UserContext } from \"../../../context/UserContext\";\nimport ListInbox from \"../../../layouts/list_inbox\";\nimport { useHistory } from \"react-router-dom\";\n//import { AuthContext } from '../../../context/AuthContext';\n\nexport default function InboxComponent() {\n  const history = useHistory();\n  const _users = useUsers();\n  const _userContext = useContext(UserContext);\n  //const _authContext = useContext(AuthContext);\n  const [userSelected, setUserSelected] = useState(\"\");\n\n  const [data, setData] = useState({\n    users: [],\n    meta: {},\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  const { users, meta } = data;\n\n  const handleChangeOptions = (key, value) => {\n    _userContext.set({\n      ..._userContext,\n      options: {\n        ..._userContext.options,\n        [key]: value,\n      },\n    });\n  };\n\n  const deleteItem = () => {\n    setLoading(true);\n    _users\n      .deleteUser(userSelected)\n      .then((data) => {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Usuario eliminado correctamente\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n\n        setUserSelected({ id: 0 });\n\n        _users.getListUsers(_userContext.options).then((data) => {\n          if (data) {\n            setData({\n              ...data,\n              users: data.data,\n              meta: data.meta,\n            });\n            setLoading(false);\n          }\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  const handleSelectUser = (e, order = { id: 0 }) => {\n    if (userSelected) {\n      history.push(`usuarios/${userSelected}`);\n    } else {\n      window.Swal.fire({\n        title: \"Error\",\n        text: \"Lo sentimos no existe un contacto seleccionado\",\n        icon: \"error\",\n      });\n    }\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    _users.getListUsers(_userContext.options).then((data) => {\n      if (data) {\n        setData({\n          ...data,\n          users: data.data,\n          meta: data.meta,\n        });\n        setLoading(false);\n      } else {\n        console.error(\"Error al obtener los datos\");\n      }\n    });\n  }, [_userContext.options]);\n\n  return (\n    <ListInbox\n      title=\"Lista de productos\"\n      icon=\"id-badge\"\n      color=\"primary\"\n      loading={loading}\n      meta={meta}\n      itemSelected={userSelected}\n      defaultSearch={_userContext.options.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleDeleteItem={deleteItem}\n      handleEditItem={handleSelectUser}\n      handleSync={() => {\n        _userContext.set({\n          ..._userContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n          },\n        });\n      }}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Email/Usuario</th>\n            <th>Rol</th>\n            <th>Sucursal</th>\n            {_userContext.options.orderby === \"created_at\" ? (\n              <th>Creado</th>\n            ) : (\n              <th>Modificado</th>\n            )}\n          </tr>\n        </thead>\n        <tbody>\n          {users.length ? (\n            <>\n              {users.map((user) => {\n                return (\n                  <tr key={user.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={user.id}\n                        id={\"item_\" + user.id}\n                        checked={userSelected === user.id ? true : false}\n                        onChange={({ target }) => {\n                          const { value, checked } = target;\n                          setUserSelected(checked ? parseInt(value) : \"\");\n                          //handleUserSelect(target);\n                        }}\n                      />\n                      <label\n                        htmlFor={\"item_\" + user.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td\n                      className=\"mailbox-name text-capitalize text-truncate text-bold text-primary\"\n                      style={{ cursor: \"pointer\", maxWidth: 180 }}\n                      onClick={(e) => {\n                        //handleSelectUser(e, user)\n                        history.push(`usuarios/${user.id}`);\n                      }}\n                    >\n                      {user.name}\n                    </td>\n                    <td className=\"mailbox-name text-muted text-truncate\">\n                      <span>{user.email}</span>\n                    </td>\n                    <td className=\"mailbox-name \">\n                      <span className={getClassByRole(user.roles[0])}>\n                        {user.roles[0]}\n                      </span>\n                    </td>\n                    <td className=\"text-truncate\">\n                      <span className=\"text-capitalize\">\n                        {user.branch.data.name}\n                      </span>\n                    </td>\n                    {_userContext.options.orderby === \"created_at\" ? (\n                      <td className=\"mailbox-date text-muted text-truncate\">\n                        <span>{moment(user.created_at).format(\"LL\")}</span>\n                      </td>\n                    ) : (\n                      <td className=\"mailbox-date text-muted text-truncate\">\n                        <span>{moment(user.updated_at).fromNow()}</span>\n                      </td>\n                    )}\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"6\">\n                No hay usuarios registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </ListInbox>\n  );\n}\n\nfunction getClassByRole(role) {\n  switch (role) {\n    case \"admin\":\n      return \"text-capitalize badge badge-pill badge-dark\";\n    case \"ventas\":\n      return \"text-capitalize badge badge-pill badge-success\";\n    default:\n      return \"text-capitalize badge badge-pill badge-primary\";\n  }\n}\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { UserContext } from \"../context/UserContext\";\n\n//Components\nimport FiltersToolbar from \"../components/Users/views/FiltersToolbar\";\nimport Inbox from \"../components/Users/views/Inbox\";\nimport Add from \"../components/Users/add\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n  search: \"\",\n};\n\nexport default function UsersComponent(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    panel: null,\n    newOrEdit: null,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <UserContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <div className=\"col-lg-2\">\n          <FiltersToolbar\n            newOrEdit={state.newOrEdit}\n            handleNewOrEdit={() =>\n              setState({\n                ...state,\n                newOrEdit: !state.newOrEdit,\n              })\n            }\n          />\n        </div>\n\n        <div className=\"col-lg-10\">\n          {typeof state.newOrEdit === \"boolean\" ? (\n            <div className=\"col-sm-10 col-md-12 col-lg-12\">\n              {state.newOrEdit === true ? (\n                <Add\n                  {...props}\n                  handleNewOrEdit={() =>\n                    setState({\n                      ...state,\n                      newOrEdit: !state.newOrEdit,\n                    })\n                  }\n                />\n              ) : state.newOrEdit === false ? (\n                <Inbox />\n              ) : null}\n            </div>\n          ) : (\n            <p>Loading component</p>\n          )}\n        </div>\n      </div>\n    </UserContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const OrderContext = createContext(null);\nexport const Order = () => useContext(OrderContext);\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useOrder(){\n\n    const getListOrders = async (options)=> {\n        const url = setUrl('orders', null, options);\n        return await api(url);\n    }\n\n    const getOrder = async (orderID)=>{\n        const url = setUrl('orders', orderID.id);\n        return await api(url);\n    }\n\n    const saveOrder = async (data)=>{\n        const method = data.id ? 'PUT' : 'POST';\n        if(data.status === 2 && !data.bi_details.length){\n            delete data.bi_details;\n        }    \n        const url = setUrl('orders', data.id);\n        delete data.id;\n        return await api(url, method, data);\n    }\n    \n    const deleteOrder = async (id)=>{\n        const method = \"DELETE\";\n        const url = setUrl('orders', id);\n        return await api(url, method);\n    }\n    \n    return{\n        getListOrders,\n        getOrder,\n        deleteOrder,\n        saveOrder,\n    }\n\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Main from \"../../../layouts/list_inbox\";\nimport helper from \"../helpers\";\nimport useOrder from \"../../../hooks/useOrder\";\nimport { Order } from \"../../../context/OderContext\";\n\nconst InboxOrderComponent = (props) => {\n  const orderContext = Order();\n  const orderHook = useOrder();\n  const options = orderContext?.options;\n\n  const [pedidos, setPedidos] = useState({\n    data: [],\n    meta: {},\n    loading: false,\n  });\n\n  const { _saveOrder } = props;\n\n  const history = useHistory();\n\n  const [orderSelected, setOrderSelected] = useState({ id: 0 });\n\n  const getList = () => {\n    if (!options) return null;\n\n    setPedidos({\n      ...pedidos,\n      loading: true,\n    });\n\n    orderHook.getListOrders(options).then((data) => {\n      if (data) {\n        setPedidos({\n          data: data.data,\n          meta: data.meta,\n        });\n      } else {\n        console.error(\"Error al obtener la lista de pedidos\");\n      }\n    });\n  };\n\n  const handleChangeOptions = (key, value) => {\n    orderContext?.set({\n      ...orderContext,\n      options: {\n        ...options,\n        [key]: value,\n      },\n    });\n  };\n\n  const handleSelectOrder = (e, order = { id: 0 }) => {\n    if (e) e.preventDefault();\n    if (order.id !== 0) {\n      history.push(`/pedidos/${order.id}`);\n    } else {\n      history.push(`pedidos/${orderSelected.id}`);\n    }\n  };\n\n  const handleOrderSelect = ({ checked }, pedido) => {\n    if (!checked) pedido = { id: 0 };\n    setOrderSelected(pedido);\n  };\n\n  const deleteOrder = () => {\n    window.Swal.fire({\n      title: \"¿Estás seguro de eliminar la orden?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        orderHook.deleteOrder(orderSelected.id);\n\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Orden eliminada correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n\n        orderContext.set({\n          ...orderContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n            status: 0,\n            search: \"\",\n          },\n        });\n      }\n    });\n  };\n\n  const handleStatus = () => {\n    if (orderSelected.id && orderSelected.estado < 3) {\n      helper.handleSaveOrder(\n        orderSelected.id,\n        { status: 3 },\n        options,\n        _saveOrder\n      );\n    }\n    setOrderSelected({ id: 0 });\n  };\n\n  useEffect(() => {\n    getList();\n    // eslint-disable-next-line\n  }, [options]);\n\n  return (\n    <Main\n      title=\"Listado de pedidos\"\n      icon=\"clipboard-list\"\n      color=\"warning\"\n      meta={pedidos.meta}\n      itemSelected={orderSelected.id}\n      loading={pedidos.loading}\n      defaultSearch={options?.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleEditItem={handleSelectOrder}\n      handleDeleteItem={deleteOrder}\n      handleSync={() => {\n        orderContext.set({\n          ...orderContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n            status: 0,\n            search: \"\",\n          },\n        });\n      }}\n      handleStatus={handleStatus}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Folio</th>\n            <th>Cliente</th>\n            <th>Estado</th>\n            <th>Nota</th>\n            <th>\n              {options?.orderby === \"created_at\" ? \"Registrado\" : \"Modificado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {pedidos.data.length ? (\n            pedidos.data.map((pedido, i) => {\n              return (\n                <tr key={pedido.id}>\n                  <td>\n                    <div className=\"icheck-primary\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={pedido.id}\n                        id={\"order_\" + pedido.id}\n                        checked={orderSelected.id === pedido.id ? true : false}\n                        disabled={pedido.status > 2}\n                        onChange={({ target }) =>\n                          handleOrderSelect(target, pedido)\n                        }\n                      />\n                      <label\n                        htmlFor={\"order_\" + pedido.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </div>\n                  </td>\n                  <td>#{pedido.id}</td>\n                  <td\n                    className=\"mailbox-name text-truncate text-capitalize text-bold\"\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    <a\n                      href=\"#edit\"\n                      onClick={(e) => handleSelectOrder(e, pedido)}\n                    >\n                      <span\n                        className={\n                          pedido.status > 2\n                            ? \"text-muted\"\n                            : \"text-dark text-bold\"\n                        }\n                      >\n                        <i className=\"fas fa-user text-sm mr-2\"></i>\n                        {pedido.paciente.name}\n                      </span>\n                    </a>\n                  </td>\n                  <td className=\"mailbox-subject\">\n                    {helper.getBadgeStatus(pedido.status)}\n                    {pedido.status === 1 ? (\n                      <div>\n                        <span className=\"mr-1 text-dark\">\n                          {pedido.lab ? pedido.lab.nombre : \"Sin asignar\"}\n                        </span>\n                        {pedido.lab ? \"/ \" + pedido.npedidolab : \"\"}\n                      </div>\n                    ) : pedido.status === 2 ? (\n                      <small>\n                        {pedido.ncaja\n                          ? \"CAJA: \" + pedido.ncaja\n                          : \"Caja no asignada\"}\n                      </small>\n                    ) : !pedido.status ? (\n                      <small>\n                        {pedido.exam\n                          ? pedido.exam.status === 1\n                            ? \"Examen completado\"\n                            : \"Examen no realizado\"\n                          : \"Examen no asignado\"}\n                      </small>\n                    ) : pedido.status === 3 ? (\n                      <small className=\"text-dark\">Sin entregar</small>\n                    ) : null}\n                  </td>\n                  <td className=\"mailbox-attachment\">\n                    {pedido.sale ? (\n                      <Link to={\"/notas/registro/\" + pedido.sale.id}>\n                        <span className=\"badge badge-success\">\n                          {pedido.sale.id}\n                        </span>\n                      </Link>\n                    ) : (\n                      \"--\"\n                    )}\n                  </td>\n                  <td className=\"mailbox-date\">\n                    {options.orderby === \"created_at\"\n                      ? moment(pedido.created_at).format(\"ll\")\n                      : moment(pedido.updated_at).fromNow()}\n                  </td>\n                </tr>\n              );\n            })\n          ) : (\n            <tr>\n              <th colSpan=\"10\" className=\"text-center\">\n                No hay datos para mostrar\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Main>\n  );\n};\n\nexport default InboxOrderComponent;\n","const getSession = () => {\n    return (\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(10)\n    );\n  };\n\n\n  const toExport = {\n      getSession\n  }\n\n\n  export default toExport;","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\n\n//Hooks\nimport useProducts from \"../../../hooks/useProducts\";\n\nfunction SearchItemsComponent(props) {\n  const hookProducts = useProducts();\n\n  // Props and vars\n  const {\n    item = { name: \"\" },\n    handleItemSelect: _handleItemSelect,\n  } = props;\n\n  // States\n  const [search, setSearch] = useState(item.name),\n  [timer, setTimer] = useState(\"\"),\n  [load, setLoad] = useState(false),\n  [items, setItems] = useState([]);\n\n  // Functions\n  const handleChangeSearch = ({ target }) => {\n    const { value } = target;\n    setSearch(value.toLowerCase());\n    setLoad(true);\n  };\n\n  const handleSelect = (item) => {\n    _handleItemSelect(item);\n    setSearch(item.name.toUpperCase());\n    setItems([]);\n  };\n\n  useEffect(() => {\n    let toTimer = null;\n    if (search.length > 2 && !item.store_items_id) {\n      if (timer) clearTimeout(timer);\n      toTimer = setTimeout(() => {\n        hookProducts.getProducts(search).then((data) => {\n          if (data) {\n            setItems(data.data);\n          } else {\n            console.error(\"Error al obtener la lista de productos\");\n          }\n        });\n        setTimer(\"\");\n        setLoad(false);\n      }, 1000);\n      setTimer(toTimer);\n    }\n\n    if (!search.length && items.length) {\n      if (timer) clearTimeout(timer);\n      setLoad(false);\n    }\n\n    if(!search){\n      setItems([]);\n    }\n  }, [search]);\n\n  return (\n    <>\n      <label>\n        Producto\n        {load ? (\n          <span\n            className=\"position-absolute text-primary ml-2\"\n            style={{ zIndex: \"101\", top: \"0\" }}\n          >\n            Buscando...\n          </span>\n        ) : null}\n      </label>\n      <input\n        className=\"form-control text-uppercase text-truncate\"\n        type=\"text\"\n        placeholder=\"Buscar producto\"\n        autoComplete=\"off\"\n        value={search}\n        onChange={handleChangeSearch}\n      />\n      {items.length && search.length > 2 ? (\n        <div\n          className=\"position-absolute shadow p-0 pt-2 pl-1 bg-white rounded w-100 mh-50 overflow-auto\"\n          style={{ maxHeight: \"18rem\", zIndex: \"100\" }}\n        >\n          <div className=\"list-group m-0 list-group-flush\">\n            {items\n              .sort((a, b) => {\n                if (a.cant > b.cant) {\n                  return -1;\n                }\n                if (a.cant < b.cant) {\n                  return 1;\n                }\n                return 0;\n              })\n              .map((product) => {\n                return getItemToShow(product, handleSelect);\n              })}\n            {/* {meta.total > perPage && (\n              <a\n                href=\"#more\"\n                className=\"list-group-item text-center text-dark text-bold\"\n                onClick={(e) => e.preventDefault()}\n              >\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Existen mas registros, sea más espesifico\n              </a>\n            )} */}\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n}\n\n/* const mapStateToProps = ({ storeItem }) => {\n    return {\n      items: storeItem.list,\n      meta: storeItem.metaList,\n      loading: storeItem.loading,\n    };\n  },\n  mapActionsToProps = {\n    _getList: storeActions.getListStore,\n    _setList: storeActions.setListStore,\n  }; */\n\n/* export default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(SearchItemsComponent); */\n\nexport default SearchItemsComponent;\n\nfunction getItemToShow(i, handleSelect) {\n  if (i.cant !== i.cant_total) {\n    if (!i.cant && i.cant_total) {\n      return (\n        <a\n          key={i.id}\n          className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n          href=\"#l\"\n          onClick={(e) => {\n            e.preventDefault();\n            handleSelect(i);\n          }}\n        >\n          <span className=\"text-truncate text-uppercase text-muted\">\n            [S]-{i.name}\n          </span>\n          <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n        </a>\n      );\n    }\n    return (\n      <a\n        key={i.id}\n        className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n        href=\"#l\"\n        onClick={(e) => {\n          e.preventDefault();\n          handleSelect(i);\n        }}\n      >\n        <span className=\"text-truncate text-uppercase text-primary\">\n          {i.name}\n        </span>\n        <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n      </a>\n    );\n  } else if (!i.cant_total && !i.cant) {\n    return (\n      <a\n        key={i.id}\n        className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n        href=\"#l\"\n        onClick={(e) => {\n          e.preventDefault();\n          handleSelect(i);\n        }}\n      >\n        <span className=\"text-truncate text-uppercase text-danger\">\n          [X]-{i.name}\n        </span>\n        <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n      </a>\n    );\n  }\n\n  return (\n    <a\n      key={i.id}\n      className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n      href=\"#l\"\n      onClick={(e) => {\n        e.preventDefault();\n        handleSelect(i);\n      }}\n    >\n      <span className=\"text-truncate text-uppercase text-primary\">\n        {i.name}\n      </span>\n      <span className=\"badge badge-dark badge-pill\">{i.cant}</span>\n    </a>\n  );\n}\n","const verifyItem = (item) => {\n  if (item.cant <= 0) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"La cantidad debe de ser un valor valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n  if (!item.store_items_id) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"No se selecciono un producto valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n  if (!item.price) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"El precio no es valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n\n  return true;\n};\nconst handleVerifyData = (data, codeRef) => {\n  const {\n    category_id,\n    category_id1,\n    category_id2,\n    category_id4,\n    supplier,\n    brand_id,\n    code,\n  } = data;\n\n  if (!category_id) {\n    window.Swal.fire(\n      \"Verificación\",\n      \"Selecione una categoria primero\",\n      \"warning\"\n    );\n    return false;\n  }\n\n  if (category_id) {\n    if (category_id1 === 1 && category_id4 !== category_id) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Selecione una categoria valida para lentes\",\n        \"warning\"\n      );\n      return false;\n    } else if (category_id1 === 2 && category_id2 !== category_id) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Selecione una categoria valida para armazones\",\n        \"warning\"\n      );\n      return false;\n    }\n  }\n\n  if (category_id1 === 2 && !supplier) {\n    window.Swal.fire(\n      \"Verificación\",\n      \"Selecione un PROVEEDOR valido primero\",\n      \"warning\"\n    );\n    return false;\n  }\n  if (category_id1 === 2 && !brand_id) {\n    window.Swal.fire(\n      \"Verificación\",\n      \"Selecione una MARCA valida primero\",\n      \"warning\"\n    );\n    return false;\n  }\n  if (!code && !codeRef.current.value) {\n    window.Swal.fire(\n      \"Verificación\",\n      \"Escriba una CODIGO para este producto\",\n      \"warning\"\n    );\n    return false;\n  }\n\n  return true;\n};\nconst handleDeleteItem = (item, options, _delete, text) => {\n  if (item.id) {\n    //Check text\n    if (!text) text = `¿Esta seguro de eliminar el producto ${item.code}?`;\n    //delete confirm\n    window.Swal.fire({\n      text,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss && _delete) {\n        _delete({\n          id: item.id,\n          options,\n        });\n        return true;\n      }\n    });\n    return false;\n  }\n};\nconst handleSaveItem = (id, data, options, _save, _close, text) => {\n  if (!text) {\n    text = id\n      ? \"¿Esta seguro de actualizar el producto?\"\n      : \"¿Esta seguro de crear un nuevo producto?\";\n  }\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text,\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonColor: \"#007bff\",\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      //Save\n      _save({\n        id,\n        data,\n        options,\n      });\n      //close\n      if (_close) _close();\n    }\n  });\n};\nconst handleCatOne = (data) => ({\n    category_id: data.id,\n    category_id1: data.id,\n    category_id2: 0,\n    category_list2: data.hijos,\n    category_id3: 0,\n    category_list3: [],\n    category_id4: 0,\n    category_list4: [],\n    supplier: 0,\n  }),\n  handleCatTwo = (data) => ({\n    category_id: data.id,\n    category_id2: data.id,\n    category_id3: 0,\n    category_list3: data.hijos,\n    category_id4: 0,\n    category_list4: [],\n  }),\n  handleCatTree = (data) => ({\n    category_id: data.id,\n    category_id3: data.id,\n    category_id4: 0,\n    category_list4: data.hijos,\n  });\nconst handleCodeString = (\n    stringcode = \"armazon\",\n    category,\n    brand,\n    code = \"\"\n  ) => {\n    stringcode +=\n      category.current !== null && category.current.selectedIndex\n        ? \" \" +\n          category.current.options[category.current.selectedIndex].text.trim()\n        : \"\";\n    stringcode +=\n      brand.current !== null && brand.current.selectedIndex\n        ? \" \" +\n          brand.current.options[brand.current.selectedIndex].text\n            .trim()\n            .replace(/\\s/gim, \"\")\n        : \"\";\n\n    if (code) {\n      stringcode += \" \" + code.replace(/[-\\s]+/gm, \"\");\n    }\n\n    return stringcode.toLowerCase();\n  },\n  codeLentString = (string) => {\n    switch (string) {\n      case \"monofocales\":\n        return \"MF\";\n      case \"bifocales\":\n        return \"BF\";\n      case \"progresivo basico\":\n      case \"progresivo-basico\":\n        return \"PB\";\n      case \"progresivo digital\":\n      case \"progresivo-digital\":\n        return \"PD\";\n      case \"plastico\":\n        return \"CR\";\n      case \"policarbonato\":\n        return \"PL\";\n      case \"hi-index\":\n      case \"hi index\":\n        return \"HI\";\n      case \"antirreflejantes\":\n        return \"AR\";\n      case \"photo\":\n        return \"PH\";\n      case \"ar & photo\":\n      case \"antirreflejante-photo\":\n        return \"ARPH\";\n      case \"blanco\":\n        return \"BL\";\n      case \"polarizado\":\n        return \"PO\";\n      case \"bifocal invisible\":\n      case \"bifocal-invisible\":\n        return \"BI\";\n      case \"monofocal drivesafe\":\n      case \"monofocal-drivesafe\":\n      case \"monofocal digital drivesafe\":\n      case \"monofocal digital DriveSafe\":\n        return \"MDSF\";\n      case \"monofocal superb\":\n      case \"monofocal-superb\":\n      case \"monofocal digital superb\":\n        return \"MDSU\";\n      case \"monofocal individual\":\n      case \"monofocal-individual\":\n      case \"monofocal digital individual\":\n        return \"MDIN\";\n      default:\n        return \"XX\";\n    }\n  },\n  handleCodeLent = (grad, category1, category2, category3) => {\n    if (!category1.current || !category2.current || !category3.current) {\n      return \"\";\n    }\n\n    let stringcode =\n      category1.current !== null\n        ? codeLentString(\n            category1.current.options[category1.current.selectedIndex].text\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n    stringcode +=\n      category2.current !== null\n        ? codeLentString(\n            category2.current.options[category2.current.selectedIndex].text\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n    stringcode +=\n      category3.current !== null\n        ? codeLentString(\n            category3.current.options[category3.current.selectedIndex].text\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n\n    return stringcode + grad.toString().trim().replace(/\\s/gim, \"\");\n  },\n  handleNameLent = (grad, category1, category2, category3) => {\n    if (!category1.current || !category2.current || !category3.current) {\n      return \"\";\n    }\n\n    let stringcode = \"\";\n    stringcode +=\n      category1.current !== null\n        ? category1.current.options[category1.current.selectedIndex].text.trim()\n        : \"\";\n    stringcode +=\n      category2.current !== null\n        ? \" \" +\n          category2.current.options[category2.current.selectedIndex].text.trim()\n        : \"\";\n    stringcode +=\n      category3.current !== null\n        ? \" \" +\n          category3.current.options[category3.current.selectedIndex].text.trim()\n        : \"\";\n\n    stringcode += \" \" + grad.toString();\n    return stringcode.toLowerCase();\n  };\n\nconst toExport = {\n  verifyItem,\n  handleDeleteItem,\n  handleVerifyData,\n  handleSaveItem,\n  handleCatOne,\n  handleCatTwo,\n  handleCatTree,\n  handleCodeString,\n  handleCodeLent,\n  codeLentString,\n  handleNameLent,\n};\n\nexport default toExport;\n","import React, { useState, useContext } from \"react\";\n//Components\nimport Search from \"../data/searchStore\";\n//Actions\nimport helper from \"../helpers\";\n\n//Context\nimport { AuthContext } from \"../../../context/AuthContext\";\n\nfunction AddItemModalComponent(props) {\n  const authContex = useContext(AuthContext);\n  const currentUser = authContex.auth;\n\n  //Props and vars\n  const {\n    codeDefault = \"\",\n    cantDefault = 1,\n    handleAddItem: _handleAddItem,\n    handleCloseModal: _handleCloseModal,\n  } = props;\n\n  //States\n  const [item, setItem] = useState({\n      id: 0,\n      name: codeDefault,\n      cant: cantDefault,\n      price: 0,\n      out: 0,\n      inStorage: 0,\n      subtotal: 0,\n      store_items_id: 0,\n      descripcion: \"\",\n      category: 0,\n    }),\n    [showDesc, setShowDesc] = useState(false);\n\n  //Functions\n  const _reset = () => {\n      setItem({\n        id: 0,\n        name: \"\",\n        price: 0,\n        out: 0,\n        cant: 1,\n        inStorage: 0,\n        subtotal: 0,\n        store_items_id: 0,\n        descripcion: \"\",\n        category: {},\n      });\n    },\n    close = () => {\n      _reset();\n      _handleCloseModal();\n    },\n    hanleChangeDataItem = (data) => {\n      setItem({\n        ...item,\n        store_items_id: data.id,\n        id: 0,\n        name: data.name.toLowerCase(),\n        price: parseFloat(data.price),\n        out: data.cant_total,\n        cant: 1,\n        inStorage: 0,\n        subtotal: data.price,\n        descripcion: \"\",\n        category: data.category,\n      });\n    },\n    handleChangeItem = (key, value) => {\n      setItem({\n        ...item,\n        [key]: key === \"descripcion\" ? value : parseInt(value),\n      });\n    },\n    hanldeSendBack = () => {\n      const verify = helper.verifyItem(item);\n\n      if (!verify) return false;\n\n      item.inStorage = item.out >= item.cant ? true : false;\n      item.out = item.out >= item.cant ? 0 : item.cant - item.out;\n      item.subtotal = parseFloat(item.cant * item.price);\n      item.branch_id = currentUser.branch.id;\n      _handleAddItem(item);\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-primary text-bold\">\n              <i className=\"fas fa-plus mr-1\"></i>\n              Agregar producto\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={() => close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            <div className=\"row\">\n              <div className=\"col position-relative\">\n                <Search item={item} handleItemSelect={hanleChangeDataItem} />\n              </div>\n              {item.store_items_id ? (\n                <>\n                  <div className=\"col-2\">\n                    <label>Cantidad</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control\"\n                      placeholder=\"Cantidad\"\n                      defaultValue={item.cant}\n                      min=\"0\"\n                      max=\"100\"\n                      onChange={({ target }) =>\n                        handleChangeItem(\"cant\", target.value)\n                      }\n                    />\n                  </div>\n                  <div className=\"col-3\">\n                    <label>Precio</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control text-right\"\n                      placeholder=\"Precio\"\n                      min=\"0\"\n                      value={item.price ?? \"\"}\n                      onChange={({ target }) =>\n                        handleChangeItem(\"price\", target.value)\n                      }\n                    />\n                  </div>\n                  {showDesc ? (\n                    <div className=\"col-12 mt-2\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Agregue una descripcion\"\n                        value={item.descripcion}\n                        onChange={({ target }) =>\n                          handleChangeItem(\"descripcion\", target.value)\n                        }\n                      />\n                    </div>\n                  ) : null}\n                </>\n              ) : null}\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <div className=\"btn-group\">\n              <button\n                type=\"button\"\n                className=\"btn btn-default btn-sm\"\n                onClick={() => close()}\n              >\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-default btn-sm\"\n                onClick={() => setShowDesc(!showDesc)}\n                disabled={!item.store_items_id}\n              >\n                <i className=\"fas fa-sticky-note mr-1\"></i>\n                {showDesc ? \"Cerrar nota\" : \"Abrir nota\"}\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary btn-sm text-bold\"\n                disabled={\n                  item.store_items_id && item.cant && item.price ? false : true\n                }\n                onClick={() => hanldeSendBack()}\n              >\n                <i className=\"fas fa-save mr-1\"></i>\n                Agregar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AddItemModalComponent;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport AddModal from \"../../Store/views/searchItemModal\";\n\nexport default function ListItemComponent(props) {\n  const [state, setState] = useState({\n    itemNew: false,\n    code: \"\",\n    cant: 1,\n    validItems: true,\n    showDetails: true,\n    disabled: false,\n    total: 0,\n  });\n\n  const handleSetCantItem = (id, cant) => {\n    const items_rest = props.items.map((item) => {\n        if (item.store_items_id === id) {\n          item.cant = item.cant + cant;\n          item.subtotal = item.cant * item.price;\n        }\n        return item;\n      }),\n      itemsToSave = items_rest.filter((item) => item.cant > 0);\n    props.changeInput(\"items\", itemsToSave);\n  };\n  const deleteItem = (id) => {\n    const itemsToSave = props.items.filter((e) => e.store_items_id !== id);\n    props.changeInput(\"items\", itemsToSave);\n  };\n  const handleAddItem = (item) => {\n    if (!item || typeof item !== \"object\") {\n      console.error(\"[Orus System] The item is corrupt:\", item);\n      return;\n    }\n    const items = [...props.items];\n    const itemFound = props.items.findIndex(\n      (e) => e.store_items_id === item.store_items_id\n    );\n\n    if (itemFound !== -1) {\n      const subtotal = items[itemFound].price * state.cant;\n\n      if (items[itemFound].price === item.price) {\n        items[itemFound].cant = state.cant;\n        items[itemFound].subtotal = subtotal;\n      } else {\n        items.push(item);\n      }\n    } else {\n      items.push(item);\n    }\n\n    props.changeInput(\"items\", items);\n    setState({\n      ...state,\n      itemNew: false,\n    });\n  };\n\n  useEffect(() => {\n    const items = props.items.filter((item) =>\n      [\"1\", \"2\"].includes(item.category?.code?.codeCategory[0])\n    );\n    const total = props.items.reduce(\n      (sub, item) => item.cant * item.price + sub,\n      0\n    );\n    let validItems = Boolean(items.length);\n    let disabled = state.disabled;\n    let showDetails = state.showDetails;\n\n    if (props.hasOwnProperty(\"showDetails\")) {\n      showDetails = props.showDetails;\n    }\n    if (props.hasOwnProperty(\"disabled\")) {\n      disabled = props.disabled;\n    }\n\n    if (total && props.changeInput) {\n      props.changeInput(\"validItems\", validItems);\n    } else if (!props.changeInput) {\n      disabled = true;\n      validItems = true;\n    }\n\n    setState({\n      ...state,\n      validItems,\n      showDetails,\n      disabled,\n      total,\n    });\n  }, [props.items, props.disabled]);\n\n  return (\n    <div\n      className={\n        props.hasOwnProperty(\"className\") ? props.className : \"card m-0 p-0\"\n      }\n    >\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-shopping-cart\"></i> Lista de Productos\n        </h3>\n        <div className=\"card-tools\">\n          {Boolean(props.session) && (\n            <button\n              className=\"btn btn-too btn-primary text-bold\"\n              disabled={state.disabled}\n              onClick={(e) => {\n                setState({\n                  ...state,\n                  itemNew: !state.itemNew,\n                  code: \"\",\n                  cant: 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-plus mr-1\"></i> Agregar\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"card-body table-responsive p-0\">\n        <table className=\"table table-sm m-0\">\n          <thead>\n            <tr>\n              {state.showDetails && <th style={{ width: 80 }}>&nbsp;</th>}\n\n              <th scope=\"col\" style={{ width: 32 }}>\n                cant\n              </th>\n              <th scope=\"col\">Descripcion</th>\n\n              {state.showDetails && (\n                <>\n                  <th scope=\"col\" className=\"text-right\" style={{ width: 120 }}>\n                    Precio\n                  </th>\n                  <th scope=\"col\" className=\"text-right\" style={{ width: 120 }}>\n                    Subtotal\n                  </th>\n                  <th\n                    scope=\"col\"\n                    style={{ minWidth: \"4rem\", maxWidth: \"8rem\" }}\n                  >\n                    <span className=\"sr-only\">acciones</span>\n                  </th>\n                </>\n              )}\n            </tr>\n          </thead>\n\n          <tbody>\n            {props.items.map((item) => {\n              return (\n                <tr key={item.store_items_id}>\n                  {state.showDetails && (\n                    <td>\n                      {item.cant === 0 || state.disabled ? (\n                        <i className=\"fas fa-minus mr-2 text-muted mr-1\"></i>\n                      ) : (\n                        <i\n                          className=\"fas fa-minus mr-2 text-primary mr-1\"\n                          title=\"Quitar\"\n                          style={{ cursor: \"pointer\" }}\n                          onClick={() =>\n                            handleSetCantItem(item.store_items_id, -1)\n                          }\n                        ></i>\n                      )}\n                      {state.disabled ? (\n                        <i className=\"fas fa-plus mr-2 text-muted mr-1\"></i>\n                      ) : (\n                        <i\n                          className=\"fas fa-plus mr-2 text-primary mr-1\"\n                          title=\"Agregar\"\n                          style={{ cursor: \"pointer\" }}\n                          disabled={state.disabled}\n                          onClick={() =>\n                            handleSetCantItem(item.store_items_id, 1)\n                          }\n                        ></i>\n                      )}\n                    </td>\n                  )}\n\n                  <th scope=\"row\" className=\"text-right\">\n                    {item.cant}\n                  </th>\n                  <td>\n                    <span className=\"text-capitalize\">{item.name}</span>\n                    {item.descripcion && (\n                      <span className=\"text-muted ml-2\">\n                        ({item.descripcion})\n                      </span>\n                    )}\n                  </td>\n\n                  {state.showDetails && (\n                    <>\n                      <td className=\"text-right\">\n                        $ {parseFloat(item.price).toFixed(2)}\n                      </td>\n                      <td className=\"text-right\">\n                        $ {item.subtotal.toFixed(2)}\n                      </td>\n                      <td className=\"d-print-none text-right\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-sm btn-muted\"\n                          onClick={() => deleteItem(item.store_items_id)}\n                          disabled={state.disabled}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </td>\n                    </>\n                  )}\n                </tr>\n              );\n            })}\n\n            {!props.items.length && (\n              <tr className=\"\">\n                <td className=\"text-center py-2\" colSpan=\"6\">\n                  <h5>No hay articulos seleccionados</h5>\n                </td>\n              </tr>\n            )}\n          </tbody>\n\n          {Boolean(props.items.length && state.showDetails) && (\n            <tfoot>\n              <tr>\n                <td className=\"text-right text-lg\" colSpan=\"5\">\n                  <span className=\" mr-2\">Total:</span>\n                  <label>$ {state.total.toFixed(2)}</label>\n                </td>\n                <td>&nbsp;</td>\n              </tr>\n            </tfoot>\n          )}\n        </table>\n\n        {!state.validItems && (\n          <div className=\"d-flex justify-content-center\">\n            <p className=\"bg-warning w-75 text-center text-md p-2\">\n              <i className=\"fas fa-info mr-2\"></i>\n              Debe agregar al menos <strong>1</strong> producto a la lista con\n              categoria <strong>lente</strong> o <strong>armazon</strong>.\n            </p>\n          </div>\n        )}\n      </div>\n      {state.itemNew ? (\n        <AddModal\n          codeDefault={state.code}\n          cantDefault={state.cant}\n          handleAddItem={handleAddItem}\n          handleCloseModal={() =>\n            setState({\n              ...state,\n              itemNew: false,\n            })\n          }\n        />\n      ) : null}\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function UserEmailInputComponent(props) {\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"No tiene el formato de un email\",\n    searchEmail: false,\n  });\n\n  const { col, email, handleValidData: _handleValidData } = props;\n  const { bgColor, validate, text, searchEmail } = state;\n\n  const contactHook = useContact();\n\n  const handleSearchUser = (email)=>{\n    contactHook.getContacts({email}).then((data)=>{\n      if(data){\n        if(data.data.length){\n          setState({\n            ...state,\n            bgColor: \"bg-warning\",\n            validate: \"border border-warning\",\n            text: `El email ${email} ya está registrado`,\n          });\n  \n          _handleValidData(\"email\", false, email);\n        }else{         \n          _handleValidData(\"email\", true, email);          \n        }    \n       \n      }else{\n        console.log(\"Error al obtener la data de los contactos\");\n      }   \n    })\n  };\n\n\n  const validEmail = (target) => {\n    const regex =\n      /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n    const emailSearch = target.value.replace(/\\s/g, \"\");\n\n    if (regex.test(emailSearch)) {\n      setState({\n        ...state,\n        bgColor: \"bg-primary\",\n        validate: \" border border-primary\",\n        text: \"\",\n      });\n      \n      handleSearchUser(emailSearch);\n\n      //console.log(\"Email valido:\", emailSearch);\n\n      //_handleValidData(\"email\", true, emailSearch);\n    } else {\n      setState({\n        ...state,\n        bgColor: \"bg-red\",\n        validate: \" border border-danger\",\n        text: \"No tiene el formato de un email valido\",\n      });\n      _handleValidData(\"email\", false);\n    }\n  };\n\n  return (\n    <div className={\"col-\" + col}>\n      {email.length ? (\n        <small>\n          <label>Email</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + bgColor}>\n            {searchEmail ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-at\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"email\"\n          className={\"form-control\" + validate}\n          placeholder=\"email\"\n          name=\"email\"\n          autoComplete=\"off\"\n          value={email}\n          onChange={({ target }) => props.onChange(target.value)}\n          onBlur={({ target }) => validEmail(target)}\n          onKeyPress={({ key, target }) => {\n            if (key === \"Enter\") {\n              validEmail(target);\n            }\n          }}\n          required=\"required\"\n        />\n      </div>\n      {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n    </div>\n  );\n}\n","import { useState } from \"react\";\n\nexport default function UserPhoneInputComponent(props) {\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"No tiene el formato de un teléfono\",\n  });\n\n  const { col, phone, handleValidData: _handleValidData } = props;\n  const { bgColor, validate, text, searchEmail } = state;\n\n  const validPhone = (phone) => {\n    const regex = /^\\d{10}$/gim;\n\n    if (regex.test(phone)) {\n      setState({\n        ...state,\n        bgColor: \"bg-primary\",\n        validate: \" border border-primary\",\n        text: \"\",\n      });\n      _handleValidData(\"phone\", true, phone);\n    } else {\n      //User no valid\n      if (phone.length !== 10) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"No tiene el formato de un email valido\",\n        });\n        _handleValidData(\"phone\", false);\n      } else if (!phone.length) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"Escriba un telefono valido\",\n        });\n        _handleValidData(\"phone\", false);\n      }\n    }\n  };\n\n  return (\n    <div className={\"col-\" + col}>\n      {phone.length ? (\n        <small>\n          <label>Telefono</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + bgColor}>\n            {searchEmail ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-phone\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"text\"\n          className={\"form-control\" + validate}\n          placeholder=\"Teléfono\"\n          name=\"phone\"\n          autoComplete=\"off\"\n          value={props.phone}\n          maxLength=\"10\"\n          onChange={({ target }) => {\n            const parse = parseInt(target.value);\n\n            if (!isNaN(parse)) {\n              props.onChange(parse.toString());\n            } else if (!target.value.length) {\n              props.onChange(\"\");\n            }\n          }}\n          onBlur={({ target }) => validPhone(target.value)}\n          onKeyPress={({ key, target }) => {\n            if (key === \"Enter\") {\n              validPhone(target.value);\n            }\n          }}\n        />\n      </div>\n      {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport UserEmailInputComponent from \"./userEmailInput\";\nimport UserPhoneInputComponent from \"./userPhoneInput\";\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function CardCustomer({\n  data = {},\n  disabled,\n  handleRemoveCustomer: _handleRemoveCustomer,\n  handleUpdateContact: _handleUpdateContact,\n  handleEditor: _handleEditor,\n}) {\n  const contactHook = useContact();\n  const [state, setState] = useState({\n    edit: false,\n    phone: \"\",\n    email: \"\",\n    validToSave: false,\n  });\n\n  const save = () => {\n    if (!state.phone) {\n      console.error(\"[Orus System] Fatal error - phone not stablish\");\n      return;\n    }\n\n    if (!state.email) {\n      console.error(\"[Orus System] Fatal error - email not stablish\");\n      return;\n    }\n\n    const contactData = {\n      id: data.id,\n      phones: {\n        ...data.phones,\n        cell: state.phone,\n      },\n      email: state.email,\n    };\n\n    contactHook.saveContact(contactData).then((contact) => {\n      if (contact) {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Paciente actualizado\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n        _handleUpdateContact(contact);\n        setState({\n          ...state,\n          edit: false,\n          validToSave: true,\n        });\n      } else {\n        console.error(\n          \"[Orus System] Server error - when save contact data:\",\n          data.id,\n          contactData\n        );\n        window.Swal.fire({\n          icon: \"error\",\n          title: \"Error al almacenar cambios del paciente\",\n          showConfirmButton: true,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    const phonesArray = Object.values(data.phones ?? {});\n    const phones = phonesArray.filter((ph) => ph);\n\n    if (!phones || !phones.length || !data.email) {\n      setState({\n        ...state,\n        edit: true,\n        phone: phones[0],\n        email: data.email,\n        validToSave: false,\n      });\n    } else {\n      setState({\n        ...state,\n        edit: false,\n        phone: phones[0],\n        email: data.email,\n        validToSave: true,\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    _handleEditor(state.edit);\n  }, [state.edit]);\n\n  return (\n    <div className=\"card col-lg-5 mr-5 border border-success\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-user-alt mr-1\"></i>\n          Cliente seleccionado\n          <i className=\"ml-5 fas fa-check mr-1\"></i>\n        </h3>\n      </div>\n      <div className=\"card-body text-lg\">\n        <p className=\"badge badge-success\">{`# ID ${data.id}`}</p>\n        <p className=\"card-text\">\n          <i className=\"fas fa-user-circle mr-1\"></i>\n          {data.name.toUpperCase()}\n        </p>\n\n        {state.edit ? (\n          <div>\n            <div>\n              <UserPhoneInputComponent\n                phone={state.phone ?? \"\"}\n                col={12}\n                onChange={(value) => {\n                  setState({\n                    ...state,\n                    phone: value,\n                  });\n                }}\n                handleValidData={(...dto) => {\n                  let valid = dto[1];\n                  if (!state.email) valid = false;\n\n                  setState({\n                    ...state,\n                    validToSave: valid,\n                  });\n                }}\n              />\n              <UserEmailInputComponent\n                email={state.email ?? \"\"}\n                userId={data.id}\n                col={12}\n                onChange={(value) => {\n                  setState({\n                    ...state,\n                    email: value,\n                  });\n                }}\n                handleValidData={(...dto) => {                  \n                  let valid = dto[1];\n                  if (!state.phone) valid = false;\n\n                  setState({\n                    ...state,\n                    validToSave: valid,\n                  });\n                }}\n              />\n            </div>\n            <div className=\"d-flex justify-content-end mt-3\">\n              {!state.validToSave && (\n                <button\n                  className=\"btn btn-dark mr-1\"\n                  disabled={state.exam_id ? true : false}\n                  onClick={_handleRemoveCustomer}\n                >\n                  <i className=\"fas fa-arrow-left mr-2\"></i>\n                  Cambiar\n                </button>\n              )}\n\n              <button\n                className=\"btn btn-secondary mr-1\"\n                onClick={() => {\n                  const phonesArray = Object.values(data.phones ?? {});\n                  const phones = phonesArray.filter((ph) => ph);\n\n                  setState({\n                    ...state,\n                    edit: false,\n                    phone: phones[0],\n                    email: data.email,\n                  });\n                }}\n                disabled={(() => {\n                  const phonesArray = Object.values(data.phones ?? {});\n                  const phones = phonesArray.filter((ph) => ph);\n\n                  if (!phones.length) return true;\n                  if (!data.email) return true;\n                  if (!state.validToSave) return true;\n\n                  return false;\n                })()}\n              >\n                <i className=\"fas fa-ban mr-2\"></i>\n                Cancelar\n              </button>\n              <button\n                className=\"btn btn-warning\"\n                onClick={save}\n                disabled={!state.validToSave}\n              >\n                <i className=\"fas fa-save mr-2\"></i>\n                Guardar\n              </button>\n            </div>\n          </div>\n        ) : (\n          <div className=\"mb-3\">\n            <p className=\"card-text text-truncate\">\n              <i className=\"fas fa-at mr-1\"></i>\n              {state.email ?? \"Email no registrado\"}\n            </p>\n\n            <p className=\"card-text\">\n              <i className=\"fas fa-phone-alt mr-1\"></i>\n              {state.phone ? state.phone : `Telefono no registrado`}\n              {/* {Object.values(data.phones ?? {}).filter((ph) => ph)[0] ?? \"--\"} */}\n            </p>\n          </div>\n        )}\n\n        <div>\n          {!state.edit && (\n            <>\n              <button\n                className=\"btn btn-secondary\"\n                disabled={disabled}\n                onClick={_handleRemoveCustomer}\n              >\n                <i className=\"fas fa-arrow-left mr-2\"></i>\n                Cambiar\n              </button>\n              <button\n                className=\"btn btn-info ml-1\"\n                disabled={disabled}\n                onClick={() =>\n                  setState({\n                    ...state,\n                    edit: true,\n                  })\n                }\n              >\n                <i className=\"fas fa-edit mr-1\"></i>\n                Editar\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\n\nexport default function CardShowExam({\n  data,\n  disabled,\n  handleRemove: _handleRemove,\n  handleEdit: _handleEdit,\n}) {\n\n \n  return (\n    <>\n      <p className=\"card-text\">\n        <span className=\"badge badge-success mr-3 mb-2\">{`# ${data.id}`}</span>\n      </p>\n      <p className=\"font-weight-bold\">\n        Creado:{\" \"}\n        <span className=\"font-weight-normal\">\n          {moment(data.created_at).fromNow()}\n        </span>\n      </p>\n      <p className=\"font-weight-bold\">\n        Fecha:{\" \"}\n        <span className=\"font-weight-normal\">\n          {moment(data.created_at).format(\"LL\")}\n        </span>\n      </p>\n      <p className=\"font-weight-bold\">\n        Estatus:{\" \"}\n        <span className=\"font-weight-normal\">\n          {data.status ? \"Completo\" : \"En proceso\"}\n        </span>\n      </p>\n\n      <div>\n        <button\n          className=\"btn btn-secondary mr-1\"\n          disabled={disabled}\n          onClick={() => {\n            window.Swal.fire({\n              icon: \"question\",\n              title: \"¿Realmente desea cambiar el examen?\",\n              showConfirmButton: true,\n              confirmButtonText: \"Sí\",\n              showCancelButton: true,\n              cancelButttonText: \"Cancelar\",\n            }).then(({ dismiss }) => {\n              if (!dismiss) {\n                _handleRemove();\n              }\n            });\n          }}\n        >\n          <i className=\"fas fa-arrow-left mr-2\"></i>\n          Cambiar\n        </button>\n        <button\n          className=\"btn btn-info\"\n          disabled={disabled}\n          onClick={_handleEdit}\n        >\n          <i className=\"fas fa-edit mr-2\"></i>\n          Editar\n        </button>\n      </div>\n    </>\n  );\n}\n","import moment from \"moment\";\n\nimport useExam from \"../../../hooks/useExam\";\n\nexport default function CardExamByUser({\n  exams,\n  customer_id,\n  handleClick: _handleClick,\n}) {\n  const examHook = useExam();\n  const handleCreateNewExam = () => {\n    let dataNewExam = {\n      contact_id: customer_id,\n    };\n\n    examHook.saveExam(dataNewExam).then((exam) => {\n      if (exam) {\n        _handleClick(exam);\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Examen Creado correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n      } else {\n        window.Swal.fire({\n          icon: \"error\",\n          title: \"Error al crear el examen\",\n          showConfirmButton: true,\n        });\n      }\n    });\n  };\n\n  return (\n    <>\n      <p className=\"text-secondary text-md\">\n        *Seleciona un examen o crea uno nuevo para continuar\n      </p>\n      {exams.map((exam) => (\n        <div\n          className=\"border-bottom mb-1 cursor-pointer text-lg\"\n          key={exam.id}\n          onClick={() => _handleClick(exam)}\n        >\n          <p className=\"card-text\">\n            <span className=\"badge badge-warning mr-3 mb-2\">{`# ${exam.id}`}</span>\n            {moment(exam.created_at).fromNow()}\n            <span className=\"badge badge-dark ml-3\">\n              {exam.status ? \"Completo\" : \"En proceso\"}\n            </span>\n          </p>\n        </div>\n      ))}\n      <button\n        className=\"btn btn-primary mt-2 float-right\"\n        onClick={handleCreateNewExam}\n      >\n        <i className=\"fas fa-plus mr-2\"></i>\n        Nuevo\n      </button>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nexport default function FormExamSmall({ data, handleEdit: _handleEdit }) {\n  const [state, setState] = useState({\n    adicion_media_od: 0,\n    adicion_media_oi: 0,\n    dpod: 0,\n    dpoi: 0,\n  });\n  const handleOnChange = ({ value, name }) => {\n    setState({\n      ...state,\n      [name]: parseInt(value),\n    });\n  };\n\n  useEffect(() => {\n    setState({\n      ...state,\n      adicion_media_od: data.adicion_media_od,\n      adicion_media_oi: data.adicion_media_od,\n      dpod: data.adicion_media_od,\n      dpoi: data.adicion_media_od,\n    });\n  }, []);\n  return (\n    <>\n      <div className=\"row text-sm\">\n        <div className=\"col-md-6 col-sm-12\">\n          <i className=\"fas fa-eye mr-1\" /> Derecho\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          <i className=\"fas fa-eye mr-1\" /> Izquierdo\n        </div>\n      </div>\n\n      <div className=\"row mt-2 text-sm\">\n        <div className=\"col-12 text-center\">\n          <label>Adicion media</label>\n        </div>\n      </div>\n      <div className=\"row mt-2 text-sm\">\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.adicion_media_od}\n            name=\"adicion_media_od\"\n            onChange={handleOnChange}\n          />\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.adicion_media_oi}\n            name=\"adicion_media_oi\"\n            onChange={handleOnChange}\n          />\n        </div>\n      </div>\n\n      <div className=\"row mt-2 text-sm\">\n        <div className=\"col-12 text-center\">\n          <label>Distancia pupilar</label>\n        </div>\n      </div>\n      <div className=\"row mt-2\">\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.dpod}\n            name=\"dpod\"\n            onChange={handleOnChange}\n          />\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.dpoi}\n            name=\"dpoi\"\n            onChange={handleOnChange}\n          />\n        </div>\n      </div>\n\n      <div className=\"row mt-2\">\n        <div className=\"col-12 text-right\">\n          <button className=\"btn btn-secondary mr-1\" onClick={_handleEdit}>\n            <i className=\"fas fa-ban mr-2\"></i>\n            Cancelar\n          </button>\n          <button\n            className=\"btn btn-warning\"\n            disabled={true}\n          >\n            <i className=\"fas fa-save mr-2\"></i>\n            Guardar\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport CardShowExam from \"../../Exam/views/CardExam\";\nimport CardExamByUser from \"../../Exam/views/CardExamsByUser\";\nimport FormExamSmall from \"../../Exam/views/FormExamSmall\";\n\nexport default function CardExam({\n  data,\n  customer,\n  editCustomer,\n  disabled,\n  handleSelect: _handleSelect,\n  hanldeRemove: _hanldeRemove,\n}) {\n  const [state, setState] = useState({\n    exams: [],\n    edit: false,\n  });\n\n  useEffect(() => {\n    setState({\n      ...state,\n      exams: customer.exams,\n    });\n  }, []);\n\n  return (\n    <div className=\"card col-lg-5 border border-success\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-notes-medical mr-1\"></i>\n          Examen\n          {Boolean(Object.keys(data).length) && (\n            <>\n              Seleccionado <i className=\"ml-5 fas fa-check mr-1\"></i>\n            </>\n          )}\n        </h3>\n      </div>\n      <div className=\"card-body text-lg\">\n        {editCustomer ? (\n          <p className=\"alert alert-warning\">\n            <i className=\"fas fa-info mr-2\"></i>\n            Es necesario completar los datos del paciente para continuar.\n          </p>\n        ) : state.edit ? (\n          <FormExamSmall\n            data={data}\n            handleEdit={() => setState({ ...state, edit: !state.edit })}\n          />\n        ) : (\n          <>\n            {Object.keys(data).length ? (\n              <CardShowExam\n                data={data}\n                disabled={disabled}\n                handleRemove={_hanldeRemove}\n                handleEdit={() => setState({ ...state, edit: !state.edit })}\n              />\n            ) : (\n              <>\n                <CardExamByUser\n                  exams={state.exams}\n                  customer_id={customer.id}\n                  handleClick={_handleSelect}\n                />\n              </>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState } from \"react\";\n\nexport default function CardDiscount({\n  data,\n  disabled,\n  handleSetDiscount: _handleSetDiscount,\n}) {\n  const [state, setState] = useState({\n    showForm: false,\n    discount: null,\n    toPaid: 0,\n  });\n\n  const setDiscount = () => {\n    const isNumeric = /^[0-9]+$/gms;\n    const isPercen = /^[0-9]{1,3}%$/gms;\n    let value = 0;\n\n    if (!state.discount) {\n      setState({\n        ...state,\n        showForm: false,\n      });\n      return;\n    }\n\n    if (state.discount.match(isNumeric)) {\n      value = parseInt(state.discount);\n      value = value > data.total ? data.total : parseInt(state.discount);\n    } else if (state.discount.match(isPercen)) {\n      const percent = parseInt(state.discount.replace(\"%\", \"\")) / 100;\n      value = percent >= 1 ? data.total : parseInt(data.total * percent);\n    }\n\n    _handleSetDiscount(\"sale\", {\n      ...data,\n      discount: value,\n    });\n    setState({\n      ...state,\n      showForm: false,\n    });\n  };\n\n  return (\n    <>\n      <div className=\"card col-lg-4\">\n        <div className=\"card-header border-primary\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-percent mr-1\"></i>\n            Descuento\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          {state.showForm ? (\n            <>\n              <p className=\"ml-1 text-dark my-2\">\n                *Escribe la cantidad o el porcentaje con un \"%\" al final\n              </p>\n              <div className=\"form-row\">\n                <div className=\"col-8\">\n                  <input\n                    value={state.discount ?? \"\"}\n                    className=\"form-control\"\n                    type=\"text\"\n                    onChange={({ target }) =>\n                      setState({ ...state, discount: target.value })\n                    }\n                    onKeyPress={({ key }) => key === \"Enter\" && setDiscount()}\n                  />\n                </div>\n                <div className=\"col\">\n                  <button className=\"btn btn-primary\" onClick={setDiscount}>\n                    {state.discount ? (\n                      <>\n                        <i className=\"fas fa-save mr-1\"></i> Guardar\n                      </>\n                    ) : (\n                      <>\n                        <i className=\"fas fa-ban mr-1\"></i> Cancelar\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n            </>\n          ) : (\n            <>\n              <h5 className=\"font-weight-bold\">\n                {disabled && !state.discount ? (\n                  <span className=\"text-danger text-sm\">\n                    <i className=\"fas fa-info-circle mr-2\"></i>\n                    Para aplicar un <strong>descuento</strong>, elimine primero\n                    los abonos.\n                  </span>\n                ) : (\n                  <>\n                    Descuento:\n                    <span className=\"font-weight-normal ml-2\">\n                      $ {data.discount?.toFixed(2)}\n                    </span>\n                  </>\n                )}\n              </h5>\n\n              <div className=\"btn-group\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-sm btn-secondary\"\n                  disabled={!Boolean(data.discount)}\n                  onClick={() => {\n                    _handleSetDiscount(\"sale\", {\n                      ...data,\n                      discount: 0,\n                    });\n                    setState({\n                      ...state,\n                      discount: 0,\n                    });\n                  }}\n                >\n                  <i className=\"fas fa-window-close mr-1\"></i>\n                  Eliminar\n                </button>\n                <button\n                  className=\"btn btn-warning mr-4\"\n                  disabled={disabled}\n                  onClick={() => {\n                    setState({\n                      ...state,\n                      showForm: true,\n                    });\n                  }}\n                >\n                  <i className=\"fas fa-edit mr-1\"></i>\n                  Editar\n                </button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useState, useContext } from \"react\";\n\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\n//Helpers\nimport helpers from \"../../Sales/helpers\";\n\nfunction PaymentModal({\n  forPaid,\n  handleClose: _close,\n  sale,\n  handleSetPayments: _handleSetPayments,\n}) {\n  const config = useContext(ConfigContext);\n  const listBanks = config.data;\n\n  //States\n  const [data, setData] = useState({\n    id: 0,\n    metodopago: 1,\n    metodoname: \"efectivo\",\n    total: 0,\n    bank_id: null,\n    details: null,\n    auth: \"\",\n  });\n\n  //Functions\n  const handleChangeInput = ({ name, value, type }) => {\n      let val = value;\n\n      if (type === \"number\" || type === \"select-one\") val = parseFloat(value);\n\n      setData({\n        ...data,\n        [name]: val,\n      });\n    },\n    handleSetPayment = () => {\n      if (!data.total) {\n        window.Swal.fire({\n          icon: \"warning\",\n          title: \"El total del abono debe ser mayor a 0\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return false;\n      }\n\n      if (\n        data.metodopago !== 1 &&\n        data.metodopago !== 4 &&\n        data.metodopago !== 0\n      ) {\n        if (!data.bank_id) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Seleccione un banco\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n          return false;\n        }\n\n        if (data.auth?.length < 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique los ultimos 4 numeros de la tarjeta\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n          return false;\n        } else if (data.auth?.length > 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique solamente 4 numeros\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n          return false;\n        }\n      }\n\n      if (data.metodopago === 4) {\n        if (!data.auth) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique el numero de autorización\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      _handleSetPayments({\n        ...data,\n        id: `new${Date.now().toString()}`,\n        metodoname: helpers.getMethodName(data.metodopago),\n        total: forPaid < data.total ? forPaid : data.total,\n      });\n    },\n    handleSubmitForm = (e) => {\n      e.preventDefault();\n      handleSetPayment();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Capture el pago</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <form autoComplete=\"off\" onSubmit={handleSubmitForm}>\n              <div className=\"row mb-2 bg-gray-light\">\n                <div className=\"col\">\n                  <h4 className=\"text-center\">\n                    Por pagar: <span className=\"text-success\">$ {forPaid}</span>\n                  </h4>\n                </div>\n              </div>\n              <div className=\"row my-2\">\n                <div className=\"col\">\n                  <label>Metodo de pago</label>\n                  <select\n                    name=\"metodopago\"\n                    className=\"custom-select text-uppercase\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    defaultValue={data.metodopago}\n                  >\n                    <option value=\"1\">Efectivo</option>\n                    <option value=\"2\">Tarjeta de debito</option>\n                    <option value=\"3\">Tarjeta de credito</option>\n                    <option value=\"4\">La marina</option>\n                    <option value=\"5\">Cheque</option>\n                    <option value=\"6\">Transferencia</option>\n                    <option value=\"0\">Otro</option>\n                  </select>\n                </div>\n                <div className=\"col\">\n                  <label>Cantidad</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    className=\"form-control text-right\"\n                    name=\"total\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    autoFocus={true}\n                  />\n                </div>\n              </div>\n\n              {data.metodopago !== 1 ? (\n                <div className=\"row mb-2\">\n                  <div className=\"col\">\n                    {data.metodopago !== 4 && data.metodopago !== 0 ? (\n                      <>\n                        <label>Banco</label>\n                        <select\n                          name=\"bank_id\"\n                          className=\"custom-select text-uppercase\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        >\n                          <option value=\"\">--Seleccione un banco--</option>\n                          {listBanks.map((bank) => {\n                            return bank.name === \"bank\" ? (\n                              <option key={bank.id} value={bank.id}>\n                                {bank.data}\n                              </option>\n                            ) : null;\n                          })}\n                        </select>\n                      </>\n                    ) : !data.metodopago ? (\n                      <>\n                        <label>Espesifique</label>\n                        <input\n                          type=\"text\"\n                          name=\"details\"\n                          className=\"form-control\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        />\n                      </>\n                    ) : (\n                      <h4 className=\"d-bloc text-center mt-4 text-success\">\n                        LA MARINA\n                      </h4>\n                    )}\n                  </div>\n                  <div className=\"col\">\n                    <label>\n                      {data.metodopago !== 4\n                        ? \"Ultimos 4 digitos\"\n                        : \"N. Autorización\"}\n                    </label>\n                    <input\n                      name=\"auth\"\n                      className=\"form-control\"\n                      onChange={({ target }) => handleChangeInput(target)}\n                    />\n                  </div>\n                </div>\n              ) : null}\n\n              {forPaid < data.total ? (\n                <div className=\"row\">\n                  <div className=\"col\">\n                    <h4 className=\"text-center mt-4\">\n                      {data.metodopago === 1 ? (\n                        <>\n                          Cambio:\n                          <span className=\"ml-2\">$ {data.total - forPaid}</span>\n                        </>\n                      ) : (\n                        <span className=\"text-danger\">\n                          <i className=\"fas fa-info-circle mr-2\"></i>\n                          La cantidad cobrada es mayor al total\n                        </span>\n                      )}\n                    </h4>\n                  </div>\n                </div>\n              ) : null}\n            </form>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => handleSetPayment()}\n              disabled={!data.total}\n            >\n              <i className=\"fas fa-money-bill mr-1\"></i>\n              Abonar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport PaymentModal from \"./PaymentModal\";\n\nexport default function CardOrderPayments({\n  data = {},\n  disabled,\n  handleSetPayments: _handleSetPayments,\n}) {\n  const [state, setState] = useState({\n    showModal: false,\n    amount: 0,\n    toPaid: 0,\n  });\n\n  const handleToPaid = () => {\n    const amount = data.payments?.reduce((back, pay) => pay.total + back, 0);\n    const toPaid = (data.subtotal ? data.subtotal: data.total) - (amount ?? 0) - data.discount;\n\n    setState({\n      ...state,\n      toPaid,\n      amount: amount ?? 0,\n    });\n  };\n\n  useEffect(() => {\n    handleToPaid();\n  }, [data.total, data.discount, data.payments, state.showModal]);\n\n  return (\n    <>\n      <div className=\"card col-lg-8 ml-2\">\n        <div className=\"card-header border-primary\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-money-bill-alt mr-1\"></i>\n            Lista de abonos\n          </h3>\n        </div>\n\n        <div className=\"card-body\">\n          {data.payments?.length ? (\n            <div className=\"col-lg-12\">\n              {data.payments.map((payment, index) => (\n                <div className=\"row\" id={payment.id} key={index}>\n                  <div className=\"col-1\">{index + 1}</div>\n                  <div className=\"col-6 text-uppercase font-weight-bold\">\n                    <h6\n                      className={\n                        payment.metodoname === \"efectivo\"\n                          ? \"text-success\"\n                          : \"text-dark\"\n                      }\n                    >\n                      <span className=\"text-dark mr-2\">\n                        {payment.metodoname}\n                      </span>\n                      {payment.auth && (\n                        <span className=\"text-muted\">- {payment.auth}</span>\n                      )}\n                    </h6>\n                  </div>\n                  <div className=\"col-3 text-right\">\n                    <h6>${payment.total}</h6>\n                  </div>\n                  <div className=\"col-2 text-right\">\n                    <button\n                      className=\"btn btn-sm btn-muted\"\n                      id={payment.id}\n                      onClick={() => {\n                        const payments = data.payments.filter(\n                          (pay) => pay.id !== payment.id\n                        );\n\n                        _handleSetPayments(\"sale\", {\n                          ...data,\n                          payments,\n                        });\n                      }}\n                      disabled={!Boolean(state.toPaid) || disabled}\n                    >\n                      <i className=\"fas fa-trash\"></i>\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <h5 className=\"text-center bg-warning\">\n              <i className=\"fas fa-info-circle p-2\"></i>\n              No tiene abonos en este pedido\n            </h5>\n          )}\n\n          <div className=\"card-footer text-right d-flex justify-content-end\">\n            <div className=\"mr-4\">\n              <button\n                className=\"btn btn-success ml-3\"\n                onClick={() => {\n                  setState({\n                    ...state,\n                    showModal: true,\n                  });\n                }}\n                disabled={!Boolean(state.toPaid) || disabled}\n              >\n                <i className=\"fas fa-money-bill-alt mr-2\"></i>\n                Abonar\n              </button>\n            </div>\n            <h4 className=\"mr-4 text-success\">\n              <span className=\"font-weight-bold text-dark mr-2\">\n                Abono total:\n              </span>{\" \"}\n              $ {state.amount}\n            </h4>\n            <h4 className=\"text-danger\">\n              <span className=\"font-weight-bold text-dark mr-2\">\n                Por pagar:\n              </span>\n              $ {state.toPaid}\n            </h4>\n          </div>\n        </div>\n      </div>\n\n      {state.showModal ? (\n        <PaymentModal\n          handleClose={() => {\n            setState({\n              ...state,\n              showModal: false,\n            });\n          }}\n          sale={data}\n          forPaid={state.toPaid}\n          handleSetPayments={(pay) => {\n            const payments = data.payments;\n            const index = payments.findIndex(\n              (p) => p.metodopago === pay.metodopago\n            );\n\n            if (index < 0) {\n              payments.push(pay);\n            } else {\n              payments[index].total += pay.total;\n            }\n\n            _handleSetPayments(\"sale\", {\n              ...data,\n              payments,\n            });\n            setState({\n              ...state,\n              showModal: false,\n            });\n          }}\n        />\n      ) : null}\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-lone-blocks */\nimport React, { useState, useContext } from \"react\";\n//Context\nimport { OrderContext } from \"../../context/OderContext\";\n//Hooks\nimport useOrder from \"../../hooks/useOrder\";\n//Helpers\nimport generalHelper from \"../../utils/helpers\";\n\n//Components\nimport SearchContact from \"../Contacts/views/ShowCard\";\nimport Items from \"./views/ItemsOrder\";\nimport PrintSaleComponent from \"../print/PrintSale\";\nimport CardCustomer from \"./views/Asistent_card_customer\";\nimport CardExam from \"./views/Asistent_card_exam\";\nimport CardDiscount from \"./views/Asistent_card_discount\";\nimport CardOrderPayments from \"./views/Asistent_card_payments\";\n\nexport default function AsistentComponent(props) {\n  const [state, setState] = useState({\n    id: 0,\n    contact_id: 0,\n    contact: {},\n    exam_id: 0,\n    exam: {},\n    examsList: [],\n    items: [],\n    session: generalHelper.getSession(),\n    sale: {\n      total: 0,\n      discount: 0,\n      payments: [],\n    },\n    print: false,\n    editCustomer: false,\n    validItems: false,\n  });\n  const orderContext = useContext(OrderContext);\n  const orderHook = useOrder();\n\n  const handleSave = (e) => {\n    let categories_wrong = 0;\n\n    const { items: items_state, exam_id, session, contact_id, sale } = state;\n\n    const items = items_state.map((item) => {\n      if (item.category === 4) categories_wrong++;\n\n      return {\n        cant: item.cant,\n        price: item.price,\n        subtotal: item.subtotal,\n        inStorage: item.inStorage,\n        session: session,\n        out: item.out,\n        descripcion: item.descripcion,\n        store_items_id: item.store_items_id,\n      };\n    });\n\n    if (items.length === categories_wrong) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"No hay productos para procesar en un pedido\",\n        icon: \"warning\",\n        timer: 3000,\n      });\n      return false;\n    }\n\n    let data = {\n      session: session,\n      contact_id: contact_id,\n      items: items,\n      sale: {\n        discount: sale.discount,\n      },\n    };\n\n    if (sale.payments.length) {\n      let finalPayments = sale.payments;\n      finalPayments.forEach((payment) => {\n        delete payment.id;\n        delete payment.metodoname;\n      });\n      data.sale.payments = finalPayments;\n    }\n\n    if (exam_id) data.exam_id = parseInt(exam_id);\n\n    if (!data.sale.payments?.length) {\n      window.Swal.fire({\n        icon: \"question\",\n        title: \"¿Desea GUARDAR el pedido sin ningun abono?\",\n        showConfirmButton: true,\n        confirmButtonText: \"Si\",\n        showCancelButton: true,\n        denyButtonText: \"No\",\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          executeHook(data);\n        }\n      });\n    } else {\n      window.Swal.fire({\n        icon: \"question\",\n        title: \"Esta seguro que desea GUARDAR el pedido?\",\n        showConfirmButton: true,\n        confirmButtonText: \"Si\",\n        showCancelButton: true,\n        denyButtonText: \"No\",\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          executeHook(data);\n        }\n      });\n    }\n  };\n  const handleChangeInput = (key, value) => {\n    if (key === \"exam\") {\n      if (value.category_id) {\n        handleGetCategories(value.category_id);\n      }\n\n      if (!value.id) {\n        setState({\n          ...state,\n          exam_id: 0,\n          exam: {},\n        });\n      } else {\n        setState({\n          ...state,\n          exam_id: value.id,\n          exam: value,\n        });\n      }\n\n      return;\n    }\n\n    if (key === \"items\") {\n      const total = value.reduce(\n        (sub, item) => item.cant * item.price + sub,\n        0\n      );\n\n      setState({\n        ...state,\n        items: value,\n        sale: {\n          ...state.sale,\n          total: total,\n        },\n      });\n      return;\n    }\n\n    setState({\n      ...state,\n      [key]: value,\n    });\n  };\n  const handleGetCategories = (cat_id) => {\n    const { _getCategory } = this.props;\n    _getCategory({ id: cat_id });\n  };\n\n  const executeHook = (data) => {\n    orderHook.saveOrder(data).then(({ data }) => {\n      if (data) {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Pedido guardado correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        }).then(({ dismiss }) => {\n          if (dismiss) {\n            setState({\n              ...state,\n              id: data.id,\n              sale: {           \n                id: data.sale.id,                \n                total: data.sale.total,\n                subtotal: data.sale.subtotal,\n                discount: data.sale.descuento,\n                payments: data.sale.payments,\n                paid: data.sale.paid,\n                customer: data.paciente,\n              },\n              print: true,\n            });\n          }\n        });\n      } else {\n        window.Swal.fire({\n          icon: \"danger\",\n          title: \"Error al guardar el pedido\",\n          showConfirmButton: true,\n        });\n      }\n    });\n  };\n  const handleCloseAssitent = () => {\n    orderContext.set({\n      ...orderContext,\n      panel: \"inbox\",\n    });\n  };\n  \n  return (\n    <div className=\"mainAssitentComponent \">\n      <div className=\"card card-warning card-outline col-lg-12\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-clipboard-list mr-1\"></i>\n            Nuevo Pedido\n          </h3>\n        </div>\n\n        <div className=\"card-body d-flex justify-content-center col-lg-12\">\n          {/* Validacion 1 --- Seleccion de cliente */}\n          {!state.contact_id ? (\n            <div className=\"form-group col-lg-6\">\n              <SearchContact\n                title=\"Paciente\"\n                legend={\n                  !state.contact_id\n                    ? \"Busque el paciente por nombre para crearun nuevo pedido\"\n                    : null\n                }\n                handleContactSelect={(contact) => {\n                  if (contact.id) {\n                    setState({\n                      ...state,\n                      contact_id: contact.id ?? 0,\n                      examsList: contact.exams.length ? contact.exams : [],\n                      contact,\n                    });\n                  }\n                }}\n                data={state.contact}\n              />\n            </div>\n          ) : (\n            <CardCustomer\n              data={state.contact}\n              handleRemoveCustomer={() => {\n                setState({\n                  session: generalHelper.getSession(),\n                  contact_id: 0,\n                  contact: {},\n                  items: [],\n                  exam_id: 0,\n                  exam: {},\n                });\n              }}\n              handleUpdateContact={(contact) =>\n                setState({ ...state, contact, editCustomer: false })\n              }\n              handleEditor={(status) =>\n                setState({ ...state, editCustomer: status })\n              }\n              disabled={Boolean(state.exam_id)}\n            />\n          )}\n\n          {/* Validacion 2 --- Seleccion de examen o creacion de uno nuevo */}\n          {Boolean(state.contact_id) && (\n            <CardExam\n              data={state.exam}\n              customer={state.contact}\n              editCustomer={state.editCustomer}\n              disabled={Boolean(state.items.length)}\n              handleSelect={(exam) =>\n                setState({ ...state, exam_id: exam.id, exam })\n              }\n              hanldeRemove={() => setState({ ...state, exam_id: 0, exam: {} })}\n            />\n          )}\n        </div>\n\n        {/* Validacion 3 --- Seleccion de productos una vez seleccionado el examen */}\n        {Boolean(state.exam_id) && (\n          <div className=\"col-lg-10 d-flex align-self-center justify-content-center p-0\">\n            <Items\n              items={state.items ?? []}\n              session={state.session}\n              disabled={Boolean(state.sale?.payments?.length)}\n              changeInput={handleChangeInput}\n              className={\n                state.items.length\n                  ? \"card border border-success col-lg-12\"\n                  : \"card border border-warning col-lg-12\"\n              }\n            />\n          </div>\n        )}\n\n        {/* Validación 4 --- lista de abonos al pago */}\n        {Boolean(state.items.length) && state.validItems && (\n          <div className=\"col-lg-10 d-flex align-self-center p-0 mt-2\">\n            <CardDiscount\n              data={state.sale ?? {}}\n              handleSetDiscount={handleChangeInput}\n              disabled={(() => {\n                const amount = state.sale.payments?.reduce(\n                  (back, pay) => pay.total + back,\n                  0\n                );\n\n                if (state.id) return true;\n                if (amount) return true;\n\n                return !Boolean(\n                  state.sale.total - state.sale.discount - amount\n                );\n              })()}\n            />\n\n            <CardOrderPayments\n              data={state.sale ?? {}}\n              handleSetPayments={handleChangeInput}\n              disabled={Boolean(state.id)}\n            />\n          </div>\n        )}\n\n        {state.print && (\n          <PrintSaleComponent\n            data={{\n              ...state.sale,\n              items: state.items,\n              order_id: state.id,\n            }}\n            setPrint={() => setState({ ...state, print: false })}\n          />\n        )}\n\n        <div className=\"card col-lg-10 d-flex align-self-center border border-bottom-primary\">\n          <div className=\"card-body text-right\">\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => {\n                if (state.contact_id && !state.id) {\n                  window.Swal.fire({\n                    icon: \"question\",\n                    title: \"¿Realmente desea cerrar esta venta sin GUARDAR?\",\n                    showConfirmButton: true,\n                    confirmButtonText: \"Sí\",\n                    showCancelButton: true,\n                    cancelButttonText: \"Cancelar\",\n                  }).then(({ dismiss }) => {\n                    if (!dismiss) {\n                      handleCloseAssitent();\n                    }\n                  });\n                } else {\n                  handleCloseAssitent();\n                }\n              }}\n            >\n              <i\n                className={\n                  state.id ? \"fas fa-door-open mr-2\" : \"fas fa-ban mr-2\"\n                }\n              ></i>\n              {state.id ? \"Cerrar\" : \"Cancelar\"}\n            </button>\n\n            {state.id ? (\n              <button\n                className=\"btn btn-primary ml-3\"\n                onClick={() => setState({ ...state, print: !state.print })}\n              >\n                <i className=\"fas fa-print mr-2\"></i>\n                Imprimir\n              </button>\n            ) : (\n              <button\n                className=\"btn btn-warning ml-3\"\n                disabled={\n                  !state.items.length || state.id || !state.validItems\n                    ? true\n                    : false\n                }\n                onClick={handleSave}\n              >\n                <i className=\"fas fa-save mr-2\"></i>\n                Guardar\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState,useEffect } from \"react\";\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function LabOrderComponent({\n  status = false,\n  lab_id = \"\",\n  lab_order = \"\",\n  handleChange: _handleChange,\n}) {\n\n  const optionsDefault = {\n    page: 1,\n    orderby: \"created_at\",\n    order: \"desc\",\n    itemsPage: 100,\n    type:1,\n    business:1\n  };\n\n  const [suppliers, setSuppliers] = useState([]);\n  const [supDefault, setSupDefault] = useState('');\n  const hookContacts =  useContact();\n\n  const getSuppliers = ()=>{\n    hookContacts.getContacts(optionsDefault).then((data)=>{\n      if(data){\n        setSuppliers(data.data);\n        const supDefault = data.data.filter((supplier)=> supplier.id === lab_id);\n        if(!supDefault.length){ \n          return null\n        }else{\n          setSupDefault(supDefault[0].name);\n        }        \n      }\n    })\n  }\n  \n  //Functions\n  const changeInput = (e) => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let val = value;\n\n    if (name === \"lab_id\") val = parseInt(value);\n\n    if (_handleChange) _handleChange(name, val);\n  };\n\n  useEffect(() => {\n    getSuppliers();\n    //dispatch(contactActions.getListSuppliers(1));\n    //eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"row m-2\">\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Laboratorio</label>\n\n          <select\n            className={status > 1 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 1 ? true : false}\n            name=\"lab_id\"\n            defaultValue={lab_id}\n            onChange={changeInput}\n          >            \n            <option value=\"0\">\n              {lab_id === 0 ? \"Seleccione un proveedor\" : supDefault}\n            </option>   \n            {suppliers.map((s) => {                                                                     \n                  return (\n                    <option key={s.id} value={s.id}>                      \n                      {s.name}\n                    </option>\n                  );\n                })}\n          </select>\n\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Folio</label>\n          <input\n            type=\"text\"\n            className={status > 1 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 1 ? true : false}\n            name=\"lab_order\"\n            defaultValue={lab_order}\n            onChange={changeInput}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","\n\nexport default function BicelacionOrderComponent({\n  status = false,\n  bi_box = \"\",\n  bi_details = \"\",\n  handleChange: _handleChange,\n}) {\n  const changeInput = (e) => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let val = value;\n\n    if (name === \"caja\") val = parseInt(value);\n\n    if (_handleChange) _handleChange(name, val);\n  };\n\n  return (\n    <div className=\"row m-2\">\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label htmlFor=\"lab\">Caja</label>\n          <input\n            type=\"number\"\n            className={status > 2 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 2 ? true : false}\n            name=\"bi_box\"\n            min=\"1\"\n            defaultValue={bi_box}\n            onChange={changeInput}\n          />\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Observaciones</label>\n          <textarea\n            name=\"bi_details\"\n            className={status > 2 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 2 ? true : false}\n            defaultValue={bi_details}\n            onChange={changeInput}\n          ></textarea>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport moment from \"moment\";\n//Views and actions\nimport Graduacion from \"./graduacionExam\";\n\nconst ExamCustomerComponent = (props) => {\n  const {\n    exam = {},\n    examEdit = false,\n    ChangeInput: _ChangeInput,\n    _saveExam,\n  } = props;\n\n  const [newExam, setNewExam] = useState({\n    esferaod: exam.esferaod,\n    esferaoi: exam.esferaoi,\n    cilindrod: exam.cilindrod,\n    cilindroi: exam.cilindroi,\n    ejeod: exam.ejeod,\n    ejeoi: exam.ejeoi,\n    adiciond: exam.adiciond,\n    adicioni: exam.adicioni,\n    adicion_media_od: exam.adicion_media_od,\n    adicion_media_oi: exam.adicion_media_oi,\n    dpod: exam.dpod,\n    dpoi: exam.dpoi,\n    alturaod: exam.alturaod,\n    alturaoi: exam.alturaoi,\n    lcmarca: exam.lcmarca,\n    lcgod: exam.lcgod,\n    lcgoi: exam.lcgoi,\n  });\n\n  const handleDataExam = (key, val) => {\n    const data = {\n      ...newExam,\n      [key]: parseFloat(val),\n    };\n    setNewExam(data);\n    _ChangeInput(\"codes\", {});\n  };\n\n  const handelChangeExam = () => {\n    _ChangeInput(\"examEdit\", false);\n  };\n\n  const handleSaveExam = () => {\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de actualizar el examen?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Actualizar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then((result) => {\n      if (!result.dismiss) {\n        _saveExam({\n          id: exam.id,\n          data: newExam,\n        });\n        handelChangeExam();\n      }\n    });\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col\">\n          <b>\n            Folio <br />#{exam.id}\n          </b>\n        </div>\n        <div className=\"col\">\n          <b>Fecha:</b>\n          <br />\n          <i className=\"fas fa-calendar mr-2\"></i>\n          {moment(exam.created_at).format(\"L\")}\n        </div>\n        <div className=\"col\">\n          <b>Estado:</b>\n          <br />\n          {exam.estado ? (\n            <span className=\"badge badge-success\">\n              <i className=\"fas fa-check\"></i> Terminado\n            </span>\n          ) : (\n            <span className=\"badge badge-secondary\">\n              <i className=\"fas fa-hourglass\"></i> Activo\n            </span>\n          )}\n        </div>\n      </div>\n\n      {exam.observaciones ? (\n        <div className=\"form-group mt-2\">\n          <div className=\"callout callout-info\">\n            <h5 className=\"text-info text-bold\">\n              <i className=\"fas fa-info\"></i> Observaciones:\n            </h5>\n            {exam.observaciones}\n          </div>\n        </div>\n      ) : null}\n\n      <div className=\"row mt-2\">\n        <div className=\"col\">\n          <Graduacion\n            esferaod={newExam.esferaod ?? 0}\n            esferaoi={newExam.esferaoi ?? 0}\n            cilindrod={newExam.cilindrod ?? 0}\n            cilindroi={newExam.cilindroi ?? 0}\n            ejeod={newExam.ejeod ?? 0}\n            ejeoi={newExam.ejeoi ?? 0}\n            adiciond={newExam.adiciond ?? 0}\n            adicioni={newExam.adicioni ?? 0}\n            adicion_media_od={newExam.adicion_media_od}\n            adicion_media_oi={newExam.adicion_media_oi}\n            dpod={newExam.dpod ?? 0}\n            dpoi={newExam.dpoi ?? 0}\n            alturaod={newExam.alturaod ?? 0}\n            alturaoi={newExam.alturaoi ?? 0}\n            lcmarca={newExam.lcmarca ?? 0}\n            lcgod={newExam.lcgod ?? 0}\n            lcgoi={newExam.lcgoi ?? 0}\n            readOnly={!examEdit}\n            onChangeInput={handleDataExam}\n          />\n        </div>\n      </div>\n      {examEdit ? (\n        <div className=\"text-right mt-2\">\n          <div className=\"btn-group\">\n            <button className=\"btn btn-default\" onClick={handelChangeExam}>\n              <i className=\"fas fa-times mr-1\"></i> Cerrar\n            </button>\n            <button className=\"btn btn-info\" onClick={handleSaveExam}>\n              <i className=\"fas fa-save mr-1\"></i> Guardar\n            </button>\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n};\n\n\nexport default ExamCustomerComponent;\n","//Components\nimport Exam from '../Exam/views/examShort';\n\nexport default function ExamModal({ handleClose: _close, exam }) {\n  return (\n      <div className=\"modal d-block\">\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Examen</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n\n          <div className=\"modal-body p-2\">\n\n            <div className=\"row mt-4 d-print-none\">\n            {exam && exam.id ? (\n              <div className=\"col pt-6\">                \n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <div className=\"p-0 mailbox-read-message\">\n                      <Exam id={exam.id} examEdit={false} exam={exam} />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {/* <div className={`col-${exam && exam.id ? 3 : 12} pt-6`}>\n              <h6 className=\"w-100 d-block\">Meta data</h6>\n              <Dashboard\n                created_at={created_at ?? \"\"}\n                created={created ? created.name : \"\"}\n                updated={updated ? updated.name : \"\"}\n                updated_at={updated_at ?? \"\"}\n              />\n            </div> */}\n\n            </div>\n          </div>\n\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n\n          </div>\n        </div>\n      </div>\n    </div> \n  );\n};\n","import { useHistory } from \"react-router-dom\";\nimport saleHelper from '../Sales/helpers';\n\n\nexport default function ModalNota({ handleClose: _close, sale}) {\n\n\n  const history =  useHistory();\n\n  const penddingToPay = () => {\n    let pendding = saleHelper.getTotal(sale.subtotal, sale.discount) - saleHelper.getPagado(sale.payments);\n    return pendding;\n  }\n\n  const getPagado = ()=>{\n    return saleHelper.getPagado(sale.payments);\n  }\n\n  \n  return (\n      <div className=\"modal d-block\">\n      <div className=\"modal-dialog\" role=\"document\">\n\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Nota</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n          <div className=\"modal-body p-2\">\n          {sale.id ? (                 \n                 <div>\n                     <div className='ml-3 font-weight-bold'>\n                         <h5 className='border-bottom pb-1 mb-2'>Resumen de la venta <span className='badge badge-success'>#{sale.id}</span></h5>\n                     </div>\n                     <div className=\"d-flex pl-2\">                     \n                        <div className='col-lg-7'>                                        \n                            <h6>Descuento:<span className='text-secondary ml-2 font-weight-normal'>${sale.discount}</span></h6>\n                            <h6>Subtotal:<span className=\"text-secondary mb-3 ml-2 font-weight-normal\">${sale.subtotal}</span></h6>\n                            <h5 className=\"font-weight-bold\">Total:<span className=\"text-info ml-2 font-weight-normal\">${sale.total}</span></h5>  \n                        </div>\n                                                            \n                        <div className='col-lg-6 d-flex flex-column justify-content-center align-items-center pt-4'>\n                            <h6 className='font-weight-bold'>Abonado:<span className='text-success ml-2 font-weight-normal'>${getPagado()}</span></h6>                          \n                            <h6 className='font-weight-bold'>Por pagar:<span className='text-danger ml-2 font-weight-normal'>${penddingToPay()}</span></h6>\n                        </div>\n                     </div>\n                     {penddingToPay() === 0 ? <h5 className=\"text-center bg-success p-1\">$ Cuenta pagada</h5> : null}                     \n                 </div>                \n             ):(\n                 <p>No hay un nota para mostrar!!</p>\n             )}           \n          </div>\n\n          <div className=\"modal-footer\">                \n                <button\n                type=\"button\"\n                className=\"btn btn-default\"\n                onClick={() => _close()}\n                >\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n                </button>\n\n                <button className=\"btn btn-info\" onClick={()=>history.push(`/notas/${sale.id}`)}>\n                  <i className=\"fas fa-money-bill-alt mr-2\"></i>\n                  Editar nota\n                </button>\n\n          </div>\n        </div>\n      </div>\n    </div> \n  );\n};\n","import { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\n\n//Context\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { OrderContext } from \"../../context/OderContext\";\n\n//Hooks\nimport useOrder from \"../../hooks/useOrder\";\n\n//Components\nimport LabOrder from \"./views/labOrder\";\nimport Bicelacion from \"./views/bicelacionOrder\";\nimport Items from \"./views/ItemsOrder\";\nimport ExamModal from \"./ExamModal\";\nimport ModalNota from \"./ModalNota\";\nimport Activitys from \"../Activitys\";\nimport PrintSaleComponent from \"../print/PrintSale\";\n\n//Helper\nimport helper from \"./helpers\";\n\nexport default function EditOrderComponent(props) {\n  const [state, setState] = useState({\n    id: 0,\n    paciente: {},\n    session: null,\n    lab_id: 0,\n    lab_order: \"\",\n    bi_details: \"\",\n    bi_box: 0,\n    items: [],\n    sale: {},\n    exam: {},\n    codes: {},\n    status: 0,\n    created: {},\n    created_at: null,\n    updated: {},\n    updated_at: null,\n    print: false,\n    statusInitial: 0,\n  });\n\n  const [showModal, setShowModal] = useState(false);\n  const [showModalNota, setShowModalNota] = useState(false);\n\n  const {\n    id,\n    paciente,\n    lab_id,\n    lab_order,\n    bi_box,\n    bi_details,\n    items,\n    exam = {},\n    status,\n    created_at,\n  } = state;\n\n  const idurl = props.match.params;\n  const hookOrder = useOrder();\n  const authContext = useContext(AuthContext);\n  const role = authContext.auth.roles;\n  const history = useHistory();\n  const orderContext = useContext(OrderContext);\n\n  const { loading: LOADING } = props;\n\n  const fNacimiento =\n    new Date(paciente.birthday ?? \"\") < new Date()\n      ? moment(paciente.birthday)\n      : null;\n\n  const telefonos = Object.values(paciente.phones ?? {}).filter((tel) => tel);\n\n  const handleClose = (e) => {\n    orderContext.set({\n      ...orderContext,\n      panel: \"inbox\",\n    });\n\n    history.push(\"/pedidos\");\n  };\n\n  const handleSave = () => {\n    const { id, lab_order, bi_box, status, lab_id, bi_details } = state;\n    if (status === 0) {\n      return null;\n    }\n\n    if (status === 1 && !lab_id && toString(lab_order).length) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Verifique los campos de laboratorio\",\n        \"error\"\n      );\n      return false;\n    } else if (status === 1) {\n      saveFinalOrder({\n        id,\n        status,\n        lab_id,\n        lab_order,\n      });\n    }\n\n    if (status === 2 && !bi_box) {\n      window.Swal.fire(\"Verificación\", \"El numero de caja esta vacio\", \"error\");\n      return false;\n    } else if (status === 2) {\n      saveFinalOrder({\n        id,\n        status,\n        bi_box,\n        bi_details,\n      });\n    }\n\n    if (status >= 3) {\n      saveFinalOrder({\n        id,\n        status,\n      });\n    }\n  };\n\n  const saveFinalOrder = (data) => {\n    hookOrder.saveOrder(data).then((data) => {\n      if (data) {\n        window.Swal.fire({\n          title: \"Estado guardado correctamente\",\n          icon: \"success\",\n          showCancelButton: false,\n          showConfirmButton: false,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"Eliminar\",\n          timer: 3000,\n        });\n        orderContext.set({\n          ...orderContext,\n          panel: \"inbox\",\n        });\n        history.push(\"/pedidos\");\n      } else {\n        window.Swal.fire({\n          title: \"Error al actualizar el estado\",\n          icon: \"error\",\n          showCancelButton: false,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"Eliminar\",\n        });\n      }\n    });\n  };\n\n  const handleDeleteOrder = () => {\n    window.Swal.fire({\n      title: \"¿Estás seguro de eliminar la orden?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        hookOrder.deleteOrder(id);\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Orden eliminada correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n\n        orderContext.set({\n          ...orderContext,\n          panel: \"inbox\",\n        });\n      }\n    });\n  };\n\n  const handleChangeInput = (key, value) => {\n    setState({\n      ...state,\n      [key]: value,\n    });\n  };\n\n  useEffect(() => {\n    hookOrder.getOrder(idurl).then(({ data }) => {\n      if (data) {\n        setState({\n          id: data.id ?? 0,\n          paciente: data.paciente ?? {},\n          session: data.session ?? null,\n          lab_id: data.lab ? data.lab.id : 0,\n          lab_order: data.lab_order ?? \"\",\n          bi_details: data.bi_details ?? \"\",\n          bi_box: data.bi_box ?? 0,\n          items: data.items ?? [],\n          exam: data.exam ?? {},\n          codes: data.codes ?? {},\n          status: data.status ?? 0,\n          created: data.created ?? {},\n          created_at: data.created_at ?? null,\n          updated: data.updated ?? {},\n          updated_at: data.updated_at ?? null,\n          sale: {\n            id: data.sale.id,\n            total: data.sale.total,\n            subtotal: data.sale.subtotal,\n            session: data.sale.session,\n            payments: data.sale.payments,\n            paid: data.sale.paid,\n            discount: data.sale.descuento,            \n            customer: data.paciente,\n            //...(data.sale ?? {}),            \n          },\n          contact_id: data.paciente.id,\n          activitys: data.activity ?? [],\n          statusInitial: data.status ?? 0,\n        });\n      } else {\n        console.error(\"Error al obtener los datos\");\n      }\n    });\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      {state ? (\n        <>\n          <div className=\"card card-warning card-outline d-print-none\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title w-100\">\n                <i className=\"mr-1 fas fa-clipboard-list\"></i>\n                Pedido\n                <span className=\"ml-1 badge badge-pill badge-warning\">\n                  #{id}\n                </span>\n                <span className=\"float-right mailbox-read-time mt-1 text-dark\">\n                  Pedido registrado {moment(created_at).fromNow()}\n                </span>\n              </h3>\n            </div>\n\n            <div className=\"p-0 card-body d-flex p-3\">\n              <div className=\"pl-3 col-lg-6\">\n                {/* Nombre del paciente */}\n                <h6 className=\"d-flex mb-2\">\n                  <i className=\"mr-2 fas fa-user\"></i>\n                  <span className=\"text-capitalize m-0 text-secondary\">\n                    {paciente.name}\n                  </span>\n                </h6>\n                {/* Email del paciente */}\n                {paciente.email ? (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-2 fas fa-envelope\"></i>\n                    <span className=\"text-muted\">{paciente.email}</span>\n                  </h6>\n                ) : (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-2 fas fa-envelope\"></i>\n                    <span className=\"text-muted\">Email no registrado</span>\n                  </h6>\n                )}\n                {/* Teléfono del paciente */}\n                {telefonos.length ? (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-1 fas fa-phone\"></i>\n                    <span className=\"mx-1 text-muted\">\n                      {telefonos.join(\" \")}\n                    </span>\n                  </h6>\n                ) : (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-1 fas fa-phone\"></i>\n                    <span className=\"text-muted\">Telefonos no registrado</span>\n                  </h6>\n                )}\n\n                {/*Fecha de nacimiento del paciente*/}\n                {role === \"admin\" ? (\n                  <span className=\"mailbox-read-time\">\n                    Fecha de nacimiento:{\" \"}\n                    {fNacimiento ? (\n                      <>\n                        {fNacimiento.format(\"LL\")}\n                        <label className=\"ml-1\">\n                          ({moment().diff(fNacimiento, \"years\")} años)\n                        </label>\n                      </>\n                    ) : (\n                      \"NO REGISTRADO\"\n                    )}\n                  </span>\n                ) : null}\n              </div>\n\n              <div className=\"col-lg-6 d-flex flex-column justify-content-center align-items-center\">\n                <div className=\"w-75 d-flex flex-column justify-content-center align-items-center\">\n                  <div className=\"btn-group\">\n                    {state.nota && !state.nota.id ? (\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-default btn-sm\"\n                        title=\"Eliminar\"\n                        onClick={handleDeleteOrder}\n                      >\n                        <i className=\"far fa-trash-alt\"></i>\n                      </button>\n                    ) : null}\n                  </div>\n                </div>\n\n                <div className=\"w-75 d-flex flex-column justify-content-center align-items-center\">\n                  <div className=\"mt-3 \">\n                    <button\n                      className=\"btn btn-info mr-1\"\n                      onClick={() => setShowModal(true)}\n                      disabled={Object.keys(exam).length ? false : true}\n                    >\n                      {Object.keys(exam).length\n                        ? \"Ver examen\"\n                        : \"Sin examen asignado\"}\n                      <i className=\"fas fa-eye ml-1\"></i>\n                    </button>\n\n                    <button\n                      className=\"btn btn-primary mr-1\"\n                      onClick={() => setShowModalNota(true)}\n                    >\n                      Ver Nota\n                      <i className=\"fas fa-money-bill ml-1\"></i>\n                    </button>\n\n                    <button\n                      className=\"btn btn-secondary\"\n                      onClick={() => setState({ ...state, print: true })}\n                    >\n                      Imprimir\n                      <i className=\"fas fa-print ml-1\"></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"row mt-4 mb-4\">\n            <div className=\"col-lg-4 col-md-6 col-sm-12 d-print-none\">\n              {/* ------------------SELECCION DE ESTATUS ------------------ */}\n              <h6 className=\"w-100 d-block font-weight-bold\">Estado</h6>\n              <div className=\"card mt-2\">\n                <div className=\"btn-group-vertical\">\n                  {helper.getStatusType.map((type, index) => (\n                    <button\n                      key={index}\n                      type=\"button\"\n                      className={\n                        status === index\n                          ? \"btn btn-primary btn-sm text-capitalize text-bold\"\n                          : \"btn btn-default btn-sm text-capitalize\"\n                      }\n                      onClick={(e) => {\n                        setState({\n                          ...state,\n                          status: index,\n                        });\n                      }}\n                    >\n                      {type}\n                    </button>\n                  ))}\n                </div>\n                {LOADING ? (\n                  <div className=\"overlay dark\">\n                    <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                  </div>\n                ) : null}\n              </div>\n\n              <div className=\"mt-3 d-flex justify-content-center\">\n                <button\n                  className=\"btn btn-secondary mr-2\"\n                  onClick={(e) => handleClose(e)}\n                >\n                  Cerrar\n                  <i className=\"mr-1 fas fa-door-open ml-2\"></i>\n                </button>\n\n                <button\n                  className=\"btn btn-warning\"\n                  disabled={Boolean(state.status === state.statusInitial)}\n                  onClick={handleSave}\n                >\n                  Guardar\n                  <i className=\"mr-1 fas fa-save ml-2\"></i>\n                </button>\n              </div>\n            </div>\n\n            {/*------------------ COMPONENTE DE PEDIDO ------------------*/}\n            <div className=\"col\">\n              {\n                <div className=\"card h-100 m-0\">\n                  <div className=\"card-header d-print-none\">\n                    <h5 className=\"card-title w-100 d-block mb-2 text-capitalize text-bold\">\n                      <i className=\"fas fa-shield-alt mr-1\"></i>\n                      {helper.handleStatusString(status)}\n                    </h5>\n                  </div>\n\n                  <div className=\"card-body p-0\">\n                    <div className=\"p-0 mailbox-read-message m-0\">\n                      {!Boolean(status) && <Items items={items} />}\n\n                      {status === 1 ? (\n                        <LabOrder\n                          lab_id={lab_id}\n                          lab_order={lab_order}\n                          status={status}\n                          handleChange={handleChangeInput}\n                        />\n                      ) : null}\n\n                      {status === 2 ? (\n                        <Bicelacion\n                          bi_box={bi_box}\n                          bi_details={bi_details}\n                          status={status}\n                          handleChange={handleChangeInput}\n                        />\n                      ) : null}\n\n                      {status >= 3 ? (\n                        <div className=\"px-2\">\n                          <div className=\"my-2 border rounded card border-warning d-print-none\">\n                            <div className=\"card-body\">\n                              <h5 className=\"card-title\">\n                                Estado de la entrega\n                              </h5>\n                              <div className=\"ml-1 icheck-success d-inline\">\n                                <input\n                                  type=\"checkbox\"\n                                  checked={status === 3 ? false : true}\n                                  id=\"checkboxSuccess1\"\n                                  onChange={(e) =>\n                                    handleChangeInput(\n                                      \"status\",\n                                      status === 3 ? 4 : 3\n                                    )\n                                  }\n                                />\n                                <label htmlFor=\"checkboxSuccess1\"></label>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      ) : null}\n                    </div>\n                  </div>\n\n                  {LOADING ? (\n                    <div className=\"overlay dark d-print-none\">\n                      <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                    </div>\n                  ) : null}\n                </div>\n              }\n            </div>\n          </div>\n\n          {/* MODAL VALIDATION EXAM */}\n          {showModal ? (\n            <ExamModal\n              handleClose={() => setShowModal(false)}\n              exam={state.exam}\n            />\n          ) : null}\n\n          {/* MODAL VALIDATION NOTA*/}\n          {showModalNota ? (\n            <ModalNota\n              handleClose={() => setShowModalNota(false)}\n              sale={state.sale}\n            />\n          ) : null}\n        </>\n      ) : null}\n\n      {state.print && (\n        <PrintSaleComponent\n          data={{\n            ...state.sale,\n            items: state.items,\n            order_id: state.id,\n          }}\n          setPrint={() => setState({ ...state, print: false })}\n        />\n      )}\n\n      <Activitys data={state.activitys ?? []} />\n    </>\n  );\n}\n","import { useContext } from \"react\";\n//Context\nimport { OrderContext } from \"../../context/OderContext\";\nimport SideBar from \"../../pages/partials/SideBar\";\n\nexport default function Toolbar() {\n  const orderContext = useContext(OrderContext);\n  const options = orderContext.options;\n\n  const handleSetSelectOptions = ({ target }) => {\n    const { value, name } = target;\n    //if(name === 'status' || name === 'itemsPage'){}\n    orderContext.set({\n      ...orderContext,\n      options: {\n        ...options,\n        [name]: value,\n      },\n    });\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-md-12 col-sm-12 d-print-none\">\n        <a\n          href=\"#new\"\n          className={\n            [\"edit\", \"newOrder\"].includes(orderContext.panel)\n              ? \"disabled mb-3 btn btn-secondary btn-block\"\n              : \"mb-3 btn btn-warning btn-block\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n            orderContext.set({\n              ...orderContext,\n              panel: \"newOrder\",\n            });\n          }}\n          disabled={\n            [\"edit\", \"newOrder\"].includes(orderContext.panel) ? true : false\n          }\n        >\n          <i className=\"mr-2 fas fa-plus\"></i>\n          Pedido nuevo\n        </a>\n\n        {orderContext.panel === \"inbox\" && (\n          <SideBar title=\"Filtros\">\n            {orderContext.panel === \"inbox\" ? (\n              <>\n                <li className=\"nav-item\">&nbsp;</li>\n                <li className=\"p-2 nav-item\">\n                  <label htmlFor=\"status\">Estado del pedido</label>\n                  <select\n                    className=\"form-control\"\n                    name=\"status\"\n                    id=\"status\"\n                    value={options.status}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"\">-- Todos --</option>\n                    <option value=\"0\">En proceso</option>\n                    <option value=\"1\">Laboratorio</option>\n                    <option value=\"2\">Bicelación</option>\n                    <option value=\"3\">Terminado</option>\n                    <option value=\"4\">Entregado</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"orderby\">Ordenar por</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"orderby\"\n                    id=\"orderby\"\n                    value={options.orderby}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"created_at\">Fecha de registro</option>\n                    <option value=\"updated_at\">Fecha de modificacion</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"order\">Mostrar por</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"order\"\n                    id=\"order\"\n                    value={options.order}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"asc\">Antiguos</option>\n                    <option value=\"desc\">Recientes</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"itemsPage\">Numero de pedidos</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"itemsPage\"\n                    id=\"itemsPage\"\n                    value={options.itemsPage}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"25\">ver 25</option>\n                    <option value=\"50\">ver 50</option>\n                    <option value=\"75\">ver 75</option>\n                    <option value=\"100\">ver 100</option>\n                  </select>\n                </li>\n              </>\n            ) : null}\n          </SideBar>\n        )}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { OrderContext } from \"../context/OderContext\";\n\n//Components\nimport Inbox from \"../components/Order/views/inbox\";\nimport Asistent from \"../components/Order/Asistent\";\nimport AddOrder from \"../components/Order/editOrder\";\nimport Toolbar from \"../components//Order/Toolbar.jsx\";\n\nconst initialOptions = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n  status: \"\",\n  search: \"\",\n};\n\nexport default function IndexOrderComponent(props) {\n  const [state, setState] = useState({\n    panel: null,\n    options: initialOptions,\n    order: {},\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      panel: id ? \"edit\" : \"inbox\",\n    });\n  }, [id]);\n\n  return (\n    <OrderContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{ minHeight: \"100vh\" }}>\n        <div className=\"col-sm-12 col-md-2\">\n          <Toolbar />\n        </div>\n        <div className=\"col-sm-12 col-md-10\">\n          {state.panel === \"inbox\" && <Inbox />}\n          {state.panel === \"newOrder\" && <Asistent {...props} />}\n          {state.panel === \"edit\" && <AddOrder {...props} />}\n        </div>\n      </div>\n    </OrderContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, Fragment, useContext, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function NotifyComponent() {\n  const { auth, getNotifications, setNotifications } = useContext(AuthContext);\n  const [state, setState] = useState({\n    notifications: [],\n    loading: true,\n    mainRole: auth.roles,\n  });\n  const { notifications, loading, mainRole } = state,\n    countNotify = notifications ? notifications.length : 0,\n    showNotifications = notifications.slice(0, 10);\n  let timerNotify;\n\n  // Functions\n  const handleNotifications = () => {\n      getNotifications()\n        .then((notifications) => {\n          setState({\n            ...state,\n            notifications,\n            loading: false,\n          });\n        })\n        .catch(() => {\n          setState({\n            ...state,\n            loading: false,\n          });\n        });\n    },\n    handleClickRead = (e, id) => {\n      if (id === -1) e.preventDefault();\n      setNotifications({ id });\n    };\n\n  useEffect(() => {\n    handleNotifications();\n\n    timerNotify = setInterval(() => {\n      console.log(\"[Orus system] check notifications\");\n      setState({\n        ...state,\n        loading: true,\n      });\n      handleNotifications();\n    }, 60000);\n\n    return () => {\n      clearInterval(timerNotify);\n    };\n  }, []);\n\n  return (\n    <li className=\"nav-item dropdown\">\n      <a className=\"nav-link\" data-toggle=\"dropdown\" href=\"#end\">\n        {loading ? (\n          <i className=\"fas fa-spinner fa-spin\"></i>\n        ) : (\n          <>\n            <i className=\"far fa-bell\"></i>\n            {countNotify ? (\n              <span className=\"badge badge-warning navbar-badge\">\n                {countNotify}\n              </span>\n            ) : null}\n          </>\n        )}\n      </a>\n\n      <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n        <span className=\"dropdown-header\">{countNotify} Notificaciones</span>\n        <div className=\"dropdown-divider\"></div>\n        {showNotifications.map((notify) => {\n          const notiFyType = notify.type.split(\"\\\\\", 3);\n          let title = \"general\",\n            icon = \"fa-file\",\n            time = moment(notify.created_at).fromNow(),\n            url = \"#end\";\n\n          if (notiFyType[2] === \"ExamNotification\") {\n            if (mainRole === \"doctor\") {\n              title = \"Examen creado\";\n              url = \"/consultorio/registro/\" + notify.data.id;\n            } else {\n              title = \"Examen actualizado\";\n              url = \"/pedidos/registro\";\n            }\n            icon = \"fa-file-alt\";\n          }\n\n          return (\n            <Link\n              to={url}\n              className=\"dropdown-item\"\n              key={notify.id}\n              onClick={(e) => {\n                handleClickRead(e, notify.id);\n              }}\n            >\n              <i className={\"fas \" + icon + \" mr-1\"}></i> {title}\n              <span className=\"float-right text-sm text-muted\">{time}</span>\n            </Link>\n          );\n        })}\n        {countNotify ? (\n          <Fragment>\n            <div className=\"dropdown-divider\"></div>\n            <a\n              href=\"#end\"\n              className=\"dropdown-item dropdown-footer\"\n              onClick={(e) => {\n                e.preventDefault();\n                handleClickRead(e, -1);\n              }}\n            >\n              Marcar todas.\n            </a>\n          </Fragment>\n        ) : null}\n        {/* <Link\n            to=\"/notificaciones\"\n            className=\"dropdown-item dropdown-footer\"\n            onClick={(e) => {\n              //this.props.page(\"/notificaciones\");\n            }}\n          >\n            Ver todas\n          </Link> */}\n      </div>\n    </li>\n  );\n}\n","import Notify from \"./notify\";\n\nexport default function NavtopComponent() {\n  return (\n    <nav className=\"main-header navbar navbar-expand navbar-dark navbar-lightblue\">\n      <ul className=\"navbar-nav\">\n        <li className=\"nav-item\">\n          <a\n            className=\"nav-link\"\n            data-widget=\"pushmenu\"\n            href=\"#navbar\"\n            role=\"button\"\n            onClick={(e) => {\n              e.preventDefault();\n              window.$(\"#body\").toggleClass(\"sidebar-open\");\n              window.$(\"#body\").toggleClass(\"sidebar-collapse\");\n            }}\n          >\n            <i className=\"fas fa-bars\"></i>\n          </a>\n        </li>\n      </ul>\n      <ul className=\"navbar-nav ml-auto\">\n        <li className=\"nav-item dropdown\">\n          <a href=\"#end\" className=\"nav-link\" data-toggle=\"dropdown\">\n            <i className=\"far fa-comments\"></i>\n          </a>\n          <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n            <span className=\"dropdown-header\">Sin comentarios</span>\n            <div className=\"dropdown-divider\"></div>\n          </div>\n        </li>\n        <Notify />\n      </ul>\n    </nav>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useLocation } from \"react-router-dom\";\nimport { useContext, useState } from \"react\";\nimport moment from \"moment\";\nimport Modal from \"../../layouts/modal\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { ConfigContext } from \"../../context/ConfigContext\";\n\nexport default function BreadcrumbComponent() {\n\n  const { auth, setBranch } = useContext(AuthContext);\n  const config = useContext(ConfigContext);\n  const pathName = useLocation().pathname.split(\"/\");\n  const pathArray = pathName && pathName.length ? pathName : [\"dashboard\"];\n  const pathFilter = pathArray.filter((path) => ![\"\"].includes(path));\n  const namePage = pathFilter[0];\n  const currentBranch = auth.branch;\n  const [state, setState] = useState({\n    showChangeBranchs: false,\n    date: moment().format(\"LLLL\"),\n    branchSelect: currentBranch.id,\n  });\n\n  const branches = config.data?.filter((c) => c.name === \"branches\") ?? [];\n  \n  // functions\n  const handleChangeBranch = (e) => {\n    e.preventDefault();\n\n    setState({\n      ...state,\n      showChangeBranchs: true,\n    });\n  };\n  const handleCancelModal = () => {\n    setState({ ...state, showChangeBranchs: false });\n  };\n  const handleClickChangeBranch = () => {\n    const { branchSelect: branch_id } = state;\n\n    handleCancelModal();\n\n    if (!branch_id) {\n      console.error(\"[Orus System][ERROR] branch id is empty\");\n      window.location.reload();\n      return;\n    }\n\n    window.Swal.fire({\n      text: \"¿Realmente desea cambiarse de sucursal?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Confirmar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        setBranch(branch_id)        \n        .then((res) => {\n          if (res) {\n            console.log(\"Respuesta cambio de sucursal:\", res);                      \n            window.location.reload();\n          } else {\n            window.Swal.fire({\n              icon: \"error\",\n              text: \"Lo sentimos, hay un problema de comunicacion con el servidor. Comfirme el IP.\",\n              showConfirmButton: false,\n              timer: 3000,\n              position: \"top center\",\n            });\n          }\n        })\n\n        .catch((error)=>{\n          if(error){\n            console.log(\"Error al cambiar la sucursal:\", error);\n          }\n        })\n      }\n    });\n  };\n  const getHtmlBody = () => {\n    const { branchSelect } = state;\n\n    return (\n      <div className=\"form-group\">\n        <label>Seleccione la sucursal</label>\n        <select\n          className=\"form-control text-capitalize\"\n          onChange={({ target }) =>\n            setState({ ...state, branchSelect: parseInt(target.value) })\n          }\n          defaultValue={currentBranch?.id}\n        >\n          {branches.map((branch) => (\n            <option key={branch.id} value={branch.id}>\n              {branch.data.name}\n            </option>\n          ))}\n        </select>\n        <div className=\"mt-2 text-right\">\n          <button\n            className=\"btn btn-default\"\n            type=\"button\"\n            onClick={handleClickChangeBranch}\n            disabled={branchSelect === currentBranch?.id ? true : false}\n          >\n            Cambiar\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"content-header\">\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <h1 className=\"m-0 text-dark text-capitalize\">\n              <i className=\"mr-1 fas fa-file\"></i> {namePage}\n            </h1>\n          </div>\n          <div className=\"text-center col\">\n            <small\n              className=\"p-2 badge badge-secondary text-capitalize\"\n              alt=\"conectado a\"\n              title=\"conectado a\"\n            >\n              <i className=\"mr-1 fas fa-wifi text-success\"></i>\n              {config.server?.host}\n              {config.server?.port && config.server?.port !== \"80\"\n                ? `:${config.server?.port}`\n                : null}\n            </small>\n            <small\n              className=\"p-2 mt-1 ml-1 badge badge-secondary text-capitalize\"\n              alt=\"Almacenando en\"\n              title=\"Almacenando en\"\n            >\n              <i className=\"mr-1 fas fa-server text-success\"></i>\n              {auth.permissions?.includes(\"auth.changeBranch\") ? (\n                <a\n                  href=\"#link\"\n                  className=\"text-white\"\n                  onClick={handleChangeBranch}\n                >\n                  {currentBranch.name}\n                </a>\n              ) : (\n                currentBranch.name\n              )}\n            </small>\n            <small\n              className=\"p-2 mt-1 ml-2 badge badge-secondary text-capitalize\"\n              alt=\"Usuario conectado\"\n              title=\"Usuario conectado\"\n            >\n              <i className=\"mr-1 fas fa-user text-info\"></i> {auth.username}\n            </small>\n            {state.showChangeBranchs ? (\n              <Modal\n                title=\"Cambiar de sucursal\"\n                body={getHtmlBody()}\n                handleCancel={handleCancelModal}\n              />\n            ) : null}\n          </div>\n          <div className=\"col\">\n            <h6 className=\"text-right text-muted\">\n              <i className=\"mr-1 fas fa-calendar\"></i> {state.date}\n            </h6>\n          </div>\n        </div>\n      </div>\n      <hr />\n    </div>\n  );\n\n  \n}\n","import { useContext } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function MenuComponent() {\n  const { auth, outSession } = useContext(AuthContext);\n  const handleLogOut = (e) => {\n    e.preventDefault();\n\n    window.Swal.fire({\n      title: \"Session\",\n      text: \"¿Esta seguro de cerrar la sesion?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Si\",\n      cancelButtonText: \"Cancelar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        outSession();\n\n        setTimeout(() => {\n          window.location.reload();\n        }, 2000);\n      }\n    });\n  };\n\n  // TODO: import auth context\n  const companyName = \"Optica Madero\",\n    active = useLocation().pathname.replace(\"/\", \"\");\n\n  let avatar = \"/img/avatars/avatar5.png\";\n  if (auth.roles === \"ventas\") avatar = \"/img/avatars/avatar2.png\";\n  if (auth.roles === \"admin\") avatar = \"/img/avatars/avatar3.png\";\n  if (auth.idUser === 2) avatar = \"/img/avatars/avatar4.png\";\n\n  return (\n    <aside className=\"main-sidebar sidebar-dark-primary\">\n      <Link to=\"/\" className=\"brand-link\">\n        <img\n          src=\"/img/logo.png\"\n          alt={companyName + \" logo \"}\n          className=\"brand-image img-circle elevation-2\"\n          style={{ opacity: 0.8, maxHeight: 16 }}\n        />\n        <span className=\"brand-text font-weight-light text-uppercase\">\n          {companyName}\n        </span>\n      </Link>\n      <div className=\"sidebar\">\n        <div className=\"pb-3 mt-3 mb-3 user-panel d-flex\">\n          <div className=\"image\">\n            <img\n              src={avatar}\n              className=\"img-circle elevation-2\"\n              alt={auth.name}\n            />\n          </div>\n          <div className=\"info\">\n            <a href=\"#end\" className=\"d-block text-capitalize\">\n              {auth.name}\n              <small className=\"text-lowercase\">({auth.username})</small>\n              <br />\n              <span className=\"badge badge-light\">\n                {auth.roles !== \"admin\"\n                  ? auth.roles === \"ventas\"\n                    ? \"Ventas\"\n                    : \"Optometrista\"\n                  : \"Administrador\"}\n              </span>\n            </a>\n          </div>\n        </div>\n        <nav className=\"mt-2\">\n          <ul\n            className=\"nav nav-pills nav-sidebar flex-column\"\n            data-widget=\"treeview\"\n            role=\"menu\"\n            data-accordion=\"false\"\n          >\n            {auth.roles === \"admin\" ? (\n              <li className=\"nav-item\">\n                <Link\n                  to=\"/\"\n                  className={active === \"\" ? \"nav-link active\" : \"nav-link\"}\n                >\n                  <i className=\"nav-icon fas fa-tachometer-alt\"></i>\n                  <p>\n                    Dashboard\n                    <i className=\"right fas fa-angle-left\"></i>\n                  </p>\n                </Link>\n              </li>\n            ) : null}\n\n            <li className=\"nav-item\">\n              <Link\n                to=\"/contactos\"\n                className={\n                  active === \"contactos\" ? \"nav-link active\" : \"nav-link\"\n                }\n              >\n                <i className=\"nav-icon fas fa-address-book\"></i>\n                <p>\n                  Contactos\n                  <i className=\"right fas fa-angle-left\"></i>\n                </p>\n              </Link>\n            </li>\n\n            <li className=\"nav-item\">\n              <Link\n                to=\"/consultorio\"\n                className={\n                  active === \"consultorio\" ||\n                  (active === \"\" && auth.roles === \"doctor\")\n                    ? \"nav-link active\"\n                    : \"nav-link\"\n                }\n              >\n                <i className=\"nav-icon fas fa-notes-medical\"></i>\n                <p>\n                  Examenes\n                  <i className=\"right fas fa-angle-left\"></i>\n                </p>\n              </Link>\n            </li>\n\n            {auth.roles !== \"doctor\" ? (\n              <>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/pedidos\"\n                    className={\n                      active === \"pedidos\" ||\n                      (active === \"\" && auth.roles === \"ventas\")\n                        ? \"nav-link active\"\n                        : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-clipboard-list\"></i>\n                    <p>\n                      Pedidos\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/notas\"\n                    className={\n                      active === \"notas\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-cash-register\"></i>\n                    <p>\n                      Ventas\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n              </>\n            ) : null}\n\n            {auth.roles === \"admin\" ? (\n              <>\n                <li\n                  className={\n                    active === \"almacen\"\n                      ? \"nav-item has-treeview menu-open\"\n                      : \"nav-item has-treeview \"\n                  }\n                >\n                  <Link\n                    to=\"/almacen\"\n                    className={\n                      active === \"almacen\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-database\"></i>\n                    <p>\n                      Almacen\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/usuarios\"\n                    className={\n                      active === \"usuarios\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-user\"></i>\n                    <p>\n                      Usuarios\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/configuraciones\"\n                    className={\n                      active === \"configuraciones\"\n                        ? \"nav-link active\"\n                        : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-tools\"></i>\n                    <p>\n                      Configuraciones\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n              </>\n            ) : null}\n\n            <li className=\"nav-item\">\n              <Link to=\"/\" className=\"nav-link\" onClick={handleLogOut}>\n                <i className=\"nav-icon fas fa-sign-out-alt\"></i>\n                <p>Cerrar sesion</p>\n              </Link>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </aside>\n  );\n}\n","import Navtop from \"../components/Layouts/navtop\";\nimport Breadcrumb from \"../components/Layouts/breadcrumb\";\nimport Menu from \"../components/Layouts/menu\";\n\nexport default function Main({ children }) {\n  const data = {};\n\n  return (\n    <div className=\"wrapper\" >\n      <Navtop logOut={() => {}} data={data} page={() => {}} />\n      \n      <Menu\n        companyName={\"company\"}\n        user={data}\n        page={() => {}}\n        logOut={() => {}}\n        active={\"active\"}\n      />\n\n      <div className=\"content-wrapper\">\n        <Breadcrumb />\n        <div className=\"content\">\n          <div className=\"container-fluid\">\n            <div className=\"row\" style={{minHeight:'100vh'}}>\n              <div className=\"col-lg-12\">{children}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","import { Route } from \"react-router-dom\";\nimport UserAdd from \"../components/Users/add\";\nimport Store from \"../pages/Store\";\nimport Contacts from \"../pages/Contacts\";\nimport Tools from '../pages/Tools';\nimport Exams from \"../pages/Exams\";\nimport Sales from \"../pages/Sales\";\nimport Dashboard from \"../pages/AuthDashboard\";\nimport Users from \"../pages/Users\";\nimport Orders from \"../pages/Orders\";\n\nimport ConfigProvider from \"../context/ConfigContext\";\nimport Main from \"../layouts/Main\";\n\nexport default function Routers({ auth }) {\n  return (\n    <ConfigProvider>\n      <Main>\n        <Route\n          exact\n          path=\"/\"\n          render={(props) => {\n            switch (auth.roles) {\n              case \"doctor\":\n                return <Exams {...props} />;\n\n              case \"ventas\":\n                return <Orders {...props} />;\n\n              default:\n                return <Dashboard {...props} />;\n            }\n          }}\n        />\n\n        <Route\n          path=\"/usuarios/registro/:id?\"\n          render={(props) => <UserAdd {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/usuarios/:id?\"\n          render={(props) => <Users {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/almacen/:id?\"\n          render={(props) => <Store {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/contactos/:id?\"\n          render={(props) => <Contacts {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/consultorio/:id?\"\n          render={(props) => <Exams {...props} />}\n        />\n\n        <Route\n          path=\"/configuraciones\"\n          render={(props) => <Tools {...props} page={() => {}} />}\n        />\n\n        <Route path=\"/pedidos/:id?\" render={(props) => <Orders {...props} />} />\n\n        <Route\n          path=\"/notas/:id?\"\n          render={(props) => <Sales {...props} page={() => {}} />}\n        />\n\n        {/* <Route\n              path=\"/notificaciones\"\n              render={(props) => (\n                <NotifyAllShow {...props} data={data} page={this.handlePage} />\n              )}\n            /> */}\n      </Main>\n    </ConfigProvider>\n  );\n}\n","export default function Dashboard() {\n  return (\n    <div className=\"mx-auto p-4 mt-5 w-50\">\n      <h1>Portal Optica Madero</h1>\n      <p>Para accesar al portal inicia session aqui: </p>\n      <button\n        onClick={() => {\n          window.location.href = \"/login\";\n        }}\n        type=\"button\"\n      >\n        Acceder\n      </button>\n    </div>\n  );\n}\n","import { Route } from \"react-router-dom\";\nimport Dashboard from \"../pages/Dashboard\";\n\nexport default function RouterPortal() {\n  return (\n    <>\n      <Route exact path=\"/\" render={(props) => <Dashboard />} />\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nexport default function NotFoundComponent() {\n  return (\n    <div className=\"container text-center font-weight-bold d-flex justify-content-center mt-5\">\n      <h1>404 Not Found</h1>\n    </div>\n  );\n}\n","/* eslint-disable no-useless-escape */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { useContext, useEffect, useState, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Login() {\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n  const LS = localStorage.getItem(\"OrusSystem\");\n  const defaultStorage = {\n    protocol: window.location.protocol.replace(\":\", \"\"),\n    host: window.location.hostname,\n    port: window.location.port,\n  };\n  const storage = LS ? JSON.parse(LS) : defaultStorage;\n  const server = `${storage.protocol + \"://\" ?? \"\"}${storage.host ?? \"\"}${\n    \":\" + storage.port ?? \"\"\n  }`;\n  const [state, setState] = useState({\n    load: false,\n    email: \"\",\n    password: \"\",\n    txtHost: server,\n    hostShow: server ? false : true,\n  });\n  const COMPANY = \"Optica Madero\";\n  const inputEmail = useRef();\n  const inputPassword = useRef();\n\n  // Functions\n  const handleLogin = () => {\n    const patterEmail = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if (!state.email) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de correo electronico es requerido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputEmail.current.focus();\n      });\n    }\n\n    if (/^@./.test(state.email)) {\n      const user = state.email.replace(\"@\", \"\");\n\n      state.email = `${user}@domain.com`;\n    } else if (!patterEmail.test(state.email)) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El usuario debe de ser un correo valido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputEmail.current.focus();\n      });\n    }\n\n    if (\n      ![\"domain.com\", \"opticamadero.com\"].includes(state.email.split(\"@\")[1])\n    ) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El dominio de este correo no es aceptado\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        setState({\n          ...state,\n          email: \"\",\n        });\n      });\n    }\n\n    if (!state.password) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de constraseña es requerido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputPassword.current.focus();\n      });\n    }\n\n    if (state.password.length < 8) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El password debe de tener al menos 8 caracteres\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputPassword.current.focus();\n      });\n    }\n\n    setState({\n      ...state,\n      load: true,\n    });\n\n    auth\n      .setSession({ email: state.email, password: state.password })\n      .then((res) => {\n        setState({\n          ...state,\n          load: false,\n        });\n\n        if (!res.status) {\n          let message = res.message;\n\n          if (res.data?.errors) {\n            message = res.data?.errors[Object.keys(res.data.errors)[0]][0];\n          }\n\n          if (!message && res.data) message = res.data.message;\n\n          return window.Swal.fire({\n            icon: \"error\",\n            text: message,\n            showConfirmButton: false,\n            timer: 2500,\n            position: \"top center\",\n          });\n        }\n\n        history.push(\"/\");\n      });\n  };\n  const handleKeyEnter = (key, fn) => {\n    if (key === \"Enter\") {\n      fn();\n    }\n  };\n  const handleChangeServer = () => {\n    const { txtHost } = state;\n\n    if (!txtHost) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de servidor no puede estar vacio\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      });\n    }\n\n    const server = txtHost.split(\":\");\n    let host, port, protocol;\n\n    if (server.length === 2) {\n      protocol = window.location.protocol.replace(\":\", \"\");\n      host = server[0].replace(\"//\", \"\");\n      port = server[1];\n    } else if (server.length === 3) {\n      protocol = server[0];\n      host = server[1].replace(\"//\", \"\");\n      port = server[2];\n    } else {\n      protocol = window.location.protocol.replace(\":\", \"\");\n      host = window.location.hostname;\n      port = window.location.port;\n    }\n\n    localStorage.setItem(\n      \"OrusSystem\",\n      JSON.stringify({\n        ...storage,\n        protocol,\n        host,\n        port,\n        token: \"\",\n      })\n    );\n\n    setState({\n      ...state,\n      hostShow: false,\n    });\n\n    window.Swal.fire({\n      icon: \"success\",\n      text: \"Cambio de servidor exitoso\",\n      showConfirmButton: false,\n      timer: 2500,\n      position: \"top center\",\n    });\n  };\n  const handleEmailEnter = () => {\n    if (state.email) inputPassword.current.focus();\n  };\n\n  useEffect(() => {\n    if (auth.auth?.isLogged) {\n      history.push(\"/\");\n    }\n  }, []);\n\n  return (\n    <div className=\"login-page\">\n      <div className=\"login-box\">\n        <div className=\"login-logo\">\n          <a href=\"#logo\" onClick={(e) => e.preventDefault()}>\n            <b className=\"text-primary\">Orus</b> LTE\n          </a>\n        </div>\n\n        <div className=\"rounded shadow-lg card\">\n          <div className=\"card-body login-card-body\">\n            <p className=\"login-box-msg text-uppercase\">\n              <span className=\"p-2 badge badge-secondary\">{COMPANY}</span>\n              <br />\n              <small className=\"text-muted text-lowercase\">{`<${state.txtHost}>`}</small>\n            </p>\n            <form autoComplete=\"off\">\n              <div className=\"mb-0 input-group\">\n                <input\n                  type=\"email\"\n                  className=\"form-control text-lowercase\"\n                  placeholder=\"Correo electonico\"\n                  onChange={({ target }) =>\n                    setState({ ...state, email: target.value.toLowerCase() })\n                  }\n                  onKeyPress={({ key }) =>\n                    handleKeyEnter(key, handleEmailEnter)\n                  }\n                  defaultValue={state.email}\n                  autoComplete=\"false\"\n                  ref={inputEmail}\n                  autoFocus={state.email ? false : true}\n                />\n                <div className=\"input-group-append\">\n                  <div className=\"input-group-text\">\n                    <span className=\"fas fa-user\"></span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mt-3 input-group\">\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Contraseña\"\n                  onChange={({ target }) =>\n                    setState({ ...state, password: target.value })\n                  }\n                  onKeyPress={({ key }) => handleKeyEnter(key, handleLogin)}\n                  defaultValue={state.password}\n                  autoComplete=\"false\"\n                  ref={inputPassword}\n                  autoFocus={\n                    state.email ? (state.password ? false : true) : false\n                  }\n                />\n                <div className=\"input-group-append\">\n                  <div className=\"input-group-text\">\n                    <span className=\"fas fa-lock\"></span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"my-3 col-12\">\n                  <a\n                    href=\"#tools\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      setState({ ...state, hostShow: !state.hostShow });\n                    }}\n                    className=\"text-muted\"\n                  >\n                    <i className=\"mx-1 fas fa-wifi\"></i> Servidor\n                  </a>\n                  {state.hostShow ? (\n                    <div className=\"mb-3 input-group\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Servidor\"\n                        autoComplete=\"off\"\n                        onChange={({ target }) =>\n                          setState({\n                            ...state,\n                            txtHost: target.value.toLowerCase(),\n                          })\n                        }\n                        defaultValue={state.txtHost}\n                        onKeyPress={({ key }) =>\n                          handleKeyEnter(key, handleChangeServer)\n                        }\n                      />\n                      <div className=\"input-group-append\">\n                        <div className=\"input-group-text\">\n                          <span className=\"fas fa-server\"></span>\n                        </div>\n                      </div>\n                    </div>\n                  ) : null}\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"text-center col-12\">\n                  <button\n                    type=\"button\"\n                    className={\n                      state.load\n                        ? \"btn btn-outline-secondary btn-block\"\n                        : \"btn btn-primary btn-block\"\n                    }\n                    onClick={handleLogin}\n                    disabled={state.load ? true : false}\n                  >\n                    {state.load ? (\n                      <div className=\"spinner-border text-secondary\">\n                        <span className=\"sr-only\">Loading...</span>\n                      </div>\n                    ) : (\n                      \"Iniciar session\"\n                    )}\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useContext } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/AuthContext\";\nimport RouterAuth from \"./RouterAuth\";\nimport RouterPortal from \"./RouterPortal\";\nimport NotFound from \"../components/404NotFound\";\nimport Login from \"../pages/Login\";\n\nexport default function Router() {\n  const { auth } = useContext(AuthContext);\n\n  return (\n    <Switch>\n      <Route path=\"/login\" render={() => <Login />} />\n      {auth?.isLogged ? <RouterAuth auth={auth} /> : <RouterPortal />}\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { BrowserRouter } from \"react-router-dom\";\n//import { Provider } from \"react-redux\";\n\n//import store from \"./redux/store\";\nimport AuthProvider from \"./context/AuthContext\";\nimport Router from \"./routers/Router\";\nimport { useEffect } from \"react\";\n\nexport default function App() {\n  const LS = localStorage.getItem(\"OrusSystem\");\n  const defaultStorage = {\n    protocol: window.location.protocol.replace(\":\", \"\"),\n    host: window.location.hostname,\n    port: window.location.port,\n  };\n  const storage = LS ? JSON.parse(LS) : defaultStorage;\n\n  useEffect(() => {\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(storage));\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>       \n        <Router />\n      </AuthProvider>\n    </BrowserRouter>\n  );\n\n  /* return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Provider store={store}>\n          <Router />\n        </Provider>\n      </AuthProvider>\n    </BrowserRouter>\n  ); */\n}\n","import { render } from \"react-dom\";\nimport App from \"./App\";\n\nrender(<App />, document.getElementById(\"root\"));\n","module.exports = {\n  dollarUS: Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  }),\n};\n"],"sourceRoot":""}