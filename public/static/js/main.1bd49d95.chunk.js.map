{"version":3,"sources":["utils/url.js","context/AuthContext.js","hooks/useUsers.js","context/ConfigContext.js","components/Users/views/userNameInput.jsx","components/Users/views/userEmailInput.jsx","components/Users/Metadata.jsx","components/Users/Permissions.jsx","components/Activitys.jsx","components/Users/add.jsx","context/StoreContext.js","pages/partials/SideBar.jsx","components/Input.jsx","hooks/useStore.js","components/Store/Brands.jsx","hooks/useContact.js","components/Store/Suppliers.jsx","components/Store/ToolBar.jsx","layouts/pagination.jsx","layouts/list_inbox.jsx","components/Store/Inbox.jsx","hooks/useCategory.js","components/Store/Categories.jsx","hooks/useProducts.js","components/Store/Code.jsx","components/Store/views/BranchesSelect.jsx","components/Store/views/BranchesFormInputs.jsx","components/Store/views/BranchesForm.jsx","components/Store/Add.jsx","components/Store/data/Category_list.jsx","pages/StoreCategories.jsx","components/Store/data/BrandsList.jsx","pages/StoreBrand.jsx","components/Store/views/SetQantityModal.jsx","components/Store/views/Inventory_table.jsx","components/Store/views/SetPriceModal.jsx","pages/StoreInventory.jsx","components/Store/FormEntries.jsx","pages/StoreEntries.jsx","pages/Store.jsx","context/ContactContext.js","components/Contacts/ToolsBar.jsx","components/Contacts/Inbox.jsx","components/Contacts/helper.js","components/Contacts/views/Personal.jsx","components/Contacts/views/Address.jsx","components/Contacts/views/Phones.jsx","components/Sales/views/listOfSales_delete.jsx","components/Contacts/Dashboard.jsx","components/Store/views/listOfBrands.jsx","components/Order/helpers.js","components/Order/views/listOfOrders.jsx","components/Exam/views/List.jsx","components/Exam/cards/List.jsx","layouts/modal.jsx","components/Contacts/Add.jsx","pages/Contacts.jsx","components/Tools/views/Branchs.jsx","pages/Tools.jsx","context/ExamContext.js","components/Exam/ToolBar.jsx","hooks/useExam.js","components/Exam/Inbox.jsx","components/Exam/views/GeneralesExam.jsx","components/Exam/views/interrogatoriosExam.jsx","components/Exam/views/keraRetExam.jsx","components/Exam/views/diabetesExam.jsx","components/Exam/views/agudezaExam.jsx","components/Exam/views/diagnosticoExam.jsx","components/Exam/views/graduacionExam.jsx","components/Exam/views/observacionesExam.jsx","components/Exam/helpers.js","components/Exam/views/RecomendationGlass.jsx","components/Contacts/views/CardNewContact.jsx","components/Contacts/views/Autocomplete.jsx","components/Contacts/views/ShowCardSearch.jsx","components/Contacts/views/ShowCard.jsx","components/Exam/views/SideBarRigth.jsx","components/Exam/Add.jsx","pages/Exams.jsx","context/SaleContext.js","components/Sales/views/ListItemsModal.jsx","components/Sales/helpers.js","components/Sales/views/InputSearchItem.jsx","components/Sales/views/DiscountBtn.jsx","hooks/useSale.js","components/Sales/views/ListSalesModal.jsx","components/Sales/views/ListSalesBtn.jsx","components/Sales/views/Print_sale.jsx","components/Sales/views/PaymentModal.jsx","components/Sales/views/PaymentBtn.jsx","components/Sales/views/EraseSaleBtn.jsx","components/Sales/views/SearchCustomerModal.jsx","components/Sales/views/CustomerBtn.jsx","components/Sales/views/PaymentDetails.jsx","components/Sales/views/UpdateItemModal.jsx","components/Sales/views/SalesDetailsTable.jsx","components/Sales/views/SaleDate.jsx","components/Sales/views/ShowToPay.jsx","components/Sales/views/ShowTotal.jsx","components/Sales/views/InfoModal.jsx","components/Sales/views/InfoButton.jsx","pages/Sales.jsx","components/Sales/views/reportPaymentsDetails.jsx","components/Sales/views/reportPays.jsx","components/Sales/views/reportBank.jsx","components/dashboard/Filters.jsx","components/dashboard/boxCut.jsx","pages/AuthDashboard.jsx","context/UserContext.js","components/Users/views/FiltersToolbar.jsx","components/Users/views/Inbox.jsx","pages/Users.jsx","context/OderContext.js","hooks/useOrder.js","components/Order/views/inbox.jsx","utils/helpers.js","components/Store/data/searchStore.jsx","components/Store/helpers.js","components/Store/views/searchItemModal.jsx","components/Order/views/listItemsOrder.jsx","components/Order/views/PaymentModal.jsx","components/Order/views/DiscountModal.jsx","components/Order/asistent.jsx","components/Order/views/labOrder.jsx","components/Order/views/bicelacionOrder.jsx","components/Exam/views/examShort.jsx","components/Order/ExamModal.jsx","components/Order/ModalNota.jsx","components/Order/editOrder.jsx","components/Order/Toolbar.jsx","pages/Orders.jsx","components/Layouts/notify.jsx","components/Layouts/navtop.jsx","components/Layouts/breadcrumb.jsx","components/Layouts/menu.jsx","layouts/Main.jsx","routers/RouterAuth.jsx","pages/Dashboard.jsx","routers/RouterPortal.jsx","components/404NotFound/index.jsx","pages/Login.jsx","routers/Router.jsx","App.jsx","index.js","utils/current.js"],"names":["api","url","method","body","controller","Promise","done","reject","LS","localStorage","getItem","SS","sessionStorage","JSON","parse","protocol","PROTOCOL","window","location","host","HOST","hostname","port","PORT","token","TOKEN","param","headers","Accept","Authorization","includes","toUpperCase","data","stringify","signal","axios","then","res","catch","err","console","error","code","message","response","setUrl","endpoint","id","paramString","paramKeys","Object","keys","Array","isArray","map","k","length","URLSearchParams","AuthContext","createContext","useUser","children","history","useHistory","initialSession","isLogged","idUser","username","name","rol","email","branch","roles","permissions","useState","user","setUser","setUserData","toSave","toLowerCase","setItem","session","credentials","a","password","status","outSession","getCurrentUser","log","pathname","push","getNotifications","unreadNotifications","setNotifications","payload","result","count","parseInt","success","setBranch","update","branch_id","useEffect","Provider","value","auth","setSession","useUsers","getListUsers","filters","getUserById","ID","deleteUser","saveUser","ConfigContext","Config","useContext","initialState","meta","server","useConfig","state","setstate","setStorage","storage","newStorage","UserNameInputComponent","props","mounted","useRef","bgColor","validate","text","searchUser","setState","_onChange","onChange","_handleValidate","handleValidate","current","className","col","type","placeholder","autoComplete","autoFocus","defaultValue","handleChange","target","onBlur","userSearch","replace","test","handleSearchUser","userId","required","minLength","maxLength","pattern","deleted","UserEmailInputComponent","searchEmail","emailSearch","MetadataComponent","currentUser","moment","created_at","fromNow","updated_at","ip_address","last_activity","user_agent","user_data","onClick","PermissionsComponent","role","permission","i","ActivitysComponents","ac","datetime","format","Boolean","inputs","input","load","validUserName","validUserEmail","activities","UserAddComponent","match","params","_handleNewOrEdit","handleNewOrEdit","_users","branchs","setCurrentUser","send","catchInputs","normalize","activity","processData","style","height","disabled","Swal","fire","icon","title","showConfirmButton","timer","showCancelButton","confirmButtonText","cancelButtonText","showLoaderOnConfirm","dismiss","StoreContext","Store","SideBarPartial","Input","showIcon","loadText","options","emptyText","cat","useStore","getItems","deleteItem","saveItemByList","items","saveItem","loading","saveQantityandPrice","readyToSave","saveGlobalPrice","idCategory","productCategoryId","URL","branchSelected","saveQantity","product_id","getBrands","getBrand","saveBrand","deleteBrand","Brands","brands","_store","supplier","brand","handleChangeBrand","useContact","getContacts","getContact","deleteContact","saveContact","Suppliers","_contacts","suppliers","orderby","order","sup","handleChangeSupplier","ToolBar","context","handleSetSelectOptions","checked","set","panel","href","e","preventDefault","zero","htmlFor","itemsPage","PaginationComponent","color","_handlePagination","handlePagination","handleChangePage","page","current_page","last_page","ListInbox","defaultSearch","search","setSearch","setTimer","inputRef","toTimer","handleSearch","clearTimeout","setTimeout","ref","onKeyPress","key","top","left","handleDeleteItem","handleEditItem","handleStatus","handleSync","handleDownload","itemSelected","handlePrint","Inbox","handleChangeOptions","handleSelectItem","item","newOptions","responseType","open","createObjectURL","confirmButtonColor","handleItemSelect","cant_total","colSpan","useCategory","getCategories","getCategory","deleteCategory","saveCategory","Categories","_categories","categories","cat1","cat2","cat3","cat4","input2","filter","input3","sons","input4","input5","categoryid","category","handleReturn","val","useProducts","getProducts","searchBy","getProductById","getProductByCode","saveProduct","Code","hookStore","inUse","setInUse","onChangeProductCode","BranchesSelect","branch_default","setBranchId","listBranches","c","BranchesFormInputs","inBranch","branchID","storeItemID","cant","price","store_item_id","setData","handleChangeInput","parseFloat","min","BranchesForm","branches","defaultBranch","configBranches","currentBranch","codebar","grad","brand_id","unit","supplier_id","category_id","codes","category_code","Add","storeContext","LOADING","inBranches","textSelect","codeReceibed","to","CategoryListComponent","hookCategory","ls","dd","category_raiz","add","categoryData","width","Fragment","last","_categorySelect","categorySelect","category_data","handleSelectCategory","hijos","CategoriesStoreComponent","category_view_sons","category_current","category_cache","minHeight","BrandsList","handleEdit","handleDelete","cursor","BrandsComponent","storeHook","nombre","prevEdit","changeInput","contact_id","SetQantityModal","setCantidad","handleClose","newQantity","tabIndex","class","InventoryTableView","header","showModal","row","h","toFixed","index","SetPriceModal","categoryName","_handleSave","handleSave","_close","_handleChange","showLoader","setShowLoader","setPrice","Inventory","catData_1","catData_2","catData_3","catid_1","catid_2","catid_3","globalData","setGlobalData","modal","setModal","cil","rangoInf","rangoSup","disablenBtnModal","handleModal","catid","noGraduationData","FormEntries","eraseItem","setItemNew","configContext","conf","branchesId","b","currentCant","store","searchProductByItem","currentPrice","branch_select","setDataByBranch","forEach","getBranchesId","isNaN","branches_used","StoreEntries","Date","now","setNewItem","branches_rest","setDataItem","itemHasNew","getNewItem","c_branch","n_branch","newItems","alt","optionsDefault","ContactContext","Contacts","ToolBarContact","newOrEdit","contact","InboxContact","contactSelected","contacts","handleLoadContacts","select","phones","values","p","maxWidth","enUso","age","created","patternEmail","toExportActions","isEmail","Personal","fn","emailVerification","emailColor","nameVerification","nameColor","birthdayVerification","birthdayColor","contatcs","handleValidContact","helper","except","validates","check","birthday","diff","business","rfc","gender","onKeyDown","zIndex","maxHeight","locale","selected","dateFormat","maxDate","placeholderText","onSelect","date","toLocaleDateString","isValid","Address","address_street","address_neighborhood","address_location","address_state","address_zip","Phones","phone_notices","phone_cell","phone_office","phone","registerLocale","es","ListOfSalesComponent","sales","sale","total","pedido","Dashboard","analytics","metadata","purchases","exams","orders","updated","ListOfBrandsComponent","getDataTemporary","field","removeDataTemporary","toExport","handleStatusString","handleDeleteOrder","_delete","estado","nota","handleSaveOrder","_save","_erase","addDataTemporary","local","getDataOneItem","getStatusType","ListOfOrdersComponent","order_foreing","List","allSelect","_handleSelectedExam","handleSelectedExam","setSelect","scope","isSame","showBottons","examSelect","ModalComponents","_handleCancel","handleCancel","supplier_of","deleted_at","AddContact","id_exam","setContact","btn_enabled","handleChangeData","today","notices","cell","office","address","street","neighborhood","zip","purchases_count","exams_count","brands_count","suppliers_count","orders_count","domicilios","calle","colonia","municipio","cp","telnumbers","domicilio","handleSaveContact","ContactsComponent","BranchsListComponent","showForm","handleChangeValue","toString","onSubmit","handleUpdateConfig","ToolsComponent","varLocalStorage","company","category_list","ExamContext","Exams","useExam","getExams","getExam","deleteExam","saveExam","InboxExams","_exam","list","examSelected","handleLoadExams","exam","customer","hasOwnProperty","messages","errors","esferaod","esferaoi","cilindrod","cilindroi","ejeod","ejeoi","adiciond","adicioni","adicion_media_od","adicion_media_oi","dpod","dpoi","alturaod","alturaoi","GeneralesExam","handleGetData","pc","pc_time","readOnly","tablet","tablet_time","movil","movil_time","lap","lap_time","frontal","occipital","generality","cefalea","temporaod","temporaoi","c_frecuencia","max","c_intensidad","InterrogatorioExam","onChangeInput","this","interrogatorio","coa","rows","aopp","aopf","Component","KeraRetExamComponent","keratometriaod","keratometriaoi","rsod","rsoi","DiabetesExam","d_fclod","d_fcloi","d_time","d_media","d_test","d_fclod_time","d_fcloi_time","oftalmoscopia","AgudezaExam","cvod","cvoi","avslod","avsloi","avcgaod","avcgaoi","avfod","avfoi","avf2o","DiagnosticoExam","diagnostico","presbicie","step","piod","pioi","txoftalmico","GraduacionExamComponent","lcmarca","lcgod","lcgoi","showContactGlasses","ObservacionesExam","observaciones","handleCodeName","parent","handleTypeInput","getCodeGrad","gradod","gradoi","od","oi","handleSaveExam","examToday","examenes","edad","RecomendationGlass","category_list_2","category_list_3","category_id_1","category_id_2","category_id_3","codesItems","_category","handleCodesItems","handleCategoryChange","_onChangeInput","CardNewContact","nameDefault","valid","showMsg","handleVerificationData","handleValidForm","Autocomplete","showNew","handleSelected","per_page","handleNew","ShowCardSearch","new","newName","handleSelectContact","ShowContactComponent","legend","handleContactSelect","SideBarRigth","_handle","handle","generales","interrogatorios","keraRet","diabetes","agudeza","graduacion","recomendaciones","getDataDefault","used","activitys","_exams","category_ii","doc","num","temporal","nameItem","pantalleooi","pantalleood","txoptico","SaleContext","Sale","ListItemsModal","cantDefault","_Select","handleSelect","handleChangeCant","producto","handleClickItem","toSend","confirm","_make","getMethodName","getSession","Math","random","substring","getForPay","payments","discount","pay","payment","subtotal","getSubTotal","subTotal","getTotal","getPagado","pagado","InputSearchItem","textSearch","setTextSearch","showList","setShowList","setCantDefault","setList","hookProducts","searchItem","split","makeItem","inStorage","cantidades","out","cantInStore","store_items_id","descripcion","categoria","handleAddItem","found","cantidad","handleChangeTextSearch","handlePressEnter","DiscountBtnComponent","btnDisabled","prompt","sum","percent","useSales","ctx","getSaleList","salesFilters","orderBy","getSaleById","saveSale","ListSalesModal","_select","_sales","saleList","setSaleList","handleChangeSearch","saleSelected","handleSelectSale","ListSalesBtn","PrintSaleComponent","payed","abonado","btn","_saleHook","useSale","initialSale","helpers","client","saldo","paid","totalItems","handlePrintShow","showPrint","print","addEventListener","removeEventListener","fontSize","fontFamily","telefonos","t_movil","t_casa","t_oficina","PaymentModal","forPaid","listBanks","metodopago","metodoname","bank_id","details","handleSetPayment","bank","PaymentBtnComponent","showPayment","EraseSaleBtnComponent","eraseSale","SearchCustomerModal","customers","setCustomers","SearchCustomer","handleChangeText","handleKeyPressSearch","saleHelper","handleClickCustomer","CustomerBtnComponent","banco","UpdateItemModal","close","_update","handleUpdate","handleUpdateItem","handleKeyPress","SalesDetailsTableComponent","showUpdateItem","showPaymentDetails","product","handleDeletePayment","newPayments","handleShowUpdateItem","handleCloseUpdateItem","diffDay","handleDeleteBtn","alert","diffPay","handleShowPaymentDetails","PaymentDetails","toDo","ShowToPay","ShowTotal","InfoModal","InfoButton","saleContext","setShowModal","IndexSalesComponent","hookSale","obj","ReportPaymentsDetails","getSaleDay","paymentsFilters","paymentsUrl","metodo","created_user","dollarUS","ReportPays","changeState","date_end","date_start","efectivo","char","newFiltersPays","donutChartCanvas","$","get","getContext","donutOptions","maintainAspectRatio","responsive","labels","donutData","destroy","mp","datasets","backgroundColor","Chart","ReportBank","listBank","bankFilters","bankUrls","Filters","usersList","setUsersList","usersHook","handleChangeDate","BoxCut","ventas","startOf","filterData","filtersState","changeAllState","UserContext","FiltersToolbar","_newOrEdit","_userContext","InboxComponent","userSelected","setUserSelected","users","setLoading","getClassByRole","UsersComponent","OrderContext","useOrder","getListOrders","getOrder","orderID","saveOrder","bi_details","deleteOrder","InboxOrderComponent","orderContext","orderHook","pedidos","setPedidos","_saveOrder","orderSelected","setOrderSelected","handleSelectOrder","getList","cancelButtonColor","handleOrderSelect","paciente","lab","npedidolab","ncaja","SearchItemsComponent","_handleItemSelect","setLoad","setItems","sort","getItemToShow","codeLentString","string","verifyItem","precio","handleVerifyData","codeRef","category_id1","category_id2","category_id4","handleSaveItem","handleCatOne","category_list2","category_id3","category_list3","category_list4","handleCatTwo","handleCatTree","handleCodeString","stringcode","selectedIndex","trim","handleCodeLent","category1","category2","category3","handleNameLent","AddItemModalComponent","codeDefault","_handleAddItem","_handleCloseModal","handleCloseModal","showDesc","setShowDesc","handleChangeItem","hanldeSendBack","ListItemComponent","itemNew","validList","noPrice","productCodes","showHideBtns","cancelListProducts","validateList","some","handleSetCantItem","_changeInput","ChangeInput","minWidth","itemsToSave","changeTotal","itemFound","findIndex","_handleSetPayments","handleSetPayments","DiscountModal","setDiscountProp","_closeModal","closeModal","setDiscount","AsistentComponent","exam_id","examsList","examEdit","generalHelper","listReady","discountModal","examHook","codeCategory","penddingToPay","handleNewExam","dataNewExam","updatedList","categories_wrong","items_state","finalPayments","handleGetCategories","cat_id","_getCategory","filteredPayments","deletePayment","LabOrderComponent","lab_id","lab_order","setSuppliers","supDefault","setSupDefault","hookContacts","s","BicelacionOrderComponent","bi_box","ExamCustomerComponent","_ChangeInput","_saveExam","newExam","setNewExam","handelChangeExam","ExamModal","ModalNota","descuento","EditOrderComponent","showModalNota","setShowModalNota","idurl","hookOrder","fNacimiento","f_nacimiento","tel","saveFinalOrder","dataReceibed","rel","Toolbar","initialOptions","IndexOrderComponent","NotifyComponent","timerNotify","notifications","mainRole","countNotify","showNotifications","slice","handleNotifications","handleClickRead","setInterval","clearInterval","notify","notiFyType","time","NavtopComponent","toggleClass","BreadcrumbComponent","config","pathName","useLocation","namePage","path","showChangeBranchs","branchSelect","handleCancelModal","handleClickChangeBranch","reload","position","getHtmlBody","MenuComponent","companyName","active","avatar","src","opacity","Main","logOut","Routers","exact","render","RouterPortal","NotFoundComponent","Login","defaultStorage","txtHost","hostShow","inputEmail","inputPassword","handleLogin","focus","handleKeyEnter","handleChangeServer","handleEmailEnter","Router","component","NotFound","App","document","getElementById","module","exports","Intl","NumberFormat","currency"],"mappings":"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","file":"static/js/main.1bd49d95.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport function getLastParam() {\n  const url = window.location.pathname.split(\"/\");\n\n  return parseInt(url.pop());\n}\n\nexport function api(url, method = \"GET\", body, controller = null) {\n  return new Promise((done, reject) => {\n    const LS = localStorage.getItem(\"OrusSystem\"),\n      SS = sessionStorage.getItem(\"OrusSystem\"),\n      {\n        protocol: PROTOCOL = window.location.protocol,\n        host: HOST = window.location.hostname,\n        port: PORT = window.location.port,\n      } = JSON.parse(LS ? LS : \"{}\"),\n      { token: TOKEN = \"\" } = JSON.parse(SS ? SS : \"{}\");\n    const param = {\n      method,\n      url: `${PROTOCOL}://${HOST}:${PORT}/api/${url}`,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + TOKEN,\n      },\n    };\n\n    if ([\"POST\", \"PUT\"].includes(method.toUpperCase()) && body) {\n      param.data = JSON.stringify(body);\n    }\n    if (controller) param.signal = controller.signal;\n\n    axios(param)\n      .then((res) => {\n        return done(res.data);\n      })\n      .catch((err) => {\n        console.error(\"[Orus System] Query API failer:\", url);\n        console.error(\"[Orus System] Query API code:\", err?.code);\n        console.error(\"[Orus System] Query API message:\", err?.message);\n        return reject(err.response?.data);\n      });\n  });\n}\n\nexport function setUrl(endpoint, id, param = {}) {\n  let url = endpoint,\n    paramString = null;\n  const paramKeys = Object.keys(param);\n\n  if (id) {\n    url += `/${id}`;\n  }\n\n  if (typeof param !== \"object\" || Array.isArray(param)) {\n    return url;\n  }\n\n  if (paramKeys) {\n    paramKeys.map((k) => {\n      if (param[k] === null || param[k] === \"\") {\n        delete param[k];\n      }\n      return null;\n    });\n\n    if (paramKeys.length) {\n      paramString = new URLSearchParams(param);\n      url += `?${paramString}`;\n    }\n  }\n\n  return url;\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { api, setUrl } from \"../utils/url\";\n\nexport const AuthContext = createContext(null);\n\nexport default function useUser({ children }) {\n  const history = useHistory();\n\n  const LS = sessionStorage.getItem(\"OrusSystem\");\n  let initialSession = {\n    isLogged: false,\n    idUser: 0,\n    username: \"\",\n    name: \"\",\n    rol: null,\n    email: \"\",\n    token: \"\",\n    branch: \"\",\n    roles: \"\",\n    permissions: [],\n  };\n\n  const [user, setUser] = useState(() => {\n    if (LS && LS !== \"undefined\") {\n      initialSession = JSON.parse(LS);\n    }\n\n    return initialSession;\n  });\n\n  // Functions\n  const setUserData = (data) => {\n      if (!data) return;\n\n      const toSave = {\n        isLogged: data.isLogged ?? user.isLogged,\n        idUser: data.id,\n        username: data.username.toLowerCase(),\n        name: data.name.toLowerCase(),\n        rol: 2,\n        email: data.email,\n        token: data.token ?? user.token,\n        branch: { ...data.branch.data, id: data.branch.id },\n        roles: data.roles[0],\n        permissions: data.permissions,\n      };\n\n      setUser(toSave);\n      sessionStorage.setItem(\"OrusSystem\", JSON.stringify(toSave));\n    },\n    session = async (credentials) => {\n      const { email, password } = credentials;\n\n      if (!email || !password) {\n        return {\n          status: false,\n          message: \"The fields user or passwors are required\",\n        };\n      }\n\n      return await api(\"user/login\", \"POST\", credentials)\n        .then((data) => {\n          if (!data.status) {\n            return { status: false, data };\n          }\n\n          const { data: user } = data;\n\n          setUserData({\n            ...user,\n            token: data.token,\n            isLogged: true,\n          });\n\n          return { status: true, message: data.message };\n        })\n        .catch((err) => {\n          return {\n            status: false,\n            message: \"Error en el servidor: \" + err.message,\n          };\n        });\n    },\n    outSession = async () => {\n      return await api(\"user/logout\", \"POST\")\n        .then(() => {\n          setUser(initialSession);\n          sessionStorage.setItem(\"OrusSystem\", \"{}\");\n\n          return true;\n        })\n        .catch((err) => console.error(\"[Server] When close session:\", err));\n    },\n    getCurrentUser = async () => {\n      return await api(\"user\")\n        .then((data) => data.data)\n        .catch((err) => {\n          if (err.message === \"Unauthenticated.\") {\n            if (history.location?.pathname !== \"/login\") {\n              setUser(initialSession);\n              sessionStorage.setItem(\n                \"OrusSystem\",\n                JSON.stringify(initialSession)\n              );\n\n              history.push(\"/login\");\n            }\n\n            return;\n          }\n\n          console.log(\"[Orus System] Responses:\", err);\n        });\n    },\n    getNotifications = async () => {\n      const user = await getCurrentUser().catch(() => {\n        // outSession();\n        return null;\n      });\n\n      if (!user) return [];\n\n      return user.unreadNotifications;\n    },\n    setNotifications = async (payload) => {\n      if (typeof payload !== \"object\") {\n        return {\n          status: false,\n          message: \"Payload should be object\",\n        };\n      }\n\n      return await api(\"user/readAllNotifications\", \"POST\", payload).then(\n        (result) => {\n          const count = parseInt(payload.id) < 0 ? \"Todas\" : 1;\n\n          if (result.success) {\n            console.log(\"[Orus System] Notificaciones marcadas leidas:\", count);\n            return true;\n          }\n\n          return false;\n        }\n      );\n    },\n    setBranch = async (branch) => {\n      const url = setUrl(\"users\", user.idUser);\n      const update = {\n        branch_id: branch,\n        name: user.name,\n        username: user.username,\n      };\n\n      return await api(url, \"PUT\", update).then((result) => {\n        if (result.data && !result.message) return true;\n        else return false;\n      });\n    };\n\n  useEffect(() => {\n    getCurrentUser().then((data) => {\n      if (!data) return;\n\n      console.log(\"[Orus system] Session was created\");\n      setUserData({ ...data, isLogged: true });\n    });\n  }, [user.isLogged]);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        auth: user,\n        setSession: session,\n        outSession,\n        getNotifications,\n        setNotifications,\n        setBranch,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useUsers() {\n\n  const getListUsers = async (filters)=>{\n    const url = setUrl('users', null, filters);\n    return await api(url);\n  }\n\n  const getUserById = async(ID) => {\n    const url = setUrl('users', ID);\n    return await api(url)\n  }\n\n  const deleteUser = async (ID) => {\n    const url = setUrl('users', ID);\n    return await api(url, 'DELETE', null);\n  }\n\n  const saveUser = async (data, ID)=> {\n\n    if(ID){\n      //Actualizamos\n      const url = setUrl('users', ID);\n      return await api(url, 'PUT',data);\n    }else{\n      //Creamos uno nuevo\n      const url = setUrl('users');\n      return await api(url, \"POST\", data);\n    }\n  }\n\n  return{\n    getListUsers,\n    getUserById,\n    deleteUser,\n    saveUser,\n  }\n\n}\n\n\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useState, useEffect, useContext } from \"react\";\nimport { api } from \"../utils/url\";\n\nexport const ConfigContext = createContext(null);\nexport const Config = () => useContext(ConfigContext);\n\nconst storage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\nconst initialState = {\n  data: [],\n  meta: {},\n  server: storage,\n};\n\nexport default function useConfig({ children }) {\n  const [state, setstate] = useState(initialState);\n  // Functions\n  const setStorage = (storage) => {\n    if (typeof storage !== \"object\") {\n      return false;\n    }\n\n    const newStorage = {\n      ...state.server,\n      ...storage,\n    };\n\n    setstate({\n      ...state,\n      server: newStorage,\n    });\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(newStorage));\n    return true;\n  };\n\n  useEffect(() => {\n    api(\"config?itemsPage=100\", \"GET\").then((response) => {\n      setstate({\n        ...state,\n        data: response.data,\n        meta: response.meta,\n        setStorage,\n      });\n    });\n  }, []);\n\n  return (\n    <ConfigContext.Provider value={state}>{children}</ConfigContext.Provider>\n  );\n}\n","import { useEffect, useRef, useState } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\n\nexport default function UserNameInputComponent(props) {\n  const user = useUsers();\n  const mounted = useRef(true);\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"Debe de tener al menos 4 caracteres.\",\n    searchUser: false,\n  });\n  const { onChange: _onChange, handleValidate: _handleValidate } = props;\n\n  const handleChange = ({ value }) => {\n    _onChange({\n      name: \"username\",\n      value: value.toLowerCase(),\n    });\n  };\n  const validUser = () => {\n    if (!mounted.current) return;\n\n    const regex = /^[\\w]{4,16}$/,\n      userSearch = props.username.replace(/\\s/g, \"\");\n\n    if (regex.test(userSearch)) {\n      //User valid, next search if exist\n      setState({\n        ...state,\n        searchUser: true,\n      });\n\n      handleSearchUser(userSearch, props.userId, user).then((status) => {\n        if (!mounted.current) return;\n\n        if (status) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"El usuario ya esta registrado.\",\n            searchUser: false,\n          });\n          _handleValidate({\n            name: \"validUserName\",\n            value: false,\n          });\n        } else {\n          setState({\n            ...state,\n            bgColor: \"bg-blue\",\n            validate: \"\",\n            text: \"\",\n            searchUser: false,\n          });\n          _handleValidate({\n            name: \"validUserName\",\n            value: true,\n          });\n        }\n      });\n    } else {\n      //User no valid\n      if (userSearch.length > 4) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"No tiene el formato de usuario\",\n        });\n        _handleValidate({\n          name: \"validUserName\",\n          value: false,\n        });\n      } else if (!userSearch.length) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"Debe de tener de 4 a 16 caracteres alfanumericos.\",\n        });\n        _handleValidate({\n          name: \"validUserName\",\n          value: false,\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      mounted.current = false;\n    };\n  });\n\n  return (\n    <div className={\"col-\" + props.col}>\n      {props.username.length ? (\n        <small>\n          <label>Usuario</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + state.bgColor}>\n            {state.searchUser ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-user-check\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"text\"\n          className={\"form-control\" + state.validate}\n          placeholder=\"Usuario\"\n          autoComplete=\"off\"\n          autoFocus=\"autofocus\"\n          defaultValue={props.username}\n          onChange={({ target }) => handleChange(target)}\n          onBlur={validUser}\n          required=\"required\"\n          minLength=\"4\"\n          maxLength=\"16\"\n          pattern=\"^[\\w]{4,16}$\"\n        />\n      </div>\n      {state.validate ? <small className=\"text-muted\">{state.text}</small> : \"\"}\n    </div>\n  );\n}\n\nconst handleSearchUser = async (username, userId = null, user) => {\n  const result = await user.getListUsers({ username, userId, deleted: 0 });\n\n  if (result.data && result.data.length) {\n    const { username: user } = result.data[0];\n\n    if (user.toLowerCase() === username) {\n      return true;\n    }\n  }\n  return false;\n};\n","import { useState } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\n\n//Redux eliminado\n//import { api, getUrl } from \"../../../redux/sagas/api\";\n\nexport default function UserEmailInputComponent(props) {\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"No tiene el formato de un email\",\n    searchEmail: false,\n  });\n\n  const user = useUsers();\n\n  //Vars\n  const { col, email, userId, onChange: _onChange } = props,\n    { bgColor, validate, text, searchEmail } = state;\n\n  //Functions\n  const handleChange = ({ name, value }) => {\n      _onChange({\n        name,\n        value: value.toLowerCase(),\n      });\n    },\n\n    validEmail = () => {\n      const regex =\n          /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n        emailSearch = email.replace(/\\s/g, \"\");\n\n      if (regex.test(emailSearch)) {\n        //User valid, next search if exist\n        setState({\n          ...state,\n          searchUser: true,\n        });\n        \n        handleSearchUser(emailSearch, userId, user).then((response) => {\n          if (response) {\n            setState({\n              bgColor: \"bg-red\",\n              validate: \" border border-danger\",\n              text: \"El usuario ya esta registrado.\",\n              searchUser: false,\n            });\n            _onChange({\n              name: \"validUserEmail\",\n              value: false,\n            });\n          } else {\n            setState({\n              ...state,\n              bgColor: \"bg-blue\",\n              validate: \"\",\n              text: \"\",\n            });\n            _onChange({\n              name: \"validUserEmail\",\n              value: true,\n            });\n          }\n        });\n      } else {\n        //User no valid\n        if (emailSearch.length > 8) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"No tiene el formato de un email valido\",\n          });\n          _onChange({\n            name: \"validUserEmail\",\n            value: false,\n          });\n        } else if (!emailSearch.length) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"Escriba un email valido\",\n          });\n          _onChange({\n            name: \"validUserEmail\",\n            value: false,\n          });\n        }\n      }\n    };\n\n  return (\n    <div className={\"col-\" + col}>\n      {email.length ? (\n        <small>\n          <label>Email</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + bgColor}>\n            {searchEmail ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-at\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"email\"\n          className={\"form-control\" + validate}\n          placeholder=\"email\"\n          name=\"email\"\n          autoComplete=\"off\"\n          defaultValue={email}\n          onChange={({ target }) => handleChange(target)}\n          onBlur={validEmail}\n          required=\"required\"\n        />\n      </div>\n      {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n    </div>\n  );\n}\n\n\nconst handleSearchUser = async (username, userId = null, user) => {\n  const result = await user.getListUsers({ username, userId, deleted: 0 });\n\n  if (result.data && result.data.length) {\n    const { username: user } = result.data[0];\n\n    if (user.toLowerCase() === username) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n\n/* const handleSearchUser = async (email, userId = null, user) => {\n  const result = await user.getListUser\n  const url = getUrl(\"users\", null, { email, userId, deleted: 0 }),\n    result = await api(url);\n\n  if (result.data && result.data.length) {\n    const { email: user } = result.data[0];\n\n    if (user.toLowerCase() === email) {\n      return true;\n    }\n  }\n  return false;\n};\n */\n","import moment from \"moment\";\n\nexport default function MetadataComponent({ data: currentUser }) {\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-primary\">\n          <i className=\"fas fa-database mr-2\"></i>\n          Metadata\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        {currentUser.data?.session ? (\n          <ul className=\"list-group\">\n            <li className=\"list-group-item\">\n              <h6>Datos del usuario</h6>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <span className=\"text-primary\">Registrado</span>\n                  <p>{moment(currentUser.data.created_at).fromNow()}</p>\n                </div>\n                <div className=\"col\">\n                  <span className=\"text-primary\">Ultima actualizacion</span>\n                  <p>{moment(currentUser.data.updated_at).fromNow()}</p>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              <h6>Actividad</h6>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <span className=\"text-primary\">IP</span>\n                  <p>\n                    {currentUser.data.session?.ip_address\n                      ? currentUser.data.session.last_activity\n                      : \"--\"}\n                  </p>\n                </div>\n                <div className=\"col\">\n                  <span className=\"text-primary\">Ultima actividad</span>\n                  <p>\n                    {currentUser.data.session?.last_activity\n                      ? moment(currentUser.data.session.last_activity).fromNow()\n                      : \"--\"}\n                  </p>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"text-primary\">Navegador y OS</span>\n              <p>\n                {currentUser.data.session?.user_agent\n                  ? currentUser.data.session.user_agent\n                  : \"--\"}\n              </p>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"text-primary\">Token</span>\n              <p>\n                {currentUser.data.session?.user_data\n                  ? currentUser.data.session.user_data\n                  : \"--\"}\n              </p>\n            </li>\n          </ul>\n        ) : (\n          <p>Usuario no ha registrado actividad.</p>\n        )}\n      </div>\n      {currentUser.data.session && (\n        <div className=\"card-footer text-right\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            onClick={() => {\n              // close session when session is active\n            }}\n          >\n            <i className=\"fas fa-sign-out-alt mr-1\"></i>\n            Cerrar session\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","export default function PermissionsComponent({ data: currentUser }) {\n  return (\n    <div className=\"card card-primary card-outline mt-4\">\n      <div className=\"card-header\">\n        <h5 className=\"card-title text-primary\">Tipo y permisos</h5>\n      </div>\n      <div className=\"card-body\">\n        <span className=\"badge badge-dark m-1\">{currentUser.role}</span>\n        {currentUser.data?.permissions?.map((permission, i) => (\n          <span className=\"badge badge-primary m-1\" key={i}>\n            {permission}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import moment from \"moment\";\nexport default function ActivitysComponents(props) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title text-muted text-bold w-100 mb-4 text-left\">\n          <i className=\"fas fa-bars mr-1\"></i>\n          Actividad\n        </h5>\n\n        {props.data.map((ac, i) => {\n          const { data, type } = ac;\n\n          return (\n            <p className=\"card-text border-bottom text-left\" key={i}>\n              <span\n                className={\n                  type !== \"deleted\"\n                    ? type === \"created\"\n                      ? \"badge badge-success text-uppercase\"\n                      : \"badge badge-primary text-uppercase\"\n                    : \"badge badge-danger text-uppercase\"\n                }\n              >\n                {type}\n              </span>\n              <span className=\"mx-2 text-uppercase\">\n                {moment(data.datetime).format(\"DD-MMMM-YYYY HH:mm\")}\n              </span>\n              <span className=\"text-bold text-capitalize\">\n                {data.user?.name.toLowerCase()}\n              </span>\n\n              {Boolean(Object.keys(data.inputs).length) && (\n                <span className=\"px-2\">\n                  {Object.keys(data.inputs).map((input, i) => (\n                    <span\n                      key={i}\n                      className=\"badge badge-light text-uppercase mx-1\"\n                    >\n                      {input} / {data.inputs[input]}\n                    </span>\n                  ))}\n                </span>\n              )}\n            </p>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport useUsers from \"../../hooks/useUsers\";\nimport { Config } from \"../../context/ConfigContext\";\nimport { useHistory } from \"react-router-dom\";\n\n//Component\nimport UserNameInput from \"./views/userNameInput\";\nimport UserEmailInput from \"./views/userEmailInput\";\nimport Metadata from \"./Metadata\";\nimport Permissions from \"./Permissions\";\nimport Activities from \"../Activitys\";\n\nconst initialState = {\n  id: 0,\n  role: \"ventas\",\n  password: \"\",\n  username: \"\",\n  name: \"\",\n  email: \"\",\n  branch_id: 12,\n  data: {\n    session: {},\n    roles: [],\n    permissions: [],\n    load: false,\n    validUserName: false,\n    validUserEmail: false,\n    created_at: \"\",\n    updated_at: \"\",\n    activities: [],\n  },\n};\n\nexport default function UserAddComponent(props) {\n  const { id } = props.match.params;\n  const { handleNewOrEdit: _handleNewOrEdit } = props;\n  const _users = useUsers();\n  const configContext = Config();\n  const branchs = configContext.data;\n  const [currentUser, setCurrentUser] = useState(initialState);\n  const history = useHistory();\n  const send =\n    currentUser.name.length &&\n    !currentUser.data.load &&\n    currentUser.data.validUserName &&\n    currentUser.data.validUserEmail\n      ? false\n      : true;\n\n  function processData(data) {\n    if (data) {      \n      setCurrentUser({\n        id: data.id,\n        role: data.roles[0],\n        username: data.username,\n        name: data.name,\n        email: data.email,\n        password: \"\",\n        branch_id: data.branch.id,\n        data: {\n          session: data.session ? data.session : {},\n          permissions: data.permissions,\n          roles: data.roles,\n          load: data.load ? data.load : false,\n          validUserName: true,\n          validUserEmail: true,\n          created_at: data.created_at,\n          updated_at: data.updated_at,\n          activities: data.activity,\n        },\n      });\n    }\n  }\n\n  const handleValidate = ({ name, value }) => {\n    setCurrentUser({\n      ...currentUser,\n      data: {\n        ...currentUser.data,\n        [name]: value,\n      },\n    });\n  };\n  const catchInputs = ({ name, value, type }) => {\n    if (type === \"text\") {\n      value = value\n        .toLowerCase()\n        .normalize(\"NFD\")\n        .replace(/[\\u0300-\\u036f]/g, \"\");\n    }\n\n    setCurrentUser({\n      ...currentUser,\n      [name]: value,\n    });\n  };\n  const handleSave = () => {\n    const { id, name, username, role, password, email, branch_id } =\n      currentUser;\n\n    //Valid primary data\n    if (!currentUser.data.validUserName) {\n      window.Swal.fire({\n        icon: \"error\",\n        title: \"El nombre de usuario ya esta en uso\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return false;\n    }\n    if (!currentUser.data.validUserEmail) {\n      window.Swal.fire({\n        icon: \"error\",\n        title: \"El correo ya esta en uso\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return false;\n    }\n\n    let data = {\n      name,\n      username,\n      role,\n      email,\n      branch_id,\n    };\n\n    if (password.length >= 8) data.password = password;\n\n    _users.saveUser(data, id).then((data) => {\n      if (data) {\n        window.Swal.fire({\n          title: \"Usuarios\",\n          text: id\n            ? `Usuario actualizado correctamente`\n            : `Usuario guardado correctamente`,\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonText: \"Hecho!\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            history.push(\"/usuarios\");\n            _handleNewOrEdit();\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      _users.getUserById(id).then((data) => {\n        if (data) {\n          processData(data.data);\n        }\n      });\n    }\n  }, [id]);\n\n  return (\n    <div className=\"row\" style={{ height: \"100vh\" }}>\n      <div className={`col-${id ? 8 : 12}`}>\n        <form className=\"card card-primary card-outline\" autoComplete=\"off\">\n          <div className=\"card-header\">\n            <h1 className=\"card-title text-primary\">\n              <i className=\"fas fa-user mr-2\"></i>\n              {id ? \"Editar usuario\" : \"Registrar nuevo usuario\"}\n            </h1>\n          </div>\n          <div className=\"card-body was-validated\">\n            {currentUser.load ? (\n              <div className=\"alert alert-light text-center p-4\">\n                <div className=\"spinner-border text-primary\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            ) : (\n              <>\n                <div className=\"row mb-3\">\n                  <UserNameInput\n                    username={currentUser.username}\n                    userId={id ? id : \"\"}\n                    col={6}\n                    onChange={catchInputs}\n                    handleValidate={handleValidate}\n                  />\n                  <div className=\"col-6\">\n                    {currentUser.name.length ? (\n                      <small>\n                        <label>Nombre completo</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-user-tag\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control text-capitalize\"\n                        placeholder=\"Nombre completo\"\n                        name=\"name\"\n                        autoComplete=\"off\"\n                        defaultValue={currentUser.name}\n                        onChange={({ target }) => catchInputs(target)}\n                        required=\"required\"\n                        minLength=\"8\"\n                        pattern=\"^[a-zA-Z]{2,20}[\\s]{1}[a-zA-Z]{2,20}.*\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    {currentUser.password.length || id ? (\n                      <small>\n                        <label>Contraseña</label>\n                        {!id && (\n                          <span className=\"ml-2 text-muted\">\n                            De 8 a 16 caracteres, por lo menos una mayuscula, un\n                            numero y un caracter especial\n                          </span>\n                        )}\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-lock\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"password\"\n                        className=\"form-control\"\n                        placeholder=\"Contraseña\"\n                        name=\"password\"\n                        autoComplete=\"off\"\n                        defaultValue={currentUser.password}\n                        onChange={({ target }) => catchInputs(target)}\n                        required={id ? false : true}\n                        minLength=\"8\"\n                        maxLength=\"16\"\n                        pattern=\"^(?=.*[A-Z])(?=.*[!@#$&.*])(?=.*[0-9])(?=.*[a-z]).{8,16}$\"\n                      />\n                    </div>\n                  </div>\n                  <UserEmailInput\n                    email={currentUser.email}\n                    userId={id ? id : \"\"}\n                    col={6}\n                    onChange={catchInputs}\n                  />\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    <small>\n                      <label>Tipo de usuario</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-id-card\"></i>\n                        </span>\n                      </div>\n                      <select\n                        className=\"custom-select\"\n                        name=\"role\"\n                        defaultValue={currentUser.role}\n                        onChange={({ target }) => catchInputs(target)}\n                      >\n                        <option value=\"admin\">Administrador</option>\n                        <option value=\"ventas\">Ventas</option>\n                        <option value=\"doctor\">Optometrista</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"col-md-6\">\n                    <small>\n                      <label>Sucursal</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-store\"></i>\n                        </span>\n                      </div>\n                      <select\n                        className=\"custom-select text-uppercase\"\n                        name=\"branch_id\"\n                        value={currentUser.branch_id}\n                        onChange={({ target }) => catchInputs(target)}\n                      >\n                        {branchs.map((branch) =>\n                          branch.name !== \"bank\" ? (\n                            <option value={branch.id} key={branch.id}>\n                              {branch.data.name}\n                            </option>\n                          ) : null\n                        )}\n                      </select>\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n          <div className=\"card-footer\">\n            <div className=\"row\">\n              <div className=\"col-md-12 text-right\">\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-dark\"\n                    onClick={() => {\n                      history.push(`/usuarios`);\n                      _handleNewOrEdit();\n                    }}\n                  >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={\n                      currentUser.load\n                        ? \"btn btn-primary disabled\"\n                        : \"btn btn-primary\"\n                    }\n                    disabled={send ? true : false}\n                    onClick={handleSave}\n                  >\n                    <i className=\"fas fa-save mr-1\"></i>\n                    {id ? \"Actualizar\" : \"Guardar\"}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n\n        <Permissions data={currentUser} />\n      </div>\n      {id && (\n        <div className=\"col-4\">\n          <Metadata data={currentUser} />\n          <Activities data={currentUser.data.activities} />\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const StoreContext = createContext(null);\nexport const Store = () => useContext(StoreContext);\n","import React from \"react\";\n\nexport default function SideBarPartial(props) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <h5 className=\"card-title\">\n          <i\n            className={\n              props.icon\n                ? \"mr-2 fas fa-\" + props.icon\n                : \"mr-2 fas fa-ellipsis-v\"\n            }\n          ></i>\n          {props.title ?? \"Menu\"}\n        </h5>\n      </div>\n      <div className=\"card-body p-0\">\n        <ul className=\"list-group nav list-group-flush\">{props.children}</ul>\n      </div>\n    </div>\n  );\n}\n","export default function Input(props) {\n  const { showIcon = true } = props;\n  \n  return (\n    <div className=\"input-group mb-3\">\n      {showIcon && (\n        <div className=\"input-group-prepend\">\n          <span\n            className={\n              props.value\n                ? \"input-group-text bg-primary\"\n                : \"input-group-text bg-warning\"\n            }\n          >\n            <i className={`fas fa-${props.icon ?? \"sort-amount-down\"}`}></i>\n          </span>\n        </div>\n      )}\n\n      <select\n        className=\"custom-select text-uppercase\"\n        value={props.value ?? \"\"}\n        disabled={props.load ?? false}\n        onChange={({ target }) => {\n          if (props.handleChange) {\n            props.handleChange(parseInt(target.value));\n          }\n        }}\n      >\n        {props.load ? (\n          <option value=\"\">{props.loadText ?? \"Cargando opciones\"}</option>\n        ) : (\n          <>\n            {!Boolean(props.options?.length) ? (\n              <option value=\"\">{props.emptyText ?? \"No hay opciones\"}</option>\n            ) : (\n              <option value=\"0\">--{props.text ?? \"Seleccione uno\"}--</option>\n            )}\n          </>\n        )}\n\n        {props.options?.map((cat) => {\n          return (\n            <option value={cat.id} key={cat.id}>\n              {cat.name}\n            </option>\n          );\n        })}\n      </select>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useStore() {\n  const getItems = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"store\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get items list in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const getItem = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"store\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const deleteItem = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"store\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveItemByList = async (items) => {\n    if (!items) return;\n    const url = setUrl(\"store/bylist\");\n\n    return await api(url, \"POST\", { items })\n      .then((res) => {\n        return res;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when save items by list in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveItem = async (data) => {\n    if (!data) return;\n    const { id } = data;\n\n    //delete data.id;\n    delete data.data;\n    delete data.loading;\n\n    if (id) {\n      const url = setUrl(\"store\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save item in hook:\",\n            err.message\n          );\n\n          throw err;\n        });\n    } else {\n      const url = setUrl(\"store\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save item in hook:\",\n            err.message\n          );\n          throw err;\n        });\n    }\n  };\n\n  const saveQantityandPrice = async (data) => {\n    delete data.readyToSave;\n    const { id } = data;\n\n    if (id === 0) {\n      const url = setUrl(\"branches\");\n      const method = \"POST\";\n      return await api(url, method, data);\n    } else {\n      const url = setUrl(\"branches\", id);\n      const method = \"PUT\";\n      return await api(url, method, data);\n    }\n  };\n\n  const saveGlobalPrice = async (data) => {\n    const idCategory = data.productCategoryId;\n    const URL = setUrl(`categories/setprice/${idCategory}`);\n    const method = \"POST\";\n\n    delete data.productCategoryId;\n    delete data.branchSelected;\n\n    return await api(URL, method, data);\n  };\n\n  const saveQantity = async (data)=>{    \n    const product_id = data.product_id;\n    const url = setUrl(`store/setcant/${product_id}`);\n    const method = 'POST';\n    return await api(url, method, data);\n  }\n\n  // Brands functions -------------------------\n  const getBrands = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"brands\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get brands list in hook:\",\n          err.message\n        );\n        throw err;\n      });\n  };\n\n  const getBrand = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"brands\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get brands in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveBrand = async (data) => {\n    const url = setUrl(\"brands\");\n    return await api(url, \"POST\", data);\n  };\n\n  const deleteBrand = async (id) => {\n    const url = setUrl(\"brands\", id);\n    return await api(url, \"DELETE\", null)\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  return {\n    getItems,\n    getItem,\n    deleteItem,\n    saveItem,\n    saveItemByList,\n    saveQantityandPrice,\n    saveGlobalPrice,\n    getBrands,\n    getBrand,\n    saveBrand,\n    deleteBrand,\n    saveQantity,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\nimport Input from \"../Input\";\nimport useStore from \"../../hooks/useStore\";\n\nexport default function Brands(props) {\n  \n  const [state, setState] = useState({\n    brands: [],\n    load: true,\n  });\n\n  const _store = useStore();\n\n  const getBrands = () => {\n    _store.getBrands({supplier: props.supplier}).then((brands) => {\n        if(brands){\n          setState({\n            ...state, \n          brands: brands.data,  \n          load: false,\n        });\n        }else{\n          console.error(\"Error al obetner las marcas\");\n        }\n        \n      });\n  };\n\n  useEffect(() => {\n    getBrands();\n  }, [props.supplier]);// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <small>\n          <label>Marca</label>\n        </small>\n        <Input\n          options={state.brands}\n          value={props.brand}\n          text=\"Seleccione una marca\"\n          icon=\"copyright\"\n          emptyText=\"No hay marcas para este proveedor\"\n          load={state.load}\n          loadText=\"Cargando marcas\"\n          handleChange={(id) => {\n            if (props.handleChangeBrand) {\n              props.handleChangeBrand(id);\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useContact() {\n\n  const getContacts = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"contacts\", null, options);\n    //type, bussiness\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contacts list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n  const getContact = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"contacts\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contact in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n\n  const deleteContact = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"contacts\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete contact in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n\n  \n  const saveContact = async (data) => {\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"contacts\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save contact in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    } else {\n      const url = setUrl(\"contacts\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save contact in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    }\n  };\n\n  return {\n    getContacts,\n    getContact,\n    deleteContact,\n    saveContact,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\nimport useContact from \"../../hooks/useContact\";\nimport Input from \"../Input\";\n\nexport default function Suppliers(props) {\n  \n  const _contacts = useContact();\n  const [state, setState] = useState({\n    suppliers: [],\n    load: true,\n  });\n\n  const getSuppliers = () => {\n    _contacts\n      .getContacts({\n        type: 1,\n        orderby: \"name\",\n        order: \"asc\",\n      })\n      .then((sup) => {\n        setState({\n          suppliers: sup.data,\n          load: false,\n        });\n      });\n  };\n\n  useEffect(() => {\n    getSuppliers();\n  }, []);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <small>\n          <label>Proveedor</label>\n        </small>\n        <Input\n          options={state.suppliers}\n          value={props.supplier ?? \"\"}\n          text=\"Seleccione un provedor\"\n          icon=\"address-book\"\n          load={state.load}\n          handleChange={(id) => {\n            if (props.handleChangeSupplier) {\n              props.handleChangeSupplier(id);\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import { Store } from \"../../context/StoreContext\";\n//Components\nimport SideBar from \"../../pages/partials/SideBar\";\n\nimport BrandsInput from \"./Brands\";\nimport SuppliersInput from \"./Suppliers\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function ToolBar() {\n  const context = Store();\n  const history = useHistory();\n\n  //Funciones\n  const handleSetSelectOptions = ({ name, value, checked }) => {\n    if (name === \"itemsPage\") value = parseInt(value);\n    if (name === \"supplier\" && value > 0) value = parseInt(value);\n    if (name === \"zero\") {\n      if (checked) value = \"true\";\n      else value = \"false\";\n    }\n\n    context.set({\n      ...context,\n      options: {\n        ...context.options,\n        [name]: value,\n      },\n    });\n  };\n  \n  const handleChangeSupplier = (id) => {\n    context.set({\n      ...context,\n      options: {\n        ...context.options,\n        brand: \"\",\n        supplier: id,\n      },\n    });\n  };\n\n  return (\n    <SideBar title={context.panel === \"inbox\" ? \"Menu y filtros\" : \"Menu\"}>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"inbox\" ? \"nav-link  disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n            context.set({\n              ...context,\n              panel: \"inbox\",\n            });\n            history.push(\"/almacen\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"inbox\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Productos\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"category\" ? \"nav-link disabled\" : \"nav-link \"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"category\",\n            });\n\n            history.push(\"/almacen/categorias\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"category\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Categorias\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"brands\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"brands\",\n            });\n\n            history.push(\"/almacen/marcas\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"brands\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Marcas\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"inventory\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"inventory\",\n            });\n\n            history.push(\"/almacen/inventario\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"inventory\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Inventario\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"entries\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"entries\",\n            });\n\n            history.push(\"/almacen/entradas\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"entries\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Entradas\n        </a>\n      </li>\n\n      {context.panel === \"inbox\" && (\n        <>\n          <li className=\"nav-item p-1\">\n            <SuppliersInput\n              supplier={context.options?.supplier}\n              showIcon={false}\n              handleChangeSupplier={(id) => handleChangeSupplier(id)}\n            />\n          </li>\n          {context.options?.supplier && (\n            <li className=\"nav-item p-1\">\n              <BrandsInput\n                supplier={context.options?.supplier}\n                brand={context.options?.brand}\n                showIcon={false}\n                handleChangeBrand={(id) => {\n                  handleSetSelectOptions({\n                    name: \"brand\",\n                    value: id,\n                  });\n                }}\n              />\n            </li>\n          )}\n          <li className=\"nav-item p-1\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"zero\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"zero\"\n                checked={context.options?.zero === \"true\" ? true : false}\n                onChange={({ target }) => handleSetSelectOptions(target)}\n              />\n              <label\n                className=\"custom-control-label font-weight-normal\"\n                htmlFor=\"zero\"\n              >\n                Cantidades en cero\n              </label>\n            </div>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"orderby\">Ordenar por</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"orderby\"\n              id=\"orderby\"\n              value={context.options?.orderby}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"created_at\">Fecha de registro</option>\n              <option value=\"updated_at\">Fecha de modificacion</option>\n            </select>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"order\">Mostrar por</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"order\"\n              id=\"order\"\n              value={context.options?.order}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"asc\">Antiguos</option>\n              <option value=\"desc\">Recientes</option>\n            </select>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"itemsPage\">Numero de productos</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"itemsPage\"\n              id=\"itemsPage\"\n              value={context.options?.itemsPage}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"25\">ver 25</option>\n              <option value=\"50\">ver 50</option>\n              <option value=\"75\">ver 75</option>\n              <option value=\"100\">ver 100</option>\n            </select>\n          </li>\n        </>\n      )}\n    </SideBar>\n  );\n}\n","export default function PaginationComponent({\n  meta,\n  color,\n  handlePagination: _handlePagination,\n}) {\n\n\n\n  const handleChangePage = (page) => {\n    if (_handlePagination) {\n      _handlePagination(page);\n    } else {\n      console.error(\"[OrusSystem] Funcion de paginador no definida\");\n    }\n  };\n\n  return (\n    <div className=\"btn-group\">\n      <ul className=\"pagination pagination-sm m-0 mb-1\">\n        <li\n          className={\n            meta.current_page === 1 ? \"page-item disabled\" : \"page-item test-\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === 1\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(1);\n            }}\n          >\n            Primero\n          </a>\n        </li>\n        <li\n          className={\n            meta.current_page === 1 ? \"page-item disabled\" : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === 1\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.current_page - 1);\n            }}\n          >\n            <i className=\"fas fa-caret-left\"></i>\n          </a>\n        </li>\n        <li className=\"page-item\">\n          <span className=\"page-link text-dark\">\n            {meta.current_page && meta.last_page ? (\n              <>\n                {meta.current_page} /{meta.last_page}\n              </>\n            ) : (\n              \"...\"\n            )}\n          </span>\n        </li>\n        <li\n          className={\n            meta.current_page === meta.last_page\n              ? \"page-item disabled\"\n              : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === meta.last_page\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.current_page + 1);\n            }}\n          >\n            <i className=\"fas fa-caret-right\"></i>\n          </a>\n        </li>\n        <li\n          className={\n            meta.current_page === meta.last_page\n              ? \"page-item disabled\"\n              : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === meta.last_page\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.last_page);\n            }}\n          >\n            Ultimo\n          </a>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport Pagination from \"../layouts/pagination\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nconst ListInbox = (props) => {\n  \n  //Const\n  const { defaultSearch = \"\" } = props;\n  //States\n  const [search, setSearch] = useState(defaultSearch);\n  const [timer, setTimer] = useState(\"\");\n  const inputRef = useRef();\n\n  const _authContext = useContext(AuthContext);\n  const { auth } = _authContext;\n\n  useEffect(() => {\n    let toTimer = null;\n    if (props.handleSearch) {\n      if (search.length) {\n        if (timer) clearTimeout(timer);\n        toTimer = setTimeout(() => {\n          props.handleSearch(search);\n        }, 1000);\n        setTimer(toTimer);\n      } else {\n        props.handleSearch(\"\");\n      }\n    }\n    // eslint-disable-next-line\n  }, [search]);\n\n  return (\n    <div className={\"card card-\" + props.color + \" card-outline\"}>\n      <div className=\"card-header\">\n        <h3 className={\"card-title text-\" + props.color}>\n          <i\n            className={\n              props.icon ? \"mr-1 fas fa-\" + props.icon : \"mr-1 fas fa-user\"\n            }\n          ></i>\n          {props.title}\n        </h3>\n        <div className=\"card-tools\">\n          {props.handleSearch && (\n            <div className=\"input-group input-group-sm position-relative\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Buscar\"\n                defaultValue={search}\n                ref={inputRef}\n                onChange={({ target }) => {\n                  const { value } = target;\n                  setSearch(value);\n                }}\n                onKeyPress={(e) => {\n                  const { key } = e;\n                  if (key === \"Enter\") {\n                    if (timer) clearTimeout(timer);\n                    props.handleSearch(search);\n                  }\n                }}\n              />\n              <div\n                className=\"position-absolute\"\n                style={{ top: 5, left: -20, color: \"#ced4da\" }}\n              >\n                <i className=\"fas fa-search\"></i>\n              </div>\n              {search.length > 2 ? (\n                <div className=\"input-group-append\">\n                  <div\n                    className=\"btn btn-secondary\"\n                    onClick={(e) => {\n                      inputRef.current.value = \"\";\n                      setSearch(\"\");\n                    }}\n                  >\n                    <i className=\"fas fa-window-close\"></i>\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          )}\n        </div>\n      </div>\n      <div className=\"p-0 card-body\">\n        {props.handleDeleteItem ||\n        props.handleEditItem ||\n        props.handleStatus ||\n        props.handleSync ||\n        props.meta ||\n        props.handleDownload ? (\n          <div className=\"mailbox-controls\">\n            <div className=\"btn-group\">\n              {props.handleDeleteItem ? (\n\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm text-danger\"\n                  title=\"Eliminar\"\n                  disabled = {props.itemSelected ? (props.itemSelected === auth.idUser) ? true : false : true}\n                  onClick={(e) => props.handleDeleteItem()}\n                >\n                  <i className=\"fas fa-trash-alt\"></i>\n                </button>\n              ) : null}\n\n              {props.handleEditItem ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Editar\"\n                  disabled={props.itemSelected ? false : true}\n                  onClick={(e) => props.handleEditItem()}\n                >\n                  <i className=\"fas fa-edit\"></i>\n                </button>\n              ) : null}\n\n              {props.handleStatus ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Estado\"\n                  disabled={props.itemSelected ? false : true}\n                  onClick={(e) => props.handleStatus()}\n                >\n                  <i className=\"fas fa-check-circle\"></i>\n                </button>\n              ) : null}\n\n              {props.handleSync ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Recargar\"\n                  onClick={(e) => props.handleSync()}\n                >\n                  <i className=\"fas fa-sync-alt\"></i>\n                </button>\n              ) : null}\n\n              {props.handlePrint ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Imprimir\"\n                  onClick={(e) => props.handlePrint()}\n                >\n                  <i className=\"fas fa-print\"></i>\n                </button>\n              ) : null}\n\n              {props.handleDownload ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Exportar\"\n                  onClick={(e) => props.handleDownload()}\n                >\n                  <i className=\"fas fa-file-csv\"></i>\n                </button>\n              ) : null}\n            </div>\n\n            <div className=\"float-right\">\n              {props.meta && (\n                <Pagination\n                  meta={props.meta}\n                  color={props.color}\n                  handlePagination={props.handlePagination}\n                />\n              )}\n            </div>\n          </div>\n        ) : null}\n\n        <div className=\"table-responsive mailbox-messages\">\n          {props.children}\n        </div>\n      </div>\n      {props.loading ? (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default ListInbox;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Store } from \"../../context/StoreContext\";\nimport useStore from \"../../hooks/useStore\";\n\n//Components\nimport ListInbox from \"../../layouts/list_inbox\";\n//import { api, getUrl } from \"../../redux/sagas/api\";\nimport {api, setUrl} from '../../utils/url';\n\nexport default function Inbox(props) {\n  const context = Store();\n  const _store = useStore();\n  const history = useHistory();\n  //const storeContext = useContext(StoreContext);\n\n  //States\n  const [state, setState] = useState({\n    itemSelected: {},\n    items: [],\n    meta: {},\n    loading: false,\n  });\n  //Functions\n  const handleChangeOptions = (key, value) => {\n      if (context.options[key] !== value) {\n        context.set({\n          ...context,\n          options: {\n            ...context.options,\n            [key]: value,\n          },\n        });\n      }\n    },\n    deleteItem = () => {\n      window.Swal.fire({\n        title: \"Productos\",\n        text: \"Desea eliminar el producto seleccionado?\",\n        icon: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#007bff\",\n        confirmButtonText: \"Eliminar\",\n        cancelButtonText: \"Cancelar\",\n        showLoaderOnConfirm: true,\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          //Hook de eliminar producto\n          _store.deleteItem(state.itemSelected.id).then((data)=>{\n            if(data === true){\n              window.Swal.fire({\n                title: \"Productos\",\n                text: \"Producto eliminado correctamente\",\n                icon: \"success\",\n                showCancelButton: false,\n                confirmButtonColor: \"#007bff\",\n                confirmButtonText: \"Ok\",\n                cancelButtonText: \"Cancelar\",\n                showLoaderOnConfirm: true,\n              }).then(({ dismiss }) => {\n                if (!dismiss) {\n                  setState({\n                    ...state,\n                    itemSelected: {},\n                  });\n\n                  setState({\n                    ...state,\n                    loading: true,\n                  });\n\n                  _store.getItems(context.options).then((res) => {\n                    if (res) {\n                      setState({\n                        ...state,\n                        items: res.data,\n                        meta: res.meta,\n                        loading: false,\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          })\n        }\n      });\n\n\n      //helper.handleDeleteItem(state.itemSelected, context.options, () => {});\n      /* setState({\n        ...state,\n        itemSelected: {},\n      }); */\n    },\n\n    handleItemSelect = ({ checked }, item) => {\n      setState({\n        ...state,\n        itemSelected: checked ? item : {},\n      });\n    },\n\n\n    handleSelectItem = (e, item) => {\n      if (e) e.preventDefault();\n\n      if (item?.id) {\n        history.push(`/almacen/${item.id}`);\n      } else if (state.itemSelected?.id) {\n        history.push(`/almacen/${state.itemSelected.id}`);\n      }\n    },\n    handleDownload = async () => {\n      // _setLoading(true);\n      const newOptions = { ...context.options, responseType: \"csv\" };\n      console.log(\"[Orus Sytem] Start donwload csv\");\n\n      const url = setUrl(\"store\", null, newOptions);\n\n      const data = await api(url);\n      // _setLoading();\n      if (data) {\n        console.log(\"[Orus Sytem] Process data csv\");\n        window.open(URL.createObjectURL(data));\n        console.log(\"[Orus Sytem] Donwload is ok\");\n        window.Swal.fire({\n          title: \"Descargas\",\n          text: \"El archivo CSV fue generado correctamente\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      } else {\n        window.Swal.fire({\n          title: \"Descargas\",\n          text: \"El archivo CSV no se genero correctamente\",\n          icon: \"error\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n      }\n    };\n  const handleSync = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n    _store.getItems(context.options).then((res) => {\n      if (res) {\n        setState({\n          ...state,\n          items: res.data,\n          meta: res.meta,\n          loading: false,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    handleSync();\n  }, [context.options]);// eslint-disable-line react-hooks/exhaustive-deps\n  return (\n    <ListInbox\n      title=\"Lista de productos\"\n      icon=\"id-badge\"\n      color=\"primary\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.itemSelected?.id}\n      defaultSearch={context.options.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleDeleteItem={deleteItem}\n      handleEditItem={handleSelectItem}\n      handleDownload={handleDownload}\n      handleSync={handleSync}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Codigo</th>\n            <th>Describción</th>\n            <th>Proveedor</th>\n            <th>Marca</th>\n            <th>Cant</th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.items.length ? (\n            <>\n              {state.items.map((item) => {\n                return (\n                  <tr key={item.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={item.id}\n                        id={\"item_\" + item.id}\n                        checked={\n                          state.itemSelected?.id === item.id ? true : false\n                        }\n                        onChange={({ target }) =>\n                          handleItemSelect(target, item)\n                        }\n                      />\n                      <label\n                        htmlFor={\"item_\" + item.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td className=\"icheck-primary\">\n                      <div className=\"badge badge-dark text-uppercase\">\n                        {item.code}\n                      </div>\n                    </td>\n                    <td className=\"mailbox-name text-capitalize text-truncate\">\n                      <a\n                        href=\"·link\"\n                        onClick={(e) => handleSelectItem(e, item)}\n                        className=\"text-bold\"\n                      >\n                        {item.name}\n                      </a>\n                    </td>\n                    <td className=\"mailbox-attachment text-capitalize text-truncate text-muted\">\n                      <span>{item.supplier ? item.supplier.name : \"--\"}</span>\n                    </td>\n                    <td className=\"mailbox-attachment text-uppercase text-truncate text-muted\">\n                      <span>{item.brand ? item.brand.name : \"--\"}</span>\n                    </td>\n                    <td className=\"mailbox-date text-muted text-truncate text-right\">\n                      <span>{item.cant_total}</span>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"6\">\n                No hay productos registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </ListInbox>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useCategory() {\n  \n  const getCategories = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"categories\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get categories list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n\n  const getCategory = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"categories\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get category in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n  \n  const deleteCategory = async (id) => {\n    if (!id) return false;\n    \n    const url = setUrl(\"categories\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete category in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n  const saveCategory = async (data) => {\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"categories\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save category in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    } else {\n      const url = setUrl(\"categories\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save category in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    }\n  };\n\n  return {\n    getCategories,\n    getCategory,\n    deleteCategory,\n    saveCategory,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\n//Hooks\nimport useCategory from \"../../hooks/useCategory\";\n\n//Components\nimport Input from \"../Input\";\n\nexport default function Categories(props) {\n\n  const _categories = useCategory();\n\n  const [state, setState] = useState({\n    categories: [],\n    cat1: 0,\n    cat2: 0,\n    cat3: 0,\n    cat4: 0,\n    load: true,\n  });\n\n\n  const input2 = state.categories.filter((cat) => cat.id === state.cat1)[0];\n  const input3 = input2?.sons?.filter((cat) => cat.id === state.cat2)[0];\n  const input4 = input3?.sons?.filter((cat) => cat.id === state.cat3)[0];\n  const input5 = input4?.sons?.filter((cat) => cat.id === state.cat4)[0];\n\n  // Functions\n  const getCategories = () => {\n    _categories\n      .getCategories({\n        categoryid: \"raiz\",\n      })\n      .then(({ data: cat }) => {\n        setState({\n          ...state,\n          categories: cat,\n          load: false,\n        });\n      });\n  };\n\n  const getCategory = (id) => {\n    _categories.getCategory(id).then((cat) => {\n      if (state.cat1 === parseInt(cat.code[0])) {\n        if (state.cat2 === parseInt(cat.code[1])) {\n          if (state.cat3 === parseInt(cat.code[2])) {\n            if (state.cat4 === parseInt(cat.code[3])) {\n              return;\n            }\n          }\n        }\n      }\n\n      setState({\n        ...state,\n        cat1: parseInt(cat.code[0]),\n        cat2: parseInt(cat.code[1]),\n        cat3: parseInt(cat.code[2]),\n        cat4: parseInt(cat.code[3]),\n        load: false,\n      });\n    });\n  };\n\n\n  const handleReturn = () => {\n    if (state.cat1 && input2 && !input2.sons?.length) {\n      return props.handleChange(state.cat1, input2.code);\n    } else if (props.category) {\n      if (state.cat1 && !state.cat2 && !state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat2 && input3 && !input3.sons?.length) {\n      return props.handleChange(state.cat2, input3.code);\n    } else if (props.category) {\n      if (state.cat1 && state.cat2 && !state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat3 && input4 && !input4.sons?.length) {\n      return props.handleChange(state.cat3, input4.code);\n    } else if (props.category) {\n      if (state.cat1 && state.cat2 && state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat4) {\n      return props.handleChange(state.cat4, input5?.code);\n    }\n  };\n\n  useEffect(() => {\n    if (!state.categories.length) {\n      getCategories();\n    }\n\n    handleReturn();\n\n  }, [state]);// eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (state.categories.length && props.category) {\n      getCategory(props.category);\n    }\n  }, [state.categories, props.category]);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div>\n      <Input\n        text=\"Seleccione una categoria principal\"\n        options={state.categories}\n        value={state.cat1}\n        load={state.load}\n        handleChange={(val) =>\n          setState({ ...state, cat1: val, cat2: 0, cat3: 0, cat4: 0, })\n        }\n      />\n\n      {Boolean(state.cat1) && Boolean(input2?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input2.name}`}\n          options={input2.sons}\n          value={state.cat2}\n          handleChange={(val) =>\n            setState({ ...state, cat2: val, cat3: 0, cat4: 0 })\n          }\n        />\n      )}\n\n      {Boolean(state.cat2) && Boolean(input3?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input3.name}`}\n          options={input3.sons}\n          value={state.cat3}\n          handleChange={(val) => setState({ ...state, cat3: val, cat4: 0 })}\n        />\n      )}\n\n      {Boolean(state.cat2) && Boolean(input4?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input4.name}`}\n          options={input4.sons}\n          value={state.cat4}\n          handleChange={(val) => setState({ ...state, cat4: val })}\n        />\n      )}\n    </div>\n  );\n}\n","import {api, setUrl} from '../utils/url';\n\n\n\nexport default function useProducts(){\n    \n    //Funciones\n    const getProducts = async (searchBy)=> {\n        const url = setUrl('store', null, {search: searchBy});\n        return await api(url);\n    }\n\n\n    const getProductById = async (id)=>{\n        const url = setUrl('store', id);\n        return await api(url);\n    }\n\n    const getProductByCode = async(code, id) =>{\n        const url = setUrl('store', null, {code, id})\n        return await api(url);\n    }\n\n\n    const saveProduct = async(data)=>{\n        const {id} = data;\n        const url = setUrl('store');\n\n        if(id){\n            //PUT\n            return await api(url, 'PUT', data);\n        }else{\n            return await api(url, 'POST', data);\n        }\n    }\n\n    return {\n        getProducts, \n        getProductById,\n        getProductByCode,\n        saveProduct,\n    };\n}\n","import { useState } from \"react\";\n//Hooks\nimport useProducts from \"../../hooks/useProducts\";\n\n\nexport default function Code(props) {\n  const hookStore = useProducts();\n  const [inUse, setInUse] = useState(props.code.length === 0 ? true : false);\n\n  return (\n    <div className=\"input-group mb-3\">\n      <div className=\"input-group-prepend\">\n        <span\n          className={\n            inUse === true ? \"input-group-text bg-warning\" :  \"input-group-text bg-primary\"\n          }\n        >\n          <i className=\"fas fa-code\"></i>\n        </span>\n      </div>\n      <input\n        type=\"text\"\n        className=\"form-control text-uppercase\"\n        placeholder=\"Codigo\"\n        name=\"code\"\n        defaultValue={props.code}\n\n        onChange={({target}) => {\n          const {value} = target;\n          props.onChangeProductCode(value);\n        }}\n        \n        onBlur={() => {\n          if(props.code.length === 0){\n            setInUse(true);\n          }else{\n            hookStore.getProductByCode(props.code, props.id).then((data)=>{\n              if(data.data.length){         \n                if(data.data[0].code === props.code){                                  \n                  setInUse(false);\n                }else{\n                  setInUse(true);\n                }              \n              }else if(data.data.length === 0){              \n                setInUse(false);\n              }\n            })\n          }\n        }}\n        autoComplete=\"off\"\n        maxLength=\"18\"\n      />\n      {inUse === true ? (\n        <span className=\"text-muted text-xs d-block w-100\">\n          Campo vacio o còdigo en uso\n        </span>\n      ) : null}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useContext } from \"react\";\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\nexport default function BranchesSelect({ branch_default , showIcon = true, setBranchId }) {\n  \n  const configContext = useContext(ConfigContext);\n  const listBranches = configContext.data.filter((c) => c.name === \"branches\");\n  \n  return (\n    <div className=\"input-group mb-3\">\n      {showIcon && (\n        <div className=\"input-group-prepend\">\n          <span className=\"input-group-text bg-primary\">\n            <i className=\"fas fa-store-alt\"></i>\n          </span>\n        </div>\n      )}\n      <select\n        className=\"custom-select text-uppercase\"\n        name=\"branch_id\"\n        value={branch_default}\n        onChange={({ target }) => setBranchId(target)}\n      >\n        <option value=\"0\">-- Ninguna --</option> \n        {listBranches.map((branch)=>(\n           <option value={branch.id} key={branch.id}>\n           {branch.data.name}\n         </option> \n        ))}       \n      </select>\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\n//Hooks\nimport useStore from \"../../../hooks/useStore\";\n\nexport default function BranchesFormInputs({ inBranch, branchID, storeItemID }) {\n\n  const hookStore = useStore();\n\n  const [data, setData] = useState({\n    id: 0,\n    cant:0,\n    price: 1,\n    store_item_id: 0,\n    branch_id:0,\n    readyToSave: false,\n  });\n\n  const handleChangeInput = ({ name, value }) => {\n    let readyToSave = false;\n    if (name === \"cant\") {\n      value = parseInt(value);\n    } else {\n      value = parseFloat(value);\n    }\n\n    if (inBranch[name] !== value) {\n      readyToSave = true;\n    }\n    setData({\n      ...data,\n      readyToSave,\n      [name]: value,\n    });\n  };\n\n  const handleSaveInBranch = () => {\n    hookStore.saveQantityandPrice(data).then((data)=>{\n      if(data){\n      }else{\n        console.error(\"Error al guardar la informacion\");\n      }\n    });\n    setData({\n      ...data,\n      readyToSave: false,\n    });\n  };\n\n  useEffect(()=>{\n    setData({\n      id: inBranch.id ? inBranch.id : 0,\n      cant: inBranch.cant ? inBranch.cant : 0,\n      price: inBranch.price ? inBranch.price : 0,\n      readyToSave: false,\n      store_item_id: storeItemID,\n      branch_id: branchID,\n    });\n  }, [inBranch])// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col\">\n          <small>\n            <label>Cantidad en existencia</label>\n          </small>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text bg-primary\">\n                <i className=\"fas fa-database\"></i>\n              </span>\n            </div>\n            <input\n              type=\"number\"\n              className=\"form-control text-right\"\n              placeholder=\"Cantidades en existencia\"\n              name=\"cant\"\n              onChange={({ target }) => handleChangeInput(target)}\n              value={data.cant}\n              min={0}\n            />\n          </div>\n        </div>\n        <div className=\"col\">\n          <small>\n            <label>Precio</label>\n          </small>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text bg-primary\">\n                <i className=\"fas fa-money-bill\"></i>\n              </span>\n            </div>\n            <input\n              type=\"number\"\n              className=\"form-control text-right\"\n              placeholder=\"Precio\"\n              name=\"price\"\n              onChange={({ target }) => handleChangeInput(target)}\n              value={data.price}\n              min={0}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col text-right\">\n          <button\n            className={\n              !data.readyToSave ? \"btn btn-secondary\" : \"btn btn-success\"\n            }\n            type=\"button\"\n            onClick={handleSaveInBranch}\n            disabled={!data.readyToSave}\n          >\n            <i className=\"fas fa-save mr-1\"></i> Guardar\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useContext } from \"react\";\n\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\n//Components\nimport BranchesFormInputs from \"./BranchesFormInputs\";\n\nexport default function BranchesForm({ branches, storeItemID, defaultBranch }) {\n\n  const configContext = useContext(ConfigContext);\n  const configBranches = configContext.data.filter((c)=>c.name === 'branches');\n\n  return (\n    <form>\n\n      {defaultBranch === 0 ? \n        configBranches.map((branch) => {\n          const currentBranch = branches.filter((i)=> i.branch_id === branch.id )          \n          return (\n            <div className=\"card\" key={branch.id}>\n              <div className=\"card-header\">\n                <h5 className=\"card-title text-primary text-capitalize\">\n                  <i className=\"fas fa-store-alt mr-1\"></i> {branch.data.name}\n                </h5>\n              </div>\n              <div className=\"card-body\">\n              <BranchesFormInputs\n                inBranch={currentBranch[0] ?? {}}\n                branchID = {branch.id}\n                storeItemID = {storeItemID}\n              />\n              </div>\n            </div>\n          );\n        })      \n      :\n        configBranches.map((branch) => {\n          \n          const currentBranch = branches.filter((i)=> i.branch_id === branch.id );          \n\n          if(branch.id === defaultBranch){\n            return (\n              <div className=\"card\" key={branch.id}>\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-primary text-capitalize\">\n                    <i className=\"fas fa-store-alt mr-1\"></i> {branch.data.name}\n                  </h5>\n                </div>\n                <div className=\"card-body\">\n                <BranchesFormInputs\n                  inBranch={currentBranch[0] ?? {}}\n                  branchID = {branch.id}\n                  storeItemID = {storeItemID}\n                />\n                </div>\n              </div>\n            )\n          }else{ return null}\n        }         \n        )\n      }\n    </form>\n  );\n}","import { useEffect, useState, useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\n//Context\nimport { StoreContext } from \"../../context/StoreContext\";\n\n//Hooks\nimport useStore from \"../../hooks/useStore\";\n\n// Components\nimport CategoryInput from \"./Categories\";\nimport Suppliers from \"./Suppliers\";\nimport Brands from \"./Brands\";\nimport Code from \"./Code\";\nimport Activitys from \"../Activitys\";\nimport BranchesSelect from \"../../components/Store/views/BranchesSelect\";\nimport BranchesForm from \"../../components/Store/views/BranchesForm\";\n\nconst initialState = {\n  id: 0,\n  code: \"\",\n  codebar: \"\",\n  grad: \"\",\n  brand_id: 0,\n  name: \"\",\n  unit: \"PZ\",\n  cant: 1,\n  price: 1,\n  supplier_id: 0,\n  category_id: 0,\n  branch_default: 0,\n  data: {\n    category: { code: [] },\n    categories: [],\n    branches: [],\n    codes: [],\n    category_code: [],\n    activity: [],\n  },\n  loading: false,\n};\n\nexport default function Add(props) {\n  const storeContext = useContext(StoreContext);\n  const { id } = props.match.params;\n  const [state, setState] = useState(initialState);\n  const _store = useStore();\n  const { code, loading: LOADING } = state;\n  const history = useHistory();\n\n  const idsCategory = state.data.category.code\n    ? state.data.category.code.filter((i) => i !== \"\")\n    : [];\n\n  let readyToSave = false;\n  if (idsCategory.includes(\"1\")) {\n    readyToSave = state.category_id && state.code && state.name;\n  } else {\n    readyToSave =\n      state.category_id &&\n      state.code &&\n      state.name &&\n      state.supplier_id &&\n      state.brand_id;\n  }\n\n  // Functions\n  const saveProduct = () => {\n    _store.saveItem(state).then((data) => {\n      if (data) {\n        window.Swal.fire({\n          title: \"Productos\",\n          text: \"Producto guardado correctamente\",\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"OK\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            setState(initialState);\n            storeContext.set({\n              ...storeContext,\n              panel: \"inbox\",\n            });\n            history.push(\"/almacen\");\n          }\n        });\n      } else {\n        window.Swal.fire({\n          title: \"Almacenamiento\",\n          text: \"Error al guardar el producto\",\n          icon: \"error\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"Crear\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        });\n      }\n    });\n  };\n\n  const getItem = () => {\n    _store.getItem(id).then((res) => {\n      setState({\n        ...state,\n        id: res.id ? res.id : 0,\n        name: res.name ? res.name : \"\",\n        category_id: res.category?.id,\n        supplier_id: res.supplier?.id,\n        brand_id: res.brand?.id,\n        branch_default: res.branch_default ?? 0,\n        code: res.code ? res.code : \"\",\n        data: {\n          ...state.data,\n          category: res.category ? res.category : [],\n          inBranches: res.inBranches ? res.inBranches : \"\",\n          branches: res.branches ? res.branches : [],\n          activity: res.activity ? res.activity : [],\n        },\n        loading: false,\n      });\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      getItem();\n    }\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title text-primary text-bold\">\n              <i className=\"fas fa-database mr-1\"></i>\n              {id ? `Editar producto (${code})` : \"Registrar nuevo producto\"}\n            </h3>\n          </div>\n          <form className=\"card-body\" autoComplete=\"off\">\n            <div className=\"row\">\n              <div className=\"col\">\n                <fieldset>\n                  <small className=\"mr-2\">\n                    <label>Categoria</label>\n                  </small>\n\n                  <CategoryInput\n                    category={state.category_id}\n                    handleChange={(id, code) => {\n                      setState({\n                        ...state,\n                        category_id: id,\n                        data: {\n                          ...state.data,\n                          category_code: code,\n                        },\n                      });\n                    }}\n                  />\n                </fieldset>\n              </div>\n            </div>\n\n            {Boolean(state.data.category_code.length) &&\n              !state.data.category_code.includes(\"1\") && (\n                <Suppliers\n                  supplier={state.supplier_id}\n                  handleChangeSupplier={(id) => {\n                    setState({\n                      ...state,\n                      supplier_id: id,\n                      brand_id: 0,\n                    });\n                  }}\n                />\n              )}\n\n            {Boolean(state.supplier_id) && (\n              <Brands\n                brand={state.brand_id}\n                supplier={state.supplier_id}\n                textSelect=\"Selecione la marca\"\n                handleChangeBrand={(id) => {\n                  setState({\n                    ...state,\n                    brand_id: id,\n                  });\n                }}\n              />\n            )}\n\n            {state.category_id ? (\n              <>\n                <div className=\"row\">\n                  {state.data.category_code.includes(\"1\") && (\n                    <div className=\"col-3\">\n                      <small>\n                        <label>Graduacion</label>\n                      </small>\n                      <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                          <span className=\"input-group-text bg-primary\">\n                            <i className=\"fas fa-glasses\"></i>\n                          </span>\n                        </div>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          placeholder=\"+100100\"\n                          defaultValue={state.grad}\n                          onChange={({ target }) =>\n                            setState({ ...state, grad: target.value })\n                          }\n                          maxLength=\"7\"\n                          autoComplete=\"off\"\n                        />\n                      </div>\n                    </div>\n                  )}\n                  <div className=\"col\">\n                    {state.unit ? (\n                      <small>\n                        <label>Unidad de presentacion</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span\n                          className={\n                            state.unit\n                              ? \"input-group-text bg-primary\"\n                              : \"input-group-text bg-warning\"\n                          }\n                        >\n                          <i className=\"fas fa-balance-scale\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Unidad de presentación\"\n                        defaultValue={state.unit}\n                        onChange={({ target }) =>\n                          setState({ ...state, unit: target.value })\n                        }\n                        maxLength=\"4\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">\n                    {state.code ? (\n                      <small>\n                        <label>Codigo</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n\n                    <Code\n                      code={state.code}\n                      id={state.id}\n                      onChangeProductCode={(codeReceibed) => {\n                        setState({\n                          ...state,\n                          code: codeReceibed,\n                        });\n                      }}\n                    />\n                  </div>\n                  <div className=\"col\">\n                    <small>\n                      <label>Codigo de barras</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-primary\">\n                          <i className=\"fas fa-barcode\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Codigo de barras\"\n                        name=\"codebar\"\n                        defaultValue={state.codebar}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            codebar: target.value,\n                          });\n                        }}\n                        autoComplete=\"off\"\n                        maxLength=\"100\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col\">\n                    {state.name ? (\n                      <small>\n                        <label>Nombre del producto</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span\n                          className={\n                            state.name\n                              ? \"input-group-text bg-primary\"\n                              : \"input-group-text bg-warning\"\n                          }\n                        >\n                          <i className=\"fas fa-archive\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control text-uppercase\"\n                        placeholder=\"Nombre\"\n                        name=\"name\"\n                        defaultValue={state.name}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            name: target.value,\n                          });\n                        }}\n                        maxLength=\"149\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <div className=\"row\">\n                <div className=\"col\">\n                  <h6 className=\"text-warning\">\n                    Seleccione primero una categoría.\n                  </h6>\n                </div>\n              </div>\n            )}\n          </form>\n          <div className=\"card-footer text-right\">\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <div className=\"btn-group\" role=\"group\">\n                  <Link\n                    to=\"/almacen\"\n                    className=\"btn btn-default\"\n                    onClick={() => {\n                      storeContext.set({\n                        ...storeContext,\n                        panel: \"inbox\",\n                      });\n                    }}\n                  >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                    {id ? \"Cerrar\" : \"Cancelar\"}\n                  </Link>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      saveProduct();\n                    }}\n                    className={\n                      !readyToSave ? \"btn btn-secondary\" : \"btn btn-primary\"\n                    }\n                    disabled={!readyToSave}\n                  >\n                    <i className=\"fas fa-save mr-1\"></i>\n                    Guardar\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          {LOADING && (\n            <div className=\"overlay dark\">\n              <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n            </div>\n          )}\n        </div>\n      </div>\n      {id ? (\n        <div className=\"col\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <div className=\"card card-primary card-outline\">\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-primary\">\n                    Sucursal por defecto\n                  </h5>\n                </div>\n                <div className=\"card-body\">\n                  <BranchesSelect\n                    branch_default={state.branch_default}\n                    showIcon={false}\n                    setBranchId={(target) => {\n                      const { value } = target;                      \n                      setState({\n                        ...state,\n                        branch_default: parseInt(value),\n                      });\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col\">\n              <BranchesForm\n                branches={state.data.branches}\n                storeItemID={state.id}\n                defaultBranch={state.branch_default}\n              />\n            </div>\n          </div>\n        </div>\n      ) : null}\n\n      {state.data.activity.length ? (\n        <div className=\"col-lg-12\">\n          <Activitys data={state.data.activity} />\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React, { useEffect, useState, useContext } from \"react\";\nimport useCategory from \"../../../hooks/useCategory\";\nimport { StoreContext } from \"../../../context/StoreContext\";\n\n\nexport default function CategoryListComponent(props){\n\n  const hookCategory = useCategory();\n  \n  const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\n  const storeContext = useContext(StoreContext);\n\n  const [state, setState] = useState({\n    id: 0,\n    meta: {},\n    dd: false,\n    name: \"\",\n    category_raiz: [],\n    category_id: props.category,\n    page: 1,\n    host: ls.host,\n    token: ls.token,\n    load: false,\n  });\n\n  const { category_raiz, category_id, name, add } = state, { loading: load } = props;\n\n  useEffect(()=>{\n\n    const { categoryData = [] } = props;\n\n    if (categoryData) {\n      setState({\n        ...state, \n        category_raiz: categoryData,\n      });\n    }\n  },[props])// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const handleClickAdd = () => {\n    setState({\n      ...state,\n      add: !state.add,\n      name: \"\",\n    });\n  };\n\n  const handleSelectCategory = (cat) => {\n\n    const { last, categorySelect: _categorySelect } = props, { category_raiz } = state;\n\n    if (last) return false;\n    if (!cat.sons || (cat.sons && !cat.sons.length)) return false;\n\n    _categorySelect({\n      category_id: cat.id,\n      category_data: category_raiz,\n    });\n\n    setState({\n      ...state, \n      category_id: cat.id,\n    });\n  };\n\n  const handleClickDelete = (id, name) => {\n    if (id) {\n      //const { _delete } = this.props;\n      /* const item = { id }, options = { categoryid: \"raiz\" },\n      text =\n      \"Esta seguro de eliminar la categoria: \" + name.toUpperCase() + \"?\"; */\n\n      //Ejecutar hook para eliminar la categoria\n      hookCategory.deleteCategory(id).then((data)=>{\n        if(data){\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Categoria eliminada correctamente',\n            icon: \"success\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              storeContext.set({\n                ...storeContext,\n                panel:\"inbox\",\n              })\n            }\n          });\n        }else{\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Error al eliminar la categoria',\n            icon: \"error\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          })\n        }\n      })\n      //helper.handleDeleteItem(item, options, _delete, text);\n    }\n  };\n\n\n const catchInputs = (e) => {\n    const { name, value } = e.target;\n    setState({\n      ...state, \n      [name]: value.toLowerCase(),\n    });\n  };\n\n\n  const handleClickSave = () => {\n    //Verificamos campos validos\n    if (state.name.length < 4) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Debe de escribir el nombre de la categoria\",\n        \"warning\"\n      );\n      //this.nameInput.focus();\n      return false;\n    }\n\n    const { category_id, name } = state;\n    const data = { name, category_id: category_id};\n    //const { _save } = this.props;\n    \n    //const options = { categoryid: \"raiz\" };\n\n   /*  const text = id\n        ? \"¿Esta seguro de actualizar la categoria?\"\n        : \"¿Esta seguro de crear una nueva categoria?\",\n      _close = () => {\n        setState({\n          ...state,\n          name: \"\",\n          category_id: 0,\n          add: false,\n        });\n      };\n */\n\n      hookCategory.saveCategory(data).then((data)=>{\n        if(data){\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Categoria guardada correctamente',\n            icon: \"success\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              storeContext.set({\n                ...storeContext,\n                panel:\"inbox\",\n              })\n            }\n          });\n        }else{\n          window.Swal.fire(\n            \"Categorias\",\n            \"Error al guardar la categoria\",\n            \"error\"\n          );\n        }\n      });\n\n      \n\n\n    //helper.handleSaveItem(id, data, options, _save, _close, text);\n  };\n\n\n\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-body\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>Nombre</th>\n              <th style={{ width: 48 }}></th>\n            </tr>\n          </thead>\n          <tbody>\n            {category_raiz.length ? (\n              <React.Fragment>\n                {category_raiz.map((cat) => {                  \n                  return (\n                    <tr key={cat.id}>\n                      <td className=\"text-capitalize\">\n                        <a\n                          href={\"#select!\" + cat.id}\n                          onClick={(e) => {\n                            e.preventDefault();\n                            handleSelectCategory(cat);\n                          }}\n                          className={\n                            cat.sons && cat.sons.length\n                              ? \"text-primary\"\n                              : \"text-dark\"\n                          }\n                        >\n                          {cat.name}\n                        </a>\n                      </td>\n                      <td className=\"btn-group\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-default\"\n                          disabled={true}\n                          title=\"Proximamente\"\n                        >\n                          <i className=\"fas fa-edit\"></i>\n                        </button>\n                        <button\n                          type=\"button\"\n                          title=\"Eliminar\"\n                          className={\n                            cat.hijos && cat.hijos.length\n                              ? \"btn btn-outline-secondary btn-sm\"\n                              : \"btn btn-outline-danger btn-sm\"\n                          }\n                          onClick={(e) => {\n                            handleClickDelete(cat.id, cat.name);\n                          }}\n                          disabled={cat.hijos && cat.hijos.length}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </React.Fragment>\n            ) : (\n              <tr>\n                <td colSpan=\"8\" className=\"text-center\">\n                  <span className=\"mr-3\">Cargando categorias </span>\n                  <div className=\"spinner-border text-primary\" role=\"status\">\n                    <span className=\"sr-only\">Cargando ...</span>\n                  </div>\n                </td>\n              </tr>\n            )}\n          </tbody>\n          {add && !load ? (\n            <tfoot>\n              <tr>\n                <td>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    className=\"form-control text-uppercase\"\n                    autoComplete=\"off\"\n                    value={name}\n                    onChange={catchInputs}\n                    ref={(input) => {\n                      //this.nameInput = input;\n                    }}\n                  />\n                </td>\n                <td>\n                  <button\n                    className=\"btn btn-dark btn-sm\"\n                    onClick={handleClickSave}\n                    disabled={name.length < 3}\n                    title=\"Guardar categoria\"\n                  >\n                    <i className=\"fas fa-save\"></i>\n                  </button>\n                </td>\n              </tr>\n            </tfoot>\n          ) : null}\n        </table>\n      </div>\n      <div className=\"card-footer text-right\">\n        <button\n          className={\n            add\n              ? \"btn btn-secondary btn-sm text-bold\"\n              : \"btn btn-primary btn-sm\"\n          }\n          onClick={handleClickAdd}\n          disabled={!category_id}\n          title={add ? \"Cancelar\" : \"Crear nueva categoria\"}\n        >\n          {add ? (\n            <>\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </>\n          ) : (\n            <>\n              <i className=\"fas fa-plus mr-1\"></i>\n              Agregar\n            </>\n          )}\n        </button>\n      </div>\n    </div>\n  );\n}\n\n","import React, { useState, useEffect } from \"react\";\n//Components\nimport Catalogo from \"../components/Store/data/Category_list\";\nimport useCategory from \"../hooks/useCategory\";\n\nexport default function CategoriesStoreComponent(){\n\n  const hookCategory = useCategory();\n\n  const [state, setState] = useState({\n    category_id: 0,\n    category_data: [],\n  })\n\n  const { category_id, category_data } = state;\n  \n  let category_view_sons = category_data, category_current = {};\n  \n  if (category_id) {\n    const category_cache = category_data.filter(\n      (cat) => cat.id === category_id\n    );\n\n    if (category_cache.length) {\n      category_current = category_cache[0];\n      if (category_current && category_current.sons) {\n        category_view_sons = category_current.sons;\n      }\n    }\n  }\n\n  const handleLoadCategories = () => {\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data){\n        setState({\n          ...state,\n          category_data: data.data,\n        })\n      }else{\n        console.error(\"Error al obtener la lista de categorias\");\n      }\n    })\n  };\n\n  const handleChangeState = (data) => {\n    setState(data);\n  };\n\n\n  const handleClickParent = (e) => {\n    if (e) e.preventDefault();\n\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data){\n        setState({\n          category_data: data.data,\n          category_id: null,\n        });\n      }else{\n        console.error(\"Error al obtener la lista de categorias\");\n      }\n    })\n  };\n\n  useEffect(()=>{\n    handleLoadCategories();\n  },[]);// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  return (\n    <div className=\"row\" style={{minHeight:'100vh'}}>\n      <div className=\"col-8\">\n        <nav>\n          <ol className=\"breadcrumb\">\n            { state.category_id ? (\n              <>\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                  <a href=\"#link\" onClick={handleClickParent}>\n                    Raiz\n                  </a>\n                </li>\n                {category_current.id ? (\n                  <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                    {category_current.name}\n                  </li>\n                ) : null}\n              </>\n            ) : (\n              <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                Seleccione una categoria para ver su contenido\n              </li>\n            )}\n          </ol>\n        </nav>\n        <Catalogo\n          category={category_id}\n          categoryData={category_view_sons ?? []}\n          categorySelect={handleChangeState}\n        />\n      </div>\n    </div>\n  );\n}\n\n\n","export default function BrandsList({\n  brands,\n  handleEdit = null,\n  handleDelete = null,\n}) {\n  return (\n    <ul className=\"card-text list-group\">\n      {!brands.length ? (\n        <li className=\"list-group-item\">  \n          <p className=\"text-danger\">\n            <i className=\"fas fa-info-circle mr-1\"></i>\n            No exiten marcas para este proveedor!\n          </p>\n        </li>\n      ) : (\n        brands.map((brand) => {\n          return (\n            <li\n              className=\"list-group-item d-flex justify-content-between align-items-center\"\n              key={brand.id}\n            >\n              <span className=\"text-dark text-uppercase text-truncate\">\n                <i className=\"fas fa-thumbtack mr-1\"></i>\n                {brand.name}\n              </span>\n              \n              <div>\n                {handleEdit && (\n                  <span\n                    className=\"badge badge-dark badge-pill py-1 mr-2\"\n                    style={{ cursor: \"pointer\" }}\n                    title=\"Editar\"\n                    onClick={() => handleEdit(brand)}\n                  >\n                    <i className=\"fas fa-edit\"></i>\n                  </span>\n                )}\n\n                {handleDelete && (\n                  <span\n                    className=\"badge badge-danger badge-pill py-1\"\n                    style={{ cursor: \"pointer\" }}\n                    title=\"Eliminar\"\n                    onClick={() => handleDelete(brand)}\n                  >\n                    <i className=\"fas fa-trash\"></i>\n                  </span>\n                )}\n              </div>\n            </li>\n          );\n        })\n      )}\n    </ul>\n  );\n}\n","import React, {useState, useEffect, useContext } from \"react\";\nimport useStore from \"../hooks/useStore\";\nimport { StoreContext } from \"../context/StoreContext\";\n\n//Components\nimport Suppliers from \"../components/Store/Suppliers\";\nimport BrandsList from \"../components/Store/data/BrandsList\";\n\n\nexport default function BrandsComponent(){\n\n  const storeHook = useStore();\n\n  const storeContext = useContext(StoreContext);\n\n  const [state, setState] = useState({\n    id: null,\n    supplier: 0,\n    brands: [],\n    name: \"\",\n    loading: false,\n  });\n\n  useEffect(()=>{\n    getBrands();\n  },[state.supplier]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const getBrands = () => {\n    const { supplier } = state;\n    if (supplier) {\n      storeHook.getBrands({supplier, order: \"name\"}).then((data)=>{ \n        if(data){\n          setState({\n            ...state,\n            brands: data.data,\n          })\n        }else{\n          console.error(\"Error al obtener la lista de marcas\");\n        }\n      })\n    }\n  };\n\n  const handleCancelBtn = () => {\n    setState({\n      ...state, \n      name: \"\",\n      id: null,\n    });\n  };\n\n  const saveBrand = (e) => {\n    e.preventDefault();\n    const {  name, supplier } = state, data = { name, contact_id: supplier};\n\n    if (name.length < 3) {\n      window.Swal.fire(\n        \"Error\",\n        \"El nombre de la marca debe de tener por lo menos 3 caracteres\",\n        \"error\"\n      );\n      return false;\n    } else if (!supplier) {\n      window.Swal.fire(\n        \"Error\",\n        \"Debe de elegir a un proveedor primero\",\n        \"error\"\n      );\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de CREAR un nuevo producto?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        storeHook.saveBrand(data).then((data)=>{\n          if(data){\n            window.Swal.fire({\n              title: \"Almacenamiento\",\n              text: \"Producto almacenado correctamente\",\n              icon:'success',\n              showCancelButton: false,\n              confirmButtonColor: \"#007bff\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n            })\n          }\n          else{\n            console.error(\"Error al guardar la data enviada\");\n          }\n        })\n\n        storeContext.set({\n          ...storeContext,\n          panel: 'inbox',\n        })\n\n        setState({\n          ...state, \n          name: \"\",\n          id: null,\n        });\n      }\n    });\n  };\n\n  const prevEdit = (brand) => {\n    setState({\n      ...state, \n      name: brand.nombre,\n      id: brand.id,\n    });\n  };\n\n  const deleteBrand = (id, item) => {\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar la marca \" + item.toUpperCase() + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        console.log(\"[Orus Suystem] Enviando datos para eliminar marca\", id);\n        storeHook.deleteBrand(id).then((data)=>{\n          if(data === true){\n            window.Swal.fire({\n              title:'Marcas',\n              text:'Marca eliminada correctamente',\n              icon:'success',\n              showCancelButton: false,\n              confirmButtonColor: \"#007bff\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n\n            })\n          }\n          else{\n            window.Swal.fire({\n              title:'Marcas',\n              text:'Error al eliminar la marca',\n              icon:'error',\n              showCancelButton: false,\n              confirmButtonColor: \"#d33\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n\n            })\n          }\n        })\n        storeContext.set({\n          ...storeContext,\n          panel: 'inbox',\n        })\n      }\n    });\n  };\n  \n  const changeInput = ({ name, value }) => {\n    setState({\n      ...state, \n      [name]: value.toLowerCase(),\n    });\n  };\n\n  const { id, supplier, name } = state;\n\n  const { loading } = state;\n\n  return (\n    <div className=\"row\" style={{minHeight:'100vh'}}>\n      <div className = {supplier ? \"col-lg-6\" : \"col-lg-12\"}>\n        <div className=\"card card-primary card-outline\">\n          <h5 className=\"card-title mt-2 ml-2 text-bold\">\n            Marcas para productos\n          </h5>\n          <div className=\"card-body\">\n            <Suppliers\n              supplier={supplier}\n              handleChangeSupplier={(id) => {\n                setState({\n                  ...state, \n                  supplier: id,\n                  brands: id ? state.brands : [],\n                });\n              }}\n            />\n            {!state.brands.length && (\n              <p className=\"card-text\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Para iniciar, primero seleccione a un proveedor\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {supplier ? (\n        <div className=\"col\">\n          <div className=\"card card-primary card-outline\">\n            <div className=\"card-body\">\n              <h5 className=\"card-title text-dark mb-4 text-bold\">\n                Listado de marcas\n              </h5>\n              <BrandsList\n                brands={state.brands}\n                handleEdit={(brand) => prevEdit(brand)}\n                handleDelete={(brand) => {\n                  deleteBrand(brand.id, brand.name);\n                }}\n              />\n            </div>\n            <div className=\"card-footer\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control mr-1\"\n                  name=\"name\"\n                  value={name}\n                  onChange={({ target }) => changeInput(target)}\n                />\n                <div className=\"btn-group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-default\"\n                    disabled={!name}\n                    onClick={handleCancelBtn}\n                  >\n                    <i className=\"fas fa-eraser\"></i>\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={id ? \"btn btn-success\" : \"btn btn-primary\"}\n                    onClick={saveBrand}\n                    disabled={!name}\n                  >\n                    <i className=\"fas fa-save\"></i>\n                  </button>\n                </div>\n              </div>\n            </div>\n            {loading ? (\n              <div className=\"overlay dark\">\n                <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\n\n","function SetQantityModal({item, setCantidad, handleClose, saveQantity, newQantity}) {\n\n    return (\n\n        <div className=\"modal d-block\" tabIndex=\"-1\">\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">Asignar Cantidad</h5>\n              <button type=\"button\" className=\"close\" onClick={handleClose}>\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n  \n            <div className=\"modal-body p-2\">\n                <h5 className=\"text-center mt-2 mb-3\"><span class=\"badge badge-info\">{item.name.toUpperCase()}</span></h5>\n                <h6 className=\"text-center font-weight-bold\">Cantidad actual: <span className=\"font-weight-normal\">{item.cant}</span></h6>\n                <div className=\"\">\n                    <label>Cantidad</label>\n                    <input \n                        name = \"price\" \n                        type=\"number\" \n                        defaultValue={0} \n                        className=\"form-control\" \n                        placeholder=\"Cantidad\" \n                        onChange={setCantidad}                        \n                    />\n                </div>                        \n            </div>\n  \n            <div className=\"modal-footer\">\n             <button type=\"button\" className=\"btn btn-default\" onClick={handleClose}>\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n              </button>\n  \n              <button type=\"button\" className=\"btn btn-success\" disabled = { newQantity <= 0 || newQantity === '0' || !newQantity ? true : false} onClick={saveQantity}>\n                Asignar\n              </button>\n            </div>\n  \n          </div>\n        </div>\n      </div>\n    );\n  }\n  \n  export default SetQantityModal;\n  \n\n\n\n ","import { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SetQantityModal from \"./SetQantityModal\";\nimport useStore from \"../../../hooks/useStore\";\n\nexport default function InventoryTableView({ header, body, items }) {\n\n  const [state, setState] = useState({\n    item:{},\n    showModal: false,\n    newQantity: 0,\n  })\n\n  const hookStore = useStore();\n\n  const setQantity = (e)=>{\n    setState({\n      ...state,\n      newQantity: e.target.value,\n    })\n  }\n\n  const saveNewQantity = ()=>{\n    const data = {\n      product_id: state.item.id,\n      branch_default: state.item.branch_default,\n      cant: state.newQantity,\n    }\n\n   /*  console.log(data);\n    console.log(state.newQantity); */\n    hookStore.saveQantity(data).then((data)=>{\n      if(data){        \n        setState({\n          ...state,\n          showModal:false,\n        });\n        window.Swal.fire({\n          title: \"Inventario\",\n          text: \"Cantidad asignada correctamente\",\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"OK\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        });\n\n      }else{\n        window.Swal.fire({\n          title: \"Inventario\",\n          text: \"Error al cambiar la cantidad\",\n          icon: \"error\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"OK\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        })\n      }\n    })\n  }\n\n  useEffect(()=>{\n    console.log(\"Prueba de render\");\n  },[]);\n\n\n\n  return (\n    <div className=\"table-responsive\" style={{height:'100vh'}}>\n      -------\n      <table className=\"table table-sm table-bordered table-hover\">\n        <thead>\n          <tr>\n            <th>/</th>\n            {header}\n          </tr>\n        </thead>\n        <tbody>\n          {body.map((row, i) => {\n            const zero = row.props.children.type === \"label\" ? true : false;\n            return (\n              <tr className={zero ? \"table-secondary\" : \"\"} key = {i}>\n                {row}\n                {header.map((h, i) => {\n                  let grad = zero\n                    ? parseFloat(row.props.children.props.children)\n                        .toFixed(2)\n                        .replace(\".\", \"\")\n                    : parseFloat(row.props.children)\n                        .toFixed(2)\n                        .replace(\".\", \"\");\n                  if (parseInt(grad) >= 0) grad = \"+\" + grad;\n                  grad += parseFloat(h.props.children)\n                    .toFixed(2)\n                    .replace(/[-.]/g, \"\");\n\n                  return (\n                    <td key={grad + i} className=\"text-center\">\n                      {items.length ? (\n                        items.map((item, index) => {                          \n                          return grad === item.grad ? (\n                            <div key={index}>\n                              {item.cant_total ? (\n                                <span\n                                  onClick={()=>{\n                                    setState({\n                                      ...state,\n                                      item: item,\n                                      showModal: true,\n                                    })                                                                        \n                                  }}\n                                  style={{cursor:\"pointer\"}}\n                                  title = {item.grad}\n                                  key={item.id + index}\n                                  className={                        \n                                    item.cant > 0 ? \"badge badge-success\" : \"badge badge-danger\"\n                                  }\n                                >   \n                                 {item.cant_total}                                  \n                                </span>\n                              ) : null}\n                            </div>\n                          ) : null;\n                        })\n                      ) : (\n                        <Link to=\"/almacen/registro\">\n                          <i className=\"fas fa-plus text-secondary\"></i>\n                        </Link>\n                      )}\n                    </td>\n                  );\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n\n      {state.showModal ? (\n        <SetQantityModal\n         item = {state.item}\n         setCantidad = {setQantity}\n         saveQantity = {saveNewQantity}\n         newQantity = {state.newQantity}\n         handleClose = {()=>setState({\n          ...state,\n          showModal: false,\n         })}\n        />\n      ) : null}\n\n    </div>\n  );\n}\n","import { useState } from \"react\";\n\nfunction SetPriceModal({categoryName, handleSave: _handleSave ,handleClose: _close, handleChange: _handleChange}) {\n\n  const [showLoader, setShowLoader] = useState(false);\n  const [price, setPrice] = useState(0);\n\n\n  return (\n\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Asignar Precio</h5>\n            <button onClick={_close} type=\"button\" className=\"close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n          <div className=\"modal-body p-2\">\n            {showLoader ? (\n              <div className=\"text-center\">\n              <h4 className=\"text-primary\">Asignando precios </h4>\n              <div\n                className=\"spinner-border text-primary ml-4\"\n                role=\"status\"\n              >\n                <span className=\"sr-only\">Cargando ...</span>\n              </div>\n            </div>\n            ):(\n              <div className=\"d-flex flex-column justify-content-start align-items-start\">\n              <h5 className=\"text-center mt-2 mb-3\"><span class=\"badge badge-info\">{categoryName.toUpperCase()}</span></h5>\n                  <label>Precio</label>\n                  <input onChange={({target})=>{\n                    const {name, value} = target;\n                    setPrice(value);\n                    _handleChange(name, value);\n\n                  }} name = \"price\" type=\"number\" defaultValue={price} className=\"form-control\" placeholder=\"Precio\"/>\n\n              </div>\n            )}\n              \n          </div>\n\n          <div className=\"modal-footer\">\n            <button type=\"button\" className=\"btn btn-default\" onClick={_close} disabled={showLoader ? true : false}>\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n\n            <button disabled={showLoader || !price ||price === '0' ? true : false} type=\"button\" className=\"btn btn-success\" onClick={()=>{\n              _handleSave();\n              setShowLoader(true);\n            }}>\n              Asignar\n            </button>\n          </div>\n\n        </div>\n      </div>\n    </div> \n  );\n}\n\nexport default SetPriceModal;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport InventoryTableView from \"../components/Store/views/Inventory_table\";\nimport SetPriceModal from \"../components/Store/views/SetPriceModal\";\n\n//Hooks\nimport useCategory from \"../hooks/useCategory\";\nimport useStore from \"../hooks/useStore\";\n\n//Context\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Inventory(){\n\n  const authContext = useContext(AuthContext);\n  const currentBranch = authContext.auth.branch;\n  \n  const [state, setState] = useState({\n    catData_1: [],\n    catData_2: [],\n    catData_3: [],\n    catid_1: 0,\n    catid_2: 0,\n    catid_3: 0,\n    load: false,\n    items: [],\n    meta: {},\n    price: 0,\n  });\n\n\n\n  const [globalData, setGlobalData] = useState({\n    branchSelected: currentBranch ? currentBranch.id : 0,\n    price: 0,\n    productCategoryId: 0,\n  });\n\n  const [modal, setModal] = useState(false);\n\n  const hookCategory = useCategory();\n  const hookStore = useStore();\n\n  const header = [];\n  const body = [];\n  \n  let i = 0;\n  do {\n    header.push(<th key={i}>{i.toFixed(2)}</th>);\n    i = i - 0.25;\n  } while (i > parseFloat(state.meta.cil) - 0.25);\n\n  i = parseFloat(state.meta.rangoInf);\n  do {\n    if (i === 0)\n      body.push(\n        <td>\n          <label>0.00</label>\n        </td>\n      );\n    else body.push(<td>{i.toFixed(2)}</td>);\n    i = i + 0.25;\n  } while (i < parseFloat(state.meta.rangoSup) + 0.25);\n\n\n  const disabled = state.items.length !== 0 ? false : true;\n  const disablenBtnModal = globalData.branchSelected === 0 || \n                           globalData.price === 0  || \n                           globalData.productCategoryId === 0 ? true : false;\n\n  const handleModal = () => {\n    setModal(!modal);\n  };\n\n\n  const savePriceGlobal =  () => {\n    hookStore.saveGlobalPrice(globalData).then((data)=>{\n      handleModal();\n      if(data){\n        window.Swal.fire({\n          title: \"Productos\",\n          text: \"Precio asignado correctamente\",\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"OK\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            setGlobalData({\n              branchSelected: currentBranch ? currentBranch.id : 0,\n              price: 0,\n              productCategoryId: 0,\n            })\n          }\n        });\n      }else{\n        console.error(\"Error en la cosulta\");\n        window.Swal.fire({\n          title: \"Productos\",\n          text: \"Erro al guardar el precio global\",\n          icon: \"error\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"OK\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            setGlobalData({\n              branchSelected: currentBranch ? currentBranch.id : 0,\n              price: 0,\n              productCategoryId: 0,\n            })\n          }\n        });\n      }\n    });\n  }\n\n  const getItems = async (catid) => {\n    const { load } = state;\n    const filters = {\n      cat:catid,\n      itemsPage: 500,\n    };\n    //Cargando\n    if (!load) {\n      setState({\n        ...state,\n        load: true,\n      });\n    }\n\n    hookStore.getItems(filters).then((data)=>{\n      if(data){\n        const noGraduationData = data.data.filter((item) => item.grad !== '+000000' );\n        setState({\n          ...state, \n          items: noGraduationData ? noGraduationData : [],\n          catid_3: catid,\n          load: false,\n        });\n      }else{\n        console.error(\"Error al obtener la lista de productos\");\n        setState({\n          ...state,\n          load: false,\n        });\n      }\n    })\n  };\n\n\n  const handleClickCat = (e) => {\n    const { name, value } = e.target;\n    const { catData_1, catData_2 } = state;\n    let sons = [];\n    let  meta = {};\n\n    if (name === \"catid_1\") {\n      catData_1.map((cat) => {\n        if (cat.id === parseInt(value)) {\n          sons = cat.sons;\n          meta = cat.meta;\n          return true;\n        } else return false;\n      });\n\n      setState({\n        ...state,\n        catid_1: parseInt(value),\n        catid_2: 0,\n        catid_3: 0,\n        catData_2: sons,\n        catData_3: [],\n        meta,\n      });\n\n    } else if (name === \"catid_2\") {\n      catData_2.map((cat) => {\n        if (cat.id === parseInt(value)) {\n          sons = cat.sons;\n          return true;\n        } else return false;\n      });\n\n      setState({\n        ...state,\n        catid_2: parseInt(value),\n        catid_3: 0,\n        catData_3: sons,\n      });\n    }\n  };\n\n  const getCategories = () => {\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data && data.data){\n        setState({\n          ...state, \n          catid_1: 5,\n          meta: data.data[0].meta,\n          catData_1: data.data[0].sons,\n          catData_2: data.data[0].sons[0].sons\n        });\n      }else{\n        console.error(\"Error al descargar categorías\");\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n      }\n    })\n  };\n\n  useEffect(()=>{\n    getCategories();\n  },[]);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return(\n    <div className=\"row\" style={{height:'1000px'}}>\n        <div className=\"col\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n\n              <div className=\"d-flex justify-content-around align-items-center\">\n\n                <div className=\"col-lg-3\">\n                    <select\n                      className=\"custom-select\"\n                      name=\"catid_2\"\n                      value={state.catid_2}\n                      onChange={handleClickCat}\n                    >\n                      <option value=\"0\">Seleccione un material</option>\n                      {state.catData_2.map((cat) => {\n                        return (\n                          <option key={cat.id} value={cat.id}>\n                            {cat.name}\n                          </option>\n                        );\n                      })}\n                    </select>\n                  </div>\n\n                {state.catid_2 && state.catData_3.length ? (\n                  <div className=\"col-lg-9 d-flex justify-content-around align-items-center\">\n                    <div\n                      className=\"btn-group col-lg-8\"\n                      role=\"group\"\n                      aria-label=\"Basic example\"\n                      style={{height:'3rem'}}\n                    >\n                      {state.catData_3.map((cat) => {\n                        return (\n                          <button\n                            key={cat.id}\n                            className={\n                              state.catid_3 === cat.id\n                                ? \"btn btn-primary\"\n                                : \"btn btn-secondary\"\n                            }\n                            onClick={(e) => {                      \n                              getItems(cat.id);\n                              setState({\n                                ...state,\n                                catid_3: cat.id,\n                                load: true,\n                              });\n                            }}\n                          >\n                            {cat.name}\n                          </button>\n                        );\n                      })}\n                    </div>\n                    <div className=\"col-lg-4 d-flex flex-column align-items-center justify-content-center\">\n                      <p>Total de productos: {state.items.length}</p>\n                      <button disabled = {disabled} className=\"btn btn-success bg-success\" onClick={handleModal}>                        \n                        Asignar Precio\n                        <i className=\"fas fa-money-bill ml-2\"></i>\n                      </button>                                         \n                    </div>                    \n                  </div>\n                ) : null}\n              </div>\n            </div>\n\n\n            <div className=\"card-body\">\n              {state.catid_3 ? (\n                <React.Fragment>\n                  {state.load ? (\n                    <div className=\"text-center\">\n                      <span className=\"text-primary\">Cargando productos</span>\n                      <div\n                        className=\"spinner-border text-primary ml-4\"\n                        role=\"status\"\n                      >\n                        <span className=\"sr-only\">Cargando ...</span>\n                      </div>\n                    </div>\n                  ) : (\n                    <React.Fragment>\n                      <div className=\"row mb-2\">\n                        <div className=\"col mt-2\">\n                          \n                        </div>\n                        <div className=\"col\">\n                          \n                        </div>\n                        <div className=\"col-6\">\n                          <div className=\"row\">\n                          </div>\n                        </div>\n                      </div>\n                      {\n                        modal && <SetPriceModal \n                          branch = {currentBranch} \n                          currentBranch = {currentBranch}\n                          handleChange={(name, value) => {\n                            setGlobalData({\n                              ...globalData,\n                              [name]: parseInt(value),\n                              productCategoryId: state.items.length ? state.items[0].category.id : 0,\n                            })\n                          }} \n                          handleClose={handleModal} \n                          disabled = {disablenBtnModal}\n                          handleSave = {savePriceGlobal}\n                          categoryName = {`${state.catData_1[0].name} / ${state.catData_2[0].name} / ${state.catData_3[0].name}`}\n                        />\n                      }\n\n                      <InventoryTableView\n                        header={header}\n                        body={body}\n                        items={state.items}\n                      />\n                    </React.Fragment>\n                  )}\n                </React.Fragment>\n              ) : (\n                <div className=\"alert alert-warning text-light\" role=\"alert\">\n                  <h4 className=\"alert-heading\">\n                    <i className=\"fas fa-exclamation\"></i> Seleccion.\n                  </h4>\n                  <hr />\n                  <ul>\n                    {/* {!state.catid_1 ? (\n                      <li>Selecciones primero el tipo de lente</li>\n                    ) : null} */}\n                    {!state.catid_2 ? <li>Seleccione el material</li> : null}\n                    <li>Por ultimo el tratamiento</li>\n                  </ul>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { Config } from \"../../context/ConfigContext\";\nimport useStore from \"../../hooks/useStore\";\n\nexport default function FormEntries({\n  data,\n  eraseItem,\n  setItemNew,\n  setData,\n  setBranch,\n}) {\n  const configContext = Config();\n  const branches = configContext?.data.filter(\n    (conf) => conf.name === \"branches\"\n  );\n  const branchesId = branches.map((b) => b.id);\n  const [state, setState] = useState({\n    id: 0,\n    code: \"\",\n    branch_id: 0,\n    cant: 0,\n    price: 0,\n    currentCant: 0,\n    branchesId: [],\n  });\n  const store = useStore();\n  const searchProductByItem = async () => {\n    if (!state.code) return;\n\n    const items = await store.getItems({ code: state.code });\n    const item = items?.data.length ? items.data[0] : {};\n\n    if (item && Object.keys(item).length) {\n      setItemNew(state.id, state.branch_id, item);\n    } else {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"Codigo no encontrado\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      setState({\n        ...state,\n        code: \"\",\n      });\n    }\n  };\n  const setDataByBranch = () => {\n    const branch_id = data.branch_default\n      ? data.branch_default\n      : data.branch_id;\n    let currentCant = 0,\n      currentPrice = 0;\n\n    if (branch_id) {\n      const branch_select = data.branches?.filter(\n        (b) => b.branch_id === branch_id\n      );\n\n      if (branch_select && branch_select.length) {\n        const inBranch = branch_select[0];\n\n        currentCant = inBranch.cant;\n        currentPrice = inBranch.price;\n      }\n\n      if (!currentPrice) {\n        currentPrice = data.price ? data.price : state.price;\n      }\n    }\n    return [branch_id, currentCant, currentPrice];\n  };\n  const getBranchesId = () => {\n    const branches = [];\n    data.branches?.forEach((branch) => branches.push(branch.branch_id));\n\n    return branches;\n  };\n\n  useEffect(() => {\n    const [branch_id, currentCant, currentPrice] = setDataByBranch();\n    const branchesId = getBranchesId();\n\n    setState({\n      ...state,\n      id: data.id,\n      code: data.code,\n      cant: data.cant,\n      branch_id,\n      currentCant,\n      price: currentPrice,\n      branchesId,\n    });\n  }, [data.id, data.branch_id]);\n\n  return (\n    <div className=\"form-row border-bottom mt-2\">\n      <div className=\"form-group col-2\">\n        <label htmlFor=\"code\">Codigo</label>\n        <input\n          type=\"text\"\n          className=\"form-control text-uppercase\"\n          placeholder=\"Codigo del producto\"\n          id=\"code\"\n          disabled={typeof state.id === \"number\" ? true : false}\n          value={state.code}\n          onChange={({ target }) =>\n            setState({ ...state, code: target.value.toLowerCase() })\n          }\n          onKeyPress={({ key }) => key === \"Enter\" && searchProductByItem()}\n        />\n      </div>\n      <div className=\"form-group col-3\">\n        <label htmlFor=\"name\">Producto</label>\n        <input\n          type=\"text\"\n          className=\"form-control text-uppercase\"\n          placeholder=\"Nombre del producto\"\n          id=\"name\"\n          value={data.name ?? \"\"}\n          disabled={true}\n          onChange={() => {}}\n        />\n      </div>\n      <div className=\"form-group col-3\">\n        <label htmlFor=\"branch\">Sucursal</label>\n        <select\n          id=\"branch\"\n          className=\"form-control text-uppercase\"\n          disabled={\n            typeof state.id === \"string\" ||\n            branchesId.includes(data.branch_default) ||\n            data.cant\n              ? true\n              : false\n          }\n          value={data.branch_default ? data.branch_default : state.branch_id}\n          onChange={({ target }) => {\n            if (!isNaN(target.value)) {\n              setBranch(state.id, state.branch_id, parseInt(target.value));\n            }\n          }}\n        >\n          <option value={0}>--- Seleccione una sucursal ---</option>\n          {branches.map((branch) => {            \n            if (data.branches_used.includes(branch.id)) {\n              return null;\n            }\n\n            return (\n              <option key={branch.id} value={branch.id}>\n                {branch.data?.name}\n              </option>\n            );\n          })}\n        </select>\n      </div>\n      <div className=\"form-group col-1\">\n        <label htmlFor=\"current\">Actual</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"current\"\n          value={state.currentCant ?? 0}\n          disabled={true}\n          onChange={() => {}}\n        />\n      </div>\n      <div className=\"form-group col-1\">\n        <label htmlFor=\"cant\">Ingreso</label>\n        <input\n          type=\"text\"\n          className={\n            data.cant !== state.cant\n              ? \"form-control is-warning\"\n              : \"form-control\"\n          }\n          placeholder=\"Cantidad\"\n          id=\"cant\"\n          disabled={typeof state.id === \"string\" ? true : false}\n          value={state.cant ?? 0}\n          onChange={({ target }) => {\n            if (!isNaN(target.value)) {\n              setState({\n                ...state,\n                cant: parseInt(target.value ? target.value : 0),\n              });\n            }\n          }}\n        />\n      </div>\n      <div className=\"form-group col-1\">\n        <label htmlFor=\"price\">Precio</label>\n        <input\n          type=\"text\"\n          className={\n            data.price !== state.price\n              ? \"form-control is-warning\"\n              : \"form-control\"\n          }\n          placeholder=\"Precio\"\n          id=\"price\"\n          disabled={typeof state.id === \"string\" ? true : false}\n          value={state.price ?? 0}\n          onChange={({ target }) => {\n            if (!isNaN(target.value)) {\n              setState({ ...state, price: parseInt(target.value) });\n            }\n          }}\n          onKeyPress={({ key }) => key === \"Enter\" && setData(state)}\n        />\n      </div>\n      <div className=\"form-group col-1 text-right pt-4\">\n        <div\n          className=\"btn-group btn-group-sm mt-2\"\n          role=\"group\"\n          aria-label=\"...\"\n        >\n          <button\n            className=\"btn btn-sm btn-warning\"\n            onClick={() => eraseItem(data)}\n          >\n            <i className=\"fas fa-trash\" />\n          </button>\n          <button\n            className=\"btn btn-sm btn-success\"\n            disabled={typeof state.id === \"string\" ? true : false}\n            onClick={() => setData(state)}\n          >\n            {data.cant ? (\n              <i className=\"fas fa-pen\" />\n            ) : (\n              <i className=\"fas fa-check\" />\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport FormEntries from \"../components/Store/FormEntries\";\nimport { Config } from \"../context/ConfigContext\";\nimport useStore from \"../hooks/useStore\";\n\nexport default function StoreEntries() {\n  const configContext = Config();\n  const branches = configContext?.data.filter(\n    (conf) => conf.name === \"branches\"\n  );\n  const branchesId = branches.map((b) => b.id);\n  const store = useStore();\n  const [state, setState] = useState({\n    items: [\n      {\n        id: `${Date.now()}`,\n        code: \"\",\n        name: \"\",\n        branch_id: 0,\n        cant: 0,\n        price: 0,\n        branches: [],\n        branches_used: [],\n        branch_default: null,\n      },\n    ],\n  });\n  const setNewItem = (id, branch_id, item) => {\n    const items = [...state.items];\n    const branches_used = {};\n    const branches_rest = {};\n    let done = 0;\n\n    for (const i of items) {\n      if (!branches_used[i.id]?.length) branches_used[i.id] = [];\n      if (!branches_rest[i.id]?.length) branches_rest[i.id] = branchesId;\n\n      if (i.id === item.id) {\n        if (branchesId.includes(item.branch_default)) {\n          window.Swal.fire({\n            title: \"Almacen\",\n            text: \"Codigo ya se encuentra en la lsta\",\n            icon: \"warning\",\n            timer: 2500,\n          });\n          break;\n        }\n\n        branches_rest[i.id] = branches_rest[i.id].filter(\n          (b) => b !== i.branch_id\n        );\n        branches_used[i.id].push(i.branch_id);\n\n        item.branches = item.branches.filter(\n          (b) => !branches_used[i.id].includes(b.branch_id)\n        );\n      }\n\n      if (!branches_rest[i.id].length) {\n        window.Swal.fire({\n          title: \"Almacen\",\n          text: \"Codigo ya fue agregado a la lista en todas sus sucursales\",\n          icon: \"warning\",\n          timer: 2500,\n        });\n        break;\n      }\n\n      if (i.id === id && i.branch_id === branch_id) {\n        i.id = item.id;\n        i.code = item.code;\n        i.name = item.name;\n        i.price = item.price;\n        i.branches = item.branches;\n        i.branches_used = branches_used[i.id] ?? [];\n        i.branch_default = item.branch_default ?? null;\n        i.branch_id = item.branch_default ? item.branch_default : 0;\n      }\n\n      done++;\n    }\n\n    if (done < items.length) {\n      items.forEach((i) => {\n        if (typeof i.id === \"string\" && i.id === item.id) {\n          i.code = \"\";\n        }\n      });\n    }\n\n    setState({\n      items,\n    });\n  };\n  const setDataItem = (item) => {\n    const items = [...state.items];\n    let itemHasNew = true;\n\n    if (!item.cant) {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"La cantidad de productos (ingreso), es un valor requerido\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      return;\n    }\n\n    if (!item.price) {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"Es necesario establecer un precio mayor a cero\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      return;\n    }\n\n    if (!item.branch_id) {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"Por favor seleccione una sucursal\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      return;\n    }\n\n    items.forEach((i) => {\n      if (i.id === item.id && i.branch_id === item.branch_id) {\n        i.cant = item.cant;\n        i.price = item.price;\n        i.branch_id = item.branch_id;\n      }\n\n      if (typeof i.id === \"string\") {\n        itemHasNew = false;\n      }\n    });\n\n    if (itemHasNew) {\n      items.push(getNewItem());\n    }\n\n    setState({\n      items,\n    });\n  };\n  const setBranch = (id, c_branch, n_branch) => {\n    const items = [...state.items];\n\n    items.forEach((i) => {\n      if (i.id === id && i.branch_id === c_branch) {\n        i.branch_id = n_branch;\n      }\n    });\n\n    setState({\n      items,\n    });\n  };\n  const deleteItem = (item) => {\n    const items = [...state.items];\n    const newItems = items.filter((i) => {\n      if (i.id === item.id && i.branch_id === item.branch_id) {\n        return false;\n      }\n\n      return true;\n    });\n\n    setState({\n      items: newItems,\n    });\n  };\n  const saveItems = () => {\n    const items = state.items.filter((i) => typeof i.id === \"number\");\n    const newItems = [];\n\n    for (let i = 0; i < items.length; i++) {\n      delete items[i].branch_default;\n      delete items[i].branches;\n      delete items[i].branches_used;\n      delete items[i].name;\n      delete items[i].code;\n    }\n    // MFPLAR-000075\n    store\n      .saveItemByList(items)\n      .then((res) => {        \n        window.Swal.fire({\n          title: \"Almacen\",\n          text: \"Productos almacenados con exito\",\n          icon: \"success\",\n          timer: 2500,\n        });\n        newItems.push(getNewItem());\n        setState({\n          ...state,\n          items: newItems,\n        });\n      })\n      .catch((err) =>\n        console.log(\"Error when save items:\", err.message)\n      );\n  };\n\n  useEffect(() => {\n  }, [state.items]);\n\n  return (\n    <div className=\"row\" style={{height:'100vh'}}>\n      <div className=\"col-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-header\">\n            <h5 className=\"card-title mt-2 ml-2 text-bold\">\n              Entradas de productos por lote\n            </h5>\n            <div className=\"card-tools\">\n              <button\n                className=\"btn btn-sm btn-primary\"\n                title=\"Agregar una linea nueva\"\n                alt=\"Agregar una linea nueva\"\n                onClick={() => {\n                  const items = [...state.items];\n                  items.push(getNewItem());\n\n                  setState({\n                    items,\n                  });\n                }}\n              >\n                <i className=\"fas fa-plus\" />\n              </button>\n            </div>\n          </div>\n\n          <div className=\"card-body\">\n            {state.items.map((item, i) => (\n              <FormEntries\n                key={`${item.id}${Date.now()}${i}`}\n                data={item}\n                eraseItem={deleteItem}\n                setItemNew={setNewItem}\n                setData={setDataItem}\n                setBranch={setBranch}\n              />\n            ))}\n          </div>\n          <div className=\"card-footer text-right\">\n            <button className=\"btn btn-primary\" onClick={saveItems}>\n              Enviar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction getNewItem() {\n  return {\n    id: `${Date.now()}`,\n    code: \"\",\n    name: \"\",\n    branch_id: 0,\n    cant: 0,\n    price: 0,\n    branches: [],\n    branches_used: [],\n    branch_default: null,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { StoreContext } from \"../context/StoreContext\";\n\n//Compinentes\nimport ToolBar from \"../components/Store/ToolBar\";\nimport Inbox from \"../components/Store/Inbox\";\nimport Add from \"../components/Store/Add\";\nimport Categories from \"./StoreCategories\";\nimport Brands from \"./StoreBrand\";\nimport Inventory from \"./StoreInventory\";\nimport Entries from \"./StoreEntries\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  search: \"\",\n  itemsPage: 25,\n  supplier: \"\",\n  brand: \"\",\n  zero: \"false\",\n};\n\nexport default function Store(props) {\n  \n  const [state, setState] = useState({\n    panel: \"\",\n    options: optionsDefault,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    let panel = \"inbox\";\n\n    if (id) {\n      if (!isNaN(id)) {\n        panel = \"neworedit\";\n      } else {\n        switch (id?.toLowerCase()) {\n          case \"categorias\":\n            panel = \"category\";\n            break;\n          case \"marcas\":\n            panel = \"brands\";\n            break;\n          case \"inventario\":\n            panel = \"inventory\";\n            break;\n          case \"entradas\":\n            panel = \"entries\";\n            break;\n          default:\n            panel = \"inbox\";\n        }\n      }\n    }\n\n    setState({\n      ...state,\n      panel,\n    });\n\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <StoreContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <div className=\"col-sm-12 col-md-2\">\n          <button\n            className=\"btn bg-primary btn-block mb-3\"\n            type=\"button\"\n            disabled={state.panel !== \"inbox\"}\n            onClick={() => setState({ ...state, panel: \"neworedit\" })}\n          >\n            <i className=\"fas fa-plus mr-1\"></i>\n            Nuevo producto\n          </button>\n          <ToolBar />\n        </div>\n        <div className=\"col-sm-12 col-md-10\">\n          {state.panel === \"inbox\" && <Inbox />}\n          {state.panel === \"neworedit\" && <Add {...props} />}\n          {state.panel === \"category\" && <Categories></Categories>}\n          {state.panel === \"brands\" && <Brands></Brands>}\n          {state.panel === \"inventory\" && <Inventory></Inventory>}\n          {state.panel === \"entries\" && <Entries></Entries>}\n        </div>\n      </div>\n    </StoreContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const ContactContext = createContext(null);\nexport const Contacts = () => useContext(ContactContext);\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useHistory } from \"react-router-dom\";\n\nimport SideBar from \"../../pages/partials/SideBar\";\nimport { Contacts } from \"../../context/ContactContext\";\n\nexport default function ToolBarContact({\n  newOrEdit = false,\n  handleNewOrEdit: _handleNewOrEdit,\n}) {\n  const context = Contacts();\n  const history = useHistory();\n\n  return (\n    <div className=\"col-sm-12 col-md-2\">\n      <button\n        className=\"btn bg-indigo btn-block mb-3\"\n        type=\"button\"\n        disabled={newOrEdit}\n        onClick={() => _handleNewOrEdit()}\n      >\n        <i className=\"fas fa-plus mr-1\"></i>\n        Nuevo contacto\n      </button>\n      <SideBar title={newOrEdit ? \"Menu\" : \"Filtros\"}>\n        {!newOrEdit ? (\n          <>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"type\">Tipo</label>\n              <select\n                className=\"form-control \"\n                name=\"type\"\n                id=\"type\"\n                value={context.options?.type}\n                onChange={({ target }) => {\n                  const value = parseInt(target.value);\n                  \n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      type: !isNaN(value) ? value : \"\",\n                    },\n                  });\n                }}\n              >\n                <option value=\"\">-- Todos --</option>\n                <option value=\"0\">Clientes</option>\n                <option value=\"1\">Proveedores</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"orderby\">Ordenar por</label>\n              <select\n                className=\"form-control \"\n                name=\"orderby\"\n                id=\"orderby\"\n                value={context.options?.orderby}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      orderby: target.value,\n                    },\n                  });\n                }}\n              >\n                <option value=\"created_at\">Fecha de registro</option>\n                <option value=\"updated_at\">Fecha de modificacion</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"order\">Mostrar por</label>\n              <select\n                className=\"form-control \"\n                name=\"order\"\n                id=\"order\"\n                value={context.options?.order}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      order: target.value,\n                    },\n                  });\n                }}\n              >\n                <option value=\"asc\">Antiguos</option>\n                <option value=\"desc\">Recientes</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"itemsPage\">Numero de contactos</label>\n              <select\n                className=\"form-control \"\n                name=\"itemsPage\"\n                id=\"itemsPage\"\n                value={context.options?.itemsPage}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      itemsPage: parseInt(target.value),\n                    },\n                  });\n                }}\n              >\n                <option value=\"25\">ver 25</option>\n                <option value=\"50\">ver 50</option>\n                <option value=\"75\">ver 75</option>\n                <option value=\"100\">ver 100</option>\n              </select>\n            </li>\n          </>\n        ) : (\n          <>\n            <li className=\"list-group-item\">\n              <a\n                href=\"#back\"\n                className=\"d-flex justify-content-between align-items-center\"\n                onClick={(e) => {\n                  e.preventDefault();                  \n                  history.push(\"/contactos\");\n                }}\n              >\n                Ver listado\n                <span className=\"badge badge-primary badge-pill\">\n                  <i className=\"fas fa-chevron-left\"></i>\n                </span>\n              </a>\n            </li>\n            {context.contact?.id ? (\n              <li className=\"list-group-item\">\n                <a\n                  href=\"#details\"\n                  className=\"d-flex justify-content-between align-items-center\"\n                >\n                  Detalles\n                  <span className=\"badge badge-primary badge-pill\">\n                    <i className=\"fas fa-chevron-right\"></i>\n                  </span>\n                </a>\n              </li>\n            ) : null}\n          </>\n        )}\n      </SideBar>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n//Components\nimport Inbox from \"../../layouts/list_inbox\";\nimport useContact from \"../../hooks/useContact\";\n\n//Context\nimport { Contacts } from \"../../context/ContactContext\";\n\nexport default function InboxContact() {\n  const context = Contacts();\n  const _contacts = useContact();\n  const history = useHistory();\n  const [state, setState] = useState({\n    contactSelected: \"\",\n    contacts: [],\n    meta: {},\n    loading: false,\n  });\n\n  // Functions\n  const handleLoadContacts = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n\n    _contacts\n      .getContacts({\n        ...context.options,\n      })\n      .then((res) => {\n        setState({\n          ...state,\n          loading: false,\n          contacts: res.data,\n          meta: res.meta,\n          contactSelected: \"\",\n        });\n      });\n  };\n\n  useEffect(() => {\n    if (Object.keys(context.options).length) {\n      handleLoadContacts();\n    }\n  }, [context.options]);\n\n  return (\n    <Inbox\n      title=\"Lista de contactos\"\n      icon=\"id-badge\"\n      color=\"indigo\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.contactSelected}\n      handlePagination={(page) => {\n        if (page) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              page,\n            },\n          });\n        }\n      }}\n      handleSearch={(search) => {\n        if (search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search,\n              page: 1,\n            },\n          });\n        } else if (context.options.search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search: \"\",\n              page: 1,\n            },\n          });\n        }\n      }}\n      handleDeleteItem={(select) => {\n        if (state.contactSelected) {\n          window.Swal.fire({\n            title: \"Contactos\",\n            text: \"¿Desea eliminar a este contacto?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Eliminar\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              _contacts\n                .deleteContact(state.contactSelected)\n                .then(() => {\n                  handleLoadContacts();\n                })\n                .catch((err) => {\n                  console.log(\n                    \"[Orus System] Catch when delete contact:\",\n                    err.message\n                  );\n                });\n            } else {\n              setState({\n                ...state,\n                contactSelected: \"\",\n              });\n            }\n          });\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un contacto seleccionado\",\n            icon: \"error\",\n          });\n        }\n      }}\n      handleEditItem={() => {\n        if (state.contactSelected) {\n          history.push(`contactos/${state.contactSelected}`);\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un contacto seleccionado\",\n            icon: \"error\",\n          });\n        }\n      }}\n      handleSync={() => {\n        context.set({\n          ...context,\n          options: {\n            ...context.options,\n            page: 1,\n          },\n        });\n      }}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Edad</th>\n            <th>E-mail</th>\n            <th>Telefono</th>\n            <th>Creado por</th>\n            <th>\n              {context.options.orderby === \"created_at\"\n                ? \"Registrado\"\n                : \"Actualizado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.contacts?.map((contact) => {\n            const phones = Object.values(contact.phones).filter((p) => p);\n\n            return (\n              <tr key={contact.id}>\n                <td className=\"icheck-primary pl-2\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"form-check-input mt-4\"\n                    value={contact.id}\n                    id={\"contact_\" + contact.id}\n                    //disabled={contact.enUso}\n                    checked={\n                      state.contactSelected === contact.id ? true : false\n                    }\n                    onChange={({ target }) => {\n                      const { value, checked } = target;\n                      setState({\n                        ...state,\n                        contactSelected: checked ? parseInt(value) : \"\",\n                      });\n                    }}\n                  />\n                  <label\n                    htmlFor={\"contact_\" + contact.id}\n                    className=\"sr-only\"\n                  ></label>\n                </td>\n                <td\n                  className=\"mailbox-name text-capitalize text-truncate\"\n                  style={{ cursor: \"pointer\", maxWidth: 180 }}\n                  onClick={() => {\n                    history.push(`contactos/${contact.id}`);\n                  }}\n                >\n                  <label\n                    style={{ cursor: \"pointer\" }}\n                    className={contact.enUso ? \"text-indigo\" : \"\"}\n                  >\n                    {contact.type ? (\n                      <i className=\"fas fa-store text-sm mr-2\"></i>\n                    ) : (\n                      <i className=\"fas fa-user text-sm mr-2\"></i>\n                    )}\n                    {contact.name.toLowerCase()}\n                  </label>\n                </td>\n                <th>{contact.age ? contact.age : \"--\"}</th>\n                <td\n                  className=\"mailbox-attachment text-lowercase text-truncate\"\n                  style={{ maxWidth: 180 }}\n                >\n                  <span>\n                    <i className=\"fas fa-envelope text-sm mr-2\"></i>\n                    <a href={\"mailto:\" + contact.email} className=\"text-muted\">\n                      {contact.email?.toLowerCase()}\n                    </a>\n                  </span>\n                </td>\n                <td className=\"mailbox-date text-muted text-truncate text-right\">\n                  <span>\n                    <i className=\"fas fa-phone text-sm mr-2\"></i>\n                    {phones.length ? phones[0] : \"--\"}\n                  </span>\n                </td>\n                <td className=\"text-capitalize\">\n                  {contact.created.name.toLowerCase()}\n                </td>\n                <td>\n                  {moment(\n                    context.options.orderby === \"created_at\"\n                      ? contact.created_at\n                      : contact.updated_at\n                  ).fromNow()}\n                </td>\n              </tr>\n            );\n          })}\n\n          {!state.contacts?.length && (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"7\">\n                <i className=\"fa fa-info mx-2\"></i>\n                {context.options.search ? (\n                  <span>\n                    La busqueda\n                    <strong className=\"text-dark mx-1\">\n                      \"{context.options.search}\",\n                    </strong>\n                    no coincide con ning&uacute;n contacto.\n                  </span>\n                ) : (\n                  \"No hay contactos registrados\"\n                )}\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Inbox>\n  );\n}\n","const patternEmail =\n  /^([a-zA-Z0-9_])+(([a-zA-Z0-9])+\\.)+([a-zA-Z0-9]{2,4})$/i;\n\n  ///^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})$/i;\n\n/* const handleVerificationData = (data, showMsg = true) => {\n  const { name, email, birthday, telnumbers, type } = data,\n    patternName =\n      /^[A-ZÁÉÍÓÚñáéíóúÑ]+\\s[A-ZÁÉÍÓÚñáéíóúÑ]{2,}(\\s?[A-ZÁÉÍÓÚñáéíóúÑ]+){1,}/gim,\n    patternPhone = /^\\d{10}$/gim;\n\n  if (!type && !patternName.test(name)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El nombre del contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n    return {\n      result: false,\n      name: \"name\",\n    };\n  }\n  if (!patternEmail.test(email)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El correo electrónico del contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"email\",\n    };\n  }\n  const tel = Object.values(telnumbers);\n  let telefonoVerify = true;\n  tel.every((num) => {\n    if (patternPhone.test(num)) {\n      telefonoVerify = false;\n      return false;\n    }\n    return true;\n  });\n\n  if (!type && telefonoVerify) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El numero de contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"telnumbers\",\n    };\n  }\n\n  const date = new Date(birthday),\n    today = new Date(),\n    anos = today.getFullYear() - date.getFullYear();\n\n  if (!type && (!birthday || anos < 1)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"La fecha de nacimiento es erronea\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"bithday\",\n    };\n  }\n\n  return {\n    result: true,\n  };\n}; */\n\n\n\n/* const saveContact = (title = \"contacto\", data, _save, id = null) => {\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `¿Esta seguro de actualizar al ${title}?`\n      : `¿Esta seguro de crear un nuevo ${title}?`,\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        id,\n        data,\n      });\n    }\n  });\n};\n */\n\n\n/* const changeDataInput = (input, data, _setData) => {\n  const { name, value } = input;\n  let val = value;\n\n  if (name === \"telnumbers\") {\n    val = {\n      ...data.telnumbers,\n      t_movil: value,\n    };\n  }\n\n  _setData({\n    ...data,\n    [name]: val,\n  });\n}; */\n\n\n\n/* const dataPrimary = {\n  name: \"\",\n  telnumbers: { t_casa: \"\", t_oficina: \"\", t_movil: \"\" },\n  email: \"\",\n  birthday: \"\",\n  type: 0,\n  business: 0,\n  gender: \"female\",\n};\n */\n\n\n/* const handleGetDataObject = (key, value, verification) => {\n  switch (key) {\n    case \"name\":\n      return {\n        name: value,\n        verification: {\n          ...verification,\n          name: true,\n        },\n      };\n    case \"email\":\n      return {\n        email: value,\n        verification: {\n          ...verification,\n          email: true,\n        },\n      };\n    case \"birthday\":\n      return {\n        birthday: value,\n        verification: {\n          ...verification,\n          birthday: true,\n        },\n      };\n    case \"telefonos\":\n      return {\n        telefonos: value,\n        verification: {\n          ...verification,\n          telefonos: true,\n        },\n      };\n    default:\n      return {\n        [key]: value,\n      };\n  }\n}; */\n\nconst toExportActions = {\n  isEmail: function (email) {\n    return email ? patternEmail.test(email) : false;\n  },\n};\n\nexport default toExportActions;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport { useEffect, useState } from \"react\";\n\nimport helper from \"../helper\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function Personal({ data = {}, handleChange, fn }) {\n  const [state, setState] = useState({\n    emailVerification: null,\n    emailColor: \"dark\",\n    nameVerification: null,\n    nameColor: \"dark\",\n    birthdayVerification: false,\n    birthdayColor: \"dark\",\n    contatcs: [],\n  });\n\n  const handleValidContact = (type, value) => {\n    if (!type || !value) return;\n\n    if (type === \"email\" && helper.isEmail(value)) {\n      fn.getContacts({\n        page: 1,\n        orderby: \"created_at\",\n        order: \"desc\",\n        itemsPage: 10,\n        email: value,\n        except: data.id,\n      }).then((res) => {\n        setState({\n          ...state,\n          emailVerification: Boolean(res.data?.length),\n          emailColor: !res.data?.length ? \"dark\" : \"danger\",\n        });\n        handleChange(\"validates\", {\n          ...data.validates,\n          email: !Boolean(res.data?.length),\n        });\n      });\n    }\n\n    if (type === \"name\") {\n      fn.getContacts({\n        page: 1,\n        orderby: \"created_at\",\n        order: \"desc\",\n        itemsPage: 10,\n        name: value,\n        except: data.id,\n      }).then((res) => {\n        setState({\n          ...state,\n          contacts: res.data?.length ? res.data : [],\n          nameVerification: Boolean(res.data?.length),\n          nameColor: !res.data?.length ? \"dark\" : \"danger\",\n        });\n        handleChange(\"validates\", {\n          ...data.validates,\n          name: !Boolean(res.data?.length),\n        });\n      });\n    }\n  };\n\n  useEffect(() => {\n    const check = {\n      birthday: Boolean(moment().diff(data.birthday, \"days\") > 0),\n      test: moment().diff(data.birthday, \"days\"),\n    };\n\n    if (check.birthday !== state.birthdayVerification) {\n      setState({\n        ...state,\n        birthdayVerification: check.birthday,\n        birthdayColor: check.birthday ? \"dark\" : \"danger\",\n      });\n      handleChange(\"validates\", {\n        ...data.validates,\n        birthday: check.birthday,\n      });\n    }\n  }, [data.name, data.email, data.birthday]);\n\n  return (\n    <>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Tipo de contacto</label>\n          <select\n            className=\"custom-select\"\n            name=\"type\"\n            value={data.type ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"type\", parseInt(target.value))\n            }\n          >\n            <option value=\"0\">Cliente</option>\n            <option value=\"1\">Proveedor</option>\n          </select>\n        </div>\n        {data.type ? (\n          <div className=\"form-group custom-control custom-checkbox\">\n            <input\n              type=\"checkbox\"\n              name=\"business\"\n              className=\"custom-control-input\"\n              checked={data.business ?? false}\n              onChange={({ target }) =>\n                handleChange(\"business\", target.checked)\n              }\n              id=\"business_checkbox\"\n            />\n            <label\n              htmlFor=\"business_checkbox\"\n              className=\"custom-control-label cursor-pointer\"\n            >\n              <small>¿Es un laboratorio?</small>\n            </label>\n          </div>\n        ) : null}\n        <div className=\"form-group\">\n          <label>RFC</label>\n          <input\n            type=\"text\"\n            className=\"form-control text-uppercase text-truncate\"\n            placeholder=\"facturas\"\n            name=\"rfc\"\n            defaultValue={data.rfc ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"rfc\", target.value.toUpperCase())\n            }\n            minLength=\"10\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Género</label>\n          <select\n            className=\"custom-select\"\n            name=\"gender\"\n            value={data.gender ?? \"\"}\n            onChange={({ target }) => handleChange(\"gender\", target.value)}\n          >\n            <option value=\"male\">Hombre</option>\n            <option value=\"female\">Mujer</option>\n          </select>\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group position-relative\">\n          <label>\n            Nombre completo <span className=\"text-orange\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            className={`form-control text-capitalize text-truncate text-${state.nameColor}`}\n            placeholder=\"Ej: Juan Perez G\"\n            name=\"name\"\n            defaultValue={data.name ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"name\", target.value.toLowerCase())\n            }\n            onBlur={({ target }) =>\n              handleValidContact(\"name\", target.value.toLowerCase())\n            }\n            onKeyDown={({ key }) => {\n              if (key === \"Escape\") {\n                setState({\n                  ...state,\n                  contacts: [],\n                });\n              }\n            }}\n          />\n          {!data.name && (\n            <small>\n              <span className=\"text-orange\">Este campo es requerido</span>\n            </small>\n          )}\n\n          {state.contacts?.length && data.name?.length > 5 && !data.id\n            ? showContacts(state.contacts)\n            : null}\n        </div>\n\n        <div className=\"form-group\">\n          <label>\n            Correo electr&oacute;nico <span className=\"text-orange\">*</span>\n          </label>\n          <input\n            type=\"email\"\n            className={`form-control text-lowercase text-truncate text-${state.emailColor}`}\n            placeholder=\"Ej: correo@domain.com\"\n            name=\"email\"\n            defaultValue={data.email ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"email\", target.value.toLowerCase())\n            }\n            onBlur={({ target }) => handleValidContact(\"email\", target.value)}\n          />\n          {!data.email && (\n            <small>\n              <span className=\"text-orange\">Este campo es requerido</span>\n            </small>\n          )}\n\n          {data.email && !helper.isEmail(data.email) && (\n            <small>\n              <span className=\"text-orange\">Este no es un correo valido</span>\n            </small>\n          )}\n\n          {state.emailVerification &&\n            typeof state.emailVerification === \"boolean\" && (\n              <small>\n                <span className=\"text-orange\">\n                  Este e-mail ya se encuentra registrado\n                </span>\n              </small>\n            )}\n        </div>\n\n        {!data.type ? (\n          <div className=\"form-group\">\n            <label>\n              Fecha de nacimiento <span className=\"text-orange\">*</span>\n            </label>\n            <DatePicker\n              className={`form-control text-${state.birthdayColor}`}\n              locale=\"es\"\n              selected={new Date(data.birthday.format(\"YYYY/MM/DD\"))}\n              dateFormat=\"dd/MM/yyyy\"\n              maxDate={new Date()}\n              placeholderText=\"Seleccione una fecha\"\n              onSelect={(date) => {\n                if (date) {\n                  date = date.toLocaleDateString(\"es-MX\");\n                  const birthday = moment(date, \"DD/MM/YYYY\");\n\n                  if (birthday.isValid()) {\n                    handleChange(\"birthday\", birthday);\n                  }\n                }\n              }}\n              onChange={(date) => {\n                if (date) {\n                  date = date.toLocaleDateString(\"es-MX\");\n                  const birthday = moment(date, \"DD/MM/YYYY\");\n\n                  if (birthday.isValid()) {\n                    handleChange(\"birthday\", birthday);\n                  }\n                }\n              }}\n            />\n            {!state.birthdayVerification && (\n              <small>\n                <span className=\"text-orange\">Este campo es requerido</span>\n              </small>\n            )}\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n}\n\nfunction showContacts(contacts) {\n  return (\n    <div\n      className=\"position-absolute border rounded p-0 bg-white overflow-auto \"\n      style={{\n        zIndex: \"50\",\n        top: \"4.1rem\",\n        width: \"100%\",\n        maxHeight: \"8rem\",\n      }}\n    >\n      <ul className=\"list-group\">\n        {contacts.map((contact) => {\n          return (\n            <li className=\"list-group-item text-truncate\" key={contact.id}>\n              <i className=\"fas fa-minus mr-1 text-danger\"></i>\n              <span className=\"text-capitalize text-muted text-monospace text-sm\">\n                {contact.name?.toLowerCase()}\n              </span>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n","export default function Address({ data, handleChange }) {\n  return (\n    <>\n      <div className=\"col\">\n        {data.address_street ? (\n          <small>\n            <label>Calle y numero</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-road\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Calle y numero\"\n            defaultValue={data.address_street ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_street\", target.value.toLowerCase())\n            }\n          />\n        </div>\n        {data.address_neighborhood ? (\n          <small>\n            <label>Colonia</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-location-arrow\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Colonia\"\n            defaultValue={data.address_neighborhood ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_neighborhood\", target.value.toLowerCase())\n            }\n          />\n        </div>\n        {data.address_location ? (\n          <small>\n            <label>Municipio</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-location-arrow\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Municipio\"\n            defaultValue={data.address_location ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_location\", target.value.toLowerCase())\n            }\n          />\n        </div>\n      </div>\n      <div className=\"col\">\n        {data.address_state ? (\n          <small>\n            <label>Estado</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-map-marker\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Estado\"\n            defaultValue={data.address_state ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_state\", target.value.toLowerCase())\n            }\n          />\n        </div>\n        {data.address_zip ? (\n          <small>\n            <label>Codigo postal</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-map-marker\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Codigo Postal\"\n            defaultValue={data.address_zip ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_zip\", target.value.toLowerCase())\n            }\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from \"react\";\n\nexport default function Phones({ data, handleChange }) {\n  useEffect(() => {\n    const check = Boolean(\n      [data.phone_notices, data.phone_cell, data.phone_office].filter(\n        (phone) => phone.length === 10\n      ).length\n    );\n\n    if (check !== data.validates?.phones) {\n      handleChange(\"validates\", {\n        ...data.validates,\n        phones: check,\n      });\n    }\n  }, [data.phone_notices, data.phone_cell, data.phone_office]);\n\n  return (\n    <>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono para recados</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_notices}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_notices\", target.value);\n                }\n              }}\n            />\n          </div>\n          {data.phone_notices && data.phone_notices.length !== 10 && (\n            <small>\n              <span className=\"text-orange\">Telefono a 10 numeros</span>\n            </small>\n          )}\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono personal / whatsApp</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_cell}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_cell\", target.value);\n                }\n              }}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono del trabajo</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_office}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_office\", target.value);\n                }\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport moment from \"moment\";\n\nconst ListOfSalesComponent = (props) => {\n  const { sales } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Total</th>\n          <th>Orden</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {sales.map((sale) => {\n          return (\n            <tr key={sale.id}>\n              <th>#{sale.id}</th>\n              <td>$ {sale.total.toFixed(2)}</td>\n              <td>#{sale.pedido}</td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(sale.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfSalesComponent;\n","import moment from \"moment\";\n\nexport default function Dashboard({ analytics, metadata }) {\n  const { purchases, exams, brands, orders, suppliers } = analytics;\n  const { created_at, created, updated, updated_at } = metadata;\n\n  return (\n    <div className=\"row\">\n      {brands ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-orange\">\n            <div className=\"inner\">\n              <h5>{brands}</h5>\n\n              <p>Marcas</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-shopping-bag\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {suppliers ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-indigo\">\n            <div className=\"inner\">\n              <h5>{suppliers}</h5>\n\n              <p>Laboratorio</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-building\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {purchases ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-success\">\n            <div className=\"inner\">\n              <h5>{purchases}</h5>\n\n              <p>Compras</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-money-bill\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {exams ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-info\">\n            <div className=\"inner\">\n              <h5>{exams}</h5>\n\n              <p>Examenes</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-notes-medical\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {orders ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-warning\">\n            <div className=\"inner\">\n              <h5>{orders}</h5>\n\n              <p>Pedidos</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-shopping-basket\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {created_at && (\n        <div className=\"col\">\n          <div className=\"small-box bg-primary\">\n            <div className=\"inner\">\n              <h5>\n                {moment().diff(created_at, \"days\") >= 0\n                  ? created_at.format(\"DD/MMMM/Y\")\n                  : \"--/--/--\"}\n              </h5>\n\n              <p>Registrado</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-calendar\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              {moment().diff(updated_at, \"days\") >= 0\n                ? `Modificado: ${updated_at.format(\"DD/MMMM/Y\")}`\n                : \"Modificado --/--/--\"}\n            </a>\n          </div>\n        </div>\n      )}\n\n      {created && (\n        <div className=\"col\">\n          <div className=\"small-box bg-primary\">\n            <div className=\"inner text-capitalize\">\n              <h5 className=\"text-truncate\">{created}</h5>\n\n              <p>Registrado por</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-user\"></i>\n            </div>\n            <a\n              href=\"#details\"\n              className=\"small-box-footer text-xs text-truncate text-capitalize\"\n            >\n              Modificado: {updated}\n            </a>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport moment from \"moment\";\n\nconst ListOfBrandsComponent = (props) => {\n  const { brands } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>Nombre</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {brands.map((brand) => {\n          return (\n            <tr key={brand.id}>\n              <td className=\"text-uppercase\">{brand.name}</td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(brand.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfBrandsComponent;\n","const handleStatusString = (status) => {\n  switch (status) {\n    case 0:\n      return \"procesando\";\n    case 1:\n      return \"laboratorio\";\n    case 2:\n      return \"bicelacion\"; \n    case 3:\n      return \"terminado\";\n    case 4:\n      return \"entregado\";\n    default:\n      return \"garantia\";\n  }\n};\nconst getStatusType = [\n  \"procesando\",\n  \"laboratorio\",\n  \"bicelacion\",\n  \"terminado\",\n  \"entregado\",\n];\nconst handleDeleteOrder = (order, options, _delete) => {\n  if (order.id) {\n    if (order.estado) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El pedido tiene un proceso avanzado\",\n        icon: \"warning\",\n      });\n      return false;\n    }\n    if (order.nota) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"No se puede eliminar un pedido con una venta activa\",\n        icon: \"warning\",\n      });\n      return false;\n    }\n\n    window.Swal.fire({\n      text: `¿Esta seguro de eliminar el pedido ${order.id}?`,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss && _delete) {\n        _delete({\n          id: order.id,\n          options,\n        });\n        console.log(\"[Orus System] Eliminando pedido: \" + order.id);\n        return true;\n      }\n    });\n    return false;\n  }\n};\n\nconst handleSaveOrder = (id, data, options, _save, _erase) => {\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `¿Esta seguro de actualizar el pedido ${id}?`\n      : \"¿Esta seguro de crear un nuevo pedido?\",\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        data,\n        id,\n        options,\n      });\n      if (_erase) _erase();\n      removeDataTemporary(data.contact_id);\n    }\n  });\n};\n\nconst getDataTemporary = (field) => {\n    const data = JSON.parse(localStorage.getItem(\"OrusSystem\") ?? \"\");\n\n    if (!data.orders) {\n      data.orders = [];\n    }\n\n    return field ? data.orders : data;\n  },\n\n\n  addDataTemporary = (data) => {\n    const local = getDataTemporary();\n    let localToSave = {\n      ...local,\n      orders: local.orders.filter((item) => item.id !== data.id),\n    };\n\n    localToSave.orders.push(data);\n    // localStorage.setItem(\"OrusSystem\", JSON.stringify(localToSave));\n  },\n  removeDataTemporary = (id, fn) => {\n    // const local = getDataTemporary(),\n    //   data = {\n    //     ...local,\n    //     orders: local.orders.filter((item) => item.id !== id),\n    //   };\n    // localStorage.setItem(\"OrusSystem\", JSON.stringify(data));\n    if (fn) fn();\n  },\n  getDataOneItem = (id) => {\n    const local = getDataTemporary(),\n      data = local.orders.filter((item) => item.id === id);\n      if(data){\n\n      }\n    return data[0] ?? {};\n  };\n\nconst toExport = {\n  handleStatusString,\n  handleDeleteOrder,\n  handleSaveOrder,\n  getDataTemporary,\n  addDataTemporary,\n  removeDataTemporary,\n  getDataOneItem,\n  getStatusType,\n};\n\nexport default toExport;\n","import React from \"react\";\nimport moment from \"moment\";\nimport helper from \"../helpers\";\n\nconst ListOfOrdersComponent = (props) => {\n  const { orders } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Folio LAB</th>\n          <th>Nota</th>\n          <th>Estado</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {orders.map((order) => {\n          return (\n            <tr key={order.id}>\n              <th>#{order.id}</th>\n              <td>{order.order_foreing ? `#${order.order_foreing}` : \"--\"}</td>\n              <td>{order.nota ? `#${order.nota}` : \"--\"}</td>\n              <td className=\"text-uppercase\">\n                <span className=\"badge badge-secondary\">\n                  {helper.handleStatusString(order.status)}\n                </span>\n              </td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(order.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfOrdersComponent;\n","import { useState } from \"react\";\nimport moment from \"moment\";\n\nexport default function List(props) {\n  const {\n    exams = [],\n    allSelect = false,\n    handleSelectedExam: _handleSelectedExam,\n  } = props;\n\n  const [select, setSelect] = useState(\"\");\n\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th scope=\"col\"></th>\n          <th scope=\"col\">Folio</th>\n          <th scope=\"col\">Registrado</th>\n          <th scope=\"col\">Estado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {!exams.length ? (\n          <tr>\n            <th colSpan=\"4\" className=\"text-center\">\n              <i className=\"fas fa-info-circle mr-1\"></i>\n              No hay registros\n            </th>\n          </tr>\n        ) : null}\n        {exams.map((row) => {\n          return (\n            <tr\n              key={row.id}\n              className={\n                moment(new Date()).isSame(moment(row.created_at), \"day\")\n                  ? \"text-primary\"\n                  : \"\"\n              }\n            >\n              <td>\n                <div className=\"icheck-primary\">\n                  {_handleSelectedExam ? (\n                    <>\n                      <input\n                        type=\"checkbox\"\n                        name={\"exam_\" + row.id}\n                        id={\"exam_\" + row.id}\n                        defaultValue={row.id}\n                        onChange={({ target }) => {\n                          if (target.checked) {\n                            setSelect(row.id);\n                            _handleSelectedExam(row);\n                          } else {\n                            setSelect(\"\");\n                          }\n                        }}\n                        disabled={!allSelect}\n                        checked={select === row.id}\n                      />\n                      <label htmlFor={\"exam_\" + row.id}></label>\n                    </>\n                  ) : null}\n                </div>\n              </td>\n              <th scope=\"row\">\n                <span className=\"text\">#{row.id}</span>\n              </th>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(row.created_at).fromNow()}\n              </td>\n              <td>\n                {row.status ? (\n                  <span className=\"badge badge-success\">\n                    <i className=\"fas fa-check\"></i> Terminado\n                  </span>\n                ) : (\n                  <span className=\"badge badge-secondary\">\n                    <i className=\"fas fa-hourglass\"></i> Activo\n                  </span>\n                )}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n","import ListExam from \"../views/List\";\n\nexport default function List({ showBottons = false, exams = [] }) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title text-indigo text-bold\">\n          <i className=\"fas fa-notes-medical mr-1\"></i>\n          Examenes\n        </h5>\n        {exams.length ? (\n          <ListExam\n            allSelect={true}\n            exams={exams}\n            handleSelectedExam={(examSelect) => {\n            }}\n          />\n        ) : (\n          <div className=\"alert alert-info mt-5\">\n            <h5>\n              <i className=\"fas fa-info-circle mr-1\"></i>\n              Aun no hay examenes para este contacto\n            </h5>\n          </div>\n        )}\n      </div>\n      {showBottons && (\n        <div className=\"card-footer text-right\">\n          <div className=\"btn-group\">\n            <button className=\"btn btn-secondary\">Nuevo</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","function ModalComponents({\n  title = \"confirmación\",\n  body,\n  handleCancel: _handleCancel,\n}) {\n  const handleClose = () => {\n    if (_handleCancel) _handleCancel();\n  };\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-dark text-bold text-capitalize\">\n              {title}\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">{body}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ModalComponents;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\n//Components\nimport Personal from \"./views/Personal\";\nimport Domicilio from \"./views/Address\";\nimport Telefono from \"./views/Phones\";\nimport ListSales from \"../Sales/views/listOfSales_delete\";\nimport Dashboard from \"./Dashboard\";\nimport ListBrands from \"../Store/views/listOfBrands\";\nimport ListOrders from \"../Order/views/listOfOrders\";\nimport CardExams from \"../Exam/cards/List\";\nimport Confirm from \"../../layouts/modal\";\nimport useContact from \"../../hooks/useContact\";\nimport helper from \"./helper\";\nimport Activitys from \"../Activitys\";\n\nconst initialState = {\n  id: 0,\n  name: \"\",\n  rfc: \"\",\n  gender: \"male\",\n  email: \"\",\n  type: 0,\n  business: 0,\n  birthday: moment(),\n  phone_notices: \"\",\n  phone_cell: \"\",\n  phone_office: \"\",\n  age: \"\",\n  address_street: \"\",\n  address_neighborhood: \"\",\n  address_location: \"Colima\",\n  address_state: \"Colima\",\n  address_zip: \"\",\n  done: {\n    purchases: [],\n    brands: [],\n    supplier_of: [],\n    orders: [],\n    exams: [],\n  },\n  analytics: {\n    purchases: 0,\n    exams: 0,\n    brands: 0,\n    suppliers: 0,\n    orders: 0,\n  },\n  metadata: {\n    created_at: \"\",\n    updated_at: \"\",\n    deleted_at: \"\",\n    created: \"\",\n    updated: \"--\",\n  },\n  validates: {\n    name: false,\n    email: false,\n    birthday: false,\n    phones: false,\n  },\n  activity: [],\n  loading: false,\n};\n\n/**\n * DEFAULT COMPONENT\n */\nexport default function AddContact(props) {\n  const { id } = props.match.params;\n  const { handleNewOrEdit: _handleNewOrEdit, showModal = false } = props;\n  const _contacts = useContact();\n  const [contact, setContact] = useState(initialState);\n  const {\n    done: { purchases, brands, supplier_of, orders, exams },\n    analytics,\n    metadata,\n  } = contact;\n  const history = useHistory();\n  let btn_enabled =\n    Object.values(contact.validates).filter((val) => val).length === 4;\n\n  // Functions\n  const handleChangeData = (key, value) => {\n    if (!key) return;\n\n    if (contact[key] === value) {\n      return;\n    }\n\n    setContact({\n      ...contact,\n      [key]: value,\n    });\n  };\n  const handleSaveContact = () => {\n    const data = {\n      id: contact.id,\n      name: contact.name,\n      rfc: contact.rfc,\n      gender: contact.gender,\n      email: contact.email,\n      type: contact.type,\n      business: contact.business,\n      birthday: contact.birthday.format(\"YYYY/MM/DD\"),\n      telnumbers: {\n        notices: contact.phone_notices,\n        cell: contact.phone_cell,\n        office: contact.phone_office,\n      },\n      domicilio: {\n        street: contact.address_street,\n        neighborhood: contact.address_neighborhood,\n        location: contact.address_location,\n        state: contact.address_state,\n        zip: contact.address_zip,\n      },\n    };\n\n    window.Swal.fire({\n      title: \"Contactos\",\n      text: data.id\n        ? \"¿Desea actualizar a este contacto?\"\n        : \"¿Desea crear un nuevo contacto?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonText: data.id ? \"Actualizar\" : \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        _contacts.saveContact(data).then((res) => {\n          if (res?.id) {\n            console.log(\"[Orus System] Create contatc successfully\", res.id);\n            _handleNewOrEdit();\n            history.push(\"/contactos\");\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      _contacts.getContact(parseInt(id)).then((data) => {\n        processData(data, setContact);\n      });\n    }\n  }, [id]);\n\n  return (\n    <>\n      {contact.id ? (\n        <Dashboard analytics={analytics} metadata={metadata} />\n      ) : null}\n\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          {metadata.deleted_at ? (\n            <div className=\"alert alert-warning\">\n              <h4 className=\"alert-heading\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Precaucion!\n              </h4>\n              <p>\n                Este contacto fue eliminado por {contact.updated?.name} el{\" \"}\n                {moment(contact.deleted_at).format(\"LLLL\")}\n              </p>\n            </div>\n          ) : null}\n          <div className=\"card card-indigo card-outline\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title text-indigo\">\n                <i className=\"fas fa-address-book mr-1\"></i>\n                {contact.id ? (\n                  <label>\n                    Editar contacto\n                    <span className=\"badge bg-indigo ml-2\">{contact.id}</span>\n                  </label>\n                ) : (\n                  <label>Registrar nuevo contacto</label>\n                )}\n              </h3>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                  Datos personales\n                </h6>\n                <Personal\n                  data={contact}\n                  handleChange={handleChangeData}\n                  fn={_contacts}\n                />\n              </div>\n              <div className=\"row mt-5 border-top pt-5\">\n                <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                  Medios de contacto <span className=\"text-orange\">*</span>\n                  {!contact.validates.phones && (\n                    <small className=\"d-block w-100\">\n                      <span className=\"text-orange\">\n                        Ingrese por lo menos un telefono\n                      </span>\n                    </small>\n                  )}\n                </h6>\n                <Telefono data={contact} handleChange={handleChangeData} />\n              </div>\n              {!contact.type ? (\n                <div className=\"row mt-5 border-top pt-5\">\n                  <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                    Domicilios del contacto\n                  </h6>\n                  <Domicilio\n                    data={contact}\n                    domicilios={\n                      contact.address ?? {\n                        calle: \"\",\n                        colonia: \"\",\n                        municipio: \"\",\n                        estado: \"\",\n                        cp: \"\",\n                      }\n                    }\n                    handleChange={handleChangeData}\n                  />\n                </div>\n              ) : null}\n            </div>\n            <div className=\"card-footer\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <div className=\"btn-group float-right\" role=\"group\">\n                    <button\n                      className=\"btn btn-default\"\n                      type=\"button\"\n                      onClick={() => {\n                        history.push(\"/contactos\");\n                        _handleNewOrEdit();\n                      }}\n                    >\n                      <i\n                        className={\n                          contact.id\n                            ? \"fas fa-arrow-left mr-2\"\n                            : \"fas fa-ban mr-2\"\n                        }\n                      ></i>\n                      <strong>{contact.id ? \"Cerrar\" : \"Cancelar\"}</strong>\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"btn bg-indigo\"\n                      onClick={() => handleSaveContact()}\n                      disabled={!btn_enabled}\n                    >\n                      <i className=\"fas fa-save mr-1\"></i>\n                      {contact.id ? \"Actualizar\" : \"Guardar\"}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            {contact.loading && (\n              <div className=\"overlay dark\">\n                <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      {contact.id ? (\n        <div className=\"content\" id=\"details\">\n          <div className=\"row\">\n            {!contact.type && (\n              <div className=\"col\">\n                <CardExams exams={exams} />\n              </div>\n            )}\n\n            {purchases.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-money-bill mr-1\"></i>\n                      Compras\n                    </h5>\n                    <ListSales sales={purchases} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {brands.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-copyright mr-1\"></i>\n                      Marcas\n                    </h5>\n                    <ListBrands brands={brands} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {supplier_of.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-building mr-1\"></i>\n                      Laboratorio\n                    </h5>\n                    <ListOrders orders={supplier_of ?? []} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {orders.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-shopping-basket mr-1\"></i>\n                      Pedidos\n                    </h5>\n                    <ListOrders orders={orders ?? []} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n          </div>\n          {Boolean(contact.activity.length) && (\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <Activitys data={contact.activity} />\n              </div>\n            </div>\n          )}\n        </div>\n      ) : null}\n      {showModal && (\n        <Confirm body={dataBodyConfirm(10)} handleCancel={() => {}} />\n      )}\n    </>\n  );\n}\n\nfunction processData(data, setData) {\n  if (data) {\n    const birthday = moment(data.metadata?.birthday);\n    const today = moment();\n    const diff = today.diff(birthday, \"days\");\n\n    setData({\n      id: data.id,\n      name: data.name?.toLowerCase(),\n      rfc: data.rfc?.toUpperCase(),\n      gender: data.metadata?.gender ? data.metadata?.gender : \"male\",\n      email: data.email?.toLowerCase(),\n      type: data.type,\n      business: data.business,\n      birthday: diff > 0 ? birthday : today,\n      phone_notices: data.phones?.notices,\n      phone_cell: data.phones?.cell,\n      phone_office: data.phones?.office,\n      age: data.age ?? 0,\n      address_street: data.address?.street.toLowerCase(),\n      address_neighborhood: data.address?.neighborhood.toLowerCase(),\n      address_location: data.address?.location.toLowerCase(),\n      address_state: data.address?.state.toLowerCase(),\n      address_zip: data.address?.zip.toLowerCase(),\n      done: {\n        purchases: data.purchases,\n        brands: data.brands,\n        supplier_of: data.supplier_of,\n        orders: data.orders,\n        exams: data.exams,\n      },\n      analytics: {\n        purchases: data.purchases_count,\n        exams: data.exams_count,\n        brands: data.brands_count,\n        suppliers: data.suppliers_count,\n        orders: data.orders_count,\n      },\n      metadata: {\n        created_at: data.created_at ? moment(data.created_at) : moment(),\n        updated_at: data.updated_at ? moment(data.updated_at) : moment(),\n        deleted_at: data.deleted_at ?? \"\",\n        created: data.created?.username.toLowerCase() ?? \"\",\n        updated: data.updated?.username.toLowerCase() ?? \"--\",\n      },\n      validates: {\n        name: data.name?.length > 5,\n        email: helper.isEmail(data.email),\n        birthday: Boolean(moment().diff(data.metadata?.birthday, \"days\") > 0),\n        phones: Boolean(\n          Object.values(data.phones ?? {}).filter(\n            (phone) => phone.length === 10\n          ).length\n        ),\n      },\n      activity: data.activity ?? [],\n      loading: false,\n    });\n  }\n}\n\nfunction dataBodyConfirm(id_exam) {\n  return (\n    <div>\n      <p className=\"text-center\">¿Realmente desea ver el examen?</p>\n      <div className=\"text-center\">\n        <Link to={`/consultorio/${id_exam}`} className=\"btn btn-primary\">\n          Confirmar\n        </Link>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport { ContactContext } from \"../context/ContactContext\";\nimport ToolsBar from \"../components/Contacts/ToolsBar\";\nimport Inbox from \"../components/Contacts/Inbox\";\nimport Add from \"../components/Contacts/Add\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n};\n\nexport default function ContactsComponent(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    newOrEdit: null,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]);\n\n  return (\n    <ContactContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <ToolsBar\n          newOrEdit={state.newOrEdit}\n          handleNewOrEdit={() =>\n            setState({\n              ...state,\n              newOrEdit: !state.newOrEdit,\n            })\n          }\n        />\n        {typeof state.newOrEdit === \"boolean\" ? (\n          <div className=\"col-sm-12 col-md-8 col-lg-10\">\n            {state.newOrEdit ? (\n              <Add\n                {...props}\n                handleNewOrEdit={() =>\n                  setState({ ...state, newOrEdit: !state.newOrEdit })\n                }\n              />\n            ) : (\n              <Inbox />\n            )}\n          </div>\n        ) : (\n          <p>Loading component</p>\n        )}\n      </div>\n    </ContactContext.Provider>\n  );\n}\n","import { useState, useContext } from \"react\";\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n//import helper from \"../helpers\";\n\nexport default function BranchsListComponent() {\n\n  const [data, setData] = useState({\n    showForm: false,\n    id: 0,\n    name: \"\",\n    address: \"\",\n    phone: \"\",\n  });\n  \n/*   const options = {\n    page: 1,\n    name: \"branches\",\n    itemsPage: 10,\n  }; */\n\n  const configContext = useContext(ConfigContext);\n\n  const branches = configContext.data.filter((item)=>item.name === 'branches');\n\n  //Actions\n  const handleUpdateConfig = ({ id, values, data }) => {\n      setData({\n        ...data,\n        showForm: true,\n        id,\n        //TODO: Destructuramoos data, Cambiamos values por data, validamos si existen [name, address, phone] evitar toString //\n        name: data.name?.toString().toLowerCase(),\n        address: data.address?.toString().toLowerCase(),\n        phone: data.phone?.toString().toLowerCase(),\n      });\n    },\n\n    handleCancelForm = () =>\n      setData({\n        ...data,\n        showForm: false,\n        id: 0,\n        name: \"\",\n        address: \"\",\n        phone: \"\",\n      }),\n\n    handleNewBranch = () => setData({ ...data, showForm: true }),\n\n    handleChangeValue = ({ name, value }) => {\n      setData({\n        ...data,\n        [name]: value.toString().toLowerCase(),\n      });\n    },\n\n    handleSendDataForm = (e) => {\n      e.preventDefault();\n    };\n\n\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title d-block mb-2\">\n          <i className=\"fas fa-store mr-1\"></i>\n          Sucursales\n        </h5>\n\n        {data.showForm ? (\n          <form className=\"card-text m-2 mt-4\" onSubmit={handleSendDataForm}>\n            <div className=\"form-group\">\n              <label>Nombre de la sucursal</label>\n              <input\n                type=\"text\"\n                placeholder=\"Escriba el nombre de la sucursal\"\n                className=\"form-control\"\n                name=\"name\"\n                defaultValue={data.name}\n                onChange={({ target }) => handleChangeValue(target)}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Domicilio</label>\n              <input\n                type=\"text\"\n                placeholder=\"Escriba el domicilio de la sucursal\"\n                className=\"form-control\"\n                name=\"address\"\n                defaultValue={data.address}\n                onChange={({ target }) => handleChangeValue(target)}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Telefono</label>\n              <input\n                type=\"phone\"\n                placeholder=\"Escriba el telefono de la sucursal\"\n                className=\"form-control\"\n                name=\"phone\"\n                defaultValue={data.phone}\n                onChange={({ target }) => handleChangeValue(target)}\n                maxLength={10}\n              />\n            </div>\n            <div className=\"form-group text-right\">\n              <button\n                type=\"button\"\n                className=\"btn btn-link\"\n                onClick={handleCancelForm}\n              >\n                Cancelar\n              </button>\n              <button type=\"submit\" className=\"btn btn-dark ml-2\">\n                Guardar\n              </button>\n            </div>\n          </form>\n        ) : (\n          <div className=\"table-responsive\">\n            <table className=\"table table-striped table-sm\">\n              <thead>\n                <tr>\n                  <th>Nombre</th>\n                  <th>Domicilio</th>\n                  <td>\n                    <span className=\"sr-only\">Acciones</span>\n                  </td>\n                </tr>\n              </thead>\n              <tbody>\n                {branches.map((branch) => (\n                  branch.name !== 'bank' ? (\n                    <tr key={branch.id}>\n                    <td className=\"text-capitalize\">{branch.data.name}</td>\n                    <td className=\"text-truncate text-capitalize\">\n                      {branch.data.address ?? \"--\"}\n                    </td>\n                    <td className=\"text-right\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-sm btn-primary ml-1\"\n                        onClick={() => handleUpdateConfig(branch)}\n                      >\n                        <i className=\"fas fa-edit\"></i>\n                      </button>\n                    </td>\n                  </tr>\n                  ) : null\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n      <div className=\"card-footer text-right\">\n        <button\n          className=\"btn btn-primary btn-sm\"\n          disabled={data.showForm}\n          onClick={handleNewBranch}\n        >\n          <i className=\"fas fa-plus\"></i>\n        </button>\n      </div>\n    </div>\n  );\n}\n","import { useState, useContext } from \"react\";\nimport BranchsList from '../components/Tools/views/Branchs';\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function ToolsComponent(){\n\n  const { auth } = useContext(AuthContext);\n\n  const varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\n  const [state, setState] = useState({\n    server: varLocalStorage.host ? varLocalStorage.host : \"\",\n    company:  varLocalStorage.company ? varLocalStorage.company : \"\",\n    email: auth.email ? auth.email : \"\",\n    name: auth.name ? auth.name : \"\",\n    username: auth.username ? auth.username : \"\",\n    password: \"\",\n    category_list: [],\n  });\n\n  const clickSave = () => {\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    varLocalStorage.company = state.company;\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage));\n  },\n\n  clickSaveUser = () => {\n\n    //TODO: Ejecutar llamada a la API para actualizar el usuario\n\n\n    //Variables en localStorage\n    /* let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    varLocalStorage.email = state.email;\n    varLocalStorage.name = state.name;\n    varLocalStorage.username = state.username;\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage)); */\n  },\n  \n  catchInputs = (e) => {\n    const { name, value } = e.target;\n    setState({\n      [name]: value.toLowerCase(),\n    });\n  };\n\n  return (\n    <div className=\"row\" style={{height:'100vh'}}>\n      <div className=\"col-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Generales</h5>\n            <p>&nbsp;</p>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-server\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Servidor\"\n                name=\"server\"\n                value={state.server}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-building\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control text-capitalize\"\n                placeholder=\"Nombre de la empresa\"\n                name=\"company\"\n                value={state.company}\n                onChange={catchInputs}\n              />\n            </div>\n          </div>\n          <div className=\"card-footer text-right\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={clickSave}\n            >\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n\n\n      <div className=\"col-lg-6 col-sm-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Usuario</h5>\n            <p>&nbsp;</p>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-at\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Email\"\n                name=\"email\"\n                value={state.email}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-user-tag\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control text-capitalize\"\n                placeholder=\"Nombre completo\"\n                name=\"name\"\n                value={state.name}\n                onChange={catchInputs}\n              />\n            </div>\n            <hr />\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-user-check\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Usuario\"\n                name=\"username\"\n                value={state.username}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-lock\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Contraseña\"\n                name=\"password\"\n                value={state.password}\n                onChange={catchInputs}\n              />\n            </div>\n          </div>\n          <div className=\"card-footer text-right\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={clickSaveUser}\n            >\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"col-lg-6 col-md-12 col-sm-12\">\n        <BranchsList />\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const ExamContext = createContext(null);\nexport const Exams = () => useContext(ExamContext);\n","import DatePicker, { registerLocale } from \"react-datepicker\";\nimport moment from \"moment\";\n\nimport SideBar from \"../../pages/partials/SideBar\";\nimport { Exams } from \"../../context/ExamContext\";\nimport { Config } from \"../../context/ConfigContext\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function ToolBar({ newOrEdit, handleNewOrEdit }) {\n  const context = Exams();\n  const config = Config();\n  const branches = config.data?.filter((b = {}) => b.name === \"branches\");\n  const date = context.options?.date ? moment(context.options.date) : moment();\n\n  return (\n    <div className=\"col-sm-12 col-md-2 d-print-none\">\n      <button\n        className=\"btn bg-info btn-block mb-3\"\n        type=\"button\"\n        disabled={newOrEdit}\n        onClick={handleNewOrEdit}\n      >\n        <i className=\"fas fa-plus mr-1\"></i>\n        Nuevo examen\n      </button>\n\n      <SideBar title=\"Filtros\">\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"orderby\">Ordenar por</label>\n          <select\n            className=\"form-control\"\n            id=\"orderby\"\n            defaultValue={context.options?.orderby}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  orderby: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"created_at\">Fecha de registro</option>\n            <option value=\"updated_at\">Fecha de modificacion</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"date\">Fecha</label>\n          <DatePicker\n            className={`form-control`}\n            locale=\"es\"\n            selected={new Date(date.format(\"YYYY/MM/DD\"))}\n            dateFormat=\"dd/MM/yyyy\"\n            maxDate={new Date()}\n            placeholderText=\"Seleccione una fecha\"\n            onSelect={(date) => {\n              if (date) {\n                date = date.toLocaleDateString(\"es-MX\");\n                date = moment(date, \"DD/MM/YYYY\");\n\n                if (date.isValid()) {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      date: date.format(\"YYYY/MM/DD\"),\n                    },\n                  });\n                }\n              }\n            }}\n            onChange={(date) => {\n              if (date) {\n                date = date.toLocaleDateString(\"es-MX\");\n                date = moment(date, \"DD/MM/YYYY\");\n\n                if (date.isValid()) {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      date: date.format(\"YYYY/MM/DD\"),\n                    },\n                  });\n                }\n              }\n            }}\n          />\n          <button\n            type=\"button\"\n            className=\"btn btn-info btn-block text-bold mt-1\"\n            onClick={(e) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  date: \"\",\n                },\n              });\n            }}\n          >\n            <i className=\"fas fa-trash mr-1\"></i>\n            Borrar fecha\n          </button>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"order\">Mostrar por</label>\n          <select\n            className=\"form-control\"\n            id=\"order\"\n            value={context.options?.order}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  order: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"asc\">Antiguos</option>\n            <option value=\"desc\">Recientes</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"itemsPage\">Numero de examenes</label>\n          <select\n            className=\"form-control\"\n            id=\"itemsPage\"\n            value={context.options?.itemsPage}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  itemsPage: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"25\">ver 25</option>\n            <option value=\"50\">ver 50</option>\n            <option value=\"75\">ver 75</option>\n            <option value=\"100\">ver 100</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"status\">Estado</label>\n          <select\n            className=\"form-control\"\n            id=\"status\"\n            value={context.options?.status}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  status: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"\">-- Todos --</option>\n            <option value=\"1\">Solo terminados</option>\n            <option value=\"0\">En proceso</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"status\">Sucursales</label>\n          <select\n            className=\"form-control text-capitalize\"\n            id=\"branch\"\n            value={context.options?.branch}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  branch: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"all\">-- Todas --</option>\n            {branches?.map((branch) => (\n              <option value={branch.id} key={branch.id}>\n                {branch.data?.name}\n              </option>\n            ))}\n          </select>\n        </li>\n      </SideBar>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useExam() {\n  const getExams = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"exams\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contacts list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n\n  const getExam = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"exams\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contact in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n\n  const deleteExam = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"exams\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete contact in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n\n\n  const saveExam = async (data) => {\n\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"exams\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\"[Orus System] Catch when update exam in hook\");\n          return err;\n        });\n    } else {\n      const url = setUrl(\"exams\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\"[Orus System] Catch when create exam in hook\");\n          return err;\n        });\n    }\n  };\n\n  return {\n    getExams,\n    getExam,\n    deleteExam,\n    saveExam,\n  };\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\n\n//Context\nimport { Exams } from \"../../context/ExamContext\";\n\n//Components\nimport Inbox from \"../../layouts/list_inbox\";\nimport useExam from \"../../hooks/useExam\";\n\nexport default function InboxExams() {\n  const context = Exams();\n  const _exam = useExam();\n  const history = useHistory();\n  const [state, setState] = useState({\n    list: [],\n    meta: {},\n    loading: false,\n    examSelected: {},\n  });\n\n  // Functions\n  const handleLoadExams = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n\n    _exam.getExams(context.options).then((res) => {\n      if (res.data) {\n        setState({\n          ...state,\n          list: res.data,\n          meta: res.meta,\n          loading: false,\n          examSelected: {},\n        });\n      }\n    });\n  };\n  const handleStatus = (exam) => {\n    if (exam?.id) {\n      _exam\n        .saveExam({\n          id: exam.id,\n          status: !exam.status,\n          contact_id: exam.customer?.id,\n        })\n        .then((res) => {\n          if (res.id) handleLoadExams();\n          else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.log(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n    } else if (state.examSelected?.id) {\n      _exam\n        .saveExam({\n          id: state.examSelected.id,\n          status: !state.examSelected.status,\n          contact_id: state.examSelected.customer?.id,\n        })\n        .then((res) => {\n          if (res.id) handleLoadExams();\n          else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.log(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n    } else {\n      console.error(\n        \"[Orus System] When get id of exam:\",\n        exam,\n        state.examSelected\n      );\n      window.Swal.fire({\n        title: \"Consultorio\",\n        text: \"Lo sentimos no existe un examen seleccionado\",\n        icon: \"warning\",\n        showConfirmButton: false,\n        timer: 3000,\n      });\n    }\n  };\n\n  useEffect(() => {\n    handleLoadExams();\n  }, [context.options]);\n\n  return (\n    <Inbox\n      title=\"Lista de examenes\"\n      icon=\"notes-medical\"\n      color=\"info\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.examSelected?.id}\n      handlePagination={(page) => {\n        if (page) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              page,\n            },\n          });\n        }\n      }}\n      handleSearch={(search) => {\n        if (search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search,\n              page: 1,\n            },\n          });\n        } else if (context.options.search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search: \"\",\n              page: 1,\n            },\n          });\n        }\n      }}\n      handleDeleteItem={() => {\n        if (state.examSelected?.id) {\n          window.Swal.fire({\n            title: \"Consultorio\",\n            text: \"¿Desea eliminar el examen?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Eliminar\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              _exam.deleteExam(state.examSelected.id).then(() => {\n                handleLoadExams();\n              });\n            } else {\n              setState({\n                ...state,\n                examSelected: {},\n              });\n            }\n          });\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un examen seleccionado\",\n            icon: \"error\",\n          });\n        }\n      }}\n      handleEditItem={() => {\n        if (state.examSelected?.id) {\n          history.push(`consultorio/${state.examSelected.id}`);\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un examen seleccionado\",\n            icon: \"error\",\n          });\n        }\n      }}\n      handleSync={handleLoadExams}\n      handleStatus={handleStatus}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Estado</th>\n            <th>ESF</th>\n            <th>CIL</th>\n            <th>EJE</th>\n            <th>ADC</th>\n            <th>MED</th>\n            <th>DP</th>\n            <th>ALT</th>\n            <th>\n              {context.options?.orderby === \"created_at\"\n                ? \"Registrado\"\n                : \"Actualizado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.list?.length ? (\n            <>\n              {state.list?.map((exam) => {\n                return (\n                  <tr key={exam.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        id={\"exam_\" + exam.id}\n                        checked={\n                          state.examSelected?.id === exam.id ? true : false\n                        }\n                        disabled={exam.estado || exam.orders?.length}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            examSelected: target.checked ? exam : \"\",\n                          });\n                        }}\n                      />\n                      <label\n                        htmlFor={\"exam_\" + exam.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td className=\"mailbox-name text-capitalize text-truncate\">\n                      <a\n                        href=\"#edit\"\n                        onClick={(e) => {\n                          e.preventDefault();\n                          history.push(`consultorio/${exam.id}`);\n                        }}\n                      >\n                        <span\n                          className={\n                            exam.status || exam.orders?.length\n                              ? \"text-muted\"\n                              : \"text-dark text-bold\"\n                          }\n                        >\n                          <i className=\"fas fa-user text-sm mr-2\"></i>\n                          {exam.customer?.name.toLowerCase()}\n                        </span>\n                      </a>\n                    </td>\n                    <td\n                      className=\"text-center\"\n                      style={{ cursor: \"pointer\" }}\n                      onClick={() => handleStatus(exam)}\n                    >\n                      {exam.status ? (\n                        <i\n                          className=\"fas fa-clipboard-check text-muted\"\n                          title=\"Terminado\"\n                        ></i>\n                      ) : (\n                        <i\n                          className=\"fas fa-clipboard text-info\"\n                          title=\"En proceso\"\n                        ></i>\n                      )}\n                    </td>\n                    <td>\n                      {exam.esferaod}/{exam.esferaoi}\n                    </td>\n                    <td>\n                      {exam.cilindrod}/{exam.cilindroi}\n                    </td>\n                    <td>\n                      {exam.ejeod}/{exam.ejeoi}\n                    </td>\n                    <td>\n                      {exam.adiciond}/{exam.adicioni}\n                    </td>\n                    <td>\n                      {exam.adicion_media_od}/{exam.adicion_media_oi}\n                    </td>\n                    <td>\n                      {exam.dpod}/{exam.dpoi}\n                    </td>\n                    <td>\n                      {exam.alturaod}/{exam.alturaoi}\n                    </td>\n                    <td>\n                      {moment(\n                        context.options?.orderby === \"created_at\"\n                          ? exam.created_at\n                          : exam.updated_at\n                      ).fromNow()}\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"12\">\n                No hay examenes registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Inbox>\n  );\n}\n","export default function GeneralesExam(props) {\n  const catchInputs = (e) => {\n    const { name, type, checked, value } = e.target;\n    const val = type === \"checkbox\" ? checked : value.toLowerCase();\n\n    props.handleGetData(name, val);\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"pc\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"pc\"\n              checked={props.pc}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"pc\">\n              <i className=\"fas fa-desktop\"></i> PC\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"pc_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.pc_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.pc ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"tablet\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"tablet\"\n              checked={props.tablet}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"tablet\">\n              <i className=\"fas fa-tablet-alt\"></i> Tablet\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"tablet_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.tablet_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.tablet ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"movil\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"movil\"\n              checked={props.movil}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"movil\">\n              <i className=\"fas fa-mobile-alt\"></i> Telefono\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"movil_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.movil_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.movil ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"lap\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"lap\"\n              checked={props.lap}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"lap\">\n              <i className=\"fas fa-laptop\"></i> Laptop\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"lap_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.lap_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.lap ? \"\" : \"readonly\"}\n          />\n        </div>\n      </div>\n      <div className=\"row mt-1\">\n        <div className=\"col-md-6\">\n          <ul className=\"list-group\">\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"frontal\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"frontal\"\n                  checked={props.frontal}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"frontal\">\n                  Frontal\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"occipital\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"occipital\"\n                  checked={props.occipital}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"occipital\">\n                  Occipital\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"generality\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"generality\"\n                  checked={props.generality}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"generality\">\n                  General\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"cefalea\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"cefalea\"\n                  checked={props.cefalea}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"cefalea\">\n                  Cefalea\n                </label>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div className=\"col-md-6\">\n          <ul className=\"list-group\">\n            <li className=\"list-group-item\">\n              Temporal\n              <br />\n              <div className=\"row mt-2\">\n                <div className=\"col\">\n                  <div className=\"custom-control custom-switch\">\n                    <input\n                      name=\"temporaod\"\n                      type=\"checkbox\"\n                      className=\"custom-control-input\"\n                      id=\"temporaod\"\n                      checked={props.temporaod}\n                      onChange={catchInputs}\n                    />\n                    <label className=\"custom-control-label\" htmlFor=\"temporaod\">\n                      <i className=\"fa fa-eye\"></i> Derecho\n                    </label>\n                  </div>\n                </div>\n                <div className=\"col\">\n                  <div className=\"custom-control custom-switch\">\n                    <input\n                      name=\"temporaoi\"\n                      type=\"checkbox\"\n                      className=\"custom-control-input\"\n                      id=\"temporaoi\"\n                      checked={props.temporaoi}\n                      onChange={catchInputs}\n                    />\n                    <label className=\"custom-control-label\" htmlFor=\"temporaoi\">\n                      <i className=\"fa fa-eye\"></i> Izquierdo\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              Frecuencia\n              <span className=\"badge badge-pill\">\n                <input\n                  type=\"text\"\n                  name=\"c_frecuencia\"\n                  maxLength=\"60\"\n                  className=\"form-control input-xs\"\n                  defaultValue={props.c_frecuencia ?? \"\"}\n                  onChange={catchInputs}\n                />\n              </span>\n            </li>\n            <li className=\"list-group-item\">\n              <label htmlFor=\"c_intensidad\">Intensidad</label>\n              <div className=\"row\">\n                <div className=\"col-11\">\n                  <input\n                    type=\"range\"\n                    name=\"c_intensidad\"\n                    className=\"custom-range custom-range-info\"\n                    id=\"c_intensidad\"\n                    min=\"0\"\n                    max=\"4\"\n                    defaultValue={props.c_intensidad ?? \"\"}\n                    onChange={catchInputs}\n                  />\n                </div>\n                <div className=\"col-1\">\n                  <h6>{props.c_intensidad}</h6>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { Component } from \"react\";\n\nexport default class InterrogatorioExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Interrogatorio inicial</label>\n            <textarea\n              name=\"interrogatorio\"\n              className=\"form-control\"\n              defaultValue={this.props.interrogatorio ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Cirugias oculares</label>\n            <textarea\n              name=\"coa\"\n              className=\"form-control\"\n              defaultValue={this.props.coa ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Antecedentes oculares patologicas personales</label>\n            <textarea\n              name=\"aopp\"\n              className=\"form-control\"\n              rows=\"2\"\n              defaultValue={this.props.aopp ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Antecedentes oculares patologicas familiares</label>\n            <textarea\n              name=\"aopf\"\n              className=\"form-control\"\n              rows=\"2\"\n              defaultValue={this.props.aopf ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React from \"react\";\n\nconst KeraRetExamComponent = (props) => {\n  const catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    props.onChangeInput(name, value);\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-6\">Keratometria</div>\n        <div className=\"col-6\">Retinoscopia</div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-3\">\n          <i className=\"fas fa-eye\"></i> <label>Derecho</label>\n          <input\n            type=\"text\"\n            name=\"keratometriaod\"\n            maxLength=\"12\"\n            className=\"form-control input-xs\"\n            defaultValue={props.keratometriaod ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-3\">\n          <i className=\"fas fa-eye\"></i> <label>Izquierdo</label>\n          <input\n            type=\"text\"\n            name=\"keratometriaoi\"\n            maxLength=\"12\"\n            className=\"form-control input-xs\"\n            defaultValue={props.keratometriaoi ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n          <input\n            type=\"text\"\n            name=\"rsod\"\n            maxLength=\"16\"\n            className=\"form-control\"\n            defaultValue={props.rsod ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n          <input\n            type=\"text\"\n            name=\"rsoi\"\n            maxLength=\"16\"\n            className=\"form-control\"\n            defaultValue={props.rsoi ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default KeraRetExamComponent;\n","import React, { Component } from \"react\";\n\nexport default class DiabetesExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-8\">\n            <label>Diab&eacute;tico</label>\n          </div>\n          <div className=\"col-md-4\">\n            <label>Fotocoagulaci&oacute;n laser</label>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">Fecha</div>\n          <div className=\"col-2\">Rango de glucosa</div>\n          <div className=\"col-3\">Ultimo examen</div>\n          <div className=\"col-2\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"d_fclod\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"d_fclod\"\n                checked={this.props.d_fclod}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"d_fclod\">\n                <i className=\"fa fa-eye\"></i> Derecho\n              </label>\n            </div>\n          </div>\n          <div className=\"col-2\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"d_fcloi\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"d_fcloi\"\n                checked={this.props.d_fcloi}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"d_fcloi\">\n                <i className=\"fa fa-eye\"></i> Izquierdo\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <input\n              type=\"date\"\n              name=\"d_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_time ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_media\"\n              className=\"form-control\"\n              defaultValue={this.props.d_media ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <input\n              type=\"date\"\n              name=\"d_test\"\n              className=\"form-control\"\n              defaultValue={this.props.d_test ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_fclod_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_fclod_time ?? \"\"}\n              onChange={this.catchInputs}\n              readOnly={this.props.d_fclod ? \"\" : \"readonly\"}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_fcloi_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_fcloi_time ?? \"\"}\n              onChange={this.catchInputs}\n              readOnly={this.props.d_fcloi ? \"\" : \"readonly\"}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Oftalmoscopia</label>\n            <textarea\n              name=\"oftalmoscopia\"\n              className=\"form-control\"\n              defaultValue={this.props.oftalmoscopia ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class AgudezaExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-6\">Capacidad visual</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"cvod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.cvod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"cvoi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.cvoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-md-6\">Agudeza visual (Sin lentes)</div>\n          <div className=\"col-md-6\">\n            Agudeza visual (con la graduaci&oacute;n anterior)\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"avslod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avslod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"avsloi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avsloi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"avcgaod\"\n              maxLength=\"12\"\n              className=\"form-control input-xs\"\n              defaultValue={this.props.avcgaod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"avcgaoi\"\n              maxLength=\"12\"\n              className=\"form-control input-xs\"\n              defaultValue={this.props.avcgaoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6\">Agudeza visual final</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avfod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avfod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avfoi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avfoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-4\">\n            <i className=\"fa fa-eye\"></i>\n            <i className=\"fa fa-eye\"></i> <label>Ambos</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avf2o\"\n              maxLength=\"25\"\n              className=\"form-control\"\n              defaultValue={this.props.avf2o ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class DiagnosticoExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-6\"></div>\n          <div className=\"col-md-6\">Tensi&oacute;n ocular</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            Diagnostico\n            <select\n              name=\"diagnostico\"\n              className=\"form-control\"\n              defaultValue={this.props.diagnostico ?? \"\"}\n              onChange={this.catchInputs}\n            >\n              <option value=\"Emetrope\">Em&eacute;trope</option>\n              <option value=\"hipermetropia\">Hipermetrop&iacute;a</option>\n              <option value=\"hipermetropia-astigmatismo\">\n                Hipermetrop&iacute;a y astigmatismo\n              </option>\n              <option value=\"hipermetropia-miopia\">\n                Hipermetrop&iacute;a y miop&iacute;a\n              </option>\n              <option value=\"astigmatismo-regla\">\n                Astigmatismo con la regla\n              </option>\n              <option value=\"astigmatismo-contra-regla\">\n                Astigmatismo contra la regla\n              </option>\n              <option value=\"astigmatismo-oblicuo\">Astigmatismo oblicuo</option>\n              <option value=\"astigmatismo-miopia\">\n                Astigmatismo/m&iacute;opico\n              </option>\n              <option value=\"miopia\">Miop&iacute;a</option>\n            </select>\n          </div>\n          <div className=\"col-md-3\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"presbicie\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"presbicie\"\n                checked={this.props.presbicie}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"presbicie\">\n                Presbicie\n              </label>\n            </div>\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"number\"\n              name=\"piod\"\n              min=\"0\"\n              max=\"40\"\n              step=\"1\"\n              className=\"form-control\"\n              defaultValue={this.props.piod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"number\"\n              name=\"pioi\"\n              min=\"0\"\n              max=\"40\"\n              step=\"1\"\n              className=\"form-control\"\n              defaultValue={this.props.pioi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Tratamiento oftalmico</label>\n            <textarea\n              name=\"txoftalmico\"\n              className=\"form-control\"\n              defaultValue={this.props.txoftalmico ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import { Component } from \"react\";\n\nexport default class GraduacionExamComponent extends Component {\n  render() {\n    const {\n      readOnly = false,\n      cilindrod,\n      cilindroi,\n      esferaod,\n      esferaoi,\n      ejeod,\n      ejeoi,\n      adiciond,\n      adicioni,\n      adicion_media_od,\n      adicion_media_oi,\n      dpod,\n      dpoi,\n      alturaod,\n      alturaoi,\n      lcmarca,\n      lcgod,\n      lcgoi,\n      showContactGlasses = true,\n    } = this.props;\n\n    return (\n      <>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Esfera</th>\n              <th>Cilindro</th>\n              <th>Eje</th>\n              <th>Adici&oacute;n</th>\n              <th>Adici&oacute;n media</th>\n              <th>D/P</th>\n              <th>Altura</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <i className=\"fa fa-eye mr-1\" title=\"Ojo derecho\"></i>\n                <span className=\"text-sm d-block\">Derecho</span>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"esferaod\"\n                  min=\"-20\"\n                  max=\"20\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={esferaod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{esferaod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"cilindrod\"\n                  min=\"-20\"\n                  max=\"0\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={cilindrod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{cilindrod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"ejeod\"\n                  min=\"0\"\n                  max=\"180\"\n                  step=\"1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  placeholder=\"°\"\n                  defaultValue={ejeod ? parseInt(ejeod) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{ejeod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adiciond\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adiciond ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{adiciond ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicion_media_od\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicion_media_od ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">\n                  {adicion_media_od ?? \"\"}\n                </h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"dpod\"\n                  min=\"40\"\n                  max=\"80\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={dpod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{dpod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"alturaod\"\n                  min=\"0\"\n                  max=\"35\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={alturaod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{alturaod ?? \"\"}</h5>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <i className=\"fa fa-eye ml-1\" title=\"Ojo izquierdo\"></i>\n                <span className=\"text-sm d-block\">Izquierdo</span>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"esferaoi\"\n                  min=\"-20\"\n                  max=\"20\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={esferaoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{esferaoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"cilindroi\"\n                  min=\"-20\"\n                  max=\"0\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={cilindroi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{cilindroi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"ejeoi\"\n                  min=\"0\"\n                  max=\"180\"\n                  step=\"1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  placeholder=\"°\"\n                  defaultValue={ejeoi ? parseInt(ejeoi) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{ejeoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicioni\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicioni ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{adicioni ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicion_media_oi\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicion_media_oi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">\n                  {adicion_media_oi ?? \"\"}\n                </h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"dpoi\"\n                  min=\"40\"\n                  max=\"80\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={dpoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{dpoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"alturaoi\"\n                  min=\"0\"\n                  max=\"35\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={alturaoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{alturaoi ?? \"\"}</h5>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        {showContactGlasses && (\n          <ul className=\"list-group d-print-none mt-4\">\n            <li className=\"list-group-item\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  Lente de contacto\n                  <input\n                    type=\"text\"\n                    name=\"lcmarca\"\n                    maxLength=\"70\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcmarca ?? \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n                  <input\n                    type=\"text\"\n                    name=\"lcgod\"\n                    maxLength=\"30\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcgod ? lcgod : \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n                <div className=\"col\">\n                  <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n                  <input\n                    type=\"text\"\n                    name=\"lcgoi\"\n                    maxLength=\"30\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcgoi ? lcgoi : \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n              </div>\n            </li>\n          </ul>\n        )}\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name, type, value, checked } = e.target,\n      { onChangeInput } = this.props;\n    let val = value;\n\n    if (type === \"checkbox\") val = checked;\n    if (type === \"text\") val = value.toLowerCase();\n    if (type === \"number\") {\n      if (name === \"ejeod\" || name === \"ejeoi\") {\n        val = parseInt(value);\n      } else {\n        val = parseFloat(value);\n        val = val.toFixed(2);\n        val = parseFloat(val);\n      }\n    }\n    if (onChangeInput) onChangeInput(name, val);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class ObservacionesExam extends Component {\n  render() {\n    return (\n      <>\n        <label htmlFor=\"observaciones\">Observaciones</label>\n        <textarea\n          name=\"observaciones\"\n          id=\"observaciones\"\n          className=\"form-control\"\n          defaultValue={this.props.observaciones ?? \"\"}\n          onChange={this.catchInputs}\n        ></textarea>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import moment from \"moment\";\n\nconst handleTypeInput = (key) => {\n  if (\n    key === \"pc\" ||\n    key === \"tablet\" ||\n    key === \"movil\" ||\n    key === \"lap\" ||\n    key === \"pc_time\" ||\n    key === \"tablet_time\" ||\n    key === \"movil_time\" ||\n    key === \"lap_time\" ||\n    key === \"frontal\" ||\n    key === \"occipital\" ||\n    key === \"generality\" ||\n    key === \"cefalea\" ||\n    key === \"temporaod\" ||\n    key === \"temporaoi\" ||\n    key === \"c_frecuencia\" ||\n    key === \"c_intensidad\"\n  ) {\n    return \"generales\";\n  }\n  if (\n    key === \"interrogatorio\" ||\n    key === \"coa\" ||\n    key === \"aopp\" ||\n    key === \"aopf\"\n  ) {\n    return \"interrogatorios\";\n  }\n  if (\n    key === \"keratometriaod\" ||\n    key === \"keratometriaoi\" ||\n    key === \"rsod\" ||\n    key === \"rsoi\"\n  ) {\n    return \"keraRet\";\n  }\n  if (\n    key === \"d_time\" ||\n    key === \"d_media\" ||\n    key === \"d_test\" ||\n    key === \"d_fclod\" ||\n    key === \"d_fclod_time\" ||\n    key === \"d_fcloi\" ||\n    key === \"d_fcloi_time\"\n  ) {\n    return \"diabetes\";\n  }\n  if (\n    key === \"cvod\" ||\n    key === \"cvoi\" ||\n    key === \"avslod\" ||\n    key === \"avsloi\" ||\n    key === \"avcgaod\" ||\n    key === \"avcgaoi\" ||\n    key === \"avfod\" ||\n    key === \"avfoi\" ||\n    key === \"avf2o\"\n  ) {\n    return \"agudeza\";\n  }\n  if (\n    key === \"diagnostico\" ||\n    key === \"presbicie\" ||\n    key === \"piod\" ||\n    key === \"pioi\" ||\n    key === \"txoftalmico\"\n  ) {\n    return \"diagnostico\";\n  }\n  if (\n    key === \"esferaod\" ||\n    key === \"esferaoi\" ||\n    key === \"cilindrod\" ||\n    key === \"cilindroi\" ||\n    key === \"ejeod\" ||\n    key === \"ejeoi\" ||\n    key === \"adiciond\" ||\n    key === \"adicioni\" ||\n    key === \"adicion_media_od\" ||\n    key === \"adicion_media_oi\" ||\n    key === \"dpod\" ||\n    key === \"dpoi\" ||\n    key === \"alturaod\" ||\n    key === \"alturaoi\" ||\n    key === \"lcmarca\" ||\n    key === \"lcgod\" ||\n    key === \"lcgoi\"\n  ) {\n    return \"graduacion\";\n  }\n  if (key === \"observaciones\") {\n    return \"observaciones\";\n  }\n\n  return null;\n};\nconst handleCodeName = (category) => {\n  let code = \"\";\n  if (category.parent) {\n    if (category.parent.parent) {\n      code = category.parent.parent.meta.code;\n      code += category.parent.meta.code;\n      code += category.meta.code;\n    } else {\n      code = category.parent.meta.code;\n      code += category.meta.code;\n    }\n  } else {\n    code = category.meta.code;\n  }\n\n  return code;\n};\nconst getCodeGrad = (category, esferaod, esferaoi, cilindrod, cilindroi) => {\n  const code = Object.keys(category).length ? handleCodeName(category) : null;\n\n  if (!code) return {};\n\n  let gradod = \"+000000\",\n    gradoi = \"+000000\";\n\n  if (cilindrod || esferaod) {\n    gradod = esferaod > 0 ? \"+\" : \"\";\n    gradod +=\n      esferaod.toFixed(2).toString().replace(\".\", \"\") +\n      cilindrod.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\n  }\n  if (cilindroi || esferaoi) {\n    gradoi = esferaoi > 0 ? \"+\" : \"\";\n    gradoi +=\n      esferaoi.toFixed(2).toString().replace(\".\", \"\") +\n      cilindroi.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\n  }\n\n  return {\n    code,\n    od: gradod,\n    oi: gradoi,\n  };\n};\n//Quickly save exam with a button\nconst handleSaveExam = (contact, id = 0, _save) => {\n  const examToday = contact.examenes.filter(\n    (exam) =>\n      moment(exam.created_at).diff(moment(), \"days\") === 0 || !exam.estado\n  );\n\n  if (examToday.length && !id) {\n    window.Swal.fire({\n      title: \"Examenes\",\n      text: \"Existe un examen activo o del dia\",\n      icon: \"error\",\n    });\n    console.error(\"[OrusSystem] Examenes activos:\", examToday.length);\n    return false;\n  }\n\n  //Confirmación de almacenamiento\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `¿Esta seguro de actualizar este examen?`\n      : \"¿Esta seguro de crear un nuevo examen?\",\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        id: 0,\n        data: {\n          edad: contact.edad,\n          contact_id: contact.id,\n        },\n      });\n    }\n  });\n};\n\nconst toExportActions = {\n  handleTypeInput,\n  handleCodeName,\n  getCodeGrad,\n  handleSaveExam,\n};\n\nexport default toExportActions;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport useCategory from \"../../../hooks/useCategory\";\nimport helper from \"../helpers\";\n\nexport default function RecomendationGlass(props) {\n  const [state, setState] = useState({\n    category_list: [],\n    category_list_2: [],\n    category_list_3: [],\n    category_id_1: 0,\n    category_id_2: 0,\n    category_id_3: 0,\n    category: {},\n    codesItems: {},\n  });\n  const _category = useCategory();\n  const {\n      category_id,\n      title,\n      esferaod,\n      esferaoi,\n      cilindrod,\n      cilindroi,\n      handleCodesItems,\n    } = props,\n    {\n      codesItems,\n      category_id_1,\n      category_id_2,\n      category_id_3,\n      category_list_2,\n      category_list_3,\n      category_list,\n    } = state;\n  // Functions\n  const handleCategoryChange = (e) => {\n    const { name, value } = e.target,\n      { onChangeInput: _onChangeInput } = props;\n\n    switch (name) {\n      case \"category_id_1\":\n        for (const key in category_list) {\n          if (category_list[key].id === parseInt(value)) {\n            setState({\n              ...state,\n              category_id_1: parseInt(value),\n              category_id_3: 0,\n              category_list_2: category_list[key].sons,\n              category_list_3: [],\n            });\n            break;\n          }\n        }\n        break;\n      case \"category_id_2\":\n        if (value) {\n          state.category_list_2.map((cat) => {\n            if (cat.id === parseInt(value)) {\n              setState({\n                ...state,\n                category_id_2: parseInt(value),\n                category_list_3: cat.sons,\n              });\n            }\n            return null;\n          });\n        }\n        break;\n      case \"category_id_3\":\n        _onChangeInput(parseInt(value));\n        break;\n\n      default:\n        setState({\n          ...state,\n          [name]: parseInt(value),\n        });\n        break;\n    }\n  };\n  const handleClickCategory = (e) => {\n    e.preventDefault();\n    const { onChangeInput } = props;\n    setState({\n      ...state,\n      category_list_2: [],\n      category_list_3: [],\n      category_id_1: 0,\n      category_id_2: 0,\n      category_id_3: 0,\n      category: {},\n      codesItems: {},\n    });\n    onChangeInput(0);\n  };\n  const getCategory = async (id) => {\n    if (id) {\n      _category.getCategory(id).then((cat) => {\n        if (cat.id) {\n          setState({\n            ...state,\n            category: cat,\n          });\n        } else {\n          console.error(\"[DEBUG] NEW ERROR\", cat);\n        }\n      });\n    }\n\n    return {};\n  };\n  const getCategories = async () => {\n    _category\n      .getCategories({\n        categoryid: \"raiz\",\n        search: \"lentes\",\n        order: \"id\",\n      })\n      .then(({ data: cat }) => {\n        setState({\n          ...state,\n          category_list: cat[0].sons,\n        });\n      });\n  };\n\n  useEffect(() => {\n    if (category_id) {\n      getCategory(category_id);\n    } else {\n      getCategories();\n    }\n  }, [category_id]);\n\n  useEffect(() => {\n    if (state.category.id) {\n      const data = helper.getCodeGrad(\n        state.category,\n        esferaod,\n        esferaoi,\n        cilindrod,\n        cilindroi\n      );\n\n      setState({\n        ...state,\n        codesItems: data,\n      });\n    }\n  }, [state.category]);\n\n  return (\n    <div className=\"card border border-info rounded d-print-none\">\n      <div className=\"card-body\">\n        <h3 className=\"card-title text-success m-2\">{title}</h3>\n        {!category_id && (\n          <>\n            {category_list.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Tipo</span>\n                </div>\n                <select\n                  name=\"category_id_1\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_1 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el tipo --</option>\n                  {category_list.map((cat) => {\n                    if (\n                      cat.meta &&\n                      cat.meta.rangoInf <= esferaod &&\n                      esferaod <= cat.meta.rangoSup &&\n                      cat.meta.rangoInf <= esferaoi &&\n                      esferaoi <= cat.meta.rangoSup &&\n                      cat.meta.cil <= cilindrod &&\n                      cat.meta.cil <= cilindroi\n                    ) {\n                      return (\n                        <option value={cat.id} key={cat.id}>\n                          {cat.name}\n                        </option>\n                      );\n                    } else return null;\n                  })}\n                </select>\n              </div>\n            ) : null}\n\n            {category_id_1 && category_list_2.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Material</span>\n                </div>\n                <select\n                  name=\"category_id_2\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_2 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el material --</option>\n                  {category_list_2.map((cat) => {\n                    if (\n                      cat.meta &&\n                      cat.meta.rangoInf <= esferaod &&\n                      esferaod <= cat.meta.rangoSup &&\n                      cat.meta.rangoInf <= esferaoi &&\n                      esferaoi <= cat.meta.rangoSup\n                    ) {\n                      return (\n                        <option value={cat.id ?? \"\"} key={cat.id}>\n                          {cat.name}\n                        </option>\n                      );\n                    } else return false;\n                  })}\n                </select>\n              </div>\n            ) : null}\n\n            {category_id_1 && category_id_2 && category_list_3.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Tratamiento</span>\n                </div>\n                <select\n                  name=\"category_id_3\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_3 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el tratamiento --</option>\n                  {category_list_3.map((cat) => {\n                    return (\n                      <option value={cat.id ?? \"\"} key={cat.id}>\n                        {cat.name}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n            ) : null}\n          </>\n        )}\n\n        {Object.values(codesItems).length ? (\n          <>\n            {codesItems.code + codesItems.od ===\n            codesItems.code + codesItems.oi ? (\n              <p className=\"card-text\">\n                <label>Lente</label>: {codesItems.code + codesItems.od}\n              </p>\n            ) : (\n              <div className=\"row card-text\">\n                <div className=\"col\">\n                  <label>Lente Derecho</label>\n                  <br /> {codesItems.code + codesItems.od}\n                </div>\n                <div className=\"col\">\n                  <label>Lente Izquierdo</label>\n                  <br /> {codesItems.code + codesItems.oi}\n                </div>\n              </div>\n            )}\n\n            {handleCodesItems && (\n              <p className=\"card-text text-right\">\n                <button\n                  className=\"btn btn-info\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    handleCodesItems({\n                      code: codesItems.code,\n                      od: codesItems.od,\n                      oi: codesItems.oi,\n                    });\n                  }}\n                >\n                  <i className=\"fas fa-check mr-2\"></i>Siguiente\n                </button>\n              </p>\n            )}\n\n            {props.update ? (\n              <p className=\"card-text text-right\">\n                <button\n                  className=\"btn btn-outline-info btn-sm card-link mt-2\"\n                  onClick={handleClickCategory}\n                >\n                  Cambiar\n                </button>\n              </p>\n            ) : null}\n          </>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport moment from \"moment\";\n\nimport helper from \"../helper\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function CardNewContact(props) {\n  const { title = \"contacto\", nameDefault, messages = [], _save } = props;\n  const [data, setData] = useState({\n    name: \"\",\n    phone: \"\",\n    birthday: moment(),\n    email: \"\",\n    gender: \"male\",\n  });\n\n  const handleValidForm = (showMsg = false) => {\n    const verify = helper.handleVerificationData(data, showMsg);\n    return verify.result;\n  };\n  const handleSave = () => {\n    const valid = handleValidForm(true),\n      body = {\n        ...data,\n        telnumbers: JSON.stringify(data.telnumbers),\n      };\n    if (!valid) return false;\n\n    helper.saveContact(title, body, _save);\n  };\n\n  useEffect(() => {\n    if (nameDefault) {\n      setData({\n        ...data,\n        name: nameDefault,\n      });\n    }\n  }, []);\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-primary text-bold\">\n              <i className=\"fas fa-plus mr-1\"></i>\n              Crear nuevo {title}\n            </h5>\n            <button\n              type=\"button\"\n              className=\"close\"\n              onClick={props.handleCancel}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            {messages.length ? (\n              <>\n                {messages.map((message, index) => {\n                  const { type, text } = message;\n\n                  return (\n                    <div\n                      className={`alert alert-${\n                        type === \"error\"\n                          ? \"danger\"\n                          : type === \"success\"\n                          ? type\n                          : \"warning\"\n                      }`}\n                      key={index}\n                    >\n                      <i className=\"fas fa-info mr-1\"></i>\n                      {text}\n                    </div>\n                  );\n                })}\n              </>\n            ) : null}\n            <div className=\"form-group\">\n              <label>Nombre del {title}</label>\n              <input\n                type=\"text\"\n                className=\"form-control text-uppercase\"\n                placeholder={`Nombre del ${title}`}\n                autoComplete=\"off\"\n                required=\"required\"\n                pattern=\"^[a-zA-Z.]{2,20}[\\s]{1}[a-zA-Z.]{2,20}.*\"\n                minLength=\"8\"\n                defaultValue={data.name}\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    name: target.value.toLowerCase(),\n                  });\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>E-mail</label>\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                defaultValue={data.email}\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    email: target.value.toLowerCase(),\n                  });\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Telefono celular</label>\n              <input\n                type=\"tel\"\n                placeholder=\"Telefono celular\"\n                className=\"form-control\"\n                maxLength=\"10\"\n                value={data.phone}\n                onChange={({ target }) => {\n                  if (!isNaN(target.value)) {\n                    setData({\n                      ...data,\n                      phone: target.value,\n                    });\n                  }\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Fecha de naciemiento</label>\n\n              <DatePicker\n                className={`form-control`}\n                locale=\"es\"\n                selected={new Date(data.birthday.format(\"YYYY/MM/DD\"))}\n                dateFormat=\"dd/MM/yyyy\"\n                maxDate={new Date()}\n                placeholderText=\"Seleccione una fecha\"\n                onSelect={(date) => {\n                  if (date) {\n                    date = date.toLocaleDateString(\"es-MX\");\n                    date = moment(date, \"DD/MM/YYYY\");\n\n                    if (date.isValid()) {\n                      setData({\n                        ...data,\n                        birthday: date,\n                      });\n                    }\n                  }\n                }}\n                onChange={(date) => {\n                  if (date) {\n                    date = date.toLocaleDateString(\"es-MX\");\n                    date = moment(date, \"DD/MM/YYYY\");\n\n                    if (date.isValid()) {\n                      setData({\n                        ...data,\n                        birthday: date,\n                      });\n                    }\n                  }\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Género</label>\n              <select\n                className=\"custom-select\"\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    gender: target.value,\n                  });\n                }}\n                defaultValue={data.gender}\n              >\n                <option value=\"male\">Hombre</option>\n                <option value=\"female\">Mujer</option>\n              </select>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <div className=\"btn-group\">\n              {props.handleCancel && (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default\"\n                  onClick={props.handleCancel}\n                >\n                  <i className=\"fas fa-ban mr-1\"></i>\n                  cancelar\n                </button>\n              )}\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={handleSave}\n                disabled={true}\n              >\n                <i className=\"fas fa-save\"></i>\n                Guardar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","export default function Autocomplete(props) {\n  return (\n    <div\n      className=\"position-absolute overflow-auto\"\n      style={{\n        left: props.left ?? \"0rem\",\n        height: !props.showNew ? \"12rem\" : \"0rem\",\n        zIndex: \"10\",\n        width: \"100%\",\n        maxWidth: props.maxWidth ?? \"30rem\",\n      }}\n    >\n      <ul className=\"list-group\">\n        {props.contacts.length ? (\n          <>\n            {props.contacts.map((contact) => {\n              if (contact.id === 2) {\n                return (\n                  <li\n                    key={contact.id}\n                    className=\"list-group-item text-capitalize\"\n                  >\n                    <i className=\"fas fa-user mr-1 text-secondary\"></i>\n                    {contact.name.toLowerCase()}\n                  </li>\n                );\n              } else {\n                return (\n                  <li\n                    key={contact.id}\n                    className=\"list-group-item text-capitalize\"\n                  >\n                    <a\n                      href=\"#selecte\"\n                      className=\"text-indigo\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        props.handleSelected(contact);\n                      }}\n                    >\n                      <i className=\"fas fa-user mr-1\"></i>\n                      {contact.name.toLowerCase()}\n                    </a>\n                  </li>\n                );\n              }\n            })}\n            {props.meta?.total > props.meta?.per_page ? (\n              <li className=\"list-group-item text-muted\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Existen mas registros, sea mas espesifico\n              </li>\n            ) : null}\n          </>\n        ) : props.meta?.total === 0 && props.handleNew ? (\n          <li className=\"list-group-item\">\n            <a\n              href=\"·create\"\n              onClick={(e) => {\n                e.preventDefault();\n                props.handleNew();\n              }}\n            >\n              <i className=\"fas fa-info-circle mr-1 text-dark\"></i>\n              <label>El {props.title}:</label>\n              <span className=\"text-uppercase text-dark font-weight-bold ml-1\">\n                {props.text}\n              </span>\n              , no existe.\n              <span className=\"badge badge-dark ml-2\">Registrar</span>\n            </a>\n          </li>\n        ) : null}\n      </ul>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useRef, useState } from \"react\";\n\nimport Easycontact from \"./CardNewContact\";\nimport Autocomplete from \"./Autocomplete\";\n\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function ShowCardSearch(props) {\n  const [state, setState] = useState({\n    search: \"\",\n    contacts: [],\n    meta: {},\n    new: false,\n    newName: \"\",\n    loading: false,\n    timer: \"\",\n  });\n  const _contacts = useContact();\n  const input = useRef();\n  // Functions\n  const handleSearch = () => {\n    setState({\n      ...state,\n      timer: \"\",\n      loading: true,\n    });\n    _contacts\n      .getContacts({\n        search: state.search,\n        itemsPage: 10,\n      })\n      .then((res) => {\n        if (res.data) {\n          setState({\n            ...state,\n            contacts: res.data,\n            meta: res.meta,\n            loading: false,\n          });\n        } else {\n          const messages = Object.values(res.errors);\n\n          console.log(\"[Orus System] Message of server:\", res.errors);\n          window.Swal.fire({\n            title: \"Contactos\",\n            text: messages[0],\n            icon: \"error\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n\n          setState({\n            ...state,\n            contacts: [],\n            meta: {},\n            loading: false,\n          });\n        }\n      });\n  };\n\n  useEffect(() => {\n    let toTimer = null;\n    if (state.search.length > 5) {\n      if (state.timer) clearTimeout(state.timer);\n      toTimer = setTimeout(() => handleSearch(), 2000);\n      setState({\n        ...state,\n        timer: toTimer,\n      });\n    } else if (!state.search.length) {\n      if (state.timer) clearTimeout(state.timer);\n      setState({\n        ...state,\n        timer: null,\n        contacts: [],\n        meta: {},\n        loading: false,\n      });\n    }\n  }, [state.search]);\n\n  return (\n    <>\n      <input\n        type=\"text\"\n        className=\"form-control text-capitalize\"\n        defaultValue={state.search}\n        onChange={({ target }) => {\n          setState({\n            ...state,\n            search: target.value?.toLowerCase(),\n          });\n        }}\n        disabled={state.loading}\n        onKeyDown={({ key }) => {\n          if (key === \"Escape\") {\n            setState({\n              ...state,\n              contacts: [],\n              search: \"\",\n            });\n            input.current.value = \"\";\n          } else if (key === \"Enter\") {\n            if (state.timer) clearTimeout(state.timer);\n            handleSearch();\n            setState({\n              ...state,\n              timer: null,\n            });\n          }\n        }}\n        ref={input}\n      />\n\n      {state.loading && (\n        <div className=\"float-right px-4\">\n          <div className=\"spinner-border text-indigo\"></div>\n        </div>\n      )}\n\n      {state.new && (\n        <Easycontact\n          title={props.title}\n          nameDefault={state.newName}\n          handleCancel={(e) => {\n            setState({\n              ...state,\n              new: false,\n              newName: \"\",\n            });\n          }}\n        />\n      )}\n\n      {state.search.length > 2 && !state.loading && (\n        <div className=\"w-100 d-block position-static\">\n          <Autocomplete\n            contacts={state.contacts}\n            text={state.search}\n            meta={state.meta}\n            title={props.title}\n            left=\"6.6rem\"\n            maxWidth=\"24rem\"\n            handleNew={(e) => {\n              setState({\n                ...state,\n                contacts: [],\n                search: \"\",\n                new: true,\n                newName: state.search,\n              });\n              input.current.value = \"\";\n            }}\n            handleSelected={(contact) => {\n              props.handleSelectContact(contact);\n\n              setState({\n                ...state,\n                contacts: [],\n                search: \"\",\n              });\n              input.current.value = \"\";\n            }}\n          />\n        </div>\n      )}\n    </>\n  );\n}\n","import { useHistory } from \"react-router-dom\";\nimport Search from \"./ShowCardSearch\";\n\nexport default function ShowContactComponent(props) {\n  const { data = {}, readOnly = false, title = \"contacto\", legend } = props;\n  const history = useHistory();\n\n  return (\n    <div className=\"w-100 d-block\">\n      {legend && !data.id && (\n        <span className=\"text-sm text-muted ml-4 w-100 d-block\">\n          <label>Primero:</label> {legend}\n        </span>\n      )}\n\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className=\"input-group-text text-capitalize\">\n            <i className=\"fas fa-user mr-2\"></i> {title}\n          </span>\n        </div>\n\n        \n        {data.id ? (\n          <>\n            <span className=\"form-control bg-light\">\n              {data.name.toUpperCase()}\n              <span className=\"badge badge-secondary mx-1\">\n                <i className=\"fas fa-envelope mr-1\"></i>\n                {data.email ? data.email : \"--\"}\n              </span>\n              <span className=\"badge badge-secondary ml-1\">\n                <i className=\"fas fa-calendar mr-1\"></i>\n                {data.age ? `${data.age} años` : \"--\"}\n              </span>\n            </span>\n            {!readOnly && (\n              <div className=\"float-right\">\n                <div className=\"btn-group btn-sm d-print-none\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary btn-sm\"\n                    onClick={() => {\n                      window.Swal.fire({\n                        title: \"Contactos\",\n                        text: `¿Esta seguro de cambiar de xd ${props.title}?`,\n                        icon: \"question\",\n                        showCancelButton: true,\n                        // confirmButtonColor: \"#d33\",\n                        confirmButtonText: \"Cambiar\",\n                        cancelButtonText: \"Cancelar\",\n                        showLoaderOnConfirm: true,\n                      }).then(({ dismiss }) => {\n                        if (!dismiss) {\n                          props.handleContactSelect({ id: 0 });\n                          //props.handleContactSelect();\n                        }\n                      });\n                    }}\n                    title=\"Cambiar\"\n                  >\n                    <i className=\"fas fa-exchange-alt\"></i>\n                  </button>\n                  <button\n                    className=\"btn bg-indigo btn-sm\"\n                    onClick={() => history.push(`/contactos/${data.id}`)}\n                    title=\"Editar\"\n                  >\n                    <i className=\"fas fa-edit\"></i>\n                  </button>\n                </div>\n              </div>\n            )}\n          </>\n        ) : (\n          <Search\n            title={title}\n            handleSelectContact={(contact) => {\n              props.handleContactSelect(contact);\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n","export default function SideBarRigth({ state, handle: _handle }) {\n  return (\n    <div className=\"nav flex-column nav-tabs\">\n      <a\n        className={!state.panel ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(0);\n        }}\n      >\n        <i\n          className={\n            state.generales\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Generales\n      </a>\n\n      <a\n        className={state.panel === 1 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(1);\n        }}\n      >\n        <i\n          className={\n            state.interrogatorios\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Interrogatorio\n      </a>\n\n      <a\n        className={state.panel === 2 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(2);\n        }}\n      >\n        <i\n          className={\n            state.keraRet\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Keratometria\n      </a>\n\n      <a\n        className={state.panel === 3 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(3);\n        }}\n      >\n        <i\n          className={\n            state.diabetes\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Diabetes\n      </a>\n\n      <a\n        className={state.panel === 4 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(4);\n        }}\n      >\n        <i\n          className={\n            state.agudeza\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Agudeza\n      </a>\n\n      <a\n        className={state.panel === 5 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(5);\n        }}\n      >\n        <i\n          className={\n            state.diagnostico\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Diagnostico\n      </a>\n\n      <a\n        className={state.panel === 6 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(6);\n        }}\n      >\n        <i\n          className={\n            state.graduacion\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Graduación\n      </a>\n\n      <a\n        className={state.panel === 7 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(7);\n        }}\n      >\n        <i\n          className={\n            state.observaciones\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Observaciones\n      </a>\n\n      <a\n        className={state.panel === 8 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(8);\n        }}\n      >\n        <i\n          className={\n            state.recomendaciones\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Recomendaciones\n      </a>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n\n\n//Componentes\nimport Generales from \"./views/GeneralesExam\";\nimport Interrogatorios from \"./views/interrogatoriosExam\";\nimport KeraRet from \"./views/keraRetExam\";\nimport Diabetes from \"./views/diabetesExam\";\nimport Agudeza from \"./views/agudezaExam\";\nimport Diagnostico from \"./views/diagnosticoExam\";\nimport Graduacion from \"./views/graduacionExam\";\nimport Observaciones from \"./views/observacionesExam\";\nimport Recomendaciones from \"./views/RecomendationGlass\";\nimport ShowContact from \"../Contacts/views/ShowCard\";\nimport SideBarRigth from \"./views/SideBarRigth\";\nimport useExam from \"../../hooks/useExam\";\nimport Activitys from \"../Activitys\";\n\nexport default function Add(props) {\n  const [state, setState] = useState({\n    ...getDataDefault(),\n    loading: false,\n    panel: 0,\n    used: {\n      generales: false,\n      interrogatorios: false,\n      keraRet: false,\n      diabetes: false,\n      agudeza: false,\n      diagnostico: false,\n      graduacion: false,\n      observaciones: false,\n      recomendaciones: false,\n    },\n    activitys:[],\n  });\n\n\n\n  const { id } = props.match.params;\n  const _exams = useExam();\n  const history = useHistory();\n\n  // Functions\n  const handlePanel = (num) => {\n    if (isNaN(num)) return;\n    if (typeof num === \"string\") num = parseInt(num);\n\n    setState({\n      ...state,\n      panel: num,\n    });\n  };\n  const handleSave = () => {\n    const data = {\n      ...state,\n    };\n    const { contact } = data;\n    delete data.loading;\n    delete data.panel;\n    delete data.used;\n    delete data.contact;\n    if (!data.category_ii) delete data.category_ii;\n    if (!data.category_id) delete data.category_id;\n\n    if (\n      (data.cilindrod < 0 && !data.ejeod) ||\n      (data.cilindroi < 0 && !data.ejeoi)\n    ) {\n      window.Swal.fire(\n        \"Consultorio\",\n        \"El campo CILINDRO esta vacio\",\n        \"warning\"\n      );\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Consultorio\",\n      text: data.id\n        ? `¿Desea actualizar el examen de ${contact.name.toUpperCase()}?`\n        : `¿Desea crear un nuevo examen para ${contact.name.toUpperCase()}?`,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonText: data.id ? \"Actualizar\" : \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        _exams.saveExam(data).then((res) => {\n          if (res?.id) {\n            console.log(\"[Orus System] Save exam successfully\", res.id);\n            props.handleNewOrEdit();\n            history.push(\"/consultorio\");\n          } else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.log(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      console.log(\"[Orus System] Loading exam:\", id);\n      setState({\n        ...state,\n        loading: false,\n      });\n      _exams.getExam(id).then((res) => {\n        res.category_ii = res.category_ii?.id;\n        res.category_id = res.category_id?.id;\n\n        setState({\n          ...getDataDefault(res),\n          loading: false,\n          panel: 0,\n          used: {\n            generales: true,\n            interrogatorios: true,\n            keraRet: true,\n            diabetes: true,\n            agudeza: true,\n            diagnostico: true,\n            graduacion: true,\n            observaciones: true,\n            recomendaciones: true,\n          },\n          activitys: res.activity ?? [],\n        });\n      });\n    }\n  }, [id]);\n\n  return (\n    <>\n      <div className=\"card card-info card-outline d-print-none\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title text-info\">\n            <i className=\"fas fa-notes-medical mr-1\"></i>\n            {state.id ? (\n              <label>\n                Examen <span className=\"badge badge-info\">#{state.id}</span>\n              </label>\n            ) : (\n              \"Nuevo examen\"\n            )}\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"form-group\">\n            <ShowContact\n              readOnly={state.id ? true : false}\n              title=\"paciente\"\n              legend=\"Busque el paciente por nombre para crear un nuevo examen\"\n              left=\"6.5rem\"\n              data={state.contact}\n              handleContactSelect={(doc) => {\n                setState({\n                  ...state,\n                  contact: doc,\n                  contact_id: doc.id,\n                });\n              }}\n            />\n          </div>\n\n          {state.contact?.id ? (\n            <div className=\"row\">\n              <div className=\"col-2\">\n                <SideBarRigth\n                  state={{ panel: state.panel, ...state.used }}\n                  handle={handlePanel}\n                />\n              </div>\n              <div className=\"col-10\">\n                {!state.panel ? (\n                  <Generales\n                    pc={state.pc ?? \"\"}\n                    tablet={state.tablet ?? \"\"}\n                    movil={state.movil ?? \"\"}\n                    lap={state.lap ?? \"\"}\n                    lap_time={state.lap_time ?? \"\"}\n                    pc_time={state.pc_time ?? \"\"}\n                    tablet_time={state.tablet_time ?? \"\"}\n                    movil_time={state.movil_time ?? \"\"}\n                    cefalea={state.cefalea ?? \"\"}\n                    c_frecuencia={state.c_frecuencia ?? \"\"}\n                    c_intensidad={state.c_intensidad ?? \"\"}\n                    frontal={state.frontal ?? \"\"}\n                    temporal={state.temporal ?? \"\"}\n                    occipital={state.occipital ?? \"\"}\n                    generality={state.generality ?? \"\"}\n                    temporaoi={state.temporaoi ?? \"\"}\n                    temporaod={state.temporaod ?? \"\"}\n                    handleGetData={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          generales: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n                {state.panel === 1 ? (\n                  <Interrogatorios\n                    interrogatorio={state.interrogatorio ?? \"\"}\n                    coa={state.coa ?? \"\"}\n                    aopp={state.aopp ?? \"\"}\n                    aopf={state.aopf ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          interrogatorios: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 2 ? (\n                  <KeraRet\n                    keratometriaoi={state.keratometriaoi ?? \"\"}\n                    keratometriaod={state.keratometriaod ?? \"\"}\n                    rsoi={state.rsoi ?? \"\"}\n                    rsod={state.rsod ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          keraRet: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 3 ? (\n                  <Diabetes\n                    d_time={state.d_time ?? \"\"}\n                    d_media={state.d_media ?? \"\"}\n                    d_test={state.d_test ?? \"\"}\n                    d_fclod={state.d_fclod ?? \"\"}\n                    d_fclod_time={state.d_fclod_time ?? \"\"}\n                    d_fcloi={state.d_fcloi ?? \"\"}\n                    d_fcloi_time={state.d_fcloi_time ?? \"\"}\n                    oftalmoscopia={state.oftalmoscopia ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          diabetes: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 4 ? (\n                  <Agudeza\n                    cvod={state.cvod ?? \"\"}\n                    cvoi={state.cvoi ?? \"\"}\n                    avslod={state.avslod ?? \"\"}\n                    avsloi={state.avsloi ?? \"\"}\n                    avcgaod={state.avcgaod ?? \"\"}\n                    avcgaoi={state.avcgaoi ?? \"\"}\n                    avfod={state.avfod ?? \"\"}\n                    avfoi={state.avfoi ?? \"\"}\n                    avf2o={state.avf2o ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          agudeza: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 5 ? (\n                  <Diagnostico\n                    diagnostico={state.diagnostico ?? \"\"}\n                    presbicie={state.presbicie ?? \"\"}\n                    piod={state.piod ?? \"\"}\n                    pioi={state.pioi ?? \"\"}\n                    txoftalmico={state.txoftalmico ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          diagnostico: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 6 ? (\n                  <Graduacion\n                    esferaod={state.esferaod ?? 0}\n                    esferaoi={state.esferaoi ?? 0}\n                    cilindrod={state.cilindrod ?? 0}\n                    cilindroi={state.cilindroi ?? 0}\n                    ejeod={state.ejeod ?? 0}\n                    ejeoi={state.ejeoi ?? 0}\n                    adiciond={state.adiciond ?? 0}\n                    adicioni={state.adicioni ?? 0}\n                    adicion_media_od={state.adicion_media_od ?? 0}\n                    adicion_media_oi={state.adicion_media_oi ?? 0}\n                    dpod={state.dpod ?? 0}\n                    dpoi={state.dpoi ?? 0}\n                    alturaod={state.alturaod ?? 0}\n                    alturaoi={state.alturaoi ?? 0}\n                    lcmarca={state.lcmarca ?? 0}\n                    lcgod={state.lcgod ?? 0}\n                    lcgoi={state.lcgoi ?? 0}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          graduacion: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 7 ? (\n                  <Observaciones\n                    observaciones={state.observaciones ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          observaciones: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 8 ? (\n                  <div className=\"row\">\n                    <div className=\"col\">\n                      <Recomendaciones\n                        category_id={state.category_id ?? null}\n                        esferaod={state.esferaod ?? \"\"}\n                        esferaoi={state.esferaoi ?? \"\"}\n                        cilindrod={state.cilindrod ?? \"\"}\n                        cilindroi={state.cilindroi ?? \"\"}\n                        nameItem=\"item1\"\n                        title=\"Recomendacion principal\"\n                        onChangeInput={(value) => {\n                          setState({\n                            ...state,\n                            category_id: value,\n                            category_ii: 0,\n                            used: {\n                              ...state.used,\n                              recomendaciones: true,\n                            },\n                          });\n                        }}\n                        update={true}\n                      />\n                    </div>\n                    {state.category_id ? (\n                      <div className=\"col\">\n                        <Recomendaciones\n                          category_id={state.category_ii ?? null}\n                          esferaod={state.esferaod ?? \"\"}\n                          esferaoi={state.esferaoi ?? \"\"}\n                          cilindrod={state.cilindrod ?? \"\"}\n                          cilindroi={state.cilindroi ?? \"\"}\n                          nameItem=\"item2\"\n                          title=\"Recomendacion adicional\"\n                          onChangeInput={(value) => {\n                            setState({\n                              ...state,\n                              category_ii: value,\n                              used: {\n                                ...state.used,\n                                recomendaciones: true,\n                              },\n                            });\n                          }}\n                          update={true}\n                        />\n                      </div>\n                    ) : null}\n                  </div>\n                ) : null}\n              </div>\n            </div>\n          ) : null}\n        </div>\n        <div className=\"card-footer text-right\">\n          <div className=\"btn-group\" role=\"group\">\n            <a\n              href=\"#close\"\n              className=\"btn btn-default\"\n              onClick={(e) => {\n                e.preventDefault();\n                history.push(\"/consultorio\");\n                props.handleNewOrEdit();\n              }}\n            >\n              <i\n                className={\n                  state.id ? \"fas fa-arrow-left mr-2\" : \"fas fa-ban mr-2\"\n                }\n              ></i>\n              <strong>{state.id ? \"Cancelar\" : \"Cerrar\"}</strong>\n            </a>\n            {state.id ? (\n              <button\n                className=\"btn btn-default\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  // window.print();\n                }}\n              >\n                <i className=\"fas fa-print mr-2\"></i>\n                Imprimir\n              </button>\n            ) : null}\n            <button\n              type=\"button\"\n              className={\n                state.contact?.id ? \"btn btn-info\" : \"btn btn-info disabled\"\n              }\n              onClick={handleSave}\n              disabled={state.contact?.id ? false : true}\n            >\n              <i className=\"fas fa-save mr-1\"></i>\n              <strong>{state.id ? \"Actualizar\" : \"Guardar\"}</strong>\n            </button>\n          </div>\n        </div>\n      </div>\n      {/* {state.contact?.id && (\n        <PrintExam\n          esferaod={state.esferaod ?? \"\"}\n          esferaoi={state.esferaoi ?? \"\"}\n          cilindrod={state.cilindrod ?? \"\"}\n          cilindroi={state.cilindroi ?? \"\"}\n          ejeod={state.ejeod ?? \"\"}\n          ejeoi={state.ejeoi ?? \"\"}\n          adiciond={state.adiciond ?? \"\"}\n          adicioni={state.adicioni ?? \"\"}\n          adicion_media_od={state.adicion_media_od ?? \"\"}\n          adicion_media_oi={state.adicion_media_oi ?? \"\"}\n          dpod={state.dpod ?? \"\"}\n          dpoi={state.dpoi ?? \"\"}\n          alturaod={state.alturaod ?? \"\"}\n          alturaoi={state.alturaoi ?? \"\"}\n          lcmarca={state.lcmarca ?? \"\"}\n          lcgod={state.lcgod ?? \"\"}\n          lcgoi={state.lcgoi ?? \"\"}\n          diagnostico={state.diagnostico ?? \"\"}\n          paciente={state.contact ?? \"\"}\n          presbicie={state.presbicie ?? \"\"}\n        />\n      )} */}\n\n      {\n        state.activitys.length ? (\n          <Activitys\n            data = {state.activitys}\n          />\n        ): null\n      }\n\n      \n    </>\n  );\n}\n\nfunction getDataDefault(data = {}) {\n  return {\n    id: data.id ?? 0,\n    age: data.customer?.age ?? 0,\n    keratometriaoi: data.keratometriaoi ?? \"\",\n    keratometriaod: data.keratometriaod ?? \"\",\n    pantalleooi: data.pantalleooi ?? \"\",\n    pantalleood: data.pantalleood ?? \"\",\n    interrogatorio: data.interrogatorio ?? \"\",\n    cefalea: data.cefalea ?? 0,\n    c_frecuencia: data.c_frecuencia ?? \"\",\n    c_intensidad: data.c_intensidad ?? 0,\n    frontal: data.frontal ?? 0,\n    temporal: data.temporal ?? 0,\n    occipital: data.occipital ?? 0,\n    generality: data.generality ?? 0,\n    temporaoi: data.temporaoi ?? 0,\n    temporaod: data.temporaod ?? 0,\n    coa: data.coa ?? \"\",\n    aopp: data.aopp ?? \"\",\n    aopf: data.aopf ?? \"\",\n    avsloi: data.avsloi ?? \"\",\n    avslod: data.avslod ?? \"\",\n    avcgaoi: data.avcgaoi ?? \"\",\n    avcgaod: data.avcgaod ?? \"\",\n    cvoi: data.cvoi ?? \"\",\n    cvod: data.cvod ?? \"\",\n    oftalmoscopia: data.oftalmoscopia ?? \"\",\n    rsoi: data.rsoi ?? \"\",\n    rsod: data.rsod ?? \"\",\n    diagnostico: data.diagnostico ?? \"\",\n    presbicie: data.presbicie ?? 0,\n    txoftalmico: data.txoftalmico ?? \"\",\n    esferaoi: data.esferaoi ?? 0,\n    esferaod: data.esferaod ?? 0,\n    cilindroi: data.cilindroi ?? 0,\n    cilindrod: data.cilindrod ?? 0,\n    ejeoi: data.ejeoi ?? 0,\n    ejeod: data.ejeod ?? 0,\n    adicioni: data.adicioni ?? 0,\n    adiciond: data.adiciond ?? 0,\n    adicion_media_oi: data.adicion_media_oi ?? 0,\n    adicion_media_od: data.adicion_media_od ?? 0,\n    dpoi: data.dpoi ?? 0,\n    dpod: data.dpod ?? 0,\n    avfod: data.avfod ?? \"\",\n    avfoi: data.avfoi ?? \"\",\n    avf2o: data.avf2o ?? \"\",\n    lcmarca: data.lcmarca ?? \"\",\n    lcgoi: data.lcgoi ?? \"\",\n    lcgod: data.lcgod ?? \"\",\n    txoptico: data.txoptico ?? \"\",\n    alturaod: data.alturaod ?? 0,\n    alturaoi: data.alturaoi ?? 0,\n    pioi: data.pioi ?? 0,\n    piod: data.piod ?? 0,\n    observaciones: data.observaciones ?? \"\",\n    pc: data.pc ?? 0,\n    tablet: data.tablet ?? 0,\n    movil: data.movil ?? 0,\n    lap: data.lap ?? 0,\n    lap_time: data.lap_time ?? \"00:00\",\n    pc_time: data.pc_time ?? \"00:00\",\n    tablet_time: data.tablet_time ?? \"00:00\",\n    movil_time: data.movil_time ?? \"00:00\",\n    d_time: data.d_time ?? \"\",\n    d_media: data.d_media ?? \"\",\n    d_test: data.d_test ?? \"\",\n    d_fclod: data.d_fclod ?? 0,\n    d_fcloi: data.d_fcloi ?? 0,\n    d_fclod_time: data.d_fclod_time ?? \"00:00\",\n    d_fcloi_time: data.d_fcloi_time ?? \"00:00\",\n    contact: data.customer ?? {},\n    status: data.status ?? 1,\n    contact_id: data.customer?.id,\n    category_id: data.category_id ?? 0,\n    category_ii: data.category_ii ?? 0,\n  };\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport ToolBar from \"../components/Exam/ToolBar\";\nimport Inbox from \"../components/Exam/Inbox\";\nimport Add from \"../components/Exam/Add\";\n\nimport { ExamContext } from \"../context/ExamContext\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  search: \"\",\n  status: \"\",\n  itemsPage: 25,\n  date: \"\",\n  branch: \"all\",\n};\n\nexport default function Exams(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    newOrEdit: null,\n  });\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]);\n\n  return (\n    <ExamContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <ToolBar\n          newOrEdit={state.newOrEdit}\n          handleNewOrEdit={() =>\n            setState({ ...state, newOrEdit: !state?.newOrEdit })\n          }\n        />\n        {typeof state.newOrEdit === \"boolean\" ? (\n          <div className=\"col-sm-12 col-md-10\">\n            {state.newOrEdit ? (\n              <Add\n                {...props}\n                handleNewOrEdit={() =>\n                  setState({ ...state, newOrEdit: !state.newOrEdit })\n                }\n              />\n            ) : (\n              <Inbox />\n            )}\n          </div>\n        ) : (\n          <p>Loading component</p>\n        )}\n      </div>\n    </ExamContext.Provider>\n  );\n}\n","import { createContext, useContext } from \"react\";\n\nexport const SaleContext = createContext(null);\nexport const Sale = () => useContext(SaleContext);","import { useState } from \"react\";\n\nfunction ListItemsModal({\n  items,\n  cantDefault = 1,\n  handleClose: _close,\n  handleSelect: _Select,\n}) {\n\n\n  const [data, setData] = useState({\n    item: null,\n    cant: cantDefault,\n    price: 0,\n  });\n\n  const disabled = data.price <= 0 || isNaN(data.price) ? true : false;\n  \n  //Functions\n  const handleClose = () => {\n      if (_close) _close();\n    },\n\n\n    handleClickItem = (e, item) => {\n      e.preventDefault();\n      setData({\n        ...data,\n        price: item.price,\n        item,\n      });\n    },\n\n    handleSelectItem = () => {\n      const toSend = {\n        ...data,\n        item: {\n          ...data.item,\n          price: data.price,\n        },\n      };\n\n      _Select(toSend);\n\n      setData({\n        item: null,\n        cant: 1,\n        price: 0,\n      });\n      handleClose();\n    },\n\n\n    handleChangeCant = ({ name, value }) => {\n      setData({\n        ...data,\n        [name]: parseInt(value),\n      });\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione un producto</h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              {data.item && data.item.id ? (\n                <>\n                  <div className=\"text-uppercase mb-4\">\n                    {data.item.producto}                  \n                  </div>\n                  <div className=\"form-group row\">\n                    <label className=\"col-2 col-form-label\">Cantidad</label>\n                    {cantDefault < 2 ? (\n                      <div className=\"col\">\n                        <input\n                          type=\"number\"\n                          placeholder=\"Cantidad\"\n                          name=\"cant\"\n                          className=\"form-control\"\n                          defaultValue={data.cant}\n                          onChange={({ target }) => handleChangeCant(target)}\n                        />\n                      </div>\n                    ) : (\n                      <span className=\"col text-lg\">{data.cant}</span>\n                    )}\n                    <label className=\"col-2 col-form-label\">Precio</label>\n                    <div className=\"col\">\n                        <input\n                          type=\"number\"\n                          placeholder=\"Precio\"\n                          name=\"price\"\n                          className=\"form-control\"\n                          defaultValue={data.price.toString()}\n                          onChange={({ target }) => handleChangeCant(target)}\n                        />\n                      </div>\n                  </div>\n                </>\n              ) : (\n                <table className=\"table table-sm\">\n                  <tbody>\n                    {items ? (\n                      <>\n                        {items.length ? (\n                          <>\n                            {items.map((item) => (\n                              <tr key={item.id}>\n                                <td className=\"text-right\">\n                                  <span className=\"badge badge-dark\">\n                                    {item.code}\n                                  </span>\n                                </td>\n                                <td className=\"text-capitalize text-left\">\n                                  <a\n                                    href=\"#select\"\n                                    onClick={(e) => handleClickItem(e, item)}\n                                  >\n                                    {item.name}\n                                  </a>\n                                </td>\n                                <td>${item.price}</td>\n                              </tr>\n                            ))}\n                          </>\n                        ) : (\n                          <tr>\n                            <td>No existen productos para esta coincidencia</td>\n                          </tr>\n                        )}\n                      </>\n                    ) : (\n                      <tr>\n                        <td>\n                          <i className=\"fas fa-info-circle mr-1\"></i> No se\n                          recibieron los productos\n                        </td>\n                      </tr>\n                    )}\n                  </tbody>\n                </table>\n              )}\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={handleClose}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleSelectItem}\n              disabled = { disabled }\n            >\n              <i className=\"fas fa-check mr-1\"></i>\n              Seleccionar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ListItemsModal;\n","const confirm = (text, _make) => {\n  window.Swal.fire({\n    title: \"Ventas\",\n    text,\n    icon: \"warning\",\n    showCancelButton: true,\n    confirmButtonText: \"Aceptar\",\n    cancelButtonText: \"Cancelar\",\n  }).then(({ dismiss }) => {\n    if (!dismiss) {\n      if (_make) _make();\n    }\n  });\n};\n\n\nconst getMethodName = (status) => {\n  switch (status) {\n    case 1:\n      return \"efectivo\";\n    case 2:\n      return \"tarjeta debito\";\n    case 3:\n      return \"tarjeta Credito\";\n    case 4:\n      return \"la marina\";\n    case 5:\n      return \"cheque\";\n    case 6:\n      return \"transferencia\";\n    default:\n      return \"otro\";\n  }\n};\n\n//TODO:GET SESSION(ERROR VARIABLE)//\nconst getSession = () => {\n  return (\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(10)\n  );\n};\n\n\nconst getForPay = (items, payments, discount) => {\n\n  let pay = 0, total = 0;\n\n  payments.forEach((payment)=>{\n    pay += payment.total;\n  })\n\n  items.forEach((item)=>{\n    total += item.subtotal;\n  })\n  \n  return total - pay - discount;\n}\n\nconst getSubTotal = (items)=> {\n  let subTotal = 0;\n  items.forEach((item)=>{\n    subTotal += item.subtotal;\n  }) \n\n  return subTotal;\n}\n\n\nconst getTotal = (subtotal, discount)=> {\n  return subtotal - discount;\n}\n\n\nconst getPagado = (payments = []) => {\n  let pagado = 0;\n  payments.forEach((payment)=>{\n    pagado += payment.total;\n  })\n  return pagado;\n}\n\nconst toExport = {\n  confirm,\n  getMethodName,\n  getSession,\n  getForPay,\n  getSubTotal,\n  getTotal,\n  getPagado,\n};\n\nexport default toExport;\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Components\nimport ListModal from \"./ListItemsModal\";\n\n//Hooks\nimport useProducts from '../../../hooks/useProducts';\n\n//Helper\nimport helper from '../helpers';\n\nfunction InputSearchItem() {\n\n  //State\n  const [textSearch, setTextSearch] = useState(\"\");\n  const [showList, setShowList] = useState(false);\n  const [cantDefault, setCantDefault] = useState(1);\n  const [list, setList] = useState([]);\n\n  const  sale = Sale();\n  const { session } = sale;\n  const hookProducts = useProducts();\n\n  //const { getProducts, productList: list } = useProducts();\n\n  //Functions\n  const handleChangeTextSearch = ({ value }) => {\n      setTextSearch(value);\n    },\n\n    handlePressEnter = (key) => {\n      if (key === \"Enter\") {\n        searchItem();\n      }\n    },\n\n    searchItem = () => {\n      if (textSearch.length > 2) {\n        const codes = textSearch.split(\"*\");\n        let search = textSearch;\n\n        if (codes.length === 2) {\n          search = codes[1];\n          setCantDefault(parseInt(codes[0]));\n        }\n\n        hookProducts.getProducts(search).then((data)=>{\n          if(data){\n            setList(data.data);\n          }else{\n            console.error(\"Error al buscar el producto\")\n          }\n        })\n        setTextSearch(\"\");\n      }\n    },\n\n    handleCloseModal = () => {\n      setShowList(false);\n    },\n\n    makeItem = (data) => {\n      return {\n        id: 0,\n        cant: data.cant,\n        price: parseFloat(data.item.price),\n        subtotal: parseInt(data.cant) * parseFloat(data.item.price),\n        inStorage:\n          parseInt(data.item.cantidades) >= parseInt(data.cant) ? true : false,\n        out: parseInt(data.item.cantidades) - parseInt(data.cant),\n        cantInStore: parseInt(data.item.cantidades),\n        session,\n        store_items_id: data.item.id,\n        descripcion: data.item.descripcion,\n        producto: data.item.name.toLowerCase(),\n        category: data.item.categoria ? data.item.categoria.id : 0,\n      };\n    },\n\n    handleSelectItem = (data) => {\n      const item = makeItem(data);\n      handleAddItem(item);\n      setCantDefault(1);\n    },\n\n    handleAddItem = (result) => {\n\n      const found = sale.items.filter(\n        (item) => item.store_items_id === result.store_items_id\n      );\n\n      let newItems = sale.items.filter(\n        (item) => item.store_items_id !== result.store_items_id\n      );\n\n      if (found.length) {\n        const cantidad = parseInt(result.cant) + parseInt(found[0].cant),\n            item = {\n              ...found[0],\n              cant: cantidad,\n              subtotal: parseFloat(result.price) * cantidad,\n              inStorage: cantidad >= parseInt(result.cantInStore) ? true : false,\n              out: parseInt(result.cantInStore) - cantidad,\n            };\n            newItems.push(item);\n            window.Swal.fire({\n              title: \"Producto agregado\",\n              text: `Se agrego otro ${found[0].producto} a la lista`,\n              icon: \"success\",\n              showCancelButton: false,\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n            })\n      } else {\n        newItems.push(result);\n      }\n\n      let subtotal = helper.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helper.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      })\n    };\n\n  useEffect(() => {\n    if (list.length) {\n      if (list.length === 1) {\n        const item = makeItem({\n          item: list[0],\n          cant: cantDefault ? cantDefault : 1,\n        });\n\n        if(item.price <= 0){\n          window.Swal.fire({\n            title: \"Verificar\",\n            text: `El item que intentas agregar tiene un precio de $0, revisa el precio en el almacen`,\n            icon: \"warning\",\n            showCancelButton: false,\n            confirmButtonText: \"Ok\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          })\n        }else{\n          handleAddItem(item);\n          setCantDefault(1);\n        }\n      } else {\n        setShowList(true);\n      }\n    } /* else if (!list.length && messages.length) {\n      messages.forEach((msg) => {\n        const { type, text } = msg;\n        window.Swal.fire({\n          icon: type,\n          title: text,\n          showConfirmButton: type !== \"error\" ? false : true,\n          timer: type !== \"error\" ? 1500 : 9000,\n        });\n      });\n    } */\n\n  }, [list]);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"btn-group text-center d-print-none\">\n      <input\n        className=\"form-control\"\n        placeholder=\"Codigo\"\n        onChange={({ target }) => handleChangeTextSearch(target)}\n        onKeyPress={({ key }) => handlePressEnter(key)}\n        value={textSearch}\n      />\n       <button\n          type=\"button\"\n          className=\"btn btn-primary\"\n          onClick={searchItem}\n          disabled={textSearch.length > 2 ? false : true}\n        >\n          <i className=\"fas fa-barcode\"></i>\n        </button>\n\n      {showList && list.length ? (\n        <ListModal\n          items={list}\n          cantDefault={cantDefault}\n          handleClose={handleCloseModal}\n          handleSelect={handleSelectItem}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nexport default InputSearchItem;\n","//Context\nimport { Sale } from '../../../context/SaleContext';\n\n//Helper\nimport helper from '../helpers';\n\nexport default function DiscountBtnComponent() {\n\n  const sale = Sale();\n  const pagado = helper.getPagado(sale.payments);\n  const btnDisabled = sale.subtotal - pagado > 0 && sale.discount === 0 && pagado === 0 ? false : true;\n\n\n  //Functions\n  const handleAddDiscount = () => {\n    const discount = window.prompt(\"Agregue el descuento a aplicar\"),\n      isNumeric = /^[0-9]+$/gms,\n      isPercen = /^[0-9]{2,3}%$/gms;\n\n      if(discount === null){\n        return null;\n      }else{\n        let sum = 0;\n        sale.items.forEach((item) => (sum += item.subtotal));\n\n        if (discount.match(isNumeric)) {\n          const value = parseInt(discount);\n          sale.set({\n            ...sale,\n            discount: value,\n          });\n\n        } else if (discount.match(isPercen)) {\n\n          const percent = parseInt(discount.replace(\"%\", \"\")) / 100,\n          value = parseInt(sum * percent);\n          sale.set({\n            ...sale,\n            discount: value,            \n          })          \n        }\n      }\n  };\n\n  return (\n    <button\n      className=\"btn btn-primary mx-1\"\n      title=\"Agregar descuento\"\n      onClick={handleAddDiscount}\n      disabled={btnDisabled}\n    >\n      <i className=\"fas fa-percent\"></i>\n    </button>\n  );\n}\n","import{ api, setUrl } from '../utils/url';\n\nexport default function useSales(ctx){\n\n    //Functions\n    const getSaleList = async (search) => {\n        const salesFilters = {\n            orderBy:'created_at',\n            order:'desc',\n            itemsPage: 100,            \n        }\n        if(search){\n          salesFilters.search = search;\n        }\n\n        const url = setUrl('sales', null, salesFilters);\n        return await api(url);\n    };\n\n    const getSaleById = async (id)=> {\n        const url = setUrl('sales', id);        \n        return await api(url)\n    }\n\n\n    const saveSale = async (sale) => {\n        sale.payments.forEach(payment => {\n          if(typeof payment.id === \"string\"){\n            payment.id = 0;\n          }\n        });\n\n        const data = {\n          ...sale,\n        }\n\n        //data.id === 0 ? delete data.id : data.id = data.id\n        delete data.id\n        delete data.created_at\n        delete data.customer\n\n\n\n        try {\n          const { id } = sale,\n            url = setUrl(\"sales\", id),\n            method = id ? \"PUT\" : \"POST\";\n            return await api(url, method, data)\n        } catch (e) {\n          console.error(\n            \"[Orus System] Error in saga/sales handledSaveSale\", e.message\n          );\n        }\n      };\n\n    return{\n        getSaleList,\n        getSaleById,\n        saveSale,\n    };\n\n}\n\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { Sale } from '../../../context/SaleContext';\n\n//Hooks\nimport useSales from \"../../../hooks/useSale\";\n\n//Libraries\nimport moment from \"moment\";\n\nfunction ListSalesModal({ handleClose: _close, handleSelect: _select,  }) {\n\n  const _sales = useSales();\n  \n  const [search, setSearch] = useState(\"\");\n\n  const [saleList, setSaleList] = useState([]);\n  \n  const sale = Sale();\n\n\n  const items = saleList.length !== 0 ? saleList : sale.length !== 0 ? sale : [];\n\n  const handleSelectSale = (e, saleSelected) => {\n      if (e) e.preventDefault();\n      \n      if(sale.items.length){\n          window.Swal.fire({\n          title: \"Ventas\",\n          text: `Si cargas una venta, se cerrará la venta actual`,\n          icon: \"question\",\n          showCancelButton: true,\n          confirmButtonText: \"Cargar\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            _select(saleSelected);\n          }else{\n            return null\n          }\n        });\n      }else{\n        _select(saleSelected);\n      }\n    },\n\n    handleChangeSearch = ({ value }) => {\n      setSearch(value);\n    };\n\n  useEffect(() => {\n    _sales.getSaleList(search)\n    .then((data)=>{\n      if(data){\n        setSaleList(data.data)\n      }else{\n        console.error(\"Error al obtener las ventas\");\n      }\n    })\n    .catch((error) => console.log(error));\n  \n  }, [search]);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione una venta</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"w-full d-block mb-4\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"Buscar por folio o nombre\"\n                  onChange={({ target }) => handleChangeSearch(target)}\n                  /* onKeyPress={({ key }) => handleSearchEnter(key)} */\n                />\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default ml-1\"\n                  /* onClick={() => handleSearchEnter(\"Enter\")} */\n                >\n                  <i className=\"fas fa-search\"></i>\n                </button>\n              </div>\n            </div>\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              <table className=\"table table-sm\">\n                <tbody>\n                  {items ? (\n                    <>\n                      {items.length ? (\n                        <>\n                          {items.map((item) => (                    \n                            <tr key={item.id}>\n                              <td className=\"text-right\">\n                                <span className=\"badge badge-dark\">\n                                  {item.id}\n                                </span>\n                              </td>\n                              <td className=\"text-capitalize text-left\">\n                                <a\n                                  href=\"#select\"\n                                  onClick={(e) => handleSelectSale(e, item)}\n                                >                      \n                                  {item.customer ? item.customer.name : \"--\"}\n                                </a>\n                              </td>\n                              <td className=\"text-right\">\n                                {moment(item.created_at).fromNow()}\n                              </td>\n                            </tr>\n                          ))}\n                        </>\n                      ) : (  \n                        <tr className=\"overlay dark\">\n                          <td className=\"overlay dark\">\n                          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                            Cargando las ventas!!\n                          </td>\n                        </tr>                                                                   \n                      )}\n                    </>\n                  ) : (\n                    <tr>\n                      <td>\n                        <i className=\"fas fa-info-circle mr-1\"></i> Escriba el folio o nombre para cargar una venta                \n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ListSalesModal;\n","import { useState } from \"react\";\n\n//Context\nimport { Sale } from '../../../context/SaleContext';\n\n//Components\nimport ListSalesModal from \"./ListSalesModal\";\n\nexport default function ListSalesBtn() {\n\n  const sale = Sale();\n  const [data, setData] = useState(false);\n  const disabled = sale.items.length ? true : false;\n\n  //Functions\n  const handleShowListSales = () => {\n      setData(true);\n    },\n    \n    handleCloseListSales = () => {\n      setData(false);\n    },\n\n    handleSelectSale = (saleSelected) => {\n      let pagado = 0;\n      \n      saleSelected.payments.forEach((pay) => (pagado = pay.total));\n\n      setData(false);   \n\n      sale.set({\n        id: saleSelected.id,\n        contact_id: saleSelected.customer.id,\n        customer: saleSelected.customer,\n        items: saleSelected.items,\n        session: saleSelected.session,\n        discount: saleSelected.discount,\n        subtotal: saleSelected.subtotal,\n        total: saleSelected.total,\n        payments: saleSelected.payments,\n        branch_id: saleSelected.branch.id,\n        created_at: saleSelected.created_at,\n        activitys: saleSelected.activity,\n      })\n\n      return pagado;\n    };\n    \n  return (\n    <>\n      <button\n        className=\"btn btn-primary mr-1\"\n        title=\"Cargar una venta\"\n        onClick={handleShowListSales}\n        disabled={ disabled }\n      >\n        <i className=\"fas fa-list\"></i>\n      </button>\n\n\n      {data && (\n        <ListSalesModal\n          handleClose={handleCloseListSales}\n          handleSelect={handleSelectSale}      \n        />\n      )}\n    </>\n  );\n}\n","import {useEffect, useContext} from 'react';\n\n//Context\nimport { AuthContext } from \"../../../context/AuthContext\";\nimport { Sale } from '../../../context/SaleContext';\n\n//Hooks\nimport useSale from '../../../hooks/useSale';\n\n//Helpers\nimport helpers from '../helpers';\n\nimport moment from \"moment\";\n\nexport default function PrintSaleComponent({ payed: abonado = 0, order, text, btn = \"primary\" }) {\n  const sale = Sale();\n  const _saleHook = useSale();\n  const {auth} = useContext(AuthContext);\n\n  const initialSale = {\n    id: 0,\n    customer: {\n      id: 0,\n      name: \"venta de mostrador\",\n    },\n    contact_id: 2,\n    items: [],\n    session: helpers.getSession(),\n    discount: 0,\n    subtotal: 0,\n    total: 0,\n    payments: [],\n    branch_id: auth.branch.id,\n  }\n\n  const {\n      items,\n      discount,\n      total = 0,\n      created_at: date,\n      id,\n      customer: client,\n    } = sale;\n\n    const saldo = total - abonado;\n\n    const { branch } = auth;\n\n    const pagado  = sale.discount === 0 ? helpers.getPagado(sale.payments) : helpers.getPagado(sale.payments) + sale.discount; \n    const paid = sale.payments.length && sale.total <= pagado ? true : false;\n\n    let totalItems = 0;\n\n  //Functions\n  const handlePrintShow = () => {\n\n    if(sale.id !== 0){\n      setTimeout(showPrint, 1000);\n    }else{\n      const returnedSale = _saleHook.saveSale(sale);\n\n      returnedSale.then((data)=>{\n        if(data.data){\n          sale.set({\n            ...sale,\n            id: data.data.id,\n          })\n          window.Swal.fire({\n            title: \"Venta Guardada correctamente\",\n            text: `¿Quieres imprimir el ticket de la venta?`,\n            icon: \"success\",\n            showCancelButton: true,\n            confirmButtonText: \"Imprimir\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              setTimeout(showPrint, 1000);\n            }else{\n              helpers.confirm(\"Cerrar la venta actual\", () => {\n                sale.set(initialSale);\n              });\n            }\n          });\n        }\n        else{\n          console.error(\"\")\n        }\n      })\n    }\n\n    \n  };\n\n  const showPrint = ()=>{\n    const path = window.location.pathname;\n    if (path !== \"/notas\") {\n      return false;\n    }\n    window.print();\n    \n  }\n\n  const handleClose = () => {\n    sale.set(initialSale);\n  };\n\n   useEffect(()=>{\n    if(paid && sale.subtotal){ \n      if(sale.id){\n        return null;\n      }else{\n        handlePrintShow();\n      }\n    }else{\n      return null;\n    } \n\n  },[paid, sale.total]);// eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(()=>{\n    window.addEventListener(\"afterprint\", ()=>{handleClose()});\n    return ()=>{\n      window.removeEventListener(\"afterprint\", ()=>{handleClose()});\n    }\n  },[])// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      <button\n        className={`btn btn-${btn} ml-2 d-print-none`}\n        disabled={!paid}\n        onClick={handlePrintShow}\n      >\n        <i className={text ? \"fas fa-print mr-1\" : \"fas fa-print\"}></i>\n        {text}\n      </button>\n\n      <div\n        className=\"d-none d-print-block fixed-top bg-white\"\n        style={{ maxWidth: 380 }}\n        id={\"print_sale_\" + id}\n      >\n        <div className=\"row\">\n          <div className=\"col\">\n            <div className=\"card m-0\">\n              <div className=\"card-body\">\n                <h4\n                  className=\"text-right\"\n                  style={{ fontSize: 28, fontFamily: \"sans-serif\" }}\n                >\n                  <i>\n                    {order ? \"Pedido\" : \"Nota\"}:{\" \"}\n                    <strong>{order ? order : id}</strong>\n                  </i>\n                </h4>\n                <h6\n                  className=\"text-right mb-2\"\n                  style={{ fontSize: 18, fontFamily: \"sans-serif\" }}\n                >\n                  <strong>{moment(date).format(\"LL\")}</strong>\n                </h6>\n                <h2\n                  className=\"text-center\"\n                  style={{ fontSize: 54, fontFamily: \"sans-serif\" }}\n                >\n                  <center>\n                    <strong>Óptica Madero</strong>\n                  </center>\n                </h2>\n                <h4\n                  className=\"text-center mb-4\"\n                  style={{ fontSize: 22, fontFamily: \"sans-serif\" }}\n                >\n                  <em>\n                    Julio Cesar Cardenas Martinez\n                    <br />\n                    <span className=\"text-capitalize\">\n                      sucursal: {branch.name}\n                    </span>\n                    <br />\n                    <span>Tel: {branch.phone}</span>\n                    <br />\n                    <span className=\"text-capitalize\">{branch.address}</span>\n                  </em>\n                </h4>\n                <h4\n                  className=\"text-uppercase text-center mb-1\"\n                  style={{ fontSize: 20, fontFamily: \"sans-serif\" }}\n                >\n                  {client && client.name\n                    ? client.name\n                    : \"Venta de mostrador\"}\n                  <br />\n                  <strong>\n                    <em style={{ fontSize: 24 }}>\n                      {client && client.telefonos\n                        ? client.telefonos.t_movil\n                          ? client.telefonos.t_movil\n                          : client.telefonos.t_casa\n                          ? client.telefonos.t_casa\n                          : client.telefonos.t_oficina\n                        : \"--\"}\n                    </em>\n                  </strong>\n                </h4>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col text-center\">\n            <h2 style={{ fontSize: 36, fontFamily: \"sans-serif\" }}>\n              <strong>Pedido</strong>\n            </h2>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col\">\n            <table className=\"table\">\n              <thead>\n                <tr>\n                  <th style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                    Cant\n                  </th>\n                  <th style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                    Descripcion\n                  </th>\n                  <th style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                    Total\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                {items.map((item, index) => {\n                  const total = parseFloat(item.cant * item.price);\n                  totalItems += total;  \n                  return (\n                    <tr key={index} className=\"text-capitalize\">\n                      <td style={{ fontSize: 22, fontFamily: \"sans-serif\" }}>\n                        {item.cant}\n                      </td>\n                      <td style={{ fontSize: 22, fontFamily: \"sans-serif\" }}>\n                        {item.producto}\n                      </td>\n                      <td\n                        className=\"text-right\"\n                        style={{ fontSize: 24, fontFamily: \"sans-serif\" }}\n                      >\n                        {total}\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td className=\"text-right\" colSpan=\"3\">\n                    {discount ? (\n                      <>\n                        <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                          Subtotal: <label>$ {totalItems}</label>\n                        </h4>\n                        <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                          Descuento: <label>$ {discount}</label>\n                        </h4>\n                      </>\n                    ) : null}\n                    <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                      Total: <label>$ {total}</label>\n                    </h4>\n                    {abonado ? (\n                      <>\n                        <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\n                          Abonado: <label>$ {abonado}</label>\n                        </h4>\n                        {saldo ? (\n                          <h4\n                            style={{ fontSize: 26, fontFamily: \"sans-serif\" }}\n                          >\n                            Saldo: <label>$ {saldo}</label>\n                          </h4>\n                        ) : (\n                          <div className=\"text-center d-block w-100 my-3\">\n                            <h3 className=\"text-muted text-bold\">\n                              ::: Cuenta Pagada :::\n                            </h3>\n                          </div>\n                        )}\n                      </>\n                    ) : null}\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n        </div>\n        <div className=\"text-justify text-lg\">\n          <ul className=\"d-block\" style={{ fontFamily: \"sans-serif\" }}>\n            <li>\n              Armazones usados, viejos y/o resecos son responsabilidad del\n              cliente\n            </li>\n            <li>\n              Armazones reparados por el cliente pierden garantia de proovedor\n            </li>\n          </ul>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useState, useContext } from \"react\";\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\nimport { Sale } from '../../../context/SaleContext';\n\n//Helpers\nimport helpers from \"../helpers\";\n\nfunction PaymentModal({forPaid, handleClose: _close }) {\n\n    const config = useContext(ConfigContext);\n    const listBanks = config.data;\n    \n    const sale = Sale();\n\n  //States\n  const [data, setData] = useState({\n    id: 0,\n    metodopago: 1,\n    metodoname: \"efectivo\",\n    total: 0,\n    bank_id: null,\n    details: null,\n    auth: null,\n  });\n\n  //Functions\n  const handleChangeInput = ({ name, value, type }) => {\n      let val = value;\n      if (type === \"number\" || type === \"select-one\") val = parseFloat(value);\n      setData({\n        ...data,\n        [name]: val,\n      });\n    },\n    handleSetPayment = () => {\n      const payments = [...sale.payments];\n      let pagado = 0;\n\n      if (!data.total) {\n        window.Swal.fire({\n          icon: \"warning\",\n          title: \"El total del abono debe ser mayor a 0\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return false;\n      }\n\n      if (\n        data.metodopago !== 1 &&\n        data.metodopago !== 4 &&\n        data.metodopago !== 0\n      ) {\n        if (!data.bank_id) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Seleccione un banco\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n        if (data.auth?.length < 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique los ultimos 4 numeros de la tarjeta\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }else if(data.auth?.length > 4){\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique solamente 4 numeros\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      if (data.metodopago === 4) {\n        if (!data.auth) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique el numero de autorización\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      payments.push({\n        ...data,\n        id:`new${Date.now().toString()}`,\n        metodoname: helpers.getMethodName(data.metodopago),\n        total: forPaid < data.total ? forPaid : data.total,\n      });\n\n      payments.forEach((pay) => (pagado += pay.total));\n\n      _close();\n\n      sale.set({\n        ...sale,\n        payments: payments,\n      })\n      \n    },\n    handleSubmitForm = (e) => {\n      e.preventDefault();\n      handleSetPayment();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Capture el pago</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <form autoComplete=\"off\" onSubmit={handleSubmitForm}>\n              <div className=\"row mb-2 bg-gray-light\">\n                <div className=\"col\">\n                  <h4 className=\"text-center\">\n                    Por pagar: <span className=\"text-success\">$ {forPaid}</span>\n                  </h4>\n                </div>\n              </div>\n              <div className=\"row my-2\">\n                <div className=\"col\">\n                  <label>Metodo de pago</label>\n                  <select\n                    name=\"metodopago\"\n                    className=\"custom-select text-uppercase\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    defaultValue={data.metodopago}\n                  >\n                    <option value=\"1\">Efectivo</option>\n                    <option value=\"2\">Tarjeta de debito</option>\n                    <option value=\"3\">Tarjeta de credito</option>\n                    <option value=\"4\">La marina</option>\n                    <option value=\"5\">Cheque</option>\n                    <option value=\"6\">Transferencia</option>\n                    <option value=\"0\">Otro</option>\n                  </select>\n                </div>\n                <div className=\"col\">\n                  <label>Cantidad</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    className=\"form-control text-right\"\n                    name=\"total\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    autoFocus={true}\n                  />\n                </div>\n              </div>\n\n              {data.metodopago !== 1 ? (\n                <div className=\"row mb-2\">\n                  <div className=\"col\">\n                    {data.metodopago !== 4 && data.metodopago !== 0 ? (\n                      <>\n                        <label>Banco</label>\n                        <select\n                          name=\"bank_id\"\n                          className=\"custom-select text-uppercase\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        >\n                          <option value=\"\">--Seleccione un banco--</option>\n                          {listBanks.map((bank) => {\n                            return bank.name === 'bank' ? (\n                              <option key={bank.id} value={bank.id}>\n                                {bank.data}\n                              </option>\n                            ): null;\n                          })}\n                        </select>\n                      </>\n                    ) : !data.metodopago ? (\n                      <>\n                        <label>Espesifique</label>\n                        <input\n                          type=\"text\"\n                          name=\"details\"\n                          className=\"form-control\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        />\n                      </>\n                    ) : (\n                      <h4 className=\"d-bloc text-center mt-4 text-success\">\n                        LA MARINA\n                      </h4>\n                    )}\n                  </div>\n                  <div className=\"col\">\n                    <label>\n                      {data.metodopago !== 4\n                        ? \"Ultimos 4 digitos\"\n                        : \"N. Autorización\"}\n                    </label>\n                    <input\n                       type=\"number\"\n                      name=\"auth\"\n                      className=\"form-control\"\n                      onChange={({ target }) => handleChangeInput(target)}\n                    />\n                  </div>\n                </div>\n              ) : null}\n\n              {forPaid < data.total ? (\n                <div className=\"row\">\n                  <div className=\"col\">\n                    <h4 className=\"text-center mt-4\">\n                      {data.metodopago === 1 ? (\n                        <>\n                          Cambio:\n                          <span className=\"ml-2\">$ {data.total - forPaid}</span>\n                        </>\n                      ) : (\n                        <span className=\"text-danger\">\n                          <i className=\"fas fa-info-circle mr-2\"></i>\n                          La cantidad cobrada es mayor al total\n                        </span>\n                      )}\n                    </h4>\n                  </div>\n                </div>\n              ) : null}\n            </form>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => handleSetPayment()}\n              disabled={!data.total}\n            >\n              <i className=\"fas fa-money-bill mr-1\"></i>\n              Abonar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","import { useState } from \"react\";\n\n//Components\nimport PaymentModal from \"./PaymentModal\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Helper\nimport helpers from '../helpers';\n\n\nexport default function PaymentBtnComponent() {\n\n  const [data, setData] = useState({\n    showPayment: false,\n  });\n\n  const sale = Sale();\n\n  const forPaid = helpers.getForPay(sale.items, sale.payments, sale.discount);\n\n  const pagado  = sale.discount === 0 ? helpers.getPagado(sale.payments) : helpers.getPagado(sale.payments) + sale.discount; \n  const paid = sale.subtotal <= pagado ? true : false;\n\n  //Functions\n  const handleShowPayment = () => {\n      setData({\n        ...data,\n        showPayment: true,\n      });\n    },\n    handleClosePayment = () => {\n      setData({\n        ...data,\n        showPayment: false,\n      });\n    };\n\n  return (\n    <>\n      <button\n        className=\"btn btn-success ml-2 d-print-none\"\n        onClick={handleShowPayment}\n        disabled={!sale.items.length || (sale.subtotal && paid)}\n      >\n        <i className=\"fas fa-money-bill-alt\"></i>\n      </button>\n      {data.showPayment && (\n        <PaymentModal\n          handleClose={handleClosePayment}\n          sale={{\n            ...sale,\n            contact_id: sale.customer.id,\n          }}\n          forPaid={forPaid}\n        />\n      )}\n    </>\n  );\n}\n","import { useContext } from 'react';\nimport helpers from \"../helpers.js\";\nimport { useHistory } from 'react-router-dom';\n\n\n//Context\nimport { AuthContext } from '../../../context/AuthContext';\nimport { Sale } from '../../../context/SaleContext';\n\nexport default function EraseSaleBtnComponent(props) {\n\n  const sale = Sale();\n  const disabled = sale.customer.id || sale.items.length ? false : true;\n  const {auth} = useContext(AuthContext);\n  const history = useHistory();\n\n  //Functions\n  const eraseSale = () => {\n      sale.set({\n        id: 0,\n        customer: {\n          id: 0,\n          name: \"venta de mostrador\",\n        },\n        contact_id: 2,\n        items: [],\n        session: helpers.getSession(),\n        discount: 0,\n        subtotal: 0,\n        total: 0,\n        payments: [],\n        branch_id: auth.branch.id,\n      })\n\n      if( props.match.params.id){\n        history.push('/notas');\n      }else{\n        return null\n      }\n    },\n\n    handleEraseSale = () => {\n      helpers.confirm(\"¿Desea terminar esta venta? La venta actual no se guardara\", eraseSale);\n    };\n\n  return (\n    <button\n      className=\"btn btn-warning ml-1\"\n      title=\"Nueva venta\"\n      onClick={handleEraseSale}\n      disabled={ disabled }\n    >\n      <i className=\"fas fa-window-close\"></i>\n    </button>\n  );\n}\n","import { useState, useContext } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\nimport { AuthContext } from \"../../../context/AuthContext\";\n\n//Hooks\nimport useContact from \"../../../hooks/useContact\";\n\n//Helper\nimport saleHelper from '../helpers';\n\nfunction SearchCustomerModal({ handleClose: _close }) {\n  const [data, setData] = useState({\n    textSearch: \"\",\n  });\n\n  const [customers, setCustomers ] = useState([]);\n\n  const sale = Sale();\n\n  const { auth } = useContext(AuthContext);\n\n  const  _contacts  = useContact();\n\n  //Functions\n  const handleClose = () => {\n      if (_close) _close();\n    },\n    handleChangeText = ({ value }) => {\n      setData({\n        textSearch: value,\n      });\n    },\n    handleKeyPressSearch = (key) => {\n      if (key === \"Enter\") {\n        if (data.textSearch.length > 4) {\n          return SearchCustomer();\n        }\n\n        window.Swal.fire({\n          title: \"Verificacion\",\n          text: \"Escriba un nombre valido, al menos 5 caracteres\",\n          icon: \"warning\",\n        });\n      }\n    },\n    SearchCustomer = () => {\n      const filters = {\n        search: data.textSearch,\n        itemsPage: \"25\",\n        orderBy: \"id\",\n        order: \"desc\",\n      };\n\n      _contacts.getContacts(filters).then((data)=>{\n        if(data){\n          setCustomers(data.data);\n        }else{\n          console.error(\"Error al obtener usuario\");\n        }\n      })\n    },\n    handleClickCustomer = (e, customer) => {\n      e.preventDefault();\n      \n      if (sale.customer.id !== customer.id) {\n        if (![0, 2].includes(sale.customer.id)) {\n          window.Swal.fire({  \n            title: \"Ventas\",\n            text: \"Esta accion creara una nueva venta ¿Esta seguro que desea crear una nueva venta?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Crear\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {                          \n              sale.set({\n                id: 0,\n                customer: {\n                  id:customer.id,\n                  name: customer.name,\n                },\n                contact_id: customer.id,\n                items: [],\n                session: saleHelper.getSession(),\n                discount: 0,\n                subtotal: 0,\n                total: 0,\n                payments: [],\n                branch_id: auth.branch.id,\n              })\n              _close();\n            }\n          });\n        } else {\n          sale.set({\n            ...sale,\n            customer:{\n              id: customer.id,\n              name: customer.name ? customer.name : \"Venta de mostrador\",\n            },\n            contact_id: customer.id\n          }).then(() =>  _close());\n        }\n      } else {\n        _close();\n      }\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione un cliente</h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"form-inline mb-3\">\n              <div className=\"form-group\">\n                <input\n                  className=\"form-control\"\n                  placeholder=\"Buscar cliente\"\n                  onChange={({ target }) => handleChangeText(target)}\n                  onKeyPress={({ key }) => handleKeyPressSearch(key)}\n                  onBlur={() => data.textSearch.length > 4 && SearchCustomer()}\n                  autoFocus={true}\n                />\n              </div>\n              <div className=\"form-group pl-2\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary btn-sm\"\n                  onClick={SearchCustomer}\n                  disabled={data.textSearch.length < 5}\n                >\n                  <i className=\"fas fa-search\"></i>\n                </button>\n              </div>\n            </div>\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              <table className=\"table table-sm\">\n                <tbody>\n                  {customers.map((customer) => (\n                    <tr key={customer.id}>\n                      <td className=\"text-right\">\n                        <span className=\"badge badge-dark\">{customer.id}</span>\n                      </td>\n                      <td className=\"text-left\">\n                        <a\n                          href=\"#select\"\n                          onClick={(e) => handleClickCustomer(e, customer)}\n                          className=\"text-capitalize\"\n                        >\n                          {customer.name.toLowerCase()}\n                        </a>\n                      </td>\n                    </tr>\n                  ))}\n                  {!customers.length && (\n                    <>\n                      {[0, 2].includes(sale.customer.id) ? (\n                        <tr>\n                          <td>No existen pacientes con esta coincidencia</td>\n                        </tr>\n                      ) : (\n                        <tr>\n                          <td>\n                            <span className=\"alert alert-warning text-center\">\n                              Cambiar de usuario, provocara cerrar la{\" \"}\n                              <strong>venta</strong> actual.\n                            </span>\n                          </td>\n                        </tr>\n                      )}\n                    </>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={handleClose}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SearchCustomerModal;\n","import { useState } from \"react\";\n\n//Componentes\nimport SearchCustomerModal from \"./SearchCustomerModal\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\nexport default function CustomerBtnComponent() {\n\n  // Modal\n  const [modal, setModal] = useState(false);\n\n  \n  const handleModal = () => {\n    setModal(!modal);\n  };\n\n  const sale = Sale();\n  \n  return (\n    <>\n      <i className=\"fas fa-user mr-1 text-indigo\"></i>\n      Cliente:\n      <label className=\"text-capitalize ml-1\">\n        {sale.customer ? sale.customer.name : \"XXX - vuelva a cargar\"}\n      </label>\n      <button\n        type=\"button\"\n        className=\"btn bg-indigo btn-sm ml-2\"\n        title=\"Buscar cliente\"\n        onClick={handleModal}\n      >\n        <i className=\"fas fa-exchange-alt\"></i>\n      </button>\n      {modal && <SearchCustomerModal handleClose={handleModal} />}\n    </>\n  );\n}\n\n","import moment from \"moment\";\n\nfunction PaymentModal({ payment = {}, handleClose: _close }) {\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Detalles del abono</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"row mb-2\">\n              <div className=\"col\">\n                <label className=\"mr-2\">Metodo de pago</label>\n                <span>{payment.metodoname}</span>\n              </div>\n              <div className=\"col\">\n                <label className=\"mr-2\">Cantidad abonada</label>\n                <span>${payment.total}</span>\n              </div>\n            </div>\n\n            {payment.banco && payment.banco.id ? (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <label className=\"mr-2\">Banco</label>\n                  <span>{payment.banco.value}</span>\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2\">Auth</label>\n                  <span>{payment.auth ?? \"--\"}</span>\n                </div>\n              </div>\n            ) : null}\n\n            {payment.id ? (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block\">Folio</label>\n                  <span>{payment.id}</span>\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block\">Fecha</label>\n                  {payment.created_at ? (\n                    <span>{moment(payment.created_at).format(\"LL\")}</span>\n                  ) : (\n                    <span>--</span>\n                  )}\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block text-uppercase\">Recibio</label>\n                  <span>\n                    {payment.created && payment.created.name\n                      ? payment.created.name\n                      : \"--\"}\n                  </span>\n                </div>\n              </div>\n            ) : (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <span className=\"alert alert-warning d-block text-bold\">\n                    <i className=\"fas fa-info-circle mr-1\"></i>\n                    Pago no acreditado!\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","import { useState } from \"react\";\n\nexport default function UpdateItemModal({\n  item,\n  close: _close,\n  handleUpdate: _update,\n}) {\n  const [data, setData] = useState({\n    cant: item.cant ?? 0,\n    price: item.price ?? 0,\n  });\n  //Functions\n  const handleChangeInput = ({ name, value }) => {      \n      setData({\n        ...data,\n        [name]: parseInt(value),\n      });\n    },\n\n    handleUpdateItem = () => {\n      _update({\n        ...item,\n        ...data,\n        subtotal: data.cant * data.price,\n      });\n    },\n\n    handleKeyPress = (key) => {\n      if (key === \"Enter\") handleUpdateItem();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">\n              <span className=\"text-capitalize text-truncate\">\n                {item.producto}\n              </span>\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"row my-2\">\n              <div className=\"col\">\n                <label>Cantidad</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form-control text-right\"\n                  name=\"cant\"\n                  defaultValue={data.cant}\n                  onChange={({ target }) => handleChangeInput(target)}\n                />\n              </div>\n              <div className=\"col\">\n                <label>Precio</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form-control text-right\"\n                  name=\"price\"\n                  defaultValue={data.price}\n                  onChange={({ target }) => handleChangeInput(target)}\n                  onKeyPress={({ key }) => handleKeyPress(key)}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleUpdateItem}\n            >\n              <i className=\"fas fa-save mr-1\"></i>\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useContext,useState } from \"react\";\n\n//Components\nimport PaymentDetails from \"./PaymentDetails\";\nimport UpdateItemModal from \"./UpdateItemModal\";\n\n// Context\nimport { Sale } from '../../../context/SaleContext';\nimport { AuthContext } from \"../../../context/AuthContext\";\n\n//Helper\nimport helpers from \"../helpers\";\n\n//Libraries\nimport moment from \"moment\";\n\nexport default function SalesDetailsTableComponent() {\n  const sale  = Sale();\n  const pagado  = sale.discount === 0 ? helpers.getPagado(sale.payments) : helpers.getPagado(sale.payments) + sale.discount; \n  const paid = sale.subtotal <= pagado ? true : false;\n  const { auth } = useContext(AuthContext);\n  const {roles} = auth;\n\n   const [data, setData] = useState({\n      showUpdateItem: false,\n      showPaymentDetails: false,\n      item: {},\n      payment: {},\n    });\n\n  //Functions\n  const handleDeleteItem = (item) => {\n      const newItems = sale.items.filter(\n        (product) => product.store_items_id !== item.store_items_id\n      );\n\n      let subtotal = helpers.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helpers.getTotal(subtotal, sale.discount),\n        subtotal:subtotal,\n      })\n    },\n\n    handleShowPaymentDetails = (e, payment) => {\n      if (e) e.preventDefault();\n\n      setData({\n        ...data,\n        showPaymentDetails: true,\n        payment,\n      });\n    },\n\n\n    handleDeleteDiscount = () => {\n      helpers.confirm(\"Realmente desea eliminar el descuento\", () => {\n        sale.set({\n          ...sale,\n          discount: 0\n        })\n      });\n    },\n\n\n    handleDeletePayment = ({ id, total, metodoname }) => {\n      const newPayments = sale.payments.filter(\n        (payment) => payment.id !== id\n      )\n\n      helpers.confirm(\n        `Realmente desea eliminar el pago de  $${total}`,\n        () => {        \n          sale.set({\n            ...sale,\n            payments:newPayments\n          })\n        }\n      );\n    },\n\n    handleShowUpdateItem = (e, item) => {\n      if (e) e.preventDefault();\n      setData({\n        ...data,\n        showUpdateItem: true,\n        item,\n      });\n    },\n\n    handleClosePaymentDetails = () => {\n      setData({\n        ...data,\n        showPaymentDetails: false,\n        payment: {},\n      });\n    },\n\n    handleUpdateItem = (item) => {\n      const newItems = sale.items.filter(\n        (i) => i.store_items_id !== item.store_items_id\n      );\n      newItems.push(item);\n\n      let subtotal = helpers.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items:newItems,\n        total: helpers.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      })\n\n      handleCloseUpdateItem();\n    },\n\n\n    handleCloseUpdateItem = () => {\n      setData({\n        ...data,\n        showUpdateItem: false,\n        item: {},\n      });\n    };\n\n     \n  /* const handlePrintShow = () => {\n    _saleHook.saveSale(sale);\n    window.addEventListener(\"afterprint\", handlePrint);\n    window.print();\n  }; */\n\n\n /*  const handlePrint = () => {\n    const path = window.location.pathname;\n\n    if (path !== \"/notas\") {\n      return false;\n    }\n\n    helpers.confirm(\"Cerrar la venta actual\", () => {\n      sale.set({\n        id: 0,\n      customer: {\n        id: 0,\n        name: \"venta de mostrador\",\n      },\n      contact_id: 2,\n      items: [],\n      session: helpers.getSession(),\n      discount: 0,\n      subtotal: 0,\n      total: 0,\n      payments: [],\n      })\n    });\n  }; */\n\n\n  return (\n    <>\n      <table className=\"table table-striped\">\n        <tbody>\n          {sale.items && sale.items.length ? (\n            <>\n              {sale.items.map((item, index) => {\n                const disabled = (sale.subtotal && paid) || sale.payments.length || sale.discount;\n                const diffDay = moment(Date.now()).diff(moment(sale.created_at),\"days\");\n                if (!item.store_items_id) return null;\n                return (\n                  <tr key={index}>\n                    {handleDeleteBtn(handleDeleteItem, item, disabled)}\n                    <td onClick={(e) => {\n                      if(roles === 'ventas' && diffDay !== 0 ){\n                        alert('No puedes editar esta venta!');\n                      }else{\n                        handleShowUpdateItem(null, item);\n                      }\n                    }}>\n                      <a\n                        href=\"#details\"\n                        className=\"text-muted w-full d-block text-uppercase\"\n                        onClick={(e) => {\n                          if(roles === 'ventas'){\n                            return null;\n                          }else{\n                            handleShowUpdateItem(e, item);\n                          }\n                        }}\n                      >                    \n                        {item.producto ? item.producto : item.name}                  \n                      </a>\n                      <label className=\"w-full d-block\">\n                        <span className=\"badge badge-dark mr-1\">\n                          {item.cant}\n                        </span>\n                        *\n                        <span\n                          className={item.price ? \"mx-1\" : \"mx-1 text-danger\"}\n                        >\n                          ${item.price}\n                        </span>\n                        =\n                        <span\n                          className={\n                            item.subtotal ? \"ml-1\" : \"ml-1 text-danger\"\n                          }\n                        >\n                          ${item.subtotal}\n                        </span>\n                      </label>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : null}\n          {sale.discount ? (\n            <tr>\n              {handleDeleteBtn(handleDeleteDiscount, null, paid)}\n              <td>\n                <span className=\"text-danger w-full d-block text-uppercase\">\n                  Descuento\n                </span>\n                <label className=\"w-full d-block\">\n                  <span className=\"ml-1 text-danger\">- ${sale.discount}</span>\n                </label>\n              </td>\n            </tr>\n          ) : null}\n          {sale.payments.length ? (\n            <>\n              {sale.payments.map((pay, index) => {\n                const diffPay = moment(Date.now()).diff(moment(pay.created_at),\"days\");\n                  const disabled = (roles === 'admin') ? false : (roles === 'ventas') ? diffPay === 0 ? false: true : false; \n                return (\n                  <tr key={index}>\n                    {handleDeleteBtn(handleDeletePayment, pay, disabled)}               \n                    <td>\n                      <a\n                        href=\"#link\"\n                        className=\" w-full d-block text-uppercase\"\n                        onClick={(e) => handleShowPaymentDetails(e, pay)}\n                      >\n                        <span\n                          className={\n                            pay.id ? \"text-success\" : \"text-warning text-bold\"\n                          }\n                        >\n                          Abono\n                        </span>\n                        <span className=\"ml-1 text-muted\">\n                          {pay.metodoname}\n                        </span>\n                      </a>\n                      <label className=\"w-full d-block\">\n                        <span className=\"ml-1 text-muted\">\n                          {moment(pay.created_at).format(\"LL\")},\n                        </span>\n                        <span className=\"ml-1\">${pay.total}</span>\n                      </label>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : null}\n          {paid && sale.subtotal ? (\n            <tr className=\"table-info\">\n              <td colSpan=\"2\">\n                <span className=\" w-full d-block text-uppercase text-center text-bold\">\n                  <i className=\"fas fa-info-circle mr-1 text-primary\"></i>\n                  Cuenta pagada\n                </span>\n              </td>\n            </tr>\n          ) : null}\n        </tbody>\n      </table>\n      {data.showPaymentDetails && (\n        <PaymentDetails\n          handleClose={handleClosePaymentDetails}\n          payment={data.payment}\n        />\n      )}\n      {data.showUpdateItem && (\n        <UpdateItemModal\n          item={data.item}\n          handleUpdate={handleUpdateItem}\n          close={handleCloseUpdateItem}\n        />\n      )}\n    </>\n  );\n}\n\nfunction handleDeleteBtn(toDo, data = null, disabled = false) {\n  return (\n    <td style={{ width: 32 }}>\n      <button\n        type=\"button\"\n        className={disabled ? \"btn btn-default disabled\" : \"btn btn-default\"}\n        onClick={() => {\n          if (toDo) {\n            if (data) toDo(data);\n            else toDo();\n          }\n        }}\n        disabled={disabled}\n      >\n        <i className=\"fas fa-trash text-muted\"></i>\n      </button>\n    </td>\n  );\n}\n","import { Sale } from \"../../../context/SaleContext\";\nimport moment from \"moment\";\n\nexport default function CustomerBtnComponent() {\n\n    const sale = Sale();\n    return(\n        <div>\n            <label className=\"mx-1\">Folio:</label>\n            <span className=\"mx-1\">{sale.id ? sale.id : \"Nuevo\"}</span> \n            <label className=\"mx-1\">Fecha:</label>\n            <span className=\"mx-1\">\n            {moment(sale.created_at).format(\"L\")}\n            </span>\n            {sale.pedido ? (\n            <>\n                <label className=\"mx-1\">Pedido:</label>\n                <span className=\"mx-1\">{sale.pedido}</span>\n            </>\n            ) : null}\n        </div>\n    );\n}\n","import { Sale } from '../../../context/SaleContext';\nimport helpers from \"../helpers.js\";\n\n\nexport default function ShowToPay(){\n    const sale = Sale();\n    return(\n        <>\n            <span className=\"text-lg\">Por pagar:</span>\n            <label className=\"text-lg ml-1\">\n                ${helpers.getForPay(sale.items, sale.payments, sale.discount)}\n            </label>\n        </>\n    )\n}\n","import { Sale } from '../../../context/SaleContext';\n\nexport default function ShowTotal(){\n    const sale = Sale();\n    return(\n        <>\n            <span className=\"text-lg\">Total:</span>\n            <label className=\"text-lg ml-1\">${sale.subtotal}</label>\n        </>    \n    )\n}\n","import Activitys from \"../../Activitys\"\n\nexport default function InfoModal({handleClose:_close, data}){\n    return(\n        <div className=\"modal d-block\">      \n        <div className=\"modal-dialog modal-lg\" role=\"document\">\n\n            <div className=\"modal-content\">\n            <div className=\"modal-header\">\n                <h5 className=\"modal-title\">Actividad</h5>\n                <button type=\"button\" className=\"close\" onClick={() => _close()}>\n                <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <Activitys\n                data = {data}\n            />           \n\n            <div className=\"modal-footer\">                \n                    <button\n                    type=\"button\"\n                    className=\"btn btn-default\"\n                    onClick={() => _close()}\n                    >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                        Cerrar\n                    </button>                \n\n            </div>\n            </div>\n        </div>\n    </div> \n    )\n}","import { useState,useContext } from \"react\";\nimport { SaleContext } from \"../../../context/SaleContext\"\nimport InfoModal from \"./InfoModal\";\n\nexport default function InfoButton(){\n\n    const saleContext = useContext(SaleContext);\n\n    const [showModal, setShowModal] = useState(false);\n\n    return(\n        <div>\n            <button\n                className=\"btn btn-info ml-2\"\n                title=\"Ver actividad\"\n                disabled = {saleContext.id ? false : true}\n                onClick = {()=> setShowModal(true)}                \n            >\n                <i className=\"fas fa-info\"></i>\n             </button>\n            {showModal ? (\n                <InfoModal\n                    data = {saleContext.activitys ?? []}                \n                    handleClose = {()=>{setShowModal(false)}}\n                />\n            ):null}\n        </div>\n    \n    \n\n\n    )\n};","import { useEffect, useState, useContext } from \"react\";\n//Components\nimport InputSearchItem from '../components/Sales/views/InputSearchItem';\nimport DiscountBtnComponent from \"../components/Sales/views/DiscountBtn\";\nimport ListSalesBtn from \"../components/Sales/views/ListSalesBtn\";\nimport PrintSaleComponent from \"../components/Sales/views/Print_sale\";\nimport PaymentBtnComponent from \"../components/Sales/views/PaymentBtn\";\nimport EraseBtn from \"../components/Sales/views/EraseSaleBtn\";\nimport CustomerBtnComponent from \"../components/Sales/views/CustomerBtn\";\nimport SalesDetailsTableComponent from \"../components/Sales/views/SalesDetailsTable\";\nimport SaleDate from \"../components/Sales/views/SaleDate\";\nimport ShowToPay from \"../components/Sales/views/ShowToPay\";\nimport ShowTotal from \"../components/Sales/views/ShowTotal\";\nimport saleHelper from '../components/Sales/helpers';\n//import InfoModal from \"../components/Sales/views/InfoModal\";\nimport InfoButton from \"../components/Sales/views/InfoButton\";\n\n//Context\nimport {SaleContext} from '../context/SaleContext';\nimport { AuthContext } from \"../context/AuthContext\";\n\n//Hook\nimport useSales from '../hooks/useSale';\n\n\nexport default function IndexSalesComponent(props) {\n\n  const {auth} = useContext(AuthContext);\n  const hookSale = useSales();\n\n\n  const [state, setState] = useState({\n    id: 0,\n    customer: {\n      id: 0,\n      name: \"venta de mostrador\",\n    },\n    contact_id: 2,\n    items: [],\n    session: saleHelper.getSession(),\n    discount: 0,\n    subtotal: 0,\n    total: 0,\n    payments: [],\n    branch_id: auth.branch.id,\n    activitys: [],\n  })\n\n\n  useEffect(() => {\n\n    return () => {\n      console.log(\"[Orus Systme] Cerrando venta\");\n      localStorage.setItem(\"OrusSales\", \"{}\");\n    };\n\n  }, []);// eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    let sum = 0,\n      pagado = 0;\n\n    state.items.forEach((item) => (sum += item.subtotal));\n    state.payments.forEach((pay) => (pagado += pay.total));\n\n    if(props.match.params.id){\n      hookSale.getSaleById(props.match.params.id).then((data)=>{\n        if(data){\n          setState({\n            ...state,\n            id: data.data.id,\n            contact_id: data.data.customer.id,\n            items: data.data.items,\n            session: data.data.session,\n            discount: data.data.discount,    \n            subtotal: data.data.subtotal,\n            total: data.data.total,\n            payments: data.data.payments, \n            branch_id:data.data.branch.id,\n            created_at: data.data.created_at,\n            activitys: data.data.activity,\n            pagado                                   \n          })\n        }\n      })\n    }else{\n      setState({\n        ...state,\n        pagado                                         \n      })\n    }\n  },[]);// eslint-disable-line react-hooks/exhaustive-deps\n  const handleSet = (obj) => {\n    return new Promise(done => {\n      setState(obj);\n      done();\n    });\n  }\n\n\n  return (\n    <SaleContext.Provider value={{ ...state, set: handleSet }}>\n      <div className=\"card border border-gray\">\n        <div className=\"card-body pb-2 d-print-none\">\n          <nav className=\"row\">\n            <div className=\"col\">\n              <CustomerBtnComponent/>\n            </div>\n\n            <div className=\"col\">\n              <SaleDate></SaleDate>\n            </div>\n\n            <div className=\"col-3\">\n              <div className=\"card-tools d-flex justify-content-end mb-3\">      \n\n                <ListSalesBtn/>                \n\n                <DiscountBtnComponent/>\n\n                <EraseBtn\n                  {...props}\n                />\n\n                <InfoButton/>\n\n              </div>\n            </div>\n          </nav>\n          <div\n            className=\"overflow-auto text-right p-0 border border-gray\"\n            style={{ height: \"27rem\" }}\n          >\n            <SalesDetailsTableComponent/>\n          </div>\n          \n        </div>\n        \n\n        <div className=\"card-footer\">\n          <div className=\"row\">\n            <div className=\"col d-print-none\">\n              <ShowTotal/>\n            </div>\n\n            <div className=\"col d-print-none\">\n              <ShowToPay/>\n            </div>\n\n            <div className=\"col-6 text-right\">\n              <InputSearchItem/>\n\n              <PaymentBtnComponent/>\n\n              <PrintSaleComponent/>\n            </div>\n          </div>\n        </div>\n      </div>\n    </SaleContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api, setUrl } from \"../../../utils/url\";\n\nexport default function ReportPaymentsDetails({ filters }) {\n  const [state, setState] = useState({\n    payments: [],\n    meta: {},\n    page: 1,\n    load: false,\n  });\n\n  const getSaleDay = async () => {\n    const paymentsFilters = {\n      ...filters,\n    };\n\n    paymentsFilters.itemsPage = 12;\n    paymentsFilters.page = state.page;\n\n    const paymentsUrl = setUrl(\"payments\", null, paymentsFilters);\n\n    const { data, message, meta } = await api(paymentsUrl);\n\n    if (data) {\n      setState({\n        ...state,\n        payments: data,\n        meta: meta,\n        load: false,\n      });\n    } else if (message) {\n      setState({\n        ...state,\n        load: false,\n      });\n\n      console.error(\"[Orus system] Error in report payments details:\", message);\n      window.Swal.fire(\"Fallo de conexion\", message, \"error\");\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [filters, state.page]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">Detallado</h3>\n      </div>\n      <div className=\"card-body\">\n        <table className=\"table table-sm\">\n          <thead>\n            <tr>\n              <th>Metodo</th>\n              <th>Cliente</th>\n              <th>Pedido</th>\n              <th>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {state.load ? (\n              <tr>\n                <td colSpan=\"4\" className=\"text-center p-4\">\n                  <div\n                    className=\"spinner-border text-primary mr-4\"\n                    role=\"status\"\n                  >\n                    <span className=\"sr-only\">Loading...</span>\n                  </div>\n                  <span className=\"font-weight-light font-italic\">\n                    Espere cargando datos de pagos\n                  </span>\n                </td>\n              </tr>\n            ) : state.payments.length ? (\n              state.payments.map((pay) => {\n                return (\n                  <tr\n                    key={pay.id}\n                    className={pay.metodo === 1 ? \"text-success\" : \"\"}\n                  >\n                    <th className=\"text-uppercase\">{pay.metodoname}</th>\n                    <td className=\"text-capitalize\">\n                      {pay.sale && pay.sale.customer\n                        ? pay.sale.customer.nombre\n                        : \"--\"}\n                    </td>\n                    <td>\n                      <span\n                        className=\"badge badge-primary\"\n                        alt={\"Cobrado por: \" + pay.created_user}\n                        title={\"Cobrado por: \" + pay.created_user}\n                      >\n                        {pay.sale && pay.sale.pedido ? pay.sale.pedido : \"--\"}\n                      </span>\n                    </td>\n                    <td className=\"text-right\">{dollarUS.format(pay.total)}</td>\n                  </tr>\n                );\n              })\n            ) : (\n              <tr>\n                <th colSpan=\"4\" className=\"text-center\">\n                  <h6 className=\"text-warning\">\n                    <i className=\"fas fa-info mr-2\"></i>\n                    No hay datos para este dia\n                  </h6>\n                </th>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n      {state.meta.total ? (\n        <div className=\"card-footer\">\n          {state.meta.current_page === 1 ? (\n            <a href=\"#next\" onClick={(e) => e.preventDefault()}>\n              <i className=\"fas fa-step-backward text-dark\"></i>\n            </a>\n          ) : (\n            <a\n              href=\"#next\"\n              onClick={(e) => {\n                e.preventDefault();\n                setState({\n                  ...state,\n                  page: state.page - 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-step-backward\"></i>\n            </a>\n          )}\n          {\" \" + state.page + \" / \" + state.meta.last_page + \" \"}\n          {state.meta.current_page === state.meta.last_page ? (\n            <a href=\"#next\" onClick={(e) => e.preventDefault()}>\n              <i className=\"fas fa-step-forward text-dark\"></i>\n            </a>\n          ) : (\n            <a\n              href=\"#next\"\n              onClick={(e) => {\n                e.preventDefault();\n                setState({\n                  ...state,\n                  page: state.page + 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-step-forward\"></i>\n            </a>\n          )}\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api } from \"../../../utils/url\";\n\nexport default function ReportPays({ filters, changeState }) {\n  const { user, date_end, date_start } = filters;\n\n  const [state, setState] = useState({\n    rol: user.roles,\n    total: 0,\n    efectivo: 0,\n    page: 1,\n    char: null,\n  });\n\n  const getSaleDay = async () => {\n    const newFiltersPays = {\n      ...filters,\n    };\n\n    newFiltersPays.itemsPage = 12;\n    newFiltersPays.page = state.page;\n    newFiltersPays.type = \"methods\";\n\n    //const reportPaysUrl = setUrl(\"payments\", null, newFiltersPays);\n\n    const { data, message } = await api(\n      `payments?date_start=${date_start}&date_end=${date_end}&itemsPage=12&page=1&type=methods`\n    );\n\n    if (data) {\n      var donutChartCanvas = window.$(\"#donutChart\").get(0).getContext(\"2d\"),\n        donutOptions = {\n          maintainAspectRatio: true,\n          responsive: true,\n        },\n        labels = [],\n        values = [],\n        total = 0,\n        efectivo = 0,\n        donutData = {};\n\n      if (state.char) state.char.destroy();\n\n      if (!data.message) {\n        if (data && data.length) {\n          await data.map((mp) => {\n            labels.push(mp.method);\n            values.push(mp.total.toFixed(2));\n            if (mp.method === \"efectivo\") {\n              changeState(\"ventas\", mp.total);\n              efectivo = mp.total;\n            }\n            total += mp.total;\n            return null;\n          });\n        } else {\n          labels = [\"No hay datos\"];\n          values = [0];\n        }\n\n        setState({\n          ...state,\n          total,\n          efectivo,\n        });\n      } else {\n        console.error(\"[ORUS] Error al cargar la venta del dia\", data.message);\n        labels = [\"No hay datos\"];\n        values = [100];\n      }\n      donutData = {\n        labels: labels,\n        datasets: [\n          {\n            data: values,\n            backgroundColor: [\n              \"#f56954\",\n              \"#00a65a\",\n              \"#f39c12\",\n              \"#00c0ef\",\n              \"#3c8dbc\",\n              \"#d2d6de\",\n              \"#000\",\n            ],\n          },\n        ],\n      };\n      state.char = new window.Chart(donutChartCanvas, {\n        type: \"pie\",\n        data: donutData,\n        options: donutOptions,\n      });\n    } else {\n      window.Swal.fire({\n        title: \"Error!\",\n        text: \"Ups!\\n Hubo un error al descargar las ventas\",\n        icon: \"error\",\n        confirmButtonText: \"Ok\",\n      });\n\n      return message;\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [filters]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">\n          {state.rol\n            ? \"Mis ventas del dia por metodo de pago\"\n            : \"Ventas del dia por metodo de pago\"}\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        <canvas id=\"donutChart\"></canvas>\n        <p>\n          {!state.rol ? (\n            <React.Fragment>\n              Venta: <strong>{dollarUS.format(state.total)}</strong>\n              <br />\n            </React.Fragment>\n          ) : null}\n          Efectivo: <strong>{dollarUS.format(state.efectivo)}</strong>\n        </p>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api, setUrl } from \"../../../utils/url\";\n\nexport default function ReportBank({ filters }) {\n  const [state, setState] = useState({\n    listBank: [],\n    page: 1,\n    data: [],\n    load: false,\n  });\n\n  const getSaleDay = async () => {\n    const bankFilters = {\n      ...filters,\n    };\n\n    bankFilters.itemsPage = 12;\n    bankFilters.page = state.page;\n    bankFilters.type = \"banks\";\n\n    const bankUrls = setUrl(\"payments\", null, bankFilters);\n\n    const { data, message } = await api(bankUrls);\n\n    if (data) {\n      setState({\n        ...state,\n        data: data,\n        load: false,\n      });\n    } else if (message) {\n      setState({\n        ...state,\n        load: false,\n      });\n      console.error(\"[Orus system] Error in report payments details:\", message);\n      window.Swal.fire(\"Fallo de conexion\", message, \"error\");\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [filters]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">\n          Detallado de pagos bancarios\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        {state.load ? (\n          <div>\n            <div className=\"spinner-border text-primary mr-4\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </div>\n            <span className=\"font-weight-light font-italic\">\n              Espere cargando datos de banco\n            </span>\n          </div>\n        ) : (\n          <ul className=\"list-group\">\n            {state.data.length ? (\n              state.data.map((bank, i) => {\n                return (\n                  <li\n                    className=\"list-group-item d-flex justify-content-between align-items-center\"\n                    key={i}\n                  >\n                    <label className=\"text-uppercase\">{bank.name}</label>\n                    <span className=\"badge badge-primary\">\n                      {dollarUS.format(bank.total)}\n                    </span>\n                  </li>\n                );\n              })\n            ) : (\n              <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n                <h6 className=\"text-warning\">\n                  <i className=\"fas fa-info mr-2\"></i>\n                  No hay datos para este dia\n                </h6>\n              </li>\n            )}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { useContext, useState, useEffect } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\n//Context\nimport { ConfigContext } from \"../../context/ConfigContext\";\n\n//Hooks\nimport useUsers from \"../../hooks/useUsers\"\n\nexport default function Filters({ filters, changeState }) {  \n\n  const { user, branch_id, date_end, date_start } = filters;\n  const [state, setState] = useState({\n    branch_id: branch_id,\n    user: user,\n    date_start,\n    date_end,\n  });\n  \n  const [usersList, setUsersList] = useState([]);\n  const usersHook = useUsers();\n  const config = useContext(ConfigContext);\n  const branches = config.data.filter((c) => c.name === \"branches\");\n\n\n  \n  // Functions\n  const sendDataFilter = () => {\n      const { user, branch_id, date_end, date_start } = state;\n      changeState({\n        branch_id,\n        user,\n        date_start,\n        date_end,\n      });\n    },\n    handleChangeDate = (field, date) => {\n      setState({\n        ...state,\n        [field]: moment(date).format(\"YYYY-MM-DD\"),\n      });\n    };\n\n    useEffect(()=>{\n      usersHook.getListUsers().then((data)=>{\n        if(data){\n          setUsersList(data.data)\n        }else{\n          console.error(\"Error al obtener la lista de usuarios\");\n        }\n      })\n    },[])// eslint-disable-line react-hooks/exhaustive-deps\n  return (\n    <div className=\"border-bottom pb-3 mb-4\">\n      <div className=\"card-body p-0 bg-light\">\n        <div className=\"form-group row col-lg-12 m-0\">\n          <div className=\"col-lg-1 mt-sm-3 ml-sm-3\">\n            <p className=\"mt-2 font-weight-bold text-secondary h5\">Filtros</p>\n          </div>\n\n          <div className=\"col-lg-2 mt-sm-3\">\n            <div className=\"col-lg-12\">\n              <select\n                className=\"form-control text-capitalize\"\n                defaultValue={branch_id}\n                onChange={({ target }) =>\n                  setState({ ...state, branch_id: target.value })\n                }\n              >\n                <option value=\"\">\n                  {branch_id === \"\" ? \"Sucursal\" : \"Todas\"}\n                </option>\n                {branches.map((branch) => {\n                  return (\n                    <option key={branch.id} value={branch.id}>\n                      {branch.data.name}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"col-lg-2 mt-sm-3\">\n            <div className=\"col-lg-12\">\n              <select\n                className=\"form-control text-capitalize\"\n                defaultValue={user}\n                onChange={({ target }) =>\n                  setState({ ...state, user: target.value })\n                }\n              >\n                <option value=\"\">{user === \"\" ? \"Usuarios\" : \"Todos\"}</option>\n                {usersList.map((user) => {\n                  if (!branch_id) {\n                    return (\n                      <option key={user.id} value={user.id}>\n                        {user.name}\n                      </option>\n                    );\n                  } else {\n                    return user.roles[0] !== \"doctor\" ? (\n                      <option key={user.id} value={user.id}>\n                        {user.name}\n                      </option>\n                    ) : null;\n                  }\n                })}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"row mt-sm-3 m-0 ml-sm-2\">\n            <label className=\"col-lg-1 col-form-label p-0 ml-5 mt-2 ml-sm-3\">\n              De:\n            </label>\n            <div className=\"col-lg-10\">\n              <DatePicker\n                className=\"form-control\"\n                selected={\n                  new Date(moment(state.date_start).format(\"MM-DD-YYYY\"))\n                }\n                onSelect={(date) => handleChangeDate(\"date_start\", date)}\n                onChange={(date) => handleChangeDate(\"date_start\", date)}\n              />\n            </div>\n          </div>\n\n          <div className=\"row mt-sm-3 m-0\">\n            <label className=\"col-lg-1 col-form-label p-0 mt-2 ml-sm-3\">\n              a:\n            </label>\n            <div className=\"col-lg-10\">\n              <DatePicker\n                className=\"form-control\"\n                selected={new Date(moment(state.date_end).format(\"MM-DD-YYYY\"))}\n                onSelect={(date) => handleChangeDate(\"date_end\", date)}\n                onChange={(date) => handleChangeDate(\"date_end\", date)}\n              />\n            </div>\n          </div>\n\n          <div className=\"col-lg-2 row mt-sm-3 d-flex justify-content-center m-0 h-50\">\n            <button\n              type=\"button\"\n              className=\"btn w-50 btn-success font-weight-bold\"\n              onClick={sendDataFilter}\n            >\n              Filtrar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { Component } from \"react\";\n\n//Componentes\nimport { dollarUS } from \"../../utils/current\";\n\nexport default class BoxCut extends Component {\n  render() {\n    const { ventas } = this.props;\n\n    return (\n      <div className=\"card border border-info rounded\">\n        <div className=\"card-body bg-light\">\n          <h2 className=\"card-title text-secondary\">Efectivo de caja</h2>\n          <br />\n          <div className=\"row\">\n            <div className=\"col\">\n              <h5 className=\"text-success\">{dollarUS.format(ventas)}</h5>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import { useState, useContext } from \"react\";\nimport moment from \"moment\";\n\nimport PaymentsDetails from \"../components/Sales/views/reportPaymentsDetails\";\nimport ReportPays from \"../components/Sales/views/reportPays\";\nimport ReportBank from \"../components/Sales/views/reportBank\";\nimport Filters from \"../components/dashboard/Filters\";\nimport BoxCut from \"../components/dashboard/boxCut\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Dashboard() {\n  const { auth } = useContext(AuthContext);\n\n  const [state, setState] = useState({\n    user: 0,\n    date_start: moment().startOf(\"week\").format(\"YYYY-MM-DD\"),\n    date_end: moment().format(\"YYYY-MM-DD\"),\n    branch_id: auth.branch.id,\n    ventas: 0,\n    filterData: {},\n  });\n\n  const filtersState = {\n    user: state.user,\n    date_start: state.date_start,\n    date_end: state.date_end,\n    branch_id: state.branch_id,\n  };\n  \n  const changeAllState = (obj) => {\n    if (typeof obj !== \"object\") {\n      console.error(\"[Orus system] The filters data not is a object:\", obj);\n      return;\n    }\n\n    setState({\n      ...state,\n      ...obj,\n    });\n  };\n\n  return (\n    <div className=\"content\" style={{minHeight:'100vh'}}>\n      <p className=\"h4 border-bottom mb-4\">\n        Bienvenido\n        <span className=\"font-weight-bold mx-2 text-capitalize\">\n          {auth.name.toLowerCase()}\n        </span>\n        este es el resumen.\n      </p>\n\n      <div className=\"row\">\n        <div className=\"col col-md-12 col-lg-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <Filters filters={filtersState} changeState={changeAllState} />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col-lg-4 col-md-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <BoxCut ventas={state.ventas} />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <ReportPays filters={filtersState} changeState={changeAllState} />\n            </div>\n          </div>\n        </div>\n        <div className=\"col-lg-8 col-md-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-4 col-md-12\">\n              <ReportBank filters={filtersState} changeState={changeAllState} />\n            </div>\n            <div className=\"col-lg-8 col-md-12\">\n              <PaymentsDetails\n                filters={filtersState}\n                changeState={changeAllState}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { createContext, useContext } from \"react\";\n\nexport const UserContext = createContext(null);\nexport const Users = ()=> useContext(UserContext);","import { useContext } from \"react\";\nimport { UserContext } from \"../../../context/UserContext\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function FiltersToolbar({handleNewOrEdit: _handleNewOrEdit, newOrEdit: _newOrEdit}){\n\n    const _userContext = useContext(UserContext)\n    const history = useHistory();\n    \n    return (\n          <div className=\"col-lg-12\">\n\n\n            <button \n\n              className={\n                _userContext.panel !== \"inbox\"\n                  ? \"disabled mb-3 btn btn-secondary btn-block\"\n                  : \"mb-3 btn btn-primary btn-block\"\n              }\n\n              onClick={(e) => {\n                e.preventDefault();\n                _handleNewOrEdit()\n              }}\n\n              disabled={ _newOrEdit}\n              >\n                <i className=\"mr-2 fas fa-plus\"></i>\n                Usuario nuevo\n            </button>\n    \n            {!_newOrEdit ? (\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-dark\">\n                    <i className=\"mr-2 fas fa-ellipsis-v\"></i>Filtros\n                  </h5>\n                </div>\n                <div className=\"p-0 card-body\">\n                  <ul className=\"nav nav-pills flex-column\">\n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"orderby\">Ordenar por</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"orderby\"\n                        id=\"orderby\"\n                        value={_userContext.options.orderby}\n                        onChange={({ target }) => {\n\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"created_at\">Fecha de registro</option>\n                        <option value=\"updated_at\">Fecha de modificacion</option>\n                      </select>\n                    </li>\n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"order\">Mostrar por</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"order\"\n                        id=\"order\"\n                        value={_userContext.options.order}\n                        onChange={({ target }) => {\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"asc\">Antiguos</option>\n                        <option value=\"desc\">Recientes</option>\n                      </select>\n                    </li>\n    \n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"itemsPage\">Numero de usuarios</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"itemsPage\"\n                        id=\"itemsPage\"\n                        value={_userContext.options.itemsPage}\n                        onChange={({ target }) =>{\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"25\">ver 25</option>\n                        <option value=\"50\">ver 50</option>\n                        <option value=\"75\">ver 75</option>\n                        <option value=\"100\">ver 100</option>\n                      </select>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            ) : (\n              <div>\n                <li className=\"list-group-item\">\n              <a\n                href=\"#back\"\n                className=\"d-flex justify-content-between align-items-center\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  _handleNewOrEdit();\n                  history.push('/usuarios');\n                }}\n              >\n                Ver listado\n                <span className=\"badge badge-primary badge-pill\">\n                  <i className=\"fas fa-chevron-left\"></i>\n                </span>\n              </a>\n            </li>\n              </div>\n            )}\n          </div>\n    )\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { useEffect, useState, useContext } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\nimport { UserContext } from \"../../../context/UserContext\";\nimport ListInbox from \"../../../layouts/list_inbox\";\nimport { useHistory } from \"react-router-dom\";\n//import { AuthContext } from '../../../context/AuthContext';\n\nexport default function InboxComponent() {\n  const history = useHistory();\n  const _users = useUsers();\n  const _userContext = useContext(UserContext);\n  //const _authContext = useContext(AuthContext);\n  const [userSelected, setUserSelected] = useState(\"\");\n\n  const [data, setData] = useState({\n    users: [],\n    meta: {},\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  const { users, meta } = data;\n\n  const handleChangeOptions = (key, value) => {\n    _userContext.set({\n      ..._userContext,\n      options: {\n        ..._userContext.options,\n        [key]: value,\n      },\n    });\n  };\n\n  const deleteItem = () => {\n    setLoading(true);\n    _users\n      .deleteUser(userSelected)\n      .then((data) => {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Usuario eliminado correctamente\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n\n        setUserSelected({ id: 0 });\n\n        _users.getListUsers(_userContext.options).then((data) => {\n          if (data) {\n            setData({\n              ...data,\n              users: data.data,\n              meta: data.meta,\n            });\n            setLoading(false);\n          }\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  const handleSelectUser = (e, order = { id: 0 }) => {\n    if (userSelected) {\n      history.push(`usuarios/${userSelected}`);\n    } else {\n      window.Swal.fire({\n        title: \"Error\",\n        text: \"Lo sentimos no existe un contacto seleccionado\",\n        icon: \"error\",\n      });\n    }\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    _users.getListUsers(_userContext.options).then((data) => {\n      if (data) {\n        setData({\n          ...data,\n          users: data.data,\n          meta: data.meta,\n        });\n        setLoading(false);\n      } else {\n        console.error(\"Error al obtener los datos\");\n      }\n    });\n  }, [_userContext.options]);\n\n  return (\n    <ListInbox\n      title=\"Lista de productos\"\n      icon=\"id-badge\"\n      color=\"primary\"\n      loading={loading}\n      meta={meta}\n      itemSelected={userSelected}\n      defaultSearch={_userContext.options.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleDeleteItem={deleteItem}\n      handleEditItem={handleSelectUser}\n      handleSync={() => {\n        _userContext.set({\n          ..._userContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n          },\n        });\n      }}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Email/Usuario</th>\n            <th>Rol</th>\n            <th>Sucursal</th>\n            {_userContext.options.orderby === \"created_at\" ? (\n              <th>Creado</th>\n            ) : (\n              <th>Modificado</th>\n            )}\n          </tr>\n        </thead>\n        <tbody>\n          {users.length ? (\n            <>\n              {users.map((user) => {\n                return (\n                  <tr key={user.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={user.id}\n                        id={\"item_\" + user.id}\n                        checked={userSelected === user.id ? true : false}\n                        onChange={({ target }) => {\n                          const { value, checked } = target;\n                          setUserSelected(checked ? parseInt(value) : \"\");\n                          //handleUserSelect(target);\n                        }}\n                      />\n                      <label\n                        htmlFor={\"item_\" + user.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td\n                      className=\"mailbox-name text-capitalize text-truncate text-bold text-primary\"\n                      style={{ cursor: \"pointer\", maxWidth: 180 }}\n                      onClick={(e) => {\n                        //handleSelectUser(e, user)\n                        history.push(`usuarios/${user.id}`);\n                      }}\n                    >\n                      {user.name}\n                    </td>\n                    <td className=\"mailbox-name text-muted text-truncate\">\n                      <span>{user.email}</span>\n                    </td>\n                    <td className=\"mailbox-name \">\n                      <span className={getClassByRole(user.roles[0])}>\n                        {user.roles[0]}\n                      </span>\n                    </td>\n                    <td className=\"text-truncate\">\n                      <span className=\"text-capitalize\">\n                        {user.branch.data.name}\n                      </span>\n                    </td>\n                    {_userContext.options.orderby === \"created_at\" ? (\n                      <td className=\"mailbox-date text-muted text-truncate\">\n                        <span>{moment(user.created_at).format(\"LL\")}</span>\n                      </td>\n                    ) : (\n                      <td className=\"mailbox-date text-muted text-truncate\">\n                        <span>{moment(user.updated_at).fromNow()}</span>\n                      </td>\n                    )}\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"6\">\n                No hay usuarios registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </ListInbox>\n  );\n}\n\nfunction getClassByRole(role) {\n  switch (role) {\n    case \"admin\":\n      return \"text-capitalize badge badge-pill badge-dark\";\n    case \"ventas\":\n      return \"text-capitalize badge badge-pill badge-success\";\n    default:\n      return \"text-capitalize badge badge-pill badge-primary\";\n  }\n}\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { UserContext } from \"../context/UserContext\";\n\n//Components\nimport FiltersToolbar from \"../components/Users/views/FiltersToolbar\";\nimport Inbox from \"../components/Users/views/Inbox\";\nimport Add from \"../components/Users/add\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n  search: \"\",\n};\n\nexport default function UsersComponent(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    panel: null,\n    newOrEdit: null,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <UserContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <div className=\"col-lg-2\">\n          <FiltersToolbar\n            newOrEdit={state.newOrEdit}\n            handleNewOrEdit={() =>\n              setState({\n                ...state,\n                newOrEdit: !state.newOrEdit,\n              })\n            }\n          />\n        </div>\n\n        <div className=\"col-lg-10\">\n          {typeof state.newOrEdit === \"boolean\" ? (\n            <div className=\"col-sm-10 col-md-12 col-lg-12\">\n              {state.newOrEdit === true ? (\n                <Add\n                  {...props}\n                  handleNewOrEdit={() =>\n                    setState({\n                      ...state,\n                      newOrEdit: !state.newOrEdit,\n                    })\n                  }\n                />\n              ) : state.newOrEdit === false ? (\n                <Inbox />\n              ) : null}\n            </div>\n          ) : (\n            <p>Loading component</p>\n          )}\n        </div>\n      </div>\n    </UserContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const OrderContext = createContext(null);\nexport const Order = () => useContext(OrderContext);\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useOrder(){\n\n    const getListOrders = async (options)=> {\n        const url = setUrl('orders', null, options);\n        return await api(url);\n    }\n\n    const getOrder = async (orderID)=>{\n        const url = setUrl('orders', orderID.id);\n        return await api(url);\n    }\n\n    const saveOrder = async (data)=>{\n        const method = data.id ? 'PUT' : 'POST';\n        if(data.status === 2 && !data.bi_details.length){\n            delete data.bi_details;\n        }    \n        const url = setUrl('orders', data.id);\n        delete data.id;\n        return await api(url, method, data);\n    }\n    \n    const deleteOrder = async (id)=>{\n        const method = \"DELETE\";\n        const url = setUrl('orders', id);\n        return await api(url, method);\n    }\n    \n    return{\n        getListOrders,\n        getOrder,\n        deleteOrder,\n        saveOrder,\n    }\n\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Main from \"../../../layouts/list_inbox\";\nimport helper from \"../helpers\";\nimport useOrder from \"../../../hooks/useOrder\";\nimport { Order } from \"../../../context/OderContext\";\n\nconst InboxOrderComponent = (props) => {\n  const orderContext = Order();\n  const orderHook = useOrder();\n  const options = orderContext?.options;\n\n  const [pedidos, setPedidos] = useState({\n    data: [],\n    meta: {},\n    loading: false,\n  });\n\n  const { _saveOrder } = props;\n\n  const history = useHistory();\n\n  const [orderSelected, setOrderSelected] = useState({ id: 0 });\n\n  const getList = () => {\n    if (!options) return null;\n\n    setPedidos({\n      ...pedidos,\n      loading: true,\n    });\n\n    orderHook.getListOrders(options).then((data) => {\n      if (data) {\n        setPedidos({\n          data: data.data,\n          meta: data.meta,\n        });\n      } else {\n        console.error(\"Error al obtener la lista de pedidos\");\n      }\n    });\n  };\n\n  const handleChangeOptions = (key, value) => {\n    orderContext?.set({\n      ...orderContext,\n      options: {\n        ...options,\n        [key]: value,\n      },\n    });\n  };\n\n  const handleSelectOrder = (e, order = { id: 0 }) => {\n    if (e) e.preventDefault();\n    if (order.id !== 0) {\n      history.push(`/pedidos/${order.id}`);\n    } else {\n      history.push(`pedidos/${orderSelected.id}`);\n    }\n  };\n\n  const handleOrderSelect = ({ checked }, pedido) => {\n    if (!checked) pedido = { id: 0 };\n    setOrderSelected(pedido);\n  };\n\n  const deleteOrder = () => {\n    window.Swal.fire({\n      title: \"¿Estás seguro de eliminar la orden?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        orderHook.deleteOrder(orderSelected.id);\n\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Orden eliminada correctamente\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n\n        orderContext.set({\n          ...orderContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n            status: 0,\n            search: \"\",\n          },\n        });\n      }\n    });\n  };\n\n  const handleStatus = () => {\n    if (orderSelected.id && orderSelected.estado < 3) {\n      helper.handleSaveOrder(\n        orderSelected.id,\n        { status: 3 },\n        options,\n        _saveOrder\n      );\n    }\n    setOrderSelected({ id: 0 });\n  };\n\n  useEffect(() => {\n    getList();\n    // eslint-disable-next-line\n  }, [options]);\n\n  return (\n    <Main\n      title=\"Listado de pedidos\"\n      icon=\"clipboard-list\"\n      color=\"warning\"\n      meta={pedidos.meta}\n      itemSelected={orderSelected.id}\n      loading={pedidos.loading}\n      defaultSearch={options?.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleEditItem={handleSelectOrder}\n      handleDeleteItem={deleteOrder}\n      handleSync={() => {\n        orderContext.set({\n          ...orderContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n            status: 0,\n            search: \"\",\n          },\n        });\n      }}\n      handleStatus={handleStatus}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Folio</th>\n            <th>Cliente</th>\n            <th>Estado</th>\n            <th>Nota</th>\n            <th>\n              {options?.orderby === \"created_at\" ? \"Registrado\" : \"Modificado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {pedidos.data.length ? (\n            pedidos.data.map((pedido) => {\n              return (\n                <tr key={pedido.id}>\n                  <td>\n                    <div className=\"icheck-primary\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={pedido.id}\n                        id={\"order_\" + pedido.id}\n                        checked={orderSelected.id === pedido.id ? true : false}\n                        disabled={pedido.status > 2}\n                        onChange={({ target }) =>\n                          handleOrderSelect(target, pedido)\n                        }\n                      />\n                      <label\n                        htmlFor={\"order_\" + pedido.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </div>\n                  </td>\n                  <td>#{pedido.id}</td>\n                  <td\n                    className=\"mailbox-name text-truncate text-capitalize text-bold\"\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    <a\n                      href=\"#edit\"\n                      onClick={(e) => handleSelectOrder(e, pedido)}\n                    >\n                      <span\n                        className={\n                          pedido.status > 2\n                            ? \"text-muted\"\n                            : \"text-dark text-bold\"\n                        }\n                      >\n                        <i className=\"fas fa-user text-sm mr-2\"></i>\n                        {pedido.paciente.name}\n                      </span>\n                    </a>\n                  </td>\n                  <td className=\"mailbox-subject\">\n                    <span\n                      className={`badge badge-${\n                        pedido.status < 3 ? \"primary\" : \"secondary\"\n                      } mr-2 text-uppercase`}\n                    >\n                      {helper.handleStatusString(pedido.status)}\n                    </span>\n                    {pedido.status === 1 ? (\n                      <div>\n                        <span className=\"mr-1 text-dark\">\n                          {pedido.lab ? pedido.lab.nombre : \"Sin asignar\"}\n                        </span>\n                        {pedido.lab ? \"/ \" + pedido.npedidolab : \"\"}\n                      </div>\n                    ) : pedido.status === 2 ? (\n                      <small>\n                        {pedido.ncaja\n                          ? \"CAJA: \" + pedido.ncaja\n                          : \"Caja no asignada\"}\n                      </small>\n                    ) : !pedido.status ? (\n                      <small>\n                        {pedido.exam\n                          ? pedido.exam.status === 1\n                            ? \"Examen completado\"\n                            : \"Examen no realizado\"\n                          : \"Examen no asignado\"}\n                      </small>\n                    ) : pedido.status === 3 ? (\n                      <small className=\"text-dark\">Sin entregar</small>\n                    ) : null}\n                  </td>\n                  <td className=\"mailbox-attachment\">\n                    {pedido.sale ? (\n                      <Link to={\"/notas/registro/\" + pedido.sale.id}>\n                        <span className=\"badge badge-success\">\n                          {pedido.sale.id}\n                        </span>\n                      </Link>\n                    ) : (\n                      \"--\"\n                    )}\n                  </td>\n                  <td className=\"mailbox-date\">\n                    {options.orderby === \"created_at\"\n                      ? moment(pedido.created_at).format(\"ll\")\n                      : moment(pedido.updated_at).fromNow()}\n                  </td>\n                </tr>\n              );\n            })\n          ) : (\n            <tr>\n              <th colSpan=\"10\" className=\"text-center\">\n                No hay datos para mostrar\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Main>\n  );\n};\n\nexport default InboxOrderComponent;\n","const getSession = () => {\n    return (\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(10)\n    );\n  };\n\n\n  const toExport = {\n      getSession\n  }\n\n\n  export default toExport;","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\n//import { connect } from \"react-redux\";\n\n//Hooks\nimport useProducts from \"../../../hooks/useProducts\";\n\nfunction SearchItemsComponent(props) {\n\n  const hookProducts = useProducts();\n\n  // Props and vars\n  const {\n      //meta,\n      item = { producto: \"\" },\n      //_setList,\n      handleItemSelect: _handleItemSelect,\n    } = props;\n\n    //perPage = 10;\n\n\n\n  // States\n  const [search, setSearch] = useState(item.producto),\n  [timer, setTimer] = useState(\"\"),\n  [load, setLoad] = useState(false);\n  const [items, setItems] = useState([]);\n\n  // Functions\n  const handleChangeSearch = ({ target }) => {\n      const { value } = target;\n      setSearch(value.toLowerCase());\n      setLoad(true);\n    };\n\n\n  const handleSelect = (item) => {\n      _handleItemSelect(item);\n      setSearch(item.name.toUpperCase());\n      setItems([]);\n    };\n\n  useEffect(() => {\n    let toTimer = null;\n    if (search.length > 2 && !item.store_items_id) {\n      if (timer) clearTimeout(timer);\n      toTimer = setTimeout(() => {\n        hookProducts.getProducts(search).then((data)=>{\n          if(data){            \n              setItems(data.data);\n          }\n          else{\n            console.error(\"Error al obtener la lista de productos\");\n          }\n        })\n        setTimer(\"\");\n        setLoad(false);\n      }, 1000);\n      setTimer(toTimer);\n    }\n\n    if (!search.length && items.length) {\n      if (timer) clearTimeout(timer);\n      /* _setList({\n        result: {\n          list: [],\n          metaList: {},\n        },\n      }); */\n      setLoad(false);\n    }\n  }, [search]);\n\n\n  useEffect(() => {\n    return () => {\n      /* _setList({\n        result: {\n          list: [],\n          metaList: {},\n        },\n      }); */\n    };\n  }, []);\n\n  return (\n    <>\n      <label>\n        Producto\n        {load ? (\n          <small\n            className=\"position-absolute text-primary ml-2\"\n            style={{ zIndex: \"101\", top: \"0\" }}\n          >\n            Buscando...\n          </small>\n        ) : null}\n      </label>\n      <input\n        className=\"form-control text-uppercase text-truncate\"\n        type=\"text\"\n        placeholder=\"Buscar producto\"\n        autoComplete=\"off\"\n        value={search}\n        onChange={handleChangeSearch}\n      />\n      {items.length && search.length > 2 ? (\n        <div\n          className=\"position-absolute shadow p-0 pt-2 pl-1 bg-white rounded w-100 mh-50 overflow-auto\"\n          style={{ maxHeight: \"18rem\", zIndex: \"100\" }}\n        >\n          <div className=\"list-group m-0 list-group-flush\">\n            {items\n              .sort((a, b) => {\n                if (a.cant > b.cant) {\n                  return -1;\n                }\n                if (a.cant < b.cant) {\n                  return 1;\n                }\n                return 0;\n              })\n              .map((product) => {\n                return getItemToShow(product, handleSelect);\n              })}\n            {/* {meta.total > perPage && (\n              <a\n                href=\"#more\"\n                className=\"list-group-item text-center text-dark text-bold\"\n                onClick={(e) => e.preventDefault()}\n              >\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Existen mas registros, sea más espesifico\n              </a>\n            )} */}\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n}\n\n/* const mapStateToProps = ({ storeItem }) => {\n    return {\n      items: storeItem.list,\n      meta: storeItem.metaList,\n      loading: storeItem.loading,\n    };\n  },\n  mapActionsToProps = {\n    _getList: storeActions.getListStore,\n    _setList: storeActions.setListStore,\n  }; */\n\n/* export default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(SearchItemsComponent); */\n\nexport default SearchItemsComponent;\n\nfunction getItemToShow(i, handleSelect) {\n  if (i.cant !== i.cant_total) {\n    if (!i.cant && i.cant_total) {\n      return (\n        <a\n          key={i.id}\n          className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n          href=\"#l\"\n          onClick={(e) => {\n            e.preventDefault();\n            handleSelect(i);\n          }}\n        >\n          <span className=\"text-truncate text-uppercase text-muted\">\n            [S]-{i.name}\n          </span>\n          <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n        </a>\n      );\n    }\n    return (\n      <a\n        key={i.id}\n        className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n        href=\"#l\"\n        onClick={(e) => {\n          e.preventDefault();\n          handleSelect(i);\n        }}\n      >\n        <span className=\"text-truncate text-uppercase text-primary\">\n          {i.name}\n        </span>\n        <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n      </a>\n    );\n  } else if (!i.cant_total && !i.cant) {\n    return (\n      <a\n        key={i.id}\n        className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n        href=\"#l\"\n        onClick={(e) => {\n          e.preventDefault();\n          handleSelect(i);\n        }}\n      >\n        <span className=\"text-truncate text-uppercase text-danger\">\n          [X]-{i.name}\n        </span>\n        <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n      </a>\n    );\n  }\n\n  return (\n    <a\n      key={i.id}\n      className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n      href=\"#l\"\n      onClick={(e) => {\n        e.preventDefault();\n        handleSelect(i);\n      }}\n    >\n      <span className=\"text-truncate text-uppercase text-primary\">\n        {i.name}\n      </span>\n      <span className=\"badge badge-dark badge-pill\">{i.cant}</span>\n    </a>\n  );\n}\n","const verifyItem = (item) => {\n  if (item.cantidad <= 0) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"La cantidad debe de ser un valor valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n  if (!item.store_items_id) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"No se selecciono un producto valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n  if (!item.precio) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"El precio no es valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n\n  return true;\n};\nconst handleVerifyData = (data, codeRef) => {\n  const {\n    category_id,\n    category_id1,\n    category_id2,\n    category_id4,\n    supplier,\n    brand_id,\n    code,\n  } = data;\n\n  if (!category_id) {\n    window.Swal.fire(\n      \"Verificación\",\n      \"Selecione una categoria primero\",\n      \"warning\"\n    );\n    return false;\n  }\n\n  if (category_id) {\n    if (category_id1 === 1 && category_id4 !== category_id) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Selecione una categoria valida para lentes\",\n        \"warning\"\n      );\n      return false;\n    } else if (category_id1 === 2 && category_id2 !== category_id) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Selecione una categoria valida para armazones\",\n        \"warning\"\n      );\n      return false;\n    }\n  }\n\n  if (category_id1 === 2 && !supplier) {\n    window.Swal.fire(\n      \"Verificación\",\n      \"Selecione un PROVEEDOR valido primero\",\n      \"warning\"\n    );\n    return false;\n  }\n  if (category_id1 === 2 && !brand_id) {\n    window.Swal.fire(\n      \"Verificación\",\n      \"Selecione una MARCA valida primero\",\n      \"warning\"\n    );\n    return false;\n  }\n  if (!code && !codeRef.current.value) {\n    window.Swal.fire(\n      \"Verificación\",\n      \"Escriba una CODIGO para este producto\",\n      \"warning\"\n    );\n    return false;\n  }\n\n  return true;\n};\nconst handleDeleteItem = (item, options, _delete, text) => {\n  if (item.id) {\n    //Check text\n    if (!text) text = `¿Esta seguro de eliminar el producto ${item.code}?`;\n    //delete confirm\n    window.Swal.fire({\n      text,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss && _delete) {\n        _delete({\n          id: item.id,\n          options,\n        });\n        return true;\n      }\n    });\n    return false;\n  }\n};\nconst handleSaveItem = (id, data, options, _save, _close, text) => {\n  if (!text) {\n    text = id\n      ? \"¿Esta seguro de actualizar el producto?\"\n      : \"¿Esta seguro de crear un nuevo producto?\";\n  }\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text,\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonColor: \"#007bff\",\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      //Save\n      _save({\n        id,\n        data,\n        options,\n      });\n      //close\n      if (_close) _close();\n    }\n  });\n};\nconst handleCatOne = (data) => ({\n    category_id: data.id,\n    category_id1: data.id,\n    category_id2: 0,\n    category_list2: data.hijos,\n    category_id3: 0,\n    category_list3: [],\n    category_id4: 0,\n    category_list4: [],\n    supplier: 0,\n  }),\n  handleCatTwo = (data) => ({\n    category_id: data.id,\n    category_id2: data.id,\n    category_id3: 0,\n    category_list3: data.hijos,\n    category_id4: 0,\n    category_list4: [],\n  }),\n  handleCatTree = (data) => ({\n    category_id: data.id,\n    category_id3: data.id,\n    category_id4: 0,\n    category_list4: data.hijos,\n  });\nconst handleCodeString = (\n    stringcode = \"armazon\",\n    category,\n    brand,\n    code = \"\"\n  ) => {\n    stringcode +=\n      category.current !== null && category.current.selectedIndex\n        ? \" \" +\n          category.current.options[category.current.selectedIndex].text.trim()\n        : \"\";\n    stringcode +=\n      brand.current !== null && brand.current.selectedIndex\n        ? \" \" +\n          brand.current.options[brand.current.selectedIndex].text\n            .trim()\n            .replace(/\\s/gim, \"\")\n        : \"\";\n\n    if (code) {\n      stringcode += \" \" + code.replace(/[-\\s]+/gm, \"\");\n    }\n\n    return stringcode.toLowerCase();\n  },\n  codeLentString = (string) => {\n    switch (string) {\n      case \"monofocales\":\n        return \"MF\";\n      case \"bifocales\":\n        return \"BF\";\n      case \"progresivo basico\":\n      case \"progresivo-basico\":\n        return \"PB\";\n      case \"progresivo digital\":\n      case \"progresivo-digital\":\n        return \"PD\";\n      case \"plastico\":\n        return \"CR\";\n      case \"policarbonato\":\n        return \"PL\";\n      case \"hi-index\":\n      case \"hi index\":\n        return \"HI\";\n      case \"antirreflejantes\":\n        return \"AR\";\n      case \"photo\":\n        return \"PH\";\n      case \"ar & photo\":\n      case \"antirreflejante-photo\":\n        return \"ARPH\";\n      case \"blanco\":\n        return \"BL\";\n      case \"polarizado\":\n        return \"PO\";\n      case \"bifocal invisible\":\n      case \"bifocal-invisible\":\n        return \"BI\";\n      case \"monofocal drivesafe\":\n      case \"monofocal-drivesafe\":\n      case \"monofocal digital drivesafe\":\n      case \"monofocal digital DriveSafe\":\n        return \"MDSF\";\n      case \"monofocal superb\":\n      case \"monofocal-superb\":\n      case \"monofocal digital superb\":\n        return \"MDSU\";\n      case \"monofocal individual\":\n      case \"monofocal-individual\":\n      case \"monofocal digital individual\":\n        return \"MDIN\";\n      default:\n        return \"XX\";\n    }\n  },\n  handleCodeLent = (grad, category1, category2, category3) => {\n    if (!category1.current || !category2.current || !category3.current) {\n      return \"\";\n    }\n\n    let stringcode =\n      category1.current !== null\n        ? codeLentString(\n            category1.current.options[category1.current.selectedIndex].text\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n    stringcode +=\n      category2.current !== null\n        ? codeLentString(\n            category2.current.options[category2.current.selectedIndex].text\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n    stringcode +=\n      category3.current !== null\n        ? codeLentString(\n            category3.current.options[category3.current.selectedIndex].text\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n\n    return stringcode + grad.toString().trim().replace(/\\s/gim, \"\");\n  },\n  handleNameLent = (grad, category1, category2, category3) => {\n    if (!category1.current || !category2.current || !category3.current) {\n      return \"\";\n    }\n\n    let stringcode = \"\";\n    stringcode +=\n      category1.current !== null\n        ? category1.current.options[category1.current.selectedIndex].text.trim()\n        : \"\";\n    stringcode +=\n      category2.current !== null\n        ? \" \" +\n          category2.current.options[category2.current.selectedIndex].text.trim()\n        : \"\";\n    stringcode +=\n      category3.current !== null\n        ? \" \" +\n          category3.current.options[category3.current.selectedIndex].text.trim()\n        : \"\";\n\n    stringcode += \" \" + grad.toString();\n    return stringcode.toLowerCase();\n  };\n\nconst toExport = {\n  verifyItem,\n  handleDeleteItem,\n  handleVerifyData,\n  handleSaveItem,\n  handleCatOne,\n  handleCatTwo,\n  handleCatTree,\n  handleCodeString,\n  handleCodeLent,\n  codeLentString,\n  handleNameLent,\n};\n\nexport default toExport;\n","import React, { useState, useContext } from \"react\";\n//Components\nimport Search from \"../data/searchStore\";\n//Actions\nimport helper from \"../helpers\";\n\n//Context\nimport { AuthContext } from \"../../../context/AuthContext\";\n\nfunction AddItemModalComponent(props) {\n\n  const authContex = useContext(AuthContext);\n  const currentUser = authContex.auth.branch.id;\n\n  //Props and vars\n  const {\n    codeDefault = \"\",\n    cantDefault = 1,\n    handleAddItem: _handleAddItem,\n    handleCloseModal: _handleCloseModal,\n  } = props;\n\n  \n  //States\n  const [item, setItem] = useState({\n      id: 0,\n      producto: codeDefault,\n      cant: cantDefault,\n      precio: 0,\n      out: 0,\n      inStorage: 0,\n      subtotal: 0,\n      store_items_id: 0,\n      descripcion: \"\",\n      category: 0,\n    }),\n\n    [showDesc, setShowDesc] = useState(false);\n\n\n\n  //Functions\n  const _reset = () => {\n      setItem({\n        id: 0,\n        producto: \"\",\n        precio: 0,\n        out: 0,\n        cant: 1,\n        inStorage: 0,\n        subtotal: 0,\n        store_items_id: 0,\n        descripcion: \"\",\n        category: 0,\n      });\n    },\n\n\n\n    close = () => {\n      _reset();\n      _handleCloseModal();\n    },\n\n    hanleChangeDataItem = (data) => {\n      setItem({\n        ...item,\n        id: 0,\n        name: data.name.toLowerCase(),\n        //producto: data.name.toLowerCase(),\n        precio: parseFloat(data.price),\n        out: data.cantidades,\n        cant: 1,\n        inStorage: 0,\n        subtotal: 0,\n        store_items_id: data.id,\n        descripcion: \"\",\n        category: data.category ? data.category : 0,\n      });\n    },\n\n\n    handleChangeItem = (key, value) => {\n      setItem({\n        ...item,\n        [key]: key === \"descripcion\" ? value : parseInt(value),\n      });\n    },\n\n\n    hanldeSendBack = () => {\n      const verify = helper.verifyItem(item);\n\n      if (!verify) return false;\n\n      item.inStorage = item.out >= item.cant ? true : false;\n      item.out = item.out >= item.cant ? 0 : item.cant - item.out;\n      item.subtotal = parseFloat(item.cant * item.precio);\n      item.branch_id = currentUser.id;\n      _handleAddItem(item);\n      close();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-primary text-bold\">\n              <i className=\"fas fa-plus mr-1\"></i>\n              Agregar producto\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={() => close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            <div className=\"row\">\n              <div className=\"col position-relative\">\n                <Search item={item} handleItemSelect={hanleChangeDataItem} />\n              </div>\n              {item.store_items_id ? (\n                <>\n                  <div className=\"col-2\">\n                    <label>Cantidad</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control\"\n                      placeholder=\"Cantidad\"\n                      value={item.cant}\n                      min=\"0\"\n                      max=\"100\"\n                      onChange={({ target }) =>\n                        handleChangeItem(\"cantidad\", target.value)\n                      }\n                    />\n                  </div>\n                  <div className=\"col-3\">\n                    <label>Precio</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control text-right\"\n                      placeholder=\"Precio\"\n                      min=\"0\"\n                      value={item.precio}\n                      onChange={({ target }) =>\n                        handleChangeItem(\"precio\", target.value)\n                      }\n                    />\n                  </div>\n                  {showDesc ? (\n                    <div className=\"col-12 mt-2\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Agregue una descripcion\"\n                        value={item.descripcion}\n                        onChange={({ target }) =>\n                          handleChangeItem(\"descripcion\", target.value)\n                        }\n                      />\n                    </div>\n                  ) : null}\n                </>\n              ) : null}\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <div className=\"btn-group\">\n              <button\n                type=\"button\"\n                className=\"btn btn-default btn-sm\"\n                onClick={() => close()}\n              >\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-default btn-sm\"\n                onClick={() => setShowDesc(!showDesc)}\n                disabled={!item.store_items_id}\n              >\n                <i className=\"fas fa-sticky-note mr-1\"></i>\n                {showDesc ? \"Cerrar nota\" : \"Abrir nota\"}\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary btn-sm text-bold\"\n                disabled={\n                  item.store_items_id && item.cant && item.precio\n                    ? false\n                    : true\n                }\n                onClick={() => hanldeSendBack()}\n              >\n                <i className=\"fas fa-save mr-1\"></i>\n                Agregar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AddItemModalComponent;\n","import React, { useState, useEffect } from \"react\";\nimport AddModal from \"../../Store/views/searchItemModal\";\n\nexport default function ListItemComponent(props){\n  \n  const [state, setState] = useState({\n    itemNew: false,\n    code: \"\",\n    cant: 1,\n    validList: true,\n  });\n\n /*  setState({\n    ...state,\n    itemNew: !state.itemNew,\n    code: \"\",\n    cant: 1,\n  }); */\n\n  const { itemNew, code, cant } = state;\n  const { items, session, status = true, noPrice, productCodes, showHideBtns, cancelListProducts } = props;\n  const price = !noPrice;\n\n  let total = 0;\n  \n  useEffect(()=>{\n    validateList();\n  },[productCodes]);// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const validateList = () => {\n    if(productCodes){\n      let valid = productCodes.some((code) => parseInt(code) === 1 || parseInt(code) === 2)\n    setState({\n      ...state,\n      validList: valid\n    })\n    }else{\n      return null;\n    }\n  };\n\n  const handleSetCantItem = (id, cant) => {\n      const { items, ChangeInput: _changeInput } = props,\n        items_rest = items.map((item) => {\n          if (item.store_items_id === id) {\n            item.cant = item.cant + cant;\n            item.subtotal = item.cant * item.precio;\n          }\n          return item;\n        }),\n        itemsToSave = items_rest.filter((item) => item.cant > 0);\n      _changeInput(\"items\", itemsToSave);\n    };\n\n  \n  const deleteItem = (id) => {\n      const { items, status = true, ChangeInput: _changeInput } = props;\n      const itemsToSave = items.filter((e) => e.store_items_id !== id);\n  \n      if (!status) {\n        console.error(\n          \"[Orus System] No se puede eliminar el producto, por estatus\",\n          id\n        );\n        return false;\n      }\n      _changeInput(\"items\", itemsToSave);\n    };\n\n\n  const handleAddItem = (item) => {\n\n      if (item) {\n        let { items, ChangeInput: _changeInput } = props;\n        const itemFound = items.findIndex(\n          (e) => e.store_items_id === item.store_items_id\n        );\n  \n        if (itemFound !== -1) {\n          //const cantidad = items[itemFound].cant + item.cant,\n          const precio = item.precio;\n          const subtotal = items[itemFound].precio * cant;\n  \n          if (items[itemFound].precio === precio) {\n            items[itemFound].cant = cant;\n            items[itemFound].subtotal = subtotal;\n          } else {\n            items.push(item);\n          }\n        } else {\n          items.push(item);\n        }\n        _changeInput(\"items\", items);\n      }\n    };    \n\n\n\n\n  return productCodes ? (\n    <div className=\"col-lg-10 d-flex align-self-center justify-content-center p-0\">\n      <div className = {items.length !== 0 ? \"card border border-success col-lg-12\" : \"card border border-warning col-lg-12\"}>\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-shopping-cart\"></i> Lista de Productos\n          </h3>\n          <div className=\"card-tools\">\n            {session && !itemNew ? (\n              <button\n                className={\n                  !status\n                    ? \"btn btn-too btn-outline-secondary disabled\"\n                    : \"btn btn-too btn-primary text-bold\"\n                }\n                disabled={showHideBtns ? true : false}\n                onClick={(e) => {                \n                  setState({\n                    ...state,\n                    itemNew: !state.itemNew,\n                    code: \"\",\n                    cant: 1,\n                  });\n                }}\n              >\n                <i className=\"fas fa-plus mr-1\"></i> Agregar\n              </button>\n            ) : null}\n          </div>\n        </div>\n\n      <div className=\"card-body table-responsive p-0\">\n        <table className=\"table table-sm m-0\">\n\n          <thead>\n            <tr>\n              {status ? (\n                <>\n                  <th style={{ width: 16 }}></th>\n                  <th style={{ width: 16 }}></th>\n                </>\n              ) : null}\n\n              <th scope=\"col\" style={{ width: 32 }}>\n                cant\n              </th>\n              <th scope=\"col\">Descripcion</th>\n              {price ? (\n                <>\n                  <th\n                    scope=\"col\"\n                    className=\"text-right\"\n                    style={{ width: 120 }}\n                  >\n                    Precio\n                  </th>\n                  <th\n                    scope=\"col\"\n                    className=\"text-right\"\n                    style={{ width: 120 }}\n                  >\n                    Subtotal\n                  </th>\n                </>\n              ) : null}\n\n              {status ? (\n                <th\n                  scope=\"col\"\n                  style={{ minWidth: \"4rem\", maxWidth: \"8rem\" }}\n                >\n                  <span className=\"sr-only\">acciones</span>\n                </th>\n              ) : null}\n            </tr>\n          </thead>\n\n\n          <tbody>\n            {items.length ? (\n              items.map((item) => {\n                total += item.subtotal * 1;\n                return (\n                  <tr key={item.store_items_id}>\n                    {status ? (\n                      <>\n                        <td>                                                \n                          {item.cant > 1 && showHideBtns ? (\n                            <i className=\"fas fa-minus mr-2 text-muted\"></i>                            \n                          ) : showHideBtns ? (\n                            <i className=\"fas fa-minus mr-2 text-muted\"></i>     \n                          ) : (\n                            <i\n                              className=\"fas fa-minus mr-2 text-primary\"\n                              title=\"Quitar\"\n                              style={{ cursor: \"pointer\" }}                              \n                              onClick={() =>\n                                handleSetCantItem(item.store_items_id, -1)\n                              }\n                            ></i>                             \n                          )                      \n                                                     \n                          }\n                        </td>\n                        <td>\n                          {showHideBtns ? (\n                            <i className=\"fas fa-plus mr-2 text-muted\"></i>                            \n                          ):(\n                            <i\n                              className=\"fas fa-plus mr-2 text-primary\"\n                              title=\"Agregar\"\n                              style={{ cursor: \"pointer\" }}                            \n                              onClick={() =>\n                                handleSetCantItem(item.store_items_id, 1)\n                              }\n                          ></i>\n                          )}                  \n                        </td>\n                      </>\n                    ) : null}\n\n                    <th scope=\"row\" className=\"text-right\">                \n                      {item.cant}\n                    </th>\n                    <td>\n                      {!item.inStorage ? (\n                        <i className=\"text-warning fas fa-circle mr-1\"></i>\n                      ) : null}\n                      <span className=\"text-capitalize\">{item.name}</span>\n                      {item.descripcion ? (\n                        <span className=\"text-muted ml-2\">\n                          ({item.descripcion})\n                        </span>\n                      ) : null}\n                    </td>\n                    {price ? (\n                      <>\n                        <td className=\"text-right\">\n                          $ {parseFloat(item.precio).toFixed(2)}\n                        </td>\n                        <td className=\"text-right\">\n                          $ {item.subtotal.toFixed(2)}\n                        </td>\n                      </>\n                    ) : null}\n\n                    {status ? (\n                      <td className=\"d-print-none text-right\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-sm btn-muted\"\n                          disabled={showHideBtns ? true : false}\n                          onClick={() => deleteItem(item.store_items_id)}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </td>\n                    ) : null}\n                  </tr>\n                );\n              })\n            ) : (\n              <tr className=\"\">\n                <td className=\"text-center\" colSpan={status ? 7 : 4}>\n                  <i className=\"fas fa-info-circle mr-1 mt-4\"></i>\n                  Seleccione articulos primero\n                </td>\n              </tr>\n            )}\n          </tbody>\n\n\n          {items.length && price ? (\n            <tfoot>\n              <tr>\n                <td className=\"text-right\" colSpan={status ? 4 : 2}></td>\n                <th scope=\"row\" className=\"text-right text-lg\">\n                  Total\n                </th>\n                <td className=\"text-right text-primary text-lg pr-3\">\n                  <label>$ {total.toFixed(2)}</label>\n                </td>\n                {status ? <td></td> : null}\n              </tr>\n            </tfoot>\n          ) : null}\n        </table>\n\n        {state.validList === false && items.length !== 0 ? (\n          <div className=\"d-flex justify-content-center\">\n            <p className=\"bg-warning w-50 text-center\">\n              <i className=\"fas fa-info-circle mr-1\"></i>\n              Debes agregar al menos un Monofocal o Armazon a la lista!\n            </p>\n          </div>\n          ) : null}\n\n          {!showHideBtns ? (\n            <div className=\"d-flex justify-content-end mb-2\">\n              <button className=\"btn btn-secondary mr-3\" onClick={cancelListProducts} disabled = {state.validList === false ?  true : false}>Cancelar</button>\n              <button className=\"btn btn-success mr-2\" disabled = {state.validList === false ?  true : false} onClick= {()=>{\n                props.changeTotal(total,state.validList);\n                setState({\n                  ...state,\n                  showHideBtns: true,\n                })\n              }}>Siguiente</button>\n          </div>\n          ): null}\n\n        \n      </div>     \n        {itemNew ? (\n          <AddModal\n            codeDefault={code}\n            cantDefault={cant}\n            handleAddItem={handleAddItem}\n            handleCloseModal={() => setState({\n              ...state,\n              itemNew: false\n            })}\n          />\n        ) : null}\n      </div>\n\n    </div>\n  ): (\n    //------------------------SECOND COMPONENT-------------------------------//\n    <div className=\"col-lg-12 d-flex align-self-center justify-content-center p-0\">\n      \n      <div className=\"card-body table-responsive p-0\">\n        <table className=\"table table-sm m-0\">\n          <thead>\n            <tr>\n              {status ? (\n                <>\n                  <th style={{ width: 16 }}></th>\n                  <th style={{ width: 16 }}></th>\n                </>\n              ) : null}\n\n              <th scope=\"col\" style={{ width: 32 }}>\n                cant\n              </th>\n\n              \n              <th scope=\"col\">Descripcion</th>\n\n              {status ? (\n                <th\n                  scope=\"col\"\n                  style={{ minWidth: \"4rem\", maxWidth: \"8rem\" }}\n                >\n                  <span className=\"sr-only\">acciones</span>\n                </th>\n              ) : null}\n            </tr>\n          </thead>\n          \n          <tbody>\n            {items.length ? (\n              items.map((item) => {\n                total += item.subtotal * 1;\n                return (\n                  <tr key={item.store_items_id}>\n                    <>\n                      <td>                                                                         \n                      </td>\n                      <td>                                          \n                      </td>\n                    </>                    \n\n                    <th scope=\"row\" className=\"text-right\">                \n                      {item.cant}\n                    </th>\n                    <td>\n                      {!item.inStorage ? (\n                        <i className=\"text-warning fas fa-circle mr-1\"></i>\n                      ) : null}\n                      <span className=\"text-capitalize\">{item.name}</span>\n                      {item.descripcion ? (\n                        <span className=\"text-muted ml-2\">\n                          ({item.descripcion})\n                        </span>\n                      ) : null}\n                    </td>                                                                             \n                  </tr>\n                );\n              })\n            ) : (\n              <tr className=\"\">\n                <td className=\"text-center\" colSpan={status ? 7 : 4}>\n                  <i className=\"fas fa-info-circle mr-1 mt-4\"></i>\n                  Seleccione articulos primero\n                </td>\n              </tr>\n            )}\n          </tbody>\n\n        </table>\n    </div>\n  </div>\n    \n  );\n}","import { useState, useContext } from \"react\";\n\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\n//Helpers\nimport helpers from '../../Sales/helpers';\n\nfunction PaymentModal({forPaid, handleClose: _close, sale, handleSetPayments: _handleSetPayments }) {\n    const config = useContext(ConfigContext);\n    const listBanks = config.data;\n\n  //States\n  const [data, setData] = useState({\n    id: 0,\n    metodopago: 1,\n    metodoname: \"efectivo\",\n    total: 0,\n    bank_id: null,\n    details: null,\n    auth: null,\n  });\n\n  //Functions\n  const handleChangeInput = ({ name, value, type }) => {\n\n      let val = value;\n\n      if (type === \"number\" || type === \"select-one\") val = parseFloat(value);\n\n      setData({\n        ...data,\n        [name]: val,\n      });\n    },\n\n    handleSetPayment = () => {\n\n      const payments = [...sale.payments];\n\n      let pagado = 0;\n\n      if (!data.total) {\n        window.Swal.fire({\n          icon: \"warning\",\n          title: \"El total del abono debe ser mayor a 0\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return false;\n      }\n\n      if (\n        data.metodopago !== 1 &&\n        data.metodopago !== 4 &&\n        data.metodopago !== 0\n      ) {\n\n        if (!data.bank_id) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Seleccione un banco\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n\n\n        if (data.auth.toString()?.length < 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique los ultimos 4 numeros de la tarjeta\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }else if(data.auth.toString()?.length > 4){\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique solamente 4 numeros\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      if (data.metodopago === 4) {\n        if (!data.auth) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique el numero de autorización\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      payments.push({\n        ...data,\n        id:`new${Date.now().toString()}`,\n        metodoname: helpers.getMethodName(data.metodopago),\n        total: forPaid < data.total ? forPaid : data.total,\n      });\n\n      payments.forEach((pay) => (pagado += pay.total));\n\n      _handleSetPayments(payments);\n    },\n\n    handleSubmitForm = (e) => {\n      e.preventDefault();\n      handleSetPayment();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Capture el pago</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <form autoComplete=\"off\" onSubmit={handleSubmitForm}>\n              <div className=\"row mb-2 bg-gray-light\">\n                <div className=\"col\">\n                  <h4 className=\"text-center\">\n                    Por pagar: <span className=\"text-success\">$ {forPaid}</span>\n                  </h4>\n                </div>\n              </div>\n              <div className=\"row my-2\">\n                <div className=\"col\">\n                  <label>Metodo de pago</label>\n                  <select\n                    name=\"metodopago\"\n                    className=\"custom-select text-uppercase\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    defaultValue={data.metodopago}\n                  >\n                    <option value=\"1\">Efectivo</option>\n                    <option value=\"2\">Tarjeta de debito</option>\n                    <option value=\"3\">Tarjeta de credito</option>\n                    <option value=\"4\">La marina</option>\n                    <option value=\"5\">Cheque</option>\n                    <option value=\"6\">Transferencia</option>\n                    <option value=\"0\">Otro</option>\n                  </select>\n                </div>\n                <div className=\"col\">\n                  <label>Cantidad</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    className=\"form-control text-right\"\n                    name=\"total\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    autoFocus={true}\n                  />\n                </div>\n              </div>\n\n              {data.metodopago !== 1 ? (\n                <div className=\"row mb-2\">\n                  <div className=\"col\">\n                    {data.metodopago !== 4 && data.metodopago !== 0 ? (\n                      <>\n                        <label>Banco</label>\n                        <select\n                          name=\"bank_id\"\n                          className=\"custom-select text-uppercase\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        >\n                          <option value=\"\">--Seleccione un banco--</option>\n                          {listBanks.map((bank) => {\n                            return bank.name === 'bank' ? (\n                              <option key={bank.id} value={bank.id}>\n                                {bank.data}\n                              </option>\n                            ): null;\n                          })}\n                        </select>\n                      </>\n                    ) : !data.metodopago ? (\n                      <>\n                        <label>Espesifique</label>\n                        <input\n                          type=\"text\"\n                          name=\"details\"\n                          className=\"form-control\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        />\n                      </>\n                    ) : (\n                      <h4 className=\"d-bloc text-center mt-4 text-success\">\n                        LA MARINA\n                      </h4>\n                    )}\n                  </div>\n                  <div className=\"col\">\n                    <label>\n                      {data.metodopago !== 4\n                        ? \"Ultimos 4 digitos\"\n                        : \"N. Autorización\"}\n                    </label>\n                    <input\n                       type=\"number\"\n                      name=\"auth\"\n                      className=\"form-control\"\n                      onChange={({ target }) => handleChangeInput(target)}\n                    />\n                  </div>\n                </div>\n              ) : null}\n\n              {forPaid < data.total ? (\n                <div className=\"row\">\n                  <div className=\"col\">\n                    <h4 className=\"text-center mt-4\">\n                      {data.metodopago === 1 ? (\n                        <>\n                          Cambio:\n                          <span className=\"ml-2\">$ {data.total - forPaid}</span>\n                        </>\n                      ) : (\n                        <span className=\"text-danger\">\n                          <i className=\"fas fa-info-circle mr-2\"></i>\n                          La cantidad cobrada es mayor al total\n                        </span>\n                      )}\n                    </h4>\n                  </div>\n                </div>\n              ) : null}\n            </form>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => handleSetPayment()}\n              disabled={!data.total}\n            >\n              <i className=\"fas fa-money-bill mr-1\"></i>\n              Abonar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","import { useState } from \"react\";\n\nexport default function DiscountModal({ total, setDiscountProp, closeModal: _closeModal}){\n\n    const [discount, setDiscount] = useState(0);\n\n    const setDdiscount = ()=>{\n\n        const  isNumeric = /^[0-9]+$/gms;\n        const isPercen = /^[0-9]{2,3}%$/gms;\n\n        if(discount === null){\n            return null;\n          }else{\n\n            let sum = total;\n\n            if (discount.match(isNumeric)) {\n              const value = parseInt(discount);            \n              setDiscountProp(value)   \n\n            } else if (discount.match(isPercen)) {\n              const percent = parseInt(discount.replace(\"%\", \"\")) / 100,\n              value = parseInt(sum * percent);\n              setDiscountProp(value);\n            }\n          }\n    }\n\n    return (\n        <div className=\"modal d-block\" tabIndex=\"-1\">\n          <div className=\"modal-dialog\" role=\"document\">\n            <div className=\"modal-content\">\n\n                \n              <div className=\"modal-header\">\n                <h5 className=\"modal-title\">\n                    Descuento\n                </h5>\n                <button type=\"button\" className=\"close\">\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n\n              <div className=\"modal-body p-2\">\n                  <input value={discount} className=\"form-control\" type=\"text\" onChange={(e)=>{\n                      const target = e.target;\n                      const {value} = target;\n                      setDiscount(value);\n                  }}/>\n                  <p className=\"ml-1 text-info mt-2\">*Escribe la cantidad o el porcentaje con un \"%\" al final</p>\n              </div>\n\n              <div className=\"modal-footer\">    \n                  <button className=\"btn btn-danger\" onClick={_closeModal}>Cancelar</button>\n                  <button className=\"btn btn-success\" onClick={setDdiscount}>Aplicar</button>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      );\n}","import React, {useState, useContext} from \"react\";\nimport moment from \"moment\";\n\n//Context\nimport { OrderContext } from \"../../context/OderContext\";\n\n//Hooks\nimport useOrder from \"../../hooks/useOrder\";\nimport useExam from \"../../hooks/useExam\";\n\n//Helpers\nimport generalHelper from '../../utils/helpers';\nimport saleHelper from '../../components/Sales/helpers';\n\n\n//Components\nimport SearchContact from \"../Contacts/views/ShowCard\";\nimport Items from \"./views/listItemsOrder\";\nimport helper from \"./helpers\";\nimport PaymentModal from \"./views/PaymentModal\";\nimport DiscountModal from \"./views/DiscountModal\";\n\nexport default function AsistentComponent(props){\n  const [state, setState] = useState({\n    contact_id: 0,\n    exam_id: null,\n    items: [],\n    codes: {},\n    exam: {},\n    examsList: [],\n    examEdit: false,\n    load: true,\n    LOADING: false,\n    data:{},\n    session: generalHelper.getSession(),\n    listReady: false,\n    showModal: false,\n    discountModal: false,\n    sale:{\n      total:0,\n      discount:0, \n      payments:[],\n    }\n  });\n\n\n\n  const orderContext = useContext(OrderContext);\n  const orderHook = useOrder();\n  const examHook = useExam();\n  const productCodes = [];\n  state.items.forEach((item) => productCodes.push(item.category.code.codeCategory[0]));\n  const { exam } = state;\n\n  const changeTotal = (total, status)=>{\n    setState({\n      ...state,\n      listReady: status,\n      sale: {\n        ...state.sale,\n        total:total,\n      },\n    });\n  }\n\n  const penddingToPay = () => {\n    let pendding = saleHelper.getTotal(state.sale.total, state.sale.discount) - saleHelper.getPagado(state.sale.payments);\n    return pendding;\n  }\n\n  const deletePayment = (e, id)=>{\n    e.preventDefault();\n    let filteredPayments = state.sale.payments.filter((payment) => payment.id !== id);\n    setState({\n      ...state,\n      sale:{\n        ...state.sale,\n        payments: filteredPayments,\n      }\n    })\n  };\n\n  const setDiscount = (discount)=>{\n    setState({\n      ...state,\n      sale:{\n        ...state.sale,\n        discount:discount,\n      },\n      discountModal: false,\n    })\n  }\n\n  const setPayments = (payments)=>{\n    setState({\n      ...state,\n      showModal: false,\n      sale:{\n        ...state.sale,\n        payments: payments,\n      }\n    })\n  };\n\n\n  const handleContactSelect = (contact) => {\n    if(contact.id === 0){\n      setState({\n        contact_id: 0,\n        items: [],\n        codes: {},\n        exam_id: null,\n        exam: {},\n        examEdit: false,\n        examsList: [],\n        load: true,\n        LOADING: false,\n        data:{},\n        session: generalHelper.getSession(),\n      })\n    }else{\n      const data = helper.getDataOneItem(contact.id);\n      setState({\n        ...state,\n        contact_id: contact.id ?? 0,\n        examsList: contact.exams.length ? contact.exams : [],\n        items: data.items ?? [],\n        data: contact ? contact : {},\n      })\n    }\n  };\n\n  const handleNewExam = ()=>{\n    let dataNewExam = {\n      contact_id: state.data.id,\n      name: state.data.name\n    };\n\n    examHook.saveExam(dataNewExam).then((data)=>{\n      if(data){\n\n        let exam = {\n          id:data.id,\n          status: data.status,\n          created_at: data.created_at,\n        }\n\n        let updatedList = state.examsList;\n        updatedList.push(exam);\n\n        \n        setState({\n          ...state,\n          exam_id: data.id,\n          exam: exam,\n          examsList: updatedList\n        })\n\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Examen Creado correctamente\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n\n        \n      }else{\n        \n        window.Swal.fire({\n          icon: \"error\",\n          title: \"Error al crear el examen\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n\n      }\n    })\n  };\n\n\n  const handleSave = (e) => {\n\n    let categories_wrong = 0;\n\n    const { items: items_state, exam_id, session, contact_id, sale } = state;\n\n    const items = items_state.map((item) => {\n        if (item.category === 4) categories_wrong++;\n\n        return {\n          cant: item.cant,\n          price: item.precio,\n          subtotal: item.subtotal,\n          inStorage: item.inStorage,\n          session: session,\n          out: item.out,\n          descripcion: item.descripcion,\n          store_items_id: item.store_items_id,\n        };\n      });\n\n    if (items.length === categories_wrong) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"No hay productos para procesar en un pedido\",\n        icon: \"warning\",\n      });\n      return false;\n    }\n\n    let data = {\n      session: session,\n      contact_id: contact_id,\n      items: items,\n      sale:{\n        discount: sale.discount,\n      }\n    };\n\n    if(sale.payments.length){\n      let finalPayments = sale.payments;\n      finalPayments.forEach((payment)=>{\n        delete payment.id;\n        delete payment.metodoname;\n      })\n      data.sale.payments = finalPayments;\n    }\n\n\n    if (exam_id) data.exam_id = parseInt(exam_id);\n\n    orderHook.saveOrder(data).then((data)=>{\n      if(data){\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Pedido guardado correctamente\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        orderContext.set({\n          ...orderContext,\n          panel: 'inbox',\n        })\n      }else{\n        window.Swal.fire({\n          icon: \"danger\",\n          title: \"Error al guardar el pedido\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      }\n    })\n  };\n\n\n  const handleChangeInput = (key, value) => {\n\n    if (key === \"exam\") {\n      if (value.category_id) {\n        handleGetCategories(value.category_id);\n      }\n\n      if (!value.id) {\n        setState({\n          ...state,\n          exam_id: 0,\n          exam: {},\n          codes: {},\n        });\n      } else {\n        setState({\n          ...state,\n          exam_id: value.id,\n          exam: value,\n          codes: {},\n        });\n      }\n    }\n\n\n    if (key === \"codes\") {\n      setState({\n        ...state,\n        codes: value,\n      });\n    } else {\n      setState({\n        ...state,\n        [key]: value,\n      });\n    }\n  };\n\n  const handleGetCategories = (cat_id) => {\n    const { _getCategory } = this.props;\n    _getCategory({ id: cat_id});\n  };\n\n  return(\n    <div className=\"mainAssitentComponent\"> \n\n      <div className=\"card card-warning card-outline col-lg-12\">\n\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-clipboard-list mr-1\"></i>\n            Nuevo Pedido\n          </h3>\n        </div>\n\n        <div className=\"card-body d-flex justify-content-center col-lg-12\">\n\n          {/* Validacion 1 --- Seleccion de cliente */}\n          {!state.contact_id ? (\n            <div className=\"form-group d-print-none col-lg-12\">              \n              <SearchContact\n                title=\"cliente\"\n                legend={ !state.data.id ? \"Busque el paciente por nombre para crearun nuevo pedido\" : null }\n                readOnly={state.exam_id !== null}\n                handleContactSelect = {handleContactSelect}\n                data = {state.data}\n              />  \n              <div className=\"d-flex justify-content-end\">\n              <button className=\"btn btn-secondary mt-2\" onClick={()=>{\n                orderContext.set({\n                  ...orderContext,\n                  panel: 'inbox',\n                })\n              }}>\n                Salir\n                <i className=\"fas fa-ban ml-2\"></i>                \n              </button>              \n              </div>    \n            </div>            \n          ):(\n            <div className=\"card col-lg-5 mr-5 border border-success\">\n              <div className=\"card-header\">\n                <h3 className=\"card-title\">\n                  <i className=\"fas fa-user-alt mr-1\"></i>\n                  Cliente seleccionado\n                  <i className=\"ml-5 fas fa-check mr-1\"></i>\n                </h3>\n              </div>\n              <div className=\"card-body\">\n                <p className=\"badge badge-success\">{`# ID ${state.contact_id}`}</p>\n                <p className=\"card-text\">\n                  <i className=\"fas fa-user-circle mr-1\"></i>\n                  {state.data.name.toUpperCase()}\n                </p>\n                <p className=\"card-text\">\n                  <i className=\"fas fa-at mr-1\"></i>\n                  {state.data.email ?? 'Email no registrado'} \n                </p>\n                <p className=\"card-text\">\n                  <i className=\"fas fa-phone-alt mr-1\"></i>\n                  {state.data.phones.cell === \"\" ? `Telefono no registrado` : state.data.phones.cell}\n                </p> \n                <button className=\"btn btn-primary\" disabled = {state.exam_id ? true: false} onClick={()=>{\n                  setState({ \n                    session: generalHelper.getSession(),\n                    contact_id: 0,\n                    items: [],\n                    codes: {},\n                    exam_id: null,\n                    exam: {},\n                    examEdit: false,\n                    load: true,\n                    LOADING: false,\n                    data:{},\n                  });\n                }} >Cambiar</button>\n              </div>\n            </div>\n          )}\n\n\n          {/* Validacion 2 --- Seleccion de examen o creacion de uno nuevo */}\n          {\n            !state.contact_id ? null : \n                    state.examsList.length ? \n                          state.exam_id ? \n                          (\n                            <div className=\"card col-lg-5 border border-success\">\n                              <div className=\"card-header\">\n                                <h3 className=\"card-title\">\n                                  <i className=\"fas fa-notes-medical mr-1\"></i>\n                                  Examen Seleccionado\n                                  <i className=\"ml-5 fas fa-check mr-1\"></i>\n                                </h3>\n                              </div>\n                              <div className=\"card-body\">\n                                <p className = \"card-text\">\n                                      <span className=\"badge badge-success mr-3 mb-2\">{`# ${exam.id}`}</span>\n                                </p>\n                                <p className=\"font-weight-bold\">Creado: <span className=\"font-weight-normal\">{moment(exam.created_at).fromNow()}</span></p>\n                                <p className=\"font-weight-bold\">Fecha: <span className=\"font-weight-normal\">{exam.created_at}</span></p>\n                                <p className=\"font-weight-bold\">Estatus: <span className=\"font-weight-normal\">{exam.status}</span></p>\n                                <button className=\"btn btn-primary\" disabled = {state.items.length ? true : false} onClick={()=>{\n                                  setState({\n                                    ...state,\n                                    exam_id: null,\n                                    exam: {},\n                                  })\n                                }}>Cambiar</button>\n                              </div>\n                            </div>\n                          ) :\n                          (\n                            <div className=\"card col-lg-5 border border-warning\">\n                              <div className=\"card-header\">\n                                <h3 className=\"card-title\">\n                                  <i className=\"fas fa-user-alt mr-1\"></i>\n                                  Lista de Examenes\n                                  <i className=\"fas fa-exclamation-circle ml-5\"></i>\n                                </h3>\n                              </div>\n                              <div className=\"card-body\">\n                                <p className=\"text-secondary\">*Seleciona un examen o crea uno nuevo para continuar</p>\n                                {state.examsList.map((exam, index) => (\n                                  <div className=\"border-bottom mb-1 cursor-pointer\" key={index} onClick={()=>{\n                                    setState({\n                                      ...state,\n                                      exam: exam,\n                                      exam_id: exam.id\n                                    })\n                                  }}>\n                                    <p className = \"card-text\">\n                                      <span className=\"badge badge-warning mr-3 mb-2\">{`# ${exam.id}`}</span>\n                                      {moment(exam.created_at).fromNow()}\n                                    </p>\n                                  </div>\n                                ))}\n                                <button className=\"btn btn-primary mt-2\" onClick={handleNewExam}>Nuevo examen</button>                \n                              </div>\n                            </div> \n                          ) : \n                          (\n                            <div className=\"card col-lg-5 border border-warning\">\n                              <div className=\"card-header\">\n                                <h3 className=\"card-title\">\n                                  <i className=\"fas fa-user-alt mr-1\"></i>\n                                  Lista de Examenes\n                                  <i className=\"fas fa-exclamation-circle ml-5\"></i>\n                                </h3>\n                              </div>\n                              <div className=\"card-body\">\n                                <p>*No tiene ningun examen asignado</p>\n                                <button className=\"btn btn-primary\" onClick={handleNewExam}>Nuevo examen</button>\n                              </div>\n                            </div>\n                          ) \n          }\n        </div>\n\n        {/* Validacion 3 --- Seleccion de productos una vez seleccionado el examen */}\n        {!state.contact_id ? null : state.exam_id ? (\n          <Items\n            items={state.items}\n            session={state.session}\n            codes={state.codes}\n            productCodes = {productCodes}\n            showHideBtns = {state.listReady}\n            ChangeInput={handleChangeInput}\n            changeTotal = {changeTotal}\n            cancelListProducts = {()=> setState({\n              ...state,\n              items:[],\n            })}\n        />\n        ): (\n          <div className=\"col-lg-10 text-center mt-3 mb-3\">\n            <h5>\n              <i className=\"fas fa-exclamation-circle mr-1\"></i>\n              Crea o selecciona un examen antes de agregar productos!\n            </h5>\n          </div>\n        )}\n\n        {/* Validación 4 --- lista de abonos al pago */}\n        {state.listReady ? (\n          <div className=\"col-lg-10 d-flex align-self-center p-0 mt-5\">\n            <div className=\"card col-lg-4\">\n              <div className=\"card-header border-primary\">\n                <h3 className=\"card-title\">\n                  <i className=\"fas fa-percent mr-1\"></i>  \n                    Descuento\n                </h3>\n              </div>\n              <div className=\"card-body\">\n                <h5 className=\"font-weight-bold\">Descuento: <span className=\"font-weight-normal\">${state.sale.discount}</span></h5>\n                <button type=\"button\" className=\"btn btn-sm btn-outline-danger\" disabled = {state.sale.discount ? false : true} onClick={()=>{setDiscount(0)}}>                  \n                  Eliminar descuento\n                  <i className=\"fas fa-window-close ml-1\"></i>\n                </button>\n              </div>\n            </div>\n\n            <div className=\"card col-lg-8\">\n\n              <div className=\"card-header border-primary\">\n                <h3 className=\"card-title\">\n                  <i className=\"fas fa-money-bill-alt mr-1\"></i>  \n                    Lista de abonos\n                </h3>\n              </div>\n\n              <div className=\"card-body\">\n                {state.sale.payments.length ? (\n                  <div>\n                    <div className=\"col-lg-12\">              \n                      {state.sale.payments.map((payment, index) => (\n                        <div className=\"d-flex justify-content-around align-items-center font-weight-bold mb-2\" id = {payment.id} key={index}>\n                          <p className=\"m-0\"><span className=\"text-success\"></span>{index + 1}</p>\n                          <p className=\"m-0\"><span className=\"text-success\">Abono </span>{payment.metodoname}</p>\n                          <p className=\"m-0\">{moment(Date.now()).format('MMMM DD YYYY')}</p>\n                          <p className=\"m-0 text-primary\">${payment.total}</p> \n                          <button className=\"btn btn-sm btn-muted\" id={payment.id} onClick={(e)=>{deletePayment(e, payment.id)}}>\n                            <i className=\"fas fa-trash\"></i>\n                          </button>              \n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                ) : (\n                  <p className=\"text-center bg-warning\">\n                    <i className=\"fas fa-info-circle mr-1\"></i>\n                    No tiene abonos en este pedido\n                  </p>\n                )}\n                \n                <div className=\"card-footer text-right d-flex justify-content-end\">\n                  <h6 className=\"mr-4 text-success\"><span className=\"font-weight-bold text-dark\">Abono total:</span> ${saleHelper.getPagado(state.sale.payments)}</h6>\n                  <h6 className=\"text-danger\"><span className=\"font-weight-bold text-dark\">Por pagar:</span>${penddingToPay()}</h6>\n                </div>\n\n              </div>\n            </div>\n          </div>\n        ): null}\n\n        {/* Validacion 5 --- Opciones de pago del pedido*/}\n        {state.listReady ? (\n          <div className=\"card col-lg-10 d-flex align-self-center border border-bottom-primary\">\n            <div className=\"card-header border-primary\">\n              <h3 className=\"card-title\">\n                <i className=\"fas fa-money-bill mr-1\"></i>\n                  Opciones de pago\n              </h3>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"\">\n\n                <button className=\"btn btn-success mr-4\" onClick={()=>{\n                  setState({\n                    ...state,\n                    showModal: true,\n                  })\n                }}\n                disabled = {penddingToPay() === 0 ? true : false}\n                >\n                <i className=\"fas fa-money-bill-alt mr-1\"></i>\n                  Abonar\n                </button>\n\n                <button className=\"btn btn-primary mr-4\" disabled = {state.sale.payments.length || state.sale.discount ? true : false} onClick={()=>{            \n                  setState({\n                    ...state,\n                    discountModal: true,\n                  })\n                }}>\n                  <i className=\"fas fa-percent mr-1\"></i>\n                  Aplicar un descuento\n                </button>\n\n                <button className=\"btn btn-secondary mr-4\" disabled = {state.sale.payments.length || state.sale.discount ? true : false} onClick={handleSave}>\n                  <i className=\"fas fa-ban mr-1\"></i>\n                  Sin abono inicial\n                </button>\n\n                <button className=\"btn btn btn-outline-info\" disabled = {state.sale.payments.length || state.sale.discount ? true : false}  onClick={()=>{\n                  setState({\n                    ...state,\n                    listReady: false,\n                  })\n                }}>\n                  <i className=\"fas fa-plus mr-1\"></i>\n                  Agregar otro producto\n                </button>\n\n                {state.sale.payments.length ? (\n                  <button className=\"btn btn-warning ml-3\" onClick={handleSave}>\n                    <i className=\"fas fa-save mr-2\"></i>\n                    Guardar venta\n                  </button>\n                ) : null}                \n\n              </div>\n            </div>\n          </div> \n        ): null}\n\n        {/* Payment Modal validation */}\n        {state.showModal ? (\n          <PaymentModal\n          handleClose = {() => {\n            setState({\n              ...state,\n              showModal: false,\n            })\n          }}\n          sale = {state.sale}\n          forPaid = {penddingToPay()}\n          handleSetPayments = {setPayments}\n          />\n        ) : null}\n\n\n        {/* Discount Modal validation*/}\n        {state.discountModal ? (\n          <DiscountModal\n            items = {state.sale}\n            total = {state.sale.total}\n            closeModal = {()=>{\n              setState({\n                ...state,\n                discountModal: false,\n              })\n            }}\n            setDiscountProp = {setDiscount}\n          />\n        ):null}\n\n      </div>\n    </div>\n  );\n\n}\n\n","import { useState,useEffect } from \"react\";\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function LabOrderComponent({\n  status = false,\n  lab_id = \"\",\n  lab_order = \"\",\n  handleChange: _handleChange,\n}) {\n\n  const optionsDefault = {\n    page: 1,\n    orderby: \"created_at\",\n    order: \"desc\",\n    itemsPage: 100,\n    type:1,\n    business:1\n  };\n\n  const [suppliers, setSuppliers] = useState([]);\n  const [supDefault, setSupDefault] = useState('');\n  const hookContacts =  useContact();\n\n  const getSuppliers = ()=>{\n    hookContacts.getContacts(optionsDefault).then((data)=>{\n      if(data){\n        setSuppliers(data.data);\n        const supDefault = data.data.filter((supplier)=> supplier.id === lab_id);\n        if(!supDefault.length){ \n          return null\n        }else{\n          setSupDefault(supDefault[0].name);\n        }        \n      }\n    })\n  }\n  \n  //Functions\n  const changeInput = (e) => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let val = value;\n\n    if (name === \"lab_id\") val = parseInt(value);\n\n    if (_handleChange) _handleChange(name, val);\n  };\n\n  useEffect(() => {\n    getSuppliers();\n    //dispatch(contactActions.getListSuppliers(1));\n    //eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"row m-2\">\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Laboratorio</label>\n\n          <select\n            className={status > 1 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 1 ? true : false}\n            name=\"lab_id\"\n            defaultValue={lab_id}\n            onChange={changeInput}\n          >            \n            <option value=\"0\">\n              {lab_id === 0 ? \"Seleccione un proveedor\" : supDefault}\n            </option>   \n            {suppliers.map((s) => {                                                                     \n                  return (\n                    <option key={s.id} value={s.id}>                      \n                      {s.name}\n                    </option>\n                  );\n                })}\n          </select>\n\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Folio</label>\n          <input\n            type=\"text\"\n            className={status > 1 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 1 ? true : false}\n            name=\"lab_order\"\n            defaultValue={lab_order}\n            onChange={changeInput}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","\n\nexport default function BicelacionOrderComponent({\n  status = false,\n  bi_box = \"\",\n  bi_details = \"\",\n  handleChange: _handleChange,\n}) {\n  const changeInput = (e) => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let val = value;\n\n    if (name === \"caja\") val = parseInt(value);\n\n    if (_handleChange) _handleChange(name, val);\n  };\n\n  return (\n    <div className=\"row m-2\">\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label htmlFor=\"lab\">Caja</label>\n          <input\n            type=\"number\"\n            className={status > 2 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 2 ? true : false}\n            name=\"bi_box\"\n            min=\"1\"\n            defaultValue={bi_box}\n            onChange={changeInput}\n          />\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Observaciones</label>\n          <textarea\n            name=\"bi_details\"\n            className={status > 2 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 2 ? true : false}\n            defaultValue={bi_details}\n            onChange={changeInput}\n          ></textarea>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport moment from \"moment\";\n//Views and actions\nimport Graduacion from \"./graduacionExam\";\n\nconst ExamCustomerComponent = (props) => {\n  const {\n    exam = {},\n    examEdit = false,\n    ChangeInput: _ChangeInput,\n    _saveExam,\n  } = props;\n\n  const [newExam, setNewExam] = useState({\n    esferaod: exam.esferaod,\n    esferaoi: exam.esferaoi,\n    cilindrod: exam.cilindrod,\n    cilindroi: exam.cilindroi,\n    ejeod: exam.ejeod,\n    ejeoi: exam.ejeoi,\n    adiciond: exam.adiciond,\n    adicioni: exam.adicioni,\n    adicion_media_od: exam.adicion_media_od,\n    adicion_media_oi: exam.adicion_media_oi,\n    dpod: exam.dpod,\n    dpoi: exam.dpoi,\n    alturaod: exam.alturaod,\n    alturaoi: exam.alturaoi,\n    lcmarca: exam.lcmarca,\n    lcgod: exam.lcgod,\n    lcgoi: exam.lcgoi,\n  });\n\n  const handleDataExam = (key, val) => {\n    const data = {\n      ...newExam,\n      [key]: parseFloat(val),\n    };\n    setNewExam(data);\n    _ChangeInput(\"codes\", {});\n  };\n\n  const handelChangeExam = () => {\n    _ChangeInput(\"examEdit\", false);\n  };\n\n  const handleSaveExam = () => {\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de actualizar el examen?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Actualizar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then((result) => {\n      if (!result.dismiss) {\n        _saveExam({\n          id: exam.id,\n          data: newExam,\n        });\n        handelChangeExam();\n      }\n    });\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col\">\n          <b>\n            Folio <br />#{exam.id}\n          </b>\n        </div>\n        <div className=\"col\">\n          <b>Fecha:</b>\n          <br />\n          <i className=\"fas fa-calendar mr-2\"></i>\n          {moment(exam.created_at).format(\"L\")}\n        </div>\n        <div className=\"col\">\n          <b>Estado:</b>\n          <br />\n          {exam.estado ? (\n            <span className=\"badge badge-success\">\n              <i className=\"fas fa-check\"></i> Terminado\n            </span>\n          ) : (\n            <span className=\"badge badge-secondary\">\n              <i className=\"fas fa-hourglass\"></i> Activo\n            </span>\n          )}\n        </div>\n      </div>\n\n      {exam.observaciones ? (\n        <div className=\"form-group mt-2\">\n          <div className=\"callout callout-info\">\n            <h5 className=\"text-info text-bold\">\n              <i className=\"fas fa-info\"></i> Observaciones:\n            </h5>\n            {exam.observaciones}\n          </div>\n        </div>\n      ) : null}\n\n      <div className=\"row mt-2\">\n        <div className=\"col\">\n          <Graduacion\n            esferaod={newExam.esferaod ?? 0}\n            esferaoi={newExam.esferaoi ?? 0}\n            cilindrod={newExam.cilindrod ?? 0}\n            cilindroi={newExam.cilindroi ?? 0}\n            ejeod={newExam.ejeod ?? 0}\n            ejeoi={newExam.ejeoi ?? 0}\n            adiciond={newExam.adiciond ?? 0}\n            adicioni={newExam.adicioni ?? 0}\n            adicion_media_od={newExam.adicion_media_od}\n            adicion_media_oi={newExam.adicion_media_oi}\n            dpod={newExam.dpod ?? 0}\n            dpoi={newExam.dpoi ?? 0}\n            alturaod={newExam.alturaod ?? 0}\n            alturaoi={newExam.alturaoi ?? 0}\n            lcmarca={newExam.lcmarca ?? 0}\n            lcgod={newExam.lcgod ?? 0}\n            lcgoi={newExam.lcgoi ?? 0}\n            readOnly={!examEdit}\n            onChangeInput={handleDataExam}\n          />\n        </div>\n      </div>\n      {examEdit ? (\n        <div className=\"text-right mt-2\">\n          <div className=\"btn-group\">\n            <button className=\"btn btn-default\" onClick={handelChangeExam}>\n              <i className=\"fas fa-times mr-1\"></i> Cerrar\n            </button>\n            <button className=\"btn btn-info\" onClick={handleSaveExam}>\n              <i className=\"fas fa-save mr-1\"></i> Guardar\n            </button>\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n};\n\n\nexport default ExamCustomerComponent;\n","//Components\nimport Exam from '../Exam/views/examShort';\n\nexport default function ExamModal({ handleClose: _close, exam }) {\n  return (\n      <div className=\"modal d-block\">\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Examen</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n\n          <div className=\"modal-body p-2\">\n\n            <div className=\"row mt-4 d-print-none\">\n            {exam && exam.id ? (\n              <div className=\"col pt-6\">                \n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <div className=\"p-0 mailbox-read-message\">\n                      <Exam id={exam.id} examEdit={false} exam={exam} />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {/* <div className={`col-${exam && exam.id ? 3 : 12} pt-6`}>\n              <h6 className=\"w-100 d-block\">Meta data</h6>\n              <Dashboard\n                created_at={created_at ?? \"\"}\n                created={created ? created.name : \"\"}\n                updated={updated ? updated.name : \"\"}\n                updated_at={updated_at ?? \"\"}\n              />\n            </div> */}\n\n            </div>\n          </div>\n\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n\n          </div>\n        </div>\n      </div>\n    </div> \n  );\n};\n","import { useHistory } from \"react-router-dom\";\n\n\nexport default function ModalNota({ handleClose: _close, sale}) {\n\n  const history =  useHistory();\n\n  return (\n      <div className=\"modal d-block\">\n      <div className=\"modal-dialog\" role=\"document\">\n\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Nota</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n          <div className=\"modal-body p-2\">\n             {sale.id ? (                 \n                 <div>\n                     <div className='ml-3 font-weight-bold'>\n                         <h5 className='border-bottom pb-1 mb-2'>Resumen de la venta <span className='badge badge-success'>#{sale.id}</span></h5>\n                     </div>\n                     <div className=\"d-flex pl-2\">                     \n                        <div className='col-lg-7'>                                        \n                            <h6>Descuento:<span className='text-secondary ml-2 font-weight-normal'>${sale.descuento}</span></h6>\n                            <h6>Subtotal:<span className=\"text-secondary mb-3 ml-2 font-weight-normal\">${sale.subtotal}</span></h6>\n                            <h5 className=\"font-weight-bold\">Total:<span className=\"text-info ml-2 font-weight-normal\">${sale.total}</span></h5>  \n                        </div>\n                                                            \n                        <div className='col-lg-6 d-flex flex-column justify-content-center align-items-center pt-4'>\n                            <h6 className='font-weight-bold'>Abonado:<span className='text-success ml-2 font-weight-normal'>${sale.payments}</span></h6>\n                            <h6 className='font-weight-bold'>Por pagar:<span className='text-danger ml-2 font-weight-normal'>${sale.total - sale.payments - sale.descuento}</span></h6>\n                        </div>\n                     </div>\n                 </div>                \n             ):(\n                 <p>No hay un nota para mostrar!!</p>\n             )}\n          </div>\n\n          <div className=\"modal-footer\">                \n                <button\n                type=\"button\"\n                className=\"btn btn-default\"\n                onClick={() => _close()}\n                >\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n                </button>\n\n                <button className=\"btn btn-info\" onClick={()=>history.push(`/notas/${sale.id}`)}>\n                  <i className=\"fas fa-money-bill-alt mr-2\"></i>\n                  Editar nota\n                </button>\n\n          </div>\n        </div>\n      </div>\n    </div> \n  );\n};\n","import { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\n\n//Context\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { OrderContext } from \"../../context/OderContext\";\n\n//Hooks\nimport useOrder from \"../../hooks/useOrder\";\n\n//Components  \nimport LabOrder from \"./views/labOrder\";\nimport Bicelacion from \"./views/bicelacionOrder\";\nimport Items from \"./views/listItemsOrder\";\nimport ExamModal from \"./ExamModal\";\nimport ModalNota from \"./ModalNota\";\nimport Activitys from \"../Activitys\";\n\n//Helper\nimport helper from \"./helpers\";\n\nexport default function EditOrderComponent(props){\n\n  const [state, setState] = useState({\n      id: 0,\n      paciente: {},\n      session: null,\n      lab_id: 0,\n      lab_order: \"\",\n      bi_details: \"\",\n      bi_box: 0,\n      items: [],\n      exam: {},\n      codes: {},\n      status: 0,\n      created: {},\n      created_at: null,\n      updated: {},\n      updated_at: null,\n  });\n\n  const [showModal, setShowModal] = useState(false);\n  const [showModalNota, setShowModalNota] =  useState(false);\n\n  const {\n    id,\n    paciente,\n    lab_id,\n    lab_order,\n    bi_box,\n    bi_details,\n    items,\n    exam = {},\n    status,\n    created_at,\n  } = state;\n\n\n  const idurl = props.match.params;\n  const hookOrder = useOrder();\n  const authContext = useContext(AuthContext);\n  const role = authContext.auth.roles;\n  const history = useHistory();\n  const orderContext = useContext(OrderContext);\n\n\n  const { loading: LOADING } = props;\n\n  const fNacimiento = new Date(paciente.f_nacimiento ?? \"\") < new Date() ? moment(paciente.f_nacimiento) : null;\n\n  const telefonos = Object.values(paciente.phones ?? {}).filter((tel) => tel !== \"\");\n  \n  \n  const handleClose = (e) => {\n    setState({\n      id: 0,\n      paciente: {},\n      contact_id:0,\n      session: null,\n      lab_id: 0,\n      lab_order: \"\", //npedidolab\n      bi_details: \"\", //observaciones\n      bi_box: 0, //ncaja\n      nota:{},\n      items: [],\n      exam: {},\n      codes: {},\n      status: 0,\n      created: {},\n      created_at: null,\n      updated: {},\n      updated_at: null,\n      sale:{},\n      activitys: [],\n    });\n\n    orderContext.set({\n      ...orderContext,\n      panel:'inbox',\n    });\n\n    history.push(\"/pedidos\");\n  };\n\n  const handleSave = () => {\n    const { id, lab_order, bi_box, status, lab_id, bi_details } = state;\n    if(status === 0){\n      return null\n    }\n\n\n    if (status === 1 && !lab_id && toString(lab_order).length) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Verifique los campos de laboratorio\",\n        \"error\"\n      );\n      return false;\n    }else if(status === 1){\n      saveFinalOrder({\n        id,\n        status,\n        lab_id,\n        lab_order,\n      })\n    }\n\n    if (status === 2 && !bi_box) {\n      window.Swal.fire(\"Verificación\", \"El numero de caja esta vacio\", \"error\");\n      return false;\n    }else if(status === 2){\n      saveFinalOrder({\n        id,\n        status,\n        bi_box,\n        bi_details,\n      })\n    }\n\n\n    if(status >= 3){\n      saveFinalOrder({\n        id, \n        status,\n      })\n    }\n  };\n\n\n  const saveFinalOrder = (data)=>{\n    hookOrder.saveOrder(data).then((data)=>{\n      if(data){\n        window.Swal.fire({\n          title: 'Estado guardado correctamente',\n          icon: 'success',\n          showCancelButton: false,\n          showConfirmButton: false,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Eliminar',\n        });\n        orderContext.set({\n          ...orderContext,\n          panel:'inbox',\n        });\n        history.push('/pedidos');\n      }else{\n        window.Swal.fire({\n          title: 'Error al actualizar el estado',\n          icon: 'error',\n          showCancelButton: false,\n          showCancelButton: false,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Eliminar',\n        })\n      }\n    })\n  }\n\n  const handleDeleteOrder = () => {\n    window.Swal.fire({\n      title: '¿Estás seguro de eliminar la orden?',\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Eliminar',\n    }).then(({dismiss})=>{\n      if(!dismiss){\n        hookOrder.deleteOrder(id);\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Orden eliminada correctamente\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n\n        orderContext.set({\n          ...orderContext,\n          panel: 'inbox',\n        })\n      }\n    })\n  };\n\n\n  const handleChangeInput = (key, value) => {\n    setState({\n      ...state,\n      [key]: value\n    })\n  };\n\n  useEffect(()=>{\n    hookOrder.getOrder(idurl).then((data)=>{\n      if(data){\n        let dataReceibed = data.data;\n        console.log(dataReceibed);\n        setState({\n          id: dataReceibed.id ?? 0,\n          paciente: dataReceibed.paciente ?? {},\n          session: dataReceibed.session ?? null,\n          lab_id: dataReceibed.lab ? dataReceibed.lab.id : 0,\n          lab_order: dataReceibed.lab_order ?? \"\",\n          bi_details: dataReceibed.bi_details ?? \"\",\n          bi_box: dataReceibed.bi_box ?? 0,\n          nota: dataReceibed.nota ?? {},\n          items: dataReceibed.items ?? [],\n          exam: dataReceibed.exam ?? {},\n          codes: dataReceibed.codes ?? {},\n          status: dataReceibed.status ?? 0,\n          created: dataReceibed.created ?? {},\n          created_at: dataReceibed.created_at ?? null,\n          updated: dataReceibed.updated ?? {},\n          updated_at: dataReceibed.updated_at ?? null,\n          sale: dataReceibed.sale ?? {},\n          contact_id: dataReceibed.paciente.id,\n          activitys : dataReceibed.activity ?? [],\n        })\n      }else{\n        console.error(\"Error al obtener los datos\");\n      }\n    });\n  },[id])// eslint-disable-line react-hooks/exhaustive-deps\n  \n  return (\n    <>\n      { state ? (\n        <>\n          <div className=\"card card-warning card-outline d-print-none\">\n\n            <div className=\"card-header\">\n              <h3 className=\"card-title w-100\">\n                <i className=\"mr-1 fas fa-clipboard-list\"></i>\n                Pedido\n                <span className=\"ml-1 badge badge-pill badge-warning\">\n                  #{id}\n                </span>\n                <span className=\"float-right mailbox-read-time mt-1 text-dark\">\n                    Pedido registrado {moment(created_at).fromNow()}\n                </span>\n              </h3>\n            </div>\n\n            <div className=\"p-0 card-body d-flex p-3\">\n\n              <div className=\"pl-3 col-lg-6\">\n                {/* Nombre del paciente */}\n                <h6 className=\"d-flex mb-2\">\n                  <i className=\"mr-2 fas fa-user\"></i>\n                  <span className=\"text-capitalize m-0 text-secondary\">{paciente.name}</span>                \n                </h6>\n                {/* Email del paciente */}\n                {paciente.email ? (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-2 fas fa-envelope\"></i>\n                    <span className=\"text-muted\">{paciente.email}</span>\n                  </h6>                  \n                ):(\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-2 fas fa-envelope\"></i>\n                    <span className=\"text-muted\">Email no registrado</span>\n                  </h6>                  \n                )}\n                {/* Teléfono del paciente */}\n                  {telefonos.length ? (\n                    <h6 className=\"mb-2\">\n                      <i className=\"mr-1 fas fa-phone\"></i>\n                      <span className=\"mx-1 text-muted\">\n                      {telefonos.map((tel, index) =>\n                        index ? `, ${tel}` : `${tel}`\n                      )}\n                    </span>\n                    </h6>                  \n                  ):(\n                    <h6 className=\"mb-2\">\n                       <i className=\"mr-1 fas fa-phone\"></i>\n                      <span className=\"text-muted\">Telefonos no registrado</span>\n                    </h6>                \n                  )}\n\n                  \n                {/*Fecha de nacimiento del paciente*/}\n                {role === \"admin\" ? (                    \n                    <span className=\"mailbox-read-time\">\n                      Fecha de nacimiento:{\" \"}\n                      {fNacimiento ? (\n                        <>\n                          {fNacimiento.format(\"LL\")}\n                          <label className=\"ml-1\">\n                            ({moment().diff(fNacimiento, \"years\")} años)\n                          </label>\n                        </>\n                      ) : (\n                        \"NO REGISTRADO\"\n                      )}\n                    </span>\n                  ) : null}\n              </div>\n\n              <div className=\"col-lg-6 d-flex flex-column justify-content-center align-items-center\">\n\n                <div className=\"w-75 d-flex flex-column justify-content-center align-items-center\">\n                  <h6 className=\"w-100 d-block font-weight-bold text-center\">Acciones</h6>            \n                  <div className=\"btn-group\">  \n                  {state.nota && !state.nota.id ? (\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-default btn-sm\"\n                          title=\"Eliminar\"\n                          onClick={handleDeleteOrder}\n                        >\n                          <i className=\"far fa-trash-alt\"></i>\n                        </button>\n                      ) : null}\n\n                      {paciente.telefonos && paciente.telefonos.t_movil ? (\n                        <a\n                          href={\n                            \"https://wa.me/52\" +\n                            paciente.telefonos.t_movil.replace(\" \", \"\")\n                          }\n                          className=\"btn btn-default btn-sm\"\n                          title=\"Abrir WhatsApp\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                        >\n                          <i className=\"fas fa-mobile-alt\"></i>\n                        </a>\n                      ) : null}\n\n\n                      {paciente.email && (\n                        <a\n                          href={\"mailto:\" + paciente.email}\n                          className=\"btn btn-default btn-sm\"\n                          title=\"Enviar e-mail\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                        >\n                          <i className=\"fas fa-at\"></i>\n                        </a>\n                      )}\n                  </div>\n                </div>\n\n\n                <div className=\"w-75 d-flex flex-column justify-content-center align-items-center\">                      \n                  <div className=\"mt-3 \">\n                    <button className=\"btn btn-info mr-2\" onClick={() => setShowModal(true)} disabled = {Object.keys(exam).length ? false : true}>\n                      {Object.keys(exam).length ? \"Ver examen\" : \"Sin examen asignado\"}                      \n                      <i className=\"fas fa-eye ml-2\"></i>\n                    </button>  \n                    <button className=\"btn btn-primary\" onClick={() => setShowModalNota(true)}>\n                      Ver Nota\n                      <i className=\"fas fa-money-bill ml-2\"></i>\n                    </button>  \n                  </div>                  \n                </div>                \n              </div>\n            </div>   \n          </div>\n\n\n\n          <div className=\"row mt-4 mb-2\">\n            <div className=\"col-lg-4 col-md-6 col-sm-12 d-print-none\">              \n              {/* ------------------SELECCION DE ESTATUS ------------------ */}\n              <h6 className=\"w-100 d-block font-weight-bold\">Estado</h6>\n              <div className=\"card mt-2\">\n                <div className=\"btn-group-vertical\">\n                  {helper.getStatusType.map((type, index) => (\n                    <button\n                      key={index}\n                      type=\"button\"\n                      className={ status === index ? \"btn btn-primary btn-sm text-capitalize text-bold\" : \"btn btn-default btn-sm text-capitalize\"}\n                      onClick={(e) => {\n                        setState({\n                          ...state,\n                          status: index,\n                        });\n                      }}\n                    >\n                      {type}\n                    </button>\n                  ))}\n                </div>\n                {LOADING ? (\n                  <div className=\"overlay dark\">\n                    <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                  </div>\n                ) : null}\n              </div>\n            </div>\n\n\n            {/*------------------ COMPONENTE DE PEDIDO ------------------*/}\n            <div className=\"col\">\n\n             { <div className=\"card h-100 m-0\">\n\n                <div className=\"card-header d-print-none\">\n                  <h5 className=\"card-title w-100 d-block mb-2 text-capitalize text-bold\">\n                    <i className=\"fas fa-shield-alt mr-1\"></i>\n                    {helper.handleStatusString(status)}\n                  </h5>\n                </div>\n\n                <div className=\"card-body p-0\">\n                  <div className=\"p-0 mailbox-read-message m-0\">\n\n\n                    {status === 0 ? (\n                      <Items\n                      items={items}                                                                                   \n                    />                 \n                    ) : null}\n\n\n                    {status === 1 ? (\n                      <LabOrder\n                        lab_id={lab_id}\n                        lab_order={lab_order}\n                        status={status}\n                        handleChange={handleChangeInput}\n                      />\n                    ) : null}\n\n\n                    {status === 2 ? (\n                      <Bicelacion\n                        bi_box={bi_box}\n                        bi_details={bi_details}\n                        status={status}\n                        handleChange={handleChangeInput}\n                      />\n                    ) : null}\n\n\n                    {status >= 3 ? (\n                      <div className=\"px-2\">\n                        <div className=\"my-2 border rounded card border-warning d-print-none\">\n                          <div className=\"card-body\">\n                            <h5 className=\"card-title\">\n                              Estado de la entrega\n                            </h5>\n                            <div className=\"ml-1 icheck-success d-inline\">\n                              <input\n                                type=\"checkbox\"\n                                checked={status === 3 ? false : true}\n                                id=\"checkboxSuccess1\"\n                                onChange={(e) =>\n                                  handleChangeInput(\n                                    \"status\",\n                                    status === 3 ? 4 : 3\n                                  )\n                                }\n                              />\n                              <label htmlFor=\"checkboxSuccess1\"></label>\n                            </div>\n                          </div>\n                        </div>                  \n                      </div>\n                    ) : null}\n\n\n                  </div>\n                </div>\n\n                {LOADING ? (\n                  <div className=\"overlay dark d-print-none\">\n                    <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                  </div>\n                ) : null}\n              </div>}              \n            </div>\n          </div>\n\n          {/* ------------------ BOTONES INFERIORES ------------------ */}\n\n          <div className=\"btn-group col-lg-12 d-flex justify-content-end p-0\">             \n\n            <div className=\"mt-3\">\n              <button className=\"btn btn-secondary mr-2\"  onClick={(e) => handleClose(e)}>\n                Cerrar\n                <i className=\"mr-1 fas fa-ban ml-2\"></i>\n              </button>\n\n              <button className=\"btn btn-warning\"  onClick={handleSave}>\n                Guardar\n                <i className=\"mr-1 fas fa-save ml-2\"></i>\n              </button>\n            </div>\n\n          </div>\n\n          {/* MODAL VALIDATION EXAM */}\n          {showModal ? (\n            <ExamModal\n              handleClose = {()=> setShowModal(false)}          \n              exam = {state.exam}              \n            />\n          ): null}\n\n\n           {/* MODAL VALIDATION NOTA*/}\n          {showModalNota ? (\n            <ModalNota\n              handleClose={()=>setShowModalNota(false)}\n              sale = {state.sale}\n            />          \n          ):null}\n\n        </>\n      ) : null}\n\n      <Activitys\n        data = {state.activitys ?? []}\n      />\n\n    </>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import { useContext } from \"react\";\n//Context\nimport { OrderContext } from \"../../context/OderContext\";\nimport SideBar from \"../../pages/partials/SideBar\";\n\nexport default function Toolbar() {\n  const orderContext = useContext(OrderContext);\n  const options = orderContext.options;\n\n  const handleSetSelectOptions = ({ target }) => {\n    const { value, name } = target;\n    //if(name === 'status' || name === 'itemsPage'){}\n    orderContext.set({\n      ...orderContext,\n      options: {\n        ...options,\n        [name]: value,\n      },\n    });\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-md-12 col-sm-12 d-print-none\">\n        <a\n          href=\"#new\"\n          className={\n            [\"edit\", \"newOrder\"].includes(orderContext.panel)\n              ? \"disabled mb-3 btn btn-secondary btn-block\"\n              : \"mb-3 btn btn-warning btn-block\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n            orderContext.set({\n              ...orderContext,\n              panel: \"newOrder\",\n            });\n          }}\n          disabled={\n            [\"edit\", \"newOrder\"].includes(orderContext.panel) ? true : false\n          }\n        >\n          <i className=\"mr-2 fas fa-plus\"></i>\n          Pedido nuevo\n        </a>\n\n        {orderContext.panel === \"inbox\" && (\n          <SideBar title=\"Filtros\">\n            {orderContext.panel === \"inbox\" ? (\n              <>\n                <li className=\"nav-item\">&nbsp;</li>\n                <li className=\"p-2 nav-item\">\n                  <label htmlFor=\"status\">Estado del pedido</label>\n                  <select\n                    className=\"form-control\"\n                    name=\"status\"\n                    id=\"status\"\n                    value={options.status}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"\">-- Todos --</option>\n                    <option value=\"0\">En proceso</option>\n                    <option value=\"1\">Laboratorio</option>\n                    <option value=\"2\">Bicelación</option>\n                    <option value=\"3\">Terminado</option>\n                    <option value=\"4\">Entregado</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"orderby\">Ordenar por</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"orderby\"\n                    id=\"orderby\"\n                    value={options.orderby}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"created_at\">Fecha de registro</option>\n                    <option value=\"updated_at\">Fecha de modificacion</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"order\">Mostrar por</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"order\"\n                    id=\"order\"\n                    value={options.order}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"asc\">Antiguos</option>\n                    <option value=\"desc\">Recientes</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"itemsPage\">Numero de pedidos</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"itemsPage\"\n                    id=\"itemsPage\"\n                    value={options.itemsPage}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"25\">ver 25</option>\n                    <option value=\"50\">ver 50</option>\n                    <option value=\"75\">ver 75</option>\n                    <option value=\"100\">ver 100</option>\n                  </select>\n                </li>\n              </>\n            ) : null}\n          </SideBar>\n        )}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { OrderContext } from \"../context/OderContext\";\n\n//Components\nimport Inbox from \"../components/Order/views/inbox\";\nimport Asistent from \"../components/Order/asistent\";\nimport AddOrder from \"../components/Order/editOrder\";\nimport Toolbar from \"../components//Order/Toolbar.jsx\";\n\nconst initialOptions = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n  status: 0,\n  search: \"\",\n};\n\nexport default function IndexOrderComponent(props) {\n  const [state, setState] = useState({\n    panel: null,\n    options: initialOptions,\n    order: {},\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      panel: id ? \"edit\" : \"inbox\",\n    });\n  }, [id]);\n\n  return (\n    <OrderContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <div className=\"col-sm-12 col-md-2\">\n          <Toolbar />\n        </div>\n        <div className=\"col-sm-12 col-md-10\">\n          {state.panel === \"inbox\" && <Inbox />}\n          {state.panel === \"newOrder\" && <Asistent {...props} />}\n          {state.panel === \"edit\" && <AddOrder {...props}></AddOrder>}\n        </div>\n      </div>\n    </OrderContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, Fragment, useContext, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function NotifyComponent() {\n  const { auth, getNotifications, setNotifications } = useContext(AuthContext);\n  const [state, setState] = useState({\n    notifications: [],\n    loading: true,\n    mainRole: auth.roles,\n  });\n  const { notifications, loading, mainRole } = state,\n    countNotify = notifications ? notifications.length : 0,\n    showNotifications = notifications.slice(0, 10);\n  let timerNotify;\n\n  // Functions\n  const handleNotifications = () => {\n      getNotifications()\n        .then((notifications) => {\n          setState({\n            ...state,\n            notifications,\n            loading: false,\n          });\n        })\n        .catch(() => {\n          setState({\n            ...state,\n            loading: false,\n          });\n        });\n    },\n    handleClickRead = (e, id) => {\n      if (id === -1) e.preventDefault();\n      setNotifications({ id });\n    };\n\n  useEffect(() => {\n    handleNotifications();\n\n    timerNotify = setInterval(() => {\n      console.log(\"[Orus system] check notifications\");\n      setState({\n        ...state,\n        loading: true,\n      });\n      handleNotifications();\n    }, 60000);\n\n    return () => {\n      clearInterval(timerNotify);\n    };\n  }, []);\n\n  return (\n    <li className=\"nav-item dropdown\">\n      <a className=\"nav-link\" data-toggle=\"dropdown\" href=\"#end\">\n        {loading ? (\n          <i className=\"fas fa-spinner fa-spin\"></i>\n        ) : (\n          <>\n            <i className=\"far fa-bell\"></i>\n            {countNotify ? (\n              <span className=\"badge badge-warning navbar-badge\">\n                {countNotify}\n              </span>\n            ) : null}\n          </>\n        )}\n      </a>\n\n      <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n        <span className=\"dropdown-header\">{countNotify} Notificaciones</span>\n        <div className=\"dropdown-divider\"></div>\n        {showNotifications.map((notify) => {\n          const notiFyType = notify.type.split(\"\\\\\", 3);\n          let title = \"general\",\n            icon = \"fa-file\",\n            time = moment(notify.created_at).fromNow(),\n            url = \"#end\";\n\n          if (notiFyType[2] === \"ExamNotification\") {\n            if (mainRole === \"doctor\") {\n              title = \"Examen creado\";\n              url = \"/consultorio/registro/\" + notify.data.id;\n            } else {\n              title = \"Examen actualizado\";\n              url = \"/pedidos/registro\";\n            }\n            icon = \"fa-file-alt\";\n          }\n\n          return (\n            <Link\n              to={url}\n              className=\"dropdown-item\"\n              key={notify.id}\n              onClick={(e) => {\n                handleClickRead(e, notify.id);\n              }}\n            >\n              <i className={\"fas \" + icon + \" mr-1\"}></i> {title}\n              <span className=\"float-right text-sm text-muted\">{time}</span>\n            </Link>\n          );\n        })}\n        {countNotify ? (\n          <Fragment>\n            <div className=\"dropdown-divider\"></div>\n            <a\n              href=\"#end\"\n              className=\"dropdown-item dropdown-footer\"\n              onClick={(e) => {\n                e.preventDefault();\n                handleClickRead(e, -1);\n              }}\n            >\n              Marcar todas.\n            </a>\n          </Fragment>\n        ) : null}\n        {/* <Link\n            to=\"/notificaciones\"\n            className=\"dropdown-item dropdown-footer\"\n            onClick={(e) => {\n              //this.props.page(\"/notificaciones\");\n            }}\n          >\n            Ver todas\n          </Link> */}\n      </div>\n    </li>\n  );\n}\n","import Notify from \"./notify\";\n\nexport default function NavtopComponent() {\n  return (\n    <nav className=\"main-header navbar navbar-expand navbar-dark navbar-lightblue\">\n      <ul className=\"navbar-nav\">\n        <li className=\"nav-item\">\n          <a\n            className=\"nav-link\"\n            data-widget=\"pushmenu\"\n            href=\"#navbar\"\n            role=\"button\"\n            onClick={(e) => {\n              e.preventDefault();\n              window.$(\"#body\").toggleClass(\"sidebar-open\");\n              window.$(\"#body\").toggleClass(\"sidebar-collapse\");\n            }}\n          >\n            <i className=\"fas fa-bars\"></i>\n          </a>\n        </li>\n      </ul>\n      <ul className=\"navbar-nav ml-auto\">\n        <li className=\"nav-item dropdown\">\n          <a href=\"#end\" className=\"nav-link\" data-toggle=\"dropdown\">\n            <i className=\"far fa-comments\"></i>\n          </a>\n          <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n            <span className=\"dropdown-header\">Sin comentarios</span>\n            <div className=\"dropdown-divider\"></div>\n          </div>\n        </li>\n        <Notify />\n      </ul>\n    </nav>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useLocation } from \"react-router-dom\";\nimport { useContext, useState } from \"react\";\nimport moment from \"moment\";\nimport Modal from \"../../layouts/modal\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { ConfigContext } from \"../../context/ConfigContext\";\n\nexport default function BreadcrumbComponent() {\n\n\n\n  const { auth, setBranch } = useContext(AuthContext);\n  const config = useContext(ConfigContext);\n  const pathName = useLocation().pathname.split(\"/\");\n  const pathArray = pathName && pathName.length ? pathName : [\"dashboard\"];\n  const pathFilter = pathArray.filter((path) => ![\"\"].includes(path));\n  const namePage = pathFilter[0];\n  const currentBranch = auth.branch;\n  const [state, setState] = useState({\n    showChangeBranchs: false,\n    date: moment().format(\"LLLL\"),\n    branchSelect: currentBranch.id,\n  });\n\n  const branches = config.data?.filter((c) => c.name === \"branches\") ?? [];\n  \n  // functions\n  const handleChangeBranch = (e) => {\n    e.preventDefault();\n\n    setState({\n      ...state,\n      showChangeBranchs: true,\n    });\n  };\n  const handleCancelModal = () => {\n    setState({ ...state, showChangeBranchs: false });\n  };\n  const handleClickChangeBranch = () => {\n    const { branchSelect: branch_id } = state;\n\n    handleCancelModal();\n\n    if (!branch_id) {\n      console.error(\"[Orus System][ERROR] branch id is empty\");\n      window.location.reload();\n      return;\n    }\n\n    window.Swal.fire({\n      text: \"¿Realmente desea cambiarse de sucursal?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Confirmar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        setBranch(branch_id).then((res) => {\n          if (res) {\n            window.location.reload();\n          } else {\n            window.Swal.fire({\n              icon: \"error\",\n              text: \"Lo sentimos, hay un problema de comunicacion con el servidor. Comfirme el IP.\",\n              showConfirmButton: false,\n              timer: 3000,\n              position: \"top center\",\n            });\n          }\n        });\n      }\n    });\n  };\n  const getHtmlBody = () => {\n    const { branchSelect } = state;\n\n    return (\n      <div className=\"form-group\">\n        <label>Seleccione la sucursal</label>\n        <select\n          className=\"form-control text-capitalize\"\n          onChange={({ target }) =>\n            setState({ ...state, branchSelect: parseInt(target.value) })\n          }\n          defaultValue={currentBranch?.id}\n        >\n          {branches.map((branch) => (\n            <option key={branch.id} value={branch.id}>\n              {branch.data.name}\n            </option>\n          ))}\n        </select>\n        <div className=\"mt-2 text-right\">\n          <button\n            className=\"btn btn-default\"\n            type=\"button\"\n            onClick={handleClickChangeBranch}\n            disabled={branchSelect === currentBranch?.id ? true : false}\n          >\n            Cambiar\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"content-header\">\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <h1 className=\"m-0 text-dark text-capitalize\">\n              <i className=\"mr-1 fas fa-file\"></i> {namePage}\n            </h1>\n          </div>\n          <div className=\"text-center col\">\n            <small\n              className=\"p-2 badge badge-secondary text-capitalize\"\n              alt=\"conectado a\"\n              title=\"conectado a\"\n            >\n              <i className=\"mr-1 fas fa-wifi text-success\"></i>\n              {config.server?.host}\n              {config.server?.port && config.server?.port !== \"80\"\n                ? `:${config.server?.port}`\n                : null}\n            </small>\n            <small\n              className=\"p-2 mt-1 ml-1 badge badge-secondary text-capitalize\"\n              alt=\"Almacenando en\"\n              title=\"Almacenando en\"\n            >\n              <i className=\"mr-1 fas fa-server text-success\"></i>\n              {auth.permissions?.includes(\"auth.changeBranch\") ? (\n                <a\n                  href=\"#link\"\n                  className=\"text-white\"\n                  onClick={handleChangeBranch}\n                >\n                  {currentBranch.name}\n                </a>\n              ) : (\n                currentBranch.name\n              )}\n            </small>\n            <small\n              className=\"p-2 mt-1 ml-2 badge badge-secondary text-capitalize\"\n              alt=\"Usuario conectado\"\n              title=\"Usuario conectado\"\n            >\n              <i className=\"mr-1 fas fa-user text-info\"></i> {auth.username}\n            </small>\n            {state.showChangeBranchs ? (\n              <Modal\n                title=\"Cambiar de sucursal\"\n                body={getHtmlBody()}\n                handleCancel={handleCancelModal}\n              />\n            ) : null}\n          </div>\n          <div className=\"col\">\n            <h6 className=\"text-right text-muted\">\n              <i className=\"mr-1 fas fa-calendar\"></i> {state.date}\n            </h6>\n          </div>\n        </div>\n      </div>\n      <hr />\n    </div>\n  );\n\n  \n}\n","import { useContext } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function MenuComponent() {\n  const { auth, outSession } = useContext(AuthContext);\n  const handleLogOut = (e) => {\n    e.preventDefault();\n\n    window.Swal.fire({\n      title: \"Session\",\n      text: \"¿Esta seguro de cerrar la sesion?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Si\",\n      cancelButtonText: \"Cancelar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        outSession();\n\n        setTimeout(() => {\n          window.location.reload();\n        }, 2000);\n      }\n    });\n  };\n\n  // TODO: import auth context\n  const companyName = \"Optica Madero\",\n    active = useLocation().pathname.replace(\"/\", \"\");\n\n  let avatar = \"/img/avatars/avatar5.png\";\n  if (auth.roles === \"ventas\") avatar = \"/img/avatars/avatar2.png\";\n  if (auth.roles === \"admin\") avatar = \"/img/avatars/avatar3.png\";\n  if (auth.idUser === 2) avatar = \"/img/avatars/avatar4.png\";\n\n  return (\n    <aside className=\"main-sidebar sidebar-dark-primary\">\n      <Link to=\"/\" className=\"brand-link\">\n        <img\n          src=\"/img/logo.png\"\n          alt={companyName + \" logo \"}\n          className=\"brand-image img-circle elevation-2\"\n          style={{ opacity: 0.8, maxHeight: 16 }}\n        />\n        <span className=\"brand-text font-weight-light text-uppercase\">\n          {companyName}\n        </span>\n      </Link>\n      <div className=\"sidebar\">\n        <div className=\"pb-3 mt-3 mb-3 user-panel d-flex\">\n          <div className=\"image\">\n            <img\n              src={avatar}\n              className=\"img-circle elevation-2\"\n              alt={auth.name}\n            />\n          </div>\n          <div className=\"info\">\n            <a href=\"#end\" className=\"d-block text-capitalize\">\n              {auth.name}\n              <small className=\"text-lowercase\">({auth.username})</small>\n              <br />\n              <span className=\"badge badge-light\">\n                {auth.roles !== \"admin\"\n                  ? auth.roles === \"ventas\"\n                    ? \"Ventas\"\n                    : \"Optometrista\"\n                  : \"Administrador\"}\n              </span>\n            </a>\n          </div>\n        </div>\n        <nav className=\"mt-2\">\n          <ul\n            className=\"nav nav-pills nav-sidebar flex-column\"\n            data-widget=\"treeview\"\n            role=\"menu\"\n            data-accordion=\"false\"\n          >\n            {auth.roles === \"admin\" ? (\n              <li className=\"nav-item\">\n                <Link\n                  to=\"/\"\n                  className={active === \"\" ? \"nav-link active\" : \"nav-link\"}\n                >\n                  <i className=\"nav-icon fas fa-tachometer-alt\"></i>\n                  <p>\n                    Dashboard\n                    <i className=\"right fas fa-angle-left\"></i>\n                  </p>\n                </Link>\n              </li>\n            ) : null}\n\n            <li className=\"nav-item\">\n              <Link\n                to=\"/contactos\"\n                className={\n                  active === \"contactos\" ? \"nav-link active\" : \"nav-link\"\n                }\n              >\n                <i className=\"nav-icon fas fa-address-book\"></i>\n                <p>\n                  Contactos\n                  <i className=\"right fas fa-angle-left\"></i>\n                </p>\n              </Link>\n            </li>\n\n            <li className=\"nav-item\">\n              <Link\n                to=\"/consultorio\"\n                className={\n                  active === \"consultorio\" ||\n                  (active === \"\" && auth.roles === \"doctor\")\n                    ? \"nav-link active\"\n                    : \"nav-link\"\n                }\n              >\n                <i className=\"nav-icon fas fa-notes-medical\"></i>\n                <p>\n                  Examenes\n                  <i className=\"right fas fa-angle-left\"></i>\n                </p>\n              </Link>\n            </li>\n\n            {auth.roles !== \"doctor\" ? (\n              <>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/pedidos\"\n                    className={\n                      active === \"pedidos\" ||\n                      (active === \"\" && auth.roles === \"ventas\")\n                        ? \"nav-link active\"\n                        : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-clipboard-list\"></i>\n                    <p>\n                      Pedidos\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/notas\"\n                    className={\n                      active === \"notas\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-cash-register\"></i>\n                    <p>\n                      Ventas\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n              </>\n            ) : null}\n\n            {auth.roles === \"admin\" ? (\n              <>\n                <li\n                  className={\n                    active === \"almacen\"\n                      ? \"nav-item has-treeview menu-open\"\n                      : \"nav-item has-treeview \"\n                  }\n                >\n                  <Link\n                    to=\"/almacen\"\n                    className={\n                      active === \"almacen\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-database\"></i>\n                    <p>\n                      Almacen\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/usuarios\"\n                    className={\n                      active === \"usuarios\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-user\"></i>\n                    <p>\n                      Usuarios\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/configuraciones\"\n                    className={\n                      active === \"configuraciones\"\n                        ? \"nav-link active\"\n                        : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-tools\"></i>\n                    <p>\n                      Configuraciones\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n              </>\n            ) : null}\n\n            <li className=\"nav-item\">\n              <Link to=\"/\" className=\"nav-link\" onClick={handleLogOut}>\n                <i className=\"nav-icon fas fa-sign-out-alt\"></i>\n                <p>Cerrar sesion</p>\n              </Link>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </aside>\n  );\n}\n","import Navtop from \"../components/Layouts/navtop\";\nimport Breadcrumb from \"../components/Layouts/breadcrumb\";\nimport Menu from \"../components/Layouts/menu\";\n\nexport default function Main({ children }) {\n  const data = {};\n\n  return (\n    <div className=\"wrapper\" >\n      <Navtop logOut={() => {}} data={data} page={() => {}} />\n      \n      <Menu\n        companyName={\"company\"}\n        user={data}\n        page={() => {}}\n        logOut={() => {}}\n        active={\"active\"}\n      />\n\n      <div className=\"content-wrapper\">\n        <Breadcrumb />\n        <div className=\"content\">\n          <div className=\"container-fluid\">\n            <div className=\"row\" style={{minHeight:'100vh'}}>\n              <div className=\"col-lg-12\">{children}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","import { Route } from \"react-router-dom\";\nimport UserAdd from \"../components/Users/add\";\nimport Store from \"../pages/Store\";\nimport Contacts from \"../pages/Contacts\";\nimport Tools from '../pages/Tools';\nimport Exams from \"../pages/Exams\";\nimport Sales from \"../pages/Sales\";\nimport Dashboard from \"../pages/AuthDashboard\";\nimport Users from \"../pages/Users\";\nimport Orders from \"../pages/Orders\";\n\nimport ConfigProvider from \"../context/ConfigContext\";\nimport Main from \"../layouts/Main\";\n\nexport default function Routers({ auth }) {\n  return (\n    <ConfigProvider>\n      <Main>\n        <Route\n          exact\n          path=\"/\"\n          render={(props) => {\n            switch (auth.roles) {\n              case \"doctor\":\n                return <Exams {...props} />;\n\n              case \"ventas\":\n                return <Orders {...props} />;\n\n              default:\n                return <Dashboard {...props} />;\n            }\n          }}\n        />\n\n        <Route\n          path=\"/usuarios/registro/:id?\"\n          render={(props) => <UserAdd {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/usuarios/:id?\"\n          render={(props) => <Users {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/almacen/:id?\"\n          render={(props) => <Store {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/contactos/:id?\"\n          render={(props) => <Contacts {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/consultorio/:id?\"\n          render={(props) => <Exams {...props} />}\n        />\n\n        <Route\n          path=\"/configuraciones\"\n          render={(props) => <Tools {...props} page={() => {}} />}\n        />\n\n        <Route path=\"/pedidos/:id?\" render={(props) => <Orders {...props} />} />\n\n        <Route\n          path=\"/notas/:id?\"\n          render={(props) => <Sales {...props} page={() => {}} />}\n        />\n\n        {/* <Route\n              path=\"/notificaciones\"\n              render={(props) => (\n                <NotifyAllShow {...props} data={data} page={this.handlePage} />\n              )}\n            /> */}\n      </Main>\n    </ConfigProvider>\n  );\n}\n","export default function Dashboard() {\n  return (\n    <div className=\"mx-auto p-4 mt-5 w-50\">\n      <h1>Portal Optica Madero</h1>\n      <p>Para accesar al portal inicia session aqui: </p>\n      <button\n        onClick={() => {\n          window.location.href = \"/login\";\n        }}\n        type=\"button\"\n      >\n        Acceder\n      </button>\n    </div>\n  );\n}\n","import { Route } from \"react-router-dom\";\nimport Dashboard from \"../pages/Dashboard\";\n\nexport default function RouterPortal() {\n  return (\n    <>\n      <Route exact path=\"/\" render={(props) => <Dashboard />} />\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nexport default function NotFoundComponent() {\n  return (\n    <div className=\"container text-center font-weight-bold d-flex justify-content-center mt-5\">\n      <h1>404 Not Found</h1>\n    </div>\n  );\n}\n","/* eslint-disable no-useless-escape */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { useContext, useEffect, useState, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Login() {\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n  const LS = localStorage.getItem(\"OrusSystem\");\n  const defaultStorage = {\n    protocol: window.location.protocol.replace(\":\", \"\"),\n    host: window.location.hostname,\n    port: window.location.port,\n  };\n  const storage = LS ? JSON.parse(LS) : defaultStorage;\n  const server = `${storage.protocol + \"://\" ?? \"\"}${storage.host ?? \"\"}${\n    \":\" + storage.port ?? \"\"\n  }`;\n  const [state, setState] = useState({\n    load: false,\n    email: \"\",\n    password: \"\",\n    txtHost: server,\n    hostShow: server ? false : true,\n  });\n  const COMPANY = \"Optica Madero\";\n  const inputEmail = useRef();\n  const inputPassword = useRef();\n\n  // Functions\n  const handleLogin = () => {\n    const patterEmail = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if (!state.email) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de correo electronico es requerido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputEmail.current.focus();\n      });\n    }\n\n    if (/^@./.test(state.email)) {\n      const user = state.email.replace(\"@\", \"\");\n\n      state.email = `${user}@domain.com`;\n    } else if (!patterEmail.test(state.email)) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El usuario debe de ser un correo valido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputEmail.current.focus();\n      });\n    }\n\n    if (\n      ![\"domain.com\", \"opticamadero.com\"].includes(state.email.split(\"@\")[1])\n    ) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El dominio de este correo no es aceptado\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        setState({\n          ...state,\n          email: \"\",\n        });\n      });\n    }\n\n    if (!state.password) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de constraseña es requerido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputPassword.current.focus();\n      });\n    }\n\n    if (state.password.length < 8) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El password debe de tener al menos 8 caracteres\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputPassword.current.focus();\n      });\n    }\n\n    setState({\n      ...state,\n      load: true,\n    });\n\n    auth\n      .setSession({ email: state.email, password: state.password })\n      .then((res) => {\n        setState({\n          ...state,\n          load: false,\n        });\n\n        if (!res.status) {\n          let message = res.message;\n\n          if (res.data?.errors) {\n            message = res.data?.errors[Object.keys(res.data.errors)[0]][0];\n          }\n\n          if (!message && res.data) message = res.data.message;\n\n          return window.Swal.fire({\n            icon: \"error\",\n            text: message,\n            showConfirmButton: false,\n            timer: 2500,\n            position: \"top center\",\n          });\n        }\n\n        history.push(\"/\");\n      });\n  };\n  const handleKeyEnter = (key, fn) => {\n    if (key === \"Enter\") {\n      fn();\n    }\n  };\n  const handleChangeServer = () => {\n    const { txtHost } = state;\n\n    if (!txtHost) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de servidor no puede estar vacio\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      });\n    }\n\n    const server = txtHost.split(\":\");\n    let host, port, protocol;\n\n    if (server.length === 2) {\n      protocol = window.location.protocol.replace(\":\", \"\");\n      host = server[0].replace(\"//\", \"\");\n      port = server[1];\n    } else if (server.length === 3) {\n      protocol = server[0];\n      host = server[1].replace(\"//\", \"\");\n      port = server[2];\n    } else {\n      protocol = window.location.protocol.replace(\":\", \"\");\n      host = window.location.hostname;\n      port = window.location.port;\n    }\n\n    localStorage.setItem(\n      \"OrusSystem\",\n      JSON.stringify({\n        ...storage,\n        protocol,\n        host,\n        port,\n        token: \"\",\n      })\n    );\n\n    setState({\n      ...state,\n      hostShow: false,\n    });\n\n    window.Swal.fire({\n      icon: \"success\",\n      text: \"Cambio de servidor exitoso\",\n      showConfirmButton: false,\n      timer: 2500,\n      position: \"top center\",\n    });\n  };\n  const handleEmailEnter = () => {\n    if (state.email) inputPassword.current.focus();\n  };\n\n  useEffect(() => {\n    if (auth.auth?.isLogged) {\n      history.push(\"/\");\n    }\n  }, []);\n\n  return (\n    <div className=\"login-page\">\n      <div className=\"login-box\">\n        <div className=\"login-logo\">\n          <a href=\"#logo\" onClick={(e) => e.preventDefault()}>\n            <b className=\"text-primary\">Orus</b> LTE\n          </a>\n        </div>\n\n        <div className=\"rounded shadow-lg card\">\n          <div className=\"card-body login-card-body\">\n            <p className=\"login-box-msg text-uppercase\">\n              <span className=\"p-2 badge badge-secondary\">{COMPANY}</span>\n              <br />\n              <small className=\"text-muted text-lowercase\">{`<${state.txtHost}>`}</small>\n            </p>\n            <form autoComplete=\"off\">\n              <div className=\"mb-0 input-group\">\n                <input\n                  type=\"email\"\n                  className=\"form-control text-lowercase\"\n                  placeholder=\"Correo electonico\"\n                  onChange={({ target }) =>\n                    setState({ ...state, email: target.value.toLowerCase() })\n                  }\n                  onKeyPress={({ key }) =>\n                    handleKeyEnter(key, handleEmailEnter)\n                  }\n                  defaultValue={state.email}\n                  autoComplete=\"false\"\n                  ref={inputEmail}\n                  autoFocus={state.email ? false : true}\n                />\n                <div className=\"input-group-append\">\n                  <div className=\"input-group-text\">\n                    <span className=\"fas fa-user\"></span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mt-3 input-group\">\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Contraseña\"\n                  onChange={({ target }) =>\n                    setState({ ...state, password: target.value })\n                  }\n                  onKeyPress={({ key }) => handleKeyEnter(key, handleLogin)}\n                  defaultValue={state.password}\n                  autoComplete=\"false\"\n                  ref={inputPassword}\n                  autoFocus={\n                    state.email ? (state.password ? false : true) : false\n                  }\n                />\n                <div className=\"input-group-append\">\n                  <div className=\"input-group-text\">\n                    <span className=\"fas fa-lock\"></span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"my-3 col-12\">\n                  <a\n                    href=\"#tools\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      setState({ ...state, hostShow: !state.hostShow });\n                    }}\n                    className=\"text-muted\"\n                  >\n                    <i className=\"mx-1 fas fa-wifi\"></i> Servidor\n                  </a>\n                  {state.hostShow ? (\n                    <div className=\"mb-3 input-group\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Servidor\"\n                        autoComplete=\"off\"\n                        onChange={({ target }) =>\n                          setState({\n                            ...state,\n                            txtHost: target.value.toLowerCase(),\n                          })\n                        }\n                        defaultValue={state.txtHost}\n                        onKeyPress={({ key }) =>\n                          handleKeyEnter(key, handleChangeServer)\n                        }\n                      />\n                      <div className=\"input-group-append\">\n                        <div className=\"input-group-text\">\n                          <span className=\"fas fa-server\"></span>\n                        </div>\n                      </div>\n                    </div>\n                  ) : null}\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"text-center col-12\">\n                  <button\n                    type=\"button\"\n                    className={\n                      state.load\n                        ? \"btn btn-outline-secondary btn-block\"\n                        : \"btn btn-primary btn-block\"\n                    }\n                    onClick={handleLogin}\n                    disabled={state.load ? true : false}\n                  >\n                    {state.load ? (\n                      <div className=\"spinner-border text-secondary\">\n                        <span className=\"sr-only\">Loading...</span>\n                      </div>\n                    ) : (\n                      \"Iniciar session\"\n                    )}\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useContext } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/AuthContext\";\nimport RouterAuth from \"./RouterAuth\";\nimport RouterPortal from \"./RouterPortal\";\nimport NotFound from \"../components/404NotFound\";\nimport Login from \"../pages/Login\";\n\nexport default function Router() {\n  const { auth } = useContext(AuthContext);\n\n  return (\n    <Switch>\n      <Route path=\"/login\" render={() => <Login />} />\n      {auth?.isLogged ? <RouterAuth auth={auth} /> : <RouterPortal />}\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { BrowserRouter } from \"react-router-dom\";\n//import { Provider } from \"react-redux\";\n\n//import store from \"./redux/store\";\nimport AuthProvider from \"./context/AuthContext\";\nimport Router from \"./routers/Router\";\nimport { useEffect } from \"react\";\n\nexport default function App() {\n  const LS = localStorage.getItem(\"OrusSystem\");\n  const defaultStorage = {\n    protocol: window.location.protocol.replace(\":\", \"\"),\n    host: window.location.hostname,\n    port: window.location.port,\n  };\n  const storage = LS ? JSON.parse(LS) : defaultStorage;\n\n  useEffect(() => {\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(storage));\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>       \n        <Router />\n      </AuthProvider>\n    </BrowserRouter>\n  );\n\n  /* return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Provider store={store}>\n          <Router />\n        </Provider>\n      </AuthProvider>\n    </BrowserRouter>\n  ); */\n}\n","import { render } from \"react-dom\";\nimport App from \"./App\";\n\nrender(<App />, document.getElementById(\"root\"));\n","module.exports = {\n  dollarUS: Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  }),\n};\n"],"sourceRoot":""}