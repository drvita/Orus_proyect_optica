{"version":3,"sources":["components/Layouts/navtop.jsx","components/Layouts/menu.jsx","components/Layouts/breadcrumb.jsx","components/Layouts/footer.jsx","components/Layouts/headerTable.jsx","components/Layouts/pagination.jsx","components/Users/index_filter.jsx","components/Layouts/actionsTable.jsx","components/Users/index.jsx","components/Users/userNameInput.jsx","components/Users/userEmailInput.jsx","components/Users/add.jsx","components/Store/index_filter.jsx","components/Store/index.jsx","components/Store/add_lote.jsx","components/Store/input_category.jsx","components/Store/input_suppliers.jsx","components/Store/input_brand.jsx","components/Layouts/codeLentString.jsx","components/Store/add.jsx","components/Store/category_list.jsx","components/Store/categories.jsx","components/Store/brands.jsx","components/Contacts/index_filter.jsx","components/Contacts/index.jsx","components/Contacts/mapa.jsx","components/Exam/graduacionExam.jsx","components/Exam/recomendaciones.jsx","components/Exam/listsExams.jsx","components/Contacts/nameInput.jsx","components/Contacts/emailInput.jsx","components/Contacts/add_personal.jsx","components/Contacts/add_domicilio.jsx","components/Contacts/add_telefonos.jsx","components/Contacts/add.jsx","components/Contacts/addByContact.jsx","components/Layouts/tools_category.jsx","components/Layouts/tools.jsx","components/Exam/index_filter.jsx","components/Exam/index.jsx","components/Contacts/easyContact.jsx","components/Contacts/searchContactCard.jsx","components/Exam/generalesExam.jsx","components/Exam/interrogatoriosExam.jsx","components/Exam/keraRetExam.jsx","components/Exam/diabetesExam.jsx","components/Exam/agudezaExam.jsx","components/Exam/diagnosticoExam.jsx","components/Exam/observacionesExam.jsx","components/Layouts/messenger.jsx","components/Exam/add.jsx","components/Order/index_filter.jsx","components/Order/index.jsx","components/Order/itemsOrder.jsx","components/Order/labOrder.jsx","components/Order/statusOrder.jsx","components/Order/bicelacionOrder.jsx","components/Order/garantiaOrder.jsx","components/Order/add.jsx","components/Sales/index_filter.jsx","components/Sales/index.jsx","components/Sales/abonoAdd.jsx","components/Sales/print_pay.jsx","components/Sales/abonos.jsx","components/Sales/print_sale.jsx","components/Sales/edoCuenta.jsx","components/Sales/add.jsx","components/Sales/reportPays.jsx","components/Dashboard/cash.jsx","components/Dashboard/dateUser.jsx","components/Dashboard/boxCut.jsx","components/Dashboard/index.jsx","Routers.jsx","components/Layouts/login.jsx","index.js"],"names":["Navtop","className","data-widget","href","role","data-toggle","Component","Menu","changePage","e","props","page","handleLogOut","preventDefault","window","Swal","fire","title","text","icon","showCancelButton","confirmButtonColor","confirmButtonText","cancelButtonText","then","result","dismiss","value","logOut","this","companyName","user","active","avatar","rol","idUser","to","onClick","src","alt","style","opacity","name","username","data-accordion","Fragment","Breadcrumb","state","date","moment","format","setInterval","console","log","setState","Footer","HeaderTable","handleOrder","item","data","order","orderby","actions","length","map","col","index","filter","scope","key","type","cursor","Pagination","handleChangePage","meta","total","current_page","Math","ceil","per_page","toFixed","last_page","Filter","onKeyPressSearch","setFilters","onClickClean","changeFilters","$","modal","target","search","data-target","tabIndex","id","data-dismiss","aria-label","aria-hidden","placeholder","onChange","onKeyPress","ActionsTable","handleDelete","delete","edit","Users","load","toUpperCase","showLoaderOnConfirm","preConfirm","confirm","host","token","fetch","method","signal","headers","Accept","Authorization","response","a","back","status","json","ok","Error","message","catch","error","showConfirmButton","timer","res","getUsers","url","statusText","users","sdd","JSON","parse","localStorage","getItem","controller","AbortController","abort","setItem","stringify","colSpan","Object","keys","email","session","last_activity","fromNow","updated_at","created_at","UserName","handleChange","x","replace","toLowerCase","test","validUser","bgColor","validate","varLocalStorage","timeFetch","clearTimeout","setTimeout","searchUser","alert","autoComplete","autoFocus","required","minLength","maxLength","pattern","validEmail","UserAdd","catchInputs","handleSave","validUserName","validUserEmail","password","body","history","goBack","getUser","match","params","send","onSubmit","disabled","ip_address","user_agent","user_data","Store","onchangeSearch","getItems","items","push","codigo","marca","producto","unidad","cantidades","precio","proveedor","nombre","split","lotes","ordenar","buscar","pagina","errors","StoreLote","tr","parentNode","classList","add","ls","deleteColor","clearInterval","remove","loteNew","handelGetLots","refresh","bill","cost","price","amount","lote","handleNewLote","bind","pages","i","width","lot","factura","costo","min","validInputs","store_items_id","InputCategory","handleChangeCategory","categoryData","parseInt","category","find","categoryName","textSelect","categoryRef","ref","cat","categoria","SuppliersInput","getSuppliers","suppliers_data","supplier","handleChangeSupplier","supplierRef","sp","InputBrand","handleChangeBrand","getBrands","brands","brandsName","brand","brandRef","string","StoreAdd","handleNameLent","grad","stringcode","category2","current","Codestring","options","selectedIndex","trim","category3","category4","toString","handleCodeLent","handleCodeString","code","setNew","codebar","brand_id","unit","cant","category_id","category_id1","category_id2","category_id3","category_id4","category_list2","category_list3","category_list4","getCategory","category_list1","codeRef","nameRef","contact_id","depende_de","hijos","c_barra","graduacion","category_data","category1","React","createRef","next","codeValue","nameValue","CategoryList","handleClickDelete","category_raiz","indexCat","splice","handleClickSave","nameInput","focus","getCategoriesMain","CategoryData","undefined","categoryid","ppage","handleClickAdd","categoryDataName","categorySelect","last","input","Categories","handleChangeState","category_hijos1","category_hijos2","category_hijos3","category_hijos4","Brands","deleteBrand","indexItem","saveBrand","changeInput","business","Contacts","getContacts","contacts","contact","rfc","tipo","telefonos","t_movil","enUso","negocio","Mapa","eventLoadMap","request","query","calle","colonia","municipio","estado","cp","fields","service","google","maps","places","PlacesService","findPlaceFromQuery","results","markers","setMap","place","marker","Marker","position","geometry","location","formatted_address","addListener","address","changeAddress","setCenter","googlePlaceAPILoad1","mapCenter","LatLng","Map","document","getElementById","center","zoom","height","GraduacionExam","checked","val","parseFloat","onChangeInput","readOnly","max","step","esferaod","cilindrod","ejeod","adiciond","dpod","alturaod","esferaoi","cilindroi","ejeoi","adicioni","dpoi","alturaoi","lcmarca","lcgod","lcgoi","Recomendaciones","handleCodeName","handleClickCategory","nameCategory","category_id_2","category_id_3","category_list_2","category_list_3","handleCategoryChange","gradod","gradoi","category_list","getCategories","update","ListsExams","handleSaveExam","paciente","edad","handleDataExam","exam","handleChangeInput","ChangeInput","handleClickDeleteExam","handleClickSelect","handleNewOrder","exam_id","getExams","handleNewExam","client","examEdit","select","datos","utc","local","category_ii","row","Date","isSame","examToday","newExam","NameInput","eraseTilde","RegExp","stringOk","contacto","validName","list","EmailInput","emailOriginal","emailContact","AddPersonal","birthday","AddDomicilio","AddTelefonos","t_casa","t_oficina","verify","ContactsAdd","domicilio","telnumbers","empresa","f_nacimiento","timeSave","AddContact","ToolsCategory","category_select","category_hijos","category_hijos_3","newItem","padre","clickSave","company","server","clickSaveUser","Exam","handleFilter","exams","order_id","fecha","easyContact","changeValue","setContac","storage","searchContact","sendAge","dataContact","getIdContact","getContact","handleClickChange","handleClickContact","word","handleSearcContact","contactInput","onBlur","GeneralesExam","aria-expanded","aria-controls","aria-labelledby","data-parent","pc","htmlFor","pc_time","tablet","tablet_time","movil","movil_time","lap","lap_time","frontal","occipital","generality","cefalea","temporaod","temporaoi","c_frecuencia","c_intensidad","InterrogatorioExam","interrogatorio","coa","rows","aopp","aopf","KeraRetExam","keratometriaod","keratometriaoi","rsod","rsoi","DiabetesExam","d_fclod","d_fcloi","d_time","d_media","d_test","d_fclod_time","d_fcloi_time","oftalmoscopia","AgudezaExam","cvod","cvoi","avslod","avsloi","avcgaod","avcgaoi","avfod","avfoi","avf2o","DiagnosticoExam","diagnostico","presbicie","piod","pioi","txoftalmico","ObservacionesExam","observaciones","messenger","handleMessege","sendMessenger","table","idRow","getMessengers","messages","pagado","created_user","mensaje","ExamAdd","handleStatus","getExam","pantalleooi","pantalleood","temporal","txoptico","item1","item2","hoy","now","registro","toDay","nameItem","obj","setStatusString","getPedidos","pedidos","pedido","caja","laboratorio","folio_lab","examen","nota","Items","handelClickItemDb","subtotal","cantidad","inStorage","out","itemsDb","deleteItem","addItem","descripcion","itemNew","handleNewItem","inputItem","inputCant","db","maxWidth","labOrder","supplies","lab_id","s","npedidolab","statusOrder","bicelacionOrder","ncaja","garantiaOrder","OrderAdd","getOrder","productos","usuario","created","random","substring","locale","showTabActive","cliente","descuento","AddAbono","handlePay","saleId","contactId","metodopago","banco","auth","onChangeValue","pay","printPay","ListAbonos","getPayments","print","content","pri","contentWindow","open","write","innerHTML","close","handleLoad","SetMethodPayment","sale","abonos","abono","metodo","Autorizacion","aria-disabled","folio","printSale","saldo","abonado","totalItems","fontSize","fontFamily","edoCuenta","SaleAdd","getSales","chat","ReportPay","changeState","getSaleDay","saleDay","saleUser","donutChartCanvas","get","getContext","donutOptions","maintainAspectRatio","responsive","labels","values","efectivo","donutData","char","destroy","mp","datasets","backgroundColor","Chart","Cash","deleteAtm","getAtms","sendAtm","atmDate","atmUser","atm","atms","DateUser","BoxCut","ventas","Dashboard","Routers","verifyUser","isLogged","handlePage","handleTitleSection","pathname","locations","dir","path","render","extric","Main","pressEnter","hostShow","showTools","handleLogin","loginFunction","App","login","hostname"],"mappings":"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","file":"static/js/main.e5fcb59e.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nexport default class Navtop extends Component {\r\n  render() {\r\n    return (\r\n      <nav className=\"main-header navbar navbar-expand navbar-dark navbar-lightblue\">\r\n        <ul className=\"navbar-nav\">\r\n          <li className=\"nav-item\">\r\n            <a\r\n              className=\"nav-link\"\r\n              data-widget=\"pushmenu\"\r\n              href=\"#end\"\r\n              role=\"button\"\r\n            >\r\n              <i className=\"fas fa-bars\"></i>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n        <ul className=\"navbar-nav ml-auto\">\r\n          <li className=\"nav-item dropdown\">\r\n            <a href=\"#end\" className=\"nav-link\" data-toggle=\"dropdown\">\r\n              <i className=\"far fa-comments\"></i>\r\n              <span className=\"badge badge-danger navbar-badge\">0</span>\r\n            </a>\r\n            <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\r\n              <a href=\"#end\" className=\"dropdown-item\">\r\n                <div className=\"media\">\r\n                  <div className=\"media-body\">\r\n                    <h3 className=\"dropdown-item-title\">\r\n                      Brad Diesel\r\n                      <span className=\"float-right text-sm text-danger\">\r\n                        <i className=\"fas fa-star\"></i>\r\n                      </span>\r\n                    </h3>\r\n                    <p className=\"text-sm\">Call me whenever you can...</p>\r\n                    <p className=\"text-sm text-muted\">\r\n                      <i className=\"far fa-clock mr-1\"></i> 4 Hours Ago\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </a>\r\n              <div className=\"dropdown-divider\"></div>\r\n              <a href=\"#end\" className=\"dropdown-item dropdown-footer\">\r\n                See All Messages\r\n              </a>\r\n            </div>\r\n          </li>\r\n          <li className=\"nav-item dropdown\">\r\n            <a className=\"nav-link\" data-toggle=\"dropdown\" href=\"#end\">\r\n              <i className=\"far fa-bell\"></i>\r\n              <span className=\"badge badge-warning navbar-badge\">0</span>\r\n            </a>\r\n            <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\r\n              <span className=\"dropdown-header\">15 Notifications</span>\r\n              <div className=\"dropdown-divider\"></div>\r\n              <a href=\"#end\" className=\"dropdown-item\">\r\n                <i className=\"fas fa-file mr-2\"></i> 3 new reports\r\n                <span className=\"float-right text-muted text-sm\">2 days</span>\r\n              </a>\r\n              <div className=\"dropdown-divider\"></div>\r\n              <a href=\"#end\" className=\"dropdown-item dropdown-footer\">\r\n                See All Notifications\r\n              </a>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Menu extends Component {\r\n  render() {\r\n    const { companyName, user, active } = this.props;\r\n    let avatar = \"/img/avatars/avatar5.png\";\r\n    if (user.rol === 1) avatar = \"/img/avatars/avatar2.png\";\r\n    if (!user.rol) avatar = \"/img/avatars/avatar3.png\";\r\n    if (user.idUser === 2) avatar = \"/img/avatars/avatar4.png\";\r\n\r\n    return (\r\n      <aside className=\"main-sidebar sidebar-dark-primary elevation-4\">\r\n        <Link\r\n          to=\"/\"\r\n          className=\"brand-link\"\r\n          onClick={(e) => {\r\n            this.changePage(\"/\");\r\n          }}\r\n        >\r\n          <img\r\n            src=\"/img/AdminLTELogo.png\"\r\n            alt={companyName + \" logo \"}\r\n            className=\"brand-image img-circle elevation-3\"\r\n            style={{ opacity: 0.8 }}\r\n          />\r\n          <span className=\"brand-text font-weight-light text-uppercase\">\r\n            {companyName}\r\n          </span>\r\n        </Link>\r\n        <div className=\"sidebar\">\r\n          <div className=\"user-panel mt-3 pb-3 mb-3 d-flex\">\r\n            <div className=\"image\">\r\n              <img\r\n                src={avatar}\r\n                className=\"img-circle elevation-2\"\r\n                alt={user.name}\r\n              />\r\n            </div>\r\n            <div className=\"info\">\r\n              <a href=\"#end\" className=\"d-block text-capitalize\">\r\n                {user.name}\r\n                <small className=\"text-lowercase\">({user.username})</small>\r\n                <br />\r\n                <span className=\"badge badge-light\">\r\n                  {user.rol > 0\r\n                    ? user.rol === 1\r\n                      ? \"Ventas\"\r\n                      : \"Optometrista\"\r\n                    : \"Administrador\"}\r\n                </span>\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <nav className=\"mt-2\">\r\n            <ul\r\n              className=\"nav nav-pills nav-sidebar flex-column\"\r\n              data-widget=\"treeview\"\r\n              role=\"menu\"\r\n              data-accordion=\"false\"\r\n            >\r\n              {user.rol !== 2 ? (\r\n                <li className=\"nav-item\">\r\n                  <Link\r\n                    to=\"/\"\r\n                    className={\r\n                      active === \"dashboard\" ? \"nav-link active\" : \"nav-link\"\r\n                    }\r\n                    onClick={(e) => {\r\n                      this.changePage(\"/\");\r\n                    }}\r\n                  >\r\n                    <i className=\"nav-icon fas fa-tachometer-alt\"></i>\r\n                    <p>\r\n                      Dashboard\r\n                      <i className=\"right fas fa-angle-left\"></i>\r\n                    </p>\r\n                  </Link>\r\n                </li>\r\n              ) : null}\r\n              <li className=\"nav-item\">\r\n                <Link\r\n                  to=\"/contactos\"\r\n                  className={\r\n                    active === \"contactos\" ? \"nav-link active\" : \"nav-link\"\r\n                  }\r\n                  onClick={(e) => {\r\n                    this.changePage(\"/contactos\");\r\n                  }}\r\n                >\r\n                  <i className=\"nav-icon fas fa-address-book\"></i>\r\n                  <p>\r\n                    Contactos\r\n                    <i className=\"right fas fa-angle-left\"></i>\r\n                  </p>\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link\r\n                  to=\"/consultorio\"\r\n                  className={\r\n                    active === \"consultorio\" ? \"nav-link active\" : \"nav-link\"\r\n                  }\r\n                  onClick={(e) => {\r\n                    this.changePage(\"/consultorio\");\r\n                  }}\r\n                >\r\n                  <i className=\"nav-icon fas fa-notes-medical\"></i>\r\n                  <p>\r\n                    Examenes\r\n                    <i className=\"right fas fa-angle-left\"></i>\r\n                  </p>\r\n                </Link>\r\n              </li>\r\n\r\n              {user.rol <= 1 ? (\r\n                <React.Fragment>\r\n                  <li className=\"nav-item\">\r\n                    <Link\r\n                      to=\"/pedidos\"\r\n                      className={\r\n                        active === \"pedidos\" ? \"nav-link active\" : \"nav-link\"\r\n                      }\r\n                      onClick={(e) => {\r\n                        this.changePage(\"/pedidos\");\r\n                      }}\r\n                    >\r\n                      <i className=\"nav-icon fas fa-clipboard-list\"></i>\r\n                      <p>\r\n                        Pedidos\r\n                        <i className=\"right fas fa-angle-left\"></i>\r\n                      </p>\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <Link\r\n                      to=\"/notas\"\r\n                      className={\r\n                        active === \"notas\" ? \"nav-link active\" : \"nav-link\"\r\n                      }\r\n                      onClick={(e) => {\r\n                        this.changePage(\"/notas\");\r\n                      }}\r\n                    >\r\n                      <i className=\"nav-icon fas fa-cash-register\"></i>\r\n                      <p>\r\n                        Ventas\r\n                        <i className=\"right fas fa-angle-left\"></i>\r\n                      </p>\r\n                    </Link>\r\n                  </li>\r\n                </React.Fragment>\r\n              ) : null}\r\n\r\n              {!user.rol ? (\r\n                <React.Fragment>\r\n                  <li\r\n                    className={\r\n                      active === \"almacen\"\r\n                        ? \"nav-item has-treeview menu-open\"\r\n                        : \"nav-item has-treeview \"\r\n                    }\r\n                  >\r\n                    <a\r\n                      href=\"#a!\"\r\n                      className={\r\n                        active === \"almacen\" ? \"nav-link active\" : \"nav-link\"\r\n                      }\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        this.changePage(\"/almacen\");\r\n                      }}\r\n                    >\r\n                      <i className=\"nav-icon fas fa-database\"></i>\r\n                      <p>\r\n                        Almacen\r\n                        <i className=\"right fas fa-angle-left\"></i>\r\n                      </p>\r\n                    </a>\r\n                    <ul className=\"nav nav-treeview\">\r\n                      <li className=\"nav-item\">\r\n                        <Link\r\n                          to=\"/almacen\"\r\n                          className=\"nav-link\"\r\n                          onClick={(e) => {\r\n                            this.changePage(\"/almacen\");\r\n                          }}\r\n                        >\r\n                          <i className=\"fas fa-angle-right nav-icon\"></i>\r\n                          <p>Listado</p>\r\n                        </Link>\r\n                      </li>\r\n                      <li className=\"nav-item\">\r\n                        <Link\r\n                          to=\"/almacen/categorias\"\r\n                          className=\"nav-link\"\r\n                          onClick={(e) => {\r\n                            this.changePage(\"/almacen/categorias\");\r\n                          }}\r\n                        >\r\n                          <i className=\"fas fa-angle-right nav-icon\"></i>\r\n                          <p>Categorias</p>\r\n                        </Link>\r\n                      </li>\r\n                      <li className=\"nav-item\">\r\n                        <Link\r\n                          to=\"/almacen/marcas\"\r\n                          className=\"nav-link\"\r\n                          onClick={(e) => {\r\n                            this.changePage(\"/almacen/marcas\");\r\n                          }}\r\n                        >\r\n                          <i className=\"fas fa-angle-right nav-icon\"></i>\r\n                          <p>Marcas</p>\r\n                        </Link>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <Link\r\n                      to=\"/usuarios\"\r\n                      className={\r\n                        active === \"usuarios\" ? \"nav-link active\" : \"nav-link\"\r\n                      }\r\n                      onClick={(e) => {\r\n                        this.changePage(\"/usuarios\");\r\n                      }}\r\n                    >\r\n                      <i className=\"nav-icon fas fa-user\"></i>\r\n                      <p>\r\n                        Usuarios\r\n                        <i className=\"right fas fa-angle-left\"></i>\r\n                      </p>\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <Link\r\n                      to=\"/configuraciones\"\r\n                      className={\r\n                        active === \"configuraciones\"\r\n                          ? \"nav-link active\"\r\n                          : \"nav-link\"\r\n                      }\r\n                      onClick={(e) => {\r\n                        this.changePage(\"/configuraciones\");\r\n                      }}\r\n                    >\r\n                      <i className=\"nav-icon fas fa-tools\"></i>\r\n                      <p>\r\n                        Configuraciones\r\n                        <i className=\"right fas fa-angle-left\"></i>\r\n                      </p>\r\n                    </Link>\r\n                  </li>\r\n                </React.Fragment>\r\n              ) : null}\r\n\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/\" className=\"nav-link\" onClick={this.handleLogOut}>\r\n                  <i className=\"nav-icon fas fa-sign-out-alt\"></i>\r\n                  <p>Cerrar sesion</p>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      </aside>\r\n    );\r\n  }\r\n\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n\r\n  handleLogOut = (e) => {\r\n    e.preventDefault();\r\n    window.Swal.fire({\r\n      title: \"Session\",\r\n      text: \"¿Esta seguro de cerrar la sesion?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#007bff\",\r\n      confirmButtonText: \"Si\",\r\n      cancelButtonText: \"Cancelar\",\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        this.props.logOut();\r\n        this.changePage(\"/\");\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nexport default Menu;\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\n\r\nexport default class Breadcrumb extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      date: moment().format(\"LLLL\"),\r\n    };\r\n    setInterval(() => {\r\n      console.log(\"Actualizando hora de sistema\");\r\n      this.setState({\r\n        date: moment().format(\"LLLL\"),\r\n      });\r\n    }, 60000);\r\n  }\r\n  render() {\r\n    const { title } = this.props;\r\n    return (\r\n      <div className=\"content-header\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div className=\"col-6\">\r\n              <h1 className=\"m-0 text-dark text-capitalize\">{title}</h1>\r\n            </div>\r\n            <div className=\"col\">\r\n              <h6 className=\"text-dark text-right\">{this.state.date}</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <footer className=\"main-footer d-print-none\">\r\n        <div className=\"float-right d-none d-sm-inline\">V2.0</div>\r\n        <strong>\r\n          Copyright &copy; 2015-2020 <a href=\"#end\">Orus</a>.\r\n        </strong>{\" \"}\r\n        Todos los derechos reservados.\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class HeaderTable extends Component {\r\n  render() {\r\n    let { data, order, orderby, actions } = this.props;\r\n\r\n    if (data.length) {\r\n      return (\r\n        <thead className=\"thead-light\">\r\n          <tr>\r\n            {data.map((col, index) => {\r\n              if (col.filter) {\r\n                return (\r\n                  <th\r\n                    scope=\"col\"\r\n                    key={index}\r\n                    onClick={() => {\r\n                      this.handleOrder(col.type);\r\n                    }}\r\n                    style={{\r\n                      cursor: order === \"desc\" ? \"n-resize\" : \"s-resize\",\r\n                    }}\r\n                  >\r\n                    {col.name}\r\n                    {orderby === col.type ? (\r\n                      <span className=\"ml-2\">\r\n                        <i className=\"fas fa-sort text-primary\"></i>\r\n                      </span>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </th>\r\n                );\r\n              } else {\r\n                return (\r\n                  <th scope=\"col\" key={index}>\r\n                    {col.name}\r\n                  </th>\r\n                );\r\n              }\r\n            })}\r\n            {actions ? <th className=\"text-center\">Acciones</th> : \"\"}\r\n          </tr>\r\n        </thead>\r\n      );\r\n    } else {\r\n      return (\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">\r\n              No hay datos de columnas\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n      );\r\n    }\r\n  }\r\n\r\n  handleOrder = (item) => {\r\n    this.props.handleOrder(item);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Pagination extends Component {\r\n  render() {\r\n    let { meta } = this.props;\r\n    if (meta.total > 10) {\r\n      return (\r\n        <div className=\"btn-group\">\r\n          <ul className=\"pagination pagination-sm\">\r\n            <li\r\n              className={\r\n                meta.current_page === 1 ? \"page-item disabled\" : \"page-item\"\r\n              }\r\n            >\r\n              <a\r\n                className={\r\n                  meta.current_page === 1\r\n                    ? \"page-link text-dark\"\r\n                    : \"page-link text-primary\"\r\n                }\r\n                href=\"#pageBefore\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  this.handleChangePage(1);\r\n                }}\r\n              >\r\n                Primero\r\n              </a>\r\n            </li>\r\n\r\n            <li\r\n              className={\r\n                meta.current_page === 1 ? \"page-item disabled\" : \"page-item\"\r\n              }\r\n            >\r\n              <a\r\n                className={\r\n                  meta.current_page === 1\r\n                    ? \"page-link text-dark\"\r\n                    : \"page-link text-primary\"\r\n                }\r\n                href=\"#pageBefore\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  this.handleChangePage(meta.current_page - 1);\r\n                }}\r\n              >\r\n                <i className=\"fas fa-step-backward\"></i>\r\n              </a>\r\n            </li>\r\n\r\n            <li className=\"page-item\">\r\n              <span className=\"page-link\">\r\n                {meta.current_page} /{\" \"}\r\n                {Math.ceil(meta.total / meta.per_page).toFixed(0)}\r\n              </span>\r\n            </li>\r\n\r\n            <li\r\n              className={\r\n                meta.current_page === meta.last_page\r\n                  ? \"page-item disabled\"\r\n                  : \"page-item\"\r\n              }\r\n            >\r\n              <a\r\n                className={\r\n                  meta.current_page === meta.last_page\r\n                    ? \"page-link text-dark\"\r\n                    : \"page-link text-primary\"\r\n                }\r\n                href=\"#pageBefore\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  this.handleChangePage(meta.current_page + 1);\r\n                }}\r\n              >\r\n                <i className=\"fas fa-step-forward\"></i>\r\n              </a>\r\n            </li>\r\n\r\n            <li\r\n              className={\r\n                meta.current_page === meta.last_page\r\n                  ? \"page-item disabled\"\r\n                  : \"page-item\"\r\n              }\r\n            >\r\n              <a\r\n                className={\r\n                  meta.current_page === meta.last_page\r\n                    ? \"page-link text-dark\"\r\n                    : \"page-link text-primary\"\r\n                }\r\n                href=\"#pageBefore\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  this.handleChangePage(meta.last_page);\r\n                }}\r\n              >\r\n                Ultimo\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      );\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  handleChangePage = (page) => {\r\n    this.props.handleChangePage(page);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Filter extends Component {\r\n  render() {\r\n    const { search, rol } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"btn-group\">\r\n          <a\r\n            href=\"#Filters\"\r\n            className=\"btn btn-tool text-dark\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#filters\"\r\n          >\r\n            <i className=\"fas fa-filter\"></i>\r\n          </a>\r\n        </div>\r\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Busquedas</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n\r\n              <form className=\"modal-body\">\r\n                <div className=\"input-group mb-3\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por: nombre, usuario o email\"\r\n                    value={search}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Rol</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-address-book\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"rol\"\r\n                    value={rol}\r\n                    onChange={this.changeFilters}\r\n                  >\r\n                    <option value=\"\">Todos</option>\r\n                    <option value=\"0\">Administrador</option>\r\n                    <option value=\"1\">Ventas</option>\r\n                    <option value=\"2\">Optometrista</option>\r\n                  </select>\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"modal-footer\">\r\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-window-close mr-2\"></i>\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={\r\n                      this.props.search || this.props.rol\r\n                        ? \"btn btn-outline-dark\"\r\n                        : \"btn btn-outline-dark disabled\"\r\n                    }\r\n                    onClick={this.onClickClean}\r\n                  >\r\n                    <i className=\"fas fa-eraser mr-2\"></i>\r\n                    Limpiar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    onClick={this.setFilters}\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-search mr-2\"></i>\r\n                    Buscar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  onKeyPressSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      this.setFilters();\r\n    }\r\n  };\r\n  onClickClean = () => {\r\n    this.props.changeFilters(\"search\", \"\");\r\n    this.props.changeFilters(\"rol\", \"\");\r\n    this.setFilters();\r\n  };\r\n  setFilters = () => {\r\n    this.props.handleChangePage(1);\r\n    window.$(\"#filters\").modal(\"hide\");\r\n  };\r\n  changeFilters = (e) => {\r\n    const { name, value } = e.target;\r\n    this.props.changeFilters(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class ActionsTable extends Component {\r\n  render() {\r\n    const { item, edit, id } = this.props;\r\n    return (\r\n      <td className=\"text-right\">\r\n        {this.props.delete ? (\r\n          <a\r\n            className=\"btn-flat text-dark mr-4\"\r\n            href=\"#delete\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              this.handleDelete(id, item);\r\n            }}\r\n          >\r\n            <i className=\"fas fa-trash\"></i>\r\n          </a>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {edit ? (\r\n          <Link className=\"btn-flat text-dark\" to={edit + id}>\r\n            <i className=\"fas fa-pencil-alt\"></i>\r\n          </Link>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </td>\r\n    );\r\n  }\r\n\r\n  handleDelete = (id, item) => {\r\n    this.props.delete(id, item);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport Header from \"../Layouts/headerTable\";\r\nimport Pagination from \"../Layouts/pagination\";\r\nimport Filters from \"./index_filter\";\r\nimport Actions from \"../Layouts/actionsTable\";\r\n\r\nexport default class Users extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let sdd = JSON.parse(localStorage.getItem(\"OrusUsers\"));\r\n    this.state = {\r\n      users: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      load: true,\r\n      page: sdd ? sdd.page : 1,\r\n      orderby: sdd ? sdd.orderby : \"created_at\",\r\n      order: sdd ? sdd.order : \"asc\",\r\n      search: sdd ? sdd.search : \"\",\r\n      rol: sdd ? sdd.rol : \"\",\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getUsers();\r\n    localStorage.setItem(\r\n      \"OrusUsers\",\r\n      JSON.stringify({\r\n        page: this.state.page,\r\n        orderby: this.state.orderby,\r\n        order: this.state.order,\r\n        search: this.state.search,\r\n        rol: this.state.rol,\r\n      })\r\n    );\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.load === false && this.state.load === true) {\r\n      console.log(\"Recargando usuarios y almacenando configuracion\");\r\n      localStorage.setItem(\r\n        \"OrusUsers\",\r\n        JSON.stringify({\r\n          page: this.state.page,\r\n          orderby: this.state.orderby,\r\n          order: this.state.order,\r\n          search: this.state.search,\r\n          rol: this.state.rol,\r\n        })\r\n      );\r\n      this.getUsers();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { users, load } = this.state,\r\n      dataHeaders = [\r\n        { name: \"usuario\", type: \"username\", filter: true },\r\n        { name: \"nombre\", type: \"name\", filter: true },\r\n        { name: \"e-mail\", type: \"email\", filter: true },\r\n        { name: \"Rol\", type: \"rol\", filter: true },\r\n        { name: \"Actividad\", type: \"session\" },\r\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\r\n        { name: \"Registrado\", type: \"created_at\", filter: true },\r\n      ];\r\n\r\n    return (\r\n      <div className=\"card card-primary card-outline\">\r\n        <div className=\"card-header\">\r\n          <h2 className=\"card-title text-primary\">\r\n            <i className=\"fas fa-user mr-1\"></i>\r\n            Usuarios registrados\r\n          </h2>\r\n          <div className=\"card-tools\">\r\n            <Filters\r\n              search={this.state.search}\r\n              rol={this.state.rol}\r\n              changeFilters={this.changeFilters}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n            <Pagination\r\n              meta={users.meta}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-bordered table-hover table-nowrap\">\r\n            <Header\r\n              orderby={this.state.orderby}\r\n              order={this.state.order}\r\n              data={dataHeaders}\r\n              actions={true}\r\n              handleOrder={this.handleOrder}\r\n            />\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"9\" className=\"alert alert-light text-center p-4\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(users.data).length ? (\r\n                users.data.map((user) => {\r\n                  return (\r\n                    <tr key={user.id}>\r\n                      <th scope=\"row\">\r\n                        <span className=\"text-capitalize text-primary\">\r\n                          {user.username}\r\n                        </span>\r\n                      </th>\r\n                      <td>\r\n                        <Link to={\"/usuarios/registro/\" + user.id}>\r\n                          <span className=\"badge badge-primary text-capitalize p-1\">\r\n                            {user.name}\r\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\r\n                          </span>\r\n                        </Link>\r\n                      </td>\r\n                      <td>{user.email}</td>\r\n                      <td>\r\n                        {user.rol > 0 ? (\r\n                          user.rol === 1 ? (\r\n                            <span className=\"text-capitalize text-success\">\r\n                              <i className=\"fas fa-user-tag mr-2\"></i>\r\n                              Ventas\r\n                            </span>\r\n                          ) : (\r\n                            <span className=\"text-capitalize text-primary\">\r\n                              <i className=\"fas fa-user-tie mr-2\"></i>\r\n                              Optometrista\r\n                            </span>\r\n                          )\r\n                        ) : (\r\n                          <span className=\"text-capitalize text-danger\">\r\n                            <i className=\"fas fa-user-shield mr-2\"></i>\r\n                            Administrador\r\n                          </span>\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        {user.session\r\n                          ? moment(user.session.last_activity).fromNow()\r\n                          : \"--\"}\r\n                      </td>\r\n                      <td>{moment(user.updated_at).fromNow()}</td>\r\n                      <td className=\"text-right\">\r\n                        {moment(user.created_at).format(\"ll\")}\r\n                      </td>\r\n                      <Actions\r\n                        id={user.id}\r\n                        item={user.username}\r\n                        delete={this.handleDelete}\r\n                        edit={\"/usuarios/registro/\"}\r\n                      />\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"8\" className=\"alert alert-info text-center\">\r\n                    <i className=\"fas fa-info mr-2\"></i>\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <Link\r\n            to=\"/usuarios/registro\"\r\n            className=\"btn btn-outline-primary btn-lg\"\r\n          >\r\n            <i className=\"fas fa-plus mr-2\"></i>\r\n            Nuevo usuario\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changeFilters = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleOrder = (item) => {\r\n    this.setState({\r\n      orderby: item,\r\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\r\n      load: true,\r\n    });\r\n  };\r\n  handleChangePage = (page) => {\r\n    this.setState({\r\n      page,\r\n      load: true,\r\n    });\r\n  };\r\n  handleDelete = (id, item) => {\r\n    window.Swal.fire({\r\n      title: \"Eliminar\",\r\n      text: \"¿Esta seguro de eliminar el usuario \" + item.toUpperCase() + \"?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#d33\",\r\n      confirmButtonText: \"Eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          let { host, token } = this.state;\r\n\r\n          //Inicio de proceso de eliminción por API\r\n          console.log(\"Solicitud de eliminación de usuario por API\");\r\n          return fetch(\"http://\" + host + \"/api/users/\" + id, {\r\n            method: \"DELETE\",\r\n            signal: this.signal,\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        console.log(\"Usuario eliminado\");\r\n        window.Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Usuario eliminado con exito\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then((res) => this.getUsers());\r\n      } else if (result && !result.dismiss) {\r\n        console.log(\"Orus res: \", result);\r\n        window.Swal.fire(\r\n          \"Error\",\r\n          \"Se perdio la conexion con el servidor\",\r\n          \"error\"\r\n        );\r\n      }\r\n    });\r\n  };\r\n  getUsers = () => {\r\n    let { load, host, token } = this.state,\r\n      url = \"http://\" + host + \"/api/users\",\r\n      orderby = `&orderby=${this.state.orderby}&order=${this.state.order}`,\r\n      search = this.state.search ? `&search=${this.state.search}` : \"\",\r\n      rol = this.state.rol.length > 0 ? `&rol=${this.state.rol}` : \"\",\r\n      page = this.state.page > 0 ? \"?page=\" + this.state.page : \"?page=1\";\r\n\r\n    //Mandamos señal de carga si no lo he hecho\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n\r\n    //Realiza la peticion de los usuarios\r\n    console.log(\"Solicitando usuarios a la API\");\r\n    fetch(url + page + orderby + search + rol, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.statusText);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.data) {\r\n          console.log(\"Descargando usuarios\");\r\n          this.setState({\r\n            users: data,\r\n            load: false,\r\n          });\r\n        } else {\r\n          console.error(\"Orus: \", data.message);\r\n          window.Swal.fire(\"Error\", \"Al descargar usuarios\", \"error\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(\"Orus: \" + e);\r\n        window.Swal.fire(\r\n          \"Fallo de conexion\",\r\n          \"Verifique la conexion al servidor\",\r\n          \"error\"\r\n        );\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class UserName extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bgColor: \"bg-blue\",\r\n      validate: \"\",\r\n      text: \"Debe de tener al menos 4 caracteres.\",\r\n      searchUser: false,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n    this.timeFetch = null;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n\r\n  render() {\r\n    let { col, username } = this.props;\r\n    let { bgColor, validate, text, searchUser } = this.state;\r\n\r\n    return (\r\n      <div className={\"col-\" + col}>\r\n        {username.length ? (\r\n          <small>\r\n            <label>Usuario</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className={\"input-group-text \" + bgColor}>\r\n              {searchUser ? (\r\n                <i className=\"fas fa-spinner\"></i>\r\n              ) : (\r\n                <i className=\"fas fa-user-check\"></i>\r\n              )}\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className={\"form-control\" + validate}\r\n            placeholder=\"Usuario\"\r\n            name=\"username\"\r\n            autoComplete=\"off\"\r\n            autoFocus=\"autofocus\"\r\n            value={username}\r\n            onChange={this.handleChange}\r\n            required=\"required\"\r\n            minLength=\"4\"\r\n            maxLength=\"16\"\r\n            pattern=\"^[\\w]{4,16}$\"\r\n          />\r\n        </div>\r\n        {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { value } = e.target;\r\n    let regex = /^[\\w]{4,16}$/,\r\n      x = {\r\n        target: {\r\n          name: \"validUserName\",\r\n          value: \"\",\r\n        },\r\n      };\r\n    e.target.value = value.replace(/ /g, \"\").toLowerCase();\r\n\r\n    if (regex.test(value)) {\r\n      this.validUser(e.target.value, x);\r\n    } else {\r\n      if (value.length > 4) {\r\n        this.setState({\r\n          bgColor: \"bg-red\",\r\n          validate: \" border border-danger\",\r\n          text: \"No tiene el formato de usuario\",\r\n        });\r\n        x.target.value = false;\r\n        this.props.onChange(x);\r\n      } else if (!value.length) {\r\n        this.setState({\r\n          bgColor: \"bg-blue\",\r\n          validate: \" border border-danger\",\r\n          text: \"Debe de tener de 4 a 16 caracteres alfanumericos.\",\r\n        });\r\n        x.target.value = false;\r\n        this.props.onChange(x);\r\n      }\r\n    }\r\n    this.props.onChange(e);\r\n  };\r\n  validUser = (name, x) => {\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      url = \"http://\" + varLocalStorage.host + \"/api/users\",\r\n      username = \"?username=\" + name;\r\n\r\n    if (this.timeFetch) clearTimeout(this.timeFetch);\r\n    this.timeFetch = setTimeout(() => {\r\n      //Realiza la peticion de los usuarios\r\n      this.setState({\r\n        searchUser: true,\r\n      });\r\n      fetch(url + username, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            if (\r\n              data.data.length &&\r\n              data.data[0].username.toLowerCase() === name\r\n            ) {\r\n              this.setState({\r\n                bgColor: \"bg-red\",\r\n                validate: \" border border-danger\",\r\n                text: \"El usuario ya esta registrado.\",\r\n                searchUser: false,\r\n              });\r\n              x.target.value = false;\r\n              this.props.onChange(x);\r\n            } else {\r\n              this.setState({\r\n                bgColor: \"bg-blue\",\r\n                validate: \"\",\r\n                searchUser: false,\r\n              });\r\n              x.target.value = true;\r\n              this.props.onChange(x);\r\n            }\r\n          } else {\r\n            console.error(\"Error en la descarga de usuarios\", data.message);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n        });\r\n    }, 1000);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class UserName extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bgColor: \"bg-blue\",\r\n      validate: \"\",\r\n      text: \"No tiene el formato de un email\",\r\n      searchUser: false,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n    this.timeFetch = null;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n\r\n  render() {\r\n    let { col, email } = this.props;\r\n    let { bgColor, validate, text } = this.state;\r\n\r\n    return (\r\n      <div className={\"col-\" + col}>\r\n        {email.length ? (\r\n          <small>\r\n            <label>Usuario</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className={\"input-group-text \" + bgColor}>\r\n              <i className=\"fas fa-at\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"email\"\r\n            className={\"form-control\" + validate}\r\n            placeholder=\"email\"\r\n            name=\"email\"\r\n            autoComplete=\"off\"\r\n            value={email}\r\n            onChange={this.handleChange}\r\n            required=\"required\"\r\n          />\r\n        </div>\r\n        {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { value } = e.target;\r\n    let regex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\r\n      x = {\r\n        target: {\r\n          name: \"validUserEmail\",\r\n          value: true,\r\n        },\r\n      };\r\n    e.target.value = value.replace(/\\s/g, \"\").toLowerCase();\r\n    if (regex.test(value)) {\r\n      this.validEmail(e.target.value, x);\r\n    } else {\r\n      if (value.length > 8) {\r\n        this.setState({\r\n          bgColor: \"bg-red\",\r\n          validate: \" border border-danger\",\r\n          text: \"No tiene el formato de un email\",\r\n        });\r\n        x.target.value = false;\r\n        this.props.onChange(x);\r\n      } else if (!value.length) {\r\n        this.setState({\r\n          bgColor: \"bg-blue\",\r\n          validate: \"\",\r\n          text: \"No tiene el formato de un email\",\r\n        });\r\n        x.target.value = false;\r\n        this.props.onChange(x);\r\n      }\r\n    }\r\n    this.props.onChange(e);\r\n  };\r\n  validEmail = (search, x) => {\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      url = \"http://\" + varLocalStorage.host + \"/api/users\",\r\n      email = \"?email=\" + search;\r\n\r\n    if (this.timeFetch) clearTimeout(this.timeFetch);\r\n    this.timeFetch = setTimeout(() => {\r\n      //Realiza la peticion de los usuarios\r\n      this.setState({\r\n        searchUser: true,\r\n      });\r\n      //Realiza la peticion de los usuarios\r\n      fetch(url + email, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            if (\r\n              data.data.length &&\r\n              data.data[0].email.toLowerCase() === search\r\n            ) {\r\n              this.setState({\r\n                bgColor: \"bg-red\",\r\n                validate: \" border border-danger\",\r\n                text: \"El email ya esta registrado.\",\r\n                searchUser: false,\r\n              });\r\n              x.target.value = false;\r\n              this.props.onChange(x);\r\n            } else {\r\n              this.setState({\r\n                bgColor: \"bg-blue\",\r\n                validate: \"\",\r\n                searchUser: false,\r\n              });\r\n              x.target.value = true;\r\n              this.props.onChange(x);\r\n            }\r\n          } else {\r\n            console.error(\"Error en la descarga de usuarios\", data.message);\r\n            this.setState({\r\n              bgColor: \"bg-red\",\r\n              validate: \" border border-danger\",\r\n              text: \"Error en la consulta\",\r\n              searchUser: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n        });\r\n    }, 1000);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport UserName from \"./userNameInput\";\r\nimport UserEmail from \"./userEmailInput\";\r\n\r\nexport default class UserAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: 0,\r\n      rol: 1,\r\n      username: \"\",\r\n      validUserName: false,\r\n      name: \"\",\r\n      email: \"\",\r\n      validUserEmail: false,\r\n      password: \"\",\r\n      updated_at: \"\",\r\n      created_at: \"\",\r\n      session: {},\r\n      load: false,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    let id = this.props.match.params.id;\r\n    if (id) {\r\n      this.getUser(id);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let {\r\n        load,\r\n        id,\r\n        rol,\r\n        username,\r\n        name,\r\n        email,\r\n        password,\r\n        updated_at,\r\n        created_at,\r\n        session,\r\n        validUserName,\r\n        validUserEmail,\r\n      } = this.state,\r\n      send =\r\n        !load && validUserName && name.length && validUserEmail ? false : true;\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <form\r\n            className=\"card card-primary card-outline\"\r\n            onSubmit={this.handleSave}\r\n          >\r\n            <div className=\"card-header\">\r\n              <h1 className=\"card-title text-primary\">\r\n                <i className=\"fas fa-user mr-2\"></i>\r\n                {id ? \"Editar usuario\" : \"Registrar nuevo usuario\"}\r\n              </h1>\r\n            </div>\r\n            <div className=\"card-body was-validated\">\r\n              {load ? (\r\n                <div className=\"alert alert-light text-center p-4\">\r\n                  <div className=\"spinner-border text-primary\" role=\"status\">\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <React.Fragment>\r\n                  <div className=\"row mb-3\">\r\n                    <UserName\r\n                      username={username}\r\n                      col={6}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                    <div className=\"col-6\">\r\n                      {name.length ? (\r\n                        <small>\r\n                          <label>Nombre completo</label>\r\n                        </small>\r\n                      ) : (\r\n                        <br />\r\n                      )}\r\n                      <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text bg-blue\">\r\n                            <i className=\"fas fa-user-tag\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control text-capitalize\"\r\n                          placeholder=\"Nombre completo\"\r\n                          name=\"name\"\r\n                          autoComplete=\"off\"\r\n                          value={name}\r\n                          onChange={this.catchInputs}\r\n                          required=\"required\"\r\n                          minLength=\"8\"\r\n                          pattern=\"^[a-zA-Z]{2,20}[\\s]{1}[a-zA-Z]{2,20}.*\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                      {password.length || id ? (\r\n                        <small>\r\n                          <label>Contraseña</label>\r\n                          {id ? (\r\n                            \"\"\r\n                          ) : (\r\n                            <span className=\"ml-2\">\r\n                              De 8 a 16 caracteres, por lo menos una mayuscula,\r\n                              un numero y un caracter especial\r\n                            </span>\r\n                          )}\r\n                        </small>\r\n                      ) : (\r\n                        <br />\r\n                      )}\r\n                      <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text bg-blue\">\r\n                            <i className=\"fas fa-lock\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"password\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Contraseña\"\r\n                          name=\"password\"\r\n                          autoComplete=\"off\"\r\n                          value={password}\r\n                          onChange={this.catchInputs}\r\n                          required={id ? false : true}\r\n                          minLength=\"8\"\r\n                          maxLength=\"16\"\r\n                          pattern=\"^(?=.*[A-Z])(?=.*[!@#$&.*])(?=.*[0-9])(?=.*[a-z]).{8,16}$\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <UserEmail\r\n                      email={email}\r\n                      col={6}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                      <small>\r\n                        <label>Rol</label>\r\n                      </small>\r\n                      <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span className=\"input-group-text bg-blue\">\r\n                            <i className=\"fas fa-id-card\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <select\r\n                          className=\"custom-select\"\r\n                          name=\"rol\"\r\n                          value={rol}\r\n                          onChange={this.catchInputs}\r\n                        >\r\n                          <option value=\"0\">Administrador</option>\r\n                          <option value=\"1\">Ventas</option>\r\n                          <option value=\"2\">Optometrista</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </React.Fragment>\r\n              )}\r\n            </div>\r\n            <div className=\"card-footer\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-12 text-right\">\r\n                  <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                    <Link\r\n                      to=\"/usuarios\"\r\n                      className=\"btn btn-dark\"\r\n                      onClick={this.changePage}\r\n                      id=\"/usuarios\"\r\n                    >\r\n                      <i className=\"fas fa-ban mr-1\"></i>\r\n                      Cancelar\r\n                    </Link>\r\n                    <button\r\n                      type=\"submit\"\r\n                      className={\r\n                        load ? \"btn btn-primary disabled\" : \"btn btn-primary\"\r\n                      }\r\n                      disabled={send ? true : false}\r\n                    >\r\n                      <i className=\"fas fa-save mr-1\"></i>\r\n                      Guardar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        {id ? (\r\n          <div className=\"col\">\r\n            <div className=\"card card-primary card-outline\">\r\n              <div className=\"card-header\">\r\n                <h3 className=\"card-title text-primary\">\r\n                  <i className=\"fas fa-database mr-2\"></i>\r\n                  Metadata\r\n                </h3>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                {session ? (\r\n                  <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                      <h6>Datos del usuario</h6>\r\n                      <div className=\"row\">\r\n                        <div className=\"col\">\r\n                          <span className=\"text-primary\">Registrado</span>\r\n                          <p>{moment(created_at).fromNow()}</p>\r\n                        </div>\r\n                        <div className=\"col\">\r\n                          <span className=\"text-primary\">\r\n                            Ultima actualizacion\r\n                          </span>\r\n                          <p>{moment(updated_at).fromNow()}</p>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <h6>Actividad</h6>\r\n                      <div className=\"row\">\r\n                        <div className=\"col\">\r\n                          <span className=\"text-primary\">IP</span>\r\n                          <p>{session.ip_address}</p>\r\n                        </div>\r\n                        <div className=\"col\">\r\n                          <span className=\"text-primary\">Ultima actividad</span>\r\n                          <p>{moment(session.last_activity).fromNow()}</p>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <span className=\"text-primary\">Navegador y OS</span>\r\n                      <p>{session.user_agent}</p>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <span className=\"text-primary\">Token</span>\r\n                      <p>{session.user_data}</p>\r\n                    </li>\r\n                  </ul>\r\n                ) : (\r\n                  <p>Usuario no ha registrado actividad.</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changePage = (e) => {\r\n    this.props.page(e.target.id);\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  handleSave = (e) => {\r\n    e.preventDefault();\r\n\r\n    let { id, validUserName, validUserEmail } = this.state;\r\n\r\n    //Verificamos campos validos\r\n    if (!validUserName) {\r\n      window.Swal.fire({\r\n        icon: \"error\",\r\n        title: \"El nombre de usuario ya esta en uso\",\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n      });\r\n      return false;\r\n    }\r\n    if (!validUserEmail) {\r\n      window.Swal.fire({\r\n        icon: \"error\",\r\n        title: \"El correo ya esta en uso\",\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n      });\r\n      return false;\r\n    }\r\n\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: id\r\n        ? \"¿Esta seguro de actualizar el usuario?\"\r\n        : \"¿Esta seguro de crear un nuevo usuario?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#007bff\",\r\n      confirmButtonText: id ? \"Actualizar\" : \"Crear\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          let {\r\n              host,\r\n              token,\r\n              id,\r\n              name,\r\n              username,\r\n              rol,\r\n              password,\r\n              email,\r\n            } = this.state,\r\n            body = {\r\n              name,\r\n              username,\r\n              rol,\r\n              email,\r\n            },\r\n            url = id\r\n              ? \"http://\" + host + \"/api/users/\" + id\r\n              : \"http://\" + host + \"/api/users\",\r\n            method = id ? \"PUT\" : \"POST\";\r\n\r\n          //Agregamos el password si no esta vacio\r\n          if (password.length > 8) body.password = password;\r\n\r\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\r\n          console.log(\"Enviando datos del usuario a API\");\r\n          return fetch(url, {\r\n            method: method,\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then((response) => {\r\n              if (!response.ok) {\r\n                throw new Error(response.statusText);\r\n              }\r\n              return response.json();\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n\r\n        if (data.data) {\r\n          console.log(\"Usuario almacenado\");\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: id\r\n              ? \"Usuario actualizado con exito\"\r\n              : \"Usuario almacenado con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          }).then((res) => this.props.history.goBack());\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar el usuario\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  getUser = (id) => {\r\n    //Variables en localStorage\r\n    let { host, token } = this.state;\r\n    if (id > 0) {\r\n      fetch(\"http://\" + host + \"/api/users/\" + id, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(response.statusText);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.data) {\r\n            console.log(\"Cargando datos de usuario\");\r\n            this.setState({\r\n              id: data.data.id,\r\n              rol: data.data.rol,\r\n              username: data.data.username,\r\n              name: data.data.name,\r\n              email: data.data.email,\r\n              updated_at: data.data.updated_at,\r\n              created_at: data.data.created_at,\r\n              session: data.data.session,\r\n              load: false,\r\n              validUserName: true,\r\n              validUserEmail: true,\r\n            });\r\n          } else {\r\n            console.error(\"Orus: \", data.message);\r\n            window.Swal.fire(\r\n              \"Error\",\r\n              \"Error en el sistema, comuniquese con el administrador de sistema\",\r\n              \"error\"\r\n            );\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Orus:\", error);\r\n          window.Swal.fire(\r\n            \"Fallo de conexion\",\r\n            \"Verifique la conexion al servidor\",\r\n            \"error\"\r\n          );\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    } else {\r\n      this.setState({\r\n        load: false,\r\n      });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Filter extends Component {\r\n  render() {\r\n    const { search } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"btn-group\">\r\n          <a\r\n            href=\"#Filters\"\r\n            className=\"btn btn-tool text-dark\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#filters\"\r\n          >\r\n            <i className=\"fas fa-filter\"></i>\r\n          </a>\r\n        </div>\r\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Busquedas</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n\r\n              <form className=\"modal-body\">\r\n                <div className=\"input-group mb-3\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por: codigo o producto\"\r\n                    value={search}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"modal-footer\">\r\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-window-close mr-2\"></i>\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={\r\n                      search\r\n                        ? \"btn btn-outline-dark\"\r\n                        : \"btn btn-outline-dark disabled\"\r\n                    }\r\n                    onClick={this.onClickClean}\r\n                  >\r\n                    <i className=\"fas fa-eraser mr-2\"></i>\r\n                    Limpiar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    onClick={this.setFilters}\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-search mr-2\"></i>\r\n                    Buscar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  onKeyPressSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      this.setFilters();\r\n    }\r\n  };\r\n  onClickClean = () => {\r\n    this.props.changeFilters(\"search\", \"\");\r\n    this.setFilters();\r\n  };\r\n  setFilters = () => {\r\n    this.props.handleChangePage(1);\r\n    window.$(\"#filters\").modal(\"hide\");\r\n  };\r\n  changeFilters = (e) => {\r\n    const { name, value } = e.target;\r\n    this.props.changeFilters(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport Header from \"../Layouts/headerTable\";\r\nimport Filter from \"./index_filter\";\r\nimport Pagination from \"../Layouts/pagination\";\r\nimport Actions from \"../Layouts/actionsTable\";\r\n\r\nexport default class Store extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let sdd = JSON.parse(localStorage.getItem(\"OrusStore\"));\r\n    this.state = {\r\n      items: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      load: true,\r\n      page: sdd ? sdd.page : 1,\r\n      orderby: sdd ? sdd.orderby : \"created_at\",\r\n      order: sdd ? sdd.order : \"desc\",\r\n      search: sdd ? sdd.search : \"\",\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getItems();\r\n    localStorage.setItem(\r\n      \"OrusStore\",\r\n      JSON.stringify({\r\n        page: this.state.page,\r\n        orderby: this.state.orderby,\r\n        order: this.state.order,\r\n        search: this.state.search,\r\n      })\r\n    );\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.load === false && this.state.load === true) {\r\n      console.log(\"Recargando productos\");\r\n      this.getItems();\r\n      localStorage.setItem(\r\n        \"OrusStore\",\r\n        JSON.stringify({\r\n          page: this.state.page,\r\n          orderby: this.state.orderby,\r\n          order: this.state.order,\r\n          search: this.state.search,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { items, load } = this.state,\r\n      dataHeaders = [\r\n        { name: \"Codigo\" },\r\n        { name: \"Marca\", type: \"brand\", filter: true },\r\n        { name: \"Producto\", type: \"name\", filter: true },\r\n        { name: \"PS\" },\r\n        { name: \"UND\" },\r\n        { name: \"Precio\", type: \"price\", filter: true },\r\n        { name: \"Proveedor\", type: \"contact_id \", filter: true },\r\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\r\n        { name: \"Registrado\", type: \"created_at\", filter: true },\r\n      ];\r\n\r\n    return (\r\n      <div className=\"card card-primary card-outline\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title text-primary\">\r\n            <i className=\"fas fa-database mr-1\"></i>\r\n            Productos en almacen\r\n          </h3>\r\n          <div className=\"card-tools\">\r\n            <Link\r\n              to=\"/almacen/registro\"\r\n              className=\"btn btn-outline-dark\"\r\n              onClick={this.changePage}\r\n              id=\"/almacen/registro\"\r\n            >\r\n              <i className=\"fas fa-plus\"></i>\r\n            </Link>\r\n            <Filter\r\n              search={this.state.search}\r\n              changeFilters={this.onchangeSearch}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n            <Pagination\r\n              meta={items.meta}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-bordered table-hover table-nowrap\">\r\n            <Header\r\n              orderby={this.state.orderby}\r\n              order={this.state.order}\r\n              data={dataHeaders}\r\n              actions={true}\r\n              handleOrder={this.handleOrder}\r\n            />\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"10\" className=\"text-center\">\r\n                    <span className=\"text-primary\">Cargando productos</span>\r\n                    <div\r\n                      className=\"spinner-border text-primary ml-4\"\r\n                      role=\"status\"\r\n                    >\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(items.data).length ? (\r\n                items.data.map((item) => {\r\n                  return (\r\n                    <tr\r\n                      key={item.id}\r\n                      onClick={(e) => {\r\n                        this.props.history.push(\"/almacen/registro/\" + item.id);\r\n                      }}\r\n                    >\r\n                      <td>\r\n                        <span className=\"text-primary text-uppercase\">\r\n                          {item.codigo}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-uppercase\">\r\n                        {item.marca !== null ? item.marca.marca : \"--\"}\r\n                      </td>\r\n                      <td>\r\n                        <Link to={\"/almacen/registro/\" + item.id}>\r\n                          <span className=\"badge badge-primary text-capitalize p-1\">\r\n                            {item.producto}\r\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\r\n                          </span>\r\n                        </Link>\r\n                      </td>\r\n                      <td className=\"text-right\">{item.unidad}</td>\r\n                      <td>\r\n                        <span\r\n                          className={\r\n                            item.cantidades > 0 ? \"text-success\" : \"text-danger\"\r\n                          }\r\n                        >\r\n                          {item.cantidades > 0 ? item.cantidades : 0}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-right\">$ {item.precio.toFixed(2)}</td>\r\n                      <td className=\"text-capitalize\">\r\n                        {item.proveedor !== null\r\n                          ? item.proveedor.nombre.split(\" \").length\r\n                            ? item.proveedor.nombre.split(\" \")[0]\r\n                            : item.proveedor.nombre\r\n                          : \"--\"}\r\n                      </td>\r\n                      <td className=\"text-capitalize\">\r\n                        {moment(item.updated_at).fromNow()}\r\n                      </td>\r\n                      <td className=\"text-capitalize\">\r\n                        {moment(item.created_at).format(\"LL\")}\r\n                      </td>\r\n                      <Actions\r\n                        id={item.id}\r\n                        item={item.producto}\r\n                        delete={\r\n                          item.lotes || item.cantidades\r\n                            ? null\r\n                            : this.handleDelete\r\n                        }\r\n                        edit={\"/almacen/registro/\"}\r\n                      />\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"10\" className=\"text-center\">\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n              <div className=\"btn-group\" role=\"group\">\r\n                <Link\r\n                  to=\"/almacen/registro\"\r\n                  className=\"btn btn-outline-primary\"\r\n                  onClick={this.changePage}\r\n                  id=\"/almacen/registro\"\r\n                >\r\n                  <i className=\"fas fa-plus mr-1\"></i>\r\n                  Nuevo producto\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onchangeSearch = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleOrder = (item) => {\r\n    this.setState({\r\n      orderby: item,\r\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\r\n      load: true,\r\n    });\r\n  };\r\n  handleChangePage = (id) => {\r\n    this.setState({\r\n      page: id,\r\n      load: true,\r\n    });\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e.target.id);\r\n  };\r\n  handleDelete = (id, item) => {\r\n    window.Swal.fire({\r\n      title: \"Eliminar\",\r\n      text: \"¿Esta seguro de eliminar el producto \" + item.toUpperCase() + \"?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#d33\",\r\n      confirmButtonText: \"Eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          const { host, token } = this.state;\r\n\r\n          //Inicio de proceso de eliminción por API\r\n          console.log(\"Solicitud de eliminación de producto por API\");\r\n          return fetch(\"http://\" + host + \"/api/store/\" + id, {\r\n            method: \"DELETE\",\r\n            signal: this.signal,\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        console.log(\"Producto eliminado\");\r\n        window.Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Producto eliminado con exito\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then((res) => this.getItems());\r\n      } else if (result && !result.dismiss) {\r\n        console.log(\"Orus res: \", result);\r\n        window.Swal.fire(\r\n          \"Error\",\r\n          \"Se perdio la conexion con el servidor\",\r\n          \"error\"\r\n        );\r\n      }\r\n    });\r\n  };\r\n  getItems() {\r\n    //Variables\r\n    const { load, orderby, order, search, page, host, token } = this.state,\r\n      url = \"http://\" + host + \"/api/store\",\r\n      ordenar = `&orderby=${orderby}&order=${order}`,\r\n      buscar = search ? `&search=${search.replace(\"+\", \"%2b\")}` : \"\",\r\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\";\r\n\r\n    //Mandamos señal de carga si no lo he hecho\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n\r\n    //Realiza la peticion de los contactos\r\n    console.log(\"Descargando productos de API\");\r\n    fetch(url + pagina + ordenar + buscar, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.statusText);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.data) {\r\n          console.log(\"Almacenando productos\");\r\n          this.setState({\r\n            items: data,\r\n            load: false,\r\n          });\r\n        } else {\r\n          console.error(\"Orus: \", data.message, data.errors);\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(\"Orus: \" + e);\r\n        window.Swal.fire(\r\n          \"Fallo de conexion\",\r\n          \"Verifique la conexion al servidor\",\r\n          \"error\"\r\n        );\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nclass StoreLote extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: 0,\r\n      bill: \"\",\r\n      cost: 0,\r\n      price: this.props.price,\r\n      amount: 0,\r\n      lote: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      loteNew: false,\r\n      load: true,\r\n      page: 1,\r\n    };\r\n    this.handleNewLote = this.handleNewLote.bind(this);\r\n    this.handleSave = this.handleSave.bind(this);\r\n    this.catchInputs = this.catchInputs.bind(this);\r\n    this.handelGetLots = this.handelGetLots.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handelGetLots(this.state.page);\r\n  }\r\n\r\n  render() {\r\n    let { lote, load } = this.state,\r\n      pages = [];\r\n    if (this.state.lote.meta.total > 10) {\r\n      for (var i = 1; i <= this.state.lote.meta.last_page; i++) {\r\n        pages.push(\r\n          <li\r\n            key={i}\r\n            className={\r\n              this.state.lote.meta.current_page === i\r\n                ? \"page-item disabled\"\r\n                : \"page-item\"\r\n            }\r\n          >\r\n            <a\r\n              href=\"#e\"\r\n              id={i}\r\n              className=\"page-link\"\r\n              onClick={this.handleChangePage.bind(this)}\r\n            >\r\n              {i}\r\n            </a>\r\n          </li>\r\n        );\r\n      }\r\n    }\r\n    return (\r\n      <div className=\"card card-primary card-outline\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title text-primary\">\r\n            <i className=\"fas fa-list\"></i>\r\n            Listado de lotes\r\n          </h3>\r\n          <div className=\"card-tools\">\r\n            {this.state.lote.meta.total > 10 ? (\r\n              <div className=\"btn-group\">\r\n                <ul className=\"pagination pagination-sm\">{pages}</ul>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-hover table-nowrap\">\r\n            <thead>\r\n              <tr>\r\n                <th>Registrado</th>\r\n                <th style={{ width: 140 }}>Factura</th>\r\n                <th className=\"text-right\" style={{ width: 90 }}>\r\n                  Unidades\r\n                </th>\r\n                <th className=\"text-right\" style={{ width: 110 }}>\r\n                  Costo\r\n                </th>\r\n                <th className=\"text-right\" style={{ width: 110 }}>\r\n                  Precio\r\n                </th>\r\n                <th>Acciones</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"6\" className=\"text-center\">\r\n                    <span className=\"text-primary mr-4\">Cargando lotes</span>\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(lote.data).length ? (\r\n                lote.data.map((lot) => {\r\n                  return (\r\n                    <tr key={lot.id}>\r\n                      <td>{lot.created_at}</td>\r\n                      <td className=\"text-uppercase\">\r\n                        {lot.factura ? lot.factura : \"XXXX\"}\r\n                      </td>\r\n                      <td className=\"text-right\">{lot.cantidades}</td>\r\n                      <td className=\"text-right\">\r\n                        $ {lot.costo ? lot.costo : 0}\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        $ {lot.precio ? lot.precio : 0}\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        <a\r\n                          className=\"btn-flat text-dark\"\r\n                          href=\"#delete\"\r\n                          onClick={(e) => {\r\n                            this.handleDelete(e, lot.id, lot.factura);\r\n                          }}\r\n                        >\r\n                          <i className=\"fas fa-trash\"></i>\r\n                        </a>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"6\" className=\"text-center\">\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n              {this.state.loteNew ? (\r\n                <tr>\r\n                  <th>Nuevo</th>\r\n                  <td>\r\n                    <input\r\n                      className=\"form-control text-uppercase\"\r\n                      type=\"text\"\r\n                      name=\"bill\"\r\n                      value={this.state.bill}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    <input\r\n                      className=\"form-control text-right\"\r\n                      type=\"number\"\r\n                      name=\"amount\"\r\n                      min=\"1\"\r\n                      value={this.state.amount}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    <input\r\n                      className=\"form-control text-right\"\r\n                      type=\"number\"\r\n                      name=\"cost\"\r\n                      value={this.state.cost}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    <input\r\n                      className=\"form-control text-right\"\r\n                      type=\"number\"\r\n                      name=\"price\"\r\n                      value={this.state.price}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                  </td>\r\n                  <td className=\"text-right\">\r\n                    <div className=\"btn-group\" role=\"group\">\r\n                      <button\r\n                        className=\"btn btn-outline-primary btn-sm\"\r\n                        onClick={this.handleSave}\r\n                      >\r\n                        <i className=\"fas fa-save\"></i>\r\n                      </button>\r\n                      <button\r\n                        className=\"btn btn-outline-dark btn-sm\"\r\n                        onClick={this.handleNewLote}\r\n                      >\r\n                        <i className=\"fas fa-undo\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                <tr></tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-12\">\r\n              <div className=\"btn-group float-right\" role=\"group\">\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  onClick={this.handleNewLote}\r\n                >\r\n                  Nuevo lote\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChangePage(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      page: e.target.id,\r\n    });\r\n    this.handelGetLots(e.target.id);\r\n  }\r\n  handleNewLote() {\r\n    this.setState({\r\n      loteNew: !this.state.loteNew,\r\n    });\r\n  }\r\n  catchInputs(e) {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value.toLowerCase(),\r\n    });\r\n  }\r\n  validInputs() {\r\n    //Datos del formulario\r\n    let { bill, price, amount } = this.state;\r\n    if (!bill.length) {\r\n      bill = \"XXXX\";\r\n    }\r\n    if (!price) {\r\n      price = 1000;\r\n    }\r\n    if (!amount) {\r\n      window.alert(\"La cantidad de articulos no puede ser cero\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  handleSave(e) {\r\n    e.preventDefault();\r\n\r\n    //Verificamos campos validos\r\n    if (!this.validInputs()) {\r\n      return false;\r\n    }\r\n\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: \"¿Esta seguro de almacenar un nuevo lote?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#007bff\",\r\n      confirmButtonText: \"Guardar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          let ls = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n            { id, bill, cost, price, amount } = this.state,\r\n            body = {\r\n              bill,\r\n              cost,\r\n              price,\r\n              amount,\r\n              store_items_id: id,\r\n            };\r\n\r\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\r\n          console.log(\"Enviando datos del producto a API\");\r\n          return fetch(\"http://\" + ls.host + \"/api/items\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + ls.token,\r\n            },\r\n          })\r\n            .then((response) => {\r\n              if (!response.ok) {\r\n                throw new Error(response.statusText);\r\n              }\r\n              return response.json();\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n\r\n        if (data.data) {\r\n          console.log(\"Lote almacenada\");\r\n          this.setState({\r\n            load: true,\r\n            loteNew: false,\r\n          });\r\n          window.Swal.fire(\"Lote guardado con exito\", \"\", \"success\").then(\r\n            (res) => {\r\n              this.handelGetLots(this.state.page);\r\n              this.props.refresh();\r\n            }\r\n          );\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar el lote\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  }\r\n  handelGetLots(page) {\r\n    //Variables\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      id = this.props.id,\r\n      url =\r\n        \"http://\" + varLocalStorage.host + \"/api/items?store_items_id=\" + id;\r\n    fetch(url + \"&page=\" + page, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + varLocalStorage.token,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.statusText);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        console.log(\"Descargando lotes\");\r\n        this.setState({\r\n          id,\r\n          lote: data,\r\n          load: false,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Orus:\", error);\r\n        window.Swal.fire(\r\n          \"Fallo de conexion\",\r\n          \"Verifique la conexion al servidor\",\r\n          \"error\"\r\n        );\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  }\r\n  handleDelete = (e, id, item) => {\r\n    e.preventDefault();\r\n    window.Swal.fire({\r\n      title: \"Eliminar\",\r\n      text: \"¿Esta seguro de eliminar el lote \" + item.toUpperCase() + \"?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#d33\",\r\n      confirmButtonText: \"Eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm && id) {\r\n          const tr = e.target.parentNode.parentNode.parentNode;\r\n          tr.classList.add(\"bg-danger\");\r\n\r\n          let ls = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n            deleteColor = setInterval(() => {\r\n              clearInterval(deleteColor);\r\n              tr.classList.remove(\"bg-danger\");\r\n            }, 6500);\r\n\r\n          //Inicio de proceso de eliminción por API\r\n          console.log(\"Solicitud de eliminación de lote por API\");\r\n          return fetch(\"http://\" + ls.host + \"/api/items/\" + id, {\r\n            method: \"DELETE\",\r\n            signal: this.signal,\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + ls.token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        console.log(\"Producto eliminado\");\r\n        this.setState({\r\n          load: true,\r\n          loteNew: false,\r\n        });\r\n        window.Swal.fire(\"Lote eliminado con exito\", \"\", \"success\").then(\r\n          (res) => {\r\n            this.handelGetLots(this.state.page);\r\n            this.props.refresh();\r\n          }\r\n        );\r\n      } else if (result && !result.dismiss) {\r\n        console.log(\"Orus res: \", result);\r\n        window.Swal.fire(\r\n          \"Error\",\r\n          \"Se perdio la conexion con el servidor\",\r\n          \"error\"\r\n        );\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nexport default StoreLote;\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class InputCategory extends Component {\r\n  render() {\r\n    const {\r\n      categoryData,\r\n      categoryName,\r\n      category,\r\n      textSelect,\r\n      categoryRef,\r\n    } = this.props;\r\n    return (\r\n      <div className=\"input-group mb-3\">\r\n        <div className=\"input-group-prepend\">\r\n          <span\r\n            className={\r\n              category\r\n                ? \"input-group-text bg-primary\"\r\n                : \"input-group-text bg-warning\"\r\n            }\r\n          >\r\n            <i className=\"fas fa-sort-amount-down\"></i>\r\n          </span>\r\n        </div>\r\n        <select\r\n          className=\"custom-select text-uppercase\"\r\n          name={categoryName}\r\n          value={category}\r\n          onChange={this.handleChangeCategory}\r\n          ref={categoryRef}\r\n        >\r\n          <option value=\"0\">{textSelect}</option>\r\n          {categoryData.map((cat) => {\r\n            return (\r\n              <option value={cat.id} key={cat.id}>\r\n                {cat.categoria ? cat.categoria : cat.name}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChangeCategory = (e) => {\r\n    const { value } = e.target,\r\n      { categoryData, handleChangeCategory } = this.props;\r\n    let search = parseInt(value),\r\n      category = categoryData.find((i) => i.id === search);\r\n    if (!search) {\r\n      category = {\r\n        id: 0,\r\n      };\r\n    }\r\n\r\n    handleChangeCategory(category);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class SuppliersInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      suppliers_data: [],\r\n      text: \"\",\r\n      load: false,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.setState({\r\n      suppliers_data: [],\r\n    });\r\n    this.getSuppliers();\r\n  }\r\n  render() {\r\n    const { suppliers_data } = this.state,\r\n      { supplier, handleChangeSupplier, supplierRef } = this.props;\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <small>\r\n            <label>Proveedor</label>\r\n          </small>\r\n          {suppliers_data.length ? (\r\n            <div className=\"input-group mb-3\">\r\n              <div className=\"input-group-prepend\">\r\n                <span\r\n                  className={\r\n                    supplier\r\n                      ? \"input-group-text bg-primary\"\r\n                      : \"input-group-text bg-warning\"\r\n                  }\r\n                >\r\n                  <i className=\"fas fa-address-book\"></i>\r\n                </span>\r\n              </div>\r\n              <select\r\n                className=\"custom-select text-uppercase\"\r\n                name=\"supplier\"\r\n                value={supplier}\r\n                ref={supplierRef}\r\n                onChange={(e) => {\r\n                  const { value } = e.target;\r\n                  handleChangeSupplier(parseInt(value));\r\n                }}\r\n              >\r\n                <option value=\"0\">Seleccione un Proveedor</option>\r\n                {suppliers_data.map((sp) => {\r\n                  return (\r\n                    <option value={sp.id} key={sp.id}>\r\n                      {sp.nombre}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-left\">\r\n              <span className=\"text-dark\">Descargando proveedores</span>\r\n              <div className=\"spinner-border text-primary ml-4\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getSuppliers = () => {\r\n    //Variables\r\n    let { host, token } = this.state;\r\n\r\n    console.log(\"solicitando proveedores al API\");\r\n    fetch(\"http://\" + host + \"/api/contacts?type=1\", {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.statusText);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.data !== null) {\r\n          console.log(\"Cargando proveedores\");\r\n          this.setState({\r\n            suppliers_data: data.data,\r\n          });\r\n        } else {\r\n          console.error(\"Orus: \", data.message);\r\n          window.Swal.fire(\r\n            \"Error\",\r\n            \"Error al descargar los proveedores\",\r\n            \"error\"\r\n          );\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Orus:\", error);\r\n        window.Swal.fire(\r\n          \"Fallo de conexion\",\r\n          \"Verifique la conexion al servidor\",\r\n          \"error\"\r\n        );\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class InputBrand extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      brands: [],\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getBrands();\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (props.supplier !== this.props.supplier) {\r\n      this.setState({\r\n        brands: [],\r\n      });\r\n      this.getBrands();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { brandsName, brand, textSelect, brandRef } = this.props,\r\n      { brands } = this.state;\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <small>\r\n            <label>Marca</label>\r\n          </small>\r\n          {brands.length ? (\r\n            <div className=\"input-group mb-3\">\r\n              <div className=\"input-group-prepend\">\r\n                <span\r\n                  className={\r\n                    brand\r\n                      ? \"input-group-text bg-primary\"\r\n                      : \"input-group-text bg-warning\"\r\n                  }\r\n                >\r\n                  <i className=\"fas fa-copyright\"></i>\r\n                </span>\r\n              </div>\r\n              <select\r\n                className=\"custom-select text-uppercase\"\r\n                name={brandsName}\r\n                value={brand}\r\n                ref={brandRef}\r\n                onChange={this.handleChangeCategory}\r\n              >\r\n                <option value=\"0\">{textSelect}</option>\r\n                {brands.map((brand) => {\r\n                  return (\r\n                    <option value={brand.id} key={brand.id}>\r\n                      {brand.nombre}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-left\">\r\n              <span className=\"text-dark\">Descargando marcas</span>\r\n              <div className=\"spinner-border text-primary ml-4\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChangeCategory = (e) => {\r\n    const { value } = e.target,\r\n      { handleChangeBrand } = this.props;\r\n    handleChangeBrand(parseInt(value));\r\n  };\r\n  getBrands = () => {\r\n    //Constantes\r\n    const { host, token } = this.state,\r\n      { supplier } = this.props;\r\n\r\n    console.log(\"solicitando marcas al API\");\r\n    fetch(\"http://\" + host + \"/api/brands?supplier=\" + supplier, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then(async (response) => {\r\n        let back = {};\r\n        if (response.status !== 204) back = await response.json();\r\n        if (!response.ok) {\r\n          throw new Error(back.message);\r\n        }\r\n        return back;\r\n      })\r\n      .then((data) => {\r\n        if (data.data !== null) {\r\n          console.log(\"descargando marcas\");\r\n          this.setState({\r\n            brands: data.data,\r\n          });\r\n        } else {\r\n          console.error(\"Orus: \", data.message);\r\n          window.Swal.fire(\"Error\", \"Error al descargar las marcas\", \"error\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Orus:\", error);\r\n        window.Swal.fire(\r\n          \"Fallo de conexion\",\r\n          \"Verifique la conexion al servidor\",\r\n          \"error\"\r\n        );\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  };\r\n}\r\n","export default (string) => {\r\n  switch (string) {\r\n    case \"monofocales\":\r\n      return \"MF\";\r\n    case \"bifocales\":\r\n      return \"BF\";\r\n    case \"progresivo basico\":\r\n    case \"progresivo-basico\":\r\n      return \"PB\";\r\n    case \"progresivo digital\":\r\n    case \"progresivo-digital\":\r\n      return \"PD\";\r\n    case \"plastico\":\r\n      return \"CR\";\r\n    case \"policarbonato\":\r\n      return \"PL\";\r\n    case \"hi-index\":\r\n    case \"hi index\":\r\n      return \"HI\";\r\n    case \"antirreflejantes\":\r\n      return \"AR\";\r\n    case \"photo\":\r\n      return \"PH\";\r\n    case \"ar & photo\":\r\n    case \"antirreflejante-photo\":\r\n      return \"ARPH\";\r\n    case \"blanco\":\r\n      return \"BL\";\r\n    case \"polarizado\":\r\n      return \"PO\";\r\n    case \"bifocal invisible\":\r\n    case \"bifocal-invisible\":\r\n      return \"BI\";\r\n    case \"monofocal drivesafe\":\r\n    case \"monofocal-drivesafe\":\r\n      return \"MDSF\";\r\n    case \"monofocal superb\":\r\n    case \"monofocal-superb\":\r\n      return \"MDSU\";\r\n    case \"monofocal individual\":\r\n    case \"monofocal-individual\":\r\n      return \"MDIN\";\r\n    default:\r\n      return \"\";\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport StoreLote from \"./add_lote\";\r\nimport InputCategory from \"./input_category\";\r\nimport Suppliers from \"./input_suppliers\";\r\nimport Brands from \"./input_brand\";\r\nimport Codestring from \"../Layouts/codeLentString\";\r\n\r\nexport default class StoreAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const id = this.props.match.params.id;\r\n    this.state = {\r\n      id: id ? id : 0,\r\n      code: \"\",\r\n      codebar: \"\",\r\n      grad: \"\",\r\n      brand_id: 0,\r\n      name: \"\",\r\n      unit: \"PZ\",\r\n      cant: 1,\r\n      price: 1,\r\n      supplier: 0,\r\n      category_id: 0,\r\n      category_data: {},\r\n      category_id1: 0,\r\n      category_id2: 0,\r\n      category_id3: 0,\r\n      category_id4: 0,\r\n      category_list1: [],\r\n      category_list2: [],\r\n      category_list3: [],\r\n      category_list4: [],\r\n      load: false,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n    this.category1 = React.createRef(); //Primera categoria\r\n    this.category2 = React.createRef(); //Segunda categoria\r\n    this.category3 = React.createRef(); //Tercera categoria\r\n    this.category4 = React.createRef(); //Cuarta categoria\r\n    this.supplierRef = React.createRef(); //Referencia de proveedor\r\n    this.brandRef = React.createRef(); //Referencia de proveedor\r\n    this.codeRef = React.createRef(); //Referencia del codigo\r\n    this.nameRef = React.createRef(); //REferencia del nombre del producto\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    const { id } = this.state;\r\n    this.getItem(id);\r\n    this.getCategory();\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    const {\r\n      category_list1,\r\n      category_id,\r\n      category_id1,\r\n      category_id2,\r\n      category_id3,\r\n    } = this.state;\r\n\r\n    if (state.category_id !== category_id) {\r\n      if (state.category_id1 !== category_id1 && category_id1 !== 0) {\r\n        const next = category_list1.find((e) => e.id === category_id1);\r\n        if (next) {\r\n          this.setState({\r\n            category_list2: next.hijos,\r\n          });\r\n        }\r\n      }\r\n      if (state.category_id2 !== category_id2 && category_id2 !== 0) {\r\n        const next = category_list1.find((e) => e.id === category_id2);\r\n        if (next) {\r\n          this.setState({\r\n            category_list3: next.hijos,\r\n          });\r\n        }\r\n      }\r\n      if (state.category_id3 !== category_id3 && category_id3 !== 0) {\r\n        const next = category_list1.find((e) => e.id === category_id3);\r\n        if (next) {\r\n          this.setState({\r\n            category_list4: next.hijos,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      load,\r\n      supplier,\r\n      category_id,\r\n      category_id1,\r\n      category_id2,\r\n      category_id3,\r\n      category_id4,\r\n      category_list1,\r\n      category_list2,\r\n      category_list3,\r\n      category_list4,\r\n      brand_id,\r\n      code,\r\n      name,\r\n      grad,\r\n      unit,\r\n      cant,\r\n      price,\r\n    } = this.state;\r\n    let codeValue = code,\r\n      nameValue = name;\r\n\r\n    if (\r\n      this.category1.current !== null &&\r\n      this.category1.current.value * 1 === 2\r\n    ) {\r\n      if (name.length <= 3) {\r\n        nameValue = this.handleCodeString(codeValue);\r\n      }\r\n    } else if (\r\n      this.category1.current !== null &&\r\n      this.category1.current.value * 1 === 1\r\n    ) {\r\n      if (code.length <= 3) {\r\n        codeValue = this.handleCodeLent(grad);\r\n      }\r\n      if (name.length <= 3) {\r\n        nameValue = this.handleNameLent(grad);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className={id ? \"col-5\" : \"col-6\"}>\r\n          <form\r\n            className=\"card card-primary card-outline\"\r\n            onSubmit={this.handleSave}\r\n          >\r\n            <div className=\"card-header\">\r\n              <h3 className=\"card-title text-primary\">\r\n                <i className=\"fas fa-database mr-1\"></i>\r\n                {id ? \"Editar producto\" : \"Registrar nuevo producto\"}\r\n              </h3>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              {category_list1 && category_list1.length && !load ? (\r\n                <React.Fragment>\r\n                  <div className=\"row\">\r\n                    <div className=\"col\">\r\n                      <fieldset>\r\n                        <small className=\"mr-2\">\r\n                          <label>Categoria</label>\r\n                        </small>\r\n\r\n                        <InputCategory\r\n                          data={this.props.data}\r\n                          category={category_id1}\r\n                          categoryName=\"category_id1\"\r\n                          categoryData={category_list1}\r\n                          textSelect=\"Seleciona la categoria\"\r\n                          categoryRef={this.category1}\r\n                          handleChangeCategory={(data) => {\r\n                            this.setState({\r\n                              category_id: data.id,\r\n                              category_id1: data.id,\r\n                              category_id2: 0,\r\n                              category_list2: data.hijos,\r\n                              category_id3: 0,\r\n                              category_list3: [],\r\n                              category_id4: 0,\r\n                              category_list4: [],\r\n                              supplier: 0,\r\n                            });\r\n                          }}\r\n                        />\r\n\r\n                        {category_id1 &&\r\n                        category_list2 &&\r\n                        category_list2.length ? (\r\n                          <InputCategory\r\n                            data={this.props.data}\r\n                            category={category_id2}\r\n                            categoryName=\"category_id2\"\r\n                            categoryData={category_list2}\r\n                            textSelect=\"Seleciona el tipo\"\r\n                            categoryRef={this.category2}\r\n                            handleChangeCategory={(data) => {\r\n                              this.setState({\r\n                                category_id: data.id,\r\n                                category_id2: data.id,\r\n                                category_id3: 0,\r\n                                category_list3: data.hijos,\r\n                                category_id4: 0,\r\n                                category_list4: [],\r\n                              });\r\n                            }}\r\n                          />\r\n                        ) : null}\r\n\r\n                        {category_id2 &&\r\n                        category_list3 &&\r\n                        category_list3.length ? (\r\n                          <InputCategory\r\n                            data={this.props.data}\r\n                            category={category_id3}\r\n                            categoryName=\"category_id3\"\r\n                            categoryData={category_list3}\r\n                            textSelect=\"Seleciona el material\"\r\n                            categoryRef={this.category3}\r\n                            handleChangeCategory={(data) => {\r\n                              this.setState({\r\n                                category_id: data.id,\r\n                                category_id3: data.id,\r\n                                category_id4: 0,\r\n                                category_list4: data.hijos,\r\n                              });\r\n                            }}\r\n                          />\r\n                        ) : null}\r\n\r\n                        {category_id3 &&\r\n                        category_list4 &&\r\n                        category_list4.length ? (\r\n                          <InputCategory\r\n                            data={this.props.data}\r\n                            category={category_id4}\r\n                            categoryName=\"category_id4\"\r\n                            categoryData={category_list4}\r\n                            textSelect=\"Seleciona el tratamiento\"\r\n                            categoryRef={this.category4}\r\n                            handleChangeCategory={(data) => {\r\n                              this.setState({\r\n                                category_id: data.id,\r\n                                category_id4: data.id,\r\n                              });\r\n                            }}\r\n                          />\r\n                        ) : null}\r\n                      </fieldset>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {category_id1 && category_id1 !== 1 ? (\r\n                    <Suppliers\r\n                      data={this.props.data}\r\n                      supplier={supplier}\r\n                      textSelect=\"Selecione el proveedor\"\r\n                      supplierRef={this.supplierRef}\r\n                      handleChangeSupplier={(e) => {\r\n                        this.setState({\r\n                          supplier: e,\r\n                        });\r\n                      }}\r\n                    />\r\n                  ) : null}\r\n\r\n                  {category_id1 && category_id1 !== 1 && supplier ? (\r\n                    <Brands\r\n                      data={this.props.data}\r\n                      brand={brand_id}\r\n                      supplier={supplier}\r\n                      textSelect=\"Selecione la marca\"\r\n                      brandRef={this.brandRef}\r\n                      handleChangeBrand={(e) => {\r\n                        this.setState({\r\n                          brand_id: e,\r\n                        });\r\n                      }}\r\n                    />\r\n                  ) : null}\r\n\r\n                  {category_id ? (\r\n                    <React.Fragment>\r\n                      <div className=\"row\">\r\n                        <div className=\"col-5\">\r\n                          {codeValue ? (\r\n                            <small>\r\n                              <label>Codigo</label>\r\n                            </small>\r\n                          ) : (\r\n                            <br />\r\n                          )}\r\n                          <div className=\"input-group mb-3\">\r\n                            <div className=\"input-group-prepend\">\r\n                              <span\r\n                                className={\r\n                                  codeValue\r\n                                    ? \"input-group-text bg-primary\"\r\n                                    : \"input-group-text bg-warning\"\r\n                                }\r\n                              >\r\n                                <i className=\"fas fa-code\"></i>\r\n                              </span>\r\n                            </div>\r\n                            <input\r\n                              type=\"text\"\r\n                              className=\"form-control text-uppercase\"\r\n                              placeholder=\"Codigo\"\r\n                              name=\"code\"\r\n                              ref={this.codeRef}\r\n                              value={codeValue}\r\n                              onChange={this.catchInputs}\r\n                              autoComplete=\"off\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col\">\r\n                          <small>\r\n                            <label>Codigo de barras</label>\r\n                          </small>\r\n                          <div className=\"input-group mb-3\">\r\n                            <div className=\"input-group-prepend\">\r\n                              <span className=\"input-group-text bg-primary\">\r\n                                <i className=\"fas fa-barcode\"></i>\r\n                              </span>\r\n                            </div>\r\n                            <input\r\n                              type=\"text\"\r\n                              className=\"form-control\"\r\n                              placeholder=\"Codigo de barras\"\r\n                              name=\"codebar\"\r\n                              value={this.state.codebar}\r\n                              onChange={this.catchInputs}\r\n                              autoComplete=\"off\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"row\">\r\n                        {category_id1 === 1 && category_id2 === 5 ? (\r\n                          <div className=\"col-3\">\r\n                            <small>\r\n                              <label>Graduacion</label>\r\n                            </small>\r\n                            <div className=\"input-group mb-3\">\r\n                              <div className=\"input-group-prepend\">\r\n                                <span\r\n                                  className={\r\n                                    grad\r\n                                      ? \"input-group-text bg-primary\"\r\n                                      : \"input-group-text bg-warning\"\r\n                                  }\r\n                                >\r\n                                  <i className=\"fas fa-glasses\"></i>\r\n                                </span>\r\n                              </div>\r\n                              <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"+100100\"\r\n                                name=\"grad\"\r\n                                value={grad}\r\n                                onChange={this.catchInputs}\r\n                                autoComplete=\"off\"\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                        ) : null}\r\n                        <div className=\"col\">\r\n                          {nameValue ? (\r\n                            <small>\r\n                              <label>Nombre del producto</label>\r\n                            </small>\r\n                          ) : (\r\n                            <br />\r\n                          )}\r\n                          <div className=\"input-group mb-3\">\r\n                            <div className=\"input-group-prepend\">\r\n                              <span\r\n                                className={\r\n                                  nameValue\r\n                                    ? \"input-group-text bg-primary\"\r\n                                    : \"input-group-text bg-warning\"\r\n                                }\r\n                              >\r\n                                <i className=\"fas fa-archive\"></i>\r\n                              </span>\r\n                            </div>\r\n                            <input\r\n                              type=\"text\"\r\n                              className=\"form-control text-uppercase\"\r\n                              placeholder=\"Nombre del producto\"\r\n                              name=\"name\"\r\n                              ref={this.nameRef}\r\n                              value={nameValue}\r\n                              onChange={this.catchInputs}\r\n                              autoComplete=\"off\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"row\">\r\n                        <div className=\"col\">\r\n                          {this.state.unit ? (\r\n                            <small>\r\n                              <label>Unidad de presentacion</label>\r\n                            </small>\r\n                          ) : (\r\n                            <br />\r\n                          )}\r\n                          <div className=\"input-group mb-3\">\r\n                            <div className=\"input-group-prepend\">\r\n                              <span\r\n                                className={\r\n                                  unit\r\n                                    ? \"input-group-text bg-primary\"\r\n                                    : \"input-group-text bg-warning\"\r\n                                }\r\n                              >\r\n                                <i className=\"fas fa-balance-scale\"></i>\r\n                              </span>\r\n                            </div>\r\n                            <input\r\n                              type=\"text\"\r\n                              className=\"form-control\"\r\n                              placeholder=\"Unidad de presentación\"\r\n                              name=\"unit\"\r\n                              value={unit}\r\n                              onChange={this.catchInputs}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col\">\r\n                          <small>\r\n                            <label>Cantidad en existencia</label>\r\n                          </small>\r\n                          <div className=\"input-group mb-3\">\r\n                            <div className=\"input-group-prepend\">\r\n                              <span\r\n                                className={\r\n                                  cant\r\n                                    ? \"input-group-text bg-primary\"\r\n                                    : \"input-group-text\"\r\n                                }\r\n                              >\r\n                                <i className=\"fas fa-database\"></i>\r\n                              </span>\r\n                            </div>\r\n                            <input\r\n                              type=\"number\"\r\n                              className=\"form-control text-right\"\r\n                              placeholder=\"Cantidades en existencia\"\r\n                              name=\"cant\"\r\n                              value={cant}\r\n                              onChange={this.catchInputs}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col\">\r\n                          <small>\r\n                            <label>Precio</label>\r\n                          </small>\r\n                          <div className=\"input-group mb-3\">\r\n                            <div className=\"input-group-prepend\">\r\n                              <span\r\n                                className={\r\n                                  price\r\n                                    ? \"input-group-text bg-primary\"\r\n                                    : \"input-group-text bg-warning\"\r\n                                }\r\n                              >\r\n                                <i className=\"fas fa-money-bill\"></i>\r\n                              </span>\r\n                            </div>\r\n                            <input\r\n                              type=\"number\"\r\n                              className=\"form-control text-right\"\r\n                              placeholder=\"Precio\"\r\n                              name=\"price\"\r\n                              value={price}\r\n                              onChange={this.catchInputs}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </React.Fragment>\r\n                  ) : (\r\n                    <div className=\"row\">\r\n                      <div className=\"col\">\r\n                        <h6 className=\"text-warning\">\r\n                          Seleccione primero una categoría.\r\n                        </h6>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </React.Fragment>\r\n              ) : (\r\n                <div className=\"text-center\">\r\n                  <span className=\"text-primary\">Cargando formulario</span>\r\n                  <div\r\n                    className=\"spinner-border text-primary ml-4\"\r\n                    role=\"status\"\r\n                  >\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"card-footer text-right\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"btn-group\" role=\"group\">\r\n                    <Link\r\n                      to=\"/almacen/registro\"\r\n                      className=\"btn btn-dark\"\r\n                      onClick={this.setNew}\r\n                    >\r\n                      <i className=\"fas fa-plus mr-1\"></i>\r\n                      Nuevo\r\n                    </Link>\r\n                    <Link\r\n                      to=\"/almacen\"\r\n                      className=\"btn btn-dark\"\r\n                      onClick={(e) => {\r\n                        this.changePage(\"/almacen\");\r\n                      }}\r\n                    >\r\n                      <i\r\n                        className={id ? \"fas fa-ban mr-1\" : \"fas fa-undo mr-1\"}\r\n                      ></i>\r\n                      {id ? \"Cerrar\" : \"Cancelar\"}\r\n                    </Link>\r\n                    <button type=\"submit\" className=\"btn btn-primary\">\r\n                      <i className=\"fas fa-save mr-1\"></i>\r\n                      Guardar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        {id ? (\r\n          <div className=\"col\">\r\n            <StoreLote\r\n              id={id}\r\n              price={this.state.price}\r\n              refresh={this.getItem}\r\n            />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleNameLent = (grad) => {\r\n    let stringcode = \"lente\";\r\n    stringcode +=\r\n      this.category2.current !== null\r\n        ? \" \" +\r\n          Codestring(\r\n            this.category2.current.options[\r\n              this.category2.current.selectedIndex\r\n            ].text.trim()\r\n          )\r\n        : \"\";\r\n    stringcode +=\r\n      this.category3.current !== null\r\n        ? \" \" +\r\n          this.category3.current.options[\r\n            this.category3.current.selectedIndex\r\n          ].text.trim()\r\n        : \"\";\r\n    stringcode +=\r\n      this.category4.current !== null\r\n        ? \" \" +\r\n          this.category4.current.options[\r\n            this.category4.current.selectedIndex\r\n          ].text.trim()\r\n        : \"\";\r\n\r\n    stringcode += \" \" + grad.toString();\r\n    return stringcode.toLowerCase();\r\n  };\r\n  handleCodeLent = (grad) => {\r\n    let stringcode =\r\n      this.category2.current !== null\r\n        ? Codestring(\r\n            this.category2.current.options[this.category2.current.selectedIndex]\r\n              .text\r\n          )\r\n        : \"\";\r\n    stringcode +=\r\n      this.category3.current !== null\r\n        ? Codestring(\r\n            this.category3.current.options[this.category3.current.selectedIndex]\r\n              .text\r\n          )\r\n        : \"\";\r\n    stringcode +=\r\n      this.category4.current !== null\r\n        ? Codestring(\r\n            this.category4.current.options[this.category4.current.selectedIndex]\r\n              .text\r\n          )\r\n        : \"\";\r\n    return stringcode + grad.toString();\r\n  };\r\n  handleCodeString = (code) => {\r\n    let stringcode = \"armazon\";\r\n    stringcode +=\r\n      this.category2.current !== null\r\n        ? \" \" +\r\n          this.category2.current.options[\r\n            this.category2.current.selectedIndex\r\n          ].text.trim()\r\n        : \"\";\r\n    stringcode +=\r\n      this.brandRef.current !== null\r\n        ? \" \" +\r\n          this.brandRef.current.options[\r\n            this.brandRef.current.selectedIndex\r\n          ].text.trim()\r\n        : \"\";\r\n    stringcode +=\r\n      this.supplierRef.current !== null\r\n        ? \" \" +\r\n          this.supplierRef.current.options[\r\n            this.supplierRef.current.selectedIndex\r\n          ].text\r\n            .trim()\r\n            .split(\" \")[0]\r\n        : \"\";\r\n\r\n    stringcode += \" \" + code.toString();\r\n    return stringcode.toLowerCase();\r\n  };\r\n  setNew = (e) => {\r\n    this.setState({\r\n      id: 0,\r\n      code: \"\",\r\n      codebar: \"\",\r\n      grad: \"\",\r\n      brand_id: 0,\r\n      name: \"\",\r\n      unit: \"PZ\",\r\n      cant: 1,\r\n      price: 1,\r\n      supplier: 0,\r\n      brand: 0,\r\n      category_id: 0,\r\n      category_id1: 0,\r\n      category_id2: 0,\r\n      category_id3: 0,\r\n      category_id4: 0,\r\n      category_list2: [],\r\n      category_list3: [],\r\n      category_list4: [],\r\n      load: false,\r\n    });\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name, type } = e.target;\r\n    let { value } = e.target;\r\n\r\n    if (type === \"text\") value = value.toLowerCase();\r\n    if (type === \"number\") value = parseInt(value);\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  getCategory = () => {\r\n    //Variables\r\n    let { host, token } = this.state;\r\n\r\n    console.log(\"solicitando categorias al API\");\r\n    fetch(\"http://\" + host + \"/api/categories?categoryid=raiz\", {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.statusText);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((cat) => {\r\n        if (cat.data !== null) {\r\n          console.log(\"Almacenando categorias\");\r\n          this.setState({\r\n            category_list1: cat.data,\r\n          });\r\n        } else {\r\n          console.error(\"Orus: \", cat.message);\r\n          window.Swal.fire(\r\n            \"Error\",\r\n            \"Error al descargar las categorias\",\r\n            \"error\"\r\n          );\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Orus:\", error);\r\n        window.Swal.fire(\r\n          \"Fallo de conexion\",\r\n          \"Verifique la conexion al servidor\",\r\n          \"error\"\r\n        );\r\n      });\r\n  };\r\n  handleSave = async (e) => {\r\n    e.preventDefault();\r\n    const {\r\n      id,\r\n      category_id,\r\n      category_id1,\r\n      category_id2,\r\n      category_id4,\r\n      supplier,\r\n      brand_id,\r\n      code,\r\n    } = this.state;\r\n    //Verificamos campos validos\r\n    if (!category_id) {\r\n      window.Swal.fire(\r\n        \"Verificación\",\r\n        \"Selecione una categoria primero\",\r\n        \"warning\"\r\n      );\r\n      return false;\r\n    } else {\r\n      if (category_id1 === 1 && category_id4 !== category_id) {\r\n        window.Swal.fire(\r\n          \"Verificación\",\r\n          \"Selecione una categoria valida para lentes\",\r\n          \"warning\"\r\n        );\r\n        return false;\r\n      } else if (category_id1 === 2 && category_id2 !== category_id) {\r\n        window.Swal.fire(\r\n          \"Verificación\",\r\n          \"Selecione una categoria valida para armazones\",\r\n          \"warning\"\r\n        );\r\n        return false;\r\n      }\r\n    }\r\n    if (category_id1 === 2 && !supplier) {\r\n      window.Swal.fire(\r\n        \"Verificación\",\r\n        \"Selecione un PROVEEDOR valido primero\",\r\n        \"warning\"\r\n      );\r\n      return false;\r\n    }\r\n    if (category_id1 === 2 && !brand_id) {\r\n      window.Swal.fire(\r\n        \"Verificación\",\r\n        \"Selecione una MARCA valida primero\",\r\n        \"warning\"\r\n      );\r\n      return false;\r\n    }\r\n    if (!code && !this.codeRef.current.value) {\r\n      window.Swal.fire(\r\n        \"Verificación\",\r\n        \"Escriba una CODIGO para este producto\",\r\n        \"warning\"\r\n      );\r\n      return false;\r\n    }\r\n\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: id\r\n        ? \"¿Esta seguro de actualizar el producto?\"\r\n        : \"¿Esta seguro de crear un nuevo producto?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#007bff\",\r\n      confirmButtonText: id ? \"Actualizar\" : \"Crear\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          const {\r\n              id,\r\n              code,\r\n              codebar,\r\n              brand_id,\r\n              name,\r\n              unit,\r\n              cant,\r\n              price,\r\n              category_id,\r\n              token,\r\n              host,\r\n              supplier,\r\n              grad,\r\n            } = this.state,\r\n            url = id\r\n              ? \"http://\" + host + \"/api/store/\" + id\r\n              : \"http://\" + host + \"/api/store\",\r\n            method = id ? \"PUT\" : \"POST\";\r\n          let body = {\r\n            code: code ? code : this.codeRef.current.value,\r\n            codebar,\r\n            name: name ? name : this.nameRef.current.value,\r\n            unit,\r\n            cant,\r\n            price,\r\n            category_id,\r\n            grad,\r\n            brand_id: brand_id ? brand_id : \"\",\r\n            contact_id: supplier ? supplier : \"\",\r\n          };\r\n\r\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\r\n          console.log(\"Enviando datos del producto a API\");\r\n          return fetch(url, {\r\n            method: method,\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          }).then(async (response) => {\r\n            let back = {};\r\n            if (response.status !== 204) back = await response.json();\r\n            if (!response.ok) {\r\n              console.error(\"Orus res: \", back.message, back.errors);\r\n              if (back.errors && back.errors.code) {\r\n                window.Swal.fire(\r\n                  \"Validacion\",\r\n                  \"El CODIGO ya esta registrado\",\r\n                  \"warning\"\r\n                );\r\n              } else if (back.errors && back.errors.name) {\r\n                window.Swal.fire(\r\n                  \"Validacion\",\r\n                  \"El nombre del PRODUCTO ya esta registrado\",\r\n                  \"warning\"\r\n                );\r\n              } else\r\n                window.Swal.fire(\"Error\", \"al almacenar el producto\", \"error\");\r\n            }\r\n            return back;\r\n          });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n\r\n        if (data.data) {\r\n          console.log(\"Producto almacenado\", data.data);\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: id\r\n              ? \"Producto actualizado con exito\"\r\n              : \"Producto almacenado con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          }).then((res) => {\r\n            if (id) {\r\n              this.props.history.push(`/almacen`);\r\n            } else {\r\n              this.setState({\r\n                id: data.data.id,\r\n              });\r\n              this.props.history.push(`/almacen/registro/${data.data.id}`);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n  getItem = (id) => {\r\n    if (id > 0) {\r\n      //Variables\r\n      let { host, token } = this.state;\r\n      //Realiza la peticion al API\r\n      console.log(\"Solicitando datos de producto a la API\");\r\n      fetch(\"http://\" + host + \"/api/store/\" + id, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(response.statusText);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then(async (data) => {\r\n          if (data.data) {\r\n            let category_id1 = 0,\r\n              category_list2 = [],\r\n              category_list3 = [],\r\n              category_list4 = [],\r\n              category_id2 = 0,\r\n              category_id3 = 0,\r\n              category_id4 = 0;\r\n\r\n            if (data.data.categoria && data.data.categoria.depende_de) {\r\n              if (\r\n                data.data.categoria.depende_de &&\r\n                data.data.categoria.depende_de.depende_de\r\n              ) {\r\n                if (\r\n                  data.data.categoria.depende_de.depende_de &&\r\n                  data.data.categoria.depende_de.depende_de.depende_de\r\n                ) {\r\n                  category_id1 =\r\n                    data.data.categoria.depende_de.depende_de.depende_de.id;\r\n                  category_id2 = data.data.categoria.depende_de.depende_de.id;\r\n                  category_id3 = data.data.categoria.depende_de.id;\r\n                  category_id4 = data.data.categoria.id;\r\n                  //Listas\r\n                  category_list2 =\r\n                    data.data.categoria.depende_de.depende_de.depende_de.hijos;\r\n                  category_list3 =\r\n                    data.data.categoria.depende_de.depende_de.hijos;\r\n                  category_list4 = data.data.categoria.depende_de.hijos;\r\n                } else {\r\n                  category_id1 = data.data.categoria.depende_de.depende_de.id;\r\n                  category_id2 = data.data.categoria.depende_de.id;\r\n                  category_id3 = data.data.categoria.id;\r\n                  //Lista\r\n                  category_list2 =\r\n                    data.data.categoria.depende_de.depende_de.hijos;\r\n                  category_list3 = data.data.categoria.depende_de.hijos;\r\n                }\r\n              } else {\r\n                category_id1 = data.data.categoria.depende_de.id;\r\n                category_id2 = data.data.categoria.id;\r\n                //Lista\r\n                category_list2 = data.data.categoria.depende_de.hijos;\r\n              }\r\n            } else {\r\n              category_id1 = data.data.categoria.id;\r\n              //Lista\r\n              category_list2 = data.data.categoria.hijos;\r\n            }\r\n            /*console.log(\r\n              \"CAT principal\",\r\n              \"Nombre: \" + data.data.categoria.categoria,\r\n              \"Hijos: \" + data.data.categoria.hijos.length,\r\n              \"Padre: \",\r\n              data.data.categoria.depende_de\r\n            );*/\r\n\r\n            this.setState({\r\n              id: data.data.id,\r\n              code: data.data.codigo,\r\n              codebar: data.data.c_barra,\r\n              brand_id: data.data.marca ? data.data.marca.id : 0,\r\n              grad: data.data.graduacion ? data.data.graduacion : \"\",\r\n              name: data.data.producto,\r\n              unit: data.data.unidad,\r\n              cant: data.data.cantidades,\r\n              price: data.data.precio,\r\n              category_id: data.data.categoria.id,\r\n              category_id1,\r\n              category_list2,\r\n              category_list3,\r\n              category_list4,\r\n              category_id2,\r\n              category_id3,\r\n              category_id4,\r\n              category_data: data.data.categoria,\r\n              supplier: data.data.proveedor ? data.data.proveedor.id : 0,\r\n              load: false,\r\n            });\r\n          } else {\r\n            console.error(\"Orus: \", data.message);\r\n            window.Swal.fire(\r\n              \"Error\",\r\n              \"Error en el sistema, comuniquese con el administrador de sistema\",\r\n              \"error\"\r\n            );\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Orus:\", error);\r\n          window.Swal.fire(\r\n            \"Fallo de conexion\",\r\n            \"Verifique la conexion al servidor\",\r\n            \"error\"\r\n          );\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    } else {\r\n      this.setState({\r\n        load: false,\r\n      });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Pagination from \"../Layouts/pagination\";\r\n\r\nexport default class CategoryList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      meta: {},\r\n      add: false,\r\n      name: \"\",\r\n      category_raiz: [],\r\n      category_id: props.category,\r\n      page: 1,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n      load: true,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getCategoriesMain();\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    const { category } = this.props;\r\n    if (props.category !== category) {\r\n      this.getCategoriesMain();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { category_raiz, category_id, name, add, meta, load } = this.state,\r\n      {\r\n        categoryName,\r\n        categoryDataName,\r\n        categorySelect,\r\n        category,\r\n        last,\r\n      } = this.props;\r\n\r\n    return (\r\n      <div className=\"card card-primary card-outline\">\r\n        <div className=\"card-body\">\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Nombre</th>\r\n                <th style={{ width: 16 }} className=\"text-center\">\r\n                  E\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {!load && category_raiz ? (\r\n                <React.Fragment>\r\n                  <tr\r\n                    className={category_id === category ? \"table-success\" : \"\"}\r\n                    onClick={(e) => {\r\n                      this.setState({\r\n                        category_id: parseInt(category) ? category : 0,\r\n                      });\r\n                      categorySelect({\r\n                        [categoryName]: 0,\r\n                        [categoryDataName]: [],\r\n                        category_id: category,\r\n                      });\r\n                    }}\r\n                  >\r\n                    <td\r\n                      colSpan=\"2\"\r\n                      className=\"text-capitalize\"\r\n                      style={{ cursor: \"pointer\" }}\r\n                    >\r\n                      Raiz\r\n                    </td>\r\n                  </tr>\r\n                  {category_raiz.map((cat) => {\r\n                    return (\r\n                      <tr\r\n                        key={cat.id}\r\n                        className={\r\n                          cat.id === category_id ? \"table-success\" : \"\"\r\n                        }\r\n                        style={{ cursor: \"pointer\" }}\r\n                        onClick={(e) => {\r\n                          if (last) {\r\n                            this.setState({\r\n                              category_id: parseInt(category) ? category : 0,\r\n                            });\r\n                            categorySelect({\r\n                              [categoryName]: 0,\r\n                              [categoryDataName]: [],\r\n                              category_id: category,\r\n                            });\r\n                          } else {\r\n                            categorySelect({\r\n                              [categoryName]: cat.id,\r\n                              [categoryDataName]: cat.hijos,\r\n                              category_id: cat.id,\r\n                            });\r\n                            this.setState({\r\n                              category_id: cat.id,\r\n                            });\r\n                          }\r\n                        }}\r\n                      >\r\n                        <td className=\"text-capitalize\">\r\n                          <a\r\n                            href={\"#select!\" + cat.id}\r\n                            onClick={(e) => {\r\n                              e.preventDefault();\r\n                              this.setState({\r\n                                category_id: cat.id,\r\n                              });\r\n                            }}\r\n                          >\r\n                            {cat.categoria}\r\n                          </a>\r\n                        </td>\r\n                        <td>\r\n                          {!cat.hijos.length ? (\r\n                            <button\r\n                              className=\"btn btn-outline-dark btn-sm\"\r\n                              onClick={(e) => {\r\n                                this.handleClickDelete(cat.id, cat.categoria);\r\n                              }}\r\n                            >\r\n                              <i className=\"fas fa-trash\"></i>\r\n                            </button>\r\n                          ) : null}\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </React.Fragment>\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan=\"8\" className=\"text-center\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n            {add && !load ? (\r\n              <tfoot>\r\n                <tr>\r\n                  <td>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      className=\"form-control text-capitalize\"\r\n                      autoComplete=\"off\"\r\n                      value={name}\r\n                      onChange={this.catchInputs}\r\n                      ref={(input) => {\r\n                        this.nameInput = input;\r\n                      }}\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    <button\r\n                      className=\"btn btn-dark btn-sm\"\r\n                      onClick={this.handleClickSave}\r\n                    >\r\n                      <i className=\"fas fa-save\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            ) : (\r\n              <tfoot>\r\n                <tr>\r\n                  <td colSpan=\"3\">\r\n                    <Pagination\r\n                      meta={meta}\r\n                      handleChangePage={this.handleChangePage}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            )}\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <button\r\n            className=\"btn btn-primary btn-sm\"\r\n            onClick={this.handleClickAdd}\r\n          >\r\n            {this.state.add ? (\r\n              <i className=\"fas fa-undo\"></i>\r\n            ) : (\r\n              <i className=\"fas fa-plus\"></i>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChangePage = (id) => {\r\n    this.setState({\r\n      page: id,\r\n    });\r\n  };\r\n  handleClickDelete = (id, name) => {\r\n    window.Swal.fire({\r\n      title: \"Eliminar\",\r\n      text: \"¿Esta seguro de eliminar la categoria \" + name.toUpperCase() + \"?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#d33\",\r\n      confirmButtonText: \"Eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm && id) {\r\n          const { host, token } = this.state;\r\n\r\n          //Inicio de proceso de eliminción por API\r\n          console.log(\"Solicitud de eliminación de categoria por API\");\r\n          return fetch(\"http://\" + host + \"/api/categories/\" + id, {\r\n            method: \"DELETE\",\r\n            signal: this.signal,\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        console.log(\"Categoria eliminado\");\r\n        window.Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Categoria eliminada con exito\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then((res) => {\r\n          //Proceso de eliminacion de categoria del array\r\n          const { category } = this.props;\r\n          let { category_raiz } = this.state,\r\n            indexCat = 0;\r\n\r\n          if (category_raiz.length) {\r\n            category_raiz.filter((cat, i) => {\r\n              if (cat.id === id) indexCat = i;\r\n              return false;\r\n            });\r\n            category_raiz.splice(indexCat, 1);\r\n            this.setState({\r\n              category_raiz,\r\n              category_id: category,\r\n            });\r\n          }\r\n          //fin del proceso\r\n        });\r\n      } else if (result && !result.dismiss) {\r\n        console.log(\"Orus res: \", result);\r\n        window.Swal.fire(\r\n          \"Error\",\r\n          \"Se perdio la conexion con el servidor\",\r\n          \"error\"\r\n        );\r\n      }\r\n    });\r\n  };\r\n  handleClickSave = () => {\r\n    //Verificamos campos validos\r\n    if (this.state.name.length < 4) {\r\n      window.Swal.fire(\r\n        \"Verificación\",\r\n        \"Debe de escribir el nombre de la categoria\",\r\n        \"warning\"\r\n      );\r\n      this.nameInput.focus();\r\n      return false;\r\n    }\r\n\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: \"¿Esta seguro de crear una nueva categoria?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#007bff\",\r\n      confirmButtonText: \"Crear\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          //Variables\r\n          const { host, token, category_id, name } = this.state,\r\n            { category } = this.props,\r\n            body = {\r\n              name,\r\n              category_id: parseInt(category_id)\r\n                ? parseInt(category_id)\r\n                : parseInt(category)\r\n                ? parseInt(category)\r\n                : \"\",\r\n            };\r\n\r\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\r\n          console.log(\"Enviando datos a API para almacenar\");\r\n          return fetch(\"http://\" + host + \"/api/categories\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        const data = result.value,\r\n          { category_raiz, category_id } = this.state,\r\n          { category } = this.props;\r\n\r\n        if (data.data) {\r\n          console.log(\"Categoria almacenada\");\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Categoria almacenada con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          }).then(async (res) => {\r\n            //Resultado actualizando datos\r\n            if (parseInt(category) === category_id) {\r\n              category_raiz.push(data.data);\r\n            } else {\r\n              await category_raiz.find((cat) => {\r\n                if (cat.id === category_id) {\r\n                  cat.hijos.push(data.data);\r\n                  return cat;\r\n                } else return false;\r\n              });\r\n            }\r\n\r\n            this.setState({\r\n              category_raiz,\r\n              name: \"\",\r\n              add: !this.state.add,\r\n              category_id: data.data.id,\r\n            });\r\n            //Fin de resultado\r\n          });\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar la categoria\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  getCategoriesMain = () => {\r\n    //Variables props\r\n    const { category, CategoryData } = this.props;\r\n\r\n    if (CategoryData === undefined || !CategoryData.length) {\r\n      //Variables en localStorage\r\n      const { host, token, page, load } = this.state,\r\n        url = \"http://\" + host + \"/api/categories\",\r\n        categoryid = category ? \"&categoryid=\" + category : \"&categoryid=raiz\",\r\n        ppage = page > 0 ? \"?page=\" + page : \"?page=1\";\r\n\r\n      //Mandamos señal de carga si no lo he hecho\r\n      if (!load) {\r\n        this.setState({\r\n          load: true,\r\n        });\r\n      }\r\n      //Categories main\r\n      fetch(url + ppage + categoryid, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(response.statusText);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((cat) => {\r\n          this.setState({\r\n            category_raiz: cat.data !== null ? cat.data : [],\r\n            category_id: category,\r\n            load: false,\r\n          });\r\n        })\r\n        .catch((e) => {\r\n          console.error(\"Orus: \" + e);\r\n          window.Swal.fire(\r\n            \"Fallo de conexion\",\r\n            \"Verifique la conexion al servidor\",\r\n            \"error\"\r\n          );\r\n        });\r\n    } else {\r\n      this.setState({\r\n        category_raiz: CategoryData ? CategoryData : [],\r\n        category_id: category,\r\n        load: false,\r\n      });\r\n    }\r\n  };\r\n  handleClickAdd = () => {\r\n    this.setState({\r\n      add: !this.state.add,\r\n      name: \"\",\r\n    });\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value.toLowerCase(),\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n//import moment from \"moment\";\r\n//import \"moment/locale/es\";\r\nimport Catalogo from \"./category_list\";\r\n\r\nexport default class Categories extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      category_id: 0,\r\n      category_id1: 0,\r\n      category_hijos1: [],\r\n      category_id2: 0,\r\n      category_hijos2: [],\r\n      category_id3: 0,\r\n      category_hijos3: [],\r\n      category_id4: 0,\r\n      category_hijos4: [],\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      category_id1,\r\n      category_hijos1,\r\n      category_id2,\r\n      category_hijos2,\r\n      category_id3,\r\n      category_hijos3,\r\n    } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <h5>Categorias de productos</h5>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <Catalogo\r\n              data={this.props.data}\r\n              category={0}\r\n              categoryName=\"category_id1\"\r\n              categoryDataName=\"category_hijos1\"\r\n              categorySelect={this.handleChangeState}\r\n            />\r\n          </div>\r\n          {category_id1 && category_hijos1.length ? (\r\n            <div className=\"col\">\r\n              <Catalogo\r\n                data={this.props.data}\r\n                category={category_id1}\r\n                CategoryData={category_hijos1}\r\n                categoryName=\"category_id2\"\r\n                categoryDataName=\"category_hijos2\"\r\n                categorySelect={this.handleChangeState}\r\n                last={category_id1 === 2 ? true : false}\r\n              />\r\n            </div>\r\n          ) : null}\r\n          {category_id2 && category_hijos2.length ? (\r\n            <div className=\"col\">\r\n              <Catalogo\r\n                data={this.props.data}\r\n                category={category_id2}\r\n                CategoryData={category_hijos2}\r\n                categoryName=\"category_id3\"\r\n                categoryDataName=\"category_hijos3\"\r\n                categorySelect={this.handleChangeState}\r\n              />\r\n            </div>\r\n          ) : null}\r\n          {category_id3 && category_hijos3.length ? (\r\n            <div className=\"col\">\r\n              <Catalogo\r\n                data={this.props.data}\r\n                category={category_id3}\r\n                CategoryData={category_hijos3}\r\n                categoryName=\"category_id4\"\r\n                categoryDataName=\"category_hijos4\"\r\n                categorySelect={this.handleChangeState}\r\n                last={true}\r\n              />\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  handleChangeState = (data) => {\r\n    if (data.category_id1 !== undefined && data.category_id1) {\r\n      data.category_id2 = 0;\r\n      data.category_id3 = 0;\r\n      data.category_id4 = 0;\r\n    } else if (data.category_id2 !== undefined && data.category_id2) {\r\n      data.category_id3 = 0;\r\n      data.category_id4 = 0;\r\n    } else if (data.category_id3 !== undefined && data.category_id3) {\r\n      data.category_id4 = 0;\r\n    }\r\n    this.setState(data);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Suppliers from \"./input_suppliers\";\r\n\r\nexport default class Brands extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      supplier: 0,\r\n      brands: [],\r\n      name: \"\",\r\n      load: false,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(props, state) {\r\n    if (state.supplier !== this.state.supplier && this.state.supplier) {\r\n      this.getBrands();\r\n    }\r\n  }\r\n  render() {\r\n    const { supplier, name, brands } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <h5>Marcas para productos</h5>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <div className=\"card card-primary card-outline\">\r\n              <div className=\"card-body\">\r\n                <Suppliers\r\n                  data={this.props.data}\r\n                  supplier={supplier}\r\n                  handleChangeSupplier={(e) => {\r\n                    this.setState({\r\n                      supplier: e,\r\n                    });\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"card card-primary card-outline\">\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title text-primary mb-4\">\r\n                  {supplier\r\n                    ? \"Listado de marcas\"\r\n                    : \"Primero seleccione a un proveedor\"}\r\n                </h5>\r\n                {supplier ? (\r\n                  <ul className=\"card-text list-group\">\r\n                    {!brands.length ? (\r\n                      <li className=\"list-group-item\">\r\n                        No hay marcas registradas para este proveedor\r\n                      </li>\r\n                    ) : (\r\n                      brands.map((brand) => {\r\n                        return (\r\n                          <li\r\n                            className=\"list-group-item d-flex justify-content-between align-items-center\"\r\n                            key={brand.id}\r\n                          >\r\n                            <span className=\"text-primary\">{brand.nombre}</span>\r\n                            <span\r\n                              className=\"badge badge-dark badge-pill\"\r\n                              style={{ cursor: \"pointer\" }}\r\n                              onClick={(e) => {\r\n                                this.deleteBrand(brand.id, brand.nombre);\r\n                              }}\r\n                            >\r\n                              <i className=\"fas fa-trash\"></i>\r\n                            </span>\r\n                          </li>\r\n                        );\r\n                      })\r\n                    )}\r\n                  </ul>\r\n                ) : null}\r\n              </div>\r\n              {supplier ? (\r\n                <div className=\"card-footer\">\r\n                  <form onSubmit={this.saveBrand}>\r\n                    <div className=\"input-group\">\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control mr-1\"\r\n                        name=\"name\"\r\n                        value={name}\r\n                        onChange={this.changeInput}\r\n                      />\r\n                      <button className=\"btn btn-dark\">\r\n                        <i className=\"fas fa-save\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  deleteBrand = (id, item) => {\r\n    window.Swal.fire({\r\n      title: \"Eliminar\",\r\n      text: \"¿Esta seguro de eliminar el producto \" + item.toUpperCase() + \"?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#d33\",\r\n      confirmButtonText: \"Eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          const { host, token } = this.state;\r\n\r\n          //Inicio de proceso de eliminción por API\r\n          console.log(\"Solicitud de eliminación de marca por API\");\r\n          return fetch(\"http://\" + host + \"/api/brands/\" + id, {\r\n            method: \"DELETE\",\r\n            signal: this.signal,\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        console.log(\"Marca eliminada\");\r\n        window.Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Marca eliminada con exito\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then((res) => {\r\n          //Eliminar el item del array\r\n          let { brands } = this.state,\r\n            indexItem = 0;\r\n\r\n          if (brands.length) {\r\n            brands.filter((item, i) => {\r\n              if (item.id === id) indexItem = i;\r\n              return false;\r\n            });\r\n            brands.splice(indexItem, 1);\r\n            this.setState({\r\n              brands,\r\n            });\r\n          }\r\n        });\r\n      } else if (result && !result.dismiss) {\r\n        console.log(\"Orus res: \", result);\r\n        window.Swal.fire(\r\n          \"Error\",\r\n          \"Se perdio la conexion con el servidor\",\r\n          \"error\"\r\n        );\r\n      }\r\n    });\r\n  };\r\n  saveBrand = (e) => {\r\n    e.preventDefault();\r\n    const { name, supplier } = this.state;\r\n\r\n    if (name.length < 3) {\r\n      window.Swal.fire(\r\n        \"Error\",\r\n        \"El nombre de la marca debe de tener por lo menos 3 caracteres\",\r\n        \"error\"\r\n      );\r\n      return false;\r\n    } else if (!supplier) {\r\n      window.Swal.fire(\r\n        \"Error\",\r\n        \"Debe de elegir a un proveedor primero\",\r\n        \"error\"\r\n      );\r\n      return false;\r\n    }\r\n\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: \"¿Esta seguro de crear una nueva marca?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#007bff\",\r\n      confirmButtonText: \"Crear\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          const { name, supplier, token, host } = this.state;\r\n          let body = {\r\n            name,\r\n            contact_id: supplier,\r\n          };\r\n\r\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\r\n          console.log(\"Enviando datos de la marca a API\");\r\n          return fetch(\"http://\" + host + \"/api/brands\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n\r\n        if (data.data) {\r\n          console.log(\"Marca almacenada\");\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Marca almacenada con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          }).then((res) => {\r\n            //Actualizando con la nueva marca\r\n            let { brands } = this.state;\r\n\r\n            brands.push(data.data);\r\n            this.setState({\r\n              brands,\r\n              name: \"\",\r\n            });\r\n          });\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar la marca\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  changeInput = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  getBrands = () => {\r\n    //Constantes\r\n    const { supplier, host, token } = this.state;\r\n\r\n    console.log(\"solicitando marcas al API\");\r\n    fetch(\"http://\" + host + \"/api/brands?supplier=\" + supplier, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then(async (response) => {\r\n        let back = {};\r\n        if (response.status !== 204) back = await response.json();\r\n        if (!response.ok) {\r\n          throw new Error(back.message);\r\n        }\r\n        return back;\r\n      })\r\n      .then((data) => {\r\n        if (data.data !== null) {\r\n          console.log(\"descargando marcas\");\r\n          this.setState({\r\n            brands: data.data,\r\n          });\r\n        } else {\r\n          console.error(\"Orus: \", data.message);\r\n          window.Swal.fire(\"Error\", \"Error al descargar las marcas\", \"error\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Orus:\", error);\r\n        window.Swal.fire(\r\n          \"Fallo de conexion\",\r\n          \"Verifique la conexion al servidor\",\r\n          \"error\"\r\n        );\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Filter extends Component {\r\n  render() {\r\n    const { search, type, business } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"btn-group\">\r\n          <a\r\n            href=\"#Filters\"\r\n            className=\"btn btn-tool text-dark\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#filters\"\r\n          >\r\n            <i className=\"fas fa-filter\"></i>\r\n          </a>\r\n        </div>\r\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Busquedas</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n\r\n              <form className=\"modal-body\">\r\n                <div className=\"input-group mb-3\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por: nombre, RFC o email\"\r\n                    value={search}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Tipo de contacto</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-address-book\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"type\"\r\n                    value={type}\r\n                    onChange={this.changeFilters}\r\n                  >\r\n                    <option value=\"\">Todos</option>\r\n                    <option value=\"0\">Clientes</option>\r\n                    <option value=\"1\">Proveedores</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>¿Es una empresa?</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-building\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"business\"\r\n                    value={business}\r\n                    onChange={this.changeFilters}\r\n                  >\r\n                    <option value=\"\">Todos</option>\r\n                    <option value=\"1\">Si</option>\r\n                    <option value=\"0\">No</option>\r\n                  </select>\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"modal-footer\">\r\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-window-close mr-2\"></i>\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={\r\n                      search || type || business\r\n                        ? \"btn btn-outline-dark\"\r\n                        : \"btn btn-outline-dark disabled\"\r\n                    }\r\n                    onClick={this.onClickClean}\r\n                  >\r\n                    <i className=\"fas fa-eraser mr-2\"></i>\r\n                    Limpiar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    onClick={this.setFilters}\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-search mr-2\"></i>\r\n                    Buscar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  onKeyPressSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      this.setFilters();\r\n    }\r\n  };\r\n  onClickClean = () => {\r\n    this.props.changeFilters(\"search\", \"\");\r\n    this.props.changeFilters(\"type\", \"\");\r\n    this.props.changeFilters(\"business\", \"\");\r\n    this.setFilters();\r\n  };\r\n  setFilters = () => {\r\n    this.props.handleChangePage(1);\r\n    window.$(\"#filters\").modal(\"hide\");\r\n  };\r\n  changeFilters = (e) => {\r\n    const { name, value } = e.target;\r\n    this.props.changeFilters(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport Header from \"../Layouts/headerTable\";\r\nimport Filter from \"./index_filter\";\r\nimport Pagination from \"../Layouts/pagination\";\r\nimport Actions from \"../Layouts/actionsTable\";\r\n\r\nexport default class Contacts extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let sdd = JSON.parse(localStorage.getItem(\"OrusContacts\"));\r\n    this.state = {\r\n      contacts: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      load: true,\r\n      page: sdd ? sdd.page : 1,\r\n      orderby: sdd && sdd.orderby ? sdd.orderby : \"created_at\",\r\n      order: sdd && sdd.order ? sdd.order : \"desc\",\r\n      search: sdd && sdd.search ? sdd.search : \"\",\r\n      type: sdd && sdd.type ? sdd.type : \"\",\r\n      business: sdd && sdd.business ? sdd.business : \"\",\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getContacts();\r\n    localStorage.setItem(\r\n      \"OrusContacts\",\r\n      JSON.stringify({\r\n        page: this.state.page,\r\n        orderby: this.state.orderby,\r\n        order: this.state.order,\r\n        search: this.state.search,\r\n        type: this.state.type,\r\n        business: this.state.business,\r\n      })\r\n    );\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.load === false && this.state.load === true) {\r\n      console.log(\"Recargando contactos\");\r\n      this.getContacts();\r\n      localStorage.setItem(\r\n        \"OrusContacts\",\r\n        JSON.stringify({\r\n          page: this.state.page,\r\n          orderby: this.state.orderby,\r\n          order: this.state.order,\r\n          search: this.state.search,\r\n          type: this.state.type,\r\n          business: this.state.business,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { contacts, load } = this.state,\r\n      dataHeaders = [\r\n        { name: \"Nombre\", type: \"name\", filter: true },\r\n        { name: \"RFC\", type: \"name\", filter: true },\r\n        { name: \"E-mail\", type: \"email\", filter: true },\r\n        { name: \"Tipo\", type: \"type\", filter: true },\r\n        { name: \"Telefono\" },\r\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\r\n        { name: \"Registrado\", type: \"created_at\", filter: true },\r\n      ];\r\n\r\n    return (\r\n      <div className=\"card card-danger card-outline\">\r\n        <div className=\"card-header\">\r\n          <h2 className=\"card-title text-danger\">\r\n            <i className=\"fas fa-address-book mr-1\"></i>\r\n            Lista de contactos\r\n          </h2>\r\n          <div className=\"card-tools\">\r\n            <Filter\r\n              search={this.state.search}\r\n              type={this.state.type}\r\n              business={this.state.business}\r\n              changeFilters={this.onchangeSearch}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n            <Pagination\r\n              meta={contacts.meta}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-bordered table-hover table-nowrap\">\r\n            <Header\r\n              orderby={this.state.orderby}\r\n              order={this.state.order}\r\n              data={dataHeaders}\r\n              actions={true}\r\n              handleOrder={this.handleOrder}\r\n            />\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"10\" className=\"text-center\">\r\n                    <div className=\"spinner-border text-danger\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(contacts.data).length ? (\r\n                contacts.data.map((contact) => {\r\n                  return (\r\n                    <tr key={contact.id}>\r\n                      <td>\r\n                        <Link to={\"/contactos/registro/\" + contact.id}>\r\n                          <span className=\"badge badge-danger text-capitalize p-1\">\r\n                            {contact.nombre}\r\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\r\n                          </span>\r\n                        </Link>\r\n                      </td>\r\n                      <td className=\"text-uppercase\">\r\n                        {contact.rfc ? contact.rfc : \"--\"}\r\n                      </td>\r\n                      <td className=\"text-lowercase\">\r\n                        {contact.email ? contact.email : \"--\"}\r\n                      </td>\r\n                      <td className=\"text-uppercase\">\r\n                        {contact.tipo ? (\r\n                          <span className=\"text-purple\">Proveedor</span>\r\n                        ) : (\r\n                          <span className=\"text-green\">Cliente</span>\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        {contact.telefonos && contact.telefonos.t_movil\r\n                          ? contact.telefonos.t_movil\r\n                          : \"--\"}\r\n                      </td>\r\n                      <td>{moment(contact.updated_at).fromNow()}</td>\r\n                      <td>{moment(contact.created_at).format(\"ll\")}</td>\r\n                      <Actions\r\n                        id={contact.id}\r\n                        item={contact.nombre}\r\n                        delete={contact.enUso ? null : this.handleDelete}\r\n                        edit={\"/contactos/registro/\"}\r\n                      />\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"10\" className=\"text-center\">\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <Link\r\n            to=\"/contactos/registro\"\r\n            className=\"btn btn-outline-danger\"\r\n            onClick={this.changePage}\r\n            id=\"/contactos/registro\"\r\n          >\r\n            <i className=\"fas fa-plus\" id=\"/contactos/registro\"></i>\r\n            &nbsp; Nuevo contacto\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onchangeSearch = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleOrder = (item) => {\r\n    this.setState({\r\n      orderby: item,\r\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\r\n      load: true,\r\n    });\r\n  };\r\n  handleChangePage = (id) => {\r\n    this.setState({\r\n      page: id,\r\n      load: true,\r\n    });\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e.target.id);\r\n  };\r\n  handleDelete = (id, item) => {\r\n    //Confirmación de eliminacion\r\n    window.Swal.fire({\r\n      title: \"Eliminar\",\r\n      text: \"¿Esta seguro de eliminar el contacto \" + item.toUpperCase() + \"?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#d33\",\r\n      confirmButtonText: \"Eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          let { host, token } = this.state;\r\n\r\n          //Inicio de proceso de eliminción por API\r\n          console.log(\"Solicitud de eliminación por API\");\r\n          return fetch(\"http://\" + host + \"/api/contacts/\" + id, {\r\n            method: \"DELETE\",\r\n            signal: this.signal,\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch: \", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        window.Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Contacto eliminado con exito\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then((res) => this.getContacts());\r\n      } else if (result && !result.dismiss) {\r\n        console.log(\"Orus res: \", result);\r\n        window.Swal.fire(\r\n          \"Error\",\r\n          \"Se perdio la conexion con el servidor\",\r\n          \"error\"\r\n        );\r\n      }\r\n    });\r\n  };\r\n  getContacts() {\r\n    //Variables\r\n    let {\r\n        host,\r\n        token,\r\n        order,\r\n        orderby,\r\n        search,\r\n        page,\r\n        type,\r\n        business,\r\n        load,\r\n      } = this.state,\r\n      url = \"http://\" + host + \"/api/contacts\",\r\n      ordenar = `&orderby=${orderby}&order=${order}`,\r\n      buscar = search ? `&search=${search}` : \"\",\r\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\",\r\n      tipo = type === \"\" ? \"\" : \"&type=\" + type,\r\n      negocio = business === \"\" ? \"\" : \"&business=\" + business;\r\n\r\n    //Mandamos señal de carga si no lo he hecho\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n    //Realiza la peticion de los contactos\r\n    console.log(\"Descargando contactos del API\");\r\n    fetch(url + pagina + ordenar + buscar + tipo + negocio, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.statusText);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.data) {\r\n          console.log(\"Almacenando contactos\");\r\n          this.setState({\r\n            contacts: data,\r\n            load: false,\r\n          });\r\n        } else {\r\n          console.error(\"Orus: \", data.message);\r\n          window.Swal.fire(\"Error\", \"Al descargar contactos\", \"error\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        window.Swal.fire(\r\n          \"Fallo de conexion\",\r\n          \"Verifique la conexion al servidor\",\r\n          \"error\"\r\n        );\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Mapa extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      load: true,\r\n    };\r\n    this.markers = [];\r\n    this.map = \"\";\r\n  }\r\n  componentDidMount() {\r\n    const googlePlaceAPILoad1 = setInterval(() => {\r\n      if (window.google) {\r\n        this.google = window.google;\r\n        clearInterval(googlePlaceAPILoad1);\r\n        console.log(\"Cargando mapa\");\r\n        const mapCenter = new this.google.maps.LatLng(19.2487072, -103.747381);\r\n        this.map = new this.google.maps.Map(\r\n          document.getElementById(\"gmapContainer\"),\r\n          {\r\n            center: mapCenter,\r\n            zoom: 16,\r\n          }\r\n        );\r\n        if (this.props.calle.length > 6) {\r\n          console.log(\"Cargando Marker\");\r\n          this.eventLoadMap();\r\n        }\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      }\r\n    }, 100);\r\n  }\r\n  componentDidUpdate() {\r\n    if (this.props.calle.length > 6) {\r\n      console.log(\"Cargando Marker\");\r\n      this.eventLoadMap();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"card card-danger card-outline\">\r\n        <div className=\"card-header\">\r\n          <i className=\"fas fa-map-marked mr-1\"></i>\r\n          Mapa\r\n        </div>\r\n        <div\r\n          className=\"card-body\"\r\n          id=\"gmapContainer\"\r\n          style={{ height: 400 }}\r\n        ></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  eventLoadMap = () => {\r\n    let input =\r\n      this.props.calle +\r\n      \",\" +\r\n      this.props.colonia +\r\n      \",\" +\r\n      this.props.municipio +\r\n      \",\" +\r\n      this.props.estado +\r\n      \",\" +\r\n      this.props.cp;\r\n    const request = {\r\n      query: input,\r\n      fields: [\"formatted_address\", \"geometry\"],\r\n    };\r\n    this.service = new this.google.maps.places.PlacesService(this.map);\r\n    this.service.findPlaceFromQuery(request, (results, status) => {\r\n      if (status === \"OK\") {\r\n        if (this.markers.length) {\r\n          this.markers[0].setMap(null);\r\n          this.markers = [];\r\n        }\r\n        results.map((place) => {\r\n          this.marker = new this.google.maps.Marker({\r\n            position: place.geometry.location,\r\n            title: place.formatted_address,\r\n            map: this.map,\r\n          });\r\n          this.marker.addListener(\"click\", () => {\r\n            let address = this.marker.title.split(\",\"),\r\n              add = address[2].split(/(\\d{5})/g);\r\n\r\n            if (!add.length) {\r\n              add = address[3].split(/(\\d{5})/g);\r\n            }\r\n            this.props.changeAddress({\r\n              calle: address[0].trim(),\r\n              colonia: address[1].trim(),\r\n              municipio: add[2] ? add[2].trim() : this.props.municipio,\r\n              estado: address[3].trim(),\r\n              cp: add[1] ? add[1].trim() : this.props.cp,\r\n            });\r\n          });\r\n          this.markers.push(this.marker);\r\n          this.markers[0].setMap(this.map);\r\n          this.map.setCenter(this.markers[0].position);\r\n          return null;\r\n        });\r\n      }\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class GraduacionExam extends Component {\r\n  render() {\r\n    const { readOnly } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <table className=\"table table-bordered table-hover\">\r\n          <thead>\r\n            <tr>\r\n              <th>#</th>\r\n              <th>Esfera</th>\r\n              <th>Cilindro</th>\r\n              <th>Eje</th>\r\n              <th>Adici&oacute;n</th>\r\n              <th>D/P</th>\r\n              <th>Altura</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <label>D</label>\r\n                <i className=\"fa fa-eye\"></i>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"esferaod\"\r\n                  min=\"-20\"\r\n                  max=\"20\"\r\n                  step=\".25\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  value={\r\n                    this.props.esferaod ? this.props.esferaod.toFixed(2) : \"\"\r\n                  }\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"cilindrod\"\r\n                  min=\"-20\"\r\n                  max=\"0\"\r\n                  step=\".25\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  value={\r\n                    this.props.cilindrod ? this.props.cilindrod.toFixed(2) : \"\"\r\n                  }\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"ejeod\"\r\n                  min=\"0\"\r\n                  max=\"180\"\r\n                  step=\"1\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  placeholder=\"°\"\r\n                  value={this.props.ejeod ? parseInt(this.props.ejeod) : \"\"}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"adiciond\"\r\n                  min=\"0\"\r\n                  max=\"3\"\r\n                  step=\".25\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  value={\r\n                    this.props.adiciond ? this.props.adiciond.toFixed(2) : \"\"\r\n                  }\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"dpod\"\r\n                  min=\"40\"\r\n                  max=\"80\"\r\n                  step=\".1\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  value={this.props.dpod ? this.props.dpod.toFixed(1) : \"\"}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"alturaod\"\r\n                  min=\"0\"\r\n                  max=\"35\"\r\n                  step=\".1\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  value={\r\n                    this.props.alturaod ? this.props.alturaod.toFixed(1) : \"\"\r\n                  }\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <label>I</label>\r\n                <i className=\"fa fa-eye\"></i>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"esferaoi\"\r\n                  min=\"-20\"\r\n                  max=\"20\"\r\n                  step=\".25\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  value={\r\n                    this.props.esferaoi ? this.props.esferaoi.toFixed(2) : \"\"\r\n                  }\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"cilindroi\"\r\n                  min=\"-20\"\r\n                  max=\"0\"\r\n                  step=\".25\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  value={\r\n                    this.props.cilindroi ? this.props.cilindroi.toFixed(2) : \"\"\r\n                  }\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"ejeoi\"\r\n                  min=\"0\"\r\n                  max=\"180\"\r\n                  step=\"1\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  placeholder=\"°\"\r\n                  value={this.props.ejeoi ? parseInt(this.props.ejeoi) : \"\"}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"adicioni\"\r\n                  min=\"0\"\r\n                  max=\"3\"\r\n                  step=\".25\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  value={\r\n                    this.props.adicioni ? this.props.adicioni.toFixed(2) : \"\"\r\n                  }\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"dpoi\"\r\n                  min=\"40\"\r\n                  max=\"80\"\r\n                  step=\".1\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  value={this.props.dpoi ? this.props.dpoi.toFixed(1) : \"\"}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"alturaoi\"\r\n                  min=\"0\"\r\n                  max=\"35\"\r\n                  step=\".1\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  value={\r\n                    this.props.alturaoi ? this.props.alturaoi.toFixed(1) : \"\"\r\n                  }\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <ul className=\"list-group d-print-none mt-4\">\r\n          <li className=\"list-group-item\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                Lente de contacto\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"lcmarca\"\r\n                  maxLength=\"70\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  value={this.props.lcmarca}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"lcgod\"\r\n                  maxLength=\"30\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  value={this.props.lcgod ? this.props.lcgod : \"\"}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"lcgoi\"\r\n                  maxLength=\"30\"\r\n                  className={\r\n                    readOnly ? \"form-control disabled\" : \"form-control\"\r\n                  }\r\n                  disabled={readOnly ? true : false}\r\n                  value={this.props.lcgoi ? this.props.lcgoi : \"\"}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name, type, value, checked } = e.target;\r\n    let val = value;\r\n\r\n    if (type === \"checkbox\") val = checked;\r\n    if (type === \"text\") val = value.toLowerCase();\r\n    if (type === \"number\") {\r\n      if (name === \"ejeod\" || name === \"ejeoi\") {\r\n        val = parseInt(value);\r\n      } else {\r\n        val = parseFloat(value);\r\n        val = val.toFixed(2);\r\n        val = parseFloat(val);\r\n      }\r\n    }\r\n    this.props.onChangeInput(name, val);\r\n  };\r\n}\r\n","import React, { Component, Fragment } from \"react\";\r\nimport Codestring from \"../Layouts/codeLentString\";\r\n\r\nexport default class Recomendaciones extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      category_list: [],\r\n      meta: {},\r\n      category_list_2: [],\r\n      category_list_3: [],\r\n      category_id: 0,\r\n      category_id_2: 0,\r\n      category_id_3: 0,\r\n      category: [],\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getCategories();\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (props.category_id !== this.props.category_id) {\r\n      console.log(\"Recargando recomendacion\");\r\n      this.getCategories();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n        category_id,\r\n        title,\r\n        esferaod,\r\n        esferaoi,\r\n        cilindrod,\r\n        cilindroi,\r\n      } = this.props,\r\n      { category } = this.state;\r\n    let code = category_id ? this.handleCodeName(category) : \"\",\r\n      gradod = \"+000000\",\r\n      gradoi = \"+000000\";\r\n\r\n    if (cilindrod && esferaod) {\r\n      gradod = esferaod > 0 ? \"+\" : \"\";\r\n      gradod +=\r\n        esferaod.toFixed(2).toString().replace(\".\", \"\") +\r\n        cilindrod.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\r\n    }\r\n    if (cilindroi && esferaoi) {\r\n      gradoi = esferaoi > 0 ? \"+\" : \"\";\r\n      gradoi +=\r\n        esferaoi.toFixed(2).toString().replace(\".\", \"\") +\r\n        cilindroi.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\r\n    }\r\n    //console.log(\"Graduacion\", title, esferaod, esferaod >= -3, esferaod <= 3);\r\n\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          <h3 className=\"card-title text-success m-2\">{title}</h3>\r\n          {!category_id ? (\r\n            this.state.category_list.length ? (\r\n              <Fragment>\r\n                {this.state.category_list.length ? (\r\n                  <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                      <span className=\"input-group-text\">Tipo</span>\r\n                    </div>\r\n                    <select\r\n                      name=\"category_id\"\r\n                      className=\"custom-select\"\r\n                      value={this.state.category_id}\r\n                      onChange={this.handleCategoryChange}\r\n                    >\r\n                      <option value=\"0\">Seleccione el tipo</option>\r\n                      {this.state.category_list.map((cat) => {\r\n                        return (\r\n                          <option value={cat.id} key={cat.id}>\r\n                            {cat.categoria}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </div>\r\n                ) : null}\r\n\r\n                {this.state.category_id && this.state.category_list_2.length ? (\r\n                  <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                      <span className=\"input-group-text\">Material</span>\r\n                    </div>\r\n                    <select\r\n                      name=\"category_id_2\"\r\n                      className=\"custom-select\"\r\n                      value={this.state.category_id_2}\r\n                      onChange={this.handleCategoryChange}\r\n                    >\r\n                      <option value=\"0\">Seleccione el material</option>\r\n                      {this.state.category_list_2.map((cat) => {\r\n                        return (\r\n                          <option value={cat.id} key={cat.id}>\r\n                            {cat.categoria}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </div>\r\n                ) : null}\r\n\r\n                {this.state.category_id &&\r\n                this.state.category_id_2 &&\r\n                this.state.category_list_3.length ? (\r\n                  <div className=\"input-group mb-3\">\r\n                    <div className=\"input-group-prepend\">\r\n                      <span className=\"input-group-text\">Tratamiento</span>\r\n                    </div>\r\n                    <select\r\n                      name=\"category_id_3\"\r\n                      className=\"custom-select\"\r\n                      value={this.state.category_id_3}\r\n                      onChange={(e) => {\r\n                        this.handleCategoryChange(e, gradod, gradoi);\r\n                      }}\r\n                    >\r\n                      <option value=\"0\">Seleccione el tratamiento</option>\r\n                      {this.state.category_list_3.map((cat) => {\r\n                        return (\r\n                          <option value={cat.id} key={cat.id}>\r\n                            {cat.categoria}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </div>\r\n                ) : null}\r\n              </Fragment>\r\n            ) : (\r\n              <div className=\"spinner-border text-primary\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n              </div>\r\n            )\r\n          ) : (\r\n            <Fragment>\r\n              {code + gradod === code + gradoi ? (\r\n                <p className=\"card-text\">\r\n                  <label>Lente</label>: {code + gradod}\r\n                </p>\r\n              ) : (\r\n                <div className=\"row card-text\">\r\n                  <div className=\"col\">\r\n                    <label>Lente Derecho</label>\r\n                    <br /> {code + gradod}\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <label>Lente Izquierdo</label>\r\n                    <br /> {code + gradoi}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {this.props.update ? (\r\n                <p className=\"card-text text-right\">\r\n                  <button\r\n                    className=\"btn btn-outline-info btn-sm card-link mt-2\"\r\n                    onClick={this.handleClickCategory}\r\n                  >\r\n                    Cambiar\r\n                  </button>\r\n                </p>\r\n              ) : null}\r\n            </Fragment>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleCodeName = (category) => {\r\n    let code = \"\";\r\n    if (category) {\r\n      if (category.depende_de) {\r\n        if (category.depende_de.depende_de) {\r\n          code = Codestring(category.depende_de.depende_de.categoria);\r\n          code += Codestring(category.depende_de.categoria);\r\n          code += Codestring(category.categoria);\r\n        } else {\r\n          code = Codestring(category.depende_de.categoria);\r\n          code += Codestring(category.categoria);\r\n        }\r\n      } else {\r\n        code = Codestring(category.categoria);\r\n      }\r\n    } else code = \"ERRORN\";\r\n    return code;\r\n  };\r\n  handleClickCategory = (e) => {\r\n    e.preventDefault();\r\n    const { onChangeInput, nameCategory } = this.props;\r\n    this.setState({\r\n      category_id: 0,\r\n      category_id_2: 0,\r\n      category_id_3: 0,\r\n      category_list_2: [],\r\n      category_list_3: [],\r\n    });\r\n    onChangeInput({\r\n      [nameCategory]: 0,\r\n    });\r\n  };\r\n  handleCategoryChange = (e, gradod, gradoi) => {\r\n    const { name, value } = e.target,\r\n      { onChangeInput, nameCategory } = this.props;\r\n\r\n    if (name === \"category_id\") {\r\n      if (value) {\r\n        this.state.category_list.map((cat) => {\r\n          if (cat.id === parseInt(value)) {\r\n            this.setState({\r\n              category_id_3: 0,\r\n              category_list_2: cat.hijos,\r\n              category_list_3: [],\r\n            });\r\n          }\r\n          return null;\r\n        });\r\n      }\r\n    }\r\n    if (name === \"category_id_2\") {\r\n      if (value) {\r\n        this.state.category_list_2.map((cat) => {\r\n          if (cat.id === value * 1) {\r\n            this.setState({\r\n              category_list_3: cat.hijos,\r\n            });\r\n          }\r\n          return null;\r\n        });\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      [name]: parseInt(value),\r\n    });\r\n\r\n    if (name === \"category_id_3\") {\r\n      onChangeInput({\r\n        [nameCategory]: parseInt(value),\r\n      });\r\n    }\r\n  };\r\n  getCategories = () => {\r\n    //Variables\r\n    const { host, token } = this.props.data,\r\n      { category_id } = this.props;\r\n\r\n    //console.log(\"Tipo de descarga\", nameCategory, category_id);\r\n    if (category_id) {\r\n      console.log(\"Descargando categoria para recomendacion\");\r\n      fetch(\"http://\" + host + \"/api/categories/\" + category_id, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(response.statusText);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((cat) => {\r\n          if (cat.data) {\r\n            console.log(\"Recomendacion descargada\");\r\n            this.setState({\r\n              category: cat.data,\r\n              category_id,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(\"Orus: \" + e);\r\n          window.Swal.fire(\r\n            \"Fallo de conexion\",\r\n            \"Verifique la conexion al servidor\",\r\n            \"error\"\r\n          );\r\n        });\r\n    } else {\r\n      console.log(\"Descargando lista de recomendaciones raiz\");\r\n      fetch(\"http://\" + host + \"/api/categories/1?categoryid=raiz\", {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(response.statusText);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((cat) => {\r\n          if (cat.data) {\r\n            console.log(\"Lista de recomendaciones descargadas\");\r\n            this.setState({\r\n              category_list: cat.data.hijos,\r\n              meta: cat.meta,\r\n              category_id: 0,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(\"Orus: \" + e);\r\n          window.Swal.fire(\r\n            \"Fallo de conexion\",\r\n            \"Verifique la conexion al servidor\",\r\n            \"error\"\r\n          );\r\n        });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Graduacion from \"../Exam/graduacionExam\";\r\nimport Recomendaciones from \"../Exam/recomendaciones\";\r\nimport moment from \"moment\";\r\n\r\nexport default class ListsExams extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    this.state = {\r\n      id: 0,\r\n      data: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      exam: {},\r\n      examEdit: false,\r\n      load: true,\r\n      page: 0,\r\n      host: ls.host,\r\n      token: ls.token,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.exam && !this.props.exam.id) {\r\n      this.getExams();\r\n    } else {\r\n      this.setState({\r\n        id: this.props.exam.id,\r\n        exam: this.props.exam,\r\n        load: false,\r\n      });\r\n    }\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (\r\n      this.props.exam &&\r\n      !this.props.exam.id &&\r\n      this.props.exam.id !== props.exam.id\r\n    ) {\r\n      this.getExams();\r\n    }\r\n    if (this.props.exam && this.props.exam.id !== props.exam.id) {\r\n      this.setState({\r\n        id: this.props.exam.id,\r\n        exam: this.props.exam,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data, load, id, exam, examEdit } = this.state,\r\n      { select, datos } = this.props;\r\n\r\n    if (select) {\r\n      return (\r\n        <React.Fragment>\r\n          {id ? (\r\n            <React.Fragment>\r\n              <div className=\"row d-print-none mb-4\">\r\n                <div className=\"col-2\">\r\n                  <div className=\"border border-info rounded p-2 d-flex justify-content-between align-items-center\">\r\n                    <span className=\"badge badge-pill badge-info mx-2\">\r\n                      Folio\r\n                    </span>\r\n                    <strong>{id}</strong>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <div className=\"border border-info rounded p-2 d-flex justify-content-between align-items-center\">\r\n                    <span className=\"badge badge-pill badge-info mx-2\">\r\n                      Estado\r\n                    </span>\r\n                    <strong>\r\n                      {exam.estado ? exam.estado : \"En proceso...\"}\r\n                    </strong>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <div className=\"border border-info rounded p-2 d-flex justify-content-between align-items-center\">\r\n                    <span className=\"badge badge-pill badge-info mx-2\">\r\n                      Fecha\r\n                    </span>\r\n                    <strong>\r\n                      {moment.utc(exam.created_at).local().format(\"LL\")}\r\n                    </strong>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-2 d-print-none text-right\">\r\n                  <button\r\n                    className={\r\n                      this.props.status\r\n                        ? \"btn btn-info disabled\"\r\n                        : \"btn btn-info\"\r\n                    }\r\n                    disabled={this.props.status ? true : false}\r\n                    onClick={this.handleClickDeleteExam}\r\n                  >\r\n                    Cambiar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <Graduacion\r\n                esferaod={exam.esferaod ? exam.esferaod : 0}\r\n                esferaoi={exam.esferaoi ? exam.esferaoi : 0}\r\n                cilindrod={exam.cilindrod ? exam.cilindrod : 0}\r\n                cilindroi={exam.cilindroi ? exam.cilindroi : 0}\r\n                ejeod={exam.ejeod ? exam.ejeod : 0}\r\n                ejeoi={exam.ejeoi ? exam.ejeoi : 0}\r\n                adiciond={exam.adiciond ? exam.adiciond : 0}\r\n                adicioni={exam.adicioni ? exam.adicioni : 0}\r\n                dpod={exam.dpod ? exam.dpod : 0}\r\n                dpoi={exam.dpoi ? exam.dpoi : 0}\r\n                alturaod={exam.alturaod ? exam.alturaod : 0}\r\n                alturaoi={exam.alturaoi ? exam.alturaoi : 0}\r\n                lcmarca={exam.lcmarca ? exam.lcmarca : 0}\r\n                lcgod={exam.lcgod ? exam.lcgod : 0}\r\n                lcgoi={exam.lcgoi ? exam.lcgoi : 0}\r\n                readOnly={!examEdit}\r\n                onChangeInput={this.handleDataExam}\r\n              />\r\n\r\n              <div className=\"row d-print-none\">\r\n                <div className=\"col text-right pt-2\">\r\n                  <button\r\n                    className={examEdit ? \"btn btn-dark\" : \"btn btn-info\"}\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      if (examEdit) {\r\n                        this.handleSaveExam(exam);\r\n                      }\r\n                      this.setState({\r\n                        examEdit: !examEdit,\r\n                      });\r\n                    }}\r\n                  >\r\n                    {examEdit ? (\r\n                      <React.Fragment>\r\n                        <i className=\"fas fa-save mr-2\"></i> Guardar\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <React.Fragment>\r\n                        <i className=\"fas fa-pencil-alt mr-2\"></i> Editar\r\n                      </React.Fragment>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {exam.category_id ? (\r\n                <div className=\"row\">\r\n                  <div className={exam.category_ii ? \"col\" : \"col-6\"}>\r\n                    <Recomendaciones\r\n                      category_id={exam.category_id}\r\n                      title=\"Recomendacion principal\"\r\n                      esferaod={exam.esferaod ? exam.esferaod : 0}\r\n                      esferaoi={exam.esferaoi ? exam.esferaoi : 0}\r\n                      cilindrod={exam.cilindrod ? exam.cilindrod : 0}\r\n                      cilindroi={exam.cilindroi ? exam.cilindroi : 0}\r\n                      data={datos}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n                  </div>\r\n                  {exam.category_ii ? (\r\n                    <div className=\"col\">\r\n                      <Recomendaciones\r\n                        category_id={exam.category_ii}\r\n                        title=\"Recomendacion adicional\"\r\n                        esferaod={exam.esferaod ? exam.esferaod : 0}\r\n                        esferaoi={exam.esferaoi ? exam.esferaoi : 0}\r\n                        cilindrod={exam.cilindrod ? exam.cilindrod : 0}\r\n                        cilindroi={exam.cilindroi ? exam.cilindroi : 0}\r\n                        data={datos}\r\n                        onChangeInput={this.handleChangeInput}\r\n                      />\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n              ) : null}\r\n            </React.Fragment>\r\n          ) : (\r\n            <table className=\"table table-hover table-nowrap\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Folio</th>\r\n                  <th>Fecha</th>\r\n                  <th>Edad</th>\r\n                  <th>Estado</th>\r\n                  <th>&nbsp;</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {load ? (\r\n                  <tr>\r\n                    <td colSpan=\"5\" className=\"text-center\">\r\n                      <div\r\n                        className=\"spinner-border text-primary\"\r\n                        role=\"status\"\r\n                      >\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ) : Object.keys(data.data).length ? (\r\n                  data.data.map((row) => {\r\n                    return (\r\n                      <tr\r\n                        key={row.id}\r\n                        className={\r\n                          moment\r\n                            .utc(new Date())\r\n                            .isSame(moment.utc(row.created_at), \"day\")\r\n                            ? \"table-success\"\r\n                            : \"\"\r\n                        }\r\n                      >\r\n                        <td>\r\n                          <span className=\"badge badge-info\">{row.id}</span>\r\n                        </td>\r\n                        <td>\r\n                          {moment.utc(row.created_at).local().format(\"L\")}\r\n                          <br />\r\n                          {moment(new Date()).isSame(row.created_at)}\r\n                        </td>\r\n                        <td>{row.edad}</td>\r\n                        <td>\r\n                          {row.estado ? (\r\n                            <span className=\"badge badge-secondary\">\r\n                              Terminado\r\n                            </span>\r\n                          ) : (\r\n                            <span className=\"badge badge-success\">Activo</span>\r\n                          )}\r\n                        </td>\r\n                        <td>\r\n                          <button\r\n                            className=\"btn btn-outline-dark btn-sm\"\r\n                            onClick={(e) => {\r\n                              e.preventDefault();\r\n                              this.handleClickSelect(row);\r\n                            }}\r\n                          >\r\n                            <i className=\"fas fa-check\"></i>\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <tr>\r\n                    <th colSpan=\"5\" className=\"text-center\">\r\n                      Aun no tiene examenes\r\n                      <button\r\n                        className=\"btn btn-outline-info btn-sm ml-4\"\r\n                        onClick={this.handleNewExam}\r\n                      >\r\n                        <i className=\"fas fa-plus\"></i>\r\n                      </button>\r\n                    </th>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </React.Fragment>\r\n      );\r\n    } else {\r\n      let examToday = false,\r\n        newExam = false;\r\n      return (\r\n        <div className=\"card card-info card-outline\">\r\n          <div className=\"card-header\">\r\n            <i className=\"fas fa-notes-medical mr-1\"></i>\r\n            Examenes realizados\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <table className=\"table table-hover table-nowrap\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Folio</th>\r\n                  <th>Fecha</th>\r\n                  <th>Edad</th>\r\n                  <th>Estado</th>\r\n                  <th className=\"text-center\">Acciones</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {load ? (\r\n                  <tr>\r\n                    <td colSpan=\"8\" className=\"text-center\">\r\n                      <div\r\n                        className=\"spinner-border text-primary\"\r\n                        role=\"status\"\r\n                      >\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ) : Object.keys(data.data).length ? (\r\n                  data.data.map((row) => {\r\n                    examToday = moment(new Date()).isSame(\r\n                      moment(row.created_at),\r\n                      \"day\"\r\n                    );\r\n                    newExam = newExam ? true : examToday;\r\n                    console.log(\"Hoy: \", examToday, newExam);\r\n                    return (\r\n                      <tr\r\n                        key={row.id}\r\n                        className={examToday ? \"table-success\" : \"\"}\r\n                      >\r\n                        <td>\r\n                          <span className=\"badge badge-info\">{row.id}</span>\r\n                        </td>\r\n                        <td>{moment(row.created_at).format(\"L\")}</td>\r\n                        <td>{row.edad}</td>\r\n                        <td>\r\n                          {row.estado ? (\r\n                            <span className=\"badge badge-secondary\">\r\n                              Terminado\r\n                            </span>\r\n                          ) : (\r\n                            <span className=\"badge badge-success\">Activo</span>\r\n                          )}\r\n                        </td>\r\n                        <td className=\"text-right\">\r\n                          <Link\r\n                            className=\"btn btn-outline-info btn-sm\"\r\n                            to={\"/consultorio/registro/\" + row.id}\r\n                            onClick={(e) => {\r\n                              this.changePage(\"/consultorio/registro/\");\r\n                            }}\r\n                            alt=\"Ver examen\"\r\n                          >\r\n                            <i className=\"fas fa-share\"></i> Ver examen\r\n                          </Link>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <tr>\r\n                    <th colSpan=\"5\" className=\"text-center\">\r\n                      Aun no tiene examenes\r\n                    </th>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"card-footer\">\r\n            {!newExam ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-info float-right\"\r\n                onClick={this.handleNewExam}\r\n              >\r\n                <i className=\"fas fa-plus\"></i>\r\n              </button>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  handleSaveExam = (data) => {\r\n    const { id } = data,\r\n      { paciente, edad } = this.props;\r\n    delete data.id;\r\n    data.contact_id = paciente;\r\n    data.edad = edad;\r\n\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: \"¿Esta seguro de actualizar el examen?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#007bff\",\r\n      confirmButtonText: \"Actualizar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          let { host, token } = this.state;\r\n\r\n          //Actualiza el examen según el ID\r\n          console.log(\"Enviando datos a API para almacenar\");\r\n          return fetch(\"http://\" + host + \"/api/exams/\" + id, {\r\n            method: \"PUT\",\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n\r\n        if (data.data) {\r\n          console.log(\"Examen almacenada\");\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Examen actualizado con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar el pedido\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  handleDataExam = (key, value) => {\r\n    let { exam } = this.state;\r\n    exam[key] = value;\r\n    this.setState({\r\n      exam,\r\n    });\r\n  };\r\n  handleChangeInput = (key, value) => {\r\n    this.props.ChangeInput(key, value);\r\n  };\r\n  handleClickDeleteExam = (e) => {\r\n    e.preventDefault();\r\n    if (window.confirm(\"¿Realmente desea cambiar de examen?\")) {\r\n      this.props.ChangeInput(\"exam_id\", 0);\r\n      this.props.ChangeInput(\"exam\", {});\r\n    }\r\n  };\r\n  handleClickSelect = (exam) => {\r\n    this.props.ChangeInput(\"exam_id\", exam.id);\r\n    this.props.ChangeInput(\"exam\", exam);\r\n  };\r\n  handleNewOrder = (id) => {\r\n    //Confirmación de almacenamiento\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: \"¿Esta seguro de crear una nueva orden?\",\r\n      icon: \"info\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Si\",\r\n      cancelButtonText: \"No\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          //Variables en localStorage\r\n          let { host, token } = this.state,\r\n            { paciente } = this.props,\r\n            body = {\r\n              contact_id: paciente,\r\n              exam_id: id,\r\n              items: JSON.stringify([]),\r\n            };\r\n          //Crear o modificar examen\r\n          console.log(\"Enviando datos del pedido a la API\");\r\n          return fetch(\"http://\" + host + \"/api/orders\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then((response) => {\r\n              if (!response.ok) {\r\n                throw new Error(response.statusText);\r\n              }\r\n              return response.json();\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch: \", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n        if (data.data) {\r\n          console.log(\"Orden almacenada\");\r\n          localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\r\n          window.Swal.fire(\r\n            \"Orden creada con exito\",\r\n            \"\",\r\n            \"success\"\r\n          ).then((res) => this.getExams());\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar la orden\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  handleNewExam = (e) => {\r\n    e.preventDefault();\r\n\r\n    //Confirmación de almacenamiento\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: \"¿Esta seguro de crear un nueva examen?\",\r\n      icon: \"info\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Si\",\r\n      cancelButtonText: \"No\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          //Variables en localStorage\r\n          let { host, token } = this.state,\r\n            { paciente, edad } = this.props,\r\n            body = {\r\n              contact_id: paciente,\r\n              edad,\r\n            };\r\n          //Crear examen\r\n          console.log(\"Enviando datos del examen a la API\");\r\n          return fetch(\"http://\" + host + \"/api/exams\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then((response) => {\r\n              if (!response.ok) {\r\n                throw new Error(response.statusText);\r\n              }\r\n              return response.json();\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch: \", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n        if (data.data) {\r\n          console.log(\"Examen almacenado\");\r\n          localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\r\n\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Examen creado con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          }).then((res) => {\r\n            this.getExams();\r\n            this.props.ChangeInput(\"exam_id\", data.data.id);\r\n            this.props.ChangeInput(\"exam\", data.data);\r\n          });\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar el examen\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n  getExams = () => {\r\n    const { load, host, token } = this.state;\r\n    const { paciente } = this.props;\r\n\r\n    if (paciente) {\r\n      //Variables en localStorage\r\n      const url = \"http://\" + host + \"/api/exams\",\r\n        page = this.state.page > 0 ? \"?page=\" + this.state.page : \"?page=1\",\r\n        orderby = \"&orderby=created_at&order=desc\",\r\n        client = \"&paciente=\" + paciente;\r\n\r\n      //Mandamos señal de carga si no lo he hecho\r\n      if (!load) {\r\n        this.setState({\r\n          load: true,\r\n        });\r\n      }\r\n\r\n      //Realiza la peticion de examenes a la API\r\n      console.log(\"Descargando examenes del contacto\");\r\n      fetch(url + page + client + orderby, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            this.setState({\r\n              load: false,\r\n            });\r\n            console.log(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          console.log(\"Examenes almacenados\");\r\n          this.setState({\r\n            data: !data.message ? data : [],\r\n            load: false,\r\n          });\r\n        });\r\n    } else {\r\n      this.setState({\r\n        load: false,\r\n      });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class NameInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bgColor: props.validName ? \"bg-blue\" : \"bg-red\",\r\n      validate: props.validName ? \"\" : \" border border-danger\",\r\n      text: \"Debe de tener por lo menos nombre y apellido\",\r\n      searchUser: false,\r\n      contacts: [],\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n    this.timeFetch = null;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidUpdate(props) {\r\n    if (props.validName !== this.props.validName) {\r\n      this.setState({\r\n        bgColor: this.props.validName ? \"bg-blue\" : \"bg-red\",\r\n        validate: this.props.validName ? \"\" : \" border border-danger\",\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { name, validName } = this.props;\r\n    let { bgColor, validate, text, searchUser, contacts } = this.state;\r\n    if (!name) name = \"\";\r\n    return (\r\n      <React.Fragment>\r\n        {name ? (\r\n          <div className=\"ml-2 mt-1\">\r\n            <small>\r\n              <label>Nombre completo</label>\r\n            </small>\r\n          </div>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className={\"input-group-text \" + bgColor}>\r\n              {searchUser ? (\r\n                <i className=\"fas fa-spinner\"></i>\r\n              ) : (\r\n                <i className=\"fas fa-id-card-alt\"></i>\r\n              )}\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className={\"form-control text-capitalize\" + validate}\r\n            placeholder=\"Nombre completo\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={this.handleChange}\r\n            autoFocus={!name.length ? true : false}\r\n            autoComplete=\"off\"\r\n            required=\"required\"\r\n            pattern=\"^[a-zA-Z.]{2,20}[\\s]{1}[a-zA-Z.]{2,20}.*\"\r\n            minLength=\"8\"\r\n            list=\"contactos_db\"\r\n          />\r\n        </div>\r\n        {contacts.length ? (\r\n          <datalist id=\"contactos_db\">\r\n            {contacts.map((contact) => {\r\n              return (\r\n                <option\r\n                  key={contact.id}\r\n                  value={this.eraseTilde(contact.nombre)}\r\n                />\r\n              );\r\n            })}\r\n          </datalist>\r\n        ) : null}\r\n        {!validName ? (\r\n          <div className=\"p-0\">\r\n            <small className=\"text-danger\">{text}</small>\r\n          </div>\r\n        ) : null}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  eraseTilde = (string) => {\r\n    string = string.replace(new RegExp(/[àáâãäå]/g), \"a\");\r\n    string = string.replace(new RegExp(/[èéêë]/g), \"e\");\r\n    string = string.replace(new RegExp(/[ìíîï]/g), \"i\");\r\n    string = string.replace(new RegExp(/[òóôõö]/g), \"o\");\r\n    string = string.replace(new RegExp(/[ùúûü]/g), \"u\");\r\n    return string;\r\n  };\r\n  handleChange = (e) => {\r\n    const { value } = e.target;\r\n    let regex = /^[a-z.]{2,20}[\\s]{1}[a-z.]{2,20}.*/,\r\n      x = {\r\n        target: {\r\n          name: \"validName\",\r\n          value: \"\",\r\n          target: \"\",\r\n        },\r\n      },\r\n      stringOk = this.eraseTilde(value.toLowerCase());\r\n    e.target.value = stringOk;\r\n\r\n    if (regex.test(value)) {\r\n      this.setState({\r\n        bgColor: \"bg-blue\",\r\n        validate: \"\",\r\n      });\r\n      x.target.value = true;\r\n      this.props.onChange(x);\r\n      this.validUser(e.target.value, x);\r\n    } else {\r\n      this.setState({\r\n        bgColor: \"bg-red\",\r\n        validate: \" border border-danger\",\r\n        text: \"No tiene el formato de nombre de persona\",\r\n        contacts: [],\r\n      });\r\n      x.target.value = false;\r\n      this.props.onChange(x);\r\n    }\r\n    this.props.onChange(e);\r\n  };\r\n  validUser = (search, x) => {\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      url = \"http://\" + varLocalStorage.host + \"/api/contacts\",\r\n      name = \"?name=\" + search;\r\n\r\n    if (this.timeFetch) clearTimeout(this.timeFetch);\r\n    this.timeFetch = setTimeout(() => {\r\n      //Realiza la peticion de contactos\r\n      this.setState({\r\n        searchUser: true,\r\n      });\r\n      fetch(url + name, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            data.data.map((contacto) => {\r\n              let nombre = this.eraseTilde(contacto.nombre);\r\n              if (nombre === search) {\r\n                console.log(\"Contacto registrado \");\r\n                this.setState({\r\n                  bgColor: \"bg-red\",\r\n                  validate: \" border border-danger\",\r\n                  text: \"El contacto ya esta registrado\",\r\n                  searchUser: false,\r\n                  contacts: [],\r\n                });\r\n                x.target.value = false;\r\n                this.props.onChange(x);\r\n              }\r\n              return false;\r\n            });\r\n            this.setState({\r\n              searchUser: false,\r\n              contacts: data.data,\r\n            });\r\n          } else {\r\n            console.error(\"Error en la descarga de contactos\", data.message);\r\n            this.setState({\r\n              searchUser: false,\r\n            });\r\n            x.target.value = false;\r\n            this.props.onChange(x);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          this.setState({\r\n            searchUser: false,\r\n          });\r\n          x.target.value = false;\r\n          this.props.onChange(x);\r\n        });\r\n    }, 1000);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class EmailInput extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bgColor: props.validEmail ? \"bg-blue\" : \"bg-red\",\r\n      validate: props.validEmail ? \"\" : \" border border-danger\",\r\n      text: \"No es un email correcto\",\r\n      emailContact: false,\r\n      contacts: [],\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n    this.timeFetch = null;\r\n    this.emailOriginal = props.email;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidUpdate(props) {\r\n    if (props.validEmail !== this.props.validEmail) {\r\n      this.setState({\r\n        bgColor: this.props.validEmail ? \"bg-blue\" : \"bg-red\",\r\n        validate: this.props.validEmail ? \"\" : \" border border-danger\",\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { email, validEmail } = this.props;\r\n    let { bgColor, validate, text, emailContact, contacts } = this.state;\r\n    if (!email) email = \"\";\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {email ? (\r\n          <div className=\"ml-2 mt-1\">\r\n            <small>\r\n              <label>Correo electronico</label>\r\n            </small>\r\n          </div>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mt-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className={\"input-group-text \" + bgColor}>\r\n              {emailContact ? (\r\n                <i className=\"fas fa-spinner\"></i>\r\n              ) : (\r\n                <i className=\"fas fa-at\"></i>\r\n              )}\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"email\"\r\n            className={\"form-control\" + validate}\r\n            placeholder=\"Correo electronico\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n            minLength=\"8\"\r\n            list=\"email_db\"\r\n          />\r\n          {contacts.length ? (\r\n            <datalist id=\"email_db\">\r\n              {contacts.map((contact) => {\r\n                return <option key={contact.id} value={contact.email} />;\r\n              })}\r\n            </datalist>\r\n          ) : null}\r\n        </div>\r\n        {!validEmail ? (\r\n          <div className=\"p-0\">\r\n            <small className=\"text-danger\">{text}</small>\r\n          </div>\r\n        ) : null}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  eraseTilde = (string) => {\r\n    string = string.replace(new RegExp(/[àáâãäå]/g), \"a\");\r\n    string = string.replace(new RegExp(/[èéêë]/g), \"e\");\r\n    string = string.replace(new RegExp(/[ìíîï]/g), \"i\");\r\n    string = string.replace(new RegExp(/[òóôõö]/g), \"o\");\r\n    string = string.replace(new RegExp(/[ùúûü]/g), \"u\");\r\n    return string;\r\n  };\r\n  handleChange = (e) => {\r\n    const { value } = e.target;\r\n    const { id } = this.props;\r\n    let regex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\r\n      x = {\r\n        target: {\r\n          name: \"validEmail\",\r\n          value: \"\",\r\n          target: \"\",\r\n        },\r\n      },\r\n      stringOk = this.eraseTilde(value.toLowerCase());\r\n    e.target.value = stringOk;\r\n\r\n    if (regex.test(value)) {\r\n      this.setState({\r\n        bgColor: \"bg-blue\",\r\n        validate: \"\",\r\n      });\r\n      x.target.value = true;\r\n      this.props.onChange(x);\r\n      if (!id) {\r\n        if (this.emailOriginal !== e.target.value)\r\n          this.validUser(e.target.value, x);\r\n      } else {\r\n        this.validUser(e.target.value, x);\r\n      }\r\n    } else {\r\n      this.setState({\r\n        bgColor: \"bg-red\",\r\n        validate: \" border border-danger\",\r\n        text: \"No es un email correcto\",\r\n        contacts: [],\r\n      });\r\n      x.target.value = false;\r\n      this.props.onChange(x);\r\n    }\r\n    this.props.onChange(e);\r\n  };\r\n  validUser = (search, x) => {\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      url = \"http://\" + varLocalStorage.host + \"/api/contacts\",\r\n      name = \"?email=\" + search;\r\n\r\n    if (this.timeFetch) clearTimeout(this.timeFetch);\r\n    this.timeFetch = setTimeout(() => {\r\n      //Realiza la peticion de contactos\r\n      this.setState({\r\n        emailContact: true,\r\n      });\r\n      fetch(url + name, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n            console.error(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            data.data.map((contacto) => {\r\n              if (contacto.email === search) {\r\n                this.setState({\r\n                  bgColor: \"bg-red\",\r\n                  validate: \" border border-danger\",\r\n                  text: \"El email ya esta registrado\",\r\n                  emailContact: false,\r\n                  contacts: [],\r\n                });\r\n                x.target.value = false;\r\n                this.props.onChange(x);\r\n              }\r\n              return false;\r\n            });\r\n            this.setState({\r\n              emailContact: false,\r\n              contacts: data.data,\r\n            });\r\n          } else {\r\n            console.error(\"Error en la descarga de contactos\", data.message);\r\n            this.setState({\r\n              emailContact: false,\r\n            });\r\n            x.target.value = false;\r\n            this.props.onChange(x);\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          this.setState({\r\n            emailContact: false,\r\n          });\r\n          x.target.value = false;\r\n          this.props.onChange(x);\r\n        });\r\n    }, 1000);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport NameInput from \"./nameInput\";\r\nimport EmailInput from \"./emailInput\";\r\n\r\nexport default class AddPersonal extends Component {\r\n  render() {\r\n    let {\r\n      type,\r\n      business,\r\n      name,\r\n      rfc,\r\n      email,\r\n      birthday,\r\n      validName,\r\n      validEmail,\r\n    } = this.props;\r\n    return (\r\n      <div className=\"col \">\r\n        <small>\r\n          <label>Tipo de cliente</label>\r\n        </small>\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-clipboard-check\"></i>\r\n            </span>\r\n          </div>\r\n          <select\r\n            className=\"custom-select\"\r\n            name=\"type\"\r\n            value={type}\r\n            onChange={this.catchInputs}\r\n          >\r\n            <option value=\"0\">Cliente</option>\r\n            <option value=\"1\">Proveedor</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <input\r\n              type=\"checkbox\"\r\n              name=\"business\"\r\n              className=\"mr-2\"\r\n              checked={business}\r\n              onChange={this.catchInputs}\r\n            />\r\n            <small>\r\n              <label>¿Es una empresa?</label>\r\n            </small>\r\n          </div>\r\n        </div>\r\n\r\n        <NameInput\r\n          name={name}\r\n          validName={validName}\r\n          onChange={this.catchInputs}\r\n        />\r\n\r\n        {rfc ? (\r\n          <div className=\"ml-2 mt-1\">\r\n            <small>\r\n              <label>RFC</label>\r\n            </small>\r\n          </div>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-file-invoice-dollar\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control text-uppercase\"\r\n            placeholder=\"RFC\"\r\n            name=\"rfc\"\r\n            value={rfc ? rfc : \"\"}\r\n            onChange={this.catchInputs}\r\n            required={false}\r\n            minLength=\"10\"\r\n          />\r\n        </div>\r\n\r\n        <EmailInput\r\n          email={email}\r\n          validEmail={validEmail}\r\n          onChange={this.catchInputs}\r\n        />\r\n\r\n        {!business && !type ? (\r\n          <React.Fragment>\r\n            {birthday ? (\r\n              <div className=\"ml-2 mt-1\">\r\n                <small>\r\n                  <label>Fecha de nacimiento</label>\r\n                </small>\r\n              </div>\r\n            ) : (\r\n              <br />\r\n            )}\r\n            <div className=\"input-group mb-1\">\r\n              <div className=\"input-group-prepend\">\r\n                <span className=\"input-group-text\">\r\n                  <i className=\"fas fa-calendar-check\"></i>\r\n                </span>\r\n              </div>\r\n              <input\r\n                type=\"date\"\r\n                className=\"form-control\"\r\n                placeholder=\"Fecha de nacimiento\"\r\n                name=\"birthday\"\r\n                value={birthday ? birthday : \"\"}\r\n                onChange={this.catchInputs}\r\n              />\r\n            </div>\r\n          </React.Fragment>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (x) => {\r\n    this.props.onChange(x);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class AddDomicilio extends Component {\r\n  render() {\r\n    let { calle, colonia, municipio, estado, cp } = this.props;\r\n    return (\r\n      <div className=\"col\">\r\n        {calle ? (\r\n          <small>\r\n            <label>Calle y numero</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-road\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control text-capitalize\"\r\n            placeholder=\"Calle y numero\"\r\n            name=\"calle\"\r\n            value={calle}\r\n            onChange={this.catchInputs}\r\n          />\r\n        </div>\r\n        {colonia ? (\r\n          <small>\r\n            <label>Colonia</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-location-arrow\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control text-capitalize\"\r\n            placeholder=\"Colonia\"\r\n            name=\"colonia\"\r\n            value={colonia}\r\n            onChange={this.catchInputs}\r\n          />\r\n        </div>\r\n        {municipio ? (\r\n          <small>\r\n            <label>Municipio</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-location-arrow\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control text-capitalize\"\r\n            placeholder=\"Municipio\"\r\n            name=\"municipio\"\r\n            value={municipio}\r\n            onChange={this.catchInputs}\r\n          />\r\n        </div>\r\n        {estado ? (\r\n          <small>\r\n            <label>Estado</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-map-marker\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control text-capitalize\"\r\n            placeholder=\"Estado\"\r\n            name=\"estado\"\r\n            value={estado}\r\n            onChange={this.catchInputs}\r\n          />\r\n        </div>\r\n        {cp ? (\r\n          <small>\r\n            <label>Codigo postal</label>\r\n          </small>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-map-marker\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Codigo Postal\"\r\n            name=\"cp\"\r\n            value={cp}\r\n            onChange={this.catchInputs}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (x) => {\r\n    this.props.onChange(x);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class AddTelefonos extends Component {\r\n  render() {\r\n    let { t_casa, t_oficina, t_movil } = this.props,\r\n      verify =\r\n        t_casa.length === 10 ||\r\n        t_movil.length === 10 ||\r\n        t_oficina.length === 10;\r\n\r\n    return (\r\n      <div className=\"col\">\r\n        {t_casa ? (\r\n          <div className=\"ml-1 mt-1\">\r\n            <small>\r\n              <label>Telefono de casa</label>\r\n            </small>\r\n          </div>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-phone\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"tel\"\r\n            className=\"form-control\"\r\n            placeholder=\"Telefono de casa\"\r\n            name=\"t_casa\"\r\n            value={t_casa}\r\n            onChange={this.catchInputs}\r\n            pattern=\"^[\\d]{10}$\"\r\n            maxLength=\"10\"\r\n          />\r\n        </div>\r\n        {t_oficina ? (\r\n          <div className=\"ml-1 mt-1\">\r\n            <small>\r\n              <label>Telefono de oficina</label>\r\n            </small>\r\n          </div>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-phone-alt\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"tel\"\r\n            className=\"form-control\"\r\n            placeholder=\"Telefono de oficina\"\r\n            name=\"t_oficina\"\r\n            value={t_oficina}\r\n            onChange={this.catchInputs}\r\n            pattern=\"^[\\d]{10}$\"\r\n            maxLength=\"10\"\r\n          />\r\n        </div>\r\n        {t_movil ? (\r\n          <div className=\"ml-1 mt-1\">\r\n            <small>\r\n              <label>Telefono celular</label>\r\n            </small>\r\n          </div>\r\n        ) : (\r\n          <br />\r\n        )}\r\n        <div className=\"input-group mb-1\">\r\n          <div className=\"input-group-prepend\">\r\n            <span className=\"input-group-text\">\r\n              <i className=\"fas fa-mobile-alt\"></i>\r\n            </span>\r\n          </div>\r\n          <input\r\n            type=\"tel\"\r\n            className=\"form-control\"\r\n            placeholder=\"Telefono celular\"\r\n            name=\"t_movil\"\r\n            value={t_movil}\r\n            onChange={this.catchInputs}\r\n            pattern=\"^[\\d]{10}$\"\r\n            required={\r\n              t_casa.length !== 10 && t_oficina.length !== 10 ? true : false\r\n            }\r\n            maxLength=\"10\"\r\n          />\r\n        </div>\r\n        {!verify ? (\r\n          <div className=\"mt-2 p-0 text-danger\">\r\n            <small>Por lo menos capture un telefono</small>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (x) => {\r\n    this.props.onChange(x);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport Mapa from \"./mapa\";\r\nimport ListExam from \"../Exam/listsExams\";\r\nimport Personal from \"./add_personal\";\r\nimport Domicilio from \"./add_domicilio\";\r\nimport Telefono from \"./add_telefonos\";\r\n\r\nexport default class ContactsAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Recogemos valores de registro previo\r\n    let contact = JSON.parse(localStorage.getItem(\"OrusContactInUse\"));\r\n    this.state = {\r\n      id: 0,\r\n      name: contact && contact.name ? contact.name : \"\",\r\n      validName: false,\r\n      rfc: \"\",\r\n      email: \"\",\r\n      validEmail: false,\r\n      type: 0,\r\n      birthday: \"\",\r\n      calle: \"\",\r\n      colonia: \"\",\r\n      municipio: \"\",\r\n      estado: \"\",\r\n      cp: \"\",\r\n      t_casa: \"\",\r\n      t_oficina: \"\",\r\n      t_movil: \"\",\r\n      business: false,\r\n      load: false,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n    this.timeSave = null;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    let id = this.props.match.params.id,\r\n      //Recogemos valores de registro inconcluso\r\n      data = JSON.parse(localStorage.getItem(\"OrusContactNew\"));\r\n\r\n    if (id) {\r\n      this.getUser(id);\r\n    } else {\r\n      //Si existe un usuario previo\r\n      if (\r\n        data &&\r\n        data.name &&\r\n        data.name.length > 4 &&\r\n        window.confirm(\r\n          \"Existe un registro previo de \" +\r\n            data.name.toUpperCase() +\r\n            \", \\n ¿Desea Cargar los datos?\"\r\n        )\r\n      ) {\r\n        this.setState({\r\n          name: data.name,\r\n          validName: true,\r\n          rfc: data.rfc,\r\n          email: data.email,\r\n          validEmail: true,\r\n          type: data.type,\r\n          birthday: data.birthday,\r\n          calle: data.calle,\r\n          colonia: data.colonia,\r\n          municipio: data.municipio,\r\n          estado: data.estado,\r\n          cp: data.cp,\r\n          t_casa: data.t_casa,\r\n          t_oficina: data.t_oficina,\r\n          t_movil: data.t_movil,\r\n        });\r\n      }\r\n      localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\r\n    }\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (\r\n      !this.state.id &&\r\n      !this.state.load &&\r\n      this.state.validName &&\r\n      this.state.validEmail\r\n    ) {\r\n      if (this.timeSave) clearTimeout(this.timeSave);\r\n      this.timeSave = setTimeout(() => {\r\n        localStorage.setItem(\r\n          \"OrusContactNew\",\r\n          JSON.stringify({\r\n            name: this.state.name,\r\n            rfc: this.state.rfc,\r\n            email: this.state.email,\r\n            type: this.state.type,\r\n            birthday: this.state.birthday,\r\n            calle: this.state.calle,\r\n            colonia: this.state.colonia,\r\n            municipio: this.state.municipio,\r\n            estado: this.state.estado,\r\n            cp: this.state.cp,\r\n            t_casa: this.state.t_casa,\r\n            t_oficina: this.state.t_oficina,\r\n            t_movil: this.state.t_movil,\r\n          })\r\n        );\r\n      }, 1500);\r\n    } else {\r\n      localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      id,\r\n      name,\r\n      rfc,\r\n      email,\r\n      type,\r\n      birthday,\r\n      calle,\r\n      colonia,\r\n      municipio,\r\n      estado,\r\n      cp,\r\n      t_casa,\r\n      t_oficina,\r\n      t_movil,\r\n      business,\r\n      load,\r\n      validName,\r\n      validEmail,\r\n    } = this.state;\r\n\r\n    return (\r\n      <form onSubmit={this.handleSave}>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12\">\r\n            <div className=\"card card-danger card-outline\">\r\n              <div className=\"card-header\">\r\n                <h3 className=\"card-title text-danger\">\r\n                  <i className=\"fas fa-address-book mr-2\"></i>\r\n                  {id ? \"Editar contacto\" : \"Registrar nuevo contacto\"}\r\n                  {validName && validEmail ? (\r\n                    <span className=\"ml-2 text-muted\">\r\n                      <small>(Almacenado automatico)</small>\r\n                    </span>\r\n                  ) : null}\r\n                </h3>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"row was-validated\">\r\n                  <Personal\r\n                    id={id}\r\n                    name={name}\r\n                    rfc={rfc}\r\n                    email={email}\r\n                    type={type}\r\n                    birthday={birthday}\r\n                    business={business}\r\n                    validName={validName}\r\n                    validEmail={validEmail}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n\r\n                  <Domicilio\r\n                    calle={calle}\r\n                    colonia={colonia}\r\n                    municipio={municipio}\r\n                    estado={estado}\r\n                    cp={cp}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n\r\n                  <Telefono\r\n                    t_casa={t_casa}\r\n                    t_movil={t_movil}\r\n                    t_oficina={t_oficina}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"card-footer\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-12\">\r\n                    {load ? (\r\n                      <div className=\"text-center\">\r\n                        <div\r\n                          className=\"spinner-border text-primary\"\r\n                          role=\"status\"\r\n                        >\r\n                          <span className=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"btn-group float-right\" role=\"group\">\r\n                        <Link\r\n                          to=\"/contactos\"\r\n                          className=\"btn btn-dark\"\r\n                          onClick={(e) => {\r\n                            this.changePage(\"/contactos\");\r\n                          }}\r\n                        >\r\n                          <i\r\n                            className={\r\n                              id ? \"fas fa-arrow-left mr-2\" : \"fas fa-ban mr-2\"\r\n                            }\r\n                          ></i>\r\n                          <strong>{id ? \"Regresar\" : \"Cancelar\"}</strong>\r\n                        </Link>\r\n                        <button\r\n                          type=\"submit\"\r\n                          className={\r\n                            validName &&\r\n                            validEmail &&\r\n                            (t_casa || t_oficina || t_movil)\r\n                              ? \"btn btn-danger\"\r\n                              : \"btn btn-danger disabled\"\r\n                          }\r\n                          disabled={\r\n                            validName &&\r\n                            validEmail &&\r\n                            (t_casa || t_oficina || t_movil)\r\n                              ? \"\"\r\n                              : \"disabled\"\r\n                          }\r\n                        >\r\n                          <i className=\"fas fa-save mr-1\"></i>\r\n                          Guardar\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          {this.state.calle && !this.state.type ? (\r\n            <div className=\"col\">\r\n              <Mapa\r\n                calle={this.state.calle}\r\n                colonia={this.state.colonia}\r\n                municipio={this.state.municipio}\r\n                estado={this.state.estado}\r\n                cp={this.state.cp}\r\n                changeAddress={this.changeAddress}\r\n              />\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          {this.state.id && !this.state.type ? (\r\n            <div className=\"col\">\r\n              <ListExam\r\n                paciente={this.state.id}\r\n                exam={{}}\r\n                page={this.changePage}\r\n                edad={\r\n                  moment(this.state.birthday)\r\n                    .fromNow(true)\r\n                    .replace(/[a-zA-ZñÑ]/gi, \"\") * 1\r\n                }\r\n              />\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n\r\n  changeAddress = (json) => {\r\n    this.setState(json);\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value = e.target.type === \"checkbox\" ? e.target.checked : e.target.value;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  handleSave = (e) => {\r\n    e.preventDefault();\r\n    let { validName, validEmail, id } = this.state;\r\n\r\n    //Verificamos campos validos\r\n    if (!validName) {\r\n      window.Swal.fire(\r\n        \"Base de datos\",\r\n        \"El contacto ya esta registrado\",\r\n        \"warning\"\r\n      );\r\n      return false;\r\n    }\r\n    if (!validEmail) {\r\n      window.Swal.fire(\r\n        \"Base de datos\",\r\n        \"El email ya esta registrado\",\r\n        \"warning\"\r\n      );\r\n      return false;\r\n    }\r\n\r\n    //Confirmación de almacenamiento\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: id\r\n        ? \"¿Esta seguro de actualizar al contacto?\"\r\n        : \"¿Esta seguro de crear un nuevo contacto?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: id ? \"Actualizar\" : \"Crear\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          let {\r\n              name,\r\n              rfc,\r\n              email,\r\n              type,\r\n              birthday,\r\n              calle,\r\n              colonia,\r\n              municipio,\r\n              estado,\r\n              cp,\r\n              t_casa,\r\n              t_oficina,\r\n              t_movil,\r\n              business,\r\n              host,\r\n              token,\r\n            } = this.state,\r\n            //Creamos el body\r\n            body = {\r\n              name,\r\n              rfc,\r\n              email,\r\n              type,\r\n              birthday: business ? \"\" : birthday,\r\n              business,\r\n              domicilio: JSON.stringify({\r\n                calle,\r\n                colonia,\r\n                municipio,\r\n                estado,\r\n                cp,\r\n              }),\r\n              telnumbers: JSON.stringify({\r\n                t_casa,\r\n                t_oficina,\r\n                t_movil,\r\n              }),\r\n            },\r\n            //Identificamos la URL y el metodo segun sea el caso (Actualizar o agregar)\r\n            url = id\r\n              ? \"http://\" + host + \"/api/contacts/\" + id\r\n              : \"http://\" + host + \"/api/contacts\",\r\n            //Actualiza el contacto o creamos el contacto\r\n            method = id ? \"PUT\" : \"POST\";\r\n\r\n          //Enviamos datos al API\r\n          console.log(\"Enviando datos del contacto a la API\");\r\n          return fetch(url, {\r\n            method: method,\r\n            body: JSON.stringify(body),\r\n            signal: this.signal,\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then((response) => {\r\n              if (!response.ok) {\r\n                throw new Error(response.statusText);\r\n              }\r\n              return response.json();\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch: \", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n        if (data.data) {\r\n          console.log(\"Contacto almacenado\");\r\n          localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\r\n          localStorage.setItem(\r\n            \"OrusContactInUse\",\r\n            JSON.stringify({ id: data.data.id })\r\n          );\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: id\r\n              ? \"Contacto actualizado con exito\"\r\n              : \"Contacto almacenado con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          }).then((res) => {\r\n            this.props.history.goBack();\r\n          });\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar el contacto\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  getUser = (id) => {\r\n    if (id > 0) {\r\n      //Variables en localStorage\r\n      let { load, host, token } = this.state;\r\n\r\n      //Mandamos señal de carga si no lo he hecho\r\n      if (!load) {\r\n        this.setState({\r\n          load: true,\r\n        });\r\n      }\r\n      //Realiza la peticion al API\r\n      console.log(\"Descargando datos del contacto del API\");\r\n      fetch(\"http://\" + host + \"/api/contacts/\" + id, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(response.statusText);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.data) {\r\n            let { domicilio, telefonos } = data.data;\r\n            console.log(\"Almacenando datos del contacto\");\r\n            this.setState({\r\n              id: data.data.id,\r\n              name: data.data.nombre,\r\n              rfc: data.data.rfc,\r\n              email: data.data.email,\r\n              type: data.data.tipo,\r\n              business: data.data.empresa,\r\n              birthday: data.data.f_nacimiento,\r\n              calle: domicilio && domicilio.calle ? domicilio.calle : \"\",\r\n              colonia: domicilio && domicilio.colonia ? domicilio.colonia : \"\",\r\n              municipio:\r\n                domicilio && domicilio.municipio ? domicilio.municipio : \"\",\r\n              estado: domicilio && domicilio.estado ? domicilio.estado : \"\",\r\n              cp: domicilio && domicilio.cp ? domicilio.cp : \"\",\r\n              t_casa: telefonos && telefonos.t_casa ? telefonos.t_casa : \"\",\r\n              t_oficina:\r\n                telefonos && telefonos.t_oficina ? telefonos.t_oficina : \"\",\r\n              t_movil: telefonos && telefonos.t_movil ? telefonos.t_movil : \"\",\r\n              validName: true,\r\n              validEmail: true,\r\n              load: false,\r\n            });\r\n          } else {\r\n            console.error(\"Orus: \", data.message);\r\n            window.Swal.fire(\"Error\", \"Al descargar el contacto\", \"error\");\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.Swal.fire(\r\n            \"Fallo de conexion\",\r\n            \"Verifique la conexion al servidor\",\r\n            \"error\"\r\n          );\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class AddContact extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Recogemos valores de registro previo\r\n    this.state = {\r\n      name: \"\",\r\n      validName: false,\r\n      rfc: \"\",\r\n      email: \"\",\r\n      validEmail: false,\r\n      type: 0,\r\n      birthday: \"\",\r\n      t_casa: \"\",\r\n      t_oficina: \"\",\r\n      t_movil: \"\",\r\n      business: false,\r\n      load: false,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n    this.timeSave = null;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n\r\n  render() {\r\n    let {\r\n      name,\r\n      email,\r\n      birthday,\r\n      t_casa,\r\n      t_oficina,\r\n      t_movil,\r\n      load,\r\n      validName,\r\n      validEmail,\r\n    } = this.state;\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-12\">\r\n          <div className=\"card card-danger card-outline\">\r\n            <div className=\"card-header\">\r\n              <h3 className=\"card-title text-danger\">\r\n                <i className=\"fas fa-address-book mr-2\"></i>\r\n                Pacientes\r\n              </h3>\r\n            </div>\r\n\r\n            <div className=\"card-body\">\r\n              <div className=\"row was-validated\">\r\n                <div className=\"input-group mb-1\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className={\"input-group-text \"}>\r\n                      <i className=\"fas fa-id-card-alt\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    className={\"form-control text-capitalize\"}\r\n                    placeholder=\"Nombre completo\"\r\n                    name=\"name\"\r\n                    value={name}\r\n                    onChange={this.handleChange}\r\n                    autoFocus={!name.length ? true : false}\r\n                    autoComplete=\"off\"\r\n                    required=\"required\"\r\n                    pattern=\"^[a-zA-Z.]{2,20}[\\s]{1}[a-zA-Z.]{2,20}.*\"\r\n                    minLength=\"8\"\r\n                    list=\"contactos_db\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"input-group mb-1\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className={\"input-group-text \"}>\r\n                      <i className=\"fas fa-at\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"email\"\r\n                    className={\"form-control\"}\r\n                    placeholder=\"Correo electronico\"\r\n                    name=\"email\"\r\n                    value={email}\r\n                    onChange={this.handleChange}\r\n                    autoComplete=\"off\"\r\n                    minLength=\"8\"\r\n                    list=\"email_db\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"input-group mb-1\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-phone\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"tel\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Telefono\"\r\n                    name=\"t_movil\"\r\n                    value={t_movil}\r\n                    onChange={this.catchInputs}\r\n                    pattern=\"^[\\d]{10}$\"\r\n                    maxLength=\"10\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"input-group mb-1\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"fas fa-calendar-check\"></i>\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Fecha de nacimiento\"\r\n                  name=\"birthday\"\r\n                  value={birthday ? birthday : \"\"}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"card-footer\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                  {load ? (\r\n                    <div className=\"text-center\">\r\n                      <div\r\n                        className=\"spinner-border text-primary\"\r\n                        role=\"status\"\r\n                      >\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"btn-group float-right\" role=\"group\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        className={\r\n                          validName &&\r\n                          validEmail &&\r\n                          (t_casa || t_oficina || t_movil)\r\n                            ? \"btn btn-danger\"\r\n                            : \"btn btn-danger disabled\"\r\n                        }\r\n                        disabled={\r\n                          validName &&\r\n                          validEmail &&\r\n                          (t_casa || t_oficina || t_movil)\r\n                            ? \"\"\r\n                            : \"disabled\"\r\n                        }\r\n                      >\r\n                        <i className=\"fas fa-save mr-1\"></i>\r\n                        Guardar\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Pagination from \"./pagination\";\r\n\r\nexport default class ToolsCategory extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      category_list: [],\r\n      category_select: [],\r\n      category_hijos: [],\r\n      category_hijos_3: [],\r\n      meta: {},\r\n      add: false,\r\n      name: \"\",\r\n      category_id: 0,\r\n      category_id_2: 0,\r\n      category_id_3: 0,\r\n      newItem: 0,\r\n      page: 1,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n      load: true,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getCategories();\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.page !== this.state.page) {\r\n      console.log(\"Recargando categorias\");\r\n      this.getCategories();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { category_list, meta, load } = this.state,\r\n      category_hijos = this.state.category_hijos,\r\n      category_hijos_3 = this.state.category_hijos_3;\r\n\r\n    return (\r\n      <div className=\"card card-primary card-outline\">\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title\">Categorias</h5>\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Nombre</th>\r\n                <th>Padre</th>\r\n                <th>Eliminar</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {!load ? (\r\n                category_list.map((cat) => {\r\n                  let padre = \"\";\r\n\r\n                  if (cat.depende_de != null) {\r\n                    if (cat.depende_de.depende_de != null) {\r\n                      padre = cat.depende_de.depende_de.categoria;\r\n                    }\r\n                    padre = padre\r\n                      ? padre + \"/\" + cat.depende_de.categoria\r\n                      : cat.depende_de.categoria;\r\n                  }\r\n                  padre = padre ? padre : \"--\";\r\n\r\n                  return (\r\n                    <tr\r\n                      key={cat.id}\r\n                      className={\r\n                        cat.id === this.state.newItem ? \"table-success\" : \"\"\r\n                      }\r\n                    >\r\n                      <td className=\"text-capitalize\">{cat.categoria}</td>\r\n                      <td className=\"text-capitalize\">{padre}</td>\r\n                      <td>\r\n                        <button\r\n                          className=\"btn btn-outline-light btn-sm\"\r\n                          onClick={(e) => {\r\n                            this.handleClickDelete(cat.id, cat.categoria);\r\n                          }}\r\n                        >\r\n                          <i className=\"fas fa-trash\"></i>\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan=\"8\" className=\"text-center\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n            {this.state.add && !load ? (\r\n              <tfoot>\r\n                <tr>\r\n                  <td>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      className=\"form-control\"\r\n                      autoComplete=\"off\"\r\n                      value={this.state.name}\r\n                      onChange={this.catchInputs}\r\n                      ref={(input) => {\r\n                        this.nameInput = input;\r\n                      }}\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    <select\r\n                      name=\"category_id\"\r\n                      className=\"form-control\"\r\n                      value={this.state.category_id}\r\n                      onChange={this.handleCategoryChange}\r\n                    >\r\n                      <option value=\"0\">Inicial</option>\r\n                      {this.state.category_select.map((cat) => {\r\n                        return (\r\n                          <option key={cat.id} value={cat.id}>\r\n                            {cat.categoria}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                    {category_hijos.length ? (\r\n                      <select\r\n                        name=\"category_id_2\"\r\n                        className=\"form-control mt-2\"\r\n                        value={this.state.category_id_2}\r\n                        onChange={this.handleCategoryChange}\r\n                      >\r\n                        <option value=\"0\">Raiz</option>\r\n                        {this.state.category_hijos.map((cat) => {\r\n                          return (\r\n                            <option key={cat.id} value={cat.id}>\r\n                              {cat.categoria}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                      </select>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    {category_hijos_3.length ? (\r\n                      <select\r\n                        name=\"category_id_3\"\r\n                        className=\"form-control mt-2\"\r\n                        value={this.state.category_id_3}\r\n                        onChange={this.handleCategoryChange}\r\n                      >\r\n                        <option value=\"0\">Raiz</option>\r\n                        {this.state.category_hijos_3.map((cat) => {\r\n                          return (\r\n                            <option key={cat.id} value={cat.id}>\r\n                              {cat.categoria}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                      </select>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    <button\r\n                      className=\"btn btn-dark btn-sm\"\r\n                      onClick={this.handleClickSave}\r\n                    >\r\n                      <i className=\"fas fa-save\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            ) : (\r\n              <tfoot>\r\n                <tr>\r\n                  <td colSpan=\"3\">\r\n                    <Pagination\r\n                      meta={meta}\r\n                      handleChangePage={this.handleChangePage}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            )}\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <button\r\n            className=\"btn btn-primary btn-sm\"\r\n            onClick={this.handleClickAdd}\r\n          >\r\n            {this.state.add ? (\r\n              <i className=\"fas fa-undo\"></i>\r\n            ) : (\r\n              <i className=\"fas fa-plus\"></i>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleCategoryChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name === \"category_id\") {\r\n      if (value) {\r\n        this.state.category_select.map((cat) => {\r\n          if (cat.id === value * 1) {\r\n            this.setState({\r\n              category_hijos: cat.hijos,\r\n            });\r\n          }\r\n          return null;\r\n        });\r\n      }\r\n    }\r\n    if (name === \"category_id_2\") {\r\n      if (value) {\r\n        this.state.category_hijos.map((cat) => {\r\n          if (cat.id === value * 1) {\r\n            this.setState({\r\n              category_hijos_3: cat.hijos,\r\n            });\r\n          }\r\n          return null;\r\n        });\r\n      }\r\n    }\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  handleChangePage = (id) => {\r\n    this.setState({\r\n      page: id,\r\n    });\r\n  };\r\n  handleClickDelete = (id, name) => {\r\n    window.Swal.fire({\r\n      title: \"Eliminar\",\r\n      text: \"¿Esta seguro de eliminar la categoria \" + name.toUpperCase() + \"?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#d33\",\r\n      confirmButtonText: \"Eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm && id) {\r\n          let { host, token } = this.state;\r\n\r\n          //Inicio de proceso de eliminción por API\r\n          console.log(\"Solicitud de eliminación de categoria por API\");\r\n          return fetch(\"http://\" + host + \"/api/categories/\" + id, {\r\n            method: \"DELETE\",\r\n            signal: this.signal,\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        console.log(\"Categoria eliminado\");\r\n        window.Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Categoria eliminada con exito\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then((res) => this.getCategories());\r\n      } else if (result && !result.dismiss) {\r\n        console.log(\"Orus res: \", result);\r\n        window.Swal.fire(\r\n          \"Error\",\r\n          \"Se perdio la conexion con el servidor\",\r\n          \"error\"\r\n        );\r\n      }\r\n    });\r\n  };\r\n  handleClickSave = () => {\r\n    //Verificamos campos validos\r\n    if (this.state.name.length < 4) {\r\n      window.Swal.fire(\r\n        \"Verificación\",\r\n        \"Debe de escribir el nombre de la categoria\",\r\n        \"warning\"\r\n      );\r\n      this.nameInput.focus();\r\n      return false;\r\n    }\r\n\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: \"¿Esta seguro de crear una nueva categoria?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#007bff\",\r\n      confirmButtonText: \"Crear\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          //Variables\r\n          let { host, token } = this.state,\r\n            body = {\r\n              name: this.state.name,\r\n              category_id: this.state.category_id_3\r\n                ? this.state.category_id_3\r\n                : this.state.category_id_2\r\n                ? this.state.category_id_2\r\n                : this.state.category_id,\r\n            };\r\n\r\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\r\n          console.log(\"Enviando datos a API para almacenar\");\r\n          return fetch(\"http://\" + host + \"/api/categories\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n\r\n        if (data.data) {\r\n          console.log(\"Categoria almacenada\");\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Categoria almacenada con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          }).then((res) => {\r\n            this.setState({\r\n              newItem: data.data.id,\r\n            });\r\n            this.getCategories();\r\n          });\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar la categoria\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  getCategories = () => {\r\n    //Variables en localStorage\r\n    let { host, token, load } = this.state,\r\n      url = \"http://\" + host + \"/api/categories\",\r\n      categoryid = \"&categoryid=raiz\",\r\n      page = this.state.page > 0 ? \"?page=\" + this.state.page : \"?page=1\";\r\n\r\n    //Mandamos señal de carga si no lo he hecho\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n\r\n    console.log(\"Descargando lista de categorias\");\r\n    fetch(url + page, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.statusText);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((cat) => {\r\n        if (cat.data) {\r\n          console.log(\"Lista de categorias descargadas\");\r\n          this.setState({\r\n            category_list: cat.data,\r\n            meta: cat.meta,\r\n            newItem: 0,\r\n            add: false,\r\n            category_id: 0,\r\n            name: \"\",\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(\"Orus: \" + e);\r\n        window.Swal.fire(\r\n          \"Fallo de conexion\",\r\n          \"Verifique la conexion al servidor\",\r\n          \"error\"\r\n        );\r\n      });\r\n    //Category_select\r\n    fetch(url + page + categoryid, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.statusText);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((cat) => {\r\n        if (cat.data) {\r\n          this.setState({\r\n            category_select: cat.data,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(\"Orus: \" + e);\r\n        window.Swal.fire(\r\n          \"Fallo de conexion\",\r\n          \"Verifique la conexion al servidor\",\r\n          \"error\"\r\n        );\r\n      });\r\n  };\r\n  handleClickAdd = () => {\r\n    this.setState({\r\n      add: !this.state.add,\r\n      name: \"\",\r\n      category_id: 0,\r\n      category_id_2: 0,\r\n      category_id_3: 0,\r\n      category_hijos: [],\r\n      category_hijos_3: [],\r\n    });\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value.toLowerCase(),\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Category from \"./tools_category\";\r\n//import { Link } from 'react-router-dom';\r\n\r\nexport default class StoreAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      server: \"\",\r\n      company: \"\",\r\n      email: \"\",\r\n      name: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      category_list: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    this.setState({\r\n      server: varLocalStorage.host\r\n        ? varLocalStorage.host\r\n        : window.location.host.split(\":\")[0],\r\n      company: varLocalStorage.company ? varLocalStorage.company : \"\",\r\n      email: varLocalStorage.email ? varLocalStorage.email : \"\",\r\n      name: varLocalStorage.name ? varLocalStorage.name : \"\",\r\n      username: varLocalStorage.username ? varLocalStorage.username : \"\",\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { data } = this.props;\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-6\">\r\n          <div className=\"card card-primary card-outline\">\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">Generales</h5>\r\n              <p>&nbsp;</p>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"fas fa-server\"></i>\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Servidor\"\r\n                  name=\"server\"\r\n                  value={this.state.server}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"fas fa-building\"></i>\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control text-capitalize\"\r\n                  placeholder=\"Nombre de la empresa\"\r\n                  name=\"company\"\r\n                  value={this.state.company}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"card-footer text-right\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={this.clickSave}\r\n              >\r\n                Guardar\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <Category data={data} />\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <div className=\"card card-primary card-outline\">\r\n            <div className=\"card-body\">\r\n              <h5 className=\"card-title\">Usuario</h5>\r\n              <p>&nbsp;</p>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"fas fa-at\"></i>\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Email\"\r\n                  name=\"email\"\r\n                  value={this.state.email}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"fas fa-user-tag\"></i>\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control text-capitalize\"\r\n                  placeholder=\"Nombre completo\"\r\n                  name=\"name\"\r\n                  value={this.state.name}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <hr />\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"fas fa-user-check\"></i>\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Usuario\"\r\n                  name=\"username\"\r\n                  value={this.state.username}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                  <span className=\"input-group-text\">\r\n                    <i className=\"fas fa-lock\"></i>\r\n                  </span>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Contraseña\"\r\n                  name=\"password\"\r\n                  value={this.state.password}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"card-footer text-right\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={this.clickSaveUser}\r\n              >\r\n                Guardar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  clickSave = () => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    varLocalStorage.company = this.state.company;\r\n    varLocalStorage.host = this.state.server;\r\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage));\r\n  };\r\n  clickSaveUser = () => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    varLocalStorage.email = this.state.email;\r\n    varLocalStorage.name = this.state.name;\r\n    varLocalStorage.username = this.state.username;\r\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage));\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value.toLowerCase(),\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\n\r\nexport default class Filter extends Component {\r\n  render() {\r\n    const { search, status, date } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"btn-group\">\r\n          <a\r\n            href=\"#Filters\"\r\n            className=\"btn btn-tool text-dark\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#filters\"\r\n          >\r\n            <i className=\"fas fa-filter\"></i>\r\n          </a>\r\n        </div>\r\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Busquedas</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n\r\n              <form className=\"modal-body\">\r\n                <div className=\"input-group mb-3\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por: paciente\"\r\n                    value={search ? search : \"\"}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Estado</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-toggle-on\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"status\"\r\n                    value={status}\r\n                    onChange={this.changeFilters}\r\n                  >\r\n                    <option value=\"\">Todos</option>\r\n                    <option value=\"0\">Activo</option>\r\n                    <option value=\"1\">Terminado</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Fecha</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-calendar-alt\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"date\"\r\n                    className=\"form-control\"\r\n                    name=\"date\"\r\n                    value={date}\r\n                    onChange={this.changeFilters}\r\n                  />\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"modal-footer\">\r\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-window-close mr-2\"></i>\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={\r\n                      search || date || status\r\n                        ? \"btn btn-outline-dark\"\r\n                        : \"btn btn-outline-dark disabled\"\r\n                    }\r\n                    onClick={this.onClickClean}\r\n                  >\r\n                    <i className=\"fas fa-eraser mr-2\"></i>\r\n                    Limpiar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    onClick={this.setFilters}\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-search mr-2\"></i>\r\n                    Buscar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  onKeyPressSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      this.setFilters();\r\n    }\r\n  };\r\n  onClickClean = () => {\r\n    this.props.changeFilters(\"search\", \"\");\r\n    this.props.changeFilters(\"status\", 0);\r\n    this.props.changeFilters(\"date\", moment(new Date()).format(\"YYYY-MM-DD\"));\r\n    this.setFilters();\r\n  };\r\n  setFilters = () => {\r\n    this.props.handleChangePage(1);\r\n    window.$(\"#filters\").modal(\"hide\");\r\n  };\r\n  changeFilters = (e) => {\r\n    const { name, value } = e.target;\r\n    this.props.changeFilters(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport Header from \"../Layouts/headerTable\";\r\nimport Filter from \"./index_filter\";\r\nimport Pagination from \"../Layouts/pagination\";\r\nimport Actions from \"../Layouts/actionsTable\";\r\n\r\nexport default class Exam extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let sdd = JSON.parse(localStorage.getItem(\"OrusExam\"));\r\n    this.state = {\r\n      exams: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      load: true,\r\n      page: sdd ? sdd.page : 1,\r\n      orderby: sdd && sdd.orderby ? sdd.orderby : \"created_at\",\r\n      order: sdd && sdd.order ? sdd.order : \"desc\",\r\n      search: sdd && sdd.search ? sdd.search : \"\",\r\n      status: sdd && sdd.status >= 0 ? sdd.status : \"\",\r\n      date: sdd && sdd.date ? sdd.date : \"\",\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getExams();\r\n    localStorage.setItem(\r\n      \"OrusExam\",\r\n      JSON.stringify({\r\n        page: this.state.page,\r\n        orderby: this.state.orderby,\r\n        order: this.state.order,\r\n        search: this.state.search,\r\n        status: this.state.status,\r\n        date: this.state.date,\r\n      })\r\n    );\r\n    localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.load === false && this.state.load === true) {\r\n      console.log(\"Recargando examenes\");\r\n      this.getExams();\r\n      localStorage.setItem(\r\n        \"OrusExam\",\r\n        JSON.stringify({\r\n          page: this.state.page,\r\n          orderby: this.state.orderby,\r\n          order: this.state.order,\r\n          search: this.state.search,\r\n          status: this.state.status,\r\n          date: this.state.date,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { exams, load } = this.state,\r\n      dataHeaders = [\r\n        { name: \"Paciente\", type: \"name\", filter: true },\r\n        { name: \"Edad\" },\r\n        { name: \"Estado\" },\r\n        { name: \"Esfera\" },\r\n        { name: \"Cilindro\" },\r\n        { name: \"Eje\" },\r\n        { name: \"Adicion\" },\r\n        { name: \"D/P\" },\r\n        { name: \"Altura\" },\r\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\r\n        { name: \"Registrado\", type: \"created_at\", filter: true },\r\n      ];\r\n\r\n    return (\r\n      <div className=\"card card-info card-outline\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title text-info\">\r\n            <i className=\"fas fa-notes-medical mr-2\"></i>\r\n            Examanes de la vista\r\n          </h3>\r\n          <div className=\"card-tools\">\r\n            <Link\r\n              to=\"/consultorio/registro\"\r\n              className=\"btn btn-outline-dark\"\r\n              onClick={this.changePage}\r\n            >\r\n              <i className=\"fas fa-plus\"></i>\r\n            </Link>\r\n            <Filter\r\n              search={this.state.search}\r\n              status={this.state.status}\r\n              date={this.state.date}\r\n              changeFilters={this.onchangeSearch}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n            <Pagination\r\n              meta={exams.meta}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-bordered table-hover table-nowrap\">\r\n            <Header\r\n              orderby={this.state.orderby}\r\n              order={this.state.order}\r\n              data={dataHeaders}\r\n              actions={true}\r\n              handleOrder={this.handleOrder}\r\n            />\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"12\" className=\"text-center\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(exams.data).length ? (\r\n                exams.data.map((exam) => {\r\n                  return (\r\n                    <tr\r\n                      key={exam.id}\r\n                      className={\r\n                        exam.estado\r\n                          ? \"table-secondary\"\r\n                          : moment\r\n                              .utc(new Date())\r\n                              .isSame(moment.utc(exam.created_at), \"hour\")\r\n                          ? \"table-success\"\r\n                          : \"\"\r\n                      }\r\n                    >\r\n                      <td>\r\n                        <Link to={\"/consultorio/registro/\" + exam.id}>\r\n                          <span className=\"badge badge-danger text-capitalize p-1\">\r\n                            {exam.paciente.nombre}\r\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\r\n                          </span>\r\n                        </Link>\r\n                      </td>\r\n                      <td>{exam.edad ? exam.edad : \"--\"}</td>\r\n                      <td className=\"text-uppercase\">\r\n                        {exam.estado ? (\r\n                          <span className=\"text-secondary\">Terminado</span>\r\n                        ) : (\r\n                          <span className=\"text-success\">Activo</span>\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        {exam.esferaod}/{exam.esferaoi}\r\n                      </td>\r\n                      <td>\r\n                        {exam.cilindrod}/{exam.cilindroi}\r\n                      </td>\r\n                      <td>\r\n                        {exam.ejeod}/{exam.ejeoi}\r\n                      </td>\r\n                      <td>\r\n                        {exam.adiciond}/{exam.adicioni}\r\n                      </td>\r\n                      <td>\r\n                        {exam.dpod}/{exam.dpoi}\r\n                      </td>\r\n                      <td>\r\n                        {exam.alturaod}/{exam.alturaoi}\r\n                      </td>\r\n                      <td>{moment(exam.created_at).fromNow()}</td>\r\n                      <td>{moment(exam.updated_at).format(\"ll\")}</td>\r\n                      <Actions\r\n                        id={exam.id}\r\n                        item={exam.paciente.nombre}\r\n                        delete={\r\n                          exam.estado || exam.order_id\r\n                            ? null\r\n                            : this.handleDelete\r\n                        }\r\n                        edit={\"/consultorio/registro/\"}\r\n                      />\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"12\" className=\"text-center\">\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <Link\r\n            to=\"/consultorio/registro\"\r\n            className=\"btn btn-outline-info\"\r\n            onClick={this.changePage}\r\n            id=\"/consultorio/registro\"\r\n          >\r\n            <i className=\"fas fa-plus mr-2\"></i>\r\n            Nuevo examen\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleFilter = () => {\r\n    this.setState({\r\n      load: true,\r\n      page: 1,\r\n    });\r\n  };\r\n  onchangeSearch = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleOrder = (item) => {\r\n    this.setState({\r\n      orderby: item,\r\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\r\n      load: true,\r\n    });\r\n  };\r\n  handleChangePage = (id) => {\r\n    this.setState({\r\n      page: id,\r\n      load: true,\r\n    });\r\n  };\r\n  handleDelete = (id, item) => {\r\n    //Confirmación de eliminacion\r\n    window.Swal.fire({\r\n      title: \"Eliminar\",\r\n      text:\r\n        \"¿Esta seguro de eliminar el examen del paciente \" +\r\n        item.toUpperCase() +\r\n        \"?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#d33\",\r\n      confirmButtonText: \"Eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          let { host, token } = this.state;\r\n\r\n          //Inicio de proceso de eliminción por API\r\n          return fetch(\"http://\" + host + \"/api/exams/\" + id, {\r\n            method: \"DELETE\",\r\n            signal: this.signal,\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        console.log(\"Examen eliminado\");\r\n        window.Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Examen eliminado con exito\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then((res) => this.getExams());\r\n      } else if (result && !result.dismiss) {\r\n        console.log(\"Orus: \", result);\r\n        window.Swal.fire(\r\n          \"Error\",\r\n          \"Se perdio la conexion con el servidor\",\r\n          \"error\"\r\n        );\r\n      }\r\n    });\r\n  };\r\n  getExams() {\r\n    //Variables\r\n    let {\r\n        host,\r\n        token,\r\n        order,\r\n        orderby,\r\n        search,\r\n        page,\r\n        status,\r\n        load,\r\n        date,\r\n      } = this.state,\r\n      url = \"http://\" + host + \"/api/exams\",\r\n      ordenar = `&orderby=${orderby}&order=${order}`,\r\n      buscar = search ? `&search=${search}` : \"\",\r\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\",\r\n      fecha = date === \"\" ? \"\" : \"&date=\" + date,\r\n      estado = status === \"\" ? \"\" : \"&status=\" + status;\r\n\r\n    //Mandamos señal de carga si no lo he hecho\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n    //Realiza la peticion de los contactos\r\n    fetch(url + pagina + ordenar + estado + fecha + buscar, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.statusText);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.data) {\r\n          console.log(\"Examenes descargados\");\r\n          this.setState({\r\n            exams: data,\r\n            load: false,\r\n          });\r\n        } else {\r\n          console.error(\"Orus: \", data.message);\r\n          window.Swal.fire(\"Error\", \"Al descargar examenes\", \"error\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        window.Swal.fire(\r\n          \"Fallo de conexion\",\r\n          \"Verifique la conexion al servidor\",\r\n          \"error\"\r\n        );\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class easyContact extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let storage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    this.state = {\r\n      name: \"\",\r\n      t_movil: \"\",\r\n      birthday: \"\",\r\n      email: \"\",\r\n      host: storage.host,\r\n      token: storage.token,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { name } = this.props;\r\n    if (name) {\r\n      this.setState({\r\n        name,\r\n      });\r\n    }\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (props.name !== this.props.name && this.props.name !== this.state.name) {\r\n      this.setState({\r\n        name: this.props.name,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { name, t_movil, birthday, email } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"form-group\">\r\n          <label>Nuevo paciente</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control text-uppercase\"\r\n            placeholder=\"Nombre del paciente\"\r\n            name=\"name\"\r\n            autoComplete=\"off\"\r\n            required=\"required\"\r\n            pattern=\"^[a-zA-Z.]{2,20}[\\s]{1}[a-zA-Z.]{2,20}.*\"\r\n            minLength=\"8\"\r\n            value={name}\r\n            onChange={this.changeValue}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Telefono celular</label>\r\n          <input\r\n            type=\"tel\"\r\n            placeholder=\"Telefono celular\"\r\n            className=\"form-control\"\r\n            name=\"t_movil\"\r\n            pattern=\"^[\\d]{10}$\"\r\n            maxLength=\"10\"\r\n            value={t_movil}\r\n            onChange={this.changeValue}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>E-mail</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={this.changeValue}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Fecha de naciemiento</label>\r\n          <input\r\n            type=\"date\"\r\n            className=\"form-control\"\r\n            name=\"birthday\"\r\n            value={birthday}\r\n            onChange={this.changeValue}\r\n          />\r\n        </div>\r\n        <div className=\"form-group text-right\">\r\n          <button className=\"btn btn-danger\" onClick={this.handleSave}>\r\n            Registrar\r\n          </button>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  changeValue = (e) => {\r\n    const { name, value, type } = e.target;\r\n    let val = value;\r\n    console.log(name, value);\r\n    if (type === \"text\" || type === \"email\") val = value.toLowerCase();\r\n    this.setState({\r\n      [name]: val,\r\n    });\r\n  };\r\n  handleSave = (e) => {\r\n    e.preventDefault();\r\n    let { name, t_movil } = this.state;\r\n    console.log(\"Verificacion\", name.length, t_movil.length);\r\n    //Verificamos campos validos\r\n    if (name.length < 5) {\r\n      window.Swal.fire(\r\n        \"Verificacion\",\r\n        \"El nombre del paciente no es correcto\",\r\n        \"warning\"\r\n      );\r\n      return false;\r\n    }\r\n    if (t_movil.length !== 10) {\r\n      window.Swal.fire(\r\n        \"Verificacion\",\r\n        \"El numero telefonico no es correcto\",\r\n        \"warning\"\r\n      );\r\n      return false;\r\n    }\r\n\r\n    //Confirmación de almacenamiento\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: \"¿Esta seguro de crear un nuevo contacto?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Crear\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          let { name, birthday, t_movil, email, host, token } = this.state,\r\n            //Creamos el body\r\n            body = {\r\n              name,\r\n              email: email\r\n                ? email\r\n                : name.replace(/\\s/g, \"\") +\r\n                  birthday.replace(/-/g, \"\").replace(/\\//g, \"\") +\r\n                  \"@domain\",\r\n              type: 0,\r\n              birthday,\r\n              business: 0,\r\n              domicilio: JSON.stringify({\r\n                calle: \"\",\r\n                colonia: \"\",\r\n                municipio: \"Colima\",\r\n                estado: \"Colima\",\r\n                cp: \"28000\",\r\n              }),\r\n              telnumbers: JSON.stringify({\r\n                t_casa: \"\",\r\n                t_oficina: \"\",\r\n                t_movil,\r\n              }),\r\n            },\r\n            //Identificamos la URL y el metodo segun sea el caso (Actualizar o agregar)\r\n            url = \"http://\" + host + \"/api/contacts\",\r\n            //Actualiza el contacto o creamos el contacto\r\n            method = \"POST\";\r\n\r\n          //Enviamos datos al API\r\n          console.log(\"Enviando datos del contacto a la API\");\r\n          return fetch(url, {\r\n            method: method,\r\n            body: JSON.stringify(body),\r\n            signal: this.signal,\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then((response) => {\r\n              if (!response.ok) {\r\n                throw new Error(response.statusText);\r\n              }\r\n              return response.json();\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch: \", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n        if (data.data) {\r\n          console.log(\"Contacto almacenado\");\r\n          localStorage.setItem(\"OrusContactNew\", JSON.stringify({}));\r\n          localStorage.setItem(\r\n            \"OrusContactInUse\",\r\n            JSON.stringify({ id: data.data.id })\r\n          );\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Contacto almacenado con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          }).then((res) => {\r\n            this.props.setContac(data.data.id, data.data.birthday);\r\n          });\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar el contacto\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Easycontact from \"./easyContact\";\r\nimport moment from \"moment\";\r\n//import \"moment/locale/es\";\r\n\r\nexport default class searchContact extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      contacto: \"\",\r\n      data: [],\r\n      dataContact: {},\r\n      load: false,\r\n      edad: 30,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    //identificador del contacto\r\n    let id = this.props.contact;\r\n    if (id) {\r\n      this.getContact(id);\r\n    } else {\r\n      this.contactInput.focus();\r\n    }\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.contacto !== this.state.contacto) {\r\n      if (this.state.contacto.length > 2) {\r\n        this.getContacts(this.state.contacto);\r\n      } else {\r\n        this.setState({\r\n          data: [],\r\n        });\r\n      }\r\n    }\r\n    if (props.contact !== this.props.contact && this.props.contact) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n      this.getContact(this.props.contact);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { load } = this.state;\r\n\r\n    if (this.props.contact) {\r\n      if (load) {\r\n        return (\r\n          <div className=\"card card-danger card-outline d-print-none\">\r\n            <div className=\"card-body box-profile\">\r\n              <div className=\"text-center\">\r\n                <div className=\"spinner-border text-primary\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      } else if (Object.keys(this.state.dataContact).length) {\r\n        const {\r\n            nombre,\r\n            telefonos,\r\n            domicilio,\r\n            id,\r\n            f_nacimiento,\r\n          } = this.state.dataContact,\r\n          edad =\r\n            typeof this.props.edad === \"number\" && this.props.edad\r\n              ? this.props.edad + \" años\"\r\n              : f_nacimiento\r\n              ? moment(f_nacimiento).fromNow(true)\r\n              : 0;\r\n\r\n        return (\r\n          <div className=\"card card-danger card-outline\">\r\n            <div className=\"card-body box-profile\">\r\n              <div className=\"text-center\">\r\n                <img\r\n                  className=\"profile-user-img img-fluid img-circle\"\r\n                  src=\"/img/avatars/no-avatar.png\"\r\n                  alt=\"User Avatar\"\r\n                />\r\n              </div>\r\n\r\n              <h3 className=\"profile-username text-center text-capitalize\">\r\n                {nombre}\r\n              </h3>\r\n              <h6 className=\"text-muted text-center\">\r\n                {telefonos.t_movil ? (\r\n                  <span>Movil: {telefonos.t_movil}</span>\r\n                ) : telefonos.t_casa ? (\r\n                  <span>Casa: {telefonos.t_casa}</span>\r\n                ) : telefonos.t_oficina ? (\r\n                  <span>Oficina: {telefonos.t_oficina}</span>\r\n                ) : (\r\n                  <span className=\"text-danger\">Capture el telefono</span>\r\n                )}\r\n              </h6>\r\n              <p className=\"text-muted text-center\">\r\n                {domicilio && domicilio.calle.length > 6\r\n                  ? domicilio.calle\r\n                  : null}\r\n              </p>\r\n\r\n              <ul className=\"list-group list-group-unbordered mb-3\">\r\n                <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                  <b>Edad:</b>\r\n\r\n                  {edad ? (\r\n                    <span className=\"badge badge-primary badge-pill\">\r\n                      {edad}\r\n                    </span>\r\n                  ) : (\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"edad\"\r\n                      className=\"form-control\"\r\n                      value={this.state.edad}\r\n                      onChange={this.handleSearcContact}\r\n                      onBlur={this.sendAge}\r\n                      onKeyPress={(e) => {\r\n                        if (e.key === \"Enter\") {\r\n                          this.sendAge(e);\r\n                        }\r\n                      }}\r\n                    />\r\n                  )}\r\n                </li>\r\n                <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                  <b>#Contacto:</b>\r\n                  <span className=\"badge badge-primary badge-pill\">{id}</span>\r\n                </li>\r\n              </ul>\r\n              {!this.props.status ? (\r\n                <div className=\"btn-group btn-block\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-dark\"\r\n                    onClick={this.handleClickChange}\r\n                  >\r\n                    <i className=\"fas fa-exchange-alt mr-1\"></i>\r\n                    <b>Cambiar</b>\r\n                  </button>\r\n                  <Link\r\n                    to={\"/contactos/registro/\" + id}\r\n                    className=\"btn btn-danger\"\r\n                    onClick={(e) => {\r\n                      this.handleChangePage(\"/contactos/registro/\");\r\n                    }}\r\n                  >\r\n                    <i className=\"fas fa-edit mr-1\"></i>\r\n                    <b>Editar</b>\r\n                  </Link>\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n          </div>\r\n        );\r\n      } else {\r\n        return null;\r\n      }\r\n    } else {\r\n      return (\r\n        <div className=\"card card-danger card-outline d-print-none\">\r\n          <div className=\"card-body\">\r\n            <label>Buscar paciente</label>\r\n            <div className=\"input-group mb-3\">\r\n              <div className=\"input-group-prepend\">\r\n                <span className=\"input-group-text\">\r\n                  <i className=\"fas fa-user\"></i>\r\n                </span>\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control text-capitalize\"\r\n                placeholder=\"Nombre del paciente\"\r\n                name=\"contacto\"\r\n                autoComplete=\"off\"\r\n                value={this.state.contacto}\r\n                onChange={this.handleSearcContact}\r\n                ref={(input) => {\r\n                  this.contactInput = input;\r\n                }}\r\n              />\r\n            </div>\r\n            {this.state.data.length ? (\r\n              <ul className=\"list-group\">\r\n                {this.state.data.map((contact) => {\r\n                  return (\r\n                    <li key={contact.id} className=\"list-group-item\">\r\n                      <a\r\n                        href=\"#contact\"\r\n                        className={\r\n                          !contact.id\r\n                            ? \"text-danger text-capitalize\"\r\n                            : \"text-muted text-capitalize\"\r\n                        }\r\n                        onClick={(e) => {\r\n                          this.handleClickContact(e, contact.id);\r\n                        }}\r\n                      >\r\n                        <i className=\"fas fa-user mr-1\"></i>\r\n                        {contact.nombre}\r\n                      </a>\r\n                      {!contact.id ? (\r\n                        <Easycontact\r\n                          name={this.state.contacto}\r\n                          setContac={(id, date) => {\r\n                            let edad =\r\n                              moment(date)\r\n                                .fromNow(true)\r\n                                .replace(/[a-zA-ZñÑ]/gi, \"\") * 1;\r\n                            this.setState({\r\n                              contacto: \"\",\r\n                              data: [],\r\n                              dataContact: {},\r\n                            });\r\n                            localStorage.setItem(\r\n                              \"OrusContactInUse\",\r\n                              JSON.stringify({})\r\n                            );\r\n                            this.props.getIdContact(id, edad);\r\n                          }}\r\n                        />\r\n                      ) : null}\r\n                    </li>\r\n                  );\r\n                })}\r\n              </ul>\r\n            ) : load ? (\r\n              <div className=\"text-center\">\r\n                <div className=\"spinner-border text-primary\" role=\"status\">\r\n                  <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  sendAge = (e) => {\r\n    const { value } = e.target,\r\n      { id } = this.state.dataContact;\r\n\r\n    if (value > 0 && value < 110 && id) {\r\n      this.props.getIdContact(id, value * 1);\r\n    }\r\n  };\r\n  getContact = (id) => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    //Realiza busqueda de contacto\r\n    fetch(\"http://\" + varLocalStorage.host + \"/api/contacts/\" + id, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + varLocalStorage.token,\r\n      },\r\n    })\r\n      .then(async (response) => {\r\n        let back = {};\r\n        if (response.status !== 204) back = await response.json();\r\n        if (!response.ok) {\r\n          throw new Error(back.message);\r\n        }\r\n        return back;\r\n      })\r\n      .then((data) => {\r\n        console.log(\"Descargando contacto\");\r\n        this.setState({\r\n          dataContact: data.data,\r\n          load: false,\r\n        });\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n  handleChangePage = (page) => {\r\n    this.props.changePage(page);\r\n  };\r\n  handleClickChange = (e) => {\r\n    e.preventDefault();\r\n    if (window.confirm(\"¿Esta seguro?\")) {\r\n      this.setState({\r\n        contacto: \"\",\r\n        data: [],\r\n        dataContact: {},\r\n      });\r\n      localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\r\n      this.props.getIdContact(0);\r\n    }\r\n  };\r\n  handleClickContact = (e, id) => {\r\n    if (e) e.preventDefault();\r\n    this.state.data.map((contact) => {\r\n      if (contact.id === id) {\r\n        this.setState({\r\n          contacto: \"\",\r\n          data: [],\r\n          dataContact: contact,\r\n        });\r\n        let edad =\r\n          moment(contact.f_nacimiento)\r\n            .fromNow(true)\r\n            .replace(/[a-zA-ZñÑ]/gi, \"\") * 1;\r\n        this.props.getIdContact(id, edad);\r\n        localStorage.setItem(\"OrusContactInUse\", JSON.stringify({ id }));\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    });\r\n  };\r\n  getContacts = (word) => {\r\n    let { load } = this.state;\r\n\r\n    //Revisamos que ya este cargando\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n\r\n    if (this.timeSave) clearTimeout(this.timeSave);\r\n    this.timeSave = setTimeout(() => {\r\n      //Variables en localStorage\r\n      let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n        url = \"http://\" + varLocalStorage.host + \"/api/contacts\",\r\n        type = \"&type=0\",\r\n        search = word ? `&search=${word}` : \"\",\r\n        page = \"?page=1&itemsPage=4\";\r\n      console.log(\"Descargando contactos de la API\");\r\n      //Realiza la peticion de los contactos\r\n      fetch(url + page + search + type, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + varLocalStorage.token,\r\n        },\r\n      })\r\n        .then(async (response) => {\r\n          let back = {};\r\n          if (response.status !== 204) back = await response.json();\r\n          if (!response.ok) {\r\n            throw new Error(back.message);\r\n          }\r\n          return back;\r\n        })\r\n        .then((data) => {\r\n          if (data.data && data.data.length) {\r\n            console.log(\"Mostrando información del contacto\");\r\n            this.setState({\r\n              data: data.data,\r\n              load: false,\r\n            });\r\n          } else {\r\n            this.setState({\r\n              data: [\r\n                {\r\n                  id: 0,\r\n                  nombre: \"No hay contactos para: \" + word,\r\n                },\r\n              ],\r\n              load: false,\r\n            });\r\n            localStorage.setItem(\r\n              \"OrusContactInUse\",\r\n              JSON.stringify({ name: word.toLowerCase() })\r\n            );\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(\"Orus fetch\", e);\r\n          window.Swal.fire(\r\n            \"Fallo de conexion\",\r\n            \"Verifique la conexion al servidor\",\r\n            \"error\"\r\n          );\r\n        });\r\n    }, 1500);\r\n  };\r\n  handleSearcContact = (e) => {\r\n    const { name, value, type } = e.target;\r\n    let val = value;\r\n    if (type === \"number\") val = parseInt(value);\r\n    if (type === \"text\") val = value.toLowerCase();\r\n    this.setState({\r\n      [name]: val,\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class GeneralesExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"headingOne\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#collapseOne\"\r\n              aria-expanded=\"true\"\r\n              aria-controls=\"collapseOne\"\r\n            >\r\n              Generales\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"collapseOne\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingOne\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"custom-control custom-switch\">\r\n                  <input\r\n                    name=\"pc\"\r\n                    type=\"checkbox\"\r\n                    className=\"custom-control-input\"\r\n                    id=\"pc\"\r\n                    checked={this.props.pc}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                  <label className=\"custom-control-label\" htmlFor=\"pc\">\r\n                    <i className=\"fas fa-desktop\"></i> PC\r\n                  </label>\r\n                </div>\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"pc_time\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.pc_time}\r\n                  onChange={this.catchInputs}\r\n                  readOnly={this.props.pc ? \"\" : \"readonly\"}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"custom-control custom-switch\">\r\n                  <input\r\n                    name=\"tablet\"\r\n                    type=\"checkbox\"\r\n                    className=\"custom-control-input\"\r\n                    id=\"tablet\"\r\n                    checked={this.props.tablet}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                  <label className=\"custom-control-label\" htmlFor=\"tablet\">\r\n                    <i className=\"fas fa-tablet-alt\"></i> Tablet\r\n                  </label>\r\n                </div>\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"tablet_time\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.tablet_time}\r\n                  onChange={this.catchInputs}\r\n                  readOnly={this.props.tablet ? \"\" : \"readonly\"}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"custom-control custom-switch\">\r\n                  <input\r\n                    name=\"movil\"\r\n                    type=\"checkbox\"\r\n                    className=\"custom-control-input\"\r\n                    id=\"movil\"\r\n                    checked={this.props.movil}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                  <label className=\"custom-control-label\" htmlFor=\"movil\">\r\n                    <i className=\"fas fa-mobile-alt\"></i> Telefono\r\n                  </label>\r\n                </div>\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"movil_time\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.movil_time}\r\n                  onChange={this.catchInputs}\r\n                  readOnly={this.props.movil ? \"\" : \"readonly\"}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"custom-control custom-switch\">\r\n                  <input\r\n                    name=\"lap\"\r\n                    type=\"checkbox\"\r\n                    className=\"custom-control-input\"\r\n                    id=\"lap\"\r\n                    checked={this.props.lap}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                  <label className=\"custom-control-label\" htmlFor=\"lap\">\r\n                    <i className=\"fas fa-laptop\"></i> Laptop\r\n                  </label>\r\n                </div>\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"lap_time\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.lap_time}\r\n                  onChange={this.catchInputs}\r\n                  readOnly={this.props.lap ? \"\" : \"readonly\"}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-1\">\r\n              <div className=\"col-md-6\">\r\n                <ul className=\"list-group\">\r\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                    <div className=\"custom-control custom-switch\">\r\n                      <input\r\n                        name=\"frontal\"\r\n                        type=\"checkbox\"\r\n                        className=\"custom-control-input\"\r\n                        id=\"frontal\"\r\n                        checked={this.props.frontal}\r\n                        onChange={this.catchInputs}\r\n                      />\r\n                      <label className=\"custom-control-label\" htmlFor=\"frontal\">\r\n                        Frontal\r\n                      </label>\r\n                    </div>\r\n                  </li>\r\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                    <div className=\"custom-control custom-switch\">\r\n                      <input\r\n                        name=\"occipital\"\r\n                        type=\"checkbox\"\r\n                        className=\"custom-control-input\"\r\n                        id=\"occipital\"\r\n                        checked={this.props.occipital}\r\n                        onChange={this.catchInputs}\r\n                      />\r\n                      <label\r\n                        className=\"custom-control-label\"\r\n                        htmlFor=\"occipital\"\r\n                      >\r\n                        Occipital\r\n                      </label>\r\n                    </div>\r\n                  </li>\r\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                    <div className=\"custom-control custom-switch\">\r\n                      <input\r\n                        name=\"generality\"\r\n                        type=\"checkbox\"\r\n                        className=\"custom-control-input\"\r\n                        id=\"generality\"\r\n                        checked={this.props.generality}\r\n                        onChange={this.catchInputs}\r\n                      />\r\n                      <label\r\n                        className=\"custom-control-label\"\r\n                        htmlFor=\"generality\"\r\n                      >\r\n                        General\r\n                      </label>\r\n                    </div>\r\n                  </li>\r\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                    <div className=\"custom-control custom-switch\">\r\n                      <input\r\n                        name=\"cefalea\"\r\n                        type=\"checkbox\"\r\n                        className=\"custom-control-input\"\r\n                        id=\"cefalea\"\r\n                        checked={this.props.cefalea}\r\n                        onChange={this.catchInputs}\r\n                      />\r\n                      <label className=\"custom-control-label\" htmlFor=\"cefalea\">\r\n                        Cefalea\r\n                      </label>\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <ul className=\"list-group\">\r\n                  <li className=\"list-group-item\">\r\n                    Temporal\r\n                    <br />\r\n                    <div className=\"row mt-2\">\r\n                      <div className=\"col\">\r\n                        <div className=\"custom-control custom-switch\">\r\n                          <input\r\n                            name=\"temporaod\"\r\n                            type=\"checkbox\"\r\n                            className=\"custom-control-input\"\r\n                            id=\"temporaod\"\r\n                            checked={this.props.temporaod}\r\n                            onChange={this.catchInputs}\r\n                          />\r\n                          <label\r\n                            className=\"custom-control-label\"\r\n                            htmlFor=\"temporaod\"\r\n                          >\r\n                            <i className=\"fa fa-eye\"></i> Derecho\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col\">\r\n                        <div className=\"custom-control custom-switch\">\r\n                          <input\r\n                            name=\"temporaoi\"\r\n                            type=\"checkbox\"\r\n                            className=\"custom-control-input\"\r\n                            id=\"temporaoi\"\r\n                            checked={this.props.temporaoi}\r\n                            onChange={this.catchInputs}\r\n                          />\r\n                          <label\r\n                            className=\"custom-control-label\"\r\n                            htmlFor=\"temporaoi\"\r\n                          >\r\n                            <i className=\"fa fa-eye\"></i> Izquierdo\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    Frecuencia\r\n                    <span className=\"badge badge-pill\">\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"c_frecuencia\"\r\n                        maxLength=\"60\"\r\n                        className=\"form-control input-xs\"\r\n                        value={this.props.c_frecuencia}\r\n                        onChange={this.catchInputs}\r\n                      />\r\n                    </span>\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    <label htmlFor=\"c_intensidad\">Intensidad</label>\r\n                    <input\r\n                      type=\"range\"\r\n                      name=\"c_intensidad\"\r\n                      className=\"custom-range custom-range-info\"\r\n                      id=\"c_intensidad\"\r\n                      min=\"0\"\r\n                      max=\"4\"\r\n                      value={this.props.c_intensidad}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class InterrogatorioExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"headingThree\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#collapseThree\"\r\n              aria-expanded=\"false\"\r\n              aria-controls=\"collapseThree\"\r\n            >\r\n              Interrogatorios\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"collapseThree\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingThree\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <label>Interrogatorio inicial</label>\r\n                <textarea\r\n                  name=\"interrogatorio\"\r\n                  className=\"form-control\"\r\n                  value={this.props.interrogatorio}\r\n                  onChange={this.catchInputs}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12\">\r\n                <label>Cirugias oculares</label>\r\n                <textarea\r\n                  name=\"coa\"\r\n                  className=\"form-control\"\r\n                  value={this.props.coa}\r\n                  onChange={this.catchInputs}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12\">\r\n                <label>Antecedentes oculares patologicas personales</label>\r\n                <textarea\r\n                  name=\"aopp\"\r\n                  className=\"form-control\"\r\n                  rows=\"2\"\r\n                  value={this.props.aopp}\r\n                  onChange={this.catchInputs}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12\">\r\n                <label>Antecedentes oculares patologicas familiares</label>\r\n                <textarea\r\n                  name=\"aopf\"\r\n                  className=\"form-control\"\r\n                  rows=\"2\"\r\n                  value={this.props.aopf}\r\n                  onChange={this.catchInputs}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class KeraRetExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"heading\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#panel_100\"\r\n              aria-expanded=\"true\"\r\n              aria-controls=\"panel_100\"\r\n            >\r\n              Keratrometria y Retinoscopia\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"panel_100\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingOne\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-6\">Keratometria</div>\r\n              <div className=\"col-6\">Retinoscopia</div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fas fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"keratometriaod\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.keratometriaod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <i className=\"fas fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"keratometriaoi\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.keratometriaoi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"rsod\"\r\n                  maxLength=\"16\"\r\n                  className=\"form-control\"\r\n                  value={this.props.rsod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"rsoi\"\r\n                  maxLength=\"16\"\r\n                  className=\"form-control\"\r\n                  value={this.props.rsoi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class DiabetesExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"heading4\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#caja4\"\r\n              aria-expanded=\"false\"\r\n              aria-controls=\"caja4\"\r\n            >\r\n              Diabetes\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"caja4\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingThree\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-8\">\r\n                <label>Diab&eacute;tico</label>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <label>Fotocoagulaci&oacute;n laser</label>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-3\">Fecha</div>\r\n              <div className=\"col-2\">Rango de glucosa</div>\r\n              <div className=\"col-3\">Ultimo examen</div>\r\n              <div className=\"col-2\">\r\n                <div className=\"custom-control custom-switch\">\r\n                  <input\r\n                    name=\"d_fclod\"\r\n                    type=\"checkbox\"\r\n                    className=\"custom-control-input\"\r\n                    id=\"d_fclod\"\r\n                    checked={this.props.d_fclod}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                  <label className=\"custom-control-label\" htmlFor=\"d_fclod\">\r\n                    <i className=\"fa fa-eye\"></i> Derecho\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-2\">\r\n                <div className=\"custom-control custom-switch\">\r\n                  <input\r\n                    name=\"d_fcloi\"\r\n                    type=\"checkbox\"\r\n                    className=\"custom-control-input\"\r\n                    id=\"d_fcloi\"\r\n                    checked={this.props.d_fcloi}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                  <label className=\"custom-control-label\" htmlFor=\"d_fcloi\">\r\n                    <i className=\"fa fa-eye\"></i> Izquierdo\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-3\">\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"d_time\"\r\n                  className=\"form-control\"\r\n                  value={this.props.d_time}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"d_media\"\r\n                  className=\"form-control\"\r\n                  value={this.props.d_media}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"d_test\"\r\n                  className=\"form-control\"\r\n                  value={this.props.d_test}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"d_fclod_time\"\r\n                  className=\"form-control\"\r\n                  value={this.props.d_fclod_time}\r\n                  onChange={this.catchInputs}\r\n                  readOnly={this.props.d_fclod ? \"\" : \"readonly\"}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"d_fcloi_time\"\r\n                  className=\"form-control\"\r\n                  value={this.props.d_fcloi_time}\r\n                  onChange={this.catchInputs}\r\n                  readOnly={this.props.d_fcloi ? \"\" : \"readonly\"}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <label>Oftalmoscopia</label>\r\n                <textarea\r\n                  name=\"oftalmoscopia\"\r\n                  className=\"form-control\"\r\n                  value={this.props.oftalmoscopia}\r\n                  onChange={this.catchInputs}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class AgudezaExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"heading5\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#caja5\"\r\n              aria-expanded=\"false\"\r\n              aria-controls=\"caja5\"\r\n            >\r\n              Capacidad y agudeza visual\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"caja5\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingThree\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">Capacidad visual</div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"cvod\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control\"\r\n                  value={this.props.cvod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"cvoi\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control\"\r\n                  value={this.props.cvoi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-md-6\">Agudeza visual (Sin lentes)</div>\r\n              <div className=\"col-md-6\">\r\n                Agudeza visual (con la graduaci&oacute;n anterior)\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avslod\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control\"\r\n                  value={this.props.avslod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avsloi\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control\"\r\n                  value={this.props.avsloi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avcgaod\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.avcgaod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avcgaoi\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control input-xs\"\r\n                  value={this.props.avcgaoi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">Agudeza visual final</div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avfod\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control\"\r\n                  value={this.props.avfod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avfoi\"\r\n                  maxLength=\"12\"\r\n                  className=\"form-control\"\r\n                  value={this.props.avfoi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <i className=\"fa fa-eye\"></i>\r\n                <i className=\"fa fa-eye\"></i> <label>Ambos</label>\r\n                <br />\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"avf2o\"\r\n                  maxLength=\"25\"\r\n                  className=\"form-control\"\r\n                  value={this.props.avf2o}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class DiagnosticoExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"heading6\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#caja6\"\r\n              aria-expanded=\"false\"\r\n              aria-controls=\"caja6\"\r\n            >\r\n              Diagnostico\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"caja6\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingThree\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\"></div>\r\n              <div className=\"col-md-6\">Tensi&oacute;n ocular</div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-3\">\r\n                Diagnostico\r\n                <select\r\n                  name=\"diagnostico\"\r\n                  className=\"form-control\"\r\n                  value={this.props.diagnostico}\r\n                  onChange={this.catchInputs}\r\n                >\r\n                  <option value=\"Emetrope\">Em&eacute;trope</option>\r\n                  <option value=\"hipermetropia\">Hipermetrop&iacute;a</option>\r\n                  <option value=\"hipermetropia-astigmatismo\">\r\n                    Hipermetrop&iacute;a y astigmatismo\r\n                  </option>\r\n                  <option value=\"hipermetropia-miopia\">\r\n                    Hipermetrop&iacute;a y miop&iacute;a\r\n                  </option>\r\n                  <option value=\"astigmatismo-regla\">\r\n                    Astigmatismo con la regla\r\n                  </option>\r\n                  <option value=\"astigmatismo-contra-regla\">\r\n                    Astigmatismo contra la regla\r\n                  </option>\r\n                  <option value=\"astigmatismo-oblicuo\">\r\n                    Astigmatismo oblicuo\r\n                  </option>\r\n                  <option value=\"astigmatismo-miopia\">\r\n                    Astigmatismo/m&iacute;opico\r\n                  </option>\r\n                  <option value=\"miopia\">Miop&iacute;a</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"custom-control custom-switch\">\r\n                  <input\r\n                    name=\"presbicie\"\r\n                    type=\"checkbox\"\r\n                    className=\"custom-control-input\"\r\n                    id=\"presbicie\"\r\n                    checked={this.props.presbicie}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                  <label className=\"custom-control-label\" htmlFor=\"presbicie\">\r\n                    Presbicie\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Derecho</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"piod\"\r\n                  min=\"0\"\r\n                  max=\"40\"\r\n                  step=\"1\"\r\n                  className=\"form-control\"\r\n                  value={this.props.piod}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"pioi\"\r\n                  min=\"0\"\r\n                  max=\"40\"\r\n                  step=\"1\"\r\n                  className=\"form-control\"\r\n                  value={this.props.pioi}\r\n                  onChange={this.catchInputs}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <label>Tratamiento oftalmico</label>\r\n                <textarea\r\n                  name=\"txoftalmico\"\r\n                  className=\"form-control\"\r\n                  value={this.props.txoftalmico}\r\n                  onChange={this.catchInputs}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class ObservacionesExam extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-header\" id=\"heading8\">\r\n          <h2 className=\"mb-0\">\r\n            <button\r\n              className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#caja8\"\r\n              aria-expanded=\"false\"\r\n              aria-controls=\"caja8\"\r\n            >\r\n              Observaciones\r\n            </button>\r\n          </h2>\r\n        </div>\r\n        <div\r\n          id=\"caja8\"\r\n          className=\"collapse\"\r\n          aria-labelledby=\"headingThree\"\r\n          data-parent=\"#accordionExample\"\r\n        >\r\n          <div className=\"card-body\">\r\n            <textarea\r\n              name=\"observaciones\"\r\n              className=\"form-control\"\r\n              value={this.props.observaciones}\r\n              onChange={this.catchInputs}\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.props.onChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\n\r\nexport default class messenger extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      messages: [],\r\n      message: \"\",\r\n      load: true,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getMessengers();\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    //window.$(\"#boxchat\").scrollTop(window.$(\"#boxchat\").prop(\"scrollHeight\"));\r\n    if (props.pagado !== this.props.pagado) {\r\n      console.log(\"Recargando chat\");\r\n      this.getMessengers();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data } = this.props,\r\n      { messages, load, message } = this.state,\r\n      user = data.idUser;\r\n\r\n    return (\r\n      <div className=\"card direct-chat direct-chat-primary\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title\">\r\n            <i className=\"fas fa-comments mr-1\"></i>\r\n            Chat\r\n          </h3>\r\n        </div>\r\n\r\n        {load ? (\r\n          <div className=\"card-body\">\r\n            <div className=\"card-text text-center p-4\">\r\n              <div className=\"spinner-border text-primary\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : messages.length ? (\r\n          <React.Fragment>\r\n            <div className=\"card-body\">\r\n              <div className=\"direct-chat-messages\" id=\"boxchat\">\r\n                {messages.map((message) => {\r\n                  let avatar = \"/img/avatars/avatar5.png\";\r\n\r\n                  if (message.created_user.rol === 1)\r\n                    avatar = \"/img/avatars/avatar2.png\";\r\n                  if (!message.created_user.rol)\r\n                    avatar = \"/img/avatars/avatar3.png\";\r\n                  if (message.created_user.id === 2)\r\n                    avatar = \"/img/avatars/avatar4.png\";\r\n                  return (\r\n                    <div\r\n                      className={\r\n                        message.created_user.id === user\r\n                          ? \"direct-chat-msg right\"\r\n                          : \"direct-chat-msg\"\r\n                      }\r\n                      key={message.id}\r\n                    >\r\n                      <div className=\"direct-chat-infos clearfix\">\r\n                        <span\r\n                          className={\r\n                            message.created_user.id === user\r\n                              ? \"direct-chat-name float-right\"\r\n                              : \"direct-chat-name float-left\"\r\n                          }\r\n                        >\r\n                          {message.created_user.name}\r\n                        </span>\r\n                        <span\r\n                          className={\r\n                            message.created_user.id === user\r\n                              ? \"direct-chat-timestamp float-left\"\r\n                              : \"direct-chat-timestamp float-right\"\r\n                          }\r\n                        >\r\n                          {moment(message.updated_at).format(\"lll\")}\r\n                        </span>\r\n                      </div>\r\n                      <img\r\n                        className=\"direct-chat-img\"\r\n                        src={\r\n                          message.created_user.id === 1\r\n                            ? \"/img/avatars/OrusBot.png\"\r\n                            : avatar\r\n                        }\r\n                        alt=\"message user image1\"\r\n                      />\r\n                      <div className=\"direct-chat-text\">{message.mensaje}</div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </React.Fragment>\r\n        ) : (\r\n          <div className=\"card-body\">\r\n            <div className=\"card-text text-center p-4\">\r\n              <h5>\r\n                <i className=\"fas fa-comment-slash mr-1\"></i>\r\n                No hay mensajes aun\r\n              </h5>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"card-footer\">\r\n          <div className=\"input-group\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"message\"\r\n              placeholder=\"Escriba un mensaje ...\"\r\n              className=\"form-control\"\r\n              value={message}\r\n              onChange={this.handleMessege}\r\n            />\r\n            <span className=\"input-group-append\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={this.sendMessenger}\r\n                disabled={message.length > 5 ? false : true}\r\n              >\r\n                Enviar\r\n              </button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleMessege = (e) => {\r\n    let { value, name } = e.target;\r\n    this.setState({\r\n      [name]: value.toLowerCase(),\r\n    });\r\n  };\r\n  sendMessenger = () => {\r\n    const { message, load, host, token } = this.state,\r\n      { table, idRow } = this.props,\r\n      url = \"http://\" + host + \"/api/messengers\",\r\n      body = {\r\n        table,\r\n        idRow,\r\n        user: \"\",\r\n        message,\r\n      };\r\n\r\n    //Mandamos señal de procesamiento\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n    console.log(\"Enviando mensajes a la API\");\r\n    //Realiza la peticion de los contactos\r\n    fetch(url, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(body),\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.data) {\r\n          console.log(\"Almacenado mensajes\");\r\n          this.getMessengers();\r\n        } else {\r\n          console.error(data.message);\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  };\r\n  getMessengers = () => {\r\n    //Variables en localStorage\r\n    const { load, host, token } = this.state,\r\n      { table, idRow } = this.props,\r\n      url = \"http://\" + host + \"/api/messengers\",\r\n      type = \"&table=\" + table + \"&idRow=\" + idRow,\r\n      page = \"?page=1\";\r\n\r\n    //Mandamos señal de procesamiento\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n    console.log(\"Solicitando mensajes de la API\");\r\n    //Realiza la peticion de los contactos\r\n    fetch(url + page + type, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.data) {\r\n          console.log(\"Almacenado mensajes\");\r\n          this.setState({\r\n            messages: data.data,\r\n            message: \"\",\r\n            load: false,\r\n          });\r\n        } else {\r\n          console.error(data.message);\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport SearchContact from \"../Contacts/searchContactCard\";\r\nimport Recomendaciones from \"./recomendaciones\";\r\nimport Generales from \"./generalesExam\";\r\nimport Interrogatorios from \"./interrogatoriosExam\";\r\nimport KeraRet from \"./keraRetExam\";\r\nimport Diabetes from \"./diabetesExam\";\r\nimport Agudeza from \"./agudezaExam\";\r\nimport Diagnostico from \"./diagnosticoExam\";\r\nimport Graduacion from \"./graduacionExam\";\r\nimport Observaciones from \"./observacionesExam\";\r\nimport Chat from \"../Layouts/messenger\";\r\n\r\nexport default class ExamAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let contact = JSON.parse(localStorage.getItem(\"OrusContactInUse\"));\r\n    this.state = {\r\n      id: 0,\r\n      edad: 0,\r\n      keratometriaoi: \"\",\r\n      keratometriaod: \"\",\r\n      pantalleooi: \"\",\r\n      pantalleood: \"\",\r\n      interrogatorio: \"\",\r\n      cefalea: false,\r\n      c_frecuencia: \"\",\r\n      c_intensidad: 0,\r\n      frontal: false,\r\n      temporal: false,\r\n      occipital: false,\r\n      generality: false,\r\n      temporaoi: false,\r\n      temporaod: false,\r\n      coa: \"\",\r\n      aopp: \"\",\r\n      aopf: \"\",\r\n      avsloi: \"\",\r\n      avslod: \"\",\r\n      avcgaoi: \"\",\r\n      avcgaod: \"\",\r\n      cvoi: \"\",\r\n      cvod: \"\",\r\n      oftalmoscopia: \"\",\r\n      rsoi: \"\",\r\n      rsod: \"\",\r\n      diagnostico: \"Hemetrope\",\r\n      presbicie: true,\r\n      txoftalmico: \"\",\r\n      esferaoi: 0,\r\n      esferaod: 0,\r\n      cilindroi: 0,\r\n      cilindrod: 0,\r\n      ejeoi: 0,\r\n      ejeod: 0,\r\n      adicioni: 0,\r\n      adiciond: 0,\r\n      dpoi: 0,\r\n      dpod: 0,\r\n      avfoi: \"\",\r\n      avfod: \"\",\r\n      avf2o: \"\",\r\n      lcmarca: \"\",\r\n      lcgoi: \"\",\r\n      lcgod: \"\",\r\n      txoptico: \"\",\r\n      alturaoi: 0,\r\n      alturaod: 0,\r\n      pioi: 0,\r\n      piod: 0,\r\n      observaciones: \"\",\r\n      pc: false,\r\n      tablet: false,\r\n      movil: false,\r\n      lap: false,\r\n      lap_time: \"00:00\",\r\n      pc_time: \"00:00\",\r\n      tablet_time: \"00:00\",\r\n      movil_time: \"00:00\",\r\n      d_time: \"00:00\",\r\n      d_media: \"\",\r\n      d_test: \"\",\r\n      d_fclod: false,\r\n      d_fcloi: false,\r\n      d_fclod_time: \"00:00\",\r\n      d_fcloi_time: \"00:00\",\r\n      category_id: 0,\r\n      category_ii: 0,\r\n      item1: 0,\r\n      item2: 0,\r\n      contact_id: contact && contact.id ? contact.id : 0,\r\n      order_id: 0,\r\n      status: 0,\r\n      created_at: \"\",\r\n      load: false,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    //Variables\r\n    let id = this.props.match.params.id;\r\n    if (id) {\r\n      this.getExam(id);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n        contact_id,\r\n        id,\r\n        order_id,\r\n        edad,\r\n        status,\r\n        created_at,\r\n        category_id,\r\n        category_ii,\r\n        cilindrod,\r\n        cilindroi,\r\n        esferaod,\r\n        esferaoi,\r\n      } = this.state,\r\n      { data } = this.props,\r\n      hoy = moment(Date.now()),\r\n      registro = moment(created_at),\r\n      toDay = moment(hoy).isSame(registro, \"day\");\r\n\r\n    return (\r\n      <form className=\"row\">\r\n        <div className=\"col-3\">\r\n          <SearchContact\r\n            contact={contact_id}\r\n            edad={edad}\r\n            status={status || id ? !toDay : true || order_id ? false : true}\r\n            getIdContact={this.getIdContact}\r\n            changePage={this.changePage}\r\n          />\r\n          {contact_id && order_id ? (\r\n            <Chat data={data} table=\"orders\" idRow={order_id} />\r\n          ) : null}\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"card card-info card-outline\">\r\n            <div className=\"card-header\">\r\n              <h3 className=\"card-title\">\r\n                <i className=\"fas fa-notes-medical mr-1\"></i>\r\n                {this.state.id ? \"Examen\" : \"Nuevo examen\"}\r\n              </h3>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <div className=\"accordion\" id=\"accordionExample\">\r\n                {contact_id ? (\r\n                  <React.Fragment>\r\n                    <Generales\r\n                      pc={this.state.pc}\r\n                      tablet={this.state.tablet}\r\n                      movil={this.state.movil}\r\n                      lap={this.state.lap}\r\n                      lap_time={this.state.lap_time}\r\n                      pc_time={this.state.pc_time}\r\n                      tablet_time={this.state.tablet_time}\r\n                      movil_time={this.state.movil_time}\r\n                      cefalea={this.state.cefalea}\r\n                      c_frecuencia={this.state.c_frecuencia}\r\n                      c_intensidad={this.state.c_intensidad}\r\n                      frontal={this.state.frontal}\r\n                      temporal={this.state.temporal}\r\n                      occipital={this.state.occipital}\r\n                      generality={this.state.generality}\r\n                      temporaoi={this.state.temporaoi}\r\n                      temporaod={this.state.temporaod}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n\r\n                    <Interrogatorios\r\n                      interrogatorio={this.state.interrogatorio}\r\n                      coa={this.state.coa}\r\n                      aopp={this.state.aopp}\r\n                      aopf={this.state.aopf}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n\r\n                    <KeraRet\r\n                      keratometriaoi={this.state.keratometriaoi}\r\n                      keratometriaod={this.state.keratometriaod}\r\n                      rsoi={this.state.rsoi}\r\n                      rsod={this.state.rsod}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n\r\n                    <Diabetes\r\n                      d_time={this.state.d_time}\r\n                      d_media={this.state.d_media}\r\n                      d_test={this.state.d_test}\r\n                      d_fclod={this.state.d_fclod}\r\n                      d_fclod_time={this.state.d_fclod_time}\r\n                      d_fcloi={this.state.d_fcloi}\r\n                      d_fcloi_time={this.state.d_fcloi_time}\r\n                      oftalmoscopia={this.state.oftalmoscopia}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n\r\n                    <Agudeza\r\n                      cvod={this.state.cvod}\r\n                      cvoi={this.state.cvoi}\r\n                      avslod={this.state.avslod}\r\n                      avsloi={this.state.avsloi}\r\n                      avcgaod={this.state.avcgaod}\r\n                      avcgaoi={this.state.avcgaoi}\r\n                      avfod={this.state.avfod}\r\n                      avfoi={this.state.avfoi}\r\n                      avf2o={this.state.avf2o}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n\r\n                    <Diagnostico\r\n                      diagnostico={this.state.diagnostico}\r\n                      presbicie={this.state.presbicie}\r\n                      piod={this.state.piod}\r\n                      pioi={this.state.pioi}\r\n                      txoftalmico={this.state.txoftalmico}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n\r\n                    <div className=\"card\">\r\n                      <div className=\"card-header\" id=\"heading7\">\r\n                        <h2 className=\"mb-0\">\r\n                          <button\r\n                            className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n                            type=\"button\"\r\n                            data-toggle=\"collapse\"\r\n                            data-target=\"#caja7\"\r\n                            aria-expanded=\"false\"\r\n                            aria-controls=\"caja7\"\r\n                          >\r\n                            Graduaci&oacute;n\r\n                          </button>\r\n                        </h2>\r\n                      </div>\r\n                      <div\r\n                        id=\"caja7\"\r\n                        className=\"collapse\"\r\n                        aria-labelledby=\"headingThree\"\r\n                        data-parent=\"#accordionExample\"\r\n                      >\r\n                        <div className=\"card-body\">\r\n                          <Graduacion\r\n                            esferaod={esferaod}\r\n                            esferaoi={esferaoi}\r\n                            cilindrod={cilindrod}\r\n                            cilindroi={cilindroi}\r\n                            ejeod={this.state.ejeod}\r\n                            ejeoi={this.state.ejeoi}\r\n                            adiciond={this.state.adiciond}\r\n                            adicioni={this.state.adicioni}\r\n                            dpod={this.state.dpod}\r\n                            dpoi={this.state.dpoi}\r\n                            alturaod={this.state.alturaod}\r\n                            alturaoi={this.state.alturaoi}\r\n                            lcmarca={this.state.lcmarca}\r\n                            lcgod={this.state.lcgod}\r\n                            lcgoi={this.state.lcgoi}\r\n                            onChangeInput={this.handleChangeInput}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <Observaciones\r\n                      observaciones={this.state.observaciones}\r\n                      onChangeInput={this.handleChangeInput}\r\n                    />\r\n\r\n                    <div className=\"card\">\r\n                      <div className=\"card-header\" id=\"heading9\">\r\n                        <h2 className=\"mb-0\">\r\n                          <button\r\n                            className=\"btn btn-link btn-block text-left text-info collapsed\"\r\n                            type=\"button\"\r\n                            data-toggle=\"collapse\"\r\n                            data-target=\"#caja9\"\r\n                            aria-expanded=\"false\"\r\n                            aria-controls=\"caja9\"\r\n                          >\r\n                            Recomendaciones\r\n                          </button>\r\n                        </h2>\r\n                      </div>\r\n                      <div id=\"caja9\" className=\"collapse p-2\">\r\n                        <div className=\"row\">\r\n                          <div className=\"col\">\r\n                            <Recomendaciones\r\n                              category_id={parseInt(category_id)}\r\n                              esferaod={esferaod}\r\n                              esferaoi={esferaoi}\r\n                              cilindrod={cilindrod}\r\n                              cilindroi={cilindroi}\r\n                              nameCategory=\"category_id\"\r\n                              nameItem=\"item1\"\r\n                              title=\"Recomendacion principal\"\r\n                              data={data}\r\n                              onChangeInput={(obj) => {\r\n                                if (typeof obj === \"object\") {\r\n                                  this.setState(obj);\r\n                                }\r\n                              }}\r\n                              update={true}\r\n                            />\r\n                          </div>\r\n                          {category_id ? (\r\n                            <div className=\"col\">\r\n                              <Recomendaciones\r\n                                category_id={parseInt(category_ii)}\r\n                                esferaod={esferaod}\r\n                                esferaoi={esferaoi}\r\n                                cilindrod={cilindrod}\r\n                                cilindroi={cilindroi}\r\n                                nameCategory=\"category_ii\"\r\n                                nameItem=\"item2\"\r\n                                title=\"Recomendacion adicional\"\r\n                                data={data}\r\n                                onChangeInput={(obj) => {\r\n                                  if (typeof obj === \"object\") {\r\n                                    this.setState(obj);\r\n                                  }\r\n                                }}\r\n                                update={true}\r\n                              />\r\n                            </div>\r\n                          ) : null}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </React.Fragment>\r\n                ) : (\r\n                  <div className=\"card\">\r\n                    <div className=\"card-body text-info\">\r\n                      <i className=\"fas fa-exclamation-triangle mr-2\"></i>\r\n                      <label>Elija primero un paciente</label>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"card-footer text-right\">\r\n              <div className=\"btn-group\" role=\"group\">\r\n                <Link\r\n                  to=\"/consultorio\"\r\n                  className=\"btn btn-dark\"\r\n                  onClick={(e) => {\r\n                    this.changePage(\"/consultorio\");\r\n                  }}\r\n                >\r\n                  <i\r\n                    className={\r\n                      id ? \"fas fa-arrow-left mr-2\" : \"fas fa-ban mr-2\"\r\n                    }\r\n                  ></i>\r\n                  <strong>{id ? \"Regresar\" : \"Cancelar\"}</strong>\r\n                </Link>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-dark\"\r\n                  onClick={this.handleStatus}\r\n                >\r\n                  <i\r\n                    className={\r\n                      this.state.status\r\n                        ? \"fas fa-lock-open mr-1\"\r\n                        : \"fas fa-lock mr-1\"\r\n                    }\r\n                  ></i>\r\n                  <strong>{this.state.status ? \"Activar\" : \"Terminar\"}</strong>\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className={\r\n                    contact_id ? \"btn btn-info\" : \"btn btn-info disabled\"\r\n                  }\r\n                  onClick={this.handleSave}\r\n                  disabled={contact_id ? \"\" : \"disabled\"}\r\n                >\r\n                  <i className=\"fas fa-save mr-1\"></i>\r\n                  <strong>Guardar</strong>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n\r\n  handleChangeInput = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleStatus = () => {\r\n    this.setState({\r\n      status: !this.state.status,\r\n    });\r\n  };\r\n  getIdContact = (id, edad) => {\r\n    this.setState({\r\n      contact_id: id,\r\n      edad,\r\n    });\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name } = e.target,\r\n      value =\r\n        e.target.type === \"checkbox\"\r\n          ? e.target.checked\r\n          : e.target.value.toLowerCase();\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  handleSave = (e) => {\r\n    e.preventDefault();\r\n    let { host, token, id } = this.state;\r\n\r\n    //Verificar si los datos son validos.\r\n\r\n    //Confirmación de almacenamiento\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: id\r\n        ? \"¿Esta seguro de actualizar el examen?\"\r\n        : \"¿Esta seguro de crear un nuevo examen?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: id ? \"Actualizar\" : \"Crear\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          //Variables\r\n          let body = this.state,\r\n            //Identificamos la URL y el metodo segun sea el caso (Actualizar o agregar)\r\n            url = id\r\n              ? \"http://\" + host + \"/api/exams/\" + id\r\n              : \"http://\" + host + \"/api/exams\",\r\n            method = id ? \"PUT\" : \"POST\";\r\n          if (!body.category_id) delete body.category_id;\r\n          if (!body.category_ii) delete body.category_ii;\r\n\r\n          //Crear o modificar examen\r\n          console.log(\"Enviando datos del examen a la API\");\r\n          return fetch(url, {\r\n            method: method,\r\n            signal: this.signal,\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then((response) => {\r\n              if (!response.ok) {\r\n                throw new Error(response.statusText);\r\n              }\r\n              return response.json();\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch: \", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n        if (data.data) {\r\n          console.log(\"Examen almacenado\");\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: id\r\n              ? \"Examen actualizado con exito\"\r\n              : \"Examen almacenado con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          }).then((res) => this.props.history.goBack());\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar el examen\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  getExam = (id) => {\r\n    if (id) {\r\n      //Variables\r\n      let { host, token, load } = this.state;\r\n\r\n      //Mandamos señal de carga si no lo he hecho\r\n      if (!load) {\r\n        this.setState({\r\n          load: true,\r\n        });\r\n      }\r\n      //Realiza la peticion del examen por el id\r\n      console.log(\"Descargando datos del examen\");\r\n      fetch(\"http://\" + host + \"/api/exams/\" + id, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(response.statusText);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          if (data.data) {\r\n            console.log(\"Mostrando examenes\");\r\n            this.setState({\r\n              contact_id: data.data.paciente.id,\r\n              edad: data.data.edad,\r\n              id: data.data.id,\r\n              keratometriaoi: data.data.keratometriaoi,\r\n              keratometriaod: data.data.keratometriaod,\r\n              pantalleooi: data.data.pantalleooi,\r\n              pantalleood: data.data.pantalleood,\r\n              interrogatorio: data.data.interrogatorio,\r\n              cefalea: data.data.cefalea,\r\n              c_frecuencia: data.data.c_frecuencia,\r\n              c_intensidad: data.data.c_intensidad,\r\n              frontal: data.data.frontal,\r\n              temporal: data.data.temporal,\r\n              occipital: data.data.occipital,\r\n              generality: data.data.generality,\r\n              temporaoi: data.data.temporaoi,\r\n              temporaod: data.data.temporaod,\r\n              coa: data.data.coa,\r\n              aopp: data.data.aopp,\r\n              aopf: data.data.aopf,\r\n              avsloi: data.data.avsloi,\r\n              avslod: data.data.avslod,\r\n              avcgaoi: data.data.avcgaoi,\r\n              avcgaod: data.data.avcgaod,\r\n              cvoi: data.data.cvoi,\r\n              cvod: data.data.cvod,\r\n              oftalmoscopia: data.data.oftalmoscopia,\r\n              rsoi: data.data.rsoi,\r\n              rsod: data.data.rsod,\r\n              diagnostico: data.data.diagnostico,\r\n              presbicie: data.data.presbicie,\r\n              txoftalmico: data.data.txoftalmico,\r\n              esferaoi: data.data.esferaoi,\r\n              esferaod: data.data.esferaod,\r\n              cilindroi: data.data.cilindroi,\r\n              cilindrod: data.data.cilindrod,\r\n              ejeoi: data.data.ejeoi,\r\n              ejeod: data.data.ejeod,\r\n              adicioni: data.data.adicioni,\r\n              adiciond: data.data.adiciond,\r\n              dpoi: data.data.dpoi,\r\n              dpod: data.data.dpod,\r\n              avfoi: data.data.avfoi,\r\n              avfod: data.data.avfod,\r\n              avf2o: data.data.avf2o,\r\n              lcmarca: data.data.lcmarca,\r\n              lcgoi: data.data.lcgoi,\r\n              lcgod: data.data.lcgod,\r\n              txoptico: data.data.txoptico,\r\n              alturaoi: data.data.alturaoi,\r\n              alturaod: data.data.alturaod,\r\n              pioi: data.data.pioi,\r\n              piod: data.data.piod,\r\n              observaciones: data.data.observaciones,\r\n              pc: data.data.pc,\r\n              tablet: data.data.tablet,\r\n              movil: data.data.movil,\r\n              lap: data.data.lap,\r\n              lap_time: data.data.lap_time,\r\n              pc_time: data.data.pc_time,\r\n              tablet_time: data.data.tablet_time,\r\n              movil_time: data.data.movil_time,\r\n              d_time: data.data.d_time,\r\n              d_media: data.data.d_media,\r\n              d_test: data.data.d_test,\r\n              d_fclod: data.data.d_fclod,\r\n              d_fcloi: data.data.d_fcloi,\r\n              d_fclod_time: data.data.d_fclod_time,\r\n              d_fcloi_time: data.data.d_fcloi_time,\r\n              category_id: data.data.category_id ? data.data.category_id : 0,\r\n              category_ii: data.data.category_ii ? data.data.category_ii : 0,\r\n              item1: data.data.item1,\r\n              item2: data.data.item2,\r\n              order_id: data.data.order_id ? data.data.order_id : 0,\r\n              status: data.data.estado,\r\n              created_at: data.data.created_at,\r\n            });\r\n          } else {\r\n            console.error(\"Orus: \", data.message);\r\n            window.Swal.fire(\"Error\", \"Al descargar el examen\", \"error\");\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.Swal.fire(\r\n            \"Fallo de conexion\",\r\n            \"Verifique la conexion al servidor\",\r\n            \"error\"\r\n          );\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Filter extends Component {\r\n  render() {\r\n    const { search, status } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"btn-group\">\r\n          <a\r\n            href=\"#Filters\"\r\n            className=\"btn btn-tool text-dark\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#filters\"\r\n          >\r\n            <i className=\"fas fa-filter\"></i>\r\n          </a>\r\n        </div>\r\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Busquedas</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n\r\n              <form className=\"modal-body\">\r\n                <div className=\"input-group mb-3\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por: paciente o # de orden\"\r\n                    value={search}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Estado</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-address-book\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"status\"\r\n                    value={status}\r\n                    onChange={this.changeFilters}\r\n                  >\r\n                    <option value=\"\">Todos</option>\r\n                    <option value=\"0\">En proceso</option>\r\n                    <option value=\"1\">Laboratorio</option>\r\n                    <option value=\"2\">Bicelación</option>\r\n                    <option value=\"3\">Terminado</option>\r\n                    <option value=\"4\">Garantia</option>\r\n                    <option value=\"5\">Baja</option>\r\n                  </select>\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"modal-footer\">\r\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-window-close mr-2\"></i>\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={\r\n                      search\r\n                        ? \"btn btn-outline-dark\"\r\n                        : \"btn btn-outline-dark disabled\"\r\n                    }\r\n                    onClick={this.onClickClean}\r\n                  >\r\n                    <i className=\"fas fa-eraser mr-2\"></i>\r\n                    Limpiar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    onClick={this.setFilters}\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-search mr-2\"></i>\r\n                    Buscar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  onKeyPressSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      this.setFilters();\r\n    }\r\n  };\r\n  onClickClean = () => {\r\n    this.props.changeFilters(\"search\", \"\");\r\n    this.props.changeFilters(\"status\", \"\");\r\n    this.setFilters();\r\n  };\r\n  setFilters = () => {\r\n    this.props.handleChangePage(1);\r\n    window.$(\"#filters\").modal(\"hide\");\r\n  };\r\n  changeFilters = (e) => {\r\n    const { name, value } = e.target;\r\n    this.props.changeFilters(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport Header from \"../Layouts/headerTable\";\r\nimport Filter from \"./index_filter\";\r\nimport Pagination from \"../Layouts/pagination\";\r\nimport Actions from \"../Layouts/actionsTable\";\r\n\r\nexport default class Contacts extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let sdd = JSON.parse(localStorage.getItem(\"OrusOrder\"));\r\n    this.state = {\r\n      pedidos: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      load: true,\r\n      page: sdd ? sdd.page : 1,\r\n      orderby: sdd ? sdd.orderby : \"created_at\",\r\n      order: sdd ? sdd.order : \"desc\",\r\n      search: sdd ? sdd.search : \"\",\r\n      status: sdd ? sdd.status : \"\",\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getPedidos();\r\n    localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\r\n    localStorage.setItem(\r\n      \"OrusOrder\",\r\n      JSON.stringify({\r\n        page: this.state.page,\r\n        orderby: this.state.orderby,\r\n        order: this.state.order,\r\n        search: this.state.search,\r\n        status: this.state.status,\r\n      })\r\n    );\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.load === false && this.state.load === true) {\r\n      console.log(\"Recargando pedidos\");\r\n      this.getPedidos();\r\n      localStorage.setItem(\r\n        \"OrusOrder\",\r\n        JSON.stringify({\r\n          page: this.state.page,\r\n          orderby: this.state.orderby,\r\n          order: this.state.order,\r\n          search: this.state.search,\r\n          status: this.state.status,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { pedidos, load } = this.state,\r\n      dataHeaders = [\r\n        { name: \"Folio\", type: \"id\", filter: true },\r\n        { name: \"Caja\" },\r\n        { name: \"Paciente\", type: \"contact_id\", filter: true },\r\n        { name: \"Detalles\" },\r\n        { name: \"Estado\" },\r\n        { name: \"Nota\" },\r\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\r\n        { name: \"Registrado\", type: \"created_at\", filter: true },\r\n      ];\r\n\r\n    return (\r\n      <div className=\"card card-warning card-outline\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title text-warning\">\r\n            <i className=\"fas fa-clipboard-list mr-1\"></i>\r\n            Listado de pedidos\r\n          </h3>\r\n          <div className=\"card-tools\">\r\n            <Link\r\n              to=\"/pedidos/registro\"\r\n              className=\"btn btn-outline-dark\"\r\n              onClick={(e) => {\r\n                this.changePage(\"/pedidos/registro\");\r\n              }}\r\n            >\r\n              <i className=\"fas fa-plus\"></i>\r\n            </Link>\r\n            <Filter\r\n              search={this.state.search}\r\n              status={this.state.status}\r\n              changeFilters={this.onchangeSearch}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n            <Pagination\r\n              meta={pedidos.meta}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-bordered table-hover table-nowrap\">\r\n            <Header\r\n              orderby={this.state.orderby}\r\n              order={this.state.order}\r\n              data={dataHeaders}\r\n              actions={true}\r\n              handleOrder={this.handleOrder}\r\n            />\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"10\" className=\"text-center\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(pedidos.data).length ? (\r\n                pedidos.data.map((pedido) => {\r\n                  return (\r\n                    <tr key={pedido.id}>\r\n                      <td>\r\n                        <span className=\"badge badge-warning text-capitalize\">\r\n                          {pedido.id}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-uppercase\">\r\n                        {pedido.estado === 2 ? (\r\n                          <span>\r\n                            {pedido.caja ? pedido.caja : \"Sin asignar\"}\r\n                          </span>\r\n                        ) : (\r\n                          \"--\"\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        <Link to={\"/pedidos/registro/\" + pedido.id}>\r\n                          <span className=\"badge badge-danger text-capitalize p-1\">\r\n                            {pedido.paciente.nombre}\r\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\r\n                          </span>\r\n                        </Link>\r\n                      </td>\r\n                      <td className=\"text-uppercase\">\r\n                        {pedido.estado === 1 ? (\r\n                          <div>\r\n                            <span className=\"text-danger mr-1\">\r\n                              {pedido.laboratorio\r\n                                ? pedido.laboratorio.nombre\r\n                                : \"Sin asignar\"}\r\n                            </span>\r\n                            {pedido.laboratorio ? \"/ \" + pedido.folio_lab : \"\"}\r\n                          </div>\r\n                        ) : pedido.estado === 2 ? (\r\n                          <small>\r\n                            {pedido.observaciones\r\n                              ? pedido.observaciones\r\n                              : \"sin observaciones\"}\r\n                          </small>\r\n                        ) : !pedido.estado ? (\r\n                          <small>\r\n                            {pedido.examen\r\n                              ? pedido.examen.estado === \"Terminado\"\r\n                                ? \"Examen completado\"\r\n                                : \"Examen no realizado\"\r\n                              : \"Examen no asignado\"}\r\n                          </small>\r\n                        ) : (\r\n                          \"--\"\r\n                        )}\r\n                      </td>\r\n                      <td>{this.setStatusString(pedido.estado)}</td>\r\n                      <td className=\"text-right\">\r\n                        {pedido.nota ? (\r\n                          <Link to={\"/notas/registro/\" + pedido.nota.id}>\r\n                            <span className=\"badge badge-success\">\r\n                              {pedido.nota.id}\r\n                            </span>\r\n                          </Link>\r\n                        ) : (\r\n                          \"--\"\r\n                        )}\r\n                      </td>\r\n                      <td>{moment(pedido.updated_at).fromNow()}</td>\r\n                      <td>{moment(pedido.created_at).format(\"ll\")}</td>\r\n                      <Actions\r\n                        id={pedido.id}\r\n                        item={pedido.paciente.nombre}\r\n                        delete={\r\n                          !pedido.estado && !pedido.nota\r\n                            ? this.handleDelete\r\n                            : null\r\n                        }\r\n                        edit={\"/pedidos/registro/\"}\r\n                      />\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"10\" className=\"text-center\">\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <Link\r\n            to=\"/pedidos/registro\"\r\n            className=\"btn btn-outline-warning\"\r\n            onClick={(e) => {\r\n              this.changePage(\"/pedidos/registro\");\r\n            }}\r\n          >\r\n            <i className=\"fas fa-plus mr-2\"></i>\r\n            <strong>Nuevo pedido</strong>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  setStatusString = (status) => {\r\n    switch (status) {\r\n      case 0:\r\n        return <span className=\"text-warning text-uppercase\">En proceso</span>;\r\n      case 1:\r\n        return <span className=\"text-info text-uppercase\">En laboratorio</span>;\r\n      case 2:\r\n        return <span className=\"text-primary text-uppercase\">Bicelación</span>;\r\n      case 3:\r\n        return <span className=\"text-success text-uppercase\">Terminado</span>;\r\n      case 4:\r\n        return <span className=\"text-info text-uppercase\">Garantia</span>;\r\n      default:\r\n        return <span className=\"text-secondary text-uppercase\">Baja</span>;\r\n    }\r\n  };\r\n  handleFilter = () => {\r\n    this.setState({\r\n      load: true,\r\n      page: 1,\r\n    });\r\n  };\r\n  onchangeSearch = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleOrder = (item) => {\r\n    this.setState({\r\n      orderby: item,\r\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\r\n      load: true,\r\n    });\r\n  };\r\n  handleChangePage = (id) => {\r\n    this.setState({\r\n      page: id,\r\n      load: true,\r\n    });\r\n  };\r\n  changePage = (id) => {\r\n    this.props.page(id);\r\n  };\r\n  handleDelete = (id, name) => {\r\n    window.Swal.fire({\r\n      title: \"Eliminar\",\r\n      text: \"¿Esta seguro de eliminar el pedido de \" + name.toUpperCase() + \"?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#d33\",\r\n      confirmButtonText: \"Eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          let { host, token } = this.state;\r\n\r\n          //Inicio de proceso de eliminción por API\r\n          console.log(\"Solicitud de eliminación de order por API\");\r\n          return fetch(\"http://\" + host + \"/api/orders/\" + id, {\r\n            method: \"DELETE\",\r\n            signal: this.signal,\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        console.log(\"Pedido eliminado\");\r\n        window.Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Pedido eliminado con exito\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then((res) => this.getPedidos());\r\n      } else if (result && !result.dismiss) {\r\n        console.log(\"Orus res: \", result);\r\n        window.Swal.fire(\r\n          \"Error\",\r\n          \"Se perdio la conexion con el servidor\",\r\n          \"error\"\r\n        );\r\n      }\r\n    });\r\n  };\r\n  getPedidos() {\r\n    //Variables en localStorage\r\n    let {\r\n        search,\r\n        status,\r\n        page,\r\n        order,\r\n        orderby,\r\n        host,\r\n        token,\r\n        load,\r\n      } = this.state,\r\n      url = \"http://\" + host + \"/api/orders\",\r\n      ordenar = `&orderby=${orderby}&order=${order}`,\r\n      buscar = search ? `&search=${search}` : \"\",\r\n      estado = status ? \"&status=\" + status : \"\",\r\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\";\r\n\r\n    //Mandamos señal de carga si no lo he hecho\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n\r\n    //Realiza la peticion de los contactos\r\n    console.log(\"Descargando ventas de API\");\r\n    fetch(url + pagina + ordenar + buscar + estado, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.statusText);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.data) {\r\n          console.log(\"Mostrando lista de pedidos\");\r\n          this.setState({\r\n            pedidos: data,\r\n            load: false,\r\n          });\r\n        } else {\r\n          console.error(\"Orus: \", data.message);\r\n          window.Swal.fire(\"Error\", \"Al descargar pedidos\", \"error\");\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(\"Orus: \" + e);\r\n        window.Swal.fire(\r\n          \"Fallo de conexion\",\r\n          \"Verifique la conexion al servidor\",\r\n          \"error\"\r\n        );\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      });\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Items extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: 0,\r\n      store_items_id: 0,\r\n      session: \"\",\r\n      cantidad: 1,\r\n      precio: 0,\r\n      subtotal: 0,\r\n      inStorage: 0,\r\n      producto: \"\",\r\n      out: 0,\r\n      descripcion: \"\",\r\n      itemNew: false,\r\n      itemsDb: [],\r\n      load: false,\r\n    };\r\n    this.total = 0;\r\n  }\r\n  componentDidMount() {\r\n    this.setState({\r\n      session: this.props.session,\r\n    });\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (this.state.itemNew && this.state.producto.length === 0) {\r\n      this.inputItem.focus();\r\n    }\r\n    /*\r\n    if (this.state.itemNew && this.state.cant === 1 && this.state.id) {\r\n      this.inputCant.focus();\r\n    }\r\n    */\r\n  }\r\n\r\n  render() {\r\n    let { itemNew, itemsDb, load } = this.state;\r\n    let { items } = this.props;\r\n    this.total = 0;\r\n\r\n    return (\r\n      <table className=\"table table-sm table-striped  mt-2\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\" style={{ width: 64 }}>\r\n              Cantidad\r\n            </th>\r\n            <th scope=\"col\">Descripcion</th>\r\n            <th scope=\"col\" className=\"text-center\" style={{ width: 120 }}>\r\n              Precio\r\n            </th>\r\n            <th scope=\"col\" className=\"text-center\" style={{ width: 120 }}>\r\n              Subtotal\r\n            </th>\r\n            <th scope=\"col\" style={{ width: 60 }}></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {itemNew ? (\r\n            <React.Fragment>\r\n              <tr>\r\n                <td>\r\n                  <input\r\n                    className={\r\n                      this.state.store_items_id\r\n                        ? \"form-control\"\r\n                        : \"form-control disabled\"\r\n                    }\r\n                    disabled={this.state.store_items_id ? false : true}\r\n                    type=\"number\"\r\n                    name=\"cantidad\"\r\n                    ref={(input) => {\r\n                      this.inputCant = input;\r\n                    }}\r\n                    value={this.state.cantidad}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    className={\r\n                      !this.state.store_items_id\r\n                        ? \"form-control\"\r\n                        : \"form-control disabled\"\r\n                    }\r\n                    disabled={!this.state.store_items_id ? false : true}\r\n                    type=\"text\"\r\n                    name=\"producto\"\r\n                    autoComplete=\"off\"\r\n                    ref={(input) => {\r\n                      this.inputItem = input;\r\n                    }}\r\n                    value={this.state.producto}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                  {this.state.store_items_id ? (\r\n                    <input\r\n                      className=\"form-control\"\r\n                      type=\"text\"\r\n                      name=\"descripcion\"\r\n                      placeholder=\"Detalles\"\r\n                      value={this.state.descripcion}\r\n                      onChange={this.catchInputs}\r\n                    />\r\n                  ) : null}\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    className={\r\n                      this.state.store_items_id\r\n                        ? \"form-control\"\r\n                        : \"form-control disabled\"\r\n                    }\r\n                    disabled={this.state.store_items_id ? false : true}\r\n                    type=\"number\"\r\n                    name=\"precio\"\r\n                    value={this.state.precio}\r\n                    onChange={this.catchInputs}\r\n                  />\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    className=\"form-control disabled\"\r\n                    type=\"number\"\r\n                    name=\"subtotal\"\r\n                    value={this.state.subtotal}\r\n                    readOnly={true}\r\n                  />\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    className=\"btn btn-outline-dark btn-sm\"\r\n                    onClick={this.addItem}\r\n                  >\r\n                    <i className=\"fas fa-plus\"></i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"5\">\r\n                    <div className=\"text-center\">\r\n                      <div\r\n                        className=\"spinner-border text-primary\"\r\n                        role=\"status\"\r\n                      >\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : itemsDb && itemsDb.length ? (\r\n                <tr>\r\n                  <td colSpan=\"5\">\r\n                    <div className=\"list-group\">\r\n                      {itemsDb.map((db) => {\r\n                        return (\r\n                          <a\r\n                            className=\"list-group-item list-group-item-action\"\r\n                            href={\"#\" + db.codigo}\r\n                            key={db.id}\r\n                            onClick={(e) => {\r\n                              e.preventDefault();\r\n                              this.handelClickItemDb(\r\n                                db.id,\r\n                                db.producto,\r\n                                db.precio,\r\n                                db.cantidades\r\n                              );\r\n                            }}\r\n                          >\r\n                            <div\r\n                              className=\"text-truncate\"\r\n                              style={{ maxWidth: \"90%\" }}\r\n                            >\r\n                              <span className=\"text-primary mr-2 text-uppercase\">\r\n                                ({db.codigo})\r\n                              </span>\r\n                              <label className=\"text-dark text-capitalize ml-2 mr-2\">\r\n                                {db.producto}\r\n                              </label>\r\n                              {db.marca ? (\r\n                                <span className=\"text-muted text-capitalize\">\r\n                                  / {db.marca.marca}\r\n                                </span>\r\n                              ) : null}\r\n                              {db.proveedor ? (\r\n                                <span className=\"text-muted text-capitaliz\">\r\n                                  / {db.proveedor.nombre}\r\n                                </span>\r\n                              ) : null}\r\n                            </div>\r\n                          </a>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ) : null}\r\n            </React.Fragment>\r\n          ) : null}\r\n          {items.length ? (\r\n            items.map((item, index) => {\r\n              this.total += item.subtotal * 1;\r\n              return (\r\n                <tr key={index}>\r\n                  <td className=\"text-right\">{item.cantidad}</td>\r\n                  <td>\r\n                    <span\r\n                      className={\r\n                        !item.inStorage\r\n                          ? \"badge badge-warning\"\r\n                          : \"badge badge-primary\"\r\n                      }\r\n                    >\r\n                      {item.producto}\r\n                      {item.descripcion ? \" (\" + item.descripcion + \")\" : null}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"text-right\">$ {item.precio.toFixed(2)}</td>\r\n                  <td className=\"text-right\">$ {item.subtotal.toFixed(2)}</td>\r\n                  <td className=\"d-print-none\">\r\n                    <button\r\n                      className={\r\n                        this.props.status\r\n                          ? \"btn btn-outline-light btn-sm disabled\"\r\n                          : \"btn btn-outline-light btn-sm\"\r\n                      }\r\n                      disabled={this.props.status ? true : false}\r\n                      onClick={(e) => {\r\n                        if (!this.props.status) this.deleteItem(index);\r\n                      }}\r\n                    >\r\n                      <i className=\"fas fa-trash\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })\r\n          ) : (\r\n            <tr>\r\n              <td className=\"text-center\" colSpan=\"5\">\r\n                No hay articulos cargados\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n        <tfoot>\r\n          <tr>\r\n            <td className=\"text-right\" colSpan=\"2\">\r\n              {!this.props.status ? (\r\n                <button\r\n                  className={\r\n                    this.props.status\r\n                      ? \"btn btn-outline-success btn-sm disabled\"\r\n                      : \"btn btn-outline-success btn-sm\"\r\n                  }\r\n                  disabled={this.props.status ? true : false}\r\n                  onClick={this.handleNewItem}\r\n                >\r\n                  <i\r\n                    className={itemNew ? \"fas fa-times-circle\" : \"fas fa-plus\"}\r\n                  ></i>\r\n                </button>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </td>\r\n            <th scope=\"row\" className=\"text-right\">\r\n              Subtotal\r\n            </th>\r\n            <td className=\"text-right\">$ {this.total.toFixed(2)}</td>\r\n            <td></td>\r\n          </tr>\r\n        </tfoot>\r\n      </table>\r\n    );\r\n  }\r\n\r\n  handelClickItemDb = (id, producto, precio, cant) => {\r\n    if (id) {\r\n      this.setState({\r\n        id: 0,\r\n        store_items_id: id,\r\n        producto,\r\n        precio,\r\n        subtotal: this.state.cantidad * precio,\r\n        //Verificando que exitan los productos en almacen\r\n        inStorage: cant >= this.state.cantidad ? 1 : 0,\r\n        out: cant,\r\n        itemsDb: [],\r\n      });\r\n    }\r\n  };\r\n  deleteItem = (id) => {\r\n    let { items } = this.props;\r\n    items.splice(id, 1);\r\n    this.props.ChangeInput(\"items\", items);\r\n  };\r\n  catchInputs = (e) => {\r\n    let { name, value, type } = e.target,\r\n      subtotal = 0;\r\n    if (name === \"cantidad\") {\r\n      value = value * 1;\r\n      subtotal = this.state.precio * value;\r\n    } else if (name === \"precio\") {\r\n      value = value * 1;\r\n      subtotal = this.state.cantidad * value;\r\n    } else if (name === \"descripcion\") {\r\n      subtotal = this.state.subtotal;\r\n    }\r\n    if (type === \"number\") {\r\n      value = value * 1;\r\n    }\r\n    if (name === \"producto\" && value.length > 3 && !this.state.store_items_id) {\r\n      let { load } = this.state;\r\n\r\n      //Revisamos que ya este cargando\r\n      if (!load) {\r\n        this.setState({\r\n          load: true,\r\n        });\r\n      }\r\n      if (this.timeSave) clearTimeout(this.timeSave);\r\n      this.timeSave = setTimeout(() => {\r\n        //Variables en localStorage\r\n        const varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n          url = \"http://\" + varLocalStorage.host + \"/api/store\",\r\n          search = \"?search=\" + value.replace(\"+\", \"%2b\"),\r\n          itemsPage = \"&itemsPage=6\";\r\n        //Realiza la peticion del usuario seun el id\r\n        console.log(\"Descargando datos del item\");\r\n        fetch(url + search + itemsPage, {\r\n          method: \"GET\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: \"Bearer \" + varLocalStorage.token,\r\n          },\r\n        })\r\n          .then((response) => {\r\n            if (!response.ok) {\r\n              throw new Error(response.statusText);\r\n            }\r\n            return response.json();\r\n          })\r\n          .then((data) => {\r\n            if (data.data && data.data.length) {\r\n              console.log(\"Almacenando datos del item del DB\");\r\n              this.setState({\r\n                itemsDb: data.data,\r\n              });\r\n            } else if (data.message) {\r\n              console.log(\r\n                \"No hay articulos en la buscada de items\",\r\n                data.message\r\n              );\r\n            }\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          })\r\n          .catch((e) => {\r\n            console.error(e);\r\n            window.Swal.fire(\r\n              \"Fallo de conexion\",\r\n              \"Verifique la conexion al servidor\",\r\n              \"error\"\r\n            );\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          });\r\n      }, 1500);\r\n    }\r\n\r\n    this.setState({\r\n      [name]: value,\r\n      subtotal,\r\n    });\r\n  };\r\n  addItem = (e) => {\r\n    e.preventDefault();\r\n    let items = this.props.items,\r\n      item = this.state;\r\n\r\n    item.inStorage = item.out >= item.cantidad ? 1 : 0;\r\n    item.out = item.out >= item.cantidad ? 0 : item.cantidad - item.out;\r\n    item.producto = item.descripcion\r\n      ? item.producto + \"  (\" + item.descripcion + \")\"\r\n      : item.producto;\r\n\r\n    delete item.itemNew;\r\n    delete item.itemsDb;\r\n    delete item.items;\r\n    items.push(item);\r\n\r\n    this.setState({\r\n      id: 0,\r\n      store_items_id: 0,\r\n      cantidad: 1,\r\n      producto: \"\",\r\n      precio: 0,\r\n      total: 0,\r\n      inStorage: 0,\r\n      out: 0,\r\n      itemNew: false,\r\n    });\r\n    this.props.ChangeInput(\"items\", items);\r\n  };\r\n  handleNewItem = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      itemNew: !this.state.itemNew,\r\n      store_items_id: 0,\r\n      cantidad: 1,\r\n      producto: \"\",\r\n      precio: 0,\r\n      subtotal: 0,\r\n      inStorage: 0,\r\n      out: 0,\r\n      itemsDb: [],\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class labOrder extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      supplies: [],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.getContacts();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <div className=\"border border-warning rounded p-2\">\r\n            <label>Laboratorio</label>\r\n            <select\r\n              className={\r\n                this.props.status > 1 ? \"form-control disabled\" : \"form-control\"\r\n              }\r\n              disabled={this.props.status > 1 ? true : false}\r\n              name=\"lab_id\"\r\n              value={this.props.lab_id}\r\n              onChange={this.changeInput}\r\n            >\r\n              <option value=\"0\">Seleccione un proveedor</option>\r\n              {this.state.supplies.length\r\n                ? this.state.supplies.map((s) => {\r\n                    return (\r\n                      <option key={s.id} value={s.id}>\r\n                        {s.nombre}\r\n                      </option>\r\n                    );\r\n                  })\r\n                : \"\"}\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"border border-warning rounded p-2\">\r\n            <label>Folio</label>\r\n            <input\r\n              type=\"text\"\r\n              className={\r\n                this.props.status > 1 ? \"form-control disabled\" : \"form-control\"\r\n              }\r\n              disabled={this.props.status > 1 ? true : false}\r\n              name=\"npedidolab\"\r\n              value={this.props.npedidolab}\r\n              onChange={this.changeInput}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changeInput = (e) => {\r\n    e.preventDefault();\r\n    let { name, value } = e.target;\r\n    this.props.ChangeInput(name, value);\r\n  };\r\n  getContacts = () => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      url = \"http://\" + varLocalStorage.host + \"/api/contacts\",\r\n      type = \"&type=1&business=1\",\r\n      //search = word ? `&search=${word}` : \"\",\r\n      page = \"?page=1\";\r\n    console.log(\"Descargando proveedores de la API\");\r\n    //Realiza la peticion de los contactos\r\n    fetch(url + page + type, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + varLocalStorage.token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Algo salio mal, intentelo mas tarde.\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.data) {\r\n          console.log(\"Almacenado proveedores\");\r\n          this.setState({\r\n            supplies: data.data,\r\n          });\r\n        }\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class statusOrder extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <div className=\"border border-warning rounded p-2\">\r\n            <label htmlFor=\"lab\">Estado</label>\r\n            <select\r\n              className=\"form-control\"\r\n              name=\"status\"\r\n              value={this.props.status}\r\n              onChange={this.changeInput}\r\n            >\r\n              <option value=\"0\">En proceso</option>\r\n              <option value=\"1\">Laboratorio</option>\r\n              <option value=\"2\">Bicelación</option>\r\n              <option value=\"3\">Terminado</option>\r\n              <option value=\"4\">Garantia</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changeInput = (e) => {\r\n    e.preventDefault();\r\n    let { name, value } = e.target;\r\n    value = value * 1;\r\n    this.props.ChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class bicelacionOrder extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <div className=\"border border-warning rounded p-2\">\r\n            <label htmlFor=\"lab\">Caja</label>\r\n            <input\r\n              type=\"text\"\r\n              className={\r\n                this.props.status > 2 ? \"form-control disabled\" : \"form-control\"\r\n              }\r\n              disabled={this.props.status > 2 ? true : false}\r\n              name=\"ncaja\"\r\n              value={this.props.ncaja ? this.props.ncaja : \"\"}\r\n              onChange={this.changeInput}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"border border-warning rounded p-2\">\r\n            <label>Observaciones</label>\r\n            <textarea\r\n              name=\"observaciones\"\r\n              className={\r\n                this.props.status > 2 ? \"form-control disabled\" : \"form-control\"\r\n              }\r\n              disabled={this.props.status > 2 ? true : false}\r\n              value={this.props.observaciones ? this.props.observaciones : \"\"}\r\n              onChange={this.changeInput}\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changeInput = (e) => {\r\n    e.preventDefault();\r\n    let { name, value } = e.target;\r\n    if (name === \"caja\") value = value * 1;\r\n    this.props.ChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class garantiaOrder extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <div className=\"border border-warning rounded p-2\">\r\n            <label htmlFor=\"lab\">Garantia</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changeInput = (e) => {\r\n    e.preventDefault();\r\n    let { name, value } = e.target;\r\n    value = value * 1;\r\n    this.props.ChangeInput(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport SearchContact from \"../Contacts/searchContactCard\";\r\nimport Items from \"./itemsOrder\";\r\nimport ListExam from \"../Exam/listsExams\";\r\nimport LabOrder from \"./labOrder\";\r\nimport Status from \"./statusOrder\";\r\nimport Bicelacion from \"./bicelacionOrder\";\r\nimport Garantia from \"./garantiaOrder\";\r\nimport Chat from \"../Layouts/messenger\";\r\n\r\nexport default class OrderAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Recogemos valores de registro previo\r\n    let contact = JSON.parse(localStorage.getItem(\"OrusContactInUse\"));\r\n    this.state = {\r\n      id: 0,\r\n      session:\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(10),\r\n      observaciones: \"\",\r\n      lab_id: 0,\r\n      npedidolab: \"\",\r\n      ncaja: 0,\r\n      items: [],\r\n      contact_id: contact && contact.id ? contact.id : 0,\r\n      usuario: \"\",\r\n      edad: 0,\r\n      exam_id: 0,\r\n      exam: {},\r\n      status: 0,\r\n      date: Date.now(),\r\n      load: true,\r\n      nota: 0,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    let id = this.props.match.params.id;\r\n\r\n    if (id) {\r\n      moment.locale(\"es\");\r\n      this.getOrder(id);\r\n    } else {\r\n      this.setState({\r\n        load: false,\r\n      });\r\n    }\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    //console.log(\"Renderizando Add en items\", state.load, this.state.load);\r\n    if (state.load !== this.state.load && this.state.load === true) {\r\n      //this.getOrder();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { contact_id, id, load, items, nota, status, edad } = this.state,\r\n      { data } = this.props;\r\n    let showTabActive = true;\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">\r\n          <SearchContact\r\n            contact={contact_id}\r\n            edad={this.state.edad}\r\n            status={nota ? true : status}\r\n            getIdContact={this.getIdContact}\r\n            changePage={this.changePage}\r\n          />\r\n          {contact_id ? (\r\n            <div className=\"card card-warning card-outline d-print-none mt-4\">\r\n              <div className=\"card-body\">\r\n                <Status status={status} ChangeInput={this.handleChangeInput} />\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        <div className=\"col\">\r\n          <div className=\"card card-warning card-outline\">\r\n            <div className=\"card-body\">\r\n              {contact_id && !load ? (\r\n                <React.Fragment>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-2\">\r\n                      <div className=\"border border-warning rounded p-2 d-flex justify-content-between align-items-center\">\r\n                        <span className=\"badge badge-pill badge-warning mx-2\">\r\n                          Folio\r\n                        </span>\r\n                        <strong>\r\n                          {this.state.id ? this.state.id : \"Nuevo\"}\r\n                        </strong>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                      <div className=\"border border-warning rounded p-2 d-flex justify-content-between align-items-center\">\r\n                        <span className=\"badge badge-pill badge-warning mx-2\">\r\n                          Creador\r\n                        </span>\r\n                        <strong>\r\n                          {this.state.usuario\r\n                            ? this.state.usuario\r\n                            : this.props.data.name}\r\n                        </strong>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-2\">\r\n                      <div className=\"border border-warning rounded p-2 d-flex justify-content-between align-items-center\">\r\n                        <span className=\"badge badge-pill badge-success mx-2\">\r\n                          Nota\r\n                        </span>\r\n                        <strong>\r\n                          {this.state.nota ? (\r\n                            <Link\r\n                              to={\"/notas/registro/\" + this.state.nota}\r\n                              onClick={(e) => {\r\n                                this.changePage(\"/notas/registro\");\r\n                              }}\r\n                            >\r\n                              {this.state.nota}\r\n                            </Link>\r\n                          ) : (\r\n                            \"--\"\r\n                          )}\r\n                        </strong>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col\">\r\n                      <div className=\"border border-warning rounded p-2 d-flex justify-content-between align-items-center\">\r\n                        <span className=\"badge badge-pill badge-warning mx-2\">\r\n                          Fecha\r\n                        </span>\r\n                        <strong>{moment(this.state.date).format(\"ll\")}</strong>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <ul className=\"nav nav-tabs mt-4\" id=\"myTab\" role=\"tablist\">\r\n                    <li className=\"nav-item\">\r\n                      <a\r\n                        className={\r\n                          (!status || status === 3) && showTabActive\r\n                            ? \"nav-link active\"\r\n                            : \"nav-link\"\r\n                        }\r\n                        href=\"#pedido\"\r\n                        data-toggle=\"tab\"\r\n                      >\r\n                        Nota\r\n                      </a>\r\n                      {(showTabActive = !status || status === 3 ? false : true)}\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <a className=\"nav-link\" data-toggle=\"tab\" href=\"#exam\">\r\n                        Examen\r\n                      </a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <a\r\n                        className={\r\n                          status === 1 && showTabActive\r\n                            ? \"nav-link active\"\r\n                            : !status\r\n                            ? \"nav-link disabled\"\r\n                            : \"nav-link\"\r\n                        }\r\n                        data-toggle=\"tab\"\r\n                        href=\"#lab\"\r\n                      >\r\n                        Laboratorio\r\n                      </a>\r\n                      {(showTabActive = status === 1 ? false : true)}\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <a\r\n                        className={\r\n                          status === 2\r\n                            ? \"nav-link active\"\r\n                            : !status || status === 1\r\n                            ? \"nav-link disabled\"\r\n                            : \"nav-link\"\r\n                        }\r\n                        data-toggle=\"tab\"\r\n                        href=\"#bicelacion\"\r\n                      >\r\n                        Bicelación\r\n                      </a>\r\n                      {(showTabActive = status === 2 ? false : true)}\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <a\r\n                        className={\r\n                          status === 4 ? \"nav-link active\" : \"nav-link disabled\"\r\n                        }\r\n                        data-toggle=\"tab\"\r\n                        href=\"#garantia\"\r\n                      >\r\n                        Garantia\r\n                      </a>\r\n                      {(showTabActive = status === 4 ? false : true)}\r\n                    </li>\r\n                  </ul>\r\n                  <div className=\"tab-content\" id=\"myTabContent\">\r\n                    <div\r\n                      className={\r\n                        !status || status === 3\r\n                          ? \"tab-pane fade pt-4 show active\"\r\n                          : \"tab-pane fade pt-4\"\r\n                      }\r\n                      id=\"pedido\"\r\n                    >\r\n                      <Items\r\n                        items={this.state.items}\r\n                        status={status}\r\n                        session={this.state.session}\r\n                        ChangeInput={this.handleChangeInput}\r\n                      />\r\n                    </div>\r\n                    <div className=\"tab-pane fade pt-4\" id=\"exam\">\r\n                      <ListExam\r\n                        paciente={contact_id}\r\n                        edad={edad}\r\n                        exam={this.state.exam}\r\n                        page={this.changePage}\r\n                        datos={data}\r\n                        select={true}\r\n                        status={this.state.status}\r\n                        ChangeInput={this.handleChangeInput}\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      className={\r\n                        status === 1\r\n                          ? \"tab-pane fade pt-4 show active\"\r\n                          : \"tab-pane fade pt-4\"\r\n                      }\r\n                      id=\"lab\"\r\n                    >\r\n                      <LabOrder\r\n                        lab_id={this.state.lab_id ? this.state.lab_id : 0}\r\n                        npedidolab={\r\n                          this.state.npedidolab ? this.state.npedidolab : \"\"\r\n                        }\r\n                        status={status}\r\n                        ChangeInput={this.handleChangeInput}\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      className={\r\n                        status === 2\r\n                          ? \"tab-pane fade pt-4 show active\"\r\n                          : \"tab-pane fade pt-4\"\r\n                      }\r\n                      id=\"bicelacion\"\r\n                    >\r\n                      <Bicelacion\r\n                        ncaja={this.state.ncaja}\r\n                        observaciones={this.state.observaciones}\r\n                        status={this.state.status}\r\n                        ChangeInput={this.handleChangeInput}\r\n                      />\r\n                    </div>\r\n                    <div\r\n                      className={\r\n                        status === 4\r\n                          ? \"tab-pane fade pt-4 show active\"\r\n                          : \"tab-pane fade pt-4\"\r\n                      }\r\n                      id=\"garantia\"\r\n                    >\r\n                      <Garantia\r\n                        status={status}\r\n                        ChangeInput={this.handleChangeInput}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </React.Fragment>\r\n              ) : this.state.load ? (\r\n                <div className=\"text-center\">\r\n                  <div className=\"spinner-border text-primary\" role=\"status\">\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"alert alert-light\">\r\n                  <h4 className=\"alert-heading\">Nuevo pedido</h4>\r\n                  <p>\r\n                    <i className=\"fas fa-user mr-1\"></i> Primero seleccione al\r\n                    paciente!\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"card-footer d-print-none text-right\">\r\n              <div className=\"btn-group\" role=\"group\">\r\n                <Link\r\n                  to=\"/pedidos\"\r\n                  className=\"btn btn-dark\"\r\n                  onClick={(e) => {\r\n                    this.changePage(\"/pedidos\");\r\n                  }}\r\n                >\r\n                  <i\r\n                    className={\r\n                      id ? \"fas fa-arrow-left mr-2\" : \"fas fa-ban mr-2\"\r\n                    }\r\n                  ></i>\r\n                  <strong>{id ? \"Regresar\" : \"Cancelar\"}</strong>\r\n                </Link>\r\n                <button\r\n                  className={\r\n                    contact_id && items.length\r\n                      ? \"btn btn-warning\"\r\n                      : \"btn btn-warning disabled\"\r\n                  }\r\n                  onClick={this.handleSave}\r\n                  disabled={contact_id && items.length ? false : true}\r\n                >\r\n                  <i className=\"fas fa-save mr-1\"></i>\r\n                  <strong>Guardar</strong>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {contact_id && id ? (\r\n          <div className=\"col-3 d-print-none\">\r\n            <Chat data={data} table=\"orders\" idRow={id} />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChangeInput = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  getIdContact = (contact_id, edad) => {\r\n    this.setState({\r\n      contact_id,\r\n      edad,\r\n    });\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n  handleSave = (e) => {\r\n    e.preventDefault();\r\n    let { id } = this.state;\r\n\r\n    //Verificamos campos validos\r\n\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: id\r\n        ? \"¿Esta seguro de actualizar el pedido?\"\r\n        : \"¿Esta seguro de crear un nuevo pedido?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#007bff\",\r\n      confirmButtonText: id ? \"Actualizar\" : \"Crear\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          let { host, token } = this.state,\r\n            url = id\r\n              ? \"http://\" + host + \"/api/orders/\" + id\r\n              : \"http://\" + host + \"/api/orders\",\r\n            method = id ? \"PUT\" : \"POST\",\r\n            body = {},\r\n            items = [];\r\n\r\n          this.state.items.map((item) => {\r\n            items.push({\r\n              cant: item.cantidad,\r\n              price: item.precio,\r\n              subtotal: item.subtotal,\r\n              inStorage: item.inStorage,\r\n              session: item.session,\r\n              out: item.out,\r\n              descripcion: item.descripcion,\r\n              store_items_id: item.store_items_id,\r\n            });\r\n            return false;\r\n          });\r\n          body = {\r\n            session: this.state.session,\r\n            observaciones: this.state.observaciones,\r\n            npedidolab: this.state.npedidolab,\r\n            ncaja: this.state.ncaja,\r\n            contact_id: this.state.contact_id,\r\n            status: this.state.status,\r\n            items: JSON.stringify(items),\r\n          };\r\n          if (this.state.exam_id) body.exam_id = this.state.exam_id;\r\n          if (this.state.lab_id) body.lab_id = this.state.lab_id;\r\n\r\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\r\n          console.log(\"Enviando datos a API para almacenar\");\r\n          return fetch(url, {\r\n            method: method,\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n\r\n        if (data.data) {\r\n          console.log(\"Pedido almacenada\");\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: id\r\n              ? \"Pedido actualizado con exito\"\r\n              : \"Pedido almacenado con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          }).then((res) => {\r\n            this.setState({\r\n              id: data.data.id,\r\n              nota: data.data.nota.id,\r\n            });\r\n            this.props.history.push(`/pedidos/registro/${data.data.id}`);\r\n          });\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar el pedido\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  getOrder = (id) => {\r\n    if (id > 0) {\r\n      //Variables en state\r\n      let { host, token } = this.state;\r\n      //Realiza la peticion del pedido\r\n      console.log(\"Solicitando datos de pedido a la API\");\r\n      fetch(\"http://\" + host + \"/api/orders/\" + id, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(response.statusText);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            console.log(\"Mostrando datos del pedido\");\r\n            this.setState({\r\n              id,\r\n              session: data.data.session,\r\n              observaciones: data.data.observaciones,\r\n              lab_id: data.data.laboratorio ? data.data.laboratorio.id : 0,\r\n              npedidolab: data.data.folio_lab,\r\n              ncaja: data.data.caja,\r\n              items: data.data.productos,\r\n              contact_id: data.data.paciente.id,\r\n              status: data.data.estado,\r\n              usuario: data.data.created,\r\n              exam_id: data.data.examen !== null ? data.data.examen.id : 0,\r\n              exam: data.data.examen !== null ? data.data.examen : {},\r\n              date: data.data.created_at,\r\n              nota: data.data.nota ? data.data.nota.id : 0,\r\n              load: false,\r\n            });\r\n          } else {\r\n            console.error(\"Orus: \", data.message);\r\n            window.Swal.fire(\r\n              \"Error\",\r\n              \"Error al descargar los pedidos\",\r\n              \"error\"\r\n            );\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Orus:\", error);\r\n          window.Swal.fire(\r\n            \"Fallo de conexion\",\r\n            \"Verifique la conexion al servidor\",\r\n            \"error\"\r\n          );\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    } else {\r\n      this.setState({\r\n        load: false,\r\n      });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Filter extends Component {\r\n  render() {\r\n    const { search, type, date } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"btn-group\">\r\n          <a\r\n            href=\"#Filters\"\r\n            className=\"btn btn-tool text-dark\"\r\n            data-toggle=\"modal\"\r\n            data-target=\"#filters\"\r\n          >\r\n            <i className=\"fas fa-filter\"></i>\r\n          </a>\r\n        </div>\r\n        <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"filters\">\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Busquedas</h5>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </div>\r\n\r\n              <form className=\"modal-body\">\r\n                <div className=\"input-group mb-3\">\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"search\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Por: paciente o # de venta\"\r\n                    value={search}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Estado</label>\r\n                  <div className=\"input-group-prepend ml-4\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-address-book\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    name=\"type\"\r\n                    value={type}\r\n                    onChange={this.changeFilters}\r\n                  >\r\n                    <option value=\"\">Todos</option>\r\n                    <option value=\"0\">Adeudos</option>\r\n                    <option value=\"1\">Pagados</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\">\r\n                  <label>Fecha</label>\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"date\"\r\n                    className=\"form-control\"\r\n                    value={date}\r\n                    onChange={this.changeFilters}\r\n                    onKeyPress={this.onKeyPressSearch}\r\n                  />\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"modal-footer\">\r\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-window-close mr-2\"></i>\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className={\r\n                      search || type\r\n                        ? \"btn btn-outline-dark\"\r\n                        : \"btn btn-outline-dark disabled\"\r\n                    }\r\n                    onClick={this.onClickClean}\r\n                  >\r\n                    <i className=\"fas fa-eraser mr-2\"></i>\r\n                    Limpiar\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-outline-dark\"\r\n                    onClick={this.setFilters}\r\n                    data-dismiss=\"modal\"\r\n                  >\r\n                    <i className=\"fas fa-search mr-2\"></i>\r\n                    Buscar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  onKeyPressSearch = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      this.setFilters();\r\n    }\r\n  };\r\n  onClickClean = () => {\r\n    this.props.changeFilters(\"search\", \"\");\r\n    this.props.changeFilters(\"type\", \"\");\r\n    this.props.changeFilters(\"date\", \"\");\r\n    this.setFilters();\r\n  };\r\n  setFilters = () => {\r\n    this.props.handleChangePage(1);\r\n    window.$(\"#filters\").modal(\"hide\");\r\n  };\r\n  changeFilters = (e) => {\r\n    const { name, value } = e.target;\r\n    this.props.changeFilters(name, value);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport Header from \"../Layouts/headerTable\";\r\nimport Filter from \"./index_filter\";\r\nimport Pagination from \"../Layouts/pagination\";\r\nimport Actions from \"../Layouts/actionsTable\";\r\n\r\nexport default class Contacts extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let sdd = JSON.parse(localStorage.getItem(\"OrusSales\"));\r\n    this.state = {\r\n      pedidos: {\r\n        data: [],\r\n        meta: {},\r\n      },\r\n      load: true,\r\n      page: sdd ? sdd.page : 1,\r\n      orderby: sdd ? sdd.orderby : \"created_at\",\r\n      order: sdd ? sdd.order : \"desc\",\r\n      search: sdd ? sdd.search : \"\",\r\n      type: sdd ? sdd.type : \"\",\r\n      date: sdd ? sdd.date : \"\",\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getPedidos();\r\n    localStorage.setItem(\"OrusContactInUse\", JSON.stringify({}));\r\n    localStorage.setItem(\r\n      \"OrusSales\",\r\n      JSON.stringify({\r\n        page: this.state.page,\r\n        orderby: this.state.orderby,\r\n        order: this.state.order,\r\n        search: this.state.search,\r\n        type: this.state.type,\r\n        date: this.state.date,\r\n      })\r\n    );\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (state.load === false && this.state.load === true) {\r\n      console.log(\"Recargando pedidos\");\r\n      this.getPedidos();\r\n      localStorage.setItem(\r\n        \"OrusSales\",\r\n        JSON.stringify({\r\n          page: this.state.page,\r\n          orderby: this.state.orderby,\r\n          order: this.state.order,\r\n          search: this.state.search,\r\n          type: this.state.type,\r\n          date: this.state.date,\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { pedidos, load, search, type, date } = this.state,\r\n      dataHeaders = [\r\n        { name: \"Folio\", type: \"id\", filter: true },\r\n        { name: \"Cliente\" },\r\n        { name: \"Sub-total\" },\r\n        { name: \"Descuento\" },\r\n        { name: \"Total\", type: \"total\", filter: true },\r\n        { name: \"Abonos\" },\r\n        { name: \"Por pagar\" },\r\n        { name: \"Actualizado\", type: \"updated_at\", filter: true },\r\n        { name: \"Registrado\", type: \"created_at\", filter: true },\r\n      ];\r\n\r\n    return (\r\n      <div className=\"card card-success card-outline\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title text-success\">\r\n            <i className=\"fas fa-cash-register mr-1\"></i>\r\n            Listado de notas\r\n          </h3>\r\n          <div className=\"card-tools\">\r\n            <Link\r\n              to=\"/notas/registro\"\r\n              className=\"btn btn-outline-dark\"\r\n              onClick={(e) => {\r\n                this.changePage(\"/notas/registro\");\r\n              }}\r\n            >\r\n              <i className=\"fas fa-plus\"></i>\r\n            </Link>\r\n            <Filter\r\n              search={search}\r\n              type={type}\r\n              date={date}\r\n              changeFilters={this.onchangeSearch}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n            <Pagination\r\n              meta={pedidos.meta}\r\n              handleChangePage={this.handleChangePage}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body table-responsive p-0\">\r\n          <table className=\"table table-bordered table-hover table-nowrap\">\r\n            <Header\r\n              orderby={this.state.orderby}\r\n              order={this.state.order}\r\n              data={dataHeaders}\r\n              actions={true}\r\n              handleOrder={this.handleOrder}\r\n            />\r\n            <tbody>\r\n              {load ? (\r\n                <tr>\r\n                  <td colSpan=\"10\" className=\"text-center p-4\">\r\n                    <div\r\n                      className=\"spinner-border text-primary mr-4\"\r\n                      role=\"status\"\r\n                    >\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                    <span className=\"font-weight-light font-italic\">\r\n                      Espere cargando datos de la venta\r\n                    </span>\r\n                  </td>\r\n                </tr>\r\n              ) : Object.keys(pedidos.data).length ? (\r\n                pedidos.data.map((pedido) => {\r\n                  return (\r\n                    <tr key={pedido.id}>\r\n                      <td>\r\n                        <span className=\"badge badge-success text-capitalize\">\r\n                          {pedido.id}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-uppercase\">\r\n                        <Link to={\"/notas/registro/\" + pedido.id}>\r\n                          <span className=\"badge badge-danger text-capitalize p-1\">\r\n                            {pedido.cliente.nombre}\r\n                            <i className=\"fas fa-pencil-alt ml-1\"></i>\r\n                          </span>\r\n                        </Link>\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        $ {pedido.subtotal.toFixed(2)}\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        $ {pedido.descuento.toFixed(2)}\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        $ {pedido.total.toFixed(2)}\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        $ {pedido.pagado.toFixed(2)}\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        {pedido.total - pedido.pagado <= 0 ? (\r\n                          <label className=\"text-success\">\r\n                            <i className=\"fas fa-check\"></i>\r\n                          </label>\r\n                        ) : (\r\n                          \"$ \" + (pedido.total - pedido.pagado).toFixed(2)\r\n                        )}\r\n                      </td>\r\n                      <td>{moment(pedido.updated_at).fromNow()}</td>\r\n                      <td>{moment(pedido.created_at).format(\"ll\")}</td>\r\n                      <Actions\r\n                        id={pedido.id}\r\n                        item={pedido.cliente.nombre}\r\n                        delete={pedido.pagado ? null : this.handleDelete}\r\n                        edit={\"/notas/registro/\"}\r\n                      />\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <th colSpan=\"10\" className=\"text-center\">\r\n                    No hay datos para mostrar\r\n                  </th>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <Link\r\n            to=\"/notas/registro\"\r\n            className=\"btn btn-outline-success\"\r\n            onClick={(e) => {\r\n              this.changePage(\"/notas/registro\");\r\n            }}\r\n          >\r\n            <i className=\"fas fa-plus mr-2\"></i>\r\n            <strong>Nueva nota</strong>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleFilter = () => {\r\n    this.setState({\r\n      load: true,\r\n      page: 1,\r\n    });\r\n  };\r\n  onchangeSearch = (key, value) => {\r\n    this.setState({\r\n      [key]: value,\r\n    });\r\n  };\r\n  handleOrder = (item) => {\r\n    this.setState({\r\n      orderby: item,\r\n      order: this.state.order === \"desc\" ? \"asc\" : \"desc\",\r\n      load: true,\r\n    });\r\n  };\r\n  handleChangePage = (id) => {\r\n    this.setState({\r\n      page: id,\r\n      load: true,\r\n    });\r\n  };\r\n  changePage = (id) => {\r\n    this.props.page(id);\r\n  };\r\n  handleDelete = (id, item) => {\r\n    window.Swal.fire({\r\n      title: \"Eliminar\",\r\n      text: \"¿Esta seguro de eliminar la venta de \" + item.toUpperCase() + \"?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#d33\",\r\n      confirmButtonText: \"Eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          let { host, token } = this.state;\r\n\r\n          //Inicio de proceso de eliminción por API\r\n          console.log(\"Solicitud de eliminación de venta por API\");\r\n          return fetch(\"http://\" + host + \"/api/sales/\" + id, {\r\n            method: \"DELETE\",\r\n            signal: this.signal,\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        console.log(\"Venta eliminada\");\r\n        window.Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Venta eliminada con exito\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then((res) => this.getPedidos());\r\n      } else if (result && !result.dismiss) {\r\n        console.log(\"Orus res: \", result);\r\n        window.Swal.fire(\r\n          \"Error\",\r\n          \"Se perdio la conexion con el servidor\",\r\n          \"error\"\r\n        );\r\n      }\r\n    });\r\n  };\r\n  getPedidos = () => {\r\n    //Variables en localStorage\r\n    let {\r\n        host,\r\n        token,\r\n        order,\r\n        orderby,\r\n        search,\r\n        page,\r\n        type,\r\n        date,\r\n        load,\r\n      } = this.state,\r\n      url = \"http://\" + host + \"/api/sales\",\r\n      ordenar = `&orderby=${orderby}&order=${order}`,\r\n      buscar = search ? `&search=${search}` : \"\",\r\n      pagina = page > 0 ? \"?page=\" + page : \"?page=1\",\r\n      tipo = type === \"\" ? \"\" : \"&type=\" + type,\r\n      fecha = date === \"\" ? \"\" : \"&date=\" + date;\r\n\r\n    //Mandamos señal de carga si no lo he hecho\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n\r\n    //Realiza la peticion de ventas\r\n    console.log(\"Descargando ventas de API\");\r\n    fetch(url + pagina + ordenar + buscar + tipo + fecha, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          console.log(res);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        console.log(\"Descargando ventas\");\r\n        this.setState({\r\n          pedidos: data,\r\n          load: false,\r\n        });\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\n\r\nexport default class AddAbono extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      metodopago: 1,\r\n      total: 0,\r\n      banco: \"\",\r\n      auth: \"\",\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"modal\" tabIndex=\"-1\" role=\"dialog\" id=\"abonos\">\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title\">Abono</h5>\r\n              <button\r\n                type=\"button\"\r\n                className=\"close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n              >\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n            </div>\r\n\r\n            <form className=\"modal-body\">\r\n              <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                  <label>Fecha</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control-plaintext\"\r\n                    readOnly={true}\r\n                    value={moment().format(\"L\")}\r\n                  />\r\n                </div>\r\n                <div className=\"col\">\r\n                  <label>Usuario</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control-plaintext\"\r\n                    readOnly={true}\r\n                    value={this.props.user}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mb-2\">\r\n                <div className=\"col\">\r\n                  <label>Metodo de pago</label>\r\n                  <select\r\n                    name=\"metodopago\"\r\n                    className=\"custom-select\"\r\n                    value={this.state.metodopago}\r\n                    onChange={this.onChangeValue}\r\n                  >\r\n                    <option value=\"1\">Efectivo</option>\r\n                    <option value=\"2\">Tarjeta de debito</option>\r\n                    <option value=\"3\">Tarjeta de credito</option>\r\n                    <option value=\"4\">La marina</option>\r\n                    <option value=\"5\">Cheque</option>\r\n                    <option value=\"6\">Transferencia</option>\r\n                    <option value=\"0\">Otro</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"col\">\r\n                  <label>Cantidad</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    max={this.props.pay}\r\n                    className=\"form-control text-right\"\r\n                    name=\"total\"\r\n                    value={this.state.total ? this.state.total : \"\"}\r\n                    onChange={this.onChangeValue}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {this.state.metodopago !== 1 ? (\r\n                <div className=\"row mb-2\">\r\n                  <div className=\"col\">\r\n                    <label>Banco</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"banco\"\r\n                      className=\"form-control\"\r\n                      value={\r\n                        this.state.metodopago === 4\r\n                          ? \"La marina\"\r\n                          : this.state.banco\r\n                      }\r\n                      disabled={this.state.metodopago === 4 ? true : false}\r\n                      onChange={this.onChangeValue}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <label>N. Autorización</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"auth\"\r\n                      className=\"form-control\"\r\n                      value={this.state.auth}\r\n                      onChange={this.onChangeValue}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ) : null}\r\n            </form>\r\n\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-dark\"\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Cancelar\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-success\"\r\n                onClick={this.handlePay}\r\n                data-dismiss=\"modal\"\r\n              >\r\n                Abonar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handlePay = (e) => {\r\n    e.preventDefault();\r\n\r\n    //Verificamos campos validos\r\n\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: \"¿Esta seguro de realizar el abono?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#007bff\",\r\n      confirmButtonText: \"Guardar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          let body = this.state,\r\n            ls = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n            url = \"http://\" + ls.host + \"/api/payments\";\r\n\r\n          //Agregamos parametros de identificación\r\n          body[\"sale_id\"] = this.props.saleId;\r\n          body[\"contact_id\"] = this.props.contactId;\r\n          body[\"order_id\"] = this.props.order;\r\n\r\n          //this.props.handleLoad(true);\r\n\r\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\r\n          console.log(\"Enviando datos del pago a API para almacenar\");\r\n          return fetch(url, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + ls.token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(response.statusText + \"(\" + back.message + \")\");\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n\r\n        if (data.data) {\r\n          console.log(\"Abono almacenado\");\r\n          this.props.handleChange(this.state.total);\r\n          this.setState({\r\n            metodopago: 1,\r\n            total: 0,\r\n            banco: \"\",\r\n            auth: \"\",\r\n          });\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Abono almacenado con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar el abono\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  onChangeValue = (e) => {\r\n    let { name, value, type } = e.target;\r\n    if (name === \"total\") {\r\n      value = value * 1;\r\n      if (value > this.props.pay) value = this.props.pay;\r\n      else if (value < 0) value = 0;\r\n    }\r\n    if (name === \"metodopago\" || type === \"number\") value = value * 1;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class printPay extends Component {\r\n  render() {\r\n    const { id, client } = this.props;\r\n\r\n    return (\r\n      <div className=\"d-none d-print-block\" style={{ width: 340 }} id={id}>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <div className=\"card m-0\">\r\n              <div className=\"card-body\">\r\n                <h1 className=\"text-center\">\r\n                  <center>\r\n                    <strong>Óptica Madero</strong>\r\n                  </center>\r\n                </h1>\r\n                <h3>\r\n                  <em>\r\n                    Julio Cesar Cardenas Martinez\r\n                    <br />\r\n                    Tel: 312 312 5353\r\n                    <br />\r\n                    Av. Tecnologico 38-A, Vistahermosa, Colima, Col.\r\n                  </em>\r\n                </h3>\r\n                <hr />\r\n                <h4 className=\"text-uppercase\">\r\n                  {client && client.nombre ? client.nombre.toUpperCase() : null}\r\n                  <br />\r\n                  {client.telefonos\r\n                    ? client.telefonos[0]\r\n                      ? client.telefonos[0]\r\n                      : client.telefonos[2]\r\n                    : \"--\"}\r\n                </h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <center>\r\n              <h2 className=\"text-center\">Abono</h2>\r\n            </center>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\nimport AddAbono from \"./abonoAdd\";\r\nimport Print from \"./print_pay\";\r\n\r\nexport default class ListAbonos extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      abonos: [],\r\n      total: 0,\r\n      load: true,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentDidMount() {\r\n    this.getPayments();\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n\r\n  render() {\r\n    let { abonos, total, load } = this.state;\r\n    const { id, date, contact, order, pay, user, sale, cliente } = this.props;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Fecha</th>\r\n              <th scope=\"col\">Metodo de pago</th>\r\n              <th scope=\"col\">Cantidad</th>\r\n              <th scope=\"col\">Recibio</th>\r\n              <th scope=\"col\">Acciones</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {abonos.length && !load ? (\r\n              <React.Fragment>\r\n                {abonos.map((abono) => {\r\n                  return (\r\n                    <tr key={abono.id}>\r\n                      <td>{moment(abono.created_at).format(\"L\")}</td>\r\n                      <td>\r\n                        {this.SetMethodPayment(abono.metodo)}\r\n                        {abono.metodo !== 1 ? (\r\n                          <span className=\"ml-4\">\r\n                            {abono.banco ? abono.banco : \"--\"} /{\" \"}\r\n                            {abono.Autorizacion ? abono.Autorizacion : \"--\"}\r\n                          </span>\r\n                        ) : null}\r\n                      </td>\r\n                      <td className=\"text-right\">$ {abono.total.toFixed(2)}</td>\r\n                      <td>{abono.created_user}</td>\r\n                      <td className=\"text-right\">\r\n                        {moment(new Date()).isSame(abono.created_at, \"day\") ? (\r\n                          <button\r\n                            className=\"btn btn-black btn-sm\"\r\n                            onClick={() => {\r\n                              this.delete(abono.id);\r\n                            }}\r\n                          >\r\n                            <i className=\"fas fa-trash\"></i>\r\n                          </button>\r\n                        ) : null}\r\n\r\n                        <button\r\n                          className=\"btn btn-outline-light btn-sm\"\r\n                          onClick={() => {\r\n                            this.print(\r\n                              abono.total,\r\n                              moment(abono.created_at).format(\"L\"),\r\n                              abono.id\r\n                            );\r\n                          }}\r\n                        >\r\n                          <i className=\"fas fa-print\"></i>\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </React.Fragment>\r\n            ) : load ? (\r\n              <tr>\r\n                <td colSpan=\"5\" className=\"text-center p-4\">\r\n                  <div\r\n                    className=\"spinner-border text-primary mr-4\"\r\n                    role=\"status\"\r\n                  >\r\n                    <span className=\"sr-only\">Loading...</span>\r\n                  </div>\r\n                  <span className=\"font-weight-light font-italic\">\r\n                    Espere cargando datos de la venta\r\n                  </span>\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              <tr>\r\n                <td colSpan=\"5\" className=\"text-center\">\r\n                  No hay abonos registrados\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <th scope=\"row\" colSpan=\"3\" className=\"text-right\">\r\n                {this.props.pay ? (\r\n                  <a\r\n                    href=\"#abonos\"\r\n                    className={\r\n                      this.props.pay\r\n                        ? \"btn btn-outline-success btn-sm mr-2\"\r\n                        : \"btn btn-outline-success btn-sm mr-2 disabled\"\r\n                    }\r\n                    data-toggle=\"modal\"\r\n                    data-target=\"#abonos\"\r\n                    aria-disabled={this.props.pay ? false : true}\r\n                  >\r\n                    <i className=\"fas fa-money-bill-wave-alt\"></i>\r\n                  </a>\r\n                ) : null}\r\n                Total: $ {total.toFixed(2)}\r\n              </th>\r\n              <td colSpan=\"2\"></td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n        <AddAbono\r\n          pay={pay}\r\n          user={user}\r\n          saleId={sale}\r\n          contactId={contact}\r\n          order={order}\r\n          handleChange={this.handleChange}\r\n          handleLoad={this.handleLoad}\r\n        />\r\n        <Print\r\n          folio={id}\r\n          date={date}\r\n          contact={contact}\r\n          client={cliente}\r\n          id=\"print_pay\"\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  delete = (id) => {\r\n    window.Swal.fire({\r\n      title: \"Eliminar\",\r\n      text: \"¿Esta seguro de eliminar el abono?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#d33\",\r\n      confirmButtonText: \"Eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm && id) {\r\n          let ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n\r\n          //Inicio de proceso de eliminción por API\r\n          console.log(\"Solicitud de eliminación de venta por API\");\r\n          return fetch(\"http://\" + ls.host + \"/api/payments/\" + id, {\r\n            method: \"DELETE\",\r\n            signal: this.signal,\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + ls.token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        console.log(\"Abono eliminado\");\r\n        window.Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Abono eliminado con exito\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then((res) => this.getPayments());\r\n      } else if (result && !result.dismiss) {\r\n        console.log(\"Orus res: \", result);\r\n        window.Swal.fire(\r\n          \"Error\",\r\n          \"Se perdio la conexion con el servidor\",\r\n          \"error\"\r\n        );\r\n      }\r\n    });\r\n  };\r\n  print = (total, date, id) => {\r\n    let content = document.getElementById(\"print_pay\"),\r\n      pri = document.getElementById(\"ifmcontentstoprint\").contentWindow;\r\n\r\n    pri.document.open();\r\n    pri.document.write(content.innerHTML);\r\n    pri.document.write(\"<fieldset><h3>\");\r\n    pri.document.write(\"Fecha: \" + date);\r\n    pri.document.write(\"<br/>Folio: \" + id);\r\n    pri.document.write(\"<br/>Monto: $ \" + total.toFixed(2));\r\n    pri.document.write(\"</h3></fieldset>\");\r\n    pri.document.close();\r\n    pri.focus();\r\n    pri.print();\r\n  };\r\n  handleLoad = (load) => {\r\n    this.setState({\r\n      load,\r\n    });\r\n  };\r\n  handleChange = (total) => {\r\n    this.setState({\r\n      total: this.state.total + total,\r\n    });\r\n    this.getPayments();\r\n  };\r\n  SetMethodPayment = (status) => {\r\n    switch (status) {\r\n      case 1:\r\n        return (\r\n          <span className=\"badge badge-success text-uppercase\">Efectivo</span>\r\n        );\r\n      case 2:\r\n        return (\r\n          <span className=\"badge badge-success text-uppercase\">\r\n            Tarjeta debito\r\n          </span>\r\n        );\r\n      case 3:\r\n        return (\r\n          <span className=\"badge badge-success text-uppercase\">\r\n            Tarjeta Credito\r\n          </span>\r\n        );\r\n      case 4:\r\n        return (\r\n          <span className=\"badge badge-success text-uppercase\">La marina</span>\r\n        );\r\n      case 5:\r\n        return (\r\n          <span className=\"badge badge-success text-uppercase\">Cheque</span>\r\n        );\r\n      case 6:\r\n        return (\r\n          <span className=\"badge badge-success text-uppercase\">\r\n            Transferencia\r\n          </span>\r\n        );\r\n      default:\r\n        return <span className=\"badge badge-success text-uppercase\">Otro</span>;\r\n    }\r\n  };\r\n  getPayments = () => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\")),\r\n      order = \"&order=desc\",\r\n      sale = \"?sale=\" + this.props.sale;\r\n\r\n    //Mandamos señal de procesamiento\r\n    if (!this.state.load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n    //Realiza la peticion del usuario seun el id\r\n    console.log(\"Descargando datos de los pagos\");\r\n    fetch(\"http://\" + varLocalStorage.host + \"/api/payments\" + sale + order, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: \"Bearer \" + varLocalStorage.token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.alert(\"Ups!\\n Hubo un error, intentelo mas tarde\");\r\n          console.log(res);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.meta && data.meta.total) {\r\n          console.log(\"Almacenando abonos\");\r\n          let total = 0;\r\n          for (var i = 0; i < data.data.length; i++) {\r\n            total += data.data[i].total;\r\n          }\r\n          this.props.handleChange(\"pagado\", total * 1);\r\n          this.setState({\r\n            abonos: data.data,\r\n            total,\r\n            load: false,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        }\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\n\r\nexport default class printSale extends Component {\r\n  render() {\r\n    const {\r\n      items,\r\n      descuento,\r\n      total,\r\n      saldo,\r\n      abonado,\r\n      folio,\r\n      date,\r\n      id,\r\n    } = this.props;\r\n    let totalItems = 0,\r\n      client = this.props.cliente;\r\n\r\n    return (\r\n      <div className=\"d-none d-print-block\" style={{ width: 340 }} id={id}>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <div className=\"card m-0\">\r\n              <div className=\"card-body\">\r\n                <h4\r\n                  className=\"text-right\"\r\n                  style={{ fontSize: 28, fontFamily: \"sans-serif\" }}\r\n                >\r\n                  <i>\r\n                    Folio: <strong>{folio}</strong>\r\n                  </i>\r\n                </h4>\r\n                <h6\r\n                  className=\"text-right mb-2\"\r\n                  style={{ fontSize: 18, fontFamily: \"sans-serif\" }}\r\n                >\r\n                  <strong>{moment(date).format(\"LL\")}</strong>\r\n                </h6>\r\n                <h2\r\n                  className=\"text-center\"\r\n                  style={{ fontSize: 54, fontFamily: \"sans-serif\" }}\r\n                >\r\n                  <center>\r\n                    <strong>Óptica Madero</strong>\r\n                  </center>\r\n                </h2>\r\n                <h4\r\n                  className=\"text-center mb-4\"\r\n                  style={{ fontSize: 22, fontFamily: \"sans-serif\" }}\r\n                >\r\n                  <em>\r\n                    Julio Cesar Cardenas Martinez\r\n                    <br />\r\n                    Tel: 312 312 5353\r\n                    <br />\r\n                    Av. Tecnologico 38-A, Vistahermosa, Colima, Col.\r\n                  </em>\r\n                </h4>\r\n                <h4\r\n                  className=\"text-uppercase text-center mb-1\"\r\n                  style={{ fontSize: 20, fontFamily: \"sans-serif\" }}\r\n                >\r\n                  {client && client.nombre\r\n                    ? client.nombre\r\n                    : \"Venta de mostrador\"}\r\n                  <br />\r\n                  <strong>\r\n                    <em style={{ fontSize: 24 }}>\r\n                      {client && client.telefonos\r\n                        ? client.telefonos.t_movil\r\n                          ? client.telefonos.t_movil\r\n                          : client.telefonos.t_casa\r\n                          ? client.telefonos.t_casa\r\n                          : client.telefonos.t_oficina\r\n                        : \"--\"}\r\n                    </em>\r\n                  </strong>\r\n                </h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col text-center\">\r\n            <h2 style={{ fontSize: 36, fontFamily: \"sans-serif\" }}>\r\n              <strong>Pedido</strong>\r\n            </h2>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\r\n                    Cant\r\n                  </th>\r\n                  <th style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\r\n                    Descripcion\r\n                  </th>\r\n                  <th style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\r\n                    Total\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {items.map((item, index) => {\r\n                  const total = parseFloat(item.cantidad * item.precio);\r\n                  totalItems += total;\r\n                  return (\r\n                    <tr key={index} className=\"text-capitalize\">\r\n                      <td style={{ fontSize: 22, fontFamily: \"sans-serif\" }}>\r\n                        {item.cantidad}\r\n                      </td>\r\n                      <td style={{ fontSize: 22, fontFamily: \"sans-serif\" }}>\r\n                        {item.producto}\r\n                      </td>\r\n                      <td\r\n                        className=\"text-right\"\r\n                        style={{ fontSize: 24, fontFamily: \"sans-serif\" }}\r\n                      >\r\n                        {total.toFixed(2)}\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n              <tfoot>\r\n                <tr>\r\n                  <td className=\"text-right\" colSpan=\"3\">\r\n                    {descuento ? (\r\n                      <React.Fragment>\r\n                        <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\r\n                          Subtotal: <label>$ {totalItems.toFixed(2)}</label>\r\n                        </h4>\r\n                        <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\r\n                          Descuento: <label>$ {descuento.toFixed(2)}</label>\r\n                        </h4>\r\n                      </React.Fragment>\r\n                    ) : null}\r\n                    <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\r\n                      Total: <label>$ {total.toFixed(2)}</label>\r\n                    </h4>\r\n                    {abonado ? (\r\n                      <React.Fragment>\r\n                        <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\r\n                          Abonado: <label>$ {abonado.toFixed(2)}</label>\r\n                        </h4>\r\n                        <h4 style={{ fontSize: 26, fontFamily: \"sans-serif\" }}>\r\n                          Saldo: <label>$ {saldo.toFixed(2)}</label>\r\n                        </h4>\r\n                      </React.Fragment>\r\n                    ) : null}\r\n                  </td>\r\n                </tr>\r\n              </tfoot>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <em style={{ fontSize: 22, fontFamily: \"sans-serif\" }}>\r\n            Armazones usados, viejos y/o resecos son responsabilidad del cliente\r\n          </em>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getContact = (id) => {\r\n    //Variables en localStorage\r\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    //Realiza busqueda de contacto\r\n    fetch(\"http://\" + varLocalStorage.host + \"/api/contacts/\" + id, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + varLocalStorage.token,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(\"Descargando contacto: data\", data);\r\n        this.setState({\r\n          dataContact: data.data,\r\n        });\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class edoCuenta extends Component {\r\n  render() {\r\n    const { pay, descuento, subtotal, total, pagado } = this.props;\r\n    return (\r\n      <div className=\"card card-success card-outline\">\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title mb-4\">\r\n            <i className=\"fas fa-shield-alt mr-2\"></i>\r\n            Estado de cuenta\r\n            {!pay ? (\r\n              <span className=\"badge badge-success ml-2\">Cuenta liquidada</span>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </h5>\r\n\r\n          <div className=\"card-text form-group row\">\r\n            <label className=\"col-6\">Descuento</label>\r\n            <div className=\"col\">\r\n              <input\r\n                className={\r\n                  pagado\r\n                    ? \"form-control text-right text-success disabled\"\r\n                    : \"form-control text-right text-success\"\r\n                }\r\n                type=\"number\"\r\n                name=\"descuento\"\r\n                min=\"0\"\r\n                max={subtotal - descuento}\r\n                readOnly={pay && !pagado ? false : true}\r\n                value={descuento ? descuento.toFixed(2) : \"\"}\r\n                onChange={this.catchInputs}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"card-text form-group row\">\r\n            <label className=\"col-6\">Total</label>\r\n            <div className=\"col\">\r\n              <input\r\n                className=\"form-control text-right text-success\"\r\n                type=\"number\"\r\n                name=\"total\"\r\n                value={total.toFixed(2)}\r\n                onChange={this.catchInputs}\r\n                readOnly={true}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card-text row\">\r\n            <label className=\"col-6 p-2\">Abonado</label>\r\n            <h3 className=\"col text-success p-2 text-right\">\r\n              $ {pagado.toFixed(2)}\r\n            </h3>\r\n          </div>\r\n          <div className=\"card-text row\">\r\n            <label className=\"col-6 p-2\">Saldo</label>\r\n            <h3 className=\"col text-success p-2 text-right\">\r\n              $ {pay.toFixed(2)}\r\n            </h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  catchInputs = (e) => {\r\n    this.props.catchInputs(e);\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport SearchContact from \"../Contacts/searchContactCard\";\r\nimport Items from \"../Order/itemsOrder\";\r\nimport Abonos from \"./abonos\";\r\nimport Print from \"./print_sale\";\r\nimport EdoCuenta from \"./edoCuenta\";\r\nimport Chat from \"../Layouts/messenger\";\r\n\r\nexport default class SaleAdd extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const contact = JSON.parse(localStorage.getItem(\"OrusContactInUse\")),\r\n      id = this.props.match.params.id,\r\n      contact_id = id ? 0 : 2;\r\n\r\n    this.state = {\r\n      id: id,\r\n      session:\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(36).substring(2, 16) +\r\n        Math.random().toString(10),\r\n      descuento: 0,\r\n      subtotal: 0,\r\n      total: 0,\r\n      items: [],\r\n      contact_id: contact && contact.id ? contact.id : contact_id,\r\n      cliente: {},\r\n      order_id: 0,\r\n      status: 0,\r\n      usuario: \"\",\r\n      date: Date.now(),\r\n      load: true,\r\n      pagado: 0,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.total = 0;\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    let { id } = this.state;\r\n    this.getSales(id);\r\n  }\r\n\r\n  render() {\r\n    let {\r\n        contact_id,\r\n        cliente,\r\n        subtotal,\r\n        descuento,\r\n        pagado,\r\n        items,\r\n        status,\r\n        id,\r\n        session,\r\n        load,\r\n        date,\r\n        order_id,\r\n      } = this.state,\r\n      pay = subtotal - (descuento + pagado),\r\n      { data } = this.props,\r\n      chat = order_id ? (\r\n        <Chat data={data} table=\"orders\" idRow={order_id} pagado={pagado} />\r\n      ) : (\r\n        <Chat data={data} table=\"sales\" idRow={id} pagado={pagado} />\r\n      );\r\n\r\n    this.total = subtotal - descuento;\r\n    pay = pay > 0 ? pay : 0;\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row d-print-none\">\r\n          <div className=\"col-3\">\r\n            <SearchContact\r\n              contact={contact_id}\r\n              status={status}\r\n              getIdContact={this.getIdContact}\r\n              changePage={this.changePage}\r\n            />\r\n\r\n            {contact_id && items.length ? (\r\n              <EdoCuenta\r\n                pay={pay}\r\n                descuento={descuento}\r\n                subtotal={subtotal}\r\n                total={this.total}\r\n                pagado={pagado}\r\n                catchInputs={this.catchInputs}\r\n              />\r\n            ) : null}\r\n          </div>\r\n          <div className=\"col\">\r\n            <div className=\"card card-success card-outline\">\r\n              <div className=\"card-body\">\r\n                {contact_id && !load ? (\r\n                  <React.Fragment>\r\n                    <div className=\"row mb-4\">\r\n                      <div className=\"col-2\">\r\n                        <div className=\"border border-success rounded p-2 d-flex justify-content-between align-items-center\">\r\n                          <span className=\"badge badge-pill badge-success mx-2\">\r\n                            Folio\r\n                          </span>\r\n                          <strong>{id ? id : \"Nuevo\"}</strong>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-4\">\r\n                        <div className=\"border border-success rounded p-2 d-flex justify-content-between align-items-center\">\r\n                          <span className=\"badge badge-pill badge-success mx-2\">\r\n                            Creador\r\n                          </span>\r\n                          <strong>\r\n                            {this.state.usuario\r\n                              ? this.state.usuario\r\n                              : this.props.data.name}\r\n                          </strong>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-2\">\r\n                        <div className=\"border border-success rounded p-2 d-flex justify-content-between align-items-center\">\r\n                          <span className=\"badge badge-pill badge-warning mx-2\">\r\n                            Pedido\r\n                          </span>\r\n                          <strong>\r\n                            {order_id ? (\r\n                              <Link\r\n                                to={\"/pedidos/registro/\" + order_id}\r\n                                onClick={(e) => {\r\n                                  this.changePage(\"/pedidos/registro\");\r\n                                }}\r\n                              >\r\n                                {order_id}\r\n                              </Link>\r\n                            ) : (\r\n                              \"--\"\r\n                            )}\r\n                          </strong>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col\">\r\n                        <div className=\"border border-success rounded p-2 d-flex justify-content-between align-items-center\">\r\n                          <span className=\"badge badge-pill badge-success mx-2\">\r\n                            Fecha\r\n                          </span>\r\n                          <strong>{moment(date).format(\"ll\")}</strong>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <Items\r\n                      items={items}\r\n                      status={status && this.total === pagado ? true : false}\r\n                      session={session}\r\n                      ChangeInput={this.handleChangeInput}\r\n                    />\r\n                  </React.Fragment>\r\n                ) : load ? (\r\n                  <div className=\"text-center p-4\">\r\n                    <div\r\n                      className=\"spinner-border text-primary mr-4\"\r\n                      role=\"status\"\r\n                    >\r\n                      <span className=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                    <span className=\"font-weight-light font-italic\">\r\n                      Espere cargando datos de la venta\r\n                    </span>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"alert alert-light\">\r\n                    <h4 className=\"alert-heading\">Nueva nota</h4>\r\n                    <p>\r\n                      <i className=\"fas fa-user mr-1\"></i> Primero seleccione al\r\n                      cliente!\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"card-footer text-right\">\r\n                <div className=\"btn-group\" role=\"group\">\r\n                  <Link\r\n                    to=\"/notas\"\r\n                    className=\"btn btn-dark\"\r\n                    onClick={(e) => {\r\n                      this.changePage(\"/notas\");\r\n                    }}\r\n                  >\r\n                    <i\r\n                      className={\r\n                        id ? \"fas fa-arrow-left mr-2\" : \"fas fa-ban mr-2\"\r\n                      }\r\n                    ></i>\r\n                    <strong>{id ? \"Regresar\" : \"Cancelar\"}</strong>\r\n                  </Link>\r\n                  <button\r\n                    className={\r\n                      contact_id && items.length\r\n                        ? \"btn btn-dark\"\r\n                        : \"btn btn-dark disabled\"\r\n                    }\r\n                    onClick={(e) => {\r\n                      window.print();\r\n                    }}\r\n                    disabled={contact_id && items.length ? false : true}\r\n                  >\r\n                    <i className=\"fas fa-print mr-2\"></i>\r\n                    <strong>Imprimir</strong>\r\n                  </button>\r\n                  <button\r\n                    className={\r\n                      contact_id && items.length && pay\r\n                        ? \"btn btn-success\"\r\n                        : \"btn btn-success disabled\"\r\n                    }\r\n                    onClick={this.handleSave}\r\n                    disabled={contact_id && items.length && pay ? false : true}\r\n                  >\r\n                    <i className=\"fas fa-save mr-2\"></i>\r\n                    <strong>Guardar</strong>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {contact_id && id ? (\r\n              <div className=\"card card-success card-outline\">\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title mb-4\">\r\n                    <i className=\"fas fa-money-bill mr-2\"></i>\r\n                    Ultimos Abonos\r\n                  </h5>\r\n                  <Abonos\r\n                    abonos={pagado * 1}\r\n                    sale={id * 1}\r\n                    contact={contact_id}\r\n                    cliente={cliente}\r\n                    pay={pay * 1}\r\n                    order={order_id * 1}\r\n                    user={this.props.data.name}\r\n                    handleChange={this.handleChangeInput}\r\n                  />\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n          {id && contact_id ? (\r\n            <div className=\"col-3 d-print-none\">{chat}</div>\r\n          ) : null}\r\n        </div>\r\n        <Print\r\n          id=\"print_sale\"\r\n          folio={order_id ? \"P-\" + order_id : \"V-\" + id}\r\n          date={date}\r\n          items={items}\r\n          descuento={descuento}\r\n          total={this.total}\r\n          saldo={pay}\r\n          abonado={pagado}\r\n          contact={contact_id}\r\n          cliente={cliente}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  handleChangeInput = (key, value) => {\r\n    let subtotal = 0;\r\n    if (key === \"items\") {\r\n      for (var i = 0; i < value.length; i++) {\r\n        subtotal += value[i].cantidad * value[i].precio;\r\n      }\r\n    } else {\r\n      subtotal = this.state.subtotal;\r\n    }\r\n    this.setState({\r\n      [key]: value,\r\n      subtotal,\r\n    });\r\n  };\r\n  catchInputs = (e) => {\r\n    let { name, value, type } = e.target;\r\n    if (type === \"number\") value = value * 1;\r\n    if (name === \"descuento\") {\r\n      if (value >= this.state.subtotal - this.state.descuento) {\r\n        value = this.state.subtotal - 1;\r\n      }\r\n    }\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  getIdContact = (contact_id, edad) => {\r\n    this.setState({\r\n      contact_id,\r\n      edad,\r\n    });\r\n  };\r\n  changePage = (e) => {\r\n    this.props.page(e);\r\n  };\r\n  handleSave = (e) => {\r\n    e.preventDefault();\r\n    let { id } = this.state;\r\n\r\n    //Verificamos campos validos\r\n\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: id\r\n        ? \"¿Esta seguro de actualizar la venta?\"\r\n        : \"¿Esta seguro de crear una nueva venta?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#007bff\",\r\n      confirmButtonText: id ? \"Actualizar\" : \"Crear\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        if (confirm) {\r\n          //Variables\r\n          let { host, token } = this.state,\r\n            url = id\r\n              ? \"http://\" + host + \"/api/sales/\" + id\r\n              : \"http://\" + host + \"/api/sales\",\r\n            method = id ? \"PUT\" : \"POST\",\r\n            body = {},\r\n            items = [];\r\n\r\n          this.state.items.map((item) => {\r\n            items.push({\r\n              cant: item.cantidad,\r\n              price: item.precio,\r\n              subtotal: item.subtotal,\r\n              inStorage: item.inStorage,\r\n              out: item.out,\r\n              session: item.session,\r\n              store_items_id: item.store_items_id,\r\n              descripcion: item.descripcion,\r\n            });\r\n            return false;\r\n          });\r\n          body = {\r\n            session: this.state.session,\r\n            descuento: this.state.descuento,\r\n            subtotal: this.state.subtotal,\r\n            total: this.state.subtotal - this.state.descuento,\r\n            contact_id: this.state.contact_id,\r\n            order_id: this.state.order_id ? this.state.order_id : \"\",\r\n            pagado: this.state.pagado,\r\n            items: JSON.stringify(items),\r\n          };\r\n\r\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\r\n          console.log(\"Enviando datos a API para almacenar\");\r\n          return fetch(url, {\r\n            method: method,\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n\r\n        if (data.data) {\r\n          console.log(\"Venta almacenada\");\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: id\r\n              ? \"Venta actualizada con exito\"\r\n              : \"Venta almacenada con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          }).then((res) => {\r\n            this.setState({\r\n              id: data.data.id,\r\n              //order_id: data.data.pedido,\r\n            });\r\n            this.props.history.push(`/notas/registro/${data.data.id}`);\r\n          });\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar la venta\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  getSales = (id) => {\r\n    if (id > 0) {\r\n      //Variables en state\r\n      let { host, token } = this.state;\r\n      //Realiza la peticion del pedido\r\n      console.log(\"Solicitando datos de pedido a la API\");\r\n      fetch(\"http://\" + host + \"/api/sales/\" + id, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(response.statusText);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          if (!data.message) {\r\n            const { rol } = this.props.data;\r\n            console.log(\"Mostrando datos del pedido\");\r\n            this.setState({\r\n              id: data.data.id,\r\n              session: data.data.session\r\n                ? data.data.session\r\n                : this.state.session,\r\n              items: data.data.productos,\r\n              descuento: data.data.descuento,\r\n              subtotal: data.data.subtotal,\r\n              total: data.data.total,\r\n              contact_id: data.data.cliente.id,\r\n              cliente: data.data.cliente,\r\n              usuario: data.data.created,\r\n              date: data.data.created_at,\r\n              status: !rol ? 0 : 1,\r\n              order_id: data.data.pedido,\r\n              pagado: data.data.pagado,\r\n              load: false,\r\n            });\r\n          } else {\r\n            console.error(\"Orus: \", data.message);\r\n            window.Swal.fire(\"Error\", data.message, \"error\");\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Orus:\", error);\r\n          window.Swal.fire(\r\n            \"Fallo de conexion\",\r\n            \"Verifique la conexion al servidor\",\r\n            \"error\"\r\n          );\r\n          this.setState({\r\n            load: false,\r\n          });\r\n        });\r\n    } else {\r\n      this.setState({\r\n        load: false,\r\n      });\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class ReportPay extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      host: props.data.host,\r\n      rol: props.data.rol,\r\n      token: props.data.token,\r\n      total: 0,\r\n      efectivo: 0,\r\n    };\r\n    this.char = null;\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getSaleDay();\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (props.date !== this.props.date || props.user !== this.props.user) {\r\n      console.log(\"Recarga datos de char\");\r\n      this.getSaleDay();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { total, efectivo, rol } = this.state;\r\n    const { data } = this.props;\r\n    return (\r\n      <div className=\"card card-success card-outline\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title text-success\">\r\n            {data.rol ? \"Mis ventas del dia\" : \"Ventas del dia\"}\r\n          </h3>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <canvas id=\"donutChart\"></canvas>\r\n          <p>\r\n            {!rol ? (\r\n              <React.Fragment>\r\n                Venta: <strong>$ {total.toFixed(2)}</strong>\r\n                <br />\r\n              </React.Fragment>\r\n            ) : null}\r\n            Efectivo: <strong>$ {efectivo.toFixed(2)}</strong>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changeState = (e) => {\r\n    let { value, name } = e.target;\r\n    if (name === \"user\") value = value * 1;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  getSaleDay = () => {\r\n    //Variables en localStorage\r\n    let { host, token } = this.state,\r\n      { date, user } = this.props,\r\n      url = \"http://\" + host + \"/api/saleday\",\r\n      saleDay = \"?date=\" + date,\r\n      saleUser = user ? \"&user=\" + user : \"\";\r\n\r\n    if (token && host) {\r\n      //Realiza la peticion del pedido\r\n      console.log(\"Solicitando datos a la API\");\r\n      fetch(url + saleDay + saleUser, {\r\n        method: \"GET\",\r\n        signal: this.signal,\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            window.Swal.fire({\r\n              title: \"Error!\",\r\n              text: \"Ups!\\n Hubo un error al descargar las ventas\",\r\n              icon: \"error\",\r\n              confirmButtonText: \"Ok\",\r\n            });\r\n            console.log(res);\r\n          }\r\n          return res.json();\r\n        })\r\n        .then(async (data) => {\r\n          var donutChartCanvas = window\r\n              .$(\"#donutChart\")\r\n              .get(0)\r\n              .getContext(\"2d\"),\r\n            donutOptions = {\r\n              maintainAspectRatio: true,\r\n              responsive: true,\r\n            },\r\n            labels = [],\r\n            values = [],\r\n            total = 0,\r\n            efectivo = 0,\r\n            donutData = {};\r\n          if (this.char) this.char.destroy();\r\n\r\n          if (!data.message) {\r\n            console.log(\"Mostrando datos de la venta del dia\");\r\n            if (data && data.length) {\r\n              await data.map((mp) => {\r\n                labels.push(this.SetMethodPayment(mp.metodopago));\r\n                values.push(mp.total.toFixed(2));\r\n                if (mp.metodopago === 1) {\r\n                  this.props.changeState(\"ventas\", mp.total);\r\n                  efectivo = mp.total;\r\n                }\r\n                total += mp.total;\r\n                return null;\r\n              });\r\n            } else {\r\n              labels = [\"No hay datos\"];\r\n              values = [100];\r\n            }\r\n\r\n            this.setState({\r\n              total,\r\n              efectivo,\r\n            });\r\n          } else {\r\n            console.error(\"Error al cargar la venta del dia\", data.message);\r\n            labels = [\"No hay datos\"];\r\n            values = [100];\r\n          }\r\n          donutData = {\r\n            labels: labels,\r\n            datasets: [\r\n              {\r\n                data: values,\r\n                backgroundColor: [\r\n                  \"#f56954\",\r\n                  \"#00a65a\",\r\n                  \"#f39c12\",\r\n                  \"#00c0ef\",\r\n                  \"#3c8dbc\",\r\n                  \"#d2d6de\",\r\n                  \"#000\",\r\n                ],\r\n              },\r\n            ],\r\n          };\r\n          this.char = new window.Chart(donutChartCanvas, {\r\n            type: \"pie\",\r\n            data: donutData,\r\n            options: donutOptions,\r\n          });\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n          window.Swal.fire({\r\n            title: \"Error!\",\r\n            text: \"Ups!\\n Hubo un error de usuario, intentelo mas tarde\",\r\n            icon: \"error\",\r\n            confirmButtonText: \"Ok\",\r\n          });\r\n        });\r\n    }\r\n  };\r\n  SetMethodPayment = (status) => {\r\n    switch (status) {\r\n      case 1:\r\n        return \"Efectivo\";\r\n      case 2:\r\n        return \"Tarjeta debito\";\r\n      case 3:\r\n        return \"Tarjeta de credito\";\r\n      case 4:\r\n        return \"La marina\";\r\n      case 5:\r\n        return \"Cheque\";\r\n      case 6:\r\n        return \"Transferencia\";\r\n      default:\r\n        return \"Otro\";\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\n\r\nexport default class Cash extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      atms: [],\r\n      efectivo: 0,\r\n      tipo: 1,\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentDidMount() {\r\n    this.getAtms();\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (props.date !== this.props.date || props.user !== this.props.user) {\r\n      this.getAtms();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { atms, efectivo, tipo } = this.state;\r\n    let total = 0;\r\n    return (\r\n      <div className=\"card card-dark card-outline\">\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title text-dark\">Movimientos de caja</h3>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <table className=\"table table-sm\">\r\n            <thead>\r\n              <tr>\r\n                <th>Hora</th>\r\n                <th>Usuario</th>\r\n                <th>Tipo</th>\r\n                <th>Monto</th>\r\n                <th>D</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {atms.length ? (\r\n                atms.map((atm) => {\r\n                  total += atm.efectivo;\r\n                  return (\r\n                    <tr\r\n                      key={atm.id}\r\n                      className={\r\n                        atm.efectivo > 0 ? \"text-success\" : \"text-danger\"\r\n                      }\r\n                    >\r\n                      <td>{moment(atm.created_at).format(\"LT\")}</td>\r\n                      <td>{atm.created_user}</td>\r\n                      <td>{atm.tipo ? \"Ingreso\" : \"Egreso\"}</td>\r\n                      <td className=\"text-right\">\r\n                        $\r\n                        {atm.efectivo > 0\r\n                          ? atm.efectivo.toFixed(2)\r\n                          : (atm.efectivo * -1).toFixed(2)}\r\n                      </td>\r\n                      <th className=\"text-right\">\r\n                        <a\r\n                          href=\"#delete\"\r\n                          className=\"text-dark\"\r\n                          onClick={(e) => {\r\n                            e.preventDefault();\r\n                            this.deleteAtm(\r\n                              atm.id,\r\n                              atm.tipo,\r\n                              atm.efectivo.toFixed(2)\r\n                            );\r\n                          }}\r\n                        >\r\n                          <i className=\"fas fa-trash\"></i>\r\n                        </a>\r\n                      </th>\r\n                    </tr>\r\n                  );\r\n                })\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan=\"5\" className=\"text-center\">\r\n                    No hay datos\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n            <tfoot>\r\n              <tr>\r\n                <td colSpan=\"3\" className=\"text-right\">\r\n                  <label>Total</label>\r\n                </td>\r\n                <td className=\"text-right\">$ {total.toFixed(2)}</td>\r\n                <td></td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer\">\r\n          <div className=\"form-group row\">\r\n            <label className=\"col-4 col-form-label\">Efectivo</label>\r\n            <div className=\"col\">\r\n              <select\r\n                className=\"form-control\"\r\n                name=\"tipo\"\r\n                value={tipo}\r\n                onChange={this.changeState}\r\n              >\r\n                <option value=\"1\">Ingresos</option>\r\n                <option value=\"0\">Egreso</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"col\">\r\n              <input\r\n                type=\"number\"\r\n                name=\"efectivo\"\r\n                className=\"form-control text-right\"\r\n                min=\"0\"\r\n                max=\"10000\"\r\n                value={efectivo}\r\n                onChange={this.changeState}\r\n              />\r\n            </div>\r\n            <div className=\"col\">\r\n              <button\r\n                className=\"btn btn-dark\"\r\n                onClick={this.sendAtm}\r\n                disabled={efectivo > 0 ? false : true}\r\n              >\r\n                Enviar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  deleteAtm = (id, tipo, efectivo) => {\r\n    efectivo = efectivo > 0 ? efectivo : efectivo * -1;\r\n    tipo = tipo ? \"la ENTRADA\" : \"el EGRESO\";\r\n\r\n    window.Swal.fire({\r\n      title: \"Eliminar\",\r\n      text: \"¿Esta seguro de eliminar \" + tipo + \" de \" + efectivo + \"?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#d33\",\r\n      confirmButtonText: \"Eliminar\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        let { host, token } = this.state;\r\n\r\n        if (confirm && efectivo) {\r\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\r\n          console.log(\"Enviando datos ATM a API\");\r\n          return fetch(\"http://\" + host + \"/api/atms/\" + id, {\r\n            method: \"DELETE\",\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then(async (response) => {\r\n              let back = {};\r\n              if (response.status !== 204) back = await response.json();\r\n              if (!response.ok) {\r\n                throw new Error(back.message);\r\n              }\r\n              return back;\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        console.log(\"Entrada eliminada\");\r\n        window.Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Entrada eliminada con exito\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        }).then((res) => this.getAtms());\r\n      } else if (result && !result.dismiss) {\r\n        console.log(\"Orus res: \", result);\r\n        window.Swal.fire(\r\n          \"Error\",\r\n          \"Se perdio la conexion con el servidor\",\r\n          \"error\"\r\n        );\r\n      }\r\n    });\r\n  };\r\n  changeState = (e) => {\r\n    let { value, name } = e.target;\r\n    if (name === \"tipo\") value = value * 1;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  sendAtm = () => {\r\n    window.Swal.fire({\r\n      title: \"Almacenamiento\",\r\n      text: \"¿Esta seguro de agregar un movimiento a la caja?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#007bff\",\r\n      confirmButtonText: \"Crear\",\r\n      cancelButtonText: \"Cancelar\",\r\n      showLoaderOnConfirm: true,\r\n      preConfirm: (confirm) => {\r\n        let { host, token, efectivo, tipo } = this.state,\r\n          body = {\r\n            efectivo: tipo ? efectivo : efectivo * -1,\r\n            type: tipo,\r\n          },\r\n          url = \"http://\" + host + \"/api/atms\";\r\n        if (confirm && efectivo) {\r\n          //Actualiza el pedido o creamos un pedido nuevo según el ID\r\n          console.log(\"Enviando datos ATM a API\");\r\n          return fetch(url, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: \"Bearer \" + token,\r\n            },\r\n          })\r\n            .then((response) => {\r\n              if (!response.ok) {\r\n                throw new Error(response.statusText);\r\n              }\r\n              return response.json();\r\n            })\r\n            .catch((e) => {\r\n              console.error(\"Orus fetch\", e);\r\n              window.Swal.fire(\r\n                \"Fallo de conexion\",\r\n                \"Verifique la conexion al servidor\",\r\n                \"error\"\r\n              );\r\n            });\r\n        }\r\n      },\r\n    }).then((result) => {\r\n      if (result && !result.dismiss && result.value) {\r\n        let data = result.value;\r\n\r\n        if (data.data) {\r\n          console.log(\"ATM almacenado\");\r\n          window.Swal.fire({\r\n            icon: \"success\",\r\n            title: \"Movimiento almacenado con exito\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          }).then((res) => this.getAtms());\r\n        } else {\r\n          window.Swal.fire(\"Error\", \"al almacenar el movimiento\", \"error\");\r\n          console.error(\"Orus res: \", data.message);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  getAtms = () => {\r\n    //Variables en localStorage\r\n    let { host, token } = this.state,\r\n      { date, user } = this.props,\r\n      url = \"http://\" + host + \"/api/atms\",\r\n      atmDate = \"?date=\" + date,\r\n      atmUser = user ? \"&user=\" + user : \"\";\r\n\r\n    //Realiza la peticion de los productos faltantes\r\n    console.log(\"Descargando datos de efectivo\");\r\n    fetch(url + atmDate + atmUser, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok && res.status !== 401) {\r\n          window.Swal.fire({\r\n            title: \"Error!\",\r\n            text: \"Ups!\\n Hubo un error, intentelo mas tarde\",\r\n            icon: \"error\",\r\n          });\r\n          console.log(res);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then(async (data) => {\r\n        console.log(\"Almacenando datos de efectivo\");\r\n        if (!data.message) {\r\n          let efectivo = 0;\r\n          await data.data.map((atm) => {\r\n            efectivo += atm.efectivo;\r\n            return null;\r\n          });\r\n          this.props.changeState(\"caja\", efectivo);\r\n          this.setState({\r\n            atms: data.data,\r\n            efectivo: 0,\r\n          });\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        window.Swal.fire({\r\n          title: \"Error!\",\r\n          text: \"Ups!\\n Hubo un error, intentelo mas tarde\",\r\n          icon: \"error\",\r\n        });\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\n\r\nexport default class DateUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n      date: moment().format(\"YYYY-MM-DD\"),\r\n      user: !props.data.rol ? 0 : props.data.idUser,\r\n      users: [],\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    this.getUsers();\r\n  }\r\n\r\n  render() {\r\n    const { date, user, users } = this.state;\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-body bg-light\">\r\n          <div className=\"row mb-4\">\r\n            <h5 className=\"card-title text-secondary\">Filtros</h5>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n            <label className=\"col col-form-label\">Fecha</label>\r\n            <div className=\"col\">\r\n              <input\r\n                type=\"date\"\r\n                name=\"date\"\r\n                className=\"form-control\"\r\n                value={date}\r\n                onChange={this.changeState}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n            <label className=\"col col-form-label\">Usuario</label>\r\n            <div className=\"col\">\r\n              <select\r\n                name=\"user\"\r\n                className=\"form-control\"\r\n                value={user}\r\n                onChange={this.changeState}\r\n              >\r\n                <option value=\"0\">Todos</option>\r\n                {users.map((user) => {\r\n                  return (\r\n                    <option key={user.id} value={user.id}>\r\n                      {user.name}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changeState = (e) => {\r\n    let { value, name } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n    this.props.changeState(name, value);\r\n  };\r\n  getUsers = () => {\r\n    let { host, token } = this.state,\r\n      url = \"http://\" + host + \"/api/users\",\r\n      orderby = \"&orderby=username&order=asc\",\r\n      rol = \"&rol=10\",\r\n      page = \"?page=1\";\r\n\r\n    //Realiza la peticion de los usuarios\r\n    console.log(\"Descargando usuarios de API\");\r\n    fetch(url + page + orderby + rol, {\r\n      method: \"GET\",\r\n      signal: this.signal,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          window.Swal.fire({\r\n            title: \"Error!\",\r\n            text: \"Ups!\\n Hubo un error al descargar usuarios de sistema\",\r\n            icon: \"error\",\r\n            confirmButtonText: \"Ok\",\r\n          });\r\n          console.error(res);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (!data.message) {\r\n          console.log(\"Almacenando usuarios\");\r\n          this.setState({\r\n            users: data.data,\r\n          });\r\n        } else {\r\n          console.error(\"Error en la descarga de usuarios\", data.message);\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        window.Swal.fire({\r\n          title: \"Error!\",\r\n          text: \"Ups!\\n Hubo un error de usuario, intentelo mas tarde\",\r\n          icon: \"error\",\r\n          confirmButtonText: \"Ok\",\r\n        });\r\n      });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class BoxCut extends Component {\r\n  render() {\r\n    const { caja, ventas } = this.props;\r\n    const total = caja + ventas;\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-body bg-light text-right\">\r\n          <h5 className=\"card-title text-secondary\">Corte de caja</h5>\r\n          <p className=\"card-text\">\r\n            <label>caja:</label> ${caja.toFixed(2)}\r\n          </p>\r\n          <p className=\"card-text\">\r\n            <label>Efectivo:</label> ${ventas.toFixed(2)}\r\n          </p>\r\n        </div>\r\n        <div className=\"card-footer text-right\">\r\n          <label>Total:</label> ${total.toFixed(2)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\";\r\n//import SalesOutStock from \"../Sales/salesOutStock\";\r\nimport ReportPays from \"../Sales/reportPays\";\r\nimport Caja from \"./cash\";\r\nimport DateUser from \"./dateUser\";\r\nimport BoxCut from \"./boxCut\";\r\n\r\nexport default class Dashboard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      host: props.data.host,\r\n      token: props.data.token,\r\n      user: !props.data.rol ? \"\" : props.data.idUser,\r\n      date: moment().format(\"YYYY-MM-DD\"),\r\n      caja: 0,\r\n      ventas: 0,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { user, date, caja, ventas } = this.state;\r\n    const { data } = this.props;\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <ReportPays\r\n            data={data}\r\n            user={user}\r\n            date={date}\r\n            changeState={this.changeState}\r\n          />\r\n        </div>\r\n        <div className=\"col\">\r\n          <Caja\r\n            data={data}\r\n            user={user}\r\n            date={date}\r\n            changeState={this.changeState}\r\n          />\r\n        </div>\r\n        {!data.rol ? (\r\n          <div className=\"col-3\">\r\n            <DateUser data={data} changeState={this.changeState} />\r\n            <BoxCut caja={caja} ventas={ventas} />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  changeState = (name, value) => {\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport Navtop from \"./components/Layouts/navtop\";\r\nimport Menu from \"./components/Layouts/menu\";\r\nimport Breadcrumb from \"./components/Layouts/breadcrumb\";\r\nimport Footer from \"./components/Layouts/footer\";\r\nimport Users from \"./components/Users/index\";\r\nimport UserAdd from \"./components/Users/add\";\r\nimport Store from \"./components/Store/index\";\r\nimport StoreAdd from \"./components/Store/add\";\r\nimport Categories from \"./components/Store/categories\";\r\nimport Brands from \"./components/Store/brands\";\r\nimport Contacts from \"./components/Contacts/index\";\r\nimport ContactsAdd from \"./components/Contacts/add\";\r\nimport AddByContact from \"./components/Contacts/addByContact\";\r\nimport Tools from \"./components/Layouts/tools\";\r\nimport Exam from \"./components/Exam/index\";\r\nimport ExamAdd from \"./components/Exam/add\";\r\nimport Order from \"./components/Order/index\";\r\nimport OrderAdd from \"./components/Order/add\";\r\nimport Sales from \"./components/Sales/index\";\r\nimport SalesAdd from \"./components/Sales/add\";\r\nimport Dashboard from \"./components/Dashboard/index\";\r\n\r\nexport default class Routers extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      page: this.handleTitleSection(window.location.pathname),\r\n      company: props.data.company,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n  componentDidMount() {\r\n    //Verificamos permisos\r\n    const dir = window.location.pathname,\r\n      rol = this.props.data.rol;\r\n\r\n    if (\r\n      rol === 1 &&\r\n      (dir.match(/^\\/consultorio/g) ||\r\n        dir.match(/^\\/usuarios/g) ||\r\n        dir.match(/^\\/almacen/g) ||\r\n        dir.match(/^\\/configuraciones/g))\r\n    ) {\r\n      window.location.href = \"/\";\r\n    }\r\n    if (\r\n      rol === 2 &&\r\n      (dir.match(/^\\/pedidos/g) ||\r\n        dir.match(/^\\/usuarios/g) ||\r\n        dir.match(/^\\/almacen/g) ||\r\n        dir.match(/^\\/notas/g) ||\r\n        dir.match(/^\\/configuraciones/g))\r\n    ) {\r\n      window.location.href = \"/\";\r\n    }\r\n    //Verificamos la sesion del usuario\r\n    this.verifyUser();\r\n  }\r\n  componentDidUpdate(props, state) {\r\n    if (this.state.page !== state.page) {\r\n      //Se verifica cada que se cambia de pagina\r\n      this.verifyUser();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data, logOut } = this.props,\r\n      { page } = this.state;\r\n\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <Navtop />\r\n        <Menu\r\n          companyName={this.state.company}\r\n          user={data}\r\n          page={this.handlePage}\r\n          logOut={logOut}\r\n          active={page}\r\n        />\r\n        <div className=\"content-wrapper\">\r\n          <Breadcrumb title={this.state.page} />\r\n          <div className=\"content\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-12\">\r\n                  <Switch>\r\n                    <Route\r\n                      path=\"/usuarios/registro/:id?\"\r\n                      render={(props) => (\r\n                        <UserAdd\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/usuarios\"\r\n                      render={(props) => (\r\n                        <Users {...props} data={data} page={this.handlePage} />\r\n                      )}\r\n                    />\r\n\r\n                    <Route\r\n                      path=\"/almacen/registro/:id?\"\r\n                      render={(props) => (\r\n                        <StoreAdd\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/almacen/categorias\"\r\n                      render={(props) => (\r\n                        <Categories\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/almacen/marcas\"\r\n                      render={(props) => (\r\n                        <Brands {...props} data={data} page={this.handlePage} />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/almacen\"\r\n                      render={(props) => (\r\n                        <Store {...props} data={data} page={this.handlePage} />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      path=\"/contactos/registro/:id?\"\r\n                      render={(props) => (\r\n                        <ContactsAdd\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/contactos/add\"\r\n                      render={(props) => (\r\n                        <AddByContact\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/contactos\"\r\n                      render={(props) => (\r\n                        <Contacts\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n\r\n                    <Route\r\n                      extric\r\n                      path=\"/consultorio/registro/:id?\"\r\n                      render={(props) => (\r\n                        <ExamAdd\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/consultorio\"\r\n                      render={(props) => (\r\n                        <Exam {...props} data={data} page={this.handlePage} />\r\n                      )}\r\n                    />\r\n\r\n                    <Route\r\n                      extric\r\n                      path=\"/configuraciones\"\r\n                      render={(props) => (\r\n                        <Tools {...props} data={data} page={this.handlePage} />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/pedidos/registro/:id?\"\r\n                      render={(props) => (\r\n                        <OrderAdd\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/pedidos\"\r\n                      render={(props) => (\r\n                        <Order {...props} data={data} page={this.handlePage} />\r\n                      )}\r\n                    />\r\n\r\n                    <Route\r\n                      extric\r\n                      path=\"/notas/registro/:id?\"\r\n                      render={(props) => (\r\n                        <SalesAdd\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                    <Route\r\n                      extric\r\n                      path=\"/notas\"\r\n                      render={(props) => (\r\n                        <Sales {...props} data={data} page={this.handlePage} />\r\n                      )}\r\n                    />\r\n\r\n                    <Route\r\n                      extric\r\n                      path=\"/\"\r\n                      render={(props) => (\r\n                        <Dashboard\r\n                          {...props}\r\n                          data={data}\r\n                          page={this.handlePage}\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Switch>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  verifyUser = () => {\r\n    //Variables en localStorage\r\n    let { data, logOut } = this.props,\r\n      { host, isLogged, token } = data;\r\n\r\n    //Solo realizamos la verificacion si hay sesion\r\n    if (isLogged && host && token) {\r\n      console.log(\"Verificando usuario\");\r\n      //Realizando verificación de usuarios\r\n      if (token !== \"\" && host !== \"\") {\r\n        fetch(\"http://\" + host + \"/api/user\", {\r\n          method: \"GET\",\r\n          signal: this.signal,\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        })\r\n          .then((res) => {\r\n            if (!res.ok && token !== \"\") {\r\n              console.error(\"Usuario invalido:\", res.statusText);\r\n              logOut();\r\n            }\r\n            return res.json();\r\n          })\r\n          .then((data) => {\r\n            if (!data.message) {\r\n              console.log(\"Usuario valido:\", data.username);\r\n            }\r\n          });\r\n      }\r\n    } else {\r\n      console.error(\"La sesion ya no esta activa o se perdio el host\");\r\n      logOut();\r\n    }\r\n  };\r\n  handlePage = (title) => {\r\n    let page = this.handleTitleSection(title);\r\n    this.setState({\r\n      page,\r\n    });\r\n  };\r\n  handleTitleSection = (page) => {\r\n    //Verificamos que la variable no este vacia\r\n    page = page ? page : window.location.pathname;\r\n    //Maneja el renderiazado del componentes cuando se cambíe el componentes\r\n    if (page === \"\" || typeof page === \"undefined\" || typeof page === \"object\")\r\n      page = \"/\";\r\n    let locations = page.split(\"/\");\r\n    if (locations[1] === \"\") {\r\n      return \"dashboard\";\r\n    } else {\r\n      return locations[1];\r\n    }\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      host: props.host,\r\n      hostShow: false,\r\n      load: false,\r\n    };\r\n    this.controller = new AbortController();\r\n    this.signal = this.controller.signal;\r\n  }\r\n  componentWillUnmount() {\r\n    this.controller.abort(); // Cancelando cualquier carga de fetch\r\n  }\r\n\r\n  render() {\r\n    let { load, username, password, hostShow, host } = this.state,\r\n      { company } = this.props;\r\n    return (\r\n      <div className=\"login-page\">\r\n        <div className=\"login-box\">\r\n          <div className=\"login-logo\">\r\n            <a href=\".\">\r\n              <b className=\"text-primary\">Orus</b> LTE\r\n            </a>\r\n          </div>\r\n\r\n          <div className=\"card\">\r\n            <div className=\"card-body login-card-body\">\r\n              <p className=\"login-box-msg\">{company}</p>\r\n              <form onSubmit={this.handleLogin}>\r\n                <div className=\"input-group mb-3\">\r\n                  <input\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Usuario\"\r\n                    name=\"username\"\r\n                    required=\"required\"\r\n                    autoFocus={hostShow ? false : true}\r\n                    onChange={this.catchInputs}\r\n                    value={username}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <div className=\"input-group-text\">\r\n                      <span className=\"fas fa-user\"></span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"input-group mb-3\">\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Contraseña\"\r\n                    name=\"password\"\r\n                    required=\"required\"\r\n                    minLength=\"8\"\r\n                    maxLength=\"16\"\r\n                    pattern=\"^(?=.*[A-Z])(?=.*[!@#$&\\.*])(?=.*[0-9])(?=.*[a-z]).{8,16}$\"\r\n                    autoComplete=\"off\"\r\n                    onChange={this.catchInputs}\r\n                    value={password}\r\n                  />\r\n                  <div className=\"input-group-append\">\r\n                    <div className=\"input-group-text\">\r\n                      <span className=\"fas fa-lock\"></span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12 mb-4\">\r\n                    <a\r\n                      href=\"#tools\"\r\n                      onClick={this.showTools}\r\n                      className=\"text-muted\"\r\n                    >\r\n                      <i className=\"fas fa-wifi\"></i> Servidor\r\n                    </a>\r\n                    {hostShow ? (\r\n                      <div className=\"input-group mb-3\">\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Servidor\"\r\n                          name=\"host\"\r\n                          autoComplete=\"off\"\r\n                          autoFocus={hostShow ? true : false}\r\n                          onChange={this.catchInputs}\r\n                          value={host}\r\n                          onKeyPress={this.pressEnter}\r\n                        />\r\n                        <div className=\"input-group-append\">\r\n                          <div className=\"input-group-text\">\r\n                            <span className=\"fas fa-server\"></span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12 text-center\">\r\n                    {load ? (\r\n                      <div\r\n                        className=\"spinner-border text-primary\"\r\n                        role=\"status\"\r\n                      >\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                      </div>\r\n                    ) : (\r\n                      <button\r\n                        type=\"submit\"\r\n                        className=\"btn btn-primary btn-block\"\r\n                      >\r\n                        Iniciar sesion\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  pressEnter = (e) => {\r\n    e.preventDefault();\r\n    if (e.key === \"Enter\") {\r\n      let { host } = this.state;\r\n      window.Swal.fire({\r\n        icon: \"success\",\r\n        title: \"La conexion al servidor fue actualizada con exito: \" + host,\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n      }).then((res) => {\r\n        this.setState({\r\n          hostShow: false,\r\n        });\r\n        this.props.changeState(\"host\", host);\r\n      });\r\n    }\r\n  };\r\n  showTools = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      hostShow: !this.state.hostShow,\r\n    });\r\n  };\r\n  validInputs() {\r\n    //Valida los campos del formulario\r\n    let { username, password } = this.state;\r\n    const regexUser = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\r\n      regexPass = /^(?=.*[A-Z])(?=.*[!@#$&.*])(?=.*[0-9])(?=.*[a-z]).{8,16}$/;\r\n\r\n    username = username.replace(/\\s/g, \"\").toLowerCase();\r\n\r\n    if (regexUser.test(username) && regexPass.test(password)) {\r\n      return true;\r\n    } else {\r\n      alert(\"Los datos ingresados no son validos\");\r\n      return false;\r\n    }\r\n  }\r\n  handleLogin = (e) => {\r\n    e.preventDefault();\r\n    const { host, username, password, load } = this.state;\r\n    if (!load) {\r\n      this.setState({\r\n        load: true,\r\n      });\r\n    }\r\n\r\n    if (host) {\r\n      //Manejamos el inicio de sesion aqui, declaramos primero las variables\r\n      //sobre todo la de localstorage donde viene el host a conectar\r\n      //La variable body con los datos de inicio\r\n      let valid = this.validInputs(),\r\n        body = {\r\n          email: username,\r\n          password,\r\n        };\r\n\r\n      //Si los datos de usuario son correctos manda la informacion al servidor\r\n      if (valid) {\r\n        console.log(\"Enviado credenciales al servidor\");\r\n        fetch(\"http://\" + host + \"/api/users/login\", {\r\n          method: \"POST\",\r\n          body: JSON.stringify(body),\r\n          signal: this.signal,\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        })\r\n          .then(async (response) => {\r\n            let back = {};\r\n            if (response.status !== 204) back = await response.json();\r\n            if (!response.ok) {\r\n              console.error(response, back);\r\n              throw new Error(back.message);\r\n            }\r\n            return back;\r\n          })\r\n          .then((data) => {\r\n            if (data.data) {\r\n              console.log(\"Loggin: realizado con exito\");\r\n              this.props.loginFunction(data);\r\n            } else {\r\n              console.error(\"Login: Sin acceso\", data);\r\n              if (data.message) {\r\n                window.Swal.fire(\"Session\", data.message, \"error\");\r\n              } else if (data.errors) {\r\n                window.Swal.fire(\"Session\", data.errors, \"error\");\r\n              }\r\n              this.setState({\r\n                load: false,\r\n              });\r\n            }\r\n          })\r\n          .catch((message) => {\r\n            console.error(\"Orus fetch: \", message);\r\n            window.Swal.fire(\r\n              \"Fallo de servidor\",\r\n              \"Los datos no son correctos\",\r\n              \"error\"\r\n            );\r\n            this.setState({\r\n              load: false,\r\n            });\r\n          });\r\n      } else {\r\n        this.setState({\r\n          load: false,\r\n        });\r\n      }\r\n    } else {\r\n      console.error(\"No existe un valor para host\");\r\n      this.setState({\r\n        hostShow: true,\r\n        load: false,\r\n      });\r\n    }\r\n  };\r\n  catchInputs = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport Routers from \"./Routers\";\r\nimport Login from \"./components/Layouts/login\";\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    //Variables en localStorage\r\n    let storage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\r\n    //Agregamos los datos a state\r\n    this.state = {\r\n      isLogged: storage ? storage.isLogged : false,\r\n      token: storage ? storage.token : \"\",\r\n      idUser: storage ? storage.idUser : 0,\r\n      username: storage ? storage.username : \"\",\r\n      name: storage ? storage.name : \"\",\r\n      rol: storage ? storage.rol : 0,\r\n      email: storage ? storage.email : \"\",\r\n      host: storage ? storage.host : window.location.hostname,\r\n      company: storage ? storage.company : \"Optica Madero\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    /*Almacenamos el state en el storage*/\r\n    console.log(\"Cargando data a storage\");\r\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(this.state));\r\n  }\r\n  componentDidUpdate() {\r\n    //Cada que el componnte es redenrizado almacenamos la variables del\r\n    //state en localstorage\r\n    console.log(\"Actualizando data a storage\");\r\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(this.state));\r\n  }\r\n\r\n  render() {\r\n    //Mostramos el componente de login si isLogged no tiene sesion\r\n    //De lo contrario nos dirigimos al compenente de routers\r\n    //donde nos muestra el componente segun el path\r\n    return (\r\n      <Router>\r\n        <main>\r\n          {this.state.isLogged ? (\r\n            <Routers data={this.state} logOut={this.logOut} />\r\n          ) : (\r\n            <Login\r\n              company={this.state.company}\r\n              host={this.state.host}\r\n              loginFunction={this.login}\r\n              changeState={this.changeState}\r\n            />\r\n          )}\r\n        </main>\r\n      </Router>\r\n    );\r\n  }\r\n\r\n  changeState = (name, value) => {\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n  login = (s) => {\r\n    //Funcion que maneja el cambio de sesion en el state\r\n    this.setState({\r\n      isLogged: s.data.id ? true : false,\r\n      idUser: s.data.id,\r\n      username: s.data.username,\r\n      name: s.data.name,\r\n      email: s.data.email,\r\n      rol: s.data.rol,\r\n      token: s.token,\r\n    });\r\n  };\r\n  logOut = () => {\r\n    let session = {\r\n      isLogged: false,\r\n      token: \"\",\r\n      idUser: 0,\r\n      username: \"\",\r\n      name: \"\",\r\n      rol: 0,\r\n      email: \"\",\r\n      host: this.state.host,\r\n      company: this.state.company,\r\n    };\r\n    console.log(\"La session ha sido cerrada\");\r\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(session));\r\n    window.location.href = \"/\";\r\n  };\r\n}\r\n\r\nrender(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}