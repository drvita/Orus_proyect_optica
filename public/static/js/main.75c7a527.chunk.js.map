{"version":3,"sources":["utils/url.js","context/AuthContext.js","hooks/useUsers.js","context/ConfigContext.js","components/Users/views/userNameInput.jsx","components/Users/views/userEmailInput.jsx","components/Users/Metadata.jsx","components/Users/Permissions.jsx","components/Activitys.jsx","components/Users/add.jsx","context/StoreContext.js","pages/partials/SideBar.jsx","components/Input.jsx","hooks/useStore.js","components/Store/Brands.jsx","hooks/useContact.js","components/Store/Suppliers.jsx","components/Store/ToolBar.jsx","layouts/pagination.jsx","layouts/list_inbox.jsx","components/Store/Inbox.jsx","components/Store/helpers.js","hooks/useCategory.js","components/Store/Categories.jsx","hooks/useProducts.js","components/Store/Code.jsx","components/Store/views/BranchesSelect.jsx","components/Store/views/BranchesFormInputs.jsx","components/Store/views/BranchesForm.jsx","components/Store/Add.jsx","components/Store/data/Category_list.jsx","pages/StoreCategories.jsx","components/Store/data/BrandsList.jsx","pages/StoreBrand.jsx","components/Store/views/SetQantityModal.jsx","components/Store/views/Inventory_table.jsx","components/Store/views/SetPriceModal.jsx","pages/StoreInventory.jsx","components/Store/FormEntries.jsx","pages/StoreEntries.jsx","pages/Store.jsx","context/ContactContext.js","components/Contacts/ToolsBar.jsx","components/Contacts/Inbox.jsx","components/Contacts/helper.js","components/Contacts/views/Personal.jsx","components/Contacts/views/Address.jsx","components/Contacts/views/Phones.jsx","components/Sales/views/listOfSales_delete.jsx","components/Contacts/Dashboard.jsx","components/Store/views/listOfBrands.jsx","components/Order/helpers.js","components/Order/views/listOfOrders.jsx","components/Exam/views/List.jsx","components/Exam/cards/List.jsx","layouts/modal.jsx","components/Contacts/Add.jsx","pages/Contacts.jsx","components/Tools/views/Branchs.jsx","pages/Tools.jsx","context/ExamContext.js","components/Exam/ToolBar.jsx","hooks/useExam.js","components/Exam/Inbox.jsx","components/Exam/views/GeneralesExam.jsx","components/Exam/views/interrogatoriosExam.jsx","components/Exam/views/keraRetExam.jsx","components/Exam/views/diabetesExam.jsx","components/Exam/views/agudezaExam.jsx","components/Exam/views/diagnosticoExam.jsx","components/Exam/views/graduacionExam.jsx","components/Exam/views/observacionesExam.jsx","components/Exam/helpers.js","components/Exam/views/RecomendationGlass.jsx","components/Contacts/views/CardNewContact.jsx","components/Contacts/views/Autocomplete.jsx","components/Contacts/views/ShowCardSearch.jsx","components/Contacts/views/ShowCard.jsx","components/Exam/views/SideBarRigth.jsx","components/Exam/Add.jsx","pages/Exams.jsx","context/SaleContext.js","components/Sales/views/ListItemsModal.jsx","components/Sales/helpers.js","components/Sales/views/InputSearchItem.jsx","components/Sales/views/DiscountBtn.jsx","hooks/useSale.js","components/Sales/views/ListSalesModal.jsx","components/Sales/views/ListSalesBtn.jsx","components/print/PrintSale.jsx","components/print/views/SaleHTML.js","components/Sales/views/PaymentModal.jsx","components/Sales/views/PaymentBtn.jsx","components/Sales/views/EraseSaleBtn.jsx","components/Sales/views/SearchCustomerModal.jsx","components/Sales/views/CustomerBtn.jsx","components/Sales/views/PaymentDetails.jsx","components/Sales/views/UpdateItemModal.jsx","components/Sales/views/SalesDetailsTable.jsx","components/Sales/views/SaleDate.jsx","components/Sales/views/ShowToPay.jsx","components/Sales/views/ShowTotal.jsx","components/Sales/views/InfoModal.jsx","components/Sales/views/InfoButton.jsx","components/Sales/views/ShowPedido.jsx","pages/Sales.jsx","components/Sales/views/reportPaymentsDetails.jsx","components/Sales/views/reportPays.jsx","components/Sales/views/reportBank.jsx","components/dashboard/Filters.jsx","components/dashboard/boxCut.jsx","pages/AuthDashboard.jsx","context/UserContext.js","components/Users/views/FiltersToolbar.jsx","components/Users/views/Inbox.jsx","pages/Users.jsx","context/OderContext.js","hooks/useOrder.js","components/Order/views/inbox.jsx","utils/helpers.js","components/Store/data/searchStore.jsx","components/Store/views/searchItemModal.jsx","components/Order/views/ItemsOrder.jsx","components/Order/views/userEmailInput.jsx","components/Order/views/userPhoneInput.jsx","components/Order/views/Asistent_card_customer.jsx","components/Exam/views/CardExam.jsx","components/Exam/views/CardExamsByUser.jsx","components/Exam/views/FormExamSmall.jsx","components/Order/views/Asistent_card_exam.jsx","components/Order/views/Asistent_card_discount.jsx","components/Order/views/PaymentModal.jsx","components/Order/views/Asistent_card_payments.jsx","components/Order/Asistent.jsx","components/Order/views/labOrder.jsx","components/Order/views/bicelacionOrder.jsx","components/Exam/views/examShort.jsx","components/Order/ExamModal.jsx","components/Order/ModalNota.jsx","components/Order/editOrder.jsx","components/Layouts/Messenger.jsx","hooks/useMessenger.js","components/Order/Toolbar.jsx","pages/Orders.jsx","components/Layouts/notify.jsx","components/Layouts/navtop.jsx","components/Layouts/breadcrumb.jsx","components/Layouts/menu.jsx","layouts/Main.jsx","routers/RouterAuth.jsx","pages/Dashboard.jsx","routers/RouterPortal.jsx","components/404NotFound/index.jsx","pages/Login.jsx","routers/Router.jsx","App.jsx","index.js","utils/current.js"],"names":["api","url","method","body","controller","Promise","done","reject","LS","localStorage","getItem","SS","sessionStorage","JSON","parse","protocol","PROTOCOL","window","location","host","HOST","hostname","port","PORT","token","TOKEN","param","headers","Accept","Authorization","includes","toUpperCase","data","stringify","signal","axios","then","res","catch","err","console","error","code","message","response","setUrl","endpoint","id","paramString","paramKeys","Object","keys","Array","isArray","map","k","length","URLSearchParams","AuthContext","createContext","useUser","children","history","useHistory","initialSession","isLogged","idUser","username","name","rol","email","branch","roles","permissions","useState","user","setUser","setUserData","toSave","toLowerCase","setItem","session","credentials","a","password","status","outSession","getCurrentUser","log","pathname","push","getNotifications","unreadNotifications","setNotifications","payload","result","count","parseInt","success","setBranch","update","branch_id","useEffect","Provider","value","auth","setSession","useUsers","getListUsers","filters","getUserById","ID","deleteUser","saveUser","ConfigContext","Config","useContext","initialState","meta","server","useConfig","state","setstate","setStorage","storage","newStorage","UserNameInputComponent","props","mounted","useRef","bgColor","validate","text","searchUser","setState","_onChange","onChange","_handleValidate","handleValidate","current","className","col","type","placeholder","autoComplete","autoFocus","defaultValue","handleChange","target","onBlur","userSearch","replace","test","handleSearchUser","userId","required","minLength","maxLength","pattern","deleted","UserEmailInputComponent","searchEmail","emailSearch","MetadataComponent","currentUser","moment","created_at","fromNow","updated_at","ip_address","last_activity","user_agent","user_data","onClick","PermissionsComponent","role","permission","i","ActivitysComponents","ac","datetime","format","Boolean","inputs","input","load","validUserName","validUserEmail","activities","UserAddComponent","match","params","_handleNewOrEdit","handleNewOrEdit","_users","branchs","setCurrentUser","send","catchInputs","normalize","activity","processData","style","height","disabled","Swal","fire","icon","title","showConfirmButton","timer","showCancelButton","confirmButtonText","cancelButtonText","showLoaderOnConfirm","dismiss","StoreContext","Store","SideBarPartial","Input","showIcon","loadText","options","emptyText","cat","index","useStore","getItems","deleteItem","saveItemByList","items","saveItem","saveQantityandPrice","readyToSave","saveGlobalPrice","idCategory","productCategoryId","URL","branchSelected","saveQantity","product_id","getBrands","getBrand","saveBrand","deleteBrand","Brands","brands","_store","supplier","brand","handleChangeBrand","filter","filterBrandName","useContact","getContacts","getContact","deleteContact","saveContact","Suppliers","_contacts","suppliers","orderby","order","sup","handleChangeSupplier","ToolBar","context","handleSetSelectOptions","checked","set","panel","href","e","preventDefault","zero","htmlFor","itemsPage","PaginationComponent","color","_handlePagination","handlePagination","handleChangePage","page","current_page","last_page","ListInbox","defaultSearch","search","setSearch","setTimer","inputRef","toTimer","handleSearch","clearTimeout","setTimeout","ref","onKeyPress","key","top","left","handleDeleteItem","handleEditItem","handleStatus","handleSync","handleDownload","itemSelected","handlePrint","loading","Inbox","handleChangeOptions","handleSelectItem","item","newOptions","responseType","oMyBlob","Blob","open","createObjectURL","confirmButtonColor","handleItemSelect","cant_total","colSpan","codeLentString","string","toExport","verifyItem","cant","store_items_id","price","_delete","handleVerifyData","codeRef","category_id","category_id1","category_id2","category_id4","brand_id","handleSaveItem","_save","_close","handleCatOne","category_list2","hijos","category_id3","category_list3","category_list4","handleCatTwo","handleCatTree","handleCodeString","stringcode","category","trim","handleCodeLent","grad","category1","category2","category3","toString","handleNameLent","useCategory","getCategories","getCategory","deleteCategory","saveCategory","Categories","_categories","categories","cat1","cat2","cat3","cat4","catNameSelect","input2","input3","sons","input4","input5","handleCodeName","select","c","codeName","handleSetCatName","categoryid","handleReturn","val","useProducts","getProducts","searchBy","getProductById","getProductByCode","saveProduct","Code","hookProducts","codeMessage","codeStatus","rendered","validCode","onChangeStatusCode","onChangeProductCode","createName","BranchesSelect","branch_default","setBranchId","listBranches","BranchesFormInputs","inBranch","branchID","storeItemID","hookStore","store_item_id","setData","handleChangeInput","parseFloat","min","BranchesForm","branches","defaultBranch","configBranches","currentBranch","codebar","unit","supplier_id","codes","category_code","codenames","brandname","Add","storeContext","LOADING","barcode","inBranches","getNameCodeDefault","brandName","currentCode","slice","helper","textSelect","codeReceibed","to","dataSend","timerProgressBar","errors","CategoryListComponent","hookCategory","ls","dd","category_raiz","add","categoryData","width","Fragment","last","_categorySelect","categorySelect","category_data","handleSelectCategory","CategoriesStoreComponent","category_view_sons","category_current","category_cache","minHeight","BrandsList","handleEdit","handleDelete","cursor","BrandsComponent","storeHook","nombre","prevEdit","changeInput","contact_id","SetQantityModal","handleClose","handleUpdateItems","cantidad","setCantidad","tabIndex","class","InventoryTableView","header","itemsProp","showModal","row","h","toFixed","newItem","forEach","SetPriceModal","categoryName","_handleSave","handleSave","_handleChange","showLoader","setShowLoader","setPrice","Inventory","catData_1","catData_2","catData_3","catid_1","catid_2","catid_3","globalData","setGlobalData","modal","setModal","cil","rangoInf","rangoSup","disablenBtnModal","handleModal","catid","noGraduationData","FormEntries","eraseItem","setItemNew","configContext","conf","branchesId","b","currentCant","store","searchProductByItem","currentPrice","branch_select","setDataByBranch","getBranchesId","isNaN","branches_used","StoreEntries","Date","now","setNewItem","branches_rest","setDataItem","itemHasNew","getNewItem","c_branch","n_branch","newItems","alt","optionsDefault","ContactContext","Contacts","ToolBarContact","newOrEdit","contact","InboxContact","contactSelected","contacts","handleLoadContacts","phones","values","p","maxWidth","enUso","age","created","patternEmail","handleVerificationData","showMsg","birthday","phone","patternName","patternPhone","telefonoVerify","date","today","anos","getFullYear","changeDataInput","_setData","telnumbers","t_movil","handleGetDataObject","verification","telefonos","dataPrimary","t_casa","t_oficina","business","gender","isEmail","Personal","fn","emailVerification","emailColor","nameVerification","nameColor","birthdayVerification","birthdayColor","contatcs","handleValidContact","except","validates","check","diff","rfc","onKeyDown","zIndex","maxHeight","locale","selected","dateFormat","maxDate","placeholderText","onSelect","toLocaleDateString","isValid","Address","address_street","address_neighborhood","address_location","address_state","address_zip","Phones","phone_notices","phone_cell","phone_office","registerLocale","es","ListOfSalesComponent","sales","sale","total","pedido","Dashboard","analytics","metadata","purchases","exams","orders","updated","ListOfBrandsComponent","handleStatusString","getDataTemporary","field","removeDataTemporary","getBadgeStatus","handleDeleteOrder","estado","nota","handleSaveOrder","_erase","addDataTemporary","local","getDataOneItem","getStatusType","ListOfOrdersComponent","order_foreing","List","allSelect","_handleSelectedExam","handleSelectedExam","setSelect","scope","isSame","showBottons","examSelect","ModalComponents","_handleCancel","handleCancel","supplier_of","deleted_at","AddContact","id_exam","setContact","btn_enabled","handleChangeData","notices","cell","office","address","street","neighborhood","zip","purchases_count","exams_count","brands_count","suppliers_count","orders_count","domicilios","calle","colonia","municipio","cp","domicilio","handleSaveContact","ContactsComponent","BranchsListComponent","showForm","handleChangeValue","onSubmit","handleUpdateConfig","ToolsComponent","varLocalStorage","company","category_list","ExamContext","Exams","useExam","getExams","getExam","deleteExam","saveExam","InboxExams","_exam","list","examSelected","handleLoadExams","exam","customer","hasOwnProperty","messages","esferaod","esferaoi","cilindrod","cilindroi","ejeod","ejeoi","adiciond","adicioni","adicion_media_od","adicion_media_oi","dpod","dpoi","alturaod","alturaoi","GeneralesExam","handleGetData","pc","pc_time","readOnly","tablet","tablet_time","movil","movil_time","lap","lap_time","frontal","occipital","generality","cefalea","temporaod","temporaoi","c_frecuencia","max","c_intensidad","InterrogatorioExam","onChangeInput","this","interrogatorio","coa","rows","aopp","aopf","Component","KeraRetExamComponent","keratometriaod","keratometriaoi","rsod","rsoi","DiabetesExam","d_fclod","d_fcloi","d_time","d_media","d_test","d_fclod_time","d_fcloi_time","oftalmoscopia","AgudezaExam","cvod","cvoi","avslod","avsloi","avcgaod","avcgaoi","avfod","avfoi","avf2o","DiagnosticoExam","diagnostico","presbicie","step","piod","pioi","txoftalmico","GraduacionExamComponent","lcmarca","lcgod","lcgoi","showContactGlasses","ObservacionesExam","observaciones","parent","toExportActions","handleTypeInput","getCodeGrad","gradod","gradoi","od","oi","handleSaveExam","examToday","examenes","edad","RecomendationGlass","category_list_2","category_list_3","category_id_1","category_id_2","category_id_3","codesItems","_category","handleCodesItems","handleCategoryChange","_onChangeInput","CardNewContact","nameDefault","hookContact","valid","handleValidForm","dissmiss","handleResult","Autocomplete","showNew","handleSelected","per_page","handleNew","ShowCardSearch","new","newName","handleSelectContact","ShowContactComponent","legend","handleContactSelect","SideBarRigth","_handle","handle","generales","interrogatorios","keraRet","diabetes","agudeza","graduacion","recomendaciones","getDataDefault","used","activitys","_exams","category_ii","doc","num","temporal","nameItem","pantalleooi","pantalleood","txoptico","SaleContext","Sale","ListItemsModal","cantDefault","_Select","handleSelect","handleChangeCant","producto","handleClickItem","toSend","confirm","_make","getMethodName","getSession","Math","random","substring","getForPay","payments","discount","paid","reduce","subtotal","getSubTotal","getTotal","getPagado","InputSearchItem","textSearch","setTextSearch","showList","setShowList","setCantDefault","setList","searchItem","split","makeItem","inStorage","cantidades","out","cantInStore","descripcion","categoria","handleAddItem","found","handleChangeTextSearch","handlePressEnter","DiscountBtnComponent","pagado","btnDisabled","prompt","sum","percent","useSales","ctx","getSaleList","salesFilters","orderBy","getSaleById","saveSale","ListSalesModal","_select","_sales","saleList","setSaleList","handleChangeSearch","saleSelected","handleSelectSale","ListSalesBtn","pay","thereNews","PrintSaleComponent","popup","document","write","card","helpers","amount","order_id","HTMLOrderPrint","getPage","print","onbeforeunload","setPrint","position","display","flexDirection","justifyContent","alignItems","backgroundColor","marginBottom","PaymentModal","forPaid","listBanks","metodopago","metodoname","bank_id","details","handleSetPayment","bank","PaymentBtnComponent","showPayment","EraseSaleBtnComponent","eraseSale","isPayed","SearchCustomerModal","customers","setCustomers","SearchCustomer","handleChangeText","handleKeyPressSearch","saleHelper","handleClickCustomer","CustomerBtnComponent","payment","banco","UpdateItemModal","close","_update","handleUpdate","handleUpdateItem","handleKeyPress","SalesDetailsTableComponent","showUpdateItem","showPaymentDetails","product","handleDeletePayment","newPayments","handleShowUpdateItem","handleCloseUpdateItem","diffDay","handleDeleteBtn","alert","handleShowPaymentDetails","PaymentDetails","toDo","ShowToPay","ShowTotal","InfoModal","InfoButton","saleContext","setShowModal","ShowPedido","IndexSalesComponent","hookSale","setDataToSend","showDenyButton","back","payed","obj","ReportPaymentsDetails","getSaleDay","paymentsFilters","paymentsUrl","user_id","date_start","date_end","metodo","created_user","dollarUS","ReportPays","changeState","efectivo","char","newFiltersPays","donutChartCanvas","$","get","getContext","donutOptions","maintainAspectRatio","responsive","labels","donutData","destroy","mp","datasets","Chart","ventas","ReportBank","listBank","bankFilters","bankUrls","Filters","userData","usersHook","handleChangeDate","getDataApi","users","u","BoxCut","startOf","changeAllState","UserContext","FiltersToolbar","_newOrEdit","_userContext","InboxComponent","userSelected","setUserSelected","setLoading","getClassByRole","UsersComponent","OrderContext","useOrder","getListOrders","getOrder","orderID","saveOrder","bi_details","deleteOrder","InboxOrderComponent","orderContext","orderHook","pedidos","setPedidos","_saveOrder","orderSelected","setOrderSelected","handleSelectOrder","getList","cancelButtonColor","handleOrderSelect","paciente","lab","npedidolab","ncaja","SearchItemsComponent","_handleItemSelect","setLoad","setItems","sort","getItemToShow","AddItemModalComponent","codeDefault","_handleAddItem","_handleCloseModal","handleCloseModal","showDesc","setShowDesc","handleChangeItem","hanldeSendBack","ListItemComponent","itemNew","validItems","showDetails","handleSetCantItem","itemsToSave","codeNameCategory","sub","minWidth","itemFound","findIndex","_handleValidData","handleValidData","contactHook","validEmail","UserPhoneInputComponent","validPhone","CardCustomer","_handleRemoveCustomer","handleRemoveCustomer","_handleUpdateContact","handleUpdateContact","_handleEditor","handleEditor","edit","validToSave","ph","exam_id","contactData","CardShowExam","_handleRemove","handleRemove","_handleEdit","cancelButttonText","CardExamByUser","customer_id","_handleClick","handleClick","examHook","dataNewExam","FormExamSmall","handleOnChange","CardExam","editCustomer","_handleSelect","_hanldeRemove","hanldeRemove","CardDiscount","_handleSetDiscount","handleSetDiscount","toPaid","setDiscount","_handleSetPayments","handleSetPayments","CardOrderPayments","handleToPaid","AsistentComponent","examsList","generalHelper","handleGetCategories","cat_id","_getCategory","executeHook","descuento","handleCloseAssitent","categories_wrong","items_state","finalPayments","denyButtonText","LabOrderComponent","lab_id","lab_order","setSuppliers","supDefault","setSupDefault","hookContacts","s","BicelacionOrderComponent","bi_box","ExamCustomerComponent","examEdit","_ChangeInput","ChangeInput","_saveExam","newExam","setNewExam","handelChangeExam","ExamModal","ModalNota","penddingToPay","EditOrderComponent","statusInitial","showModalNota","setShowModalNota","idurl","hookOrder","fNacimiento","tel","saveFinalOrder","join","Messenger","table","idRow","hookMessenger","getMessages","sendMessenger","bodyRequest","useMessenger","getMessenger","avatar","src","mensaje","Toolbar","useParams","initialOptions","IndexOrderComponent","NotifyComponent","timerNotify","notifications","mainRole","countNotify","showNotifications","handleNotifications","handleClickRead","setInterval","clearInterval","notify","notiFyType","time","NavtopComponent","toggleClass","BreadcrumbComponent","config","pathName","useLocation","namePage","path","showChangeBranchs","branchSelect","handleCancelModal","handleClickChangeBranch","reload","getHtmlBody","MenuComponent","companyName","active","opacity","Main","logOut","Routers","exact","render","RouterPortal","NotFoundComponent","Login","defaultStorage","txtHost","hostShow","inputEmail","inputPassword","handleLogin","focus","handleKeyEnter","handleChangeServer","handleEmailEnter","Router","component","NotFound","App","getElementById","module","exports","Intl","NumberFormat","currency"],"mappings":"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","file":"static/js/main.75c7a527.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport function getLastParam() {\n  const url = window.location.pathname.split(\"/\");\n\n  return parseInt(url.pop());\n}\n\nexport function api(url, method = \"GET\", body, controller = null) {\n  return new Promise((done, reject) => {\n    const LS = localStorage.getItem(\"OrusSystem\"),\n      SS = sessionStorage.getItem(\"OrusSystemLogin\"),\n      {\n        protocol: PROTOCOL = window.location.protocol,\n        host: HOST = window.location.hostname,\n        port: PORT = window.location.port,\n      } = JSON.parse(LS ? LS : \"{}\"),\n      { token: TOKEN = \"\" } = JSON.parse(SS ? SS : \"{}\");\n    const param = {\n      method,\n      url: `${PROTOCOL}://${HOST}:${PORT}/api/${url}`,\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + TOKEN,\n      },\n    };\n\n    if ([\"POST\", \"PUT\"].includes(method.toUpperCase()) && body) {\n      param.data = JSON.stringify(body);\n    }\n    if (controller) param.signal = controller.signal;\n\n    axios(param)\n      .then((res) => {\n        return done(res.data);\n      })\n      .catch((err) => {\n        console.error(\"[Orus System] Query API failer:\", url);\n        console.error(\"[Orus System] Query API code:\", err?.code);\n        console.error(\"[Orus System] Query API message:\", err?.message);\n        return reject(err.response?.data);\n      });\n  });\n}\n\nexport function setUrl(endpoint, id, param = {}) {\n  let url = endpoint,\n    paramString = null;\n  const paramKeys = Object.keys(param);\n\n  if (id) {\n    url += `/${id}`;\n  }\n\n  if (typeof param !== \"object\" || Array.isArray(param)) {\n    return url;\n  }\n\n  if (paramKeys) {\n    paramKeys.map((k) => {\n      if (param[k] === null || param[k] === \"\") {\n        delete param[k];\n      }\n      return null;\n    });\n\n    if (paramKeys.length) {\n      paramString = new URLSearchParams(param);\n      url += `?${paramString}`;\n    }\n  }\n\n  return url;\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { api, setUrl } from \"../utils/url\";\n\nexport const AuthContext = createContext(null);\nexport const Auth = () => useContext(AuthContext);\n\nexport default function useUser({ children }) {\n  const history = useHistory();\n\n  //const LS = localStorage.getItem(\"OrusSystemLogin\");\n  const LS = sessionStorage.getItem(\"OrusSystemLogin\");\n\n  let initialSession = {\n    isLogged: false,\n    idUser: 0,\n    username: \"\",\n    name: \"\",\n    rol: null,\n    email: \"\",\n    token: \"\",\n    branch: \"\",\n    roles: \"\",\n    permissions: [],\n\n  };\n\n  const [user, setUser] = useState(() => {\n    if (LS && LS !== \"undefined\") {\n      initialSession = JSON.parse(LS);\n    }\n\n    return initialSession;\n  });\n\n  // Functions\n  const setUserData = (data) => {\n      if (!data) return;      \n\n      const toSave = {\n        isLogged: data.isLogged ?? user.isLogged,\n        idUser: data.id,\n        username: data.username.toLowerCase(),\n        name: data.name.toLowerCase(),\n        rol: 2,\n        email: data.email,\n        token: data.token ?? user.token,\n        branch: { ...data.branch.data, id: data.branch.id },\n        roles: data.roles[0],\n        permissions: data.permissions,\n      };      \n      setUser(toSave);\n      //localStorage.setItem('OrusSystemLogin', JSON.stringify(toSave));\n      sessionStorage.setItem(\"OrusSystemLogin\", JSON.stringify(toSave));\n    },\n    session = async (credentials) => {\n      const { email, password } = credentials;\n\n      if (!email || !password) {\n        return {\n          status: false,\n          message: \"The fields user or passwors are required\",\n        };\n      }\n\n      return await api(\"user/login\", \"POST\", credentials)\n        .then((data) => {\n          if (!data.status) {\n            return { status: false, data };\n          }\n\n          const { data: user } = data;\n\n          setUserData({\n            ...user,\n            token: data.token,\n            isLogged: true,\n          });\n\n          return { status: true, message: data.message };\n        })\n        .catch((err) => {\n          return {\n            status: false,\n            message: \"Error en el servidor: \" + err?.message,\n          };\n        });\n    },\n    outSession = async () => {\n      return await api(\"user/logout\", \"POST\")\n        .then(() => {\n          setUser(initialSession);\n          //localStorage.setItem('OrusSystemLogin', '{}');\n          sessionStorage.setItem(\"OrusSystemLogin\", \"{}\");\n\n          return true;\n        })\n        .catch((err) => console.error(\"[Server] When close session:\", err));\n    },\n    getCurrentUser = async () => {\n      return await api(\"user\")\n        .then((data) => data.data)\n        .catch((err) => {\n          if (err?.message === \"Unauthenticated.\") {\n            if (history.location?.pathname !== \"/login\") {\n              setUser(initialSession);\n              //localStorage.setItem('OrusSystemLogin', JSON.stringify(initialSession));\n              sessionStorage.setItem(\n                \"OrusSystemLogin\",\n                JSON.stringify(initialSession)\n              );\n\n              history.push(\"/login\");\n            }\n            return;\n          }\n          console.log(\"[Orus System] Responses:\", err);\n        });\n    },\n    getNotifications = async () => {\n      const user = await getCurrentUser().catch(() => {\n        // outSession();\n        return null;\n      });\n\n      if (!user) return [];\n\n      return user.unreadNotifications;\n    },\n    setNotifications = async (payload) => {\n      if (typeof payload !== \"object\") {\n        return {\n          status: false,\n          message: \"Payload should be object\",\n        };\n      }\n\n      return await api(\"user/readAllNotifications\", \"POST\", payload).then(\n        (result) => {\n          const count = parseInt(payload.id) < 0 ? \"Todas\" : 1;\n\n          if (result.success) {\n            console.log(\"[Orus System] Notificaciones marcadas leidas:\", count);\n            return true;\n          }\n\n          return false;\n        }\n      );\n    },\n    setBranch = async (branch) => {\n      const url = setUrl(\"users\", user.idUser);\n\n      const update = {\n        branch_id: branch,\n        name: user.name,\n        username: user.username,\n      };\n      \n      return await api(url, \"PUT\", update).then((result) => {\n        if (result.data && !result.message) return true;\n        else return false;\n      });\n    };\n\n  useEffect(() => {\n    getCurrentUser().then((data) => {\n      if (!data) return;\n\n      console.log(\"[Orus system] Session was created\");\n      setUserData({ ...data, isLogged: true });\n    });\n  }, [user.isLogged]);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        auth: user,\n        setSession: session,\n        outSession,\n        getNotifications,\n        setNotifications,\n        setBranch,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useUsers() {\n\n  const getListUsers = async (filters)=>{\n    const url = setUrl('users', null, filters);\n    return await api(url);\n  }\n\n  const getUserById = async(ID) => {\n    const url = setUrl('users', ID);\n    return await api(url)\n  }\n\n  const deleteUser = async (ID) => {\n    const url = setUrl('users', ID);\n    return await api(url, 'DELETE', null);\n  }\n\n  const saveUser = async (data, ID)=> {\n\n    if(ID){\n      //Actualizamos\n      const url = setUrl('users', ID);\n      return await api(url, 'PUT',data);\n    }else{\n      //Creamos uno nuevo\n\n      const url = setUrl('users');\n      return await api(url, \"POST\", data);\n    }\n  }\n\n  return{\n    getListUsers,\n    getUserById,\n    deleteUser,\n    saveUser,\n  }\n\n}\n\n\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useState, useEffect, useContext } from \"react\";\nimport { api } from \"../utils/url\";\n\nexport const ConfigContext = createContext(null);\nexport const Config = () => useContext(ConfigContext);\n\nconst storage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\nconst initialState = {\n  data: [],\n  meta: {},\n  server: storage,\n};\n\nexport default function useConfig({ children }) {\n  const [state, setstate] = useState(initialState);\n  // Functions\n  const setStorage = (storage) => {\n    if (typeof storage !== \"object\") {\n      return false;\n    }\n\n    const newStorage = {\n      ...state.server,\n      ...storage,\n    };\n\n    setstate({\n      ...state,\n      server: newStorage,\n    });\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(newStorage));\n    return true;\n  };\n\n  useEffect(() => {\n    api(\"config?itemsPage=100\", \"GET\").then((response) => {\n      setstate({\n        ...state,\n        data: response.data,\n        meta: response.meta,\n        setStorage,\n      });\n    });\n  }, []);\n\n  return (\n    <ConfigContext.Provider value={state}>{children}</ConfigContext.Provider>\n  );\n}\n","import { useEffect, useRef, useState } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\n\nexport default function UserNameInputComponent(props) {\n  const user = useUsers();\n  const mounted = useRef(true);\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"Debe de tener al menos 4 caracteres.\",\n    searchUser: false,\n  });\n  const { onChange: _onChange, handleValidate: _handleValidate } = props;\n\n  const handleChange = ({ value }) => {\n    _onChange({\n      name: \"username\",\n      value: value.toLowerCase(),\n    });\n  };\n  const validUser = () => {\n    if (!mounted.current) return;\n\n    const regex = /^[\\w]{4,16}$/,\n      userSearch = props.username.replace(/\\s/g, \"\");\n\n    if (regex.test(userSearch)) {\n      //User valid, next search if exist\n      setState({\n        ...state,\n        searchUser: true,\n      });\n\n      handleSearchUser(userSearch, props.userId, user).then((status) => {\n        if (!mounted.current) return;\n\n        if (status) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"El usuario ya esta registrado.\",\n            searchUser: false,\n          });\n          _handleValidate({\n            name: \"validUserName\",\n            value: false,\n          });\n        } else {\n          setState({\n            ...state,\n            bgColor: \"bg-blue\",\n            validate: \"\",\n            text: \"\",\n            searchUser: false,\n          });\n          _handleValidate({\n            name: \"validUserName\",\n            value: true,\n          });\n        }\n      });\n    } else {\n      //User no valid\n      if (userSearch.length > 4) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"No tiene el formato de usuario\",\n        });\n        _handleValidate({\n          name: \"validUserName\",\n          value: false,\n        });\n      } else if (!userSearch.length) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"Debe de tener de 4 a 16 caracteres alfanumericos.\",\n        });\n        _handleValidate({\n          name: \"validUserName\",\n          value: false,\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      mounted.current = false;\n    };\n  });\n\n  return (\n    <div className={\"col-\" + props.col}>\n      {props.username.length ? (\n        <small>\n          <label>Usuario</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + state.bgColor}>\n            {state.searchUser ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-user-check\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"text\"\n          className={\"form-control\" + state.validate}\n          placeholder=\"Usuario\"\n          autoComplete=\"off\"\n          autoFocus=\"autofocus\"\n          defaultValue={props.username}\n          onChange={({ target }) => handleChange(target)}\n          onBlur={validUser}\n          required=\"required\"\n          minLength=\"4\"\n          maxLength=\"16\"\n          pattern=\"^[\\w]{4,16}$\"\n        />\n      </div>\n      {state.validate ? <small className=\"text-muted\">{state.text}</small> : \"\"}\n    </div>\n  );\n}\n\nconst handleSearchUser = async (username, userId = null, user) => {\n  const result = await user.getListUsers({ username, userId, deleted: 0 });\n\n  if (result.data && result.data.length) {\n    const { username: user } = result.data[0];\n\n    if (user.toLowerCase() === username) {\n      return true;\n    }\n  }\n  return false;\n};\n","import { useState } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\n\nexport default function UserEmailInputComponent(props) {\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"No tiene el formato de un email\",\n    searchEmail: false,\n  });\n\n  const user = useUsers();\n\n  //Vars\n  const { col, email, userId, onChange: _onChange } = props,\n    { bgColor, validate, text, searchEmail } = state;\n\n  //Functions\n  const handleChange = ({ name, value }) => {\n      _onChange({\n        name,\n        value: value.toLowerCase(),\n      });\n    },\n\n    validEmail = () => {\n      const regex =\n          /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,\n        emailSearch = email.replace(/\\s/g, \"\");\n\n      if (regex.test(emailSearch)) {\n        //User valid, next search if exist\n        setState({\n          ...state,\n          searchUser: true,\n        });\n        \n        handleSearchUser(emailSearch, userId, user).then((response) => {\n          if (response) {\n            setState({\n              bgColor: \"bg-red\",\n              validate: \" border border-danger\",\n              text: \"El usuario ya esta registrado.\",\n              searchUser: false,\n            });\n            _onChange({\n              name: \"validUserEmail\",\n              value: false,\n            });\n          } else {\n            setState({\n              ...state,\n              bgColor: \"bg-blue\",\n              validate: \"\",\n              text: \"\",\n            });\n            _onChange({\n              name: \"validUserEmail\",\n              value: true,\n            });\n          }\n        });\n      } else {\n        //User no valid\n        if (emailSearch.length > 8) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"No tiene el formato de un email valido\",\n          });\n          _onChange({\n            name: \"validUserEmail\",\n            value: false,\n          });\n        } else if (!emailSearch.length) {\n          setState({\n            ...state,\n            bgColor: \"bg-red\",\n            validate: \" border border-danger\",\n            text: \"Escriba un email valido\",\n          });\n          _onChange({\n            name: \"validUserEmail\",\n            value: false,\n          });\n        }\n      }\n    };\n\n  return (\n    <div className={\"col-\" + col}>\n      {email.length ? (\n        <small>\n          <label>Email</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + bgColor}>\n            {searchEmail ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-at\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"email\"\n          className={\"form-control\" + validate}\n          placeholder=\"email\"\n          name=\"email\"\n          autoComplete=\"off\"\n          defaultValue={email}\n          onChange={({ target }) => handleChange(target)}\n          onBlur={validEmail}\n          required=\"required\"\n        />\n      </div>\n      {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n    </div>\n  );\n}\n\n\nconst handleSearchUser = async (username, userId = null, user) => {\n  const result = await user.getListUsers({ username, userId, deleted: 0 });\n\n  if (result.data && result.data.length) {\n    const { username: user } = result.data[0];\n\n    if (user.toLowerCase() === username) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n\n/* const handleSearchUser = async (email, userId = null, user) => {\n  const result = await user.getListUser\n  const url = getUrl(\"users\", null, { email, userId, deleted: 0 }),\n    result = await api(url);\n\n  if (result.data && result.data.length) {\n    const { email: user } = result.data[0];\n\n    if (user.toLowerCase() === email) {\n      return true;\n    }\n  }\n  return false;\n};\n */\n","import moment from \"moment\";\n\nexport default function MetadataComponent({ data: currentUser }) {\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-primary\">\n          <i className=\"fas fa-database mr-2\"></i>\n          Metadata\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        {currentUser.data?.session ? (\n          <ul className=\"list-group\">\n            <li className=\"list-group-item\">\n              <h6>Datos del usuario</h6>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <span className=\"text-primary\">Registrado</span>\n                  <p>{moment(currentUser.data.created_at).fromNow()}</p>\n                </div>\n                <div className=\"col\">\n                  <span className=\"text-primary\">Ultima actualizacion</span>\n                  <p>{moment(currentUser.data.updated_at).fromNow()}</p>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              <h6>Actividad</h6>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <span className=\"text-primary\">IP</span>\n                  <p>\n                    {currentUser.data.session?.ip_address\n                      ? currentUser.data.session.last_activity\n                      : \"--\"}\n                  </p>\n                </div>\n                <div className=\"col\">\n                  <span className=\"text-primary\">Ultima actividad</span>\n                  <p>\n                    {currentUser.data.session?.last_activity\n                      ? moment(currentUser.data.session.last_activity).fromNow()\n                      : \"--\"}\n                  </p>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"text-primary\">Navegador y OS</span>\n              <p>\n                {currentUser.data.session?.user_agent\n                  ? currentUser.data.session.user_agent\n                  : \"--\"}\n              </p>\n            </li>\n            <li className=\"list-group-item\">\n              <span className=\"text-primary\">Token</span>\n              <p>\n                {currentUser.data.session?.user_data\n                  ? currentUser.data.session.user_data\n                  : \"--\"}\n              </p>\n            </li>\n          </ul>\n        ) : (\n          <p>Usuario no ha registrado actividad.</p>\n        )}\n      </div>\n      {currentUser.data.session && (\n        <div className=\"card-footer text-right\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            onClick={() => {\n              // close session when session is active\n            }}\n          >\n            <i className=\"fas fa-sign-out-alt mr-1\"></i>\n            Cerrar session\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","export default function PermissionsComponent({ data: currentUser }) {\n  return (\n    <div className=\"card card-primary card-outline mt-4\">\n      <div className=\"card-header\">\n        <h5 className=\"card-title text-primary\">Tipo y permisos</h5>\n      </div>\n      <div className=\"card-body\">\n        <span className=\"badge badge-dark m-1\">{currentUser.role}</span>\n        {currentUser.data?.permissions?.map((permission, i) => (\n          <span className=\"badge badge-primary m-1\" key={i}>\n            {permission}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import moment from \"moment\";\nexport default function ActivitysComponents(props) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title text-muted text-bold w-100 mb-4 text-left\">\n          <i className=\"fas fa-bars mr-1\"></i>\n          Actividad\n        </h5>\n\n        {props.data.map((ac, i) => {\n          const { data, type } = ac;\n\n          return (\n            <p className=\"card-text border-bottom text-left\" key={i}>\n              <span\n                className={\n                  type !== \"deleted\"\n                    ? type === \"created\"\n                      ? \"badge badge-success text-uppercase\"\n                      : \"badge badge-primary text-uppercase\"\n                    : \"badge badge-danger text-uppercase\"\n                }\n              >\n                {type}\n              </span>\n              <span className=\"mx-2 text-uppercase\">\n                {moment(data.datetime).format(\"DD-MMMM-YYYY HH:mm\")}\n              </span>\n              <span className=\"text-bold text-capitalize\">\n                {data.user?.name.toLowerCase()}\n              </span>\n\n              {Boolean(Object.keys(data.inputs).length) && (\n                <span className=\"px-2\">\n                  {Object.keys(data.inputs).map((input, i) => (\n                    <span\n                      key={i}\n                      className=\"badge badge-light text-uppercase mx-1\"\n                    >\n                      {input} / {data.inputs[input]}\n                    </span>\n                  ))}\n                </span>\n              )}\n            </p>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport useUsers from \"../../hooks/useUsers\";\nimport { Config } from \"../../context/ConfigContext\";\nimport { useHistory } from \"react-router-dom\";\n\n//Component\nimport UserNameInput from \"./views/userNameInput\";\nimport UserEmailInput from \"./views/userEmailInput\";\nimport Metadata from \"./Metadata\";\nimport Permissions from \"./Permissions\";\nimport Activities from \"../Activitys\";\n\nconst initialState = {\n  id: 0,\n  role: \"ventas\",\n  password: \"\",\n  username: \"\",\n  name: \"\",\n  email: \"\",\n  branch_id: 12,\n  data: {\n    session: {},\n    roles: [],\n    permissions: [],\n    load: false,\n    validUserName: false,\n    validUserEmail: false,\n    created_at: \"\",\n    updated_at: \"\",\n    activities: [],\n  },\n};\n\nexport default function UserAddComponent(props) {\n  const { id } = props.match.params;\n  const { handleNewOrEdit: _handleNewOrEdit } = props;\n  const _users = useUsers();\n  const configContext = Config();\n  const branchs = configContext.data;\n  const [currentUser, setCurrentUser] = useState(initialState);\n  const history = useHistory();\n  const send =\n    currentUser.name.length &&\n    !currentUser.data.load &&\n    currentUser.data.validUserName &&\n    currentUser.data.validUserEmail\n      ? false\n      : true;\n\n  function processData(data) {\n    if (data) {      \n      setCurrentUser({\n        id: data.id,\n        role: data.roles[0],\n        username: data.username,\n        name: data.name,\n        email: data.email,\n        password: \"\",\n        branch_id: data.branch.id,\n        data: {\n          session: data.session ? data.session : {},\n          permissions: data.permissions,\n          roles: data.roles,\n          load: data.load ? data.load : false,\n          validUserName: true,\n          validUserEmail: true,\n          created_at: data.created_at,\n          updated_at: data.updated_at,\n          activities: data.activity,\n        },\n      });\n    }\n  }\n\n  const handleValidate = ({ name, value }) => {\n    setCurrentUser({\n      ...currentUser,\n      data: {\n        ...currentUser.data,\n        [name]: value,\n      },\n    });\n  };\n\n  const catchInputs = ({ name, value, type }) => {\n    if (type === \"text\") {\n      value = value\n        .toLowerCase()\n        .normalize(\"NFD\")\n        .replace(/[\\u0300-\\u036f]/g, \"\");\n    }\n\n    setCurrentUser({\n      ...currentUser,\n      [name]: value,\n    });\n  };\n\n  const handleSave = () => {\n    const { id, name, username, role, password, email, branch_id } =\n      currentUser;\n\n    //Valid primary data\n    if (!currentUser.data.validUserName) {\n      window.Swal.fire({\n        icon: \"error\",\n        title: \"El nombre de usuario ya esta en uso\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return false;\n    }\n    if (!currentUser.data.validUserEmail) {\n      window.Swal.fire({\n        icon: \"error\",\n        title: \"El correo ya esta en uso\",\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return false;\n    }\n\n    let data = {\n      name,\n      username,\n      role,\n      email,\n      branch_id,\n    };\n\n    if (password.length >= 8) data.password = password;\n\n    _users.saveUser(data, id).then((data) => {\n      if (data) {\n        window.Swal.fire({\n          title: \"Usuarios\",\n          text: id\n            ? `Usuario actualizado correctamente`\n            : `Usuario guardado correctamente`,\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonText: \"Hecho!\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            history.push(\"/usuarios\");\n            _handleNewOrEdit();\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (id) {\n      _users.getUserById(id).then((data) => {\n        if (data) {          \n          processData(data.data);\n        }\n      });\n    }\n  }, [id]);\n\n  return (\n    <div className=\"row\" style={{ height: \"100vh\" }}>\n      <div className={`col-${id ? 8 : 12}`}>\n        <form className=\"card card-primary card-outline\" autoComplete=\"off\">\n          <div className=\"card-header\">\n            <h1 className=\"card-title text-primary\">\n              <i className=\"fas fa-user mr-2\"></i>\n              {id ? \"Editar usuario\" : \"Registrar nuevo usuario\"}\n            </h1>\n          </div>\n          <div className=\"card-body was-validated\">\n            {currentUser.load ? (\n              <div className=\"alert alert-light text-center p-4\">\n                <div className=\"spinner-border text-primary\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n            ) : (\n              <>\n                <div className=\"row mb-3\">\n                  <UserNameInput\n                    username={currentUser.username}\n                    userId={id ? id : \"\"}\n                    col={6}\n                    onChange={catchInputs}\n                    handleValidate={handleValidate}\n                  />\n                  <div className=\"col-6\">\n                    {currentUser.name.length ? (\n                      <small>\n                        <label>Nombre completo</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-user-tag\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control text-capitalize\"\n                        placeholder=\"Nombre completo\"\n                        name=\"name\"\n                        autoComplete=\"off\"\n                        defaultValue={currentUser.name}\n                        onChange={({ target }) => catchInputs(target)}\n                        required=\"required\"\n                        minLength=\"8\"\n                        pattern=\"^[a-zA-Z]{2,20}[\\s]{1}[a-zA-Z]{2,20}.*\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    {currentUser.password.length || id ? (\n                      <small>\n                        <label>Contraseña</label>\n                        {!id && (\n                          <span className=\"ml-2 text-muted\">\n                            De 8 a 16 caracteres, por lo menos una mayuscula, un\n                            numero y un caracter especial\n                          </span>\n                        )}\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-lock\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"password\"\n                        className=\"form-control\"\n                        placeholder=\"Contraseña\"\n                        name=\"password\"\n                        autoComplete=\"off\"\n                        defaultValue={currentUser.password}\n                        onChange={({ target }) => catchInputs(target)}\n                        required={id ? false : true}\n                        minLength=\"8\"\n                        maxLength=\"16\"\n                        pattern=\"^(?=.*[A-Z])(?=.*[!@#$&.*])(?=.*[0-9])(?=.*[a-z]).{8,16}$\"\n                      />\n                    </div>\n                  </div>\n                  <UserEmailInput\n                    email={currentUser.email}\n                    userId={id ? id : \"\"}\n                    col={6}\n                    onChange={catchInputs}\n                  />\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    <small>\n                      <label>Tipo de usuario</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-id-card\"></i>\n                        </span>\n                      </div>\n                      <select\n                        className=\"custom-select\"\n                        name=\"role\"\n                        /* defaultValue={currentUser.role} */\n                        value={currentUser.role}\n                        onChange={({ target }) => catchInputs(target)}\n                      >\n                        <option value=\"admin\">Administrador</option>\n                        <option value=\"ventas\">Ventas</option>\n                        <option value=\"doctor\">Optometrista</option>\n                      </select>\n                    </div>\n                  </div>\n                  <div className=\"col-md-6\">\n                    <small>\n                      <label>Sucursal</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-blue\">\n                          <i className=\"fas fa-store\"></i>\n                        </span>\n                      </div>\n                      <select\n                        className=\"custom-select text-uppercase\"\n                        name=\"branch_id\"\n                        value={currentUser.branch_id}\n                        onChange={({ target }) => catchInputs(target)}\n                      >\n                        {branchs.map((branch) =>\n                          branch.name !== \"bank\" ? (\n                            <option value={branch.id} key={branch.id}>\n                              {branch.data.name}\n                            </option>\n                          ) : null\n                        )}\n                      </select>\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n          <div className=\"card-footer\">\n            <div className=\"row\">\n              <div className=\"col-md-12 text-right\">\n                <div className=\"btn-group btn-group-lg\" role=\"group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-dark\"\n                    onClick={() => {\n                      history.push(`/usuarios`);\n                      _handleNewOrEdit();\n                    }}\n                  >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={\n                      currentUser.load\n                        ? \"btn btn-primary disabled\"\n                        : \"btn btn-primary\"\n                    }\n                    disabled={send ? true : false}\n                    onClick={handleSave}\n                  >\n                    <i className=\"fas fa-save mr-1\"></i>\n                    {id ? \"Actualizar\" : \"Guardar\"}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n\n        <Permissions data={currentUser} />\n      </div>\n      {id && (\n        <div className=\"col-4\">\n          <Metadata data={currentUser} />\n          <Activities data={currentUser.data.activities} />\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const StoreContext = createContext(null);\nexport const Store = () => useContext(StoreContext);\n","import React from \"react\";\n\nexport default function SideBarPartial(props) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <h5 className=\"card-title\">\n          <i\n            className={\n              props.icon\n                ? \"mr-2 fas fa-\" + props.icon\n                : \"mr-2 fas fa-ellipsis-v\"\n            }\n          ></i>\n          {props.title ?? \"Menu\"}\n        </h5>\n      </div>\n      <div className=\"card-body p-0\">\n        <ul className=\"list-group nav list-group-flush\">{props.children}</ul>\n      </div>\n    </div>\n  );\n}\n","export default function Input(props) {\n  const { showIcon = true } = props;\n\n  return (\n    <div className=\"input-group mb-3\">\n      {showIcon && (\n        <div className=\"input-group-prepend\">\n          <span\n            className={\n              props.value\n                ? \"input-group-text bg-primary\"\n                : \"input-group-text bg-warning\"\n            }\n          >\n            <i className={`fas fa-${props.icon ?? \"sort-amount-down\"}`}></i>\n          </span>\n        </div>\n      )}\n\n      <select        \n        className=\"custom-select text-uppercase\"\n        value={props.value ?? \"\"}\n        disabled={props.load ?? false}\n        onChange={({ target }) => {\n          if (props.handleChange) {\n            props.handleChange(parseInt(target.value));\n          }\n        }}\n      >\n        {props.load ? (\n          <option value=\"\">{props.loadText ?? \"Cargando opciones\"}</option>\n        ) : (\n          <>\n            {!Boolean(props.options?.length) ? (\n              <option value=\"\">{props.emptyText ?? \"No hay opciones\"}</option>\n            ) : (\n              <option value=\"0\">--{props.text ?? \"Seleccione uno\"}--</option>\n            )}\n          </>\n        )}\n\n        {props.options?.map((cat, index) => {\n          return (\n            <option value={cat.id} key={cat.id} id={index}>\n              {cat.name}\n            </option>\n          );\n        })}\n      </select>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useStore() {\n  const getItems = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"store\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get items list in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const getItem = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"store\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const deleteItem = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"store\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveItemByList = async (items) => {\n    if (!items) return;\n    const url = setUrl(\"store/bylist\");\n\n    return await api(url, \"POST\", { items })\n      .then((res) => {\n        return res;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when save items by list in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveItem = async (data) => {\n\n    const {id} = data;\n    const url = setUrl(\"store\", id);\n    const method = !id ? 'POST' : 'PUT';\n    \n    return await api(url, method, data)\n  };\n\n  const saveQantityandPrice = async (data) => {\n    delete data.readyToSave;\n    const { id } = data;\n\n    if (id === 0) {\n      const url = setUrl(\"branches\");\n      const method = \"POST\";\n      return await api(url, method, data);\n    } else {\n      const url = setUrl(\"branches\", id);\n      const method = \"PUT\";\n      return await api(url, method, data);\n    }\n  };\n\n  const saveGlobalPrice = async (data) => {\n    const idCategory = data.productCategoryId;\n    const URL = setUrl(`categories/setprice/${idCategory}`);\n    const method = \"POST\";\n\n    delete data.productCategoryId;\n    delete data.branchSelected;\n\n    return await api(URL, method, data);\n  };\n\n  const saveQantity = async (data)=>{   \n    const product_id = data.product_id;\n    const url = setUrl(`store/setcant/${product_id}`);\n    const method = 'POST';\n    return await api(url, method, data);\n  }\n\n  // Brands functions -------------------------\n  const getBrands = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"brands\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get brands list in hook:\",\n          err.message\n        );\n        throw err;\n      });\n  };\n\n  const getBrand = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"brands\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get brands in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  const saveBrand = async (data) => {\n    const url = setUrl(\"brands\");\n    return await api(url, \"POST\", data);\n  };\n\n  const deleteBrand = async (id) => {\n    const url = setUrl(\"brands\", id);\n    return await api(url, \"DELETE\", null)\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete item in hook:\",\n          err.message\n        );\n\n        throw err;\n      });\n  };\n\n  return {\n    getItems,\n    getItem,\n    deleteItem,\n    saveItem,\n    saveItemByList,\n    saveQantityandPrice,\n    saveGlobalPrice,\n    getBrands,\n    getBrand,\n    saveBrand,\n    deleteBrand,\n    saveQantity,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\nimport Input from \"../Input\";\nimport useStore from \"../../hooks/useStore\";\n\nexport default function Brands(props) {\n  const [state, setState] = useState({\n    brands: [],\n    load: true,\n  });\n\n  const _store = useStore();\n\n  const getBrands = () => {\n    _store.getBrands({ supplier: props.supplier }).then((brands) => {\n      if (brands) {\n        setState({\n          ...state,\n          brands: brands.data,\n          load: false,\n        });\n      } else {\n        console.error(\"Error al obetner las marcas\");\n      }\n    });\n  };\n\n  const filterBrandName = (id) => {\n    const brandName = state.brands.filter((brand) => brand.id === id);\n    return brandName[0].name;\n  };\n\n  useEffect(() => {\n    getBrands();\n  }, [props.supplier]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <small>\n          <label>Marca</label>\n        </small>\n        <Input\n          options={state.brands}\n          value={props.brand}\n          text=\"Seleccione una marca\"\n          icon=\"copyright\"\n          emptyText=\"No hay marcas para este proveedor\"\n          load={state.load}\n          loadText=\"Cargando marcas\"\n          handleChange={(id) => {\n            if (props.handleChangeBrand) {\n              props.handleChangeBrand(id, filterBrandName(id));\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useContact() {\n\n  const getContacts = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"contacts\", null, options);\n    //type, bussiness\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contacts list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n  const getContact = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"contacts\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contact in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n\n  const deleteContact = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"contacts\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete contact in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n\n  \n  const saveContact = async (data) => {\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"contacts\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save contact in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    } else {\n      const url = setUrl(\"contacts\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save contact in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    }\n  };\n\n  return {\n    getContacts,\n    getContact,\n    deleteContact,\n    saveContact,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\nimport useContact from \"../../hooks/useContact\";\nimport Input from \"../Input\";\n\nexport default function Suppliers(props) {\n  \n  const _contacts = useContact();\n  const [state, setState] = useState({\n    suppliers: [],\n    load: true,\n  });\n\n  const getSuppliers = () => {\n    _contacts\n      .getContacts({\n        type: 1,\n        orderby: \"name\",\n        order: \"asc\",\n      })\n      .then((sup) => {\n        setState({\n          suppliers: sup.data,\n          load: false,\n        });\n      });\n  };\n\n  useEffect(() => {\n    getSuppliers();\n  }, []);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <small>\n          <label>Proveedor</label>\n        </small>\n        <Input\n          options={state.suppliers}\n          value={props.supplier ?? \"\"}\n          text=\"Seleccione un provedor\"\n          icon=\"address-book\"\n          load={state.load}\n          handleChange={(id) => {\n            if (props.handleChangeSupplier) {\n              props.handleChangeSupplier(id);\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import { Store } from \"../../context/StoreContext\";\n//Components\nimport SideBar from \"../../pages/partials/SideBar\";\n\nimport BrandsInput from \"./Brands\";\nimport SuppliersInput from \"./Suppliers\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function ToolBar() {\n  const context = Store();\n  const history = useHistory();\n\n  //Funciones\n  const handleSetSelectOptions = ({ name, value, checked }) => {\n    if (name === \"itemsPage\") value = parseInt(value);\n    if (name === \"supplier\" && value > 0) value = parseInt(value);\n    if (name === \"zero\") {\n      if (checked) value = \"true\";\n      else value = \"false\";\n    }\n\n    context.set({\n      ...context,\n      options: {\n        ...context.options,\n        [name]: value,\n      },\n    });\n  };\n  \n  const handleChangeSupplier = (id) => {\n    context.set({\n      ...context,\n      options: {\n        ...context.options,\n        brand: \"\",\n        supplier: id,\n      },\n    });\n  };\n\n  return (\n    <SideBar title={context.panel === \"inbox\" ? \"Menu y filtros\" : \"Menu\"}>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"inbox\" ? \"nav-link  disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n            context.set({\n              ...context,\n              panel: \"inbox\",\n            });\n            history.push(\"/almacen\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"inbox\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Productos\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"category\" ? \"nav-link disabled\" : \"nav-link \"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"category\",\n            });\n\n            history.push(\"/almacen/categorias\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"category\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Categorias\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"brands\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"brands\",\n            });\n\n            history.push(\"/almacen/marcas\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"brands\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Marcas\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"inventory\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"inventory\",\n            });\n\n            history.push(\"/almacen/inventario\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"inventory\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Inventario\n        </a>\n      </li>\n      <li className=\"nav-item\">\n        <a\n          href=\"#item\"\n          className={\n            context.panel === \"entries\" ? \"nav-link disabled\" : \"nav-link\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n\n            context.set({\n              ...context,\n              panel: \"entries\",\n            });\n\n            history.push(\"/almacen/entradas\");\n          }}\n        >\n          <i\n            className={\n              context.panel === \"entries\"\n                ? \"fas fa-check text-success mr-1\"\n                : \"fas fa-plus mr-1\"\n            }\n          ></i>\n          Entradas\n        </a>\n      </li>\n\n      {context.panel === \"inbox\" && (\n        <>\n          <li className=\"nav-item p-1\">\n            <SuppliersInput\n              supplier={context.options?.supplier}\n              showIcon={false}\n              handleChangeSupplier={(id) => handleChangeSupplier(id)}\n            />\n          </li>\n          {context.options?.supplier && (\n            <li className=\"nav-item p-1\">\n              <BrandsInput\n                supplier={context.options?.supplier}\n                brand={context.options?.brand}\n                showIcon={false}\n                handleChangeBrand={(id) => {\n                  handleSetSelectOptions({\n                    name: \"brand\",\n                    value: id,\n                  });\n                }}\n              />\n            </li>\n          )}\n          <li className=\"nav-item p-1\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"zero\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"zero\"\n                checked={context.options?.zero === \"true\" ? true : false}\n                onChange={({ target }) => handleSetSelectOptions(target)}\n              />\n              <label\n                className=\"custom-control-label font-weight-normal\"\n                htmlFor=\"zero\"\n              >\n                Cantidades en cero\n              </label>\n            </div>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"orderby\">Ordenar por</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"orderby\"\n              id=\"orderby\"\n              value={context.options?.orderby}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"created_at\">Fecha de registro</option>\n              <option value=\"updated_at\">Fecha de modificacion</option>\n            </select>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"order\">Mostrar por</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"order\"\n              id=\"order\"\n              value={context.options?.order}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"asc\">Antiguos</option>\n              <option value=\"desc\">Recientes</option>\n            </select>\n          </li>\n          <li className=\"nav-item p-1\">\n            <label htmlFor=\"itemsPage\">Numero de productos</label>\n            <select\n              className=\"custom-select text-uppercase\"\n              name=\"itemsPage\"\n              id=\"itemsPage\"\n              value={context.options?.itemsPage}\n              onChange={({ target }) => handleSetSelectOptions(target)}\n            >\n              <option value=\"25\">ver 25</option>\n              <option value=\"50\">ver 50</option>\n              <option value=\"75\">ver 75</option>\n              <option value=\"100\">ver 100</option>\n            </select>\n          </li>\n        </>\n      )}\n    </SideBar>\n  );\n}\n","export default function PaginationComponent({\n  meta,\n  color,\n  handlePagination: _handlePagination,\n}) {\n\n\n\n  const handleChangePage = (page) => {\n    if (_handlePagination) {\n      _handlePagination(page);\n    } else {\n      console.error(\"[OrusSystem] Funcion de paginador no definida\");\n    }\n  };\n\n  return (\n    <div className=\"btn-group\">\n      <ul className=\"pagination pagination-sm m-0 mb-1\">\n        <li\n          className={\n            meta.current_page === 1 ? \"page-item disabled\" : \"page-item test-\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === 1\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(1);\n            }}\n          >\n            Primero\n          </a>\n        </li>\n        <li\n          className={\n            meta.current_page === 1 ? \"page-item disabled\" : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === 1\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.current_page - 1);\n            }}\n          >\n            <i className=\"fas fa-caret-left\"></i>\n          </a>\n        </li>\n        <li className=\"page-item\">\n          <span className=\"page-link text-dark\">\n            {meta.current_page && meta.last_page ? (\n              <>\n                {meta.current_page} /{meta.last_page}\n              </>\n            ) : (\n              \"...\"\n            )}\n          </span>\n        </li>\n        <li\n          className={\n            meta.current_page === meta.last_page\n              ? \"page-item disabled\"\n              : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === meta.last_page\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.current_page + 1);\n            }}\n          >\n            <i className=\"fas fa-caret-right\"></i>\n          </a>\n        </li>\n        <li\n          className={\n            meta.current_page === meta.last_page\n              ? \"page-item disabled\"\n              : \"page-item\"\n          }\n        >\n          <a\n            className={\n              meta.current_page === meta.last_page\n                ? \"page-link text-secondary\"\n                : \"page-link text-\" + color\n            }\n            href=\"#pageBefore\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleChangePage(meta.last_page);\n            }}\n          >\n            Ultimo\n          </a>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport Pagination from \"../layouts/pagination\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nconst ListInbox = (props) => {\n  \n  //Const\n  const { defaultSearch = \"\" } = props;\n  //States\n  const [search, setSearch] = useState(defaultSearch);\n  const [timer, setTimer] = useState(\"\");\n  const inputRef = useRef();\n\n  const _authContext = useContext(AuthContext);\n  const { auth } = _authContext;\n\n  useEffect(() => {\n    let toTimer = null;\n    if (props.handleSearch) {\n      if (search.length) {\n        if (timer) clearTimeout(timer);\n        toTimer = setTimeout(() => {\n          props.handleSearch(search);\n        }, 1000);\n        setTimer(toTimer);\n      } else {\n        props.handleSearch(\"\");\n      }\n    }\n    // eslint-disable-next-line\n  }, [search]);\n\n  return (\n    <div className={\"card card-\" + props.color + \" card-outline\"}>\n      <div className=\"card-header\">\n        <h3 className={\"card-title text-\" + props.color}>\n          <i\n            className={\n              props.icon ? \"mr-1 fas fa-\" + props.icon : \"mr-1 fas fa-user\"\n            }\n          ></i>\n          {props.title}\n        </h3>\n        <div className=\"card-tools\">\n          {props.handleSearch && (\n            <div className=\"input-group input-group-sm position-relative\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Buscar\"\n                defaultValue={search}\n                ref={inputRef}\n                onChange={({ target }) => {\n                  const { value } = target;\n                  setSearch(value);\n                }}                                \n                onKeyPress={(e) => {\n                  const { key } = e;\n                  if (key === \"Enter\") {\n                    if (timer) clearTimeout(timer);\n                    props.handleSearch(search);\n                  }\n                }}\n              />\n              <div\n                className=\"position-absolute\"\n                style={{ top: 5, left: -20, color: \"#ced4da\" }}\n              >\n                <i className=\"fas fa-search\"></i>\n              </div>\n              {search.length > 2 ? (\n                <div className=\"input-group-append\">\n                  <div\n                    className=\"btn btn-secondary\"\n                    onClick={(e) => {\n                      inputRef.current.value = \"\";\n                      setSearch(\"\");\n                    }}\n                  >\n                    <i className=\"fas fa-window-close\"></i>\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          )}\n        </div>\n      </div>\n      <div className=\"p-0 card-body\">\n        {props.handleDeleteItem ||\n        props.handleEditItem ||\n        props.handleStatus ||\n        props.handleSync ||\n        props.meta ||\n        props.handleDownload ? (\n          <div className=\"mailbox-controls\">\n            <div className=\"btn-group\">\n              {props.handleDeleteItem ? (\n                \n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm text-danger\"\n                  title=\"Eliminar\"\n                  disabled = {props.itemSelected ? (props.itemSelected === auth.idUser) ? true : false : true}\n                  onClick={(e) => props.handleDeleteItem()}\n                >\n                  <i className=\"fas fa-trash-alt\"></i>\n                </button>\n              ) : null}\n\n              {props.handleEditItem ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Editar\"\n                  disabled={props.itemSelected ? false : true}\n                  onClick={(e) => props.handleEditItem()}\n                >\n                  <i className=\"fas fa-edit\"></i>\n                </button>\n              ) : null}\n\n              {props.handleStatus ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Estado\"\n                  disabled={props.itemSelected ? false : true}\n                  onClick={(e) => props.handleStatus()}\n                >\n                  <i className=\"fas fa-check-circle\"></i>\n                </button>\n              ) : null}\n\n              {props.handleSync ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Recargar\"\n                  onClick={(e) => props.handleSync()}\n                >\n                  <i className=\"fas fa-sync-alt\"></i>\n                </button>\n              ) : null}\n\n              {props.handlePrint ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Imprimir\"\n                  onClick={(e) => props.handlePrint()}\n                >\n                  <i className=\"fas fa-print\"></i>\n                </button>\n              ) : null}\n\n              {props.handleDownload ? (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default btn-sm\"\n                  title=\"Exportar\"\n                  onClick={(e) => props.handleDownload()}\n                >\n                  <i className=\"fas fa-file-csv\"></i>\n                </button>\n              ) : null}\n            </div>\n\n            <div className=\"float-right\">\n              {props.meta && (\n                <Pagination\n                  meta={props.meta}\n                  color={props.color}\n                  handlePagination={props.handlePagination}\n                />\n              )}\n            </div>\n          </div>\n        ) : null}\n\n        <div className=\"table-responsive mailbox-messages\">\n          {props.children}\n        </div>\n      </div>\n      {props.loading ? (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default ListInbox;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Store } from \"../../context/StoreContext\";\nimport useStore from \"../../hooks/useStore\";\n\n//Components\nimport ListInbox from \"../../layouts/list_inbox\";\n//import { api, getUrl } from \"../../redux/sagas/api\";\nimport {api, setUrl} from '../../utils/url';\n\nexport default function Inbox(props) {\n  const context = Store();\n  const _store = useStore();\n  const history = useHistory();\n  //const storeContext = useContext(StoreContext);\n\n  //States\n  const [state, setState] = useState({\n    itemSelected: {},\n    items: [],\n    meta: {},\n    loading: false,\n  });\n  //Functions\n  const handleChangeOptions = (key, value) => {\n      if (context.options[key] !== value) {\n        context.set({\n          ...context,\n          options: {\n            ...context.options,\n            [key]: value,\n          },\n        });\n      }\n    },\n    deleteItem = () => {\n      window.Swal.fire({\n        title: \"Productos\",\n        text: \"Desea eliminar el producto seleccionado?\",\n        icon: \"question\",\n        showCancelButton: true,\n        confirmButtonColor: \"#007bff\",\n        confirmButtonText: \"Eliminar\",\n        cancelButtonText: \"Cancelar\",\n        showLoaderOnConfirm: true,\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          //Hook de eliminar producto\n          _store.deleteItem(state.itemSelected.id).then((data)=>{\n            if(data === true){\n              window.Swal.fire({\n                title: \"Productos\",\n                text: \"Producto eliminado correctamente\",\n                icon: \"success\",\n                showCancelButton: false,\n                confirmButtonColor: \"#007bff\",\n                confirmButtonText: \"Ok\",\n                cancelButtonText: \"Cancelar\",\n                showLoaderOnConfirm: true,\n              }).then(({ dismiss }) => {\n                if (!dismiss) {\n                  setState({\n                    ...state,\n                    itemSelected: {},\n                  });\n\n                  setState({\n                    ...state,\n                    loading: true,\n                  });\n\n                  _store.getItems(context.options).then((res) => {\n                    if (res) {\n                      setState({\n                        ...state,\n                        items: res.data,\n                        meta: res.meta,\n                        loading: false,\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          })\n        }\n      });\n\n\n      //helper.handleDeleteItem(state.itemSelected, context.options, () => {});\n      /* setState({\n        ...state,\n        itemSelected: {},\n      }); */\n    },\n\n    handleItemSelect = ({ checked }, item) => {\n      setState({\n        ...state,\n        itemSelected: checked ? item : {},\n      });\n    },\n\n\n    handleSelectItem = (e, item) => {\n      if (e) e.preventDefault();\n\n      if (item?.id) {\n        history.push(`/almacen/${item.id}`);\n      } else if (state.itemSelected?.id) {\n        history.push(`/almacen/${state.itemSelected.id}`);\n      }\n    },\n    handleDownload = async () => {\n      setState({\n        ...state,\n        loading: true\n      }); \n      const newOptions = { ...context.options, responseType: \"csv\" };\n      console.log(\"[Orus Sytem] Start donwload csv\");\n      const url = setUrl(\"store\", null, newOptions);\n      const data = await api(url);           \n      if (data) {\n        console.log(\"[Orus Sytem] Process data csv\");                        \n        var fileData = [data];\n        var oMyBlob = new Blob(fileData, {type : 'text/csv'}); // the blob        \n        window.open(URL.createObjectURL(oMyBlob));                \n        console.log(\"[Orus Sytem] Donwload is ok\");\n        setState({\n          ...state,\n          loading: false\n        });\n        window.Swal.fire({\n          title: \"Descargas\",\n          text: \"El archivo CSV fue generado correctamente\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      } else {\n        setState({\n          ...state,\n          loading: false\n        });\n        window.Swal.fire({\n          title: \"Descargas\",\n          text: \"El archivo CSV no se genero correctamente\",\n          icon: \"error\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n      }\n    };\n\n\n  const handleSync = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n    _store.getItems(context.options).then((res) => {\n      if (res) {\n        setState({\n          ...state,\n          items: res.data,\n          meta: res.meta,\n          loading: false,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    handleSync();\n  }, [context.options]);// eslint-disable-line react-hooks/exhaustive-deps\n  return (\n    <ListInbox\n      title=\"Lista de productos\"\n      icon=\"id-badge\"\n      color=\"primary\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.itemSelected?.id}\n      defaultSearch={context.options.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleDeleteItem={deleteItem}\n      handleEditItem={handleSelectItem}\n      handleDownload={handleDownload}\n      handleSync={handleSync}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Codigo</th>\n            <th>Describción</th>\n            <th>Proveedor</th>\n            <th>Marca</th>\n            <th>Cant</th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.items.length ? (\n            <>\n              {state.items.map((item) => {\n                return (\n                  <tr key={item.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={item.id}\n                        id={\"item_\" + item.id}\n                        checked={\n                          state.itemSelected?.id === item.id ? true : false\n                        }\n                        onChange={({ target }) =>\n                          handleItemSelect(target, item)\n                        }\n                      />\n                      <label\n                        htmlFor={\"item_\" + item.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td className=\"icheck-primary\">\n                      <div className=\"badge badge-dark text-uppercase\">\n                        {item.code}\n                      </div>\n                    </td>\n                    <td className=\"mailbox-name text-capitalize text-truncate\">\n                      <a\n                        href=\"·link\"\n                        onClick={(e) => handleSelectItem(e, item)}\n                        className=\"text-bold\"\n                      >\n                        {item.name}\n                      </a>\n                    </td>\n                    <td className=\"mailbox-attachment text-capitalize text-truncate text-muted\">\n                      <span>{item.supplier ? item.supplier.name : \"--\"}</span>\n                    </td>\n                    <td className=\"mailbox-attachment text-uppercase text-truncate text-muted\">\n                      <span>{item.brand ? item.brand.name : \"--\"}</span>\n                    </td>\n                    <td className=\"mailbox-date text-muted text-truncate text-right\">\n                      <span>{item.cant_total}</span>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"6\">\n                No hay productos registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </ListInbox>\n  );\n}\n","const verifyItem = (item) => {\n  if (item.cant <= 0) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"La cantidad debe de ser un valor valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n  if (!item.store_items_id) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"No se selecciono un producto valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n  if (!item.price) {\n    window.Swal.fire({\n      title: \"Verificacion\",\n      text: \"El precio no es valido\",\n      icon: \"warning\",\n    });\n    return false;\n  }\n\n  return true;\n};\nconst handleVerifyData = (data, codeRef) => {\n  const {\n    category_id,\n    category_id1,\n    category_id2,\n    category_id4,\n    supplier,\n    brand_id,\n    code,\n  } = data;\n\n  if (!category_id) {\n    window.Swal.fire(\n      \"Verificación\",\n      \"Selecione una categoria primero\",\n      \"warning\"\n    );\n    return false;\n  }\n\n  if (category_id) {\n    if (category_id1 === 1 && category_id4 !== category_id) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Selecione una categoria valida para lentes\",\n        \"warning\"\n      );\n      return false;\n    } else if (category_id1 === 2 && category_id2 !== category_id) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Selecione una categoria valida para armazones\",\n        \"warning\"\n      );\n      return false;\n    }\n  }\n\n  if (category_id1 === 2 && !supplier) {\n    window.Swal.fire(\n      \"Verificación\",\n      \"Selecione un PROVEEDOR valido primero\",\n      \"warning\"\n    );\n    return false;\n  }\n  if (category_id1 === 2 && !brand_id) {\n    window.Swal.fire(\n      \"Verificación\",\n      \"Selecione una MARCA valida primero\",\n      \"warning\"\n    );\n    return false;\n  }\n  if (!code && !codeRef.current.value) {\n    window.Swal.fire(\n      \"Verificación\",\n      \"Escriba una CODIGO para este producto\",\n      \"warning\"\n    );\n    return false;\n  }\n\n  return true;\n};\nconst handleDeleteItem = (item, options, _delete, text) => {\n  if (item.id) {\n    //Check text\n    if (!text) text = `¿Esta seguro de eliminar el producto ${item.code}?`;\n    //delete confirm\n    window.Swal.fire({\n      text,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss && _delete) {\n        _delete({\n          id: item.id,\n          options,\n        });\n        return true;\n      }\n    });\n    return false;\n  }\n};\nconst handleSaveItem = (id, data, options, _save, _close, text) => {\n  if (!text) {\n    text = id\n      ? \"¿Esta seguro de actualizar el producto?\"\n      : \"¿Esta seguro de crear un nuevo producto?\";\n  }\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text,\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonColor: \"#007bff\",\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      //Save\n      _save({\n        id,\n        data,\n        options,\n      });\n      //close\n      if (_close) _close();\n    }\n  });\n};\nconst handleCatOne = (data) => ({\n    category_id: data.id,\n    category_id1: data.id,\n    category_id2: 0,\n    category_list2: data.hijos,\n    category_id3: 0,\n    category_list3: [],\n    category_id4: 0,\n    category_list4: [],\n    supplier: 0,\n  }),\n  handleCatTwo = (data) => ({\n    category_id: data.id,\n    category_id2: data.id,\n    category_id3: 0,\n    category_list3: data.hijos,\n    category_id4: 0,\n    category_list4: [],\n  }),\n  handleCatTree = (data) => ({\n    category_id: data.id,\n    category_id3: data.id,\n    category_id4: 0,\n    category_list4: data.hijos,\n  });\nconst handleCodeString = ( stringcode = \"armazon\", category, brand, code = \"\") => { \n\n\n    stringcode += category !== null ? \" \" + category.trim() : \"\";\n\n    stringcode += brand !== null  ? \" \" + brand.trim().replace(/\\s/gim, \"\"): \"\";\n\n    if (code) {\n      stringcode += \" \" + code.replace(/[\\s]+/gm, \"\");\n    }\n    return stringcode.toLowerCase();  \n  },\n\n\n  codeLentString = (string) => {\n    switch (string) {\n      case \"monofocales\":\n        return \"MF\";\n      case \"bifocales\":\n        return \"BF\";\n      case \"progresivo basico\":\n      case \"progresivo-basico\":\n        return \"PB\";\n      case \"progresivo digital\":\n      case \"progresivo-digital\":\n        return \"PD\";\n      case \"plastico\":\n        return \"CR\";\n      case \"policarbonato\":\n        return \"PL\";\n      case \"hi-index\":\n      case \"hi index\":\n        return \"HI\";\n      case \"antirreflejantes\":\n        return \"AR\";\n      case \"photo\":\n        return \"PH\";\n      case \"ar & photo\":\n      case \"antirreflejante-photo\":\n        return \"ARPH\";\n      case \"blanco\":\n        return \"BL\";\n      case \"polarizado\":\n        return \"PO\";\n      case \"bifocal invisible\":\n      case \"bifocal-invisible\":\n        return \"BI\";\n      case \"monofocal drivesafe\":\n      case \"monofocal-drivesafe\":\n      case \"monofocal digital drivesafe\":\n      case \"monofocal digital DriveSafe\":\n        return \"MDSF\";\n      case \"monofocal superb\":\n      case \"monofocal-superb\":\n      case \"monofocal digital superb\":\n        return \"MDSU\";\n      case \"monofocal individual\":\n      case \"monofocal-individual\":\n      case \"monofocal digital individual\":\n        return \"MDIN\";\n      default:\n        return \"XX\";\n    }\n  },\n  handleCodeLent = (grad, category1, category2, category3) => {\n    if (!category1 || !category2 || !category3) {\n      return \"\";\n    }\n\n    let stringcode =\n      category1 !== null\n        ? codeLentString(\n            category1\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n    stringcode +=\n      category2 !== null\n        ? codeLentString(\n            category2\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n    stringcode +=\n      category3 !== null\n        ? codeLentString(\n            category3\n              .trim()\n              .toLowerCase()\n          )\n        : \"\";\n\n    return stringcode + grad.toString().trim().replace(/\\s/gim, \"\");\n  },\n\n\n  handleNameLent = (grad, category1, category2, category3) => {\n    if (!category1 || !category2 || !category3) {\n      return \"\";\n    }\n\n    let stringcode = \"\";\n\n    stringcode +=\n      category1 !== null\n        ? category1.trim()\n        : \"\";\n      \n    stringcode +=\n      category2 !== null\n        ? \" \" +\n          category2.trim()\n        : \"\";\n\n\n    stringcode +=\n      category3 !== null\n        ? \" \" +\n          category3.trim()\n        : \"\";\n\n    stringcode += \" \" + grad.toString();\n\n    return stringcode.toLowerCase();\n\n  };\n\nconst toExport = {\n  verifyItem,\n  handleDeleteItem,\n  handleVerifyData,\n  handleSaveItem,\n  handleCatOne,\n  handleCatTwo,\n  handleCatTree,\n  handleCodeString,\n  handleCodeLent,\n  codeLentString,\n  handleNameLent,\n};\n\nexport default toExport;\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useCategory() {\n  \n  const getCategories = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"categories\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get categories list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n\n  const getCategory = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"categories\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get category in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n  \n  const deleteCategory = async (id) => {\n    if (!id) return false;\n    \n    const url = setUrl(\"categories\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete category in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n  const saveCategory = async (data) => {\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"categories\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save category in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    } else {\n      const url = setUrl(\"categories\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\n            \"[Orus System] Catch when save category in hook:\",\n            err.message\n          );\n\n          return null;\n        });\n    }\n  };\n\n  return {\n    getCategories,\n    getCategory,\n    deleteCategory,\n    saveCategory,\n  };\n}\n","import { useEffect, useState } from \"react\";\n//Hooks\nimport useCategory from \"../../hooks/useCategory\";\n\n//Components\nimport Input from \"../Input\";\n\nexport default function Categories(props) {\n  const _categories = useCategory();\n\n  const [state, setState] = useState({\n    categories: [],\n    cat1: 0,\n    cat2: 0,\n    cat3: 0,\n    cat4: 0,\n    catNameSelect: [],\n    load: true,\n  });\n\n  const input2 = state.categories.filter((cat) => cat.id === state.cat1)[0];\n  const input3 = input2?.sons?.filter((cat) => cat.id === state.cat2)[0];\n  const input4 = input3?.sons?.filter((cat) => cat.id === state.cat3)[0];\n  const input5 = input4?.sons?.filter((cat) => cat.id === state.cat4)[0];\n\n  // Functions\n  const getCategories = () => {\n    _categories\n      .getCategories({\n        categoryid: \"raiz\",\n      })\n      .then(({ data: cat }) => {\n        setState({\n          ...state,\n          categories: cat,\n          load: false,\n        });\n      });\n  };\n\n  const handleCodeName = (categories, select) => {\n    const cat = categories.filter((c) => c.id === select)[0];\n\n    if (cat?.codeName && cat.codeName.length) {\n      //TODO: To send fhater\n      props.handleSetCatName(cat.codeName);\n    }\n  };\n\n  const getCategory = (id) => {\n    _categories.getCategory(id).then((cat) => {\n      if (state.cat1 === parseInt(cat.code[0])) {\n        if (state.cat2 === parseInt(cat.code[1])) {\n          if (state.cat3 === parseInt(cat.code[2])) {\n            if (state.cat4 === parseInt(cat.code[3])) {\n              return;\n            }\n          }\n        }\n      }\n\n      setState({\n        ...state,\n        cat1: parseInt(cat.code[0]),\n        cat2: parseInt(cat.code[1]),\n        cat3: parseInt(cat.code[2]),\n        cat4: parseInt(cat.code[3]),\n        load: false,\n      });\n    });\n  };\n\n  const handleReturn = () => {\n    if (state.cat1 && input2 && !input2.sons?.length) {\n      return props.handleChange(state.cat1, input2.code);\n    } else if (props.category) {\n      if (state.cat1 && !state.cat2 && !state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat2 && input3 && !input3.sons?.length) {\n      return props.handleChange(state.cat2, input3.code);\n    } else if (props.category) {\n      if (state.cat1 && state.cat2 && !state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat3 && input4 && !input4.sons?.length) {\n      return props.handleChange(state.cat3, input4.code);\n    } else if (props.category) {\n      if (state.cat1 && state.cat2 && state.cat3 && !state.cat4) {\n        return props.handleChange(0, []);\n      }\n    }\n\n    if (state.cat4) {\n      return props.handleChange(state.cat4, input5?.code);\n    }\n  };\n\n  useEffect(() => {\n    if (!state.categories.length) {\n      getCategories();\n    }\n\n    handleReturn();\n  }, [state]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (state.categories.length && props.category) {\n      getCategory(props.category);\n    }\n  }, [state.categories, props.category]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div>\n      <Input\n        text=\"Seleccione una categoria principal\"\n        options={state.categories}\n        value={state.cat1}\n        load={state.load}\n        handleChange={(val) => {\n          handleCodeName(state.categories, val);\n          setState({ ...state, cat1: val, cat2: 0, cat3: 0, cat4: 0 });\n        }}\n      />\n\n      {Boolean(state.cat1) && Boolean(input2?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input2.name}`}\n          options={input2.sons}\n          value={state.cat2}\n          handleChange={(val) => {\n            handleCodeName(input2.sons, val);\n            setState({ ...state, cat2: val, cat3: 0, cat4: 0 });\n          }}\n        />\n      )}\n\n      {Boolean(state.cat2) && Boolean(input3?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input3.name}`}\n          options={input3.sons}\n          value={state.cat3}\n          handleChange={(val) => {\n            handleCodeName(input3.sons, val);\n            setState({ ...state, cat3: val, cat4: 0 });\n          }}\n        />\n      )}\n\n      {Boolean(state.cat2) && Boolean(input4?.sons?.length) && (\n        <Input\n          text={`Seleccione una categoria para ${input4.name}`}\n          options={input4.sons}\n          value={state.cat4}\n          handleChange={(val) => {\n            handleCodeName(input4.sons, val);\n            setState({ ...state, cat4: val });\n          }}\n        />\n      )}\n    </div>\n  );\n}\n","import {api, setUrl} from '../utils/url';\n\n\n\nexport default function useProducts(){\n    \n    //Funciones\n    const getProducts = async (searchBy)=> {\n        const url = setUrl('store', null, {search: searchBy});\n        return await api(url);\n    }\n\n\n    const getProductById = async (id)=>{\n        const url = setUrl('store', id);\n        return await api(url);\n    }\n\n    const getProductByCode = async(code, id) =>{\n        const url = setUrl('store', null, {code, id})\n        return await api(url);\n    }\n\n\n    const saveProduct = async(data)=>{\n        const {id} = data;\n        const url = setUrl('store');\n\n        if(id){\n            //PUT\n            return await api(url, 'PUT', data);\n        }else{\n            return await api(url, 'POST', data);\n        }\n    }\n\n    return {\n        getProducts, \n        getProductById,\n        getProductByCode,\n        saveProduct,\n    };\n}\n","import { useEffect, useState } from \"react\";\nimport useProducts from \"../../hooks/useProducts\";\n\nexport default function Code(props) {\n\n  const hookProducts = useProducts();\n  const [state, setState] = useState({\n    codeMessage:'', \n    codeStatus:'empty',\n    rendered: false\n  });\n\n  useEffect(()=>{    \n    if(!props.code.length){\n      setState({\n        ...state,\n        codeMessage:'Còdigo vacio',\n        codeStatus:'empty'\n      });\n    }else{\n      if(state.rendered){\n        return null;\n      }else{\n        validCode();        \n      }     \n    }\n  },[props.code]);// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  useEffect(()=>{\n    props.onChangeStatusCode(state.codeStatus);\n  },[state.codeStatus]);// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const validCode = ()=>{   \n    setState({\n      ...state,\n      codeMessage:'Validando código . . .',\n      codeStatus:'validating'\n    });\n    hookProducts.getProductByCode(props.code, props.id)\n    .then((data)=>{      \n      if(data.data.length){   \n        setState({\n          ...state,\n          codeMessage:'Còdigo ya en uso',\n          codeStatus:'inUse',\n          rendered:true,\n        });             \n      }else{\n        setState({\n          ...state,\n          codeMessage:'Còdigo disponible',\n          codeStatus:'available',\n          rendered:true,\n        });\n      }\n    })\n    .catch((error) => console.log(error));\n  };\n\n  return (\n    <div className=\"input-group mb-3\">\n      <div className=\"input-group-prepend\">\n        <span\n          className={\n            state.codeStatus === 'empty' || state.codeStatus === 'inUse' ? \"input-group-text bg-warning\" :  \"input-group-text bg-primary\"\n          }\n        >\n          <i className=\"fas fa-code\"></i>\n        </span>\n      </div>\n      <input\n        type=\"text\"\n        className=\"form-control text-uppercase\"\n        placeholder=\"Codigo\"\n        name=\"code\"\n        defaultValue={props.code}\n\n        onChange={({target}) => {\n          const {value} = target;\n          props.onChangeProductCode(value);\n        }}\n\n        onBlur = {()=>{\n          if(props.type === 'lentes'){\n            validCode();\n          }else{\n            validCode();\n            props.createName();\n          }                \n        }}\n\n        autoComplete=\"off\"\n        maxLength=\"18\"\n      />\n      <span className=\"text-muted text-xs d-block w-100\">\n          {state.codeMessage}\n        </span>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useContext } from \"react\";\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\nexport default function BranchesSelect({ branch_default , showIcon = true, setBranchId }) {\n  \n  const configContext = useContext(ConfigContext);\n  const listBranches = configContext.data.filter((c) => c.name === \"branches\");\n  \n  return (\n    <div className=\"input-group mb-3\">\n      {showIcon && (\n        <div className=\"input-group-prepend\">\n          <span className=\"input-group-text bg-primary\">\n            <i className=\"fas fa-store-alt\"></i>\n          </span>\n        </div>\n      )}\n      <select\n        className=\"custom-select text-uppercase\"\n        name=\"branch_id\"\n        value={branch_default}\n        onChange={({ target }) => setBranchId(target)}\n      >\n        <option value=\"0\">-- Ninguna --</option> \n        {listBranches.map((branch)=>(\n           <option value={branch.id} key={branch.id}>\n           {branch.data.name}\n         </option> \n        ))}       \n      </select>\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\n//Hooks\nimport useStore from \"../../../hooks/useStore\";\n\nexport default function BranchesFormInputs({ inBranch, branchID, storeItemID }) {\n\n  const hookStore = useStore();\n\n  const [data, setData] = useState({\n    id: 0,\n    cant:0,\n    price: 1,\n    store_item_id: 0,\n    branch_id:0,\n    readyToSave: false,\n  });\n\n  const handleChangeInput = ({ name, value }) => {\n    let readyToSave = false;\n    if (name === \"cant\") {\n      value = parseInt(value);\n    } else {\n      value = parseFloat(value);\n    }\n\n    if (inBranch[name] !== value) {\n      readyToSave = true;\n    }\n    setData({\n      ...data,\n      readyToSave,\n      [name]: value,\n    });\n  };\n\n  const handleSaveInBranch = () => {\n    hookStore.saveQantityandPrice(data).then((data)=>{\n      if(data){\n      }else{\n        console.error(\"Error al guardar la informacion\");\n      }\n    });\n    setData({\n      ...data,\n      readyToSave: false,\n    });\n  };\n\n  useEffect(()=>{\n    setData({\n      id: inBranch.id ? inBranch.id : 0,\n      cant: inBranch.cant ? inBranch.cant : 0,\n      price: inBranch.price ? inBranch.price : 0,\n      readyToSave: false,\n      store_item_id: storeItemID,\n      branch_id: branchID,\n    });\n  }, [inBranch])// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col\">\n          <small>\n            <label>Cantidad en existencia</label>\n          </small>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text bg-primary\">\n                <i className=\"fas fa-database\"></i>\n              </span>\n            </div>\n            <input\n              type=\"number\"\n              className=\"form-control text-right\"\n              placeholder=\"Cantidades en existencia\"\n              name=\"cant\"\n              onChange={({ target }) => handleChangeInput(target)}\n              value={data.cant}\n              min={0}\n            />\n          </div>\n        </div>\n        <div className=\"col\">\n          <small>\n            <label>Precio</label>\n          </small>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text bg-primary\">\n                <i className=\"fas fa-money-bill\"></i>\n              </span>\n            </div>\n            <input\n              type=\"number\"\n              className=\"form-control text-right\"\n              placeholder=\"Precio\"\n              name=\"price\"\n              onChange={({ target }) => handleChangeInput(target)}\n              value={data.price}\n              min={0}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col text-right\">\n          <button\n            className={\n              !data.readyToSave ? \"btn btn-secondary\" : \"btn btn-success\"\n            }\n            type=\"button\"\n            onClick={handleSaveInBranch}\n            disabled={!data.readyToSave}\n          >\n            <i className=\"fas fa-save mr-1\"></i> Guardar\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useContext } from \"react\";\n\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\n//Components\nimport BranchesFormInputs from \"./BranchesFormInputs\";\n\nexport default function BranchesForm({ branches, storeItemID, defaultBranch }) {\n\n  const configContext = useContext(ConfigContext);\n  const configBranches = configContext.data.filter((c)=>c.name === 'branches');\n\n  return (\n    <form>\n\n      {defaultBranch === 0 ? \n        configBranches.map((branch) => {\n          const currentBranch = branches.filter((i)=> i.branch_id === branch.id )          \n          return (\n            <div className=\"card\" key={branch.id}>\n              <div className=\"card-header\">\n                <h5 className=\"card-title text-primary text-capitalize\">\n                  <i className=\"fas fa-store-alt mr-1\"></i> {branch.data.name}\n                </h5>\n              </div>\n              <div className=\"card-body\">\n              <BranchesFormInputs\n                inBranch={currentBranch[0] ?? {}}\n                branchID = {branch.id}\n                storeItemID = {storeItemID}\n              />\n              </div>\n            </div>\n          );\n        })      \n      :\n        configBranches.map((branch) => {\n          \n          const currentBranch = branches.filter((i)=> i.branch_id === branch.id );          \n\n          if(branch.id === defaultBranch){\n            return (\n              <div className=\"card\" key={branch.id}>\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-primary text-capitalize\">\n                    <i className=\"fas fa-store-alt mr-1\"></i> {branch.data.name}\n                  </h5>\n                </div>\n                <div className=\"card-body\">\n                <BranchesFormInputs\n                  inBranch={currentBranch[0] ?? {}}\n                  branchID = {branch.id}\n                  storeItemID = {storeItemID}\n                />\n                </div>\n              </div>\n            )\n          }else{ return null}\n        }         \n        )\n      }\n    </form>\n  );\n}","import { useEffect, useState, useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\n//Context\nimport { StoreContext } from \"../../context/StoreContext\";\n\n//Hooks\nimport useStore from \"../../hooks/useStore\";\n\n//Helper\nimport helper from \"../Store/helpers\";\n\n// Components\nimport CategoryInput from \"./Categories\";\nimport Suppliers from \"./Suppliers\";\nimport Brands from \"./Brands\";\nimport Code from \"./Code\";\nimport Activitys from \"../Activitys\";\nimport BranchesSelect from \"../../components/Store/views/BranchesSelect\";\nimport BranchesForm from \"../../components/Store/views/BranchesForm\";\n\nconst initialState = {\n  id: 0,\n  code: \"\",\n  codebar: \"\",\n  grad: \"\",\n  brand_id: 0,\n  name: \"\",\n  unit: \"PZ\",\n  cant: 1,\n  price: 1,\n  supplier_id: 0,\n  category_id: 0,\n  branch_default: 0,\n  data: {\n    category: '',\n    categories: [],\n    branches: [],\n    codes: [],\n    category_code: [],\n    activity: [],\n    codenames: [],\n    brandname : '',\n  },\n  codeStatus:'empty',\n  loading: false,\n  readyToSave: false\n};\n\nexport default function Add(props) {\n  const storeContext = useContext(StoreContext);\n  const { id } = props.match.params;\n  const [state, setState] = useState(initialState);\n  const _store = useStore();\n  const { code, loading: LOADING } = state;\n  const history = useHistory();\n\n  \n\n  // Functions\n  const saveProduct = () => {\n    const dataSend = {\n      ...state,\n    }\n\n    if(!dataSend.brand_id){\n      delete dataSend.brand_id\n    }\n\n    if(!dataSend.supplier_id){\n      delete dataSend.supplier_id\n    }\n\n\n    _store.saveItem(dataSend)\n    .then((data)=>{\n      if(data){           \n        const {id} = data.data;        \n        window.Swal.fire({\n          title: \"Productos\",\n          text: \"Producto guardado correctamente\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timerProgressBar: true,          \n          showLoaderOnConfirm: true,\n          timer: 3000,          \n        }).then(() => {\n          history.push(`/almacen/${id}`);          \n        });\n      }\n    })\n    .catch((error)=>{      \n      window.Swal.fire({\n        title: \"Error al guardar el producto\",\n        text: error.errors.name[0],\n        icon: \"info\",\n        showCancelButton: false,\n        confirmButtonColor: \"#007bff\",\n        confirmButtonText: \"Cambiar nombre\",\n        cancelButtonText: \"Cancelar\",\n        showLoaderOnConfirm: true,  \n      });      \n    });\n    }\n\n\n  const getItem = () => {\n    _store.getItem(id).then((res) => {      \n      setState({\n        ...state,\n        id: res.id ? res.id : 0,\n        name: res.name ? res.name : \"\",\n        category_id: res.category?.id,\n        supplier_id: res.supplier?.id,\n        brand_id: res.brand?.id,\n        branch_default: res.branch_default ?? 0,\n        code: res.code ? res.code : \"\",\n        codebar: res.barcode ? res.barcode : \"\",\n        data: {\n          ...state.data,\n          category: res.category ? res.category : [],\n          inBranches: res.inBranches ? res.inBranches : \"\",\n          branches: res.branches ? res.branches : [],\n          activity: res.activity ? res.activity : [],\n        },\n        loading: false,\n      });\n    });\n  };\n\n  let readyToSave = false;\n  \n  if(state.data.codenames[0] === 'lentes'){    \n    if(state.category_id && state.code && state.codeStatus === 'available' && state.name.length){\n      readyToSave = true\n    }else{      \n      readyToSave=false      \n    }\n  }else{    \n    if(state.category_id && state.supplier_id && state.brand_id && state.code && state.codeStatus === 'available' && state.name.length){\n      readyToSave= true      \n    }else{\n      readyToSave= false;      \n    }\n  }\n\n  useEffect(() => {\n    if (id) {\n      getItem();\n    }\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\n\n\n  const getNameCodeDefault = (id, brandName) => {\n    const { code: currentCode, grad} = state;\n    const {codenames} = state.data;\n\n    // Make name\n    if (codenames[0] !== 'lentes') {            \n      // To other categories\n      const type = codenames[0] !== null ? codenames[0].trim().replace(/\\s/gim, \"\").slice(0, 7) : \"\";    \n\n      const name = helper.handleCodeString( type === \"varios\" ? \"\" : type, codenames[1], brandName, currentCode)      \n\n      setState({\n        ...state,\n        brand_id: id,\n        name: name,\n        data:{\n          ...state.data,\n          brandname: brandName\n        }   \n\n      });\n\n    } else {            \n      const name = helper.handleNameLent(\n        grad,\n        codenames[1],\n        codenames[2],\n        codenames[3]\n      );\n\n      const code = helper.handleCodeLent(\n        grad,\n        codenames[1],\n        codenames[2],\n        codenames[3]\n      );\n\n      if(!state.grad){\n        setState({\n          ...state,\n          name: name,          \n        });\n      }else{\n        setState({\n          ...state,\n          name: name,\n          code:code\n        });\n      }\n      \n      \n\n    } \n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-header\">\n            <h3 className=\"card-title text-primary text-bold\">\n              <i className=\"fas fa-database mr-1\"></i>\n              {id ? `Editar producto (${code})` : \"Registrar nuevo producto\"}\n            </h3>\n          </div>\n          <form className=\"card-body\" autoComplete=\"off\">\n            <div className=\"row\">\n              <div className=\"col\">\n                <fieldset>\n                  <small className=\"mr-2\">\n                    <label>Categoria</label>\n                  </small>\n\n                  <CategoryInput\n                    category={state.category_id}                  \n                    handleChange={(id, code, name) => {                      \n                      setState({\n                        ...state,\n                        category_id: id,\n                        data: {\n                          ...state.data,                          \n                          category_code: code,                          \n                        },\n                      });\n                    }}\n                    handleSetCatName={(codenames) => {                      \n                      setState({\n                        ...state,\n                        data: {\n                          ...state.data,\n                          codenames,\n                        },\n                        loading: false,\n                      });\n                    }}                    \n                  />\n                </fieldset>\n              </div>\n            </div>\n\n            {Boolean(state.data.category_code.length) &&\n              !state.data.category_code.includes(\"1\") && (\n                <Suppliers\n                  supplier={state.supplier_id}\n                  handleChangeSupplier={(id) => {\n                    setState({\n                      ...state,\n                      supplier_id: id,\n                      brand_id: 0,\n                    });\n                  }}\n                />\n              )}\n\n            {Boolean(state.supplier_id) && (\n              <Brands\n                brand={state.brand_id}\n                supplier={state.supplier_id}\n                textSelect=\"Selecione la marca\"\n                handleChangeBrand={(id, brandName) => {    \n                  setState({\n                    ...state,\n                    brand_id:id,\n                    data:{\n                      ...state.data,\n                      brandname: brandName,\n                    }                                          \n                  })                                    \n                  //getNameCodeDefault(id, brandName);\n                }}\n              />\n            )}\n\n            {state.category_id ? (\n              <>\n                <div className=\"row\">\n                  {state.data.category_code.includes(\"1\") && (\n                    <div className=\"col-3\">\n                      <small>\n                        <label>Graduacion</label>\n                      </small>\n                      <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                          <span className=\"input-group-text bg-primary\">\n                            <i className=\"fas fa-glasses\"></i>\n                          </span>\n                        </div>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          placeholder=\"+100100\"\n                          defaultValue={state.grad}\n                          onChange={({ target }) =>\n                            setState({ ...state, grad: target.value })\n                          }\n                          onBlur={()=>{\n                            getNameCodeDefault()                            \n                          }}\n                          maxLength=\"7\"\n                          autoComplete=\"off\"\n                        />\n                      </div>\n                    </div>\n                  )}\n                  <div className=\"col\">\n                    {state.unit ? (\n                      <small>\n                        <label>Unidad de presentacion</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span\n                          className={\n                            state.unit\n                              ? \"input-group-text bg-primary\"\n                              : \"input-group-text bg-warning\"\n                          }\n                        >\n                          <i className=\"fas fa-balance-scale\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Unidad de presentación\"\n                        defaultValue={state.unit}\n                        onChange={({ target }) =>\n                          setState({ ...state, unit: target.value })\n                        }\n                        maxLength=\"4\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-5\">\n                    {state.code ? (\n                      <small>\n                        <label>Codigo</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n\n                    <Code\n                      code={state.code}\n                      id={state.id}   \n                      type={state.data.codenames[0]}   \n                      createName={()=>getNameCodeDefault(state.brand_id, state.data.brandname)}                \n                      onChangeStatusCode = {(status)=>{\n                        setState({\n                          ...state,\n                          codeStatus: status            \n                        })\n                      }}      \n                      onChangeProductCode={(codeReceibed) => {                        \n                        setState({\n                          ...state,\n                          code: codeReceibed,\n                        });\n                      }}                                                             \n                    />\n                  </div>\n                  <div className=\"col\">\n                    <small>\n                      <label>Codigo de barras</label>\n                    </small>\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span className=\"input-group-text bg-primary\">\n                          <i className=\"fas fa-barcode\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Codigo de barras\"\n                        name=\"codebar\"\n                        defaultValue={state.codebar}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            codebar: target.value,\n                          });\n                        }}\n                        autoComplete=\"off\"\n                        maxLength=\"100\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col\">\n                    {state.name ? (\n                      <small>\n                        <label>Nombre del producto</label>\n                      </small>\n                    ) : (\n                      <br />\n                    )}\n                    <div className=\"input-group mb-3\">\n                      <div className=\"input-group-prepend\">\n                        <span\n                          className={\n                            state.name\n                              ? \"input-group-text bg-primary\"\n                              : \"input-group-text bg-warning\"\n                          }\n                        >\n                          <i className=\"fas fa-archive\"></i>\n                        </span>\n                      </div>\n                      <input\n                        type=\"text\"\n                        className=\"form-control text-uppercase\"\n                        placeholder=\"Nombre\"\n                        name=\"name\"\n                        defaultValue={state.name}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            name: target.value,\n                          });\n                        }}\n                        maxLength=\"149\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <div className=\"row\">\n                <div className=\"col\">\n                  <h6 className=\"text-warning\">\n                    Seleccione primero una categoría.\n                  </h6>\n                </div>\n              </div>\n            )}\n          </form>\n          <div className=\"card-footer text-right\">\n            <div className=\"row\">\n              <div className=\"col-md-12\">\n                <div className=\"btn-group\" role=\"group\">\n                  <Link\n                    to=\"/almacen\"\n                    className=\"btn btn-default\"\n                    onClick={() => {\n                      storeContext.set({\n                        ...storeContext,\n                        panel: \"inbox\",\n                      });\n                    }}\n                  >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                    {id ? \"Cerrar\" : \"Cancelar\"}\n                  </Link>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      saveProduct();\n                    }}\n                    className={\"btn btn-primary\"} \n                    disabled={!readyToSave}                   \n                    /* disabled={state.data.codenames[0] === \"lentes\" ? readyToSave : !readyToSave} */\n                  >\n                    <i className=\"fas fa-save mr-1\"></i>\n                    Guardar\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          {LOADING && (\n            <div className=\"overlay dark\">\n              <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n            </div>\n          )}\n        </div>\n      </div>\n      {id ? (\n        <div className=\"col\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <div className=\"card card-primary card-outline\">\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-primary\">\n                    Sucursal por defecto\n                  </h5>\n                </div>\n                <div className=\"card-body\">\n                  <BranchesSelect\n                    branch_default={state.branch_default}\n                    showIcon={false}\n                    setBranchId={(target) => {\n                      const { value } = target;\n                      setState({\n                        ...state,\n                        branch_default: parseInt(value),\n                      });\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col\">\n              <BranchesForm\n                branches={state.data.branches}\n                storeItemID={state.id}\n                defaultBranch={state.branch_default}\n              />\n            </div>\n          </div>\n        </div>\n      ) : null}\n\n      {state.data.activity.length ? (\n        <div className=\"col-lg-12\">\n          <Activitys data={state.data.activity} />\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React, { useEffect, useState, useContext } from \"react\";\nimport useCategory from \"../../../hooks/useCategory\";\nimport { StoreContext } from \"../../../context/StoreContext\";\n\n\nexport default function CategoryListComponent(props){\n\n  const hookCategory = useCategory();\n  \n  const ls = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\n  const storeContext = useContext(StoreContext);\n\n  const [state, setState] = useState({\n    id: 0,\n    meta: {},\n    dd: false,\n    name: \"\",\n    category_raiz: [],\n    category_id: props.category,\n    page: 1,\n    host: ls.host,\n    token: ls.token,\n    load: false,\n  });\n\n  const { category_raiz, category_id, name, add } = state, { loading: load } = props;\n\n  useEffect(()=>{\n\n    const { categoryData = [] } = props;\n\n    if (categoryData) {\n      setState({\n        ...state, \n        category_raiz: categoryData,\n      });\n    }\n  },[props])// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const handleClickAdd = () => {\n    setState({\n      ...state,\n      add: !state.add,\n      name: \"\",\n    });\n  };\n\n  const handleSelectCategory = (cat) => {\n\n    const { last, categorySelect: _categorySelect } = props, { category_raiz } = state;\n\n    if (last) return false;\n    if (!cat.sons || (cat.sons && !cat.sons.length)) return false;\n\n    _categorySelect({\n      category_id: cat.id,\n      category_data: category_raiz,\n    });\n\n    setState({\n      ...state, \n      category_id: cat.id,\n    });\n  };\n\n  const handleClickDelete = (id, name) => {\n    if (id) {\n      //const { _delete } = this.props;\n      /* const item = { id }, options = { categoryid: \"raiz\" },\n      text =\n      \"Esta seguro de eliminar la categoria: \" + name.toUpperCase() + \"?\"; */\n\n      //Ejecutar hook para eliminar la categoria\n      hookCategory.deleteCategory(id).then((data)=>{\n        if(data){\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Categoria eliminada correctamente',\n            icon: \"success\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              storeContext.set({\n                ...storeContext,\n                panel:\"inbox\",\n              })\n            }\n          });\n        }else{\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Error al eliminar la categoria',\n            icon: \"error\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          })\n        }\n      })\n      //helper.handleDeleteItem(item, options, _delete, text);\n    }\n  };\n\n\n const catchInputs = (e) => {\n    const { name, value } = e.target;\n    setState({\n      ...state, \n      [name]: value.toLowerCase(),\n    });\n  };\n\n\n  const handleClickSave = () => {\n    //Verificamos campos validos\n    if (state.name.length < 4) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Debe de escribir el nombre de la categoria\",\n        \"warning\"\n      );\n      //this.nameInput.focus();\n      return false;\n    }\n\n    const { category_id, name } = state;\n    const data = { name, category_id: category_id};\n    //const { _save } = this.props;\n    \n    //const options = { categoryid: \"raiz\" };\n\n   /*  const text = id\n        ? \"¿Esta seguro de actualizar la categoria?\"\n        : \"¿Esta seguro de crear una nueva categoria?\",\n      _close = () => {\n        setState({\n          ...state,\n          name: \"\",\n          category_id: 0,\n          add: false,\n        });\n      };\n */\n\n      hookCategory.saveCategory(data).then((data)=>{\n        if(data){\n          window.Swal.fire({\n            title: \"Categorias\",\n            text: 'Categoria guardada correctamente',\n            icon: \"success\",\n            showCancelButton: false,\n            confirmButtonText:\"OK\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              storeContext.set({\n                ...storeContext,\n                panel:\"inbox\",\n              })\n            }\n          });\n        }else{\n          window.Swal.fire(\n            \"Categorias\",\n            \"Error al guardar la categoria\",\n            \"error\"\n          );\n        }\n      });\n\n      \n\n\n    //helper.handleSaveItem(id, data, options, _save, _close, text);\n  };\n\n\n\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-body\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>Nombre</th>\n              <th style={{ width: 48 }}></th>\n            </tr>\n          </thead>\n          <tbody>\n            {category_raiz.length ? (\n              <React.Fragment>\n                {category_raiz.map((cat) => {                  \n                  return (\n                    <tr key={cat.id}>\n                      <td className=\"text-capitalize\">\n                        <a\n                          href={\"#select!\" + cat.id}\n                          onClick={(e) => {\n                            e.preventDefault();\n                            handleSelectCategory(cat);\n                          }}\n                          className={\n                            cat.sons && cat.sons.length\n                              ? \"text-primary\"\n                              : \"text-dark\"\n                          }\n                        >\n                          {cat.name}\n                        </a>\n                      </td>\n                      <td className=\"btn-group\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-default\"\n                          disabled={true}\n                          title=\"Proximamente\"\n                        >\n                          <i className=\"fas fa-edit\"></i>\n                        </button>\n                        <button\n                          type=\"button\"\n                          title=\"Eliminar\"\n                          className={\n                            cat.hijos && cat.hijos.length\n                              ? \"btn btn-outline-secondary btn-sm\"\n                              : \"btn btn-outline-danger btn-sm\"\n                          }\n                          onClick={(e) => {\n                            handleClickDelete(cat.id, cat.name);\n                          }}\n                          disabled={cat.hijos && cat.hijos.length}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </React.Fragment>\n            ) : (\n              <tr>\n                <td colSpan=\"8\" className=\"text-center\">\n                  <span className=\"mr-3\">Cargando categorias </span>\n                  <div className=\"spinner-border text-primary\" role=\"status\">\n                    <span className=\"sr-only\">Cargando ...</span>\n                  </div>\n                </td>\n              </tr>\n            )}\n          </tbody>\n          {add && !load ? (\n            <tfoot>\n              <tr>\n                <td>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    className=\"form-control text-uppercase\"\n                    autoComplete=\"off\"\n                    value={name}\n                    onChange={catchInputs}\n                    ref={(input) => {\n                      //this.nameInput = input;\n                    }}\n                  />\n                </td>\n                <td>\n                  <button\n                    className=\"btn btn-dark btn-sm\"\n                    onClick={handleClickSave}\n                    disabled={name.length < 3}\n                    title=\"Guardar categoria\"\n                  >\n                    <i className=\"fas fa-save\"></i>\n                  </button>\n                </td>\n              </tr>\n            </tfoot>\n          ) : null}\n        </table>\n      </div>\n      <div className=\"card-footer text-right\">\n        <button\n          className={\n            add\n              ? \"btn btn-secondary btn-sm text-bold\"\n              : \"btn btn-primary btn-sm\"\n          }\n          onClick={handleClickAdd}\n          disabled={!category_id}\n          title={add ? \"Cancelar\" : \"Crear nueva categoria\"}\n        >\n          {add ? (\n            <>\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </>\n          ) : (\n            <>\n              <i className=\"fas fa-plus mr-1\"></i>\n              Agregar\n            </>\n          )}\n        </button>\n      </div>\n    </div>\n  );\n}\n\n","import React, { useState, useEffect } from \"react\";\n//Components\nimport Catalogo from \"../components/Store/data/Category_list\";\nimport useCategory from \"../hooks/useCategory\";\n\nexport default function CategoriesStoreComponent(){\n\n  const hookCategory = useCategory();\n\n  const [state, setState] = useState({\n    category_id: 0,\n    category_data: [],\n  })\n\n  const { category_id, category_data } = state;\n  \n  let category_view_sons = category_data, category_current = {};\n  \n  if (category_id) {\n    const category_cache = category_data.filter(\n      (cat) => cat.id === category_id\n    );\n\n    if (category_cache.length) {\n      category_current = category_cache[0];\n      if (category_current && category_current.sons) {\n        category_view_sons = category_current.sons;\n      }\n    }\n  }\n\n  const handleLoadCategories = () => {\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data){\n        setState({\n          ...state,\n          category_data: data.data,\n        })\n      }else{\n        console.error(\"Error al obtener la lista de categorias\");\n      }\n    })\n  };\n\n  const handleChangeState = (data) => {\n    setState(data);\n  };\n\n\n  const handleClickParent = (e) => {\n    if (e) e.preventDefault();\n\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data){\n        setState({\n          category_data: data.data,\n          category_id: null,\n        });\n      }else{\n        console.error(\"Error al obtener la lista de categorias\");\n      }\n    })\n  };\n\n  useEffect(()=>{\n    handleLoadCategories();\n  },[]);// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  return (\n    <div className=\"row\" style={{minHeight:'100vh'}}>\n      <div className=\"col-8\">\n        <nav>\n          <ol className=\"breadcrumb\">\n            { state.category_id ? (\n              <>\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                  <a href=\"#link\" onClick={handleClickParent}>\n                    Raiz\n                  </a>\n                </li>\n                {category_current.id ? (\n                  <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                    {category_current.name}\n                  </li>\n                ) : null}\n              </>\n            ) : (\n              <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                Seleccione una categoria para ver su contenido\n              </li>\n            )}\n          </ol>\n        </nav>\n        <Catalogo\n          category={category_id}\n          categoryData={category_view_sons ?? []}\n          categorySelect={handleChangeState}\n        />\n      </div>\n    </div>\n  );\n}\n\n\n","export default function BrandsList({\n  brands,\n  handleEdit = null,\n  handleDelete = null,\n}) {\n  return (\n    <ul className=\"card-text list-group\">\n      {!brands.length ? (\n        <li className=\"list-group-item\">  \n          <p className=\"text-danger\">\n            <i className=\"fas fa-info-circle mr-1\"></i>\n            No exiten marcas para este proveedor!\n          </p>\n        </li>\n      ) : (\n        brands.map((brand) => {\n          return (\n            <li\n              className=\"list-group-item d-flex justify-content-between align-items-center\"\n              key={brand.id}\n            >\n              <span className=\"text-dark text-uppercase text-truncate\">\n                <i className=\"fas fa-thumbtack mr-1\"></i>\n                {brand.name}\n              </span>\n              \n              <div>\n                {handleEdit && (\n                  <span\n                    className=\"badge badge-dark badge-pill py-1 mr-2\"\n                    style={{ cursor: \"pointer\" }}\n                    title=\"Editar\"\n                    onClick={() => handleEdit(brand)}\n                  >\n                    <i className=\"fas fa-edit\"></i>\n                  </span>\n                )}\n\n                {handleDelete && (\n                  <span\n                    className=\"badge badge-danger badge-pill py-1\"\n                    style={{ cursor: \"pointer\" }}\n                    title=\"Eliminar\"\n                    onClick={() => handleDelete(brand)}\n                  >\n                    <i className=\"fas fa-trash\"></i>\n                  </span>\n                )}\n              </div>\n            </li>\n          );\n        })\n      )}\n    </ul>\n  );\n}\n","import React, {useState, useEffect, useContext } from \"react\";\nimport useStore from \"../hooks/useStore\";\nimport { StoreContext } from \"../context/StoreContext\";\n\n//Components\nimport Suppliers from \"../components/Store/Suppliers\";\nimport BrandsList from \"../components/Store/data/BrandsList\";\n\n\nexport default function BrandsComponent(){\n\n  const storeHook = useStore();\n\n  const storeContext = useContext(StoreContext);\n\n  const [state, setState] = useState({\n    id: null,\n    supplier: 0,\n    brands: [],\n    name: \"\",\n    loading: false,\n  });\n\n  useEffect(()=>{\n    getBrands();\n  },[state.supplier]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const getBrands = () => {\n    const { supplier } = state;\n    if (supplier) {\n      storeHook.getBrands({supplier, order: \"name\"}).then((data)=>{ \n        if(data){\n          setState({\n            ...state,\n            brands: data.data,\n          })\n        }else{\n          console.error(\"Error al obtener la lista de marcas\");\n        }\n      })\n    }\n  };\n\n  const handleCancelBtn = () => {\n    setState({\n      ...state, \n      name: \"\",\n      id: null,\n    });\n  };\n\n  const saveBrand = (e) => {\n    e.preventDefault();\n    const {  name, supplier } = state, data = { name, contact_id: supplier};\n\n    if (name.length < 3) {\n      window.Swal.fire(\n        \"Error\",\n        \"El nombre de la marca debe de tener por lo menos 3 caracteres\",\n        \"error\"\n      );\n      return false;\n    } else if (!supplier) {\n      window.Swal.fire(\n        \"Error\",\n        \"Debe de elegir a un proveedor primero\",\n        \"error\"\n      );\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de CREAR un nuevo producto?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        storeHook.saveBrand(data).then((data)=>{\n          if(data){\n            window.Swal.fire({\n              title: \"Almacenamiento\",\n              text: \"Producto almacenado correctamente\",\n              icon:'success',\n              showCancelButton: false,\n              confirmButtonColor: \"#007bff\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n            })\n          }\n          else{\n            console.error(\"Error al guardar la data enviada\");\n          }\n        })\n\n        storeContext.set({\n          ...storeContext,\n          panel: 'inbox',\n        })\n\n        setState({\n          ...state, \n          name: \"\",\n          id: null,\n        });\n      }\n    });\n  };\n\n  const prevEdit = (brand) => {\n    setState({\n      ...state, \n      name: brand.nombre,\n      id: brand.id,\n    });\n  };\n\n  const deleteBrand = (id, item) => {\n    window.Swal.fire({\n      title: \"Eliminar\",\n      text: \"¿Esta seguro de eliminar la marca \" + item.toUpperCase() + \"?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        storeHook.deleteBrand(id).then((data)=>{\n          if(data === true){\n            window.Swal.fire({\n              title:'Marcas',\n              text:'Marca eliminada correctamente',\n              icon:'success',\n              showCancelButton: false,\n              confirmButtonColor: \"#007bff\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n\n            })\n          }\n          else{\n            window.Swal.fire({\n              title:'Marcas',\n              text:'Error al eliminar la marca',\n              icon:'error',\n              showCancelButton: false,\n              confirmButtonColor: \"#d33\",\n              confirmButtonText: \"Ok\",\n              cancelButtonText: \"Cancelar\",\n              showLoaderOnConfirm: true,\n\n            })\n          }\n        })\n        storeContext.set({\n          ...storeContext,\n          panel: 'inbox',\n        })\n      }\n    });\n  };\n  \n  const changeInput = ({ name, value }) => {\n    setState({\n      ...state, \n      [name]: value.toLowerCase(),\n    });\n  };\n\n  const { id, supplier, name } = state;\n\n  const { loading } = state;\n\n  return (\n    <div className=\"row\" style={{minHeight:'100vh'}}>\n      <div className = {supplier ? \"col-lg-6\" : \"col-lg-12\"}>\n        <div className=\"card card-primary card-outline\">\n          <h5 className=\"card-title mt-2 ml-2 text-bold\">\n            Marcas para productos\n          </h5>\n          <div className=\"card-body\">\n            <Suppliers\n              supplier={supplier}\n              handleChangeSupplier={(id) => {\n                setState({\n                  ...state, \n                  supplier: id,\n                  brands: id ? state.brands : [],\n                });\n              }}\n            />\n            {!state.brands.length && (\n              <p className=\"card-text\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Para iniciar, primero seleccione a un proveedor\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {supplier ? (\n        <div className=\"col\">\n          <div className=\"card card-primary card-outline\">\n            <div className=\"card-body\">\n              <h5 className=\"card-title text-dark mb-4 text-bold\">\n                Listado de marcas\n              </h5>\n              <BrandsList\n                brands={state.brands}\n                handleEdit={(brand) => prevEdit(brand)}\n                handleDelete={(brand) => {\n                  deleteBrand(brand.id, brand.name);\n                }}\n              />\n            </div>\n            <div className=\"card-footer\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control mr-1\"\n                  name=\"name\"\n                  value={name}\n                  onChange={({ target }) => changeInput(target)}\n                />\n                <div className=\"btn-group\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-default\"\n                    disabled={!name}\n                    onClick={handleCancelBtn}\n                  >\n                    <i className=\"fas fa-eraser\"></i>\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={id ? \"btn btn-success\" : \"btn btn-primary\"}\n                    onClick={saveBrand}\n                    disabled={!name}\n                  >\n                    <i className=\"fas fa-save\"></i>\n                  </button>\n                </div>\n              </div>\n            </div>\n            {loading ? (\n              <div className=\"overlay dark\">\n                <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\n\n","import { useState } from \"react\";\nimport useStore from \"../../../hooks/useStore\";\n\nfunction SetQantityModal({item, handleClose, handleUpdateItems}) {\n\n  const [cantidad, setCantidad] = useState(0);\n  const hookStore = useStore();\n\n  const saveQantity = ()=>{\n\n    const data = {\n      product_id: item.id,\n      //branch_default: state.item.branch_default,\n      cant: cantidad,\n    };\n\n    hookStore.saveQantity(data).then((data)=>{\n      if(data){\n        handleClose(data.data);\n      }\n      else{\n        console.error(\"Error al guardar la cantidad\");\n      }\n    })\n  };\n\n    return (\n        <div className=\"modal d-block\" tabIndex=\"-1\">\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">Asignar Cantidad</h5>\n              <button type=\"button\" className=\"close\" onClick={handleClose}>\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n  \n            <div className=\"modal-body p-2\">\n                <h5 className=\"text-center mt-2 mb-3\"><span class=\"badge badge-info\">{item.name.toUpperCase()}</span></h5>\n                <h6 className=\"text-center font-weight-bold\">Cantidad actual: <span className=\"font-weight-normal\">{item.cant}</span></h6>\n                <div className=\"\">\n                    <label>Cantidad</label>\n                    <input \n                        name = \"price\" \n                        type=\"number\" \n                        defaultValue={0} \n                        className=\"form-control\" \n                        placeholder=\"Cantidad\" \n                        onChange={(e)=>setCantidad(e.target.value)}                        \n                    />\n                </div>                        \n            </div>\n  \n            <div className=\"modal-footer\">\n             <button type=\"button\" className=\"btn btn-default\" onClick={handleClose}>\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n              </button>\n  \n              <button type=\"button\" className=\"btn btn-success\" disabled = { cantidad <= 0 || cantidad === '0' || !cantidad ? true : false} onClick={saveQantity}>\n                Asignar\n              </button>\n            </div>\n  \n          </div>\n        </div>\n      </div>\n    );\n  }\n  \n  export default SetQantityModal;\n  \n\n\n\n ","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SetQantityModal from \"./SetQantityModal\";\n\nexport default function InventoryTableView({ header, body, itemsProp }) {\n  const [state, setState] = useState({\n    item: {},\n    showModal: false,\n    items: [],\n  });\n\n  const handleUpdateItems = (newItem) => {\n    const items = [...state.items];\n\n    items.forEach((item) => {\n      if (item.id === newItem.id) {\n        item.cant = newItem.cant;\n      }\n    });\n\n    setState({\n      ...state,\n      items: items,\n      showModal: false,\n    });\n  };\n\n  useEffect(() => {\n    setState({\n      ...state,\n      items: itemsProp,\n    });\n  }, []);\n\n  return (\n    <div className=\"table-responsive\" style={{ height: \"100vh\" }}>\n      <table className=\"table table-sm table-bordered table-hover\">\n        <thead>\n          <tr>\n            <th>/</th>\n            {header}\n          </tr>\n        </thead>\n        <tbody>\n          {body.map((row, i) => {\n            const zero = row.props.children.type === \"label\" ? true : false;\n            return (\n              <tr className={zero ? \"table-secondary\" : \"\"} key={i}>\n                {row}\n                {header.map((h, i) => {\n                  let grad = zero\n                    ? parseFloat(row.props.children.props.children)\n                        .toFixed(2)\n                        .replace(\".\", \"\")\n                    : parseFloat(row.props.children)\n                        .toFixed(2)\n                        .replace(\".\", \"\");\n                  if (parseInt(grad) >= 0) grad = \"+\" + grad;\n                  grad += parseFloat(h.props.children)\n                    .toFixed(2)\n                    .replace(/[-.]/g, \"\");\n\n                  return (\n                    <td key={grad + i} className=\"text-center\">\n                      {state.items.length ? (\n                        state.items.map((item, index) => {\n                          return grad === item.grad ? (\n                            <div key={index}>\n                              {item.cant_total ? (\n                                <span\n                                  onClick={() => {\n                                    setState({\n                                      ...state,\n                                      item: item,\n                                      showModal: true,\n                                    });\n                                  }}\n                                  style={{ cursor: \"pointer\" }}\n                                  title={item.grad}\n                                  key={item.id + index}\n                                  className={\n                                    item.cant > 0\n                                      ? \"badge badge-success\"\n                                      : \"badge badge-danger\"\n                                  }\n                                >\n                                  {item.cant}\n                                </span>\n                              ) : null}\n                            </div>\n                          ) : null;\n                        })\n                      ) : (\n                        <Link to=\"/almacen/registro\">\n                          <i className=\"fas fa-plus text-secondary\"></i>\n                        </Link>\n                      )}\n                    </td>\n                  );\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n\n      {state.showModal ? (\n        <SetQantityModal item={state.item} handleClose={handleUpdateItems} />\n      ) : null}\n    </div>\n  );\n}\n","import { useState } from \"react\";\n\nfunction SetPriceModal({categoryName, handleSave: _handleSave ,handleClose: _close, handleChange: _handleChange}) {\n\n  const [showLoader, setShowLoader] = useState(false);\n  const [price, setPrice] = useState(0);\n\n\n  return (\n\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Asignar Precio</h5>\n            <button onClick={_close} type=\"button\" className=\"close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n          <div className=\"modal-body p-2\">\n            {showLoader ? (\n              <div className=\"text-center\">\n              <h4 className=\"text-primary\">Asignando precios </h4>\n              <div\n                className=\"spinner-border text-primary ml-4\"\n                role=\"status\"\n              >\n                <span className=\"sr-only\">Cargando ...</span>\n              </div>\n            </div>\n            ):(\n              <div className=\"d-flex flex-column justify-content-start align-items-start\">\n              <h5 className=\"text-center mt-2 mb-3\"><span class=\"badge badge-info\">{categoryName.toUpperCase()}</span></h5>\n                  <label>Precio</label>\n                  <input onChange={({target})=>{\n                    const {name, value} = target;\n                    setPrice(value);\n                    _handleChange(name, value);\n\n                  }} name = \"price\" type=\"number\" defaultValue={price} className=\"form-control\" placeholder=\"Precio\"/>\n\n              </div>\n            )}\n              \n          </div>\n\n          <div className=\"modal-footer\">\n            <button type=\"button\" className=\"btn btn-default\" onClick={_close} disabled={showLoader ? true : false}>\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n\n            <button disabled={showLoader || !price ||price === '0' ? true : false} type=\"button\" className=\"btn btn-success\" onClick={()=>{\n              _handleSave();\n              setShowLoader(true);\n            }}>\n              Asignar\n            </button>\n          </div>\n\n        </div>\n      </div>\n    </div> \n  );\n}\n\nexport default SetPriceModal;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport InventoryTableView from \"../components/Store/views/Inventory_table\";\nimport SetPriceModal from \"../components/Store/views/SetPriceModal\";\n\n//Hooks\nimport useCategory from \"../hooks/useCategory\";\nimport useStore from \"../hooks/useStore\";\n\n//Context\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Inventory(){\n\n  const authContext = useContext(AuthContext);\n  const currentBranch = authContext.auth.branch;\n  \n  const [state, setState] = useState({\n    catData_1: [],\n    catData_2: [],\n    catData_3: [],\n    catid_1: 0,\n    catid_2: 0,\n    catid_3: 0,\n    load: false,\n    items: [],\n    meta: {},\n    price: 0,\n  });\n\n\n\n  const [globalData, setGlobalData] = useState({\n    branchSelected: currentBranch ? currentBranch.id : 0,\n    price: 0,\n    productCategoryId: 0,\n  });\n\n  const [modal, setModal] = useState(false);\n\n  const hookCategory = useCategory();\n  const hookStore = useStore();\n\n  const header = [];\n  const body = [];\n  \n  let i = 0;\n  do {\n    header.push(<th key={i}>{i.toFixed(2)}</th>);\n    i = i - 0.25;\n  } while (i > parseFloat(state.meta.cil) - 0.25);\n\n  i = parseFloat(state.meta.rangoInf);\n  do {\n    if (i === 0)\n      body.push(\n        <td>\n          <label>0.00</label>\n        </td>\n      );\n    else body.push(<td>{i.toFixed(2)}</td>);\n    i = i + 0.25;\n  } while (i < parseFloat(state.meta.rangoSup) + 0.25);\n\n\n  const disabled = state.items.length !== 0 ? false : true;\n  const disablenBtnModal = globalData.branchSelected === 0 || \n                           globalData.price === 0  || \n                           globalData.productCategoryId === 0 ? true : false;\n\n  const handleModal = () => {\n    setModal(!modal);\n  };\n\n\n  const savePriceGlobal =  () => {\n    hookStore.saveGlobalPrice(globalData).then((data)=>{\n      handleModal();\n      if(data){\n        window.Swal.fire({\n          title: \"Productos\",\n          text: \"Precio asignado correctamente\",\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"OK\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            setGlobalData({\n              branchSelected: currentBranch ? currentBranch.id : 0,\n              price: 0,\n              productCategoryId: 0,\n            })\n          }\n        });\n      }else{\n        console.error(\"Error en la cosulta\");\n        window.Swal.fire({\n          title: \"Productos\",\n          text: \"Erro al guardar el precio global\",\n          icon: \"error\",\n          showCancelButton: false,\n          confirmButtonColor: \"#007bff\",\n          confirmButtonText: \"OK\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            setGlobalData({\n              branchSelected: currentBranch ? currentBranch.id : 0,\n              price: 0,\n              productCategoryId: 0,\n            })\n          }\n        });\n      }\n    });\n  }\n\n  const getItems = async (catid) => {\n    const { load } = state;\n    const filters = {\n      cat:catid,\n      itemsPage: 500,\n    };\n    //Cargando\n    if (!load) {\n      setState({\n        ...state,\n        load: true,\n      });\n    }\n\n    hookStore.getItems(filters).then((data)=>{\n      if(data){\n        const noGraduationData = data.data.filter((item) => item.grad !== '+000000' );\n        setState({\n          ...state, \n          items: noGraduationData ? noGraduationData : [],\n          catid_3: catid,\n          load: false,\n        });\n      }else{\n        console.error(\"Error al obtener la lista de productos\");\n        setState({\n          ...state,\n          load: false,\n        });\n      }\n    })\n  };\n\n\n  const handleClickCat = (e) => {\n    const { name, value } = e.target;\n    const { catData_1, catData_2 } = state;\n    let sons = [];\n    let  meta = {};\n\n    if (name === \"catid_1\") {\n      catData_1.map((cat) => {\n        if (cat.id === parseInt(value)) {\n          sons = cat.sons;\n          meta = cat.meta;\n          return true;\n        } else return false;\n      });\n\n      setState({\n        ...state,\n        catid_1: parseInt(value),\n        catid_2: 0,\n        catid_3: 0,\n        catData_2: sons,\n        catData_3: [],\n        meta,\n      });\n\n    } else if (name === \"catid_2\") {\n      catData_2.map((cat) => {\n        if (cat.id === parseInt(value)) {\n          sons = cat.sons;\n          return true;\n        } else return false;\n      });\n\n      setState({\n        ...state,\n        catid_2: parseInt(value),\n        catid_3: 0,\n        catData_3: sons,\n      });\n    }\n  };\n\n  const getCategories = () => {\n    hookCategory.getCategories({categoryid: \"raiz\"}).then((data)=>{\n      if(data && data.data){\n        setState({\n          ...state, \n          catid_1: 5,\n          meta: data.data[0].meta,\n          catData_1: data.data[0].sons,\n          catData_2: data.data[0].sons[0].sons\n        });\n      }else{\n        console.error(\"Error al descargar categorías\");\n        window.Swal.fire(\n          \"Fallo de conexion\",\n          \"Verifique la conexion al servidor\",\n          \"error\"\n        );\n      }\n    })\n  };\n\n  useEffect(()=>{\n    getCategories();\n  },[]);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return(\n    <div className=\"row\" style={{height:'1000px'}}>\n        <div className=\"col\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n\n              <div className=\"d-flex justify-content-around align-items-center\">\n\n                <div className=\"col-lg-3\">\n                    <select\n                      className=\"custom-select\"\n                      name=\"catid_2\"\n                      value={state.catid_2}\n                      onChange={handleClickCat}\n                    >\n                      <option value=\"0\">Seleccione un material</option>\n                      {state.catData_2.map((cat) => {\n                        return (\n                          <option key={cat.id} value={cat.id}>\n                            {cat.name}\n                          </option>\n                        );\n                      })}\n                    </select>\n                  </div>\n\n                {state.catid_2 && state.catData_3.length ? (\n                  <div className=\"col-lg-9 d-flex justify-content-around align-items-center\">\n                    <div\n                      className=\"btn-group col-lg-8\"\n                      role=\"group\"\n                      aria-label=\"Basic example\"\n                      style={{height:'3rem'}}\n                    >\n                      {state.catData_3.map((cat) => {\n                        return (\n                          <button\n                            key={cat.id}\n                            className={\n                              state.catid_3 === cat.id\n                                ? \"btn btn-primary\"\n                                : \"btn btn-secondary\"\n                            }\n                            onClick={(e) => {                      \n                              getItems(cat.id);\n                              setState({\n                                ...state,\n                                catid_3: cat.id,\n                                load: true,\n                              });\n                            }}\n                          >\n                            {cat.name}\n                          </button>\n                        );\n                      })}\n                    </div>\n                    <div className=\"col-lg-4 d-flex flex-column align-items-center justify-content-center\">\n                      <p>Total de productos: {state.items.length}</p>\n                      <button disabled = {disabled} className=\"btn btn-success bg-success\" onClick={handleModal}>                        \n                        Asignar Precio\n                        <i className=\"fas fa-money-bill ml-2\"></i>\n                      </button>                                         \n                    </div>                    \n                  </div>\n                ) : null}\n              </div>\n            </div>\n\n\n            <div className=\"card-body\">\n              {state.catid_3 ? (\n                <React.Fragment>\n                  {state.load ? (\n                    <div className=\"text-center\">\n                      <span className=\"text-primary\">Cargando productos</span>\n                      <div\n                        className=\"spinner-border text-primary ml-4\"\n                        role=\"status\"\n                      >\n                        <span className=\"sr-only\">Cargando ...</span>\n                      </div>\n                    </div>\n                  ) : (\n                    <React.Fragment>\n                      <div className=\"row mb-2\">\n                        <div className=\"col mt-2\">\n                          \n                        </div>\n                        <div className=\"col\">\n                          \n                        </div>\n                        <div className=\"col-6\">\n                          <div className=\"row\">\n                          </div>\n                        </div>\n                      </div>\n\n                      {modal && <SetPriceModal \n                          branch = {currentBranch} \n                          currentBranch = {currentBranch}\n                          handleChange={(name, value) => {\n                            setGlobalData({\n                              ...globalData,\n                              [name]: parseInt(value),\n                              productCategoryId: state.items.length ? state.items[0].category.id : 0,\n                            })\n                          }} \n                          handleClose={handleModal} \n                          disabled = {disablenBtnModal}\n                          handleSave = {savePriceGlobal}\n                          categoryName = {`${state.catData_1[0].name} / ${state.catData_2[0].name} / ${state.catData_3[0].name}`}\n                        />}\n\n                      <InventoryTableView\n                        header={header}\n                        body={body}\n                        itemsProp={state.items}\n                      />\n\n\n                    </React.Fragment>\n                  )}\n                </React.Fragment>\n              ) : (\n                <div className=\"alert alert-warning text-light\" role=\"alert\">\n                  <h4 className=\"alert-heading\">\n                    <i className=\"fas fa-exclamation\"></i> Seleccion.\n                  </h4>\n                  <hr />\n                  <ul>\n                    {/* {!state.catid_1 ? (\n                      <li>Selecciones primero el tipo de lente</li>\n                    ) : null} */}\n                    {!state.catid_2 ? <li>Seleccione el material</li> : null}\n                    <li>Por ultimo el tratamiento</li>\n                  </ul>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { Config } from \"../../context/ConfigContext\";\nimport useStore from \"../../hooks/useStore\";\n\nexport default function FormEntries({\n  data,\n  eraseItem,\n  setItemNew,\n  setData,\n  setBranch,\n}) {\n  const configContext = Config();\n  const branches = configContext?.data.filter(\n    (conf) => conf.name === \"branches\"\n  );\n  const branchesId = branches.map((b) => b.id);\n  const [state, setState] = useState({\n    id: 0,\n    code: \"\",\n    branch_id: 0,\n    cant: 0,\n    price: 0,\n    currentCant: 0,\n    branchesId: [],\n  });\n  const store = useStore();\n  const searchProductByItem = async () => {\n    if (!state.code) return;\n\n    const items = await store.getItems({ code: state.code });\n    const item = items?.data.length ? items.data[0] : {};\n\n    if (item && Object.keys(item).length) {\n      setItemNew(state.id, state.branch_id, item);\n    } else {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"Codigo no encontrado\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      setState({\n        ...state,\n        code: \"\",\n      });\n    }\n  };\n  const setDataByBranch = () => {\n    const branch_id = data.branch_default\n      ? data.branch_default\n      : data.branch_id;\n    let currentCant = 0,\n      currentPrice = 0;\n\n    if (branch_id) {\n      const branch_select = data.branches?.filter(\n        (b) => b.branch_id === branch_id\n      );\n\n      if (branch_select && branch_select.length) {\n        const inBranch = branch_select[0];\n\n        currentCant = inBranch.cant;\n        currentPrice = inBranch.price;\n      }\n\n      if (!currentPrice) {\n        currentPrice = data.price ? data.price : state.price;\n      }\n    }\n    return [branch_id, currentCant, currentPrice];\n  };\n  const getBranchesId = () => {\n    const branches = [];\n    data.branches?.forEach((branch) => branches.push(branch.branch_id));\n\n    return branches;\n  };\n\n  useEffect(() => {\n    const [branch_id, currentCant, currentPrice] = setDataByBranch();\n    const branchesId = getBranchesId();\n\n    setState({\n      ...state,\n      id: data.id,\n      code: data.code,\n      cant: data.cant,\n      branch_id,\n      currentCant,\n      price: currentPrice,\n      branchesId,\n    });\n  }, [data.id, data.branch_id]);\n\n  return (\n    <div className=\"form-row border-bottom mt-2\">\n      <div className=\"form-group col-2\">\n        <label htmlFor=\"code\">Codigo</label>\n        <input\n          type=\"text\"\n          className=\"form-control text-uppercase\"\n          placeholder=\"Codigo del producto\"\n          id=\"code\"\n          disabled={typeof state.id === \"number\" ? true : false}\n          value={state.code}\n          onChange={({ target }) =>\n            setState({ ...state, code: target.value.toLowerCase() })\n          }\n          onKeyPress={({ key }) => key === \"Enter\" && searchProductByItem()}\n        />\n      </div>\n      <div className=\"form-group col-3\">\n        <label htmlFor=\"name\">Producto</label>\n        <input\n          type=\"text\"\n          className=\"form-control text-uppercase\"\n          placeholder=\"Nombre del producto\"\n          id=\"name\"\n          value={data.name ?? \"\"}\n          disabled={true}\n          onChange={() => {}}\n        />\n      </div>\n      <div className=\"form-group col-3\">\n        <label htmlFor=\"branch\">Sucursal</label>\n        <select\n          id=\"branch\"\n          className=\"form-control text-uppercase\"\n          disabled={\n            typeof state.id === \"string\" ||\n            branchesId.includes(data.branch_default) ||\n            data.cant\n              ? true\n              : false\n          }\n          value={data.branch_default ? data.branch_default : state.branch_id}\n          onChange={({ target }) => {\n            if (!isNaN(target.value)) {\n              setBranch(state.id, state.branch_id, parseInt(target.value));\n            }\n          }}\n        >\n          <option value={0}>--- Seleccione una sucursal ---</option>\n          {branches.map((branch) => {            \n            if (data.branches_used.includes(branch.id)) {\n              return null;\n            }\n\n            return (\n              <option key={branch.id} value={branch.id}>\n                {branch.data?.name}\n              </option>\n            );\n          })}\n        </select>\n      </div>\n      <div className=\"form-group col-1\">\n        <label htmlFor=\"current\">Actual</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          id=\"current\"\n          value={state.currentCant ?? 0}\n          disabled={true}\n          onChange={() => {}}\n        />\n      </div>\n      <div className=\"form-group col-1\">\n        <label htmlFor=\"cant\">Ingreso</label>\n        <input\n          type=\"text\"\n          className={\n            data.cant !== state.cant\n              ? \"form-control is-warning\"\n              : \"form-control\"\n          }\n          placeholder=\"Cantidad\"\n          id=\"cant\"\n          disabled={typeof state.id === \"string\" ? true : false}\n          value={state.cant ?? 0}\n          onChange={({ target }) => {\n            if (!isNaN(target.value)) {\n              setState({\n                ...state,\n                cant: parseInt(target.value ? target.value : 0),\n              });\n            }\n          }}\n        />\n      </div>\n      <div className=\"form-group col-1\">\n        <label htmlFor=\"price\">Precio</label>\n        <input\n          type=\"text\"\n          className={\n            data.price !== state.price\n              ? \"form-control is-warning\"\n              : \"form-control\"\n          }\n          placeholder=\"Precio\"\n          id=\"price\"\n          disabled={typeof state.id === \"string\" ? true : false}\n          value={state.price ?? 0}\n          onChange={({ target }) => {\n            if (!isNaN(target.value)) {\n              setState({ ...state, price: parseInt(target.value) });\n            }\n          }}\n          onKeyPress={({ key }) => key === \"Enter\" && setData(state)}\n        />\n      </div>\n      <div className=\"form-group col-1 text-right pt-4\">\n        <div\n          className=\"btn-group btn-group-sm mt-2\"\n          role=\"group\"\n          aria-label=\"...\"\n        >\n          <button\n            className=\"btn btn-sm btn-warning\"\n            onClick={() => eraseItem(data)}\n          >\n            <i className=\"fas fa-trash\" />\n          </button>\n          <button\n            className=\"btn btn-sm btn-success\"\n            disabled={typeof state.id === \"string\" ? true : false}\n            onClick={() => setData(state)}\n          >\n            {data.cant ? (\n              <i className=\"fas fa-pen\" />\n            ) : (\n              <i className=\"fas fa-check\" />\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport FormEntries from \"../components/Store/FormEntries\";\nimport { Config } from \"../context/ConfigContext\";\nimport useStore from \"../hooks/useStore\";\n\nexport default function StoreEntries() {\n  const configContext = Config();\n  const branches = configContext?.data.filter(\n    (conf) => conf.name === \"branches\"\n  );\n  const branchesId = branches.map((b) => b.id);\n  const store = useStore();\n  const [state, setState] = useState({\n    items: [\n      {\n        id: `${Date.now()}`,\n        code: \"\",\n        name: \"\",\n        branch_id: 0,\n        cant: 0,\n        price: 0,\n        branches: [],\n        branches_used: [],\n        branch_default: null,\n      },\n    ],\n  });\n  const setNewItem = (id, branch_id, item) => {\n    const items = [...state.items];\n    const branches_used = {};\n    const branches_rest = {};\n    let done = 0;\n\n    for (const i of items) {\n      if (!branches_used[i.id]?.length) branches_used[i.id] = [];\n      if (!branches_rest[i.id]?.length) branches_rest[i.id] = branchesId;\n\n      if (i.id === item.id) {\n        if (branchesId.includes(item.branch_default)) {\n          window.Swal.fire({\n            title: \"Almacen\",\n            text: \"Codigo ya se encuentra en la lsta\",\n            icon: \"warning\",\n            timer: 2500,\n          });\n          break;\n        }\n\n        branches_rest[i.id] = branches_rest[i.id].filter(\n          (b) => b !== i.branch_id\n        );\n        branches_used[i.id].push(i.branch_id);\n\n        item.branches = item.branches.filter(\n          (b) => !branches_used[i.id].includes(b.branch_id)\n        );\n      }\n\n      if (!branches_rest[i.id].length) {\n        window.Swal.fire({\n          title: \"Almacen\",\n          text: \"Codigo ya fue agregado a la lista en todas sus sucursales\",\n          icon: \"warning\",\n          timer: 2500,\n        });\n        break;\n      }\n\n      if (i.id === id && i.branch_id === branch_id) {\n        i.id = item.id;\n        i.code = item.code;\n        i.name = item.name;\n        i.price = item.price;\n        i.branches = item.branches;\n        i.branches_used = branches_used[i.id] ?? [];\n        i.branch_default = item.branch_default ?? null;\n        i.branch_id = item.branch_default ? item.branch_default : 0;\n      }\n\n      done++;\n    }\n\n    if (done < items.length) {\n      items.forEach((i) => {\n        if (typeof i.id === \"string\" && i.id === item.id) {\n          i.code = \"\";\n        }\n      });\n    }\n\n    setState({\n      items,\n    });\n  };\n  const setDataItem = (item) => {\n    const items = [...state.items];\n    let itemHasNew = true;\n\n    if (!item.cant) {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"La cantidad de productos (ingreso), es un valor requerido\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      return;\n    }\n\n    if (!item.price) {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"Es necesario establecer un precio mayor a cero\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      return;\n    }\n\n    if (!item.branch_id) {\n      window.Swal.fire({\n        title: \"Almacen\",\n        text: \"Por favor seleccione una sucursal\",\n        icon: \"warning\",\n        timer: 2500,\n      });\n      return;\n    }\n\n    items.forEach((i) => {\n      if (i.id === item.id && i.branch_id === item.branch_id) {\n        i.cant = item.cant;\n        i.price = item.price;\n        i.branch_id = item.branch_id;\n      }\n\n      if (typeof i.id === \"string\") {\n        itemHasNew = false;\n      }\n    });\n\n    if (itemHasNew) {\n      items.push(getNewItem());\n    }\n\n    setState({\n      items,\n    });\n  };\n  const setBranch = (id, c_branch, n_branch) => {\n    const items = [...state.items];\n\n    items.forEach((i) => {\n      if (i.id === id && i.branch_id === c_branch) {\n        i.branch_id = n_branch;\n      }\n    });\n\n    setState({\n      items,\n    });\n  };\n  const deleteItem = (item) => {\n    const items = [...state.items];\n    const newItems = items.filter((i) => {\n      if (i.id === item.id && i.branch_id === item.branch_id) {\n        return false;\n      }\n\n      return true;\n    });\n\n    setState({\n      items: newItems,\n    });\n  };\n  const saveItems = () => {\n    const items = state.items.filter((i) => typeof i.id === \"number\");\n    const newItems = [];\n\n    for (let i = 0; i < items.length; i++) {\n      delete items[i].branch_default;\n      delete items[i].branches;\n      delete items[i].branches_used;\n      delete items[i].name;\n      delete items[i].code;\n    }\n    // MFPLAR-000075\n    store\n      .saveItemByList(items)\n      .then((res) => {        \n        window.Swal.fire({\n          title: \"Almacen\",\n          text: \"Productos almacenados con exito\",\n          icon: \"success\",\n          timer: 2500,\n        });\n        newItems.push(getNewItem());\n        setState({\n          ...state,\n          items: newItems,\n        });\n      })\n      .catch((err) =>\n        console.error(\"Error when save items:\", err.message)\n      );\n  };\n\n  useEffect(() => {\n  }, [state.items]);\n\n  return (\n    <div className=\"row\" style={{height:'100vh'}}>\n      <div className=\"col-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-header\">\n            <h5 className=\"card-title mt-2 ml-2 text-bold\">\n              Entradas de productos por lote\n            </h5>\n            <div className=\"card-tools\">\n              <button\n                className=\"btn btn-sm btn-primary\"\n                title=\"Agregar una linea nueva\"\n                alt=\"Agregar una linea nueva\"\n                onClick={() => {\n                  const items = [...state.items];\n                  items.push(getNewItem());\n\n                  setState({\n                    items,\n                  });\n                }}\n              >\n                <i className=\"fas fa-plus\" />\n              </button>\n            </div>\n          </div>\n\n          <div className=\"card-body\">\n            {state.items.map((item, i) => (\n              <FormEntries\n                key={`${item.id}${Date.now()}${i}`}\n                data={item}\n                eraseItem={deleteItem}\n                setItemNew={setNewItem}\n                setData={setDataItem}\n                setBranch={setBranch}\n              />\n            ))}\n          </div>\n          <div className=\"card-footer text-right\">\n            <button className=\"btn btn-primary\" onClick={saveItems}>\n              Enviar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction getNewItem() {\n  return {\n    id: `${Date.now()}`,\n    code: \"\",\n    name: \"\",\n    branch_id: 0,\n    cant: 0,\n    price: 0,\n    branches: [],\n    branches_used: [],\n    branch_default: null,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { StoreContext } from \"../context/StoreContext\";\n\n//Compinentes\nimport ToolBar from \"../components/Store/ToolBar\";\nimport Inbox from \"../components/Store/Inbox\";\nimport Add from \"../components/Store/Add\";\nimport Categories from \"./StoreCategories\";\nimport Brands from \"./StoreBrand\";\nimport Inventory from \"./StoreInventory\";\nimport Entries from \"./StoreEntries\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  search: \"\",\n  itemsPage: 25,\n  supplier: \"\",\n  brand: \"\",\n  zero: \"false\",\n};\n\nexport default function Store(props) {\n  \n  const [state, setState] = useState({\n    panel: \"\",\n    options: optionsDefault,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    let panel = \"inbox\";\n\n    if (id) {\n      if (!isNaN(id)) {\n        panel = \"neworedit\";\n      } else {\n        switch (id?.toLowerCase()) {\n          case \"categorias\":\n            panel = \"category\";\n            break;\n          case \"marcas\":\n            panel = \"brands\";\n            break;\n          case \"inventario\":\n            panel = \"inventory\";\n            break;\n          case \"entradas\":\n            panel = \"entries\";\n            break;\n          default:\n            panel = \"inbox\";\n        }\n      }\n    }\n\n    setState({\n      ...state,\n      panel,\n    });\n\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <StoreContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <div className=\"col-sm-12 col-md-2\">\n          <button\n            className=\"btn bg-primary btn-block mb-3\"\n            type=\"button\"\n            disabled={state.panel !== \"inbox\"}\n            onClick={() => setState({ ...state, panel: \"neworedit\" })}\n          >\n            <i className=\"fas fa-plus mr-1\"></i>\n            Nuevo producto\n          </button>\n          <ToolBar />\n        </div>\n        <div className=\"col-sm-12 col-md-10\">\n          {state.panel === \"inbox\" && <Inbox />}\n          {state.panel === \"neworedit\" && <Add {...props} />}\n          {state.panel === \"category\" && <Categories></Categories>}\n          {state.panel === \"brands\" && <Brands></Brands>}\n          {state.panel === \"inventory\" && <Inventory></Inventory>}\n          {state.panel === \"entries\" && <Entries></Entries>}\n        </div>\n      </div>\n    </StoreContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const ContactContext = createContext(null);\nexport const Contacts = () => useContext(ContactContext);\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useHistory } from \"react-router-dom\";\n\nimport SideBar from \"../../pages/partials/SideBar\";\nimport { Contacts } from \"../../context/ContactContext\";\n\nexport default function ToolBarContact({\n  newOrEdit = false,\n  handleNewOrEdit: _handleNewOrEdit,\n}) {\n  const context = Contacts();\n  const history = useHistory();\n\n  return (\n    <div className=\"col-sm-12 col-md-2\">\n      <button\n        className=\"btn bg-indigo btn-block mb-3\"\n        type=\"button\"\n        disabled={newOrEdit}\n        onClick={() => _handleNewOrEdit()}\n      >\n        <i className=\"fas fa-plus mr-1\"></i>\n        Nuevo contacto\n      </button>\n      <SideBar title={newOrEdit ? \"Menu\" : \"Filtros\"}>\n        {!newOrEdit ? (\n          <>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"type\">Tipo</label>\n              <select\n                className=\"form-control \"\n                name=\"type\"\n                id=\"type\"\n                value={context.options?.type}\n                onChange={({ target }) => {\n                  const value = parseInt(target.value);\n                  \n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      type: !isNaN(value) ? value : \"\",\n                    },\n                  });\n                }}\n              >\n                <option value=\"\">-- Todos --</option>\n                <option value=\"0\">Clientes</option>\n                <option value=\"1\">Proveedores</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"orderby\">Ordenar por</label>\n              <select\n                className=\"form-control \"\n                name=\"orderby\"\n                id=\"orderby\"\n                value={context.options?.orderby}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      orderby: target.value,\n                    },\n                  });\n                }}\n              >\n                <option value=\"created_at\">Fecha de registro</option>\n                <option value=\"updated_at\">Fecha de modificacion</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"order\">Mostrar por</label>\n              <select\n                className=\"form-control \"\n                name=\"order\"\n                id=\"order\"\n                value={context.options?.order}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      order: target.value,\n                    },\n                  });\n                }}\n              >\n                <option value=\"asc\">Antiguos</option>\n                <option value=\"desc\">Recientes</option>\n              </select>\n            </li>\n            <li className=\"nav-item p-2\">\n              <label htmlFor=\"itemsPage\">Numero de contactos</label>\n              <select\n                className=\"form-control \"\n                name=\"itemsPage\"\n                id=\"itemsPage\"\n                value={context.options?.itemsPage}\n                onChange={({ target }) => {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      itemsPage: parseInt(target.value),\n                    },\n                  });\n                }}\n              >\n                <option value=\"25\">ver 25</option>\n                <option value=\"50\">ver 50</option>\n                <option value=\"75\">ver 75</option>\n                <option value=\"100\">ver 100</option>\n              </select>\n            </li>\n          </>\n        ) : (\n          <>\n            <li className=\"list-group-item\">\n              <a\n                href=\"#back\"\n                className=\"d-flex justify-content-between align-items-center\"\n                onClick={(e) => {\n                  e.preventDefault();                  \n                  history.push(\"/contactos\");\n                }}\n              >\n                Ver listado\n                <span className=\"badge badge-primary badge-pill\">\n                  <i className=\"fas fa-chevron-left\"></i>\n                </span>\n              </a>\n            </li>\n            {context.contact?.id ? (\n              <li className=\"list-group-item\">\n                <a\n                  href=\"#details\"\n                  className=\"d-flex justify-content-between align-items-center\"\n                >\n                  Detalles\n                  <span className=\"badge badge-primary badge-pill\">\n                    <i className=\"fas fa-chevron-right\"></i>\n                  </span>\n                </a>\n              </li>\n            ) : null}\n          </>\n        )}\n      </SideBar>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n//Components\nimport Inbox from \"../../layouts/list_inbox\";\nimport useContact from \"../../hooks/useContact\";\n\n//Context\nimport { Contacts } from \"../../context/ContactContext\";\n\nexport default function InboxContact() {\n  const context = Contacts();\n  const _contacts = useContact();\n  const history = useHistory();\n  const [state, setState] = useState({\n    contactSelected: \"\",\n    contacts: [],\n    meta: {},\n    loading: false,\n  });\n\n  // Functions\n  const handleLoadContacts = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n\n    _contacts\n      .getContacts({\n        ...context.options,\n      })\n      .then((res) => {\n        setState({\n          ...state,\n          loading: false,\n          contacts: res.data,\n          meta: res.meta,\n          contactSelected: \"\",\n        });\n      });\n  };\n\n  useEffect(() => {\n    if (Object.keys(context.options).length) {\n      handleLoadContacts();\n    }\n  }, [context.options]);\n\n  return (\n    <Inbox\n      title=\"Lista de contactos\"\n      icon=\"id-badge\"\n      color=\"indigo\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.contactSelected}\n      handlePagination={(page) => {\n        if (page) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              page,\n            },\n          });\n        }\n      }}\n      handleSearch={(search) => {\n        if (search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search,\n              page: 1,\n            },\n          });\n        } else if (context.options.search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search: \"\",\n              page: 1,\n            },\n          });\n        }\n      }}\n      handleDeleteItem={(select) => {\n        if (state.contactSelected) {\n          window.Swal.fire({\n            title: \"Contactos\",\n            text: \"¿Desea eliminar a este contacto?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Eliminar\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              _contacts\n                .deleteContact(state.contactSelected)\n                .then(() => {\n                  handleLoadContacts();\n                })\n                .catch((err) => {\n                  console.error(\n                    \"[Orus System] Catch when delete contact:\",\n                    err.message\n                  );\n                });\n            } else {\n              setState({\n                ...state,\n                contactSelected: \"\",\n              });\n            }\n          });\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un contacto seleccionado\",\n            icon: \"error\",\n            timer: 3000,\n          });\n        }\n      }}\n      handleEditItem={() => {\n        if (state.contactSelected) {\n          history.push(`contactos/${state.contactSelected}`);\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un contacto seleccionado\",\n            icon: \"error\",\n            timer:3000\n          });\n        }\n      }}\n      handleSync={() => {\n        context.set({\n          ...context,\n          options: {\n            ...context.options,\n            page: 1,\n          },\n        });\n      }}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Edad</th>\n            <th>E-mail</th>\n            <th>Telefono</th>\n            <th>Creado por</th>\n            <th>\n              {context.options.orderby === \"created_at\"\n                ? \"Registrado\"\n                : \"Actualizado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.contacts?.map((contact) => {\n            const phones = Object.values(contact.phones).filter((p) => p);\n\n            return (\n              <tr key={contact.id}>\n                <td className=\"icheck-primary pl-2\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"form-check-input mt-4\"\n                    value={contact.id}\n                    id={\"contact_\" + contact.id}\n                    //disabled={contact.enUso}\n                    checked={\n                      state.contactSelected === contact.id ? true : false\n                    }\n                    onChange={({ target }) => {\n                      const { value, checked } = target;\n                      setState({\n                        ...state,\n                        contactSelected: checked ? parseInt(value) : \"\",\n                      });\n                    }}\n                  />\n                  <label\n                    htmlFor={\"contact_\" + contact.id}\n                    className=\"sr-only\"\n                  ></label>\n                </td>\n                <td\n                  className=\"mailbox-name text-capitalize text-truncate\"\n                  style={{ cursor: \"pointer\", maxWidth: 180 }}\n                  onClick={() => {\n                    history.push(`contactos/${contact.id}`);\n                  }}\n                >\n                  <label\n                    style={{ cursor: \"pointer\" }}\n                    className={contact.enUso ? \"text-indigo\" : \"\"}\n                  >\n                    {contact.type ? (\n                      <i className=\"fas fa-store text-sm mr-2\"></i>\n                    ) : (\n                      <i className=\"fas fa-user text-sm mr-2\"></i>\n                    )}\n                    {contact.name.toLowerCase()}\n                  </label>\n                </td>\n                <th>{contact.age ? contact.age : \"--\"}</th>\n                <td\n                  className=\"mailbox-attachment text-lowercase text-truncate\"\n                  style={{ maxWidth: 180 }}\n                >\n                  <span>\n                    <i className=\"fas fa-envelope text-sm mr-2\"></i>\n                    <a href={\"mailto:\" + contact.email} className=\"text-muted\">\n                      {contact.email?.toLowerCase()}\n                    </a>\n                  </span>\n                </td>\n                <td className=\"mailbox-date text-muted text-truncate text-right\">\n                  <span>\n                    <i className=\"fas fa-phone text-sm mr-2\"></i>\n                    {phones.length ? phones[0] : \"--\"}\n                  </span>\n                </td>\n                <td className=\"text-capitalize\">\n                  {contact.created.name.toLowerCase()}\n                </td>\n                <td>\n                  {moment(\n                    context.options.orderby === \"created_at\"\n                      ? contact.created_at\n                      : contact.updated_at\n                  ).fromNow()}\n                </td>\n              </tr>\n            );\n          })}\n\n          {!state.contacts?.length && (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"7\">\n                <i className=\"fa fa-info mx-2\"></i>\n                {context.options.search ? (\n                  <span>\n                    La busqueda\n                    <strong className=\"text-dark mx-1\">\n                      \"{context.options.search}\",\n                    </strong>\n                    no coincide con ning&uacute;n contacto.\n                  </span>\n                ) : (\n                  \"No hay contactos registrados\"\n                )}\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Inbox>\n  );\n}\n","/* eslint-disable no-useless-escape */\nconst patternEmail =\n  /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})$/i;\n\nconst handleVerificationData = (data, showMsg = true) => {\n  const { name, email, birthday, phone, type } = data,\n    patternName =\n      /^[A-ZÁÉÍÓÚñáéíóúÑ]+\\s[A-ZÁÉÍÓÚñáéíóúÑ]{2,}(\\s?[A-ZÁÉÍÓÚñáéíóúÑ]+){1,}/gim,\n    patternPhone = /^\\d{10}$/gim;\n\n  if (!type && !patternName.test(name)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El nombre del contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n    return {\n      result: false,\n      name: \"name\",\n    };\n  }\n  if (!patternEmail.test(email)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El correo electrónico del contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"email\",\n    };\n  }\n\n  let telefonoVerify = patternPhone.test(phone);\n\n  if (!type && !telefonoVerify) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El numero de contacto es erroneo\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"telnumbers\",\n    };\n  }\n\n  const date = new Date(birthday),\n    today = new Date(),\n    anos = today.getFullYear() - date.getFullYear();\n\n  if (!type && (!birthday || anos < 1)) {\n    if (showMsg) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"La fecha de nacimiento es erronea\",\n        icon: \"warning\",\n      });\n    }\n\n    return {\n      result: false,\n      name: \"bithday\",\n    };\n  }\n\n  return {\n    result: true,\n  };\n};\n\nconst saveContact = (title = \"contacto\", data, _save, id = null) => {\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `¿Esta seguro de actualizar al ${title}?`\n      : `¿Esta seguro de crear un nuevo ${title}?`,\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        id,\n        data,\n      });\n    }\n  });\n};\n\nconst changeDataInput = (input, data, _setData) => {\n  const { name, value } = input;\n  let val = value;\n\n  if (name === \"telnumbers\") {\n    val = {\n      ...data.telnumbers,\n      t_movil: value,\n    };\n  }\n\n  _setData({\n    ...data,\n    [name]: val,\n  });\n};\n\nconst dataPrimary = {\n  name: \"\",\n  telnumbers: { t_casa: \"\", t_oficina: \"\", t_movil: \"\" },\n  email: \"\",\n  birthday: \"\",\n  type: 0,\n  business: 0,\n  gender: \"female\",\n};\n\nconst handleGetDataObject = (key, value, verification) => {\n  switch (key) {\n    case \"name\":\n      return {\n        name: value,\n        verification: {\n          ...verification,\n          name: true,\n        },\n      };\n    case \"email\":\n      return {\n        email: value,\n        verification: {\n          ...verification,\n          email: true,\n        },\n      };\n    case \"birthday\":\n      return {\n        birthday: value,\n        verification: {\n          ...verification,\n          birthday: true,\n        },\n      };\n    case \"telefonos\":\n      return {\n        telefonos: value,\n        verification: {\n          ...verification,\n          telefonos: true,\n        },\n      };\n    default:\n      return {\n        [key]: value,\n      };\n  }\n};\n\nfunction isEmail(email) {\n  return email ? patternEmail.test(email) : false;\n}\n\nconst toExport = {\n  handleVerificationData,\n  saveContact,\n  changeDataInput,\n  handleGetDataObject,\n  dataPrimary,\n  isEmail,\n};\n\nexport default toExport;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport { useEffect, useState } from \"react\";\n\nimport helper from \"../helper\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function Personal({ data = {}, handleChange, fn }) {\n  const [state, setState] = useState({\n    emailVerification: null,\n    emailColor: \"dark\",\n    nameVerification: null,\n    nameColor: \"dark\",\n    birthdayVerification: false,\n    birthdayColor: \"dark\",\n    contatcs: [],\n  });\n\n  const handleValidContact = (type, value) => {\n    if (!type || !value) return;\n\n    if (type === \"email\" && helper.isEmail(value)) {\n      fn.getContacts({\n        page: 1,\n        orderby: \"created_at\",\n        order: \"desc\",\n        itemsPage: 10,\n        email: value,\n        except: data.id,\n      }).then((res) => {\n        setState({\n          ...state,\n          emailVerification: Boolean(res.data?.length),\n          emailColor: !res.data?.length ? \"dark\" : \"danger\",\n        });\n        handleChange(\"validates\", {\n          ...data.validates,\n          email: !Boolean(res.data?.length),\n        });\n      });\n    }\n\n    if (type === \"name\") {\n      fn.getContacts({\n        page: 1,\n        orderby: \"created_at\",\n        order: \"desc\",\n        itemsPage: 10,\n        name: value,\n        except: data.id,\n      }).then((res) => {\n        setState({\n          ...state,\n          contacts: res.data?.length ? res.data : [],\n          nameVerification: Boolean(res.data?.length),\n          nameColor: !res.data?.length ? \"dark\" : \"danger\",\n        });\n        handleChange(\"validates\", {\n          ...data.validates,\n          name: !Boolean(res.data?.length),\n        });\n      });\n    }\n  };\n\n  useEffect(() => {\n    const check = {\n      birthday: Boolean(moment().diff(data.birthday, \"days\") > 0),\n      test: moment().diff(data.birthday, \"days\"),\n    };\n\n    if (check.birthday !== state.birthdayVerification) {\n      setState({\n        ...state,\n        birthdayVerification: check.birthday,\n        birthdayColor: check.birthday ? \"dark\" : \"danger\",\n      });\n      handleChange(\"validates\", {\n        ...data.validates,\n        birthday: check.birthday,\n      });\n    }\n  }, [data.name, data.email, data.birthday]);\n\n  return (\n    <>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Tipo de contacto</label>\n          <select\n            className=\"custom-select\"\n            name=\"type\"\n            value={data.type ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"type\", parseInt(target.value))\n            }\n          >\n            <option value=\"0\">Cliente</option>\n            <option value=\"1\">Proveedor</option>\n          </select>\n        </div>\n        {data.type ? (\n          <div className=\"form-group custom-control custom-checkbox\">\n            <input\n              type=\"checkbox\"\n              name=\"business\"\n              className=\"custom-control-input\"\n              checked={data.business ?? false}\n              onChange={({ target }) =>\n                handleChange(\"business\", target.checked)\n              }\n              id=\"business_checkbox\"\n            />\n            <label\n              htmlFor=\"business_checkbox\"\n              className=\"custom-control-label cursor-pointer\"\n            >\n              <small>¿Es un laboratorio?</small>\n            </label>\n          </div>\n        ) : null}\n        <div className=\"form-group\">\n          <label>RFC</label>\n          <input\n            type=\"text\"\n            className=\"form-control text-uppercase text-truncate\"\n            placeholder=\"facturas\"\n            name=\"rfc\"\n            defaultValue={data.rfc ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"rfc\", target.value.toUpperCase())\n            }\n            minLength=\"10\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Género</label>\n          <select\n            className=\"custom-select\"\n            name=\"gender\"\n            value={data.gender ?? \"\"}\n            onChange={({ target }) => handleChange(\"gender\", target.value)}\n          >\n            <option value=\"male\">Hombre</option>\n            <option value=\"female\">Mujer</option>\n          </select>\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group position-relative\">\n          <label>\n            Nombre completo <span className=\"text-orange\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            className={`form-control text-capitalize text-truncate text-${state.nameColor}`}\n            placeholder=\"Ej: Juan Perez G\"\n            name=\"name\"\n            defaultValue={data.name ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"name\", target.value.toLowerCase())\n            }\n            onBlur={({ target }) =>\n              handleValidContact(\"name\", target.value.toLowerCase())\n            }\n            onKeyDown={({ key }) => {\n              if (key === \"Escape\") {\n                setState({\n                  ...state,\n                  contacts: [],\n                });\n              }\n            }}\n          />\n          {!data.name && (\n            <small>\n              <span className=\"text-orange\">Este campo es requerido</span>\n            </small>\n          )}\n\n          {state.contacts?.length && data.name?.length > 5 && !data.id\n            ? showContacts(state.contacts)\n            : null}\n        </div>\n\n        <div className=\"form-group\">\n          <label>\n            Correo electr&oacute;nico <span className=\"text-orange\">*</span>\n          </label>\n          <input\n            type=\"email\"\n            className={`form-control text-lowercase text-truncate text-${state.emailColor}`}\n            placeholder=\"Ej: correo@domain.com\"\n            name=\"email\"\n            defaultValue={data.email ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"email\", target.value.toLowerCase())\n            }\n            onBlur={({ target }) => handleValidContact(\"email\", target.value)}\n          />\n          {!data.email && (\n            <small>\n              <span className=\"text-orange\">Este campo es requerido</span>\n            </small>\n          )}\n\n          {data.email && !helper.isEmail(data.email) && (\n            <small>\n              <span className=\"text-orange\">Este no es un correo valido</span>\n            </small>\n          )}\n\n          {state.emailVerification &&\n            typeof state.emailVerification === \"boolean\" && (\n              <small>\n                <span className=\"text-orange\">\n                  Este e-mail ya se encuentra registrado\n                </span>\n              </small>\n            )}\n        </div>\n\n        {!data.type ? (\n          <div className=\"form-group\">\n            <label>\n              Fecha de nacimiento <span className=\"text-orange\">*</span>\n            </label>\n            <DatePicker\n              className={`form-control text-${state.birthdayColor}`}\n              locale=\"es\"\n              selected={new Date(data.birthday.format(\"YYYY/MM/DD\"))}\n              dateFormat=\"dd/MM/yyyy\"\n              maxDate={new Date()}\n              placeholderText=\"Seleccione una fecha\"\n              onSelect={(date) => {\n                if (date) {\n                  date = date.toLocaleDateString(\"es-MX\");\n                  const birthday = moment(date, \"DD/MM/YYYY\");\n\n                  if (birthday.isValid()) {\n                    handleChange(\"birthday\", birthday);\n                  }\n                }\n              }}\n              onChange={(date) => {\n                if (date) {\n                  date = date.toLocaleDateString(\"es-MX\");\n                  const birthday = moment(date, \"DD/MM/YYYY\");\n\n                  if (birthday.isValid()) {\n                    handleChange(\"birthday\", birthday);\n                  }\n                }\n              }}\n            />\n            {!state.birthdayVerification && (\n              <small>\n                <span className=\"text-orange\">Este campo es requerido</span>\n              </small>\n            )}\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n}\n\nfunction showContacts(contacts) {\n  return (\n    <div\n      className=\"position-absolute border rounded p-0 bg-white overflow-auto \"\n      style={{\n        zIndex: \"50\",\n        top: \"4.1rem\",\n        width: \"100%\",\n        maxHeight: \"8rem\",\n      }}\n    >\n      <ul className=\"list-group\">\n        {contacts.map((contact) => {\n          return (\n            <li className=\"list-group-item text-truncate\" key={contact.id}>\n              <i className=\"fas fa-minus mr-1 text-danger\"></i>\n              <span className=\"text-capitalize text-muted text-monospace text-sm\">\n                {contact.name?.toLowerCase()}\n              </span>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n","export default function Address({ data, handleChange }) {  \n  return (\n    <>\n      <div className=\"col\">\n        {data.address_street ? (\n          <small>\n            <label>Calle y numero</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-road\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Calle y numero\"\n            value={data.address_street ?? \"\"}\n            onChange={({ target }) =>{\n              console.log(\"FUNCTION COMPONENT\", target.value);\n              handleChange(\"address_street\", target.value.toLowerCase());\n            }}\n          />\n        </div>\n        {data.address_neighborhood ? (\n          <small>\n            <label>Colonia</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-location-arrow\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Colonia\"\n            defaultValue={data.address_neighborhood ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_neighborhood\", target.value.toLowerCase())\n            }\n          />\n        </div>\n        {data.address_location ? (\n          <small>\n            <label>Municipio</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-location-arrow\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Municipio\"\n            defaultValue={data.address_location ? data.address_location : \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_location\", target.value.toLowerCase())\n            }\n          />\n        </div>\n      </div>\n      <div className=\"col\">\n        {data.address_state ? (\n          <small>\n            <label>Estado</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-map-marker\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control text-capitalize\"\n            placeholder=\"Estado\"\n            defaultValue={data.address_state ? data.address_state : \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_state\", target.value.toLowerCase())\n            }\n          />\n        </div>\n        {data.address_zip ? (\n          <small>\n            <label>Codigo postal</label>\n          </small>\n        ) : (\n          <br />\n        )}\n        <div className=\"input-group mb-1\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">\n              <i className=\"fas fa-map-marker\"></i>\n            </span>\n          </div>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Codigo Postal\"\n            defaultValue={data.address_zip ?? \"\"}\n            onChange={({ target }) =>\n              handleChange(\"address_zip\", target.value.toLowerCase())\n            }\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from \"react\";\n\nexport default function Phones({ data, handleChange }) {\n  useEffect(() => {\n    const check = Boolean(\n      [data.phone_notices, data.phone_cell, data.phone_office].filter(\n        (phone) => phone.length === 10\n      ).length\n    );\n\n    if (check !== data.validates?.phones) {\n      handleChange(\"validates\", {\n        ...data.validates,\n        phones: check,\n      });\n    }\n  }, [data.phone_notices, data.phone_cell, data.phone_office]);\n\n  return (\n    <>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono para recados</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_notices}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_notices\", target.value);\n                }\n              }}\n            />\n          </div>\n          {data.phone_notices && data.phone_notices.length !== 10 && (\n            <small>\n              <span className=\"text-orange\">Telefono a 10 numeros</span>\n            </small>\n          )}\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono personal / whatsApp</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_cell}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_cell\", target.value);\n                }\n              }}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"form-group\">\n          <label>Telefono del trabajo</label>\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                <i className=\"fas fa-phone\"></i>\n              </span>\n            </div>\n            <input\n              type=\"tel\"\n              className=\"form-control\"\n              placeholder=\"(999) 999 9999\"\n              maxLength=\"10\"\n              value={data.phone_office}\n              onChange={({ target }) => {\n                if (!isNaN(target.value)) {\n                  handleChange(\"phone_office\", target.value);\n                }\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport moment from \"moment\";\n\nconst ListOfSalesComponent = (props) => {\n  const { sales } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Total</th>\n          <th>Orden</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {sales.map((sale) => {\n          return (\n            <tr key={sale.id}>\n              <th>#{sale.id}</th>\n              <td>$ {sale.total.toFixed(2)}</td>\n              <td>#{sale.pedido}</td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(sale.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfSalesComponent;\n","import moment from \"moment\";\n\nexport default function Dashboard({ analytics, metadata }) {\n  const { purchases, exams, brands, orders, suppliers } = analytics;\n  const { created_at, created, updated, updated_at } = metadata;\n\n  return (\n    <div className=\"row\">\n      {brands ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-orange\">\n            <div className=\"inner\">\n              <h5>{brands}</h5>\n\n              <p>Marcas</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-shopping-bag\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {suppliers ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-indigo\">\n            <div className=\"inner\">\n              <h5>{suppliers}</h5>\n\n              <p>Laboratorio</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-building\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {purchases ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-success\">\n            <div className=\"inner\">\n              <h5>{purchases}</h5>\n\n              <p>Compras</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-money-bill\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {exams ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-info\">\n            <div className=\"inner\">\n              <h5>{exams}</h5>\n\n              <p>Examenes</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-notes-medical\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {orders ? (\n        <div className=\"col\">\n          <div className=\"small-box bg-warning\">\n            <div className=\"inner\">\n              <h5>{orders}</h5>\n\n              <p>Pedidos</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-shopping-basket\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              Mas <i className=\"fas fa-arrow-circle-right\"></i>\n            </a>\n          </div>\n        </div>\n      ) : null}\n\n      {created_at && (\n        <div className=\"col\">\n          <div className=\"small-box bg-primary\">\n            <div className=\"inner\">\n              <h5>\n                {moment().diff(created_at, \"days\") >= 0\n                  ? created_at.format(\"DD/MMMM/Y\")\n                  : \"--/--/--\"}\n              </h5>\n\n              <p>Registrado</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-calendar\"></i>\n            </div>\n            <a href=\"#details\" className=\"small-box-footer text-xs\">\n              {moment().diff(updated_at, \"days\") >= 0\n                ? `Modificado: ${updated_at.format(\"DD/MMMM/Y\")}`\n                : \"Modificado --/--/--\"}\n            </a>\n          </div>\n        </div>\n      )}\n\n      {created && (\n        <div className=\"col\">\n          <div className=\"small-box bg-primary\">\n            <div className=\"inner text-capitalize\">\n              <h5 className=\"text-truncate\">{created}</h5>\n\n              <p>Registrado por</p>\n            </div>\n            <div className=\"icon\">\n              <i className=\"fas fa-user\"></i>\n            </div>\n            <a\n              href=\"#details\"\n              className=\"small-box-footer text-xs text-truncate text-capitalize\"\n            >\n              Modificado: {updated}\n            </a>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport moment from \"moment\";\n\nconst ListOfBrandsComponent = (props) => {\n  const { brands } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>Nombre</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {brands.map((brand) => {\n          return (\n            <tr key={brand.id}>\n              <td className=\"text-uppercase\">{brand.name}</td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(brand.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfBrandsComponent;\n","const handleStatusString = (status) => {\n  switch (status) {\n    case 0:\n      return \"procesando\";\n    case 1:\n      return \"laboratorio\";\n    case 2:\n      return \"bicelacion\";\n    case 3:\n      return \"terminado\";\n    case 4:\n      return \"entregado\";\n    default:\n      return \"garantia\";\n  }\n};\nconst getBadgeStatus = (status) => {\n  switch (status) {\n    case 0:\n      return (\n        <span className=\"badge badge-light mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    case 1:\n    case 2:\n      return (\n        <span className=\"badge badge-primary mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    case 3:\n      return (\n        <span className=\"badge badge-info mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    case 4:\n      return (\n        <span className=\"badge badge-secondary mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n    default:\n      return (\n        <span className=\"badge badge-dark mr-2 text-uppercase\">\n          {handleStatusString(status)}\n        </span>\n      );\n  }\n};\n\nconst getStatusType = [\n  \"procesando\",\n  \"laboratorio\",\n  \"bicelacion\",\n  \"terminado\",\n  \"entregado\",\n];\n\nconst handleDeleteOrder = (order, options, _delete) => {\n  if (order.id) {\n    if (order.estado) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"El pedido tiene un proceso avanzado\",\n        icon: \"warning\",\n      });\n      return false;\n    }\n    if (order.nota) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"No se puede eliminar un pedido con una venta activa\",\n        icon: \"warning\",\n      });\n      return false;\n    }\n\n    window.Swal.fire({\n      text: `¿Esta seguro de eliminar el pedido ${order.id}?`,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss && _delete) {\n        _delete({\n          id: order.id,\n          options,\n        });\n        console.log(\"[Orus System] Eliminando pedido: \" + order.id);\n        return true;\n      }\n    });\n    return false;\n  }\n};\n\nconst handleSaveOrder = (id, data, options, _save, _erase) => {\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `¿Esta seguro de actualizar el pedido ${id}?`\n      : \"¿Esta seguro de crear un nuevo pedido?\",\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        data,\n        id,\n        options,\n      });\n      if (_erase) _erase();\n      removeDataTemporary(data.contact_id);\n    }\n  });\n};\n\nconst getDataTemporary = (field) => {\n    const data = JSON.parse(localStorage.getItem(\"OrusSystem\") ?? \"\");\n\n    if (!data.orders) {\n      data.orders = [];\n    }\n\n    return field ? data.orders : data;\n  },\n  addDataTemporary = (data) => {\n    const local = getDataTemporary();\n    let localToSave = {\n      ...local,\n      orders: local.orders.filter((item) => item.id !== data.id),\n    };\n\n    localToSave.orders.push(data);\n    // localStorage.setItem(\"OrusSystem\", JSON.stringify(localToSave));\n  },\n  removeDataTemporary = (id, fn) => {\n    // const local = getDataTemporary(),\n    //   data = {\n    //     ...local,\n    //     orders: local.orders.filter((item) => item.id !== id),\n    //   };\n    // localStorage.setItem(\"OrusSystem\", JSON.stringify(data));\n    if (fn) fn();\n  },\n  getDataOneItem = (id) => {\n    const local = getDataTemporary(),\n      data = local.orders.filter((item) => item.id === id);\n    if (data) {\n    }\n    return data[0] ?? {};\n  };\n\nconst toExport = {\n  handleStatusString,\n  getBadgeStatus,\n  handleDeleteOrder,\n  handleSaveOrder,\n  getDataTemporary,\n  addDataTemporary,\n  removeDataTemporary,\n  getDataOneItem,\n  getStatusType,\n};\n\nexport default toExport;\n","import React from \"react\";\nimport moment from \"moment\";\nimport helper from \"../helpers\";\n\nconst ListOfOrdersComponent = (props) => {\n  const { orders } = props;\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Folio LAB</th>\n          <th>Nota</th>\n          <th>Estado</th>\n          <th>Registrado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {orders.map((order) => {\n          return (\n            <tr key={order.id}>\n              <th>#{order.id}</th>\n              <td>{order.order_foreing ? `#${order.order_foreing}` : \"--\"}</td>\n              <td>{order.nota ? `#${order.nota}` : \"--\"}</td>\n              <td className=\"text-uppercase\">\n                <span className=\"badge badge-secondary\">\n                  {helper.handleStatusString(order.status)}\n                </span>\n              </td>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(order.created_at).fromNow()}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ListOfOrdersComponent;\n","import { useState } from \"react\";\nimport moment from \"moment\";\n\nexport default function List(props) {\n  const {\n    exams = [],\n    allSelect = false,\n    handleSelectedExam: _handleSelectedExam,\n  } = props;\n\n  const [select, setSelect] = useState(\"\");\n\n  return (\n    <table className=\"table m-0\">\n      <thead>\n        <tr>\n          <th scope=\"col\"></th>\n          <th scope=\"col\">Folio</th>\n          <th scope=\"col\">Registrado</th>\n          <th scope=\"col\">Estado</th>\n        </tr>\n      </thead>\n      <tbody>\n        {!exams.length ? (\n          <tr>\n            <th colSpan=\"4\" className=\"text-center\">\n              <i className=\"fas fa-info-circle mr-1\"></i>\n              No hay registros\n            </th>\n          </tr>\n        ) : null}\n        {exams.map((row) => {\n          return (\n            <tr\n              key={row.id}\n              className={\n                moment(new Date()).isSame(moment(row.created_at), \"day\")\n                  ? \"text-primary\"\n                  : \"\"\n              }\n            >\n              <td>\n                <div className=\"icheck-primary\">\n                  {_handleSelectedExam ? (\n                    <>\n                      <input\n                        type=\"checkbox\"\n                        name={\"exam_\" + row.id}\n                        id={\"exam_\" + row.id}\n                        defaultValue={row.id}\n                        onChange={({ target }) => {\n                          if (target.checked) {\n                            setSelect(row.id);\n                            _handleSelectedExam(row);\n                          } else {\n                            setSelect(\"\");\n                          }\n                        }}\n                        disabled={!allSelect}\n                        checked={select === row.id}\n                      />\n                      <label htmlFor={\"exam_\" + row.id}></label>\n                    </>\n                  ) : null}\n                </div>\n              </td>\n              <th scope=\"row\">\n                <span className=\"text\">#{row.id}</span>\n              </th>\n              <td className=\"text-truncate\">\n                <i className=\"fas fa-clock mr-2\"></i>\n                {moment(row.created_at).fromNow()}\n              </td>\n              <td>\n                {row.status ? (\n                  <span className=\"badge badge-success\">\n                    <i className=\"fas fa-check\"></i> Terminado\n                  </span>\n                ) : (\n                  <span className=\"badge badge-secondary\">\n                    <i className=\"fas fa-hourglass\"></i> Activo\n                  </span>\n                )}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n","import ListExam from \"../views/List\";\n\nexport default function List({ showBottons = false, exams = [] }) {\n  return (\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title text-indigo text-bold\">\n          <i className=\"fas fa-notes-medical mr-1\"></i>\n          Examenes\n        </h5>\n        {exams.length ? (\n          <ListExam\n            allSelect={true}\n            exams={exams}\n            handleSelectedExam={(examSelect) => {\n            }}\n          />\n        ) : (\n          <div className=\"alert alert-info mt-5\">\n            <h5>\n              <i className=\"fas fa-info-circle mr-1\"></i>\n              Aun no hay examenes para este contacto\n            </h5>\n          </div>\n        )}\n      </div>\n      {showBottons && (\n        <div className=\"card-footer text-right\">\n          <div className=\"btn-group\">\n            <button className=\"btn btn-secondary\">Nuevo</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","function ModalComponents({\n  title = \"confirmación\",\n  body,\n  handleCancel: _handleCancel,\n}) {\n  const handleClose = () => {\n    if (_handleCancel) _handleCancel();\n  };\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-dark text-bold text-capitalize\">\n              {title}\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">{body}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ModalComponents;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\n//Components\nimport Personal from \"./views/Personal\";\nimport Domicilio from \"./views/Address\";\nimport Telefono from \"./views/Phones\";\nimport ListSales from \"../Sales/views/listOfSales_delete\";\nimport Dashboard from \"./Dashboard\";\nimport ListBrands from \"../Store/views/listOfBrands\";\nimport ListOrders from \"../Order/views/listOfOrders\";\nimport CardExams from \"../Exam/cards/List\";\nimport Confirm from \"../../layouts/modal\";\nimport useContact from \"../../hooks/useContact\";\nimport helper from \"./helper\";\nimport Activitys from \"../Activitys\";\n\nconst initialState = {\n  id: 0,\n  name: \"\",\n  rfc: \"\",\n  gender: \"male\",\n  email: \"\",\n  type: 0,\n  business: 0,\n  birthday: moment(),\n  phone_notices: \"\",\n  phone_cell: \"\",\n  phone_office: \"\",\n  age: \"\",\n  address_street: \"\",\n  address_neighborhood: \"\",\n  address_location: \"\",\n  address_state: \"\",\n  address_zip: \"\",\n  done: {\n    purchases: [],\n    brands: [],\n    supplier_of: [],\n    orders: [],\n    exams: [],\n  },\n  analytics: {\n    purchases: 0,\n    exams: 0,\n    brands: 0,\n    suppliers: 0,\n    orders: 0,\n  },\n  metadata: {\n    created_at: \"\",\n    updated_at: \"\",\n    deleted_at: \"\",\n    created: \"\",\n    updated: \"--\",\n  },\n  validates: {\n    name: false,\n    email: false,\n    birthday: false,\n    phones: false,\n  },\n  activity: [],\n  loading: false,\n};\n\n/**\n * DEFAULT COMPONENT\n */\nexport default function AddContact(props) {\n  const { id } = props.match.params;\n  const { handleNewOrEdit: _handleNewOrEdit, showModal = false } = props;\n  const _contacts = useContact();\n  const [contact, setContact] = useState(initialState);\n  const {\n    done: { purchases, brands, supplier_of, orders, exams },\n    analytics,\n    metadata,\n  } = contact;\n  const history = useHistory();\n  let btn_enabled =\n    Object.values(contact.validates).filter((val) => val).length === 4;\n\n  // Functions\n  const handleChangeData = (key, value) => {\n    if (!key) return;\n\n    if (contact[key] === value) {\n      return;\n    }\n\n    setContact({\n      ...contact,\n      [key]: value,\n    });\n  };\n  const handleSaveContact = () => {\n    const data = {\n      id: contact.id,\n      name: contact.name,\n      rfc: contact.rfc,\n      gender: contact.gender,\n      email: contact.email,\n      type: contact.type,\n      business: contact.business,\n      birthday: contact.birthday.format(\"YYYY/MM/DD\"),\n      phones: {\n        notices: contact.phone_notices,\n        cell: contact.phone_cell,\n        office: contact.phone_office,\n      },\n      domicilio: {\n        street: contact.address_street,\n        neighborhood: contact.address_neighborhood,\n        location: contact.address_location,\n        state: contact.address_state,\n        zip: contact.address_zip,\n      },\n    };\n\n\n\n    if(contact.address_street.length){\n      if(!contact.address_neighborhood){        \n        window.Swal.fire({\n          title: \"Contactos\",\n          icon:'warning',\n          text: \"Completa el campo Colonia\",\n          showCancelButton: false,\n          confirmButtonText:\"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        })\n        return\n      }\n      if(!contact.address_location){        \n        window.Swal.fire({\n          title: \"Contactos\",\n          icon:'warning',\n          text: \"Completa el campo Municipio\",\n          showCancelButton: false,\n          confirmButtonText:\"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        })\n        return\n      }\n      if(!contact.address_state){        \n        window.Swal.fire({\n          title: \"Contactos\",\n          icon:'warning',\n          text: \"Completa el campo Estado\",\n          showCancelButton: false,\n          confirmButtonText:\"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        })\n        return\n      }\n      if(!contact.address_zip){ \n        window.Swal.fire({\n          title: \"Contactos\",\n          icon:'warning',\n          text: \"Completa el campo código postal\",\n          showCancelButton: false,\n          confirmButtonText:\"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        })\n        return\n      }\n      window.Swal.fire({\n        title: \"Contactos\",\n        text: data.id\n          ? \"¿Desea actualizar a este contacto?\"\n          : \"¿Desea crear un nuevo contacto?\",\n        icon: \"question\",\n        showCancelButton: true,\n        confirmButtonText: data.id ? \"Actualizar\" : \"Crear\",\n        cancelButtonText: \"Cancelar\",\n        showLoaderOnConfirm: true,\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          _contacts.saveContact(data).then((res) => {\n            if (res?.id) {\n              console.log(\"[Orus System] Create contatc successfully\", res.id);\n              _handleNewOrEdit();\n              history.push(\"/contactos\");\n            }\n          });\n        }\n      });\n      \n    }else{\n      window.Swal.fire({\n        title: \"Contactos\",\n        text: data.id\n          ? \"¿Desea actualizar a este contacto?\"\n          : \"¿Desea crear un nuevo contacto?\",\n        icon: \"question\",\n        showCancelButton: true,\n        confirmButtonText: data.id ? \"Actualizar\" : \"Crear\",\n        cancelButtonText: \"Cancelar\",\n        showLoaderOnConfirm: true,\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          delete data.domicilio;          \n          _contacts.saveContact(data).then((res) => {\n            if (res?.id) {\n              console.log(\"[Orus System] Create contatc successfully\", res.id);\n              _handleNewOrEdit();\n              history.push(\"/contactos\");\n            }\n          });      \n        }\n      });\n    }\n\n    \n  };\n\n  useEffect(() => {\n    if (id) {\n      _contacts.getContact(parseInt(id)).then((data) => {\n        processData(data, setContact);\n      });\n    }\n  }, [id]);\n\n  return (\n    <>\n      {contact.id ? (\n        <Dashboard analytics={analytics} metadata={metadata} />\n      ) : null}\n\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          {metadata.deleted_at ? (\n            <div className=\"alert alert-warning\">\n              <h4 className=\"alert-heading\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Precaucion!\n              </h4>\n              <p>\n                Este contacto fue eliminado por {contact.updated?.name} el{\" \"}\n                {moment(contact.deleted_at).format(\"LLLL\")}\n              </p>\n            </div>\n          ) : null}\n          <div className=\"card card-indigo card-outline\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title text-indigo\">\n                <i className=\"fas fa-address-book mr-1\"></i>\n                {contact.id ? (\n                  <label>\n                    Editar contacto\n                    <span className=\"badge bg-indigo ml-2\">{contact.id}</span>\n                  </label>\n                ) : (\n                  <label>Registrar nuevo contacto</label>\n                )}\n              </h3>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"row\">\n                <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                  Datos personales\n                </h6>\n                <Personal\n                  data={contact}\n                  handleChange={handleChangeData}\n                  fn={_contacts}\n                />\n              </div>\n              <div className=\"row mt-5 border-top pt-5\">\n                <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                  Medios de contacto <span className=\"text-orange\">*</span>\n                  {!contact.validates.phones && (\n                    <small className=\"d-block w-100\">\n                      <span className=\"text-orange\">\n                        Ingrese por lo menos un telefono\n                      </span>\n                    </small>\n                  )}\n                </h6>\n                <Telefono data={contact} handleChange={handleChangeData} />\n              </div>\n              {!contact.type ? (\n                <div className=\"row mt-5 border-top pt-5\">\n                  <h6 className=\"card-subtitle text-muted d-block w-100 mb-4 text-center\">\n                    Domicilios del contacto\n                  </h6>\n                  <Domicilio\n                    data={contact}\n                    domicilios={\n                      contact.address ?? {\n                        calle: \"\",\n                        colonia: \"\",\n                        municipio: \"\",\n                        estado: \"\",\n                        cp: \"\",\n                      }\n                    }\n                    handleChange={handleChangeData}\n                  />\n                </div>\n              ) : null}\n            </div>\n            <div className=\"card-footer\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  <div className=\"btn-group float-right\" role=\"group\">\n                    <button\n                      className=\"btn btn-default\"\n                      type=\"button\"\n                      onClick={() => {\n                        history.push(\"/contactos\");\n                        _handleNewOrEdit();\n                      }}\n                    >\n                      <i\n                        className={\n                          contact.id\n                            ? \"fas fa-arrow-left mr-2\"\n                            : \"fas fa-ban mr-2\"\n                        }\n                      ></i>\n                      <strong>{contact.id ? \"Cerrar\" : \"Cancelar\"}</strong>\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"btn bg-indigo\"\n                      onClick={() => handleSaveContact()}\n                      disabled={!btn_enabled}\n                    >\n                      <i className=\"fas fa-save mr-1\"></i>\n                      {contact.id ? \"Actualizar\" : \"Guardar\"}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n            {contact.loading && (\n              <div className=\"overlay dark\">\n                <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      {contact.id ? (\n        <div className=\"content\" id=\"details\">\n          <div className=\"row\">\n            {!contact.type && (\n              <div className=\"col\">\n                <CardExams exams={exams} />\n              </div>\n            )}\n\n            {purchases.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-money-bill mr-1\"></i>\n                      Compras\n                    </h5>\n                    <ListSales sales={purchases} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {brands.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-copyright mr-1\"></i>\n                      Marcas\n                    </h5>\n                    <ListBrands brands={brands} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {supplier_of.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-building mr-1\"></i>\n                      Laboratorio\n                    </h5>\n                    <ListOrders orders={supplier_of ?? []} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n\n            {orders.length ? (\n              <div className=\"col\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title text-indigo text-bold w-100 mb-2\">\n                      <i className=\"fas fa-shopping-basket mr-1\"></i>\n                      Pedidos\n                    </h5>\n                    <ListOrders orders={orders ?? []} />\n                  </div>\n                </div>\n              </div>\n            ) : null}\n          </div>\n          {Boolean(contact.activity.length) && (\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <Activitys data={contact.activity} />\n              </div>\n            </div>\n          )}\n        </div>\n      ) : null}\n      {showModal && (\n        <Confirm body={dataBodyConfirm(10)} handleCancel={() => {}} />\n      )}\n    </>\n  );\n}\n\nfunction processData(data, setData) {\n  if (data) {\n    const birthday = moment(data.metadata?.birthday);\n    const today = moment();\n    const diff = today.diff(birthday, \"days\");\n\n    setData({\n      id: data.id,\n      name: data.name?.toLowerCase(),\n      rfc: data.rfc?.toUpperCase(),\n      gender: data.metadata?.gender ? data.metadata?.gender : \"male\",\n      email: data.email?.toLowerCase(),\n      type: data.type,\n      business: data.business,\n      birthday: diff > 0 ? birthday : today,\n      phone_notices: data.phones?.notices,\n      phone_cell: data.phones?.cell,\n      phone_office: data.phones?.office,\n      age: data.age ?? 0,\n      address_street: data.address?.street.toLowerCase(),\n      address_neighborhood: data.address?.neighborhood.toLowerCase(),\n      address_location: data.address?.location.toLowerCase(),\n      address_state: data.address?.state.toLowerCase(),\n      address_zip: data.address?.zip.toLowerCase(),\n      done: {\n        purchases: data.purchases,\n        brands: data.brands,\n        supplier_of: data.supplier_of,\n        orders: data.orders,\n        exams: data.exams,\n      },\n      analytics: {\n        purchases: data.purchases_count,\n        exams: data.exams_count,\n        brands: data.brands_count,\n        suppliers: data.suppliers_count,\n        orders: data.orders_count,\n      },\n      metadata: {\n        created_at: data.created_at ? moment(data.created_at) : moment(),\n        updated_at: data.updated_at ? moment(data.updated_at) : moment(),\n        deleted_at: data.deleted_at ?? \"\",\n        created: data.created?.username.toLowerCase() ?? \"\",\n        updated: data.updated?.username.toLowerCase() ?? \"--\",\n      },\n      validates: {\n        name: data.name?.length > 5,\n        email: helper.isEmail(data.email),\n        birthday: Boolean(moment().diff(data.metadata?.birthday, \"days\") > 0),\n        phones: Boolean(\n          Object.values(data.phones ?? {}).filter(\n            (phone) => phone.length === 10\n          ).length\n        ),\n      },\n      activity: data.activity ?? [],\n      loading: false,\n    });\n  }\n}\n\nfunction dataBodyConfirm(id_exam) {\n  return (\n    <div>\n      <p className=\"text-center\">¿Realmente desea ver el examen?</p>\n      <div className=\"text-center\">\n        <Link to={`/consultorio/${id_exam}`} className=\"btn btn-primary\">\n          Confirmar\n        </Link>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport { ContactContext } from \"../context/ContactContext\";\nimport ToolsBar from \"../components/Contacts/ToolsBar\";\nimport Inbox from \"../components/Contacts/Inbox\";\nimport Add from \"../components/Contacts/Add\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n};\n\nexport default function ContactsComponent(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    newOrEdit: null,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]);\n\n  return (\n    <ContactContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <ToolsBar\n          newOrEdit={state.newOrEdit}\n          handleNewOrEdit={() =>\n            setState({\n              ...state,\n              newOrEdit: !state.newOrEdit,\n            })\n          }\n        />\n        {typeof state.newOrEdit === \"boolean\" ? (\n          <div className=\"col-sm-12 col-md-8 col-lg-10\">\n            {state.newOrEdit ? (\n              <Add\n                {...props}\n                handleNewOrEdit={() =>\n                  setState({ ...state, newOrEdit: !state.newOrEdit })\n                }\n              />\n            ) : (\n              <Inbox />\n            )}\n          </div>\n        ) : (\n          <p>Loading component</p>\n        )}\n      </div>\n    </ContactContext.Provider>\n  );\n}\n","import { useState, useContext } from \"react\";\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n//import helper from \"../helpers\";\n\nexport default function BranchsListComponent() {\n\n  const [data, setData] = useState({\n    showForm: false,\n    id: 0,\n    name: \"\",\n    address: \"\",\n    phone: \"\",\n  });\n  \n/*   const options = {\n    page: 1,\n    name: \"branches\",\n    itemsPage: 10,\n  }; */\n\n  const configContext = useContext(ConfigContext);\n\n  const branches = configContext.data.filter((item)=>item.name === 'branches');\n\n  //Actions\n  const handleUpdateConfig = ({ id, values, data }) => {\n      setData({\n        ...data,\n        showForm: true,\n        id,\n        //TODO: Destructuramoos data, Cambiamos values por data, validamos si existen [name, address, phone] evitar toString //\n        name: data.name?.toString().toLowerCase(),\n        address: data.address?.toString().toLowerCase(),\n        phone: data.phone?.toString().toLowerCase(),\n      });\n    },\n\n    handleCancelForm = () =>\n      setData({\n        ...data,\n        showForm: false,\n        id: 0,\n        name: \"\",\n        address: \"\",\n        phone: \"\",\n      }),\n\n    handleNewBranch = () => setData({ ...data, showForm: true }),\n\n    handleChangeValue = ({ name, value }) => {\n      setData({\n        ...data,\n        [name]: value.toString().toLowerCase(),\n      });\n    },\n\n    handleSendDataForm = (e) => {\n      e.preventDefault();\n    };\n\n\n  return (\n    <div className=\"card card-primary card-outline\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title d-block mb-2\">\n          <i className=\"fas fa-store mr-1\"></i>\n          Sucursales\n        </h5>\n\n        {data.showForm ? (\n          <form className=\"card-text m-2 mt-4\" onSubmit={handleSendDataForm}>\n            <div className=\"form-group\">\n              <label>Nombre de la sucursal</label>\n              <input\n                type=\"text\"\n                placeholder=\"Escriba el nombre de la sucursal\"\n                className=\"form-control\"\n                name=\"name\"\n                defaultValue={data.name}\n                onChange={({ target }) => handleChangeValue(target)}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Domicilio</label>\n              <input\n                type=\"text\"\n                placeholder=\"Escriba el domicilio de la sucursal\"\n                className=\"form-control\"\n                name=\"address\"\n                defaultValue={data.address}\n                onChange={({ target }) => handleChangeValue(target)}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Telefono</label>\n              <input\n                type=\"phone\"\n                placeholder=\"Escriba el telefono de la sucursal\"\n                className=\"form-control\"\n                name=\"phone\"\n                defaultValue={data.phone}\n                onChange={({ target }) => handleChangeValue(target)}\n                maxLength={10}\n              />\n            </div>\n            <div className=\"form-group text-right\">\n              <button\n                type=\"button\"\n                className=\"btn btn-link\"\n                onClick={handleCancelForm}\n              >\n                Cancelar\n              </button>\n              <button type=\"submit\" className=\"btn btn-dark ml-2\">\n                Guardar\n              </button>\n            </div>\n          </form>\n        ) : (\n          <div className=\"table-responsive\">\n            <table className=\"table table-striped table-sm\">\n              <thead>\n                <tr>\n                  <th>Nombre</th>\n                  <th>Domicilio</th>\n                  <td>\n                    <span className=\"sr-only\">Acciones</span>\n                  </td>\n                </tr>\n              </thead>\n              <tbody>\n                {branches.map((branch) => (\n                  branch.name !== 'bank' ? (\n                    <tr key={branch.id}>\n                    <td className=\"text-capitalize\">{branch.data.name}</td>\n                    <td className=\"text-truncate text-capitalize\">\n                      {branch.data.address ?? \"--\"}\n                    </td>\n                    <td className=\"text-right\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-sm btn-primary ml-1\"\n                        onClick={() => handleUpdateConfig(branch)}\n                      >\n                        <i className=\"fas fa-edit\"></i>\n                      </button>\n                    </td>\n                  </tr>\n                  ) : null\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n      <div className=\"card-footer text-right\">\n        <button\n          className=\"btn btn-primary btn-sm\"\n          disabled={data.showForm}\n          onClick={handleNewBranch}\n        >\n          <i className=\"fas fa-plus\"></i>\n        </button>\n      </div>\n    </div>\n  );\n}\n","import { useState, useContext } from \"react\";\nimport BranchsList from '../components/Tools/views/Branchs';\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function ToolsComponent(){\n\n  const { auth } = useContext(AuthContext);\n\n  const varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n\n  const [state, setState] = useState({\n    server: varLocalStorage.host ? varLocalStorage.host : \"\",\n    company:  varLocalStorage.company ? varLocalStorage.company : \"\",\n    email: auth.email ? auth.email : \"\",\n    name: auth.name ? auth.name : \"\",\n    username: auth.username ? auth.username : \"\",\n    password: \"\",\n    category_list: [],\n  });\n\n  const clickSave = () => {\n    let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    varLocalStorage.company = state.company;\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage));\n  },\n\n  clickSaveUser = () => {\n\n    //TODO: Ejecutar llamada a la API para actualizar el usuario\n\n\n    //Variables en localStorage\n    /* let varLocalStorage = JSON.parse(localStorage.getItem(\"OrusSystem\"));\n    varLocalStorage.email = state.email;\n    varLocalStorage.name = state.name;\n    varLocalStorage.username = state.username;\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(varLocalStorage)); */\n  },\n  \n  catchInputs = (e) => {\n    const { name, value } = e.target;\n    setState({\n      [name]: value.toLowerCase(),\n    });\n  };\n\n  return (\n    <div className=\"row\" style={{height:'100vh'}}>\n      <div className=\"col-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Generales</h5>\n            <p>&nbsp;</p>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-server\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Servidor\"\n                name=\"server\"\n                value={state.server}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-building\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control text-capitalize\"\n                placeholder=\"Nombre de la empresa\"\n                name=\"company\"\n                value={state.company}\n                onChange={catchInputs}\n              />\n            </div>\n          </div>\n          <div className=\"card-footer text-right\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={clickSave}\n            >\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n\n\n      <div className=\"col-lg-6 col-sm-12\">\n        <div className=\"card card-primary card-outline\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">Usuario</h5>\n            <p>&nbsp;</p>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-at\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Email\"\n                name=\"email\"\n                value={state.email}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-user-tag\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control text-capitalize\"\n                placeholder=\"Nombre completo\"\n                name=\"name\"\n                value={state.name}\n                onChange={catchInputs}\n              />\n            </div>\n            <hr />\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-user-check\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Usuario\"\n                name=\"username\"\n                value={state.username}\n                onChange={catchInputs}\n              />\n            </div>\n            <div className=\"input-group mb-3\">\n              <div className=\"input-group-prepend\">\n                <span className=\"input-group-text\">\n                  <i className=\"fas fa-lock\"></i>\n                </span>\n              </div>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Contraseña\"\n                name=\"password\"\n                value={state.password}\n                onChange={catchInputs}\n              />\n            </div>\n          </div>\n          <div className=\"card-footer text-right\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={clickSaveUser}\n            >\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"col-lg-6 col-md-12 col-sm-12\">\n        <BranchsList />\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const ExamContext = createContext(null);\nexport const Exams = () => useContext(ExamContext);\n","import DatePicker, { registerLocale } from \"react-datepicker\";\nimport moment from \"moment\";\n\nimport SideBar from \"../../pages/partials/SideBar\";\nimport { Exams } from \"../../context/ExamContext\";\nimport { Config } from \"../../context/ConfigContext\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function ToolBar({ newOrEdit, handleNewOrEdit }) {\n  const context = Exams();\n  const config = Config();\n  const branches = config.data?.filter((b = {}) => b.name === \"branches\");\n  const date = context.options?.date ? moment(context.options.date) : moment();\n\n  return (\n    <div className=\"col-sm-12 col-md-2 d-print-none\">\n      <button\n        className=\"btn bg-info btn-block mb-3\"\n        type=\"button\"\n        disabled={newOrEdit}\n        onClick={handleNewOrEdit}\n      >\n        <i className=\"fas fa-plus mr-1\"></i>\n        Nuevo examen\n      </button>\n\n      <SideBar title=\"Filtros\">\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"orderby\">Ordenar por</label>\n          <select\n            className=\"form-control\"\n            id=\"orderby\"\n            defaultValue={context.options?.orderby}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  orderby: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"created_at\">Fecha de registro</option>\n            <option value=\"updated_at\">Fecha de modificacion</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"date\">Fecha</label>\n          <DatePicker\n            className={`form-control`}\n            locale=\"es\"\n            selected={new Date(date.format(\"YYYY/MM/DD\"))}\n            dateFormat=\"dd/MM/yyyy\"\n            maxDate={new Date()}\n            placeholderText=\"Seleccione una fecha\"\n            onSelect={(date) => {\n              if (date) {\n                date = date.toLocaleDateString(\"es-MX\");\n                date = moment(date, \"DD/MM/YYYY\");\n\n                if (date.isValid()) {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      date: date.format(\"YYYY/MM/DD\"),\n                    },\n                  });\n                }\n              }\n            }}\n            onChange={(date) => {\n              if (date) {\n                date = date.toLocaleDateString(\"es-MX\");\n                date = moment(date, \"DD/MM/YYYY\");\n\n                if (date.isValid()) {\n                  context.set({\n                    ...context,\n                    options: {\n                      ...context.options,\n                      date: date.format(\"YYYY/MM/DD\"),\n                    },\n                  });\n                }\n              }\n            }}\n          />\n          <button\n            type=\"button\"\n            className=\"btn btn-info btn-block text-bold mt-1\"\n            onClick={(e) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  date: \"\",\n                },\n              });\n            }}\n          >\n            <i className=\"fas fa-trash mr-1\"></i>\n            Borrar fecha\n          </button>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"order\">Mostrar por</label>\n          <select\n            className=\"form-control\"\n            id=\"order\"\n            value={context.options?.order}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  order: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"asc\">Antiguos</option>\n            <option value=\"desc\">Recientes</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"itemsPage\">Numero de examenes</label>\n          <select\n            className=\"form-control\"\n            id=\"itemsPage\"\n            value={context.options?.itemsPage}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  itemsPage: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"25\">ver 25</option>\n            <option value=\"50\">ver 50</option>\n            <option value=\"75\">ver 75</option>\n            <option value=\"100\">ver 100</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"status\">Estado</label>\n          <select\n            className=\"form-control\"\n            id=\"status\"\n            value={context.options?.status}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  status: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"\">-- Todos --</option>\n            <option value=\"1\">Solo terminados</option>\n            <option value=\"0\">En proceso</option>\n          </select>\n        </li>\n        <li className=\"nav-item p-2\">\n          <label htmlFor=\"status\">Sucursales</label>\n          <select\n            className=\"form-control text-capitalize\"\n            id=\"branch\"\n            value={context.options?.branch}\n            onChange={({ target }) => {\n              context.set({\n                ...context,\n                options: {\n                  ...context.options,\n                  branch: target.value,\n                },\n              });\n            }}\n          >\n            <option value=\"all\">-- Todas --</option>\n            {branches?.map((branch) => (\n              <option value={branch.id} key={branch.id}>\n                {branch.data?.name}\n              </option>\n            ))}\n          </select>\n        </li>\n      </SideBar>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useExam() {\n  const getExams = async (options) => {\n    if (!options) return null;\n\n    const url = setUrl(\"exams\", null, options);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contacts list in hook:\",\n          err.message\n        );\n\n        return null;\n      });\n  };\n\n\n  const getExam = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"exams\", id);\n\n    return await api(url, \"GET\")\n      .then((response) => {\n        return response.data;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when get contact in hook:\",\n          err.message\n        );\n\n        return {};\n      });\n  };\n\n\n  const deleteExam = async (id) => {\n    if (!id) return false;\n\n    const url = setUrl(\"exams\", id);\n\n    return await api(url, \"DELETE\")\n      .then(() => {\n        return true;\n      })\n      .catch((err) => {\n        console.error(\n          \"[Orus System] Catch when delete contact in hook:\",\n          err.message\n        );\n\n        return false;\n      });\n  };\n\n\n  const saveExam = async (data) => {\n\n    if (!data) return;\n    const { id } = data;\n    delete data.id;\n\n    if (id) {\n      const url = setUrl(\"exams\", id);\n\n      return await api(url, \"PUT\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\"[Orus System] Catch when update exam in hook\");\n          return err;\n        });\n    } else {\n      const url = setUrl(\"exams\");\n\n      return await api(url, \"POST\", data)\n        .then((res) => {\n          return res.data;\n        })\n        .catch((err) => {\n          console.error(\"[Orus System] Catch when create exam in hook\");\n          return err;\n        });\n    }\n  };\n\n  return {\n    getExams,\n    getExam,\n    deleteExam,\n    saveExam,\n  };\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\n\n//Context\nimport { Exams } from \"../../context/ExamContext\";\n\n//Components\nimport Inbox from \"../../layouts/list_inbox\";\nimport useExam from \"../../hooks/useExam\";\n\nexport default function InboxExams() {\n  const context = Exams();\n  const _exam = useExam();\n  const history = useHistory();\n  const [state, setState] = useState({\n    list: [],\n    meta: {},\n    loading: false,\n    examSelected: {},\n  });\n\n  // Functions\n  const handleLoadExams = () => {\n    setState({\n      ...state,\n      loading: true,\n    });\n\n    _exam.getExams(context.options).then((res) => {\n      if (res.data) {\n        setState({\n          ...state,\n          list: res.data,\n          meta: res.meta,\n          loading: false,\n          examSelected: {},\n        });\n      }\n    });\n  };\n  const handleStatus = (exam) => {\n    if (exam?.id) {\n      _exam\n        .saveExam({\n          id: exam.id,\n          status: !exam.status,\n          contact_id: exam.customer?.id,\n        })\n        .then((res) => {\n          if (res.id) handleLoadExams();\n          else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.error(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n    } else if (state.examSelected?.id) {\n      _exam\n        .saveExam({\n          id: state.examSelected.id,\n          status: !state.examSelected.status,\n          contact_id: state.examSelected.customer?.id,\n        })\n        .then((res) => {\n          if (res.id) handleLoadExams();\n          else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.error(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n    } else {\n      console.error(\n        \"[Orus System] When get id of exam:\",\n        exam,\n        state.examSelected\n      );\n      window.Swal.fire({\n        title: \"Consultorio\",\n        text: \"Lo sentimos no existe un examen seleccionado\",\n        icon: \"warning\",\n        showConfirmButton: false,\n        timer: 3000,\n      });\n    }\n  };\n\n  useEffect(() => {\n    handleLoadExams();\n  }, [context.options]);\n\n  return (\n    <Inbox\n      title=\"Lista de examenes\"\n      icon=\"notes-medical\"\n      color=\"info\"\n      loading={state.loading}\n      meta={state.meta}\n      itemSelected={state.examSelected?.id}\n      handlePagination={(page) => {\n        if (page) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              page,\n            },\n          });\n        }\n      }}\n      handleSearch={(search) => {\n        if (search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search,\n              page: 1,\n            },\n          });\n        } else if (context.options.search) {\n          context.set({\n            ...context,\n            options: {\n              ...context.options,\n              search: \"\",\n              page: 1,\n            },\n          });\n        }\n      }}\n      handleDeleteItem={() => {\n        if (state.examSelected?.id) {\n          window.Swal.fire({\n            title: \"Consultorio\",\n            text: \"¿Desea eliminar el examen?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Eliminar\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              _exam.deleteExam(state.examSelected.id).then(() => {\n                handleLoadExams();\n              });\n            } else {\n              setState({\n                ...state,\n                examSelected: {},\n              });\n            }\n          });\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un examen seleccionado\",\n            icon: \"error\",\n            timer:3000,\n          });\n        }\n      }}\n      handleEditItem={() => {\n        if (state.examSelected?.id) {\n          history.push(`consultorio/${state.examSelected.id}`);\n        } else {\n          window.Swal.fire({\n            title: \"Error\",\n            text: \"Lo sentimos no existe un examen seleccionado\",\n            icon: \"error\",\n          });\n        }\n      }}\n      handleSync={handleLoadExams}\n      handleStatus={handleStatus}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Estado</th>\n            <th>ESF</th>\n            <th>CIL</th>\n            <th>EJE</th>\n            <th>ADC</th>\n            <th>MED</th>\n            <th>DP</th>\n            <th>ALT</th>\n            <th>\n              {context.options?.orderby === \"created_at\"\n                ? \"Registrado\"\n                : \"Actualizado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {state.list?.length ? (\n            <>\n              {state.list?.map((exam) => {\n                return (\n                  <tr key={exam.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        id={\"exam_\" + exam.id}\n                        checked={\n                          state.examSelected?.id === exam.id ? true : false\n                        }\n                        disabled={exam.estado || exam.orders?.length}\n                        onChange={({ target }) => {\n                          setState({\n                            ...state,\n                            examSelected: target.checked ? exam : \"\",\n                          });\n                        }}\n                      />\n                      <label\n                        htmlFor={\"exam_\" + exam.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td className=\"mailbox-name text-capitalize text-truncate\">\n                      <a\n                        href=\"#edit\"\n                        onClick={(e) => {\n                          e.preventDefault();\n                          history.push(`consultorio/${exam.id}`);\n                        }}\n                      >\n                        <span\n                          className={\n                            exam.status || exam.orders?.length\n                              ? \"text-muted\"\n                              : \"text-dark text-bold\"\n                          }\n                        >\n                          <i className=\"fas fa-user text-sm mr-2\"></i>\n                          {exam.customer?.name.toLowerCase()}\n                        </span>\n                      </a>\n                    </td>\n                    <td\n                      className=\"text-center\"\n                      style={{ cursor: \"pointer\" }}\n                      onClick={() => handleStatus(exam)}\n                    >\n                      {exam.status ? (\n                        <i\n                          className=\"fas fa-clipboard-check text-muted\"\n                          title=\"Terminado\"\n                        ></i>\n                      ) : (\n                        <i\n                          className=\"fas fa-clipboard text-info\"\n                          title=\"En proceso\"\n                        ></i>\n                      )}\n                    </td>\n                    <td>\n                      {exam.esferaod}/{exam.esferaoi}\n                    </td>\n                    <td>\n                      {exam.cilindrod}/{exam.cilindroi}\n                    </td>\n                    <td>\n                      {exam.ejeod}/{exam.ejeoi}\n                    </td>\n                    <td>\n                      {exam.adiciond}/{exam.adicioni}\n                    </td>\n                    <td>\n                      {exam.adicion_media_od}/{exam.adicion_media_oi}\n                    </td>\n                    <td>\n                      {exam.dpod}/{exam.dpoi}\n                    </td>\n                    <td>\n                      {exam.alturaod}/{exam.alturaoi}\n                    </td>\n                    <td>\n                      {moment(\n                        context.options?.orderby === \"created_at\"\n                          ? exam.created_at\n                          : exam.updated_at\n                      ).fromNow()}\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"12\">\n                No hay examenes registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Inbox>\n  );\n}\n","export default function GeneralesExam(props) {\n  const catchInputs = (e) => {\n    const { name, type, checked, value } = e.target;\n    const val = type === \"checkbox\" ? checked : value.toLowerCase();\n\n    props.handleGetData(name, val);\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"pc\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"pc\"\n              checked={props.pc}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"pc\">\n              <i className=\"fas fa-desktop\"></i> PC\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"pc_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.pc_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.pc ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"tablet\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"tablet\"\n              checked={props.tablet}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"tablet\">\n              <i className=\"fas fa-tablet-alt\"></i> Tablet\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"tablet_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.tablet_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.tablet ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"movil\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"movil\"\n              checked={props.movil}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"movil\">\n              <i className=\"fas fa-mobile-alt\"></i> Telefono\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"movil_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.movil_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.movil ? \"\" : \"readonly\"}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <div className=\"custom-control custom-switch\">\n            <input\n              name=\"lap\"\n              type=\"checkbox\"\n              className=\"custom-control-input\"\n              id=\"lap\"\n              checked={props.lap}\n              onChange={catchInputs}\n            />\n            <label className=\"custom-control-label\" htmlFor=\"lap\">\n              <i className=\"fas fa-laptop\"></i> Laptop\n            </label>\n          </div>\n\n          <input\n            type=\"text\"\n            name=\"lap_time\"\n            className=\"form-control input-xs\"\n            defaultValue={props.lap_time ?? \"\"}\n            onChange={catchInputs}\n            readOnly={props.lap ? \"\" : \"readonly\"}\n          />\n        </div>\n      </div>\n      <div className=\"row mt-1\">\n        <div className=\"col-md-6\">\n          <ul className=\"list-group\">\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"frontal\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"frontal\"\n                  checked={props.frontal}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"frontal\">\n                  Frontal\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"occipital\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"occipital\"\n                  checked={props.occipital}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"occipital\">\n                  Occipital\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"generality\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"generality\"\n                  checked={props.generality}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"generality\">\n                  General\n                </label>\n              </div>\n            </li>\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <div className=\"custom-control custom-switch\">\n                <input\n                  name=\"cefalea\"\n                  type=\"checkbox\"\n                  className=\"custom-control-input\"\n                  id=\"cefalea\"\n                  checked={props.cefalea}\n                  onChange={catchInputs}\n                />\n                <label className=\"custom-control-label\" htmlFor=\"cefalea\">\n                  Cefalea\n                </label>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div className=\"col-md-6\">\n          <ul className=\"list-group\">\n            <li className=\"list-group-item\">\n              Temporal\n              <br />\n              <div className=\"row mt-2\">\n                <div className=\"col\">\n                  <div className=\"custom-control custom-switch\">\n                    <input\n                      name=\"temporaod\"\n                      type=\"checkbox\"\n                      className=\"custom-control-input\"\n                      id=\"temporaod\"\n                      checked={props.temporaod}\n                      onChange={catchInputs}\n                    />\n                    <label className=\"custom-control-label\" htmlFor=\"temporaod\">\n                      <i className=\"fa fa-eye\"></i> Derecho\n                    </label>\n                  </div>\n                </div>\n                <div className=\"col\">\n                  <div className=\"custom-control custom-switch\">\n                    <input\n                      name=\"temporaoi\"\n                      type=\"checkbox\"\n                      className=\"custom-control-input\"\n                      id=\"temporaoi\"\n                      checked={props.temporaoi}\n                      onChange={catchInputs}\n                    />\n                    <label className=\"custom-control-label\" htmlFor=\"temporaoi\">\n                      <i className=\"fa fa-eye\"></i> Izquierdo\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </li>\n            <li className=\"list-group-item\">\n              Frecuencia\n              <span className=\"badge badge-pill\">\n                <input\n                  type=\"text\"\n                  name=\"c_frecuencia\"\n                  maxLength=\"60\"\n                  className=\"form-control input-xs\"\n                  defaultValue={props.c_frecuencia ?? \"\"}\n                  onChange={catchInputs}\n                />\n              </span>\n            </li>\n            <li className=\"list-group-item\">\n              <label htmlFor=\"c_intensidad\">Intensidad</label>\n              <div className=\"row\">\n                <div className=\"col-11\">\n                  <input\n                    type=\"range\"\n                    name=\"c_intensidad\"\n                    className=\"custom-range custom-range-info\"\n                    id=\"c_intensidad\"\n                    min=\"0\"\n                    max=\"4\"\n                    defaultValue={props.c_intensidad ?? \"\"}\n                    onChange={catchInputs}\n                  />\n                </div>\n                <div className=\"col-1\">\n                  <h6>{props.c_intensidad}</h6>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { Component } from \"react\";\n\nexport default class InterrogatorioExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Interrogatorio inicial</label>\n            <textarea\n              name=\"interrogatorio\"\n              className=\"form-control\"\n              defaultValue={this.props.interrogatorio ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Cirugias oculares</label>\n            <textarea\n              name=\"coa\"\n              className=\"form-control\"\n              defaultValue={this.props.coa ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Antecedentes oculares patologicas personales</label>\n            <textarea\n              name=\"aopp\"\n              className=\"form-control\"\n              rows=\"2\"\n              defaultValue={this.props.aopp ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-12\">\n            <label>Antecedentes oculares patologicas familiares</label>\n            <textarea\n              name=\"aopf\"\n              className=\"form-control\"\n              rows=\"2\"\n              defaultValue={this.props.aopf ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React from \"react\";\n\nconst KeraRetExamComponent = (props) => {\n  const catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    props.onChangeInput(name, value);\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-6\">Keratometria</div>\n        <div className=\"col-6\">Retinoscopia</div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-md-3\">\n          <i className=\"fas fa-eye\"></i> <label>Derecho</label>\n          <input\n            type=\"text\"\n            name=\"keratometriaod\"\n            maxLength=\"12\"\n            className=\"form-control input-xs\"\n            defaultValue={props.keratometriaod ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-3\">\n          <i className=\"fas fa-eye\"></i> <label>Izquierdo</label>\n          <input\n            type=\"text\"\n            name=\"keratometriaoi\"\n            maxLength=\"12\"\n            className=\"form-control input-xs\"\n            defaultValue={props.keratometriaoi ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n          <input\n            type=\"text\"\n            name=\"rsod\"\n            maxLength=\"16\"\n            className=\"form-control\"\n            defaultValue={props.rsod ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n        <div className=\"col-md-3\">\n          <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n          <input\n            type=\"text\"\n            name=\"rsoi\"\n            maxLength=\"16\"\n            className=\"form-control\"\n            defaultValue={props.rsoi ?? \"\"}\n            onChange={catchInputs}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default KeraRetExamComponent;\n","import React, { Component } from \"react\";\n\nexport default class DiabetesExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-8\">\n            <label>Diab&eacute;tico</label>\n          </div>\n          <div className=\"col-md-4\">\n            <label>Fotocoagulaci&oacute;n laser</label>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">Fecha</div>\n          <div className=\"col-2\">Rango de glucosa</div>\n          <div className=\"col-3\">Ultimo examen</div>\n          <div className=\"col-2\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"d_fclod\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"d_fclod\"\n                checked={this.props.d_fclod}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"d_fclod\">\n                <i className=\"fa fa-eye\"></i> Derecho\n              </label>\n            </div>\n          </div>\n          <div className=\"col-2\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"d_fcloi\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"d_fcloi\"\n                checked={this.props.d_fcloi}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"d_fcloi\">\n                <i className=\"fa fa-eye\"></i> Izquierdo\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <input\n              type=\"date\"\n              name=\"d_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_time ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_media\"\n              className=\"form-control\"\n              defaultValue={this.props.d_media ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <input\n              type=\"date\"\n              name=\"d_test\"\n              className=\"form-control\"\n              defaultValue={this.props.d_test ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_fclod_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_fclod_time ?? \"\"}\n              onChange={this.catchInputs}\n              readOnly={this.props.d_fclod ? \"\" : \"readonly\"}\n            />\n          </div>\n          <div className=\"col-md-2\">\n            <input\n              type=\"text\"\n              name=\"d_fcloi_time\"\n              className=\"form-control\"\n              defaultValue={this.props.d_fcloi_time ?? \"\"}\n              onChange={this.catchInputs}\n              readOnly={this.props.d_fcloi ? \"\" : \"readonly\"}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Oftalmoscopia</label>\n            <textarea\n              name=\"oftalmoscopia\"\n              className=\"form-control\"\n              defaultValue={this.props.oftalmoscopia ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class AgudezaExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-6\">Capacidad visual</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"cvod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.cvod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"cvoi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.cvoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row mt-2\">\n          <div className=\"col-md-6\">Agudeza visual (Sin lentes)</div>\n          <div className=\"col-md-6\">\n            Agudeza visual (con la graduaci&oacute;n anterior)\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"avslod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avslod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"avsloi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avsloi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"text\"\n              name=\"avcgaod\"\n              maxLength=\"12\"\n              className=\"form-control input-xs\"\n              defaultValue={this.props.avcgaod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"text\"\n              name=\"avcgaoi\"\n              maxLength=\"12\"\n              className=\"form-control input-xs\"\n              defaultValue={this.props.avcgaoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6\">Agudeza visual final</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avfod\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avfod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avfoi\"\n              maxLength=\"12\"\n              className=\"form-control\"\n              defaultValue={this.props.avfoi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-4\">\n            <i className=\"fa fa-eye\"></i>\n            <i className=\"fa fa-eye\"></i> <label>Ambos</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"avf2o\"\n              maxLength=\"25\"\n              className=\"form-control\"\n              defaultValue={this.props.avf2o ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class DiagnosticoExam extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col-md-6\"></div>\n          <div className=\"col-md-6\">Tensi&oacute;n ocular</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            Diagnostico\n            <select\n              name=\"diagnostico\"\n              className=\"form-control\"\n              defaultValue={this.props.diagnostico ?? \"\"}\n              onChange={this.catchInputs}\n            >\n              <option value=\"Emetrope\">Em&eacute;trope</option>\n              <option value=\"hipermetropia\">Hipermetrop&iacute;a</option>\n              <option value=\"hipermetropia-astigmatismo\">\n                Hipermetrop&iacute;a y astigmatismo\n              </option>\n              <option value=\"hipermetropia-miopia\">\n                Hipermetrop&iacute;a y miop&iacute;a\n              </option>\n              <option value=\"astigmatismo-regla\">\n                Astigmatismo con la regla\n              </option>\n              <option value=\"astigmatismo-contra-regla\">\n                Astigmatismo contra la regla\n              </option>\n              <option value=\"astigmatismo-oblicuo\">Astigmatismo oblicuo</option>\n              <option value=\"astigmatismo-miopia\">\n                Astigmatismo/m&iacute;opico\n              </option>\n              <option value=\"miopia\">Miop&iacute;a</option>\n            </select>\n          </div>\n          <div className=\"col-md-3\">\n            <div className=\"custom-control custom-switch\">\n              <input\n                name=\"presbicie\"\n                type=\"checkbox\"\n                className=\"custom-control-input\"\n                id=\"presbicie\"\n                checked={this.props.presbicie}\n                onChange={this.catchInputs}\n              />\n              <label className=\"custom-control-label\" htmlFor=\"presbicie\">\n                Presbicie\n              </label>\n            </div>\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n            <input\n              type=\"number\"\n              name=\"piod\"\n              min=\"0\"\n              max=\"40\"\n              step=\"1\"\n              className=\"form-control\"\n              defaultValue={this.props.piod ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n          <div className=\"col-md-3\">\n            <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n            <input\n              type=\"number\"\n              name=\"pioi\"\n              min=\"0\"\n              max=\"40\"\n              step=\"1\"\n              className=\"form-control\"\n              defaultValue={this.props.pioi ?? \"\"}\n              onChange={this.catchInputs}\n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <label>Tratamiento oftalmico</label>\n            <textarea\n              name=\"txoftalmico\"\n              className=\"form-control\"\n              defaultValue={this.props.txoftalmico ?? \"\"}\n              onChange={this.catchInputs}\n            ></textarea>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import { Component } from \"react\";\n\nexport default class GraduacionExamComponent extends Component {\n  render() {\n    const {\n      readOnly = false,\n      cilindrod,\n      cilindroi,\n      esferaod,\n      esferaoi,\n      ejeod,\n      ejeoi,\n      adiciond,\n      adicioni,\n      adicion_media_od,\n      adicion_media_oi,\n      dpod,\n      dpoi,\n      alturaod,\n      alturaoi,\n      lcmarca,\n      lcgod,\n      lcgoi,\n      showContactGlasses = true,\n    } = this.props;\n\n    return (\n      <>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Esfera</th>\n              <th>Cilindro</th>\n              <th>Eje</th>\n              <th>Adici&oacute;n</th>\n              <th>Adici&oacute;n media</th>\n              <th>D/P</th>\n              <th>Altura</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <i className=\"fa fa-eye mr-1\" title=\"Ojo derecho\"></i>\n                <span className=\"text-sm d-block\">Derecho</span>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"esferaod\"\n                  min=\"-20\"\n                  max=\"20\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={esferaod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{esferaod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"cilindrod\"\n                  min=\"-20\"\n                  max=\"0\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={cilindrod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{cilindrod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"ejeod\"\n                  min=\"0\"\n                  max=\"180\"\n                  step=\"1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  placeholder=\"°\"\n                  defaultValue={ejeod ? parseInt(ejeod) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{ejeod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adiciond\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adiciond ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{adiciond ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicion_media_od\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicion_media_od ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">\n                  {adicion_media_od ?? \"\"}\n                </h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"dpod\"\n                  min=\"40\"\n                  max=\"80\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={dpod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{dpod ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"alturaod\"\n                  min=\"0\"\n                  max=\"35\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={alturaod ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{alturaod ?? \"\"}</h5>\n              </td>\n            </tr>\n            <tr>\n              <td>\n                <i className=\"fa fa-eye ml-1\" title=\"Ojo izquierdo\"></i>\n                <span className=\"text-sm d-block\">Izquierdo</span>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"esferaoi\"\n                  min=\"-20\"\n                  max=\"20\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={esferaoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{esferaoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"cilindroi\"\n                  min=\"-20\"\n                  max=\"0\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={cilindroi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{cilindroi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"ejeoi\"\n                  min=\"0\"\n                  max=\"180\"\n                  step=\"1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  placeholder=\"°\"\n                  defaultValue={ejeoi ? parseInt(ejeoi) : \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{ejeoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicioni\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicioni ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{adicioni ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"adicion_media_oi\"\n                  min=\"0\"\n                  max=\"3\"\n                  step=\".25\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={adicion_media_oi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">\n                  {adicion_media_oi ?? \"\"}\n                </h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"dpoi\"\n                  min=\"40\"\n                  max=\"80\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={dpoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{dpoi ?? \"\"}</h5>\n              </td>\n              <td className=\"text-right\">\n                <input\n                  type=\"number\"\n                  name=\"alturaoi\"\n                  min=\"0\"\n                  max=\"35\"\n                  step=\".1\"\n                  className={\n                    readOnly\n                      ? \"form-control d-print-none disabled\"\n                      : \"form-control d-print-none\"\n                  }\n                  disabled={readOnly ? true : false}\n                  defaultValue={alturaoi ?? \"\"}\n                  onChange={this.catchInputs}\n                />\n                <h5 className=\"d-none d-print-block\">{alturaoi ?? \"\"}</h5>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        {showContactGlasses && (\n          <ul className=\"list-group d-print-none mt-4\">\n            <li className=\"list-group-item\">\n              <div className=\"row\">\n                <div className=\"col-md-12\">\n                  Lente de contacto\n                  <input\n                    type=\"text\"\n                    name=\"lcmarca\"\n                    maxLength=\"70\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcmarca ?? \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <i className=\"fa fa-eye\"></i> <label>Derecho</label>\n                  <input\n                    type=\"text\"\n                    name=\"lcgod\"\n                    maxLength=\"30\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcgod ? lcgod : \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n                <div className=\"col\">\n                  <i className=\"fa fa-eye\"></i> <label>Izquierdo</label>\n                  <input\n                    type=\"text\"\n                    name=\"lcgoi\"\n                    maxLength=\"30\"\n                    className={\n                      readOnly ? \"form-control disabled\" : \"form-control\"\n                    }\n                    disabled={readOnly ? true : false}\n                    defaultValue={lcgoi ? lcgoi : \"\"}\n                    onChange={this.catchInputs}\n                  />\n                </div>\n              </div>\n            </li>\n          </ul>\n        )}\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name, type, value, checked } = e.target,\n      { onChangeInput } = this.props;\n    let val = value;\n\n    if (type === \"checkbox\") val = checked;\n    if (type === \"text\") val = value.toLowerCase();\n    if (type === \"number\") {\n      if (name === \"ejeod\" || name === \"ejeoi\") {\n        val = parseInt(value);\n      } else {\n        val = parseFloat(value);\n        val = val.toFixed(2);\n        val = parseFloat(val);\n      }\n    }\n    if (onChangeInput) onChangeInput(name, val);\n  };\n}\n","import React, { Component } from \"react\";\n\nexport default class ObservacionesExam extends Component {\n  render() {\n    return (\n      <>\n        <label htmlFor=\"observaciones\">Observaciones</label>\n        <textarea\n          name=\"observaciones\"\n          id=\"observaciones\"\n          className=\"form-control\"\n          defaultValue={this.props.observaciones ?? \"\"}\n          onChange={this.catchInputs}\n        ></textarea>\n      </>\n    );\n  }\n\n  catchInputs = (e) => {\n    const { name } = e.target,\n      value =\n        e.target.type === \"checkbox\"\n          ? e.target.checked\n          : e.target.value.toLowerCase();\n    this.props.onChangeInput(name, value);\n  };\n}\n","import moment from \"moment\";\n\nconst handleTypeInput = (key) => {\n  if (\n    key === \"pc\" ||\n    key === \"tablet\" ||\n    key === \"movil\" ||\n    key === \"lap\" ||\n    key === \"pc_time\" ||\n    key === \"tablet_time\" ||\n    key === \"movil_time\" ||\n    key === \"lap_time\" ||\n    key === \"frontal\" ||\n    key === \"occipital\" ||\n    key === \"generality\" ||\n    key === \"cefalea\" ||\n    key === \"temporaod\" ||\n    key === \"temporaoi\" ||\n    key === \"c_frecuencia\" ||\n    key === \"c_intensidad\"\n  ) {\n    return \"generales\";\n  }\n  if (\n    key === \"interrogatorio\" ||\n    key === \"coa\" ||\n    key === \"aopp\" ||\n    key === \"aopf\"\n  ) {\n    return \"interrogatorios\";\n  }\n  if (\n    key === \"keratometriaod\" ||\n    key === \"keratometriaoi\" ||\n    key === \"rsod\" ||\n    key === \"rsoi\"\n  ) {\n    return \"keraRet\";\n  }\n  if (\n    key === \"d_time\" ||\n    key === \"d_media\" ||\n    key === \"d_test\" ||\n    key === \"d_fclod\" ||\n    key === \"d_fclod_time\" ||\n    key === \"d_fcloi\" ||\n    key === \"d_fcloi_time\"\n  ) {\n    return \"diabetes\";\n  }\n  if (\n    key === \"cvod\" ||\n    key === \"cvoi\" ||\n    key === \"avslod\" ||\n    key === \"avsloi\" ||\n    key === \"avcgaod\" ||\n    key === \"avcgaoi\" ||\n    key === \"avfod\" ||\n    key === \"avfoi\" ||\n    key === \"avf2o\"\n  ) {\n    return \"agudeza\";\n  }\n  if (\n    key === \"diagnostico\" ||\n    key === \"presbicie\" ||\n    key === \"piod\" ||\n    key === \"pioi\" ||\n    key === \"txoftalmico\"\n  ) {\n    return \"diagnostico\";\n  }\n  if (\n    key === \"esferaod\" ||\n    key === \"esferaoi\" ||\n    key === \"cilindrod\" ||\n    key === \"cilindroi\" ||\n    key === \"ejeod\" ||\n    key === \"ejeoi\" ||\n    key === \"adiciond\" ||\n    key === \"adicioni\" ||\n    key === \"adicion_media_od\" ||\n    key === \"adicion_media_oi\" ||\n    key === \"dpod\" ||\n    key === \"dpoi\" ||\n    key === \"alturaod\" ||\n    key === \"alturaoi\" ||\n    key === \"lcmarca\" ||\n    key === \"lcgod\" ||\n    key === \"lcgoi\"\n  ) {\n    return \"graduacion\";\n  }\n  if (key === \"observaciones\") {\n    return \"observaciones\";\n  }\n\n  return null;\n};\nconst handleCodeName = (category) => {\n  let code = \"\";\n  if (category.parent) {\n    if (category.parent.parent) {\n      code = category.parent.parent.meta.code;\n      code += category.parent.meta.code;\n      code += category.meta.code;\n    } else {\n      code = category.parent.meta.code;\n      code += category.meta.code;\n    }\n  } else {\n    code = category.meta.code;\n  }\n\n  return code;\n};\nconst getCodeGrad = (category, esferaod, esferaoi, cilindrod, cilindroi) => {\n  const code = Object.keys(category).length ? handleCodeName(category) : null;\n\n  if (!code) return {};\n\n  let gradod = \"+000000\",\n    gradoi = \"+000000\";\n\n  if (cilindrod || esferaod) {\n    gradod = esferaod > 0 ? \"+\" : \"\";\n    gradod +=\n      esferaod.toFixed(2).toString().replace(\".\", \"\") +\n      cilindrod.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\n  }\n  if (cilindroi || esferaoi) {\n    gradoi = esferaoi > 0 ? \"+\" : \"\";\n    gradoi +=\n      esferaoi.toFixed(2).toString().replace(\".\", \"\") +\n      cilindroi.toFixed(2).toString().replace(\"-\", \"\").replace(\".\", \"\");\n  }\n\n  return {\n    code,\n    od: gradod,\n    oi: gradoi,\n  };\n};\n//Quickly save exam with a button\nconst handleSaveExam = (contact, id = 0, _save) => {\n  const examToday = contact.examenes.filter(\n    (exam) =>\n      moment(exam.created_at).diff(moment(), \"days\") === 0 || !exam.estado\n  );\n\n  if (examToday.length && !id) {\n    window.Swal.fire({\n      title: \"Examenes\",\n      text: \"Existe un examen activo o del dia\",\n      icon: \"error\",\n    });\n    console.error(\"[OrusSystem] Examenes activos:\", examToday.length);\n    return false;\n  }\n\n  //Confirmación de almacenamiento\n  window.Swal.fire({\n    title: \"Almacenamiento\",\n    text: id\n      ? `¿Esta seguro de actualizar este examen?`\n      : \"¿Esta seguro de crear un nuevo examen?\",\n    icon: \"question\",\n    showCancelButton: true,\n    confirmButtonText: id ? \"Actualizar\" : \"Crear\",\n    cancelButtonText: \"Cancelar\",\n    showLoaderOnConfirm: true,\n  }).then(({ dismiss }) => {\n    if (!dismiss && _save) {\n      _save({\n        id: 0,\n        data: {\n          edad: contact.edad,\n          contact_id: contact.id,\n        },\n      });\n    }\n  });\n};\n\nconst toExportActions = {\n  handleTypeInput,\n  handleCodeName,\n  getCodeGrad,\n  handleSaveExam,\n};\n\nexport default toExportActions;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport useCategory from \"../../../hooks/useCategory\";\nimport helper from \"../helpers\";\n\nexport default function RecomendationGlass(props) {\n  const [state, setState] = useState({\n    category_list: [],\n    category_list_2: [],\n    category_list_3: [],\n    category_id_1: 0,\n    category_id_2: 0,\n    category_id_3: 0,\n    category: {},\n    codesItems: {},\n  });\n  const _category = useCategory();\n  const {\n      category_id,\n      title,\n      esferaod,\n      esferaoi,\n      cilindrod,\n      cilindroi,\n      handleCodesItems,\n    } = props,\n    {\n      codesItems,\n      category_id_1,\n      category_id_2,\n      category_id_3,\n      category_list_2,\n      category_list_3,\n      category_list,\n    } = state;\n  // Functions\n  const handleCategoryChange = (e) => {\n    const { name, value } = e.target,\n      { onChangeInput: _onChangeInput } = props;\n\n    switch (name) {\n      case \"category_id_1\":\n        for (const key in category_list) {\n          if (category_list[key].id === parseInt(value)) {\n            setState({\n              ...state,\n              category_id_1: parseInt(value),\n              category_id_3: 0,\n              category_list_2: category_list[key].sons,\n              category_list_3: [],\n            });\n            break;\n          }\n        }\n        break;\n      case \"category_id_2\":\n        if (value) {\n          state.category_list_2.map((cat) => {\n            if (cat.id === parseInt(value)) {\n              setState({\n                ...state,\n                category_id_2: parseInt(value),\n                category_list_3: cat.sons,\n              });\n            }\n            return null;\n          });\n        }\n        break;\n      case \"category_id_3\":\n        _onChangeInput(parseInt(value));\n        break;\n\n      default:\n        setState({\n          ...state,\n          [name]: parseInt(value),\n        });\n        break;\n    }\n  };\n  const handleClickCategory = (e) => {\n    e.preventDefault();\n    const { onChangeInput } = props;\n    setState({\n      ...state,\n      category_list_2: [],\n      category_list_3: [],\n      category_id_1: 0,\n      category_id_2: 0,\n      category_id_3: 0,\n      category: {},\n      codesItems: {},\n    });\n    onChangeInput(0);\n  };\n  const getCategory = async (id) => {\n    if (id) {\n      _category.getCategory(id).then((cat) => {\n        if (cat.id) {\n          setState({\n            ...state,\n            category: cat,\n          });\n        } else {\n          console.error(\"[DEBUG] NEW ERROR\", cat);\n        }\n      });\n    }\n\n    return {};\n  };\n  const getCategories = async () => {\n    _category\n      .getCategories({\n        categoryid: \"raiz\",\n        search: \"lentes\",\n        order: \"id\",\n      })\n      .then(({ data: cat }) => {\n        setState({\n          ...state,\n          category_list: cat[0].sons,\n        });\n      });\n  };\n\n  useEffect(() => {\n    if (category_id) {\n      getCategory(category_id);\n    } else {\n      getCategories();\n    }\n  }, [category_id]);\n\n  useEffect(() => {\n    if (state.category.id) {\n      const data = helper.getCodeGrad(\n        state.category,\n        esferaod,\n        esferaoi,\n        cilindrod,\n        cilindroi\n      );\n\n      setState({\n        ...state,\n        codesItems: data,\n      });\n    }\n  }, [state.category]);\n\n  return (\n    <div className=\"card border border-info rounded d-print-none\">\n      <div className=\"card-body\">\n        <h3 className=\"card-title text-success m-2\">{title}</h3>\n        {!category_id && (\n          <>\n            {category_list.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Tipo</span>\n                </div>\n                <select\n                  name=\"category_id_1\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_1 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el tipo --</option>\n                  {category_list.map((cat) => {\n                    if (\n                      cat.meta &&\n                      cat.meta.rangoInf <= esferaod &&\n                      esferaod <= cat.meta.rangoSup &&\n                      cat.meta.rangoInf <= esferaoi &&\n                      esferaoi <= cat.meta.rangoSup &&\n                      cat.meta.cil <= cilindrod &&\n                      cat.meta.cil <= cilindroi\n                    ) {\n                      return (\n                        <option value={cat.id} key={cat.id}>\n                          {cat.name}\n                        </option>\n                      );\n                    } else return null;\n                  })}\n                </select>\n              </div>\n            ) : null}\n\n            {category_id_1 && category_list_2.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Material</span>\n                </div>\n                <select\n                  name=\"category_id_2\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_2 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el material --</option>\n                  {category_list_2.map((cat) => {\n                    if (\n                      cat.meta &&\n                      cat.meta.rangoInf <= esferaod &&\n                      esferaod <= cat.meta.rangoSup &&\n                      cat.meta.rangoInf <= esferaoi &&\n                      esferaoi <= cat.meta.rangoSup\n                    ) {\n                      return (\n                        <option value={cat.id ?? \"\"} key={cat.id}>\n                          {cat.name}\n                        </option>\n                      );\n                    } else return false;\n                  })}\n                </select>\n              </div>\n            ) : null}\n\n            {category_id_1 && category_id_2 && category_list_3.length ? (\n              <div className=\"input-group mb-3\">\n                <div className=\"input-group-prepend\">\n                  <span className=\"input-group-text\">Tratamiento</span>\n                </div>\n                <select\n                  name=\"category_id_3\"\n                  className=\"custom-select\"\n                  defaultValue={category_id_3 ?? \"\"}\n                  onChange={handleCategoryChange}\n                >\n                  <option value=\"0\">-- Seleccione el tratamiento --</option>\n                  {category_list_3.map((cat) => {\n                    return (\n                      <option value={cat.id ?? \"\"} key={cat.id}>\n                        {cat.name}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n            ) : null}\n          </>\n        )}\n\n        {Object.values(codesItems).length ? (\n          <>\n            {codesItems.code + codesItems.od ===\n            codesItems.code + codesItems.oi ? (\n              <p className=\"card-text\">\n                <label>Lente</label>: {codesItems.code + codesItems.od}\n              </p>\n            ) : (\n              <div className=\"row card-text\">\n                <div className=\"col\">\n                  <label>Lente Derecho</label>\n                  <br /> {codesItems.code + codesItems.od}\n                </div>\n                <div className=\"col\">\n                  <label>Lente Izquierdo</label>\n                  <br /> {codesItems.code + codesItems.oi}\n                </div>\n              </div>\n            )}\n\n            {handleCodesItems && (\n              <p className=\"card-text text-right\">\n                <button\n                  className=\"btn btn-info\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    handleCodesItems({\n                      code: codesItems.code,\n                      od: codesItems.od,\n                      oi: codesItems.oi,\n                    });\n                  }}\n                >\n                  <i className=\"fas fa-check mr-2\"></i>Siguiente\n                </button>\n              </p>\n            )}\n\n            {props.update ? (\n              <p className=\"card-text text-right\">\n                <button\n                  className=\"btn btn-outline-info btn-sm card-link mt-2\"\n                  onClick={handleClickCategory}\n                >\n                  Cambiar\n                </button>\n              </p>\n            ) : null}\n          </>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport moment from \"moment\";\nimport useContact from \"../../../hooks/useContact\";\n\nimport helper from \"../helper\";\n\nimport es from \"date-fns/locale/es\";\nregisterLocale(\"es\", es);\n\nexport default function CardNewContact(props) {\n  const { title = \"contacto\", nameDefault, messages = [] } = props;\n  const [data, setData] = useState({\n    name: \"\",\n    phone: \"\",\n    birthday: moment(),\n    email: \"\",\n    gender: \"female\",\n  });\n\n  const hookContact = useContact();\n\n  const handleValidForm = (showMsg = false) => {\n    const verify = helper.handleVerificationData(data, showMsg);\n    return verify.result;\n  };\n\n  const handleSave = () => {\n    const valid = handleValidForm(true),\n      body = {\n        ...data,\n        phones: { cell: data.phone },\n        type: 0,\n        business: 0,\n      };\n    if (!valid) return false;\n\n    hookContact.saveContact(body).then((data) => {\n      if (data?.id) {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Usuario guardado correctamente\",\n          showConfirmButton: false,\n          showCancelButton: false,\n          timer: 3000,\n        }).then(({ dissmiss }) => {\n          if (!dissmiss) {\n            props.handleResult(data);\n          }\n        });\n      } else {\n        window.Swal.fire({\n          icon: \"errror\",\n          title: \"Error al guardar el usuario\",\n          showConfirmButton: false,\n          showCancelButton: false,\n          timer: 3000,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (nameDefault) {\n      setData({\n        ...data,\n        name: nameDefault,\n      });\n    }\n  }, []);\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-primary text-bold\">\n              <i className=\"fas fa-plus mr-2\"></i>\n              Crear nuevo {title}\n            </h5>\n            <button\n              type=\"button\"\n              className=\"close\"\n              onClick={props.handleCancel}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            {messages.length ? (\n              <>\n                {messages.map((message, index) => {\n                  const { type, text } = message;\n\n                  return (\n                    <div\n                      className={`alert alert-${\n                        type === \"error\"\n                          ? \"danger\"\n                          : type === \"success\"\n                          ? type\n                          : \"warning\"\n                      }`}\n                      key={index}\n                    >\n                      <i className=\"fas fa-info mr-1\"></i>\n                      {text}\n                    </div>\n                  );\n                })}\n              </>\n            ) : null}\n            <div className=\"form-group\">\n              <label>Nombre del {title}</label>\n              <input\n                type=\"text\"\n                className=\"form-control text-uppercase\"\n                placeholder={`Nombre del ${title}`}\n                autoComplete=\"off\"\n                required=\"required\"\n                pattern=\"^[a-zA-Z.]{2,20}[\\s]{1}[a-zA-Z.]{2,20}.*\"\n                minLength=\"8\"\n                defaultValue={data.name}\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    name: target.value.toLowerCase(),\n                  });\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>E-mail</label>\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                defaultValue={data.email}\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    email: target.value.toLowerCase(),\n                  });\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Telefono celular</label>\n              <input\n                type=\"tel\"\n                placeholder=\"Telefono celular\"\n                className=\"form-control\"\n                maxLength=\"10\"\n                value={data.phone}\n                onChange={({ target }) => {\n                  if (!isNaN(target.value)) {\n                    setData({\n                      ...data,\n                      phone: target.value,\n                    });\n                  }\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Fecha de naciemiento</label>\n\n              <DatePicker\n                className={`form-control`}\n                locale=\"es\"\n                selected={new Date(data.birthday.format(\"YYYY/MM/DD\"))}\n                dateFormat=\"dd/MM/yyyy\"\n                maxDate={new Date()}\n                placeholderText=\"Seleccione una fecha\"\n                onSelect={(date) => {\n                  if (date) {\n                    date = date.toLocaleDateString(\"es-MX\");\n                    date = moment(date, \"DD/MM/YYYY\");\n\n                    if (date.isValid()) {\n                      setData({\n                        ...data,\n                        birthday: date,\n                      });\n                    }\n                  }\n                }}\n                onChange={(date) => {\n                  if (date) {\n                    date = date.toLocaleDateString(\"es-MX\");\n                    date = moment(date, \"DD/MM/YYYY\");\n\n                    if (date.isValid()) {\n                      setData({\n                        ...data,\n                        birthday: date,\n                      });\n                    }\n                  }\n                }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Género</label>\n              <select\n                className=\"custom-select\"\n                onChange={({ target }) => {\n                  setData({\n                    ...data,\n                    gender: target.value,\n                  });\n                }}\n                defaultValue={data.gender}\n              >\n                <option value=\"male\">Hombre</option>\n                <option value=\"female\">Mujer</option>\n              </select>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <div className=\"btn-group\">\n              {props.handleCancel && (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default\"\n                  onClick={props.handleCancel}\n                >\n                  <i className=\"fas fa-ban mr-1\"></i>\n                  cancelar\n                </button>\n              )}\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={handleSave}\n              >\n                <i className=\"fas fa-save\"></i>\n                Guardar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","export default function Autocomplete(props) {\n  return (\n    <div\n      className=\"position-absolute overflow-auto\"\n      style={{\n        left: props.left ?? \"0rem\",\n        height: !props.showNew ? \"12rem\" : \"0rem\",\n        zIndex: \"10\",\n        width: \"100%\",\n        maxWidth: props.maxWidth ?? \"30rem\",\n      }}\n    >\n      <ul className=\"list-group\">\n        {props.contacts.length ? (\n          <>\n            {props.contacts.map((contact) => {\n              if (contact.id === 2) {\n                return (\n                  <li\n                    key={contact.id}\n                    className=\"list-group-item text-capitalize\"\n                  >\n                    <i className=\"fas fa-user mr-1 text-secondary\"></i>\n                    {contact.name.toLowerCase()}\n                  </li>\n                );\n              } else {\n                return (\n                  <li\n                    key={contact.id}\n                    className=\"list-group-item text-capitalize\"\n                  >\n                    <a\n                      href=\"#selecte\"\n                      className=\"text-indigo\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        props.handleSelected(contact);\n                      }}\n                    >\n                      <i className=\"fas fa-user mr-1\"></i>\n                      {contact.name.toLowerCase()}\n                    </a>\n                  </li>\n                );\n              }\n            })}\n            {props.meta?.total > props.meta?.per_page ? (\n              <li className=\"list-group-item text-muted\">\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Existen mas registros, sea mas espesifico\n              </li>\n            ) : null}\n          </>\n        ) : props.meta?.total === 0 && props.handleNew ? (\n          <li className=\"list-group-item\">\n            <a\n              href=\"·create\"\n              onClick={(e) => {\n                e.preventDefault();\n                props.handleNew();\n              }}\n            >\n              <i className=\"fas fa-info-circle mr-1 text-dark\"></i>\n              <label>El {props.title}:</label>\n              <span className=\"text-uppercase text-dark font-weight-bold ml-1\">\n                {props.text}\n              </span>\n              , no existe.\n              <span className=\"badge badge-dark ml-2\">Registrar</span>\n            </a>\n          </li>\n        ) : null}\n      </ul>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useRef, useState } from \"react\";\n\nimport Easycontact from \"./CardNewContact\";\nimport Autocomplete from \"./Autocomplete\";\n\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function ShowCardSearch(props) {\n  const [state, setState] = useState({\n    search: \"\",\n    contacts: [],\n    meta: {},\n    new: false,\n    newName: \"\",\n    loading: false,\n    timer: \"\",\n  });\n  const _contacts = useContact();\n  const input = useRef();\n  // Functions\n  const handleSearch = () => {\n    setState({\n      ...state,\n      timer: \"\",\n      loading: true,\n    });\n    _contacts\n      .getContacts({\n        search: state.search,\n        itemsPage: 10,\n      })\n      .then((res) => {\n        if (res.data) {\n          setState({\n            ...state,\n            contacts: res.data,\n            meta: res.meta,\n            loading: false,\n          });\n        } else {\n          const messages = Object.values(res.errors);\n\n          console.error(\"[Orus System] Message of server:\", res.errors);\n          window.Swal.fire({\n            title: \"Contactos\",\n            text: messages[0],\n            icon: \"error\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n\n          setState({\n            ...state,\n            contacts: [],\n            meta: {},\n            loading: false,\n          });\n        }\n      });\n  };\n\n  useEffect(() => {\n    let toTimer = null;\n    if (state.search.length >= 3) {\n      if (state.timer) clearTimeout(state.timer);\n      toTimer = setTimeout(() => handleSearch(), 2000);\n      setState({\n        ...state,\n        timer: toTimer,\n        contacts: [],\n        meta: {},\n      });\n    } else if (!state.search.length) {\n      if (state.timer) clearTimeout(state.timer);\n      setState({\n        ...state,\n        timer: null,\n        contacts: [],\n        meta: {},\n        loading: false,\n      });\n    }\n  }, [state.search]);\n\n  return (\n    <>\n      <input\n        type=\"text\"\n        className=\"form-control text-uppercase\"\n        defaultValue={state.search}\n        onChange={({ target }) => {\n          setState({\n            ...state,\n            search: target.value?.toLowerCase(),\n          });\n        }}\n        disabled={state.loading}\n        onKeyDown={({ key }) => {\n          if (key === \"Escape\") {\n            setState({\n              ...state,\n              contacts: [],\n              search: \"\",\n            });\n            input.current.value = \"\";\n          } else if (key === \"Enter\") {\n            if (state.timer) clearTimeout(state.timer);\n            handleSearch();\n            setState({\n              ...state,\n              timer: null,\n            });\n          }\n        }}\n        ref={input}\n      />\n\n      {state.loading && (\n        <div className=\"float-right px-4\">\n          <div className=\"spinner-border text-indigo\"></div>\n        </div>\n      )}\n\n      {state.new && (\n        <Easycontact\n          title={props.title}\n          nameDefault={state.newName}\n          handleCancel={(e) => {\n            setState({\n              ...state,\n              new: false,\n              newName: \"\",\n            });\n          }}\n          handleResult={(contact) => {\n            setState({\n              ...state,\n              new: false,\n              newName: \"\",\n            });\n            props.handleSelectContact(contact);\n          }}\n        />\n      )}\n\n      {state.search.length > 2 && !state.loading && (\n        <div className=\"w-100 d-block position-static\">\n          <Autocomplete\n            contacts={state.contacts}\n            text={state.search}\n            meta={state.meta}\n            title={props.title}\n            left=\"6rem\"\n            maxWidth=\"28rem\"\n            handleNew={(e) => {\n              setState({\n                ...state,\n                contacts: [],\n                search: \"\",\n                new: true,\n                newName: state.search,\n              });\n              input.current.value = \"\";\n            }}\n            handleSelected={(contact) => {\n              props.handleSelectContact(contact);\n\n              setState({\n                ...state,\n                contacts: [],\n                search: \"\",\n              });\n              input.current.value = \"\";\n            }}\n          />\n        </div>\n      )}\n    </>\n  );\n}\n","import { useHistory } from \"react-router-dom\";\nimport Search from \"./ShowCardSearch\";\n\nexport default function ShowContactComponent(props) {\n  const { data = {}, readOnly = false, title = \"contacto\", legend } = props;\n  const history = useHistory();\n\n  return (\n    <div className=\"w-100 d-block\">\n      {legend && !data.id && (\n        <span className=\"text-sm text-muted ml-4 w-100 d-block\">\n          <label>Primero:</label> {legend}\n        </span>\n      )}\n\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className=\"input-group-text text-capitalize\">\n            <i className=\"fas fa-user mr-2\"></i> {title}\n          </span>\n        </div>\n\n        \n        {data.id ? (\n          <>\n            <span className=\"form-control bg-light\">\n              {data.name.toUpperCase()}\n              <span className=\"badge badge-secondary mx-1\">\n                <i className=\"fas fa-envelope mr-1\"></i>\n                {data.email ? data.email : \"--\"}\n              </span>\n              <span className=\"badge badge-secondary ml-1\">\n                <i className=\"fas fa-calendar mr-1\"></i>\n                {props.age ? `${props.age} años` : \"--\"}                \n              </span>\n            </span>\n            {!readOnly && (\n              <div className=\"float-right\">\n                <div className=\"btn-group btn-sm d-print-none\">\n                  <button\n                    type=\"button\"\n                    className=\"btn btn-secondary btn-sm\"\n                    onClick={() => {\n                      window.Swal.fire({\n                        title: \"Contactos\",\n                        text: `¿Esta seguro de cambiar de ${props.title}?`,\n                        icon: \"question\",\n                        showCancelButton: true,\n                        // confirmButtonColor: \"#d33\",\n                        confirmButtonText: \"Cambiar\",\n                        cancelButtonText: \"Cancelar\",\n                        showLoaderOnConfirm: true,\n                      }).then(({ dismiss }) => {\n                        if (!dismiss) {\n                          props.handleContactSelect({ id: 0 });\n                          //props.handleContactSelect();\n                        }\n                      });\n                    }}\n                    title=\"Cambiar\"\n                  >\n                    <i className=\"fas fa-exchange-alt\"></i>\n                  </button>\n                  <button\n                    className=\"btn bg-indigo btn-sm\"\n                    onClick={() => history.push(`/contactos/${data.id}`)}\n                    title=\"Editar\"\n                  >\n                    <i className=\"fas fa-edit\"></i>\n                  </button>\n                </div>\n              </div>\n            )}\n          </>\n        ) : (\n          <Search\n            title={title}\n            handleSelectContact={(contact) => {\n              props.handleContactSelect(contact);\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n","export default function SideBarRigth({ state, handle: _handle }) {\n  return (\n    <div className=\"nav flex-column nav-tabs\">\n      <a\n        className={!state.panel ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(0);\n        }}\n      >\n        <i\n          className={\n            state.generales\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Generales\n      </a>\n\n      <a\n        className={state.panel === 1 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(1);\n        }}\n      >\n        <i\n          className={\n            state.interrogatorios\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Interrogatorio\n      </a>\n\n      <a\n        className={state.panel === 2 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(2);\n        }}\n      >\n        <i\n          className={\n            state.keraRet\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Keratometria\n      </a>\n\n      <a\n        className={state.panel === 3 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(3);\n        }}\n      >\n        <i\n          className={\n            state.diabetes\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Diabetes\n      </a>\n\n      <a\n        className={state.panel === 4 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(4);\n        }}\n      >\n        <i\n          className={\n            state.agudeza\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Agudeza\n      </a>\n\n      <a\n        className={state.panel === 5 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(5);\n        }}\n      >\n        <i\n          className={\n            state.diagnostico\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Diagnostico\n      </a>\n\n      <a\n        className={state.panel === 6 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(6);\n        }}\n      >\n        <i\n          className={\n            state.graduacion\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Graduación\n      </a>\n\n      <a\n        className={state.panel === 7 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(7);\n        }}\n      >\n        <i\n          className={\n            state.observaciones\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Observaciones\n      </a>\n\n      <a\n        className={state.panel === 8 ? \"nav-link text-bold active\" : \"nav-link\"}\n        href=\"#general\"\n        onClick={(e) => {\n          e.preventDefault();\n          _handle(8);\n        }}\n      >\n        <i\n          className={\n            state.recomendaciones\n              ? \"fas fa-check-circle mr-1 text-success\"\n              : \"fas fa-circle mr-1\"\n          }\n        ></i>\n        Recomendaciones\n      </a>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n//Componentes\nimport Generales from \"./views/GeneralesExam\";\nimport Interrogatorios from \"./views/interrogatoriosExam\";\nimport KeraRet from \"./views/keraRetExam\";\nimport Diabetes from \"./views/diabetesExam\";\nimport Agudeza from \"./views/agudezaExam\";\nimport Diagnostico from \"./views/diagnosticoExam\";\nimport Graduacion from \"./views/graduacionExam\";\nimport Observaciones from \"./views/observacionesExam\";\nimport Recomendaciones from \"./views/RecomendationGlass\";\nimport ShowContact from \"../Contacts/views/ShowCard\";\nimport SideBarRigth from \"./views/SideBarRigth\";\nimport useExam from \"../../hooks/useExam\";\nimport Activitys from \"../Activitys\";\n\nexport default function Add(props) {\n\n\n  const [state, setState] = useState({\n    ...getDataDefault(),\n    loading: false,\n    panel: 0,\n    used: {\n      generales: false,\n      interrogatorios: false,\n      keraRet: false,\n      diabetes: false,\n      agudeza: false,\n      diagnostico: false,\n      graduacion: false,\n      observaciones: false,\n      recomendaciones: false,\n    },\n    activitys:[],\n  });\n\n  \n  const { id } = props.match.params;\n  const _exams = useExam();\n  const history = useHistory();\n\n  // Functions\n  const handlePanel = (num) => {\n    if (isNaN(num)) return;\n    if (typeof num === \"string\") num = parseInt(num);\n\n    setState({\n      ...state,\n      panel: num,\n    });\n  };\n  const handleSave = () => {\n\n    const data = {\n      ...state,\n    };\n\n\n\n    const { contact } = data;\n    delete data.loading;\n    delete data.panel;\n    delete data.used;\n    delete data.contact;\n\n    delete data.activitys;        \n\n    if (!data.category_ii) delete data.category_ii;\n    if (!data.category_id) delete data.category_id;\n\n    if (\n      (data.cilindrod < 0 && !data.ejeod) ||\n      (data.cilindroi < 0 && !data.ejeoi)\n    ) {\n      window.Swal.fire(\n        \"Consultorio\",\n        \"El campo CILINDRO esta vacio\",\n        \"warning\"\n      );\n      return false;\n    }\n\n    window.Swal.fire({\n      title: \"Consultorio\",\n      text: data.id\n        ? `¿Desea actualizar el examen de ${contact.name.toUpperCase()}?`\n        : `¿Desea crear un nuevo examen para ${contact.name.toUpperCase()}?`,\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonText: data.id ? \"Actualizar\" : \"Crear\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        _exams.saveExam(data).then((res) => {\n          if (res?.id) {\n            console.log(\"[Orus System] Save exam successfully\", res.id);\n            props.handleNewOrEdit();\n            history.push(\"/consultorio\");\n          } else if (res.hasOwnProperty(\"errors\")) {\n            const messages = Object.values(res.errors);\n\n            console.error(\"[Orus System] Message of server:\", res.errors);\n            window.Swal.fire({\n              title: \"Consultorio\",\n              text: messages[0],\n              icon: \"error\",\n              showConfirmButton: false,\n              timer: 3000,\n            });\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {    \n    if (id) {\n      console.log(\"[Orus System] Loading exam:\", id);\n      setState({\n        ...state,\n        loading: false,\n      });\n      _exams.getExam(id).then((res) => {        \n        res.category_ii = res.category_ii?.id;\n        res.category_id = res.category_id?.id;        \n\n        setState({\n          ...getDataDefault(res),\n          loading: false,\n          panel: 0,\n          used: {\n            generales: true,\n            interrogatorios: true,\n            keraRet: true,\n            diabetes: true,\n            agudeza: true,\n            diagnostico: true,\n            graduacion: true,\n            observaciones: true,\n            recomendaciones: true,\n          },\n          activitys: res.activity ?? [],\n        });\n      });\n    }\n  }, [id]);\n\n  return (\n    <>\n      <div className=\"card card-info card-outline d-print-none\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title text-info\">\n            <i className=\"fas fa-notes-medical mr-1\"></i>\n            {state.id ? (\n              <label>\n                Examen <span className=\"badge badge-info\">#{state.id}</span>\n              </label>\n            ) : (\n              \"Nuevo examen\"\n            )}\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"form-group\">\n            <ShowContact\n              readOnly={state.id ? true : false}\n              title=\"paciente\"\n              legend=\"Busque el paciente por nombre para crear un nuevo examen\"\n              left=\"6.5rem\"\n              data={state.contact}\n              age = {state.age}\n              handleContactSelect={(doc) => {                \n                setState({\n                  ...state,\n                  contact: doc,\n                  contact_id: doc.id,\n                  age:doc.age\n                });\n              }}\n            />\n          </div>\n\n          {state.contact?.id ? (\n            <div className=\"row\">\n              <div className=\"col-2\">\n                <SideBarRigth\n                  state={{ panel: state.panel, ...state.used }}\n                  handle={handlePanel}\n                />\n              </div>\n              <div className=\"col-10\">\n                {!state.panel ? (\n                  <Generales\n                    pc={state.pc ?? \"\"}\n                    tablet={state.tablet ?? \"\"}\n                    movil={state.movil ?? \"\"}\n                    lap={state.lap ?? \"\"}\n                    lap_time={state.lap_time ?? \"\"}\n                    pc_time={state.pc_time ?? \"\"}\n                    tablet_time={state.tablet_time ?? \"\"}\n                    movil_time={state.movil_time ?? \"\"}\n                    cefalea={state.cefalea ?? \"\"}\n                    c_frecuencia={state.c_frecuencia ?? \"\"}\n                    c_intensidad={state.c_intensidad ?? \"\"}\n                    frontal={state.frontal ?? \"\"}\n                    temporal={state.temporal ?? \"\"}\n                    occipital={state.occipital ?? \"\"}\n                    generality={state.generality ?? \"\"}\n                    temporaoi={state.temporaoi ?? \"\"}\n                    temporaod={state.temporaod ?? \"\"}\n                    handleGetData={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          generales: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n                {state.panel === 1 ? (\n                  <Interrogatorios\n                    interrogatorio={state.interrogatorio ?? \"\"}\n                    coa={state.coa ?? \"\"}\n                    aopp={state.aopp ?? \"\"}\n                    aopf={state.aopf ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          interrogatorios: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 2 ? (\n                  <KeraRet\n                    keratometriaoi={state.keratometriaoi ?? \"\"}\n                    keratometriaod={state.keratometriaod ?? \"\"}\n                    rsoi={state.rsoi ?? \"\"}\n                    rsod={state.rsod ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          keraRet: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 3 ? (\n                  <Diabetes\n                    d_time={state.d_time ?? \"\"}\n                    d_media={state.d_media ?? \"\"}\n                    d_test={state.d_test ?? \"\"}\n                    d_fclod={state.d_fclod ?? \"\"}\n                    d_fclod_time={state.d_fclod_time ?? \"\"}\n                    d_fcloi={state.d_fcloi ?? \"\"}\n                    d_fcloi_time={state.d_fcloi_time ?? \"\"}\n                    oftalmoscopia={state.oftalmoscopia ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          diabetes: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 4 ? (\n                  <Agudeza\n                    cvod={state.cvod ?? \"\"}\n                    cvoi={state.cvoi ?? \"\"}\n                    avslod={state.avslod ?? \"\"}\n                    avsloi={state.avsloi ?? \"\"}\n                    avcgaod={state.avcgaod ?? \"\"}\n                    avcgaoi={state.avcgaoi ?? \"\"}\n                    avfod={state.avfod ?? \"\"}\n                    avfoi={state.avfoi ?? \"\"}\n                    avf2o={state.avf2o ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          agudeza: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 5 ? (\n                  <Diagnostico\n                    diagnostico={state.diagnostico ?? \"\"}\n                    presbicie={state.presbicie ?? \"\"}\n                    piod={state.piod ?? \"\"}\n                    pioi={state.pioi ?? \"\"}\n                    txoftalmico={state.txoftalmico ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          diagnostico: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 6 ? (\n                  <Graduacion\n                    esferaod={state.esferaod ?? 0}\n                    esferaoi={state.esferaoi ?? 0}\n                    cilindrod={state.cilindrod ?? 0}\n                    cilindroi={state.cilindroi ?? 0}\n                    ejeod={state.ejeod ?? 0}\n                    ejeoi={state.ejeoi ?? 0}\n                    adiciond={state.adiciond ?? 0}\n                    adicioni={state.adicioni ?? 0}\n                    adicion_media_od={state.adicion_media_od ?? 0}\n                    adicion_media_oi={state.adicion_media_oi ?? 0}\n                    dpod={state.dpod ?? 0}\n                    dpoi={state.dpoi ?? 0}\n                    alturaod={state.alturaod ?? 0}\n                    alturaoi={state.alturaoi ?? 0}\n                    lcmarca={state.lcmarca ?? 0}\n                    lcgod={state.lcgod ?? 0}\n                    lcgoi={state.lcgoi ?? 0}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          graduacion: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 7 ? (\n                  <Observaciones\n                    observaciones={state.observaciones ?? \"\"}\n                    onChangeInput={(name, value) => {\n                      if (!name) return;\n\n                      setState({\n                        ...state,\n                        [name]: value,\n                        used: {\n                          ...state.used,\n                          observaciones: true,\n                        },\n                      });\n                    }}\n                  />\n                ) : null}\n\n                {state.panel === 8 ? (\n                  <div className=\"row\">\n                    <div className=\"col\">\n                      <Recomendaciones\n                        category_id={state.category_id ?? null}\n                        esferaod={state.esferaod ?? \"\"}\n                        esferaoi={state.esferaoi ?? \"\"}\n                        cilindrod={state.cilindrod ?? \"\"}\n                        cilindroi={state.cilindroi ?? \"\"}\n                        nameItem=\"item1\"\n                        title=\"Recomendacion principal\"\n                        onChangeInput={(value) => {\n                          setState({\n                            ...state,\n                            category_id: value,\n                            category_ii: 0,\n                            used: {\n                              ...state.used,\n                              recomendaciones: true,\n                            },\n                          });\n                        }}\n                        update={true}\n                      />\n                    </div>\n                    {state.category_id ? (\n                      <div className=\"col\">\n                        <Recomendaciones\n                          category_id={state.category_ii ?? null}\n                          esferaod={state.esferaod ?? \"\"}\n                          esferaoi={state.esferaoi ?? \"\"}\n                          cilindrod={state.cilindrod ?? \"\"}\n                          cilindroi={state.cilindroi ?? \"\"}\n                          nameItem=\"item2\"\n                          title=\"Recomendacion adicional\"\n                          onChangeInput={(value) => {\n                            setState({\n                              ...state,\n                              category_ii: value,\n                              used: {\n                                ...state.used,\n                                recomendaciones: true,\n                              },\n                            });\n                          }}\n                          update={true}\n                        />\n                      </div>\n                    ) : null}\n                  </div>\n                ) : null}\n              </div>\n            </div>\n          ) : null}\n        </div>\n        <div className=\"card-footer text-right\">\n          <div className=\"btn-group\" role=\"group\">\n            <a\n              href=\"#close\"\n              className=\"btn btn-default\"\n              onClick={(e) => {\n                e.preventDefault();\n                history.push(\"/consultorio\");\n                props.handleNewOrEdit();\n              }}\n            >\n              <i\n                className={\n                  state.id ? \"fas fa-arrow-left mr-2\" : \"fas fa-ban mr-2\"\n                }\n              ></i>\n              <strong>{state.id ? \"Cancelar\" : \"Cerrar\"}</strong>\n            </a>\n            {state.id ? (\n              <button\n                className=\"btn btn-default\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  // window.print();\n                }}\n              >\n                <i className=\"fas fa-print mr-2\"></i>\n                Imprimir\n              </button>\n            ) : null}\n            <button\n              type=\"button\"\n              className={\n                state.contact?.id ? \"btn btn-info\" : \"btn btn-info disabled\"\n              }\n              onClick={handleSave}\n              disabled={state.contact?.id ? false : true}\n            >\n              <i className=\"fas fa-save mr-1\"></i>\n              <strong>{state.id ? \"Actualizar\" : \"Guardar\"}</strong>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {\n        state.activitys.length ? (\n          <Activitys\n            data = {state.activitys}\n          />\n        ): null\n      }\n\n      \n    </>\n  );\n}\n\nfunction getDataDefault(data = {}) {    \n  let edad = 0;\n  if(data?.customer?.age){\n    edad = data.customer.age;\n  }\n  return {\n    id: data.id ?? 0,\n    age: data.age ? data.age : edad,    \n    keratometriaoi: data.keratometriaoi ?? \"\",\n    keratometriaod: data.keratometriaod ?? \"\",\n    pantalleooi: data.pantalleooi ?? \"\",\n    pantalleood: data.pantalleood ?? \"\",\n    interrogatorio: data.interrogatorio ?? \"\",\n    cefalea: data.cefalea ?? 0,\n    c_frecuencia: data.c_frecuencia ?? \"\",\n    c_intensidad: data.c_intensidad ?? 0,\n    frontal: data.frontal ?? 0,\n    temporal: data.temporal ?? 0,\n    occipital: data.occipital ?? 0,\n    generality: data.generality ?? 0,\n    temporaoi: data.temporaoi ?? 0,\n    temporaod: data.temporaod ?? 0,\n    coa: data.coa ?? \"\",\n    aopp: data.aopp ?? \"\",\n    aopf: data.aopf ?? \"\",\n    avsloi: data.avsloi ?? \"\",\n    avslod: data.avslod ?? \"\",\n    avcgaoi: data.avcgaoi ?? \"\",\n    avcgaod: data.avcgaod ?? \"\",\n    cvoi: data.cvoi ?? \"\",\n    cvod: data.cvod ?? \"\",\n    oftalmoscopia: data.oftalmoscopia ?? \"\",\n    rsoi: data.rsoi ?? \"\",\n    rsod: data.rsod ?? \"\",\n    diagnostico: data.diagnostico ?? \"\",\n    presbicie: data.presbicie ?? 0,\n    txoftalmico: data.txoftalmico ?? \"\",\n    esferaoi: data.esferaoi ?? 0,\n    esferaod: data.esferaod ?? 0,\n    cilindroi: data.cilindroi ?? 0,\n    cilindrod: data.cilindrod ?? 0,\n    ejeoi: data.ejeoi ?? 0,\n    ejeod: data.ejeod ?? 0,\n    adicioni: data.adicioni ?? 0,\n    adiciond: data.adiciond ?? 0,\n    adicion_media_oi: data.adicion_media_oi ?? 0,\n    adicion_media_od: data.adicion_media_od ?? 0,\n    dpoi: data.dpoi ?? 0,\n    dpod: data.dpod ?? 0,\n    avfod: data.avfod ?? \"\",\n    avfoi: data.avfoi ?? \"\",\n    avf2o: data.avf2o ?? \"\",\n    lcmarca: data.lcmarca ?? \"\",\n    lcgoi: data.lcgoi ?? \"\",\n    lcgod: data.lcgod ?? \"\",\n    txoptico: data.txoptico ?? \"\",\n    alturaod: data.alturaod ?? 0,\n    alturaoi: data.alturaoi ?? 0,\n    pioi: data.pioi ?? 0,\n    piod: data.piod ?? 0,\n    observaciones: data.observaciones ?? \"\",\n    pc: data.pc ?? 0,\n    tablet: data.tablet ?? 0,\n    movil: data.movil ?? 0,\n    lap: data.lap ?? 0,\n    lap_time: data.lap_time ?? \"00:00\",\n    pc_time: data.pc_time ?? \"00:00\",\n    tablet_time: data.tablet_time ?? \"00:00\",\n    movil_time: data.movil_time ?? \"00:00\",\n    d_time: data.d_time ?? \"\",\n    d_media: data.d_media ?? \"\",\n    d_test: data.d_test ?? \"\",\n    d_fclod: data.d_fclod ?? 0,\n    d_fcloi: data.d_fcloi ?? 0,\n    d_fclod_time: data.d_fclod_time ?? \"00:00\",\n    d_fcloi_time: data.d_fcloi_time ?? \"00:00\",\n    contact: data.customer ?? {},\n    status: data.status ?? 1,\n    contact_id: data.customer?.id,\n    category_id: data.category_id ?? 0,\n    category_ii: data.category_ii ?? 0,\n  };\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport ToolBar from \"../components/Exam/ToolBar\";\nimport Inbox from \"../components/Exam/Inbox\";\nimport Add from \"../components/Exam/Add\";\n\nimport { ExamContext } from \"../context/ExamContext\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  search: \"\",\n  status: \"\",\n  itemsPage: 25,\n  date: \"\",\n  branch: \"all\",\n};\n\nexport default function Exams(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    newOrEdit: null,\n  });\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]);\n\n  return (\n    <ExamContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <ToolBar\n          newOrEdit={state.newOrEdit}\n          handleNewOrEdit={() =>\n            setState({ ...state, newOrEdit: !state?.newOrEdit })\n          }\n        />\n        {typeof state.newOrEdit === \"boolean\" ? (\n          <div className=\"col-sm-12 col-md-10\">\n            {state.newOrEdit ? (\n              <Add\n                {...props}\n                handleNewOrEdit={() =>\n                  setState({ ...state, newOrEdit: !state.newOrEdit })\n                }\n              />\n            ) : (\n              <Inbox />\n            )}\n          </div>\n        ) : (\n          <p>Loading component</p>\n        )}\n      </div>\n    </ExamContext.Provider>\n  );\n}\n","import { createContext, useContext } from \"react\";\n\nexport const SaleContext = createContext(null);\nexport const Sale = () => useContext(SaleContext);","import { useState } from \"react\";\n\nfunction ListItemsModal({\n  items,\n  cantDefault = 1,\n  handleClose: _close,\n  handleSelect: _Select,\n}) {\n\n\n  const [data, setData] = useState({\n    item: null,\n    cant: cantDefault,\n    price: 0,\n  });\n\n  const disabled = data.price <= 0 || isNaN(data.price) ? true : false;\n  \n  //Functions\n  const handleClose = () => {\n      if (_close) _close();\n    },\n\n\n    handleClickItem = (e, item) => {\n      e.preventDefault();\n      setData({\n        ...data,\n        price: item.price,\n        item,\n      });\n    },\n\n    handleSelectItem = () => {\n      const toSend = {\n        ...data,\n        item: {\n          ...data.item,\n          price: data.price,\n        },\n      };\n\n      _Select(toSend);\n\n      setData({\n        item: null,\n        cant: 1,\n        price: 0,\n      });\n      handleClose();\n    },\n\n\n    handleChangeCant = ({ name, value }) => {\n      setData({\n        ...data,\n        [name]: parseInt(value),\n      });\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione un producto</h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              {data.item && data.item.id ? (\n                <>\n                  <div className=\"text-uppercase mb-4\">\n                    {data.item.producto}                  \n                  </div>\n                  <div className=\"form-group row\">\n                    <label className=\"col-2 col-form-label\">Cantidad</label>\n                    {cantDefault < 2 ? (\n                      <div className=\"col\">\n                        <input\n                          type=\"number\"\n                          placeholder=\"Cantidad\"\n                          name=\"cant\"\n                          className=\"form-control\"\n                          defaultValue={data.cant}\n                          onChange={({ target }) => handleChangeCant(target)}\n                        />\n                      </div>\n                    ) : (\n                      <span className=\"col text-lg\">{data.cant}</span>\n                    )}\n                    <label className=\"col-2 col-form-label\">Precio</label>\n                    <div className=\"col\">\n                        <input\n                          type=\"number\"\n                          placeholder=\"Precio\"\n                          name=\"price\"\n                          className=\"form-control\"\n                          defaultValue={data.price.toString()}\n                          onChange={({ target }) => handleChangeCant(target)}\n                        />\n                      </div>\n                  </div>\n                </>\n              ) : (\n                <table className=\"table table-sm\">\n                  <tbody>\n                    {items ? (\n                      <>\n                        {items.length ? (\n                          <>\n                            {items.map((item) => (\n                              <tr key={item.id}>\n                                <td className=\"text-right\">\n                                  <span className=\"badge badge-dark\">\n                                    {item.code}\n                                  </span>\n                                </td>\n                                <td className=\"text-capitalize text-left\">\n                                  <a\n                                    href=\"#select\"\n                                    onClick={(e) => handleClickItem(e, item)}\n                                  >\n                                    {item.name}\n                                  </a>\n                                </td>\n                                <td>${item.price}</td>\n                              </tr>\n                            ))}\n                          </>\n                        ) : (\n                          <tr>\n                            <td>No existen productos para esta coincidencia</td>\n                          </tr>\n                        )}\n                      </>\n                    ) : (\n                      <tr>\n                        <td>\n                          <i className=\"fas fa-info-circle mr-1\"></i> No se\n                          recibieron los productos\n                        </td>\n                      </tr>\n                    )}\n                  </tbody>\n                </table>\n              )}\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={handleClose}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleSelectItem}\n              disabled = { disabled }\n            >\n              <i className=\"fas fa-check mr-1\"></i>\n              Seleccionar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ListItemsModal;\n","const confirm = (text, _make) => {\n  window.Swal.fire({\n    title: \"Ventas\",\n    text,\n    icon: \"warning\",\n    showCancelButton: true,\n    confirmButtonText: \"Aceptar\",\n    cancelButtonText: \"Cancelar\",\n  }).then(({ dismiss }) => {\n    if (!dismiss) {\n      if (_make) _make();\n    }\n  });\n};\n\nconst getMethodName = (status) => {\n  switch (status) {\n    case 1:\n      return \"efectivo\";\n    case 2:\n      return \"tarjeta debito\";\n    case 3:\n      return \"tarjeta Credito\";\n    case 4:\n      return \"la marina\";\n    case 5:\n      return \"cheque\";\n    case 6:\n      return \"transferencia\";\n    default:\n      return \"otro\";\n  }\n};\n\n//TODO:GET SESSION(ERROR VARIABLE)//\nconst getSession = () => {\n  return (\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(36).substring(2, 16) +\n    Math.random().toString(10)\n  );\n};\n\nconst getForPay = (items, payments, discount = 0) => {\n  if (!items || !Array.isArray(items) || !items.length) {\n    return 0;\n  }\n\n  if (!Array.isArray(payments)) {\n    payments = [];\n  }\n\n  const paid = payments.reduce((b, p) => b + p.total, 0);\n  const total = items.reduce((b, p) => b + p.subtotal, 0);\n\n  return total - paid - discount;\n};\n\nconst getSubTotal = (items) => {\n  if (!items || !items.length) {\n    return 0;\n  }\n\n  return items.reduce((b, p) => b + p.subtotal, 0);\n};\n\nconst getTotal = (subtotal, discount) => {\n  return subtotal - discount;\n};\n\nconst getPagado = (payments = []) => {\n  if (!payments || !payments.length) {\n    return 0;\n  }\n  return payments.reduce((b, p) => b + p.total, 0);\n};\n\nconst toExport = {\n  confirm,\n  getMethodName,\n  getSession,\n  getForPay,\n  getSubTotal,\n  getTotal,\n  getPagado,\n};\n\nexport default toExport;\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Components\nimport ListModal from \"./ListItemsModal\";\n\n//Hooks\nimport useProducts from \"../../../hooks/useProducts\";\n\n//Helper\nimport helper from \"../helpers\";\n\nfunction InputSearchItem() {\n  //State\n  const [textSearch, setTextSearch] = useState(\"\");\n  const [showList, setShowList] = useState(false);\n  const [cantDefault, setCantDefault] = useState(1);\n  const [list, setList] = useState([]);\n\n  const sale = Sale();\n  const { session } = sale;\n  const hookProducts = useProducts();\n\n  //Functions\n  const handleChangeTextSearch = ({ value }) => {\n      setTextSearch(value);\n    },\n    handlePressEnter = (key) => {\n      if (key === \"Enter\") {\n        searchItem();\n      }\n    },\n    searchItem = () => {\n      if (textSearch.length > 2) {\n        const codes = textSearch.split(\"*\");\n        let search = textSearch;\n\n        if (codes.length === 2) {\n          search = codes[1];\n          setCantDefault(parseInt(codes[0]));\n        }\n\n        hookProducts.getProducts(search).then((data) => {\n          if (data) {\n            setList(data.data);\n          } else {\n            console.error(\"Error al buscar el producto\");\n          }\n        });\n        setTextSearch(\"\");\n      }\n    },\n    handleCloseModal = () => {\n      setShowList(false);\n    },\n    makeItem = (data) => {\n      return {\n        id: 0,\n        cant: data.cant,\n        price: parseFloat(data.item.price),\n        subtotal: parseInt(data.cant) * parseFloat(data.item.price),\n        inStorage:\n          parseInt(data.item.cantidades) >= parseInt(data.cant) ? true : false,\n        out: parseInt(data.item.cantidades) - parseInt(data.cant),\n        cantInStore: parseInt(data.item.cantidades),\n        session,\n        store_items_id: data.item.id,\n        descripcion: data.item.descripcion,\n        producto: data.item.name.toLowerCase(),\n        category: data.item.categoria ? data.item.categoria.id : 0,\n      };\n    },\n    handleSelectItem = (data) => {\n      const item = makeItem(data);\n      handleAddItem(item);\n      setCantDefault(1);\n    },\n    handleAddItem = (result) => {\n      const found = sale.items.filter(\n        (item) => item.store_items_id === result.store_items_id\n      );\n\n      let newItems = sale.items.filter(\n        (item) => item.store_items_id !== result.store_items_id\n      );\n\n      if (found.length) {\n        const cantidad = parseInt(result.cant) + parseInt(found[0].cant),\n          item = {\n            ...found[0],\n            cant: cantidad,\n            subtotal: parseFloat(result.price) * cantidad,\n            inStorage: cantidad >= parseInt(result.cantInStore) ? true : false,\n            out: parseInt(result.cantInStore) - cantidad,\n          };\n        newItems.push(item);\n        window.Swal.fire({\n          title: \"Producto agregado\",\n          text: `Se agrego otro ${found[0].producto} a la lista`,\n          icon: \"success\",\n          showCancelButton: false,\n          confirmButtonText: \"Ok\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        });\n      } else {\n        newItems.push(result);\n      }\n\n      let subtotal = helper.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helper.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      });\n    };\n\n  useEffect(() => {\n    if (list.length) {\n      if (list.length === 1) {\n        const item = makeItem({\n          item: list[0],\n          cant: cantDefault ? cantDefault : 1,\n        });\n\n        if (item.price <= 0) {\n          window.Swal.fire({\n            title: \"Verificar\",\n            text: `El item que intentas agregar tiene un precio de $0, revisa el precio en el almacen`,\n            icon: \"warning\",\n            showCancelButton: false,\n            confirmButtonText: \"Ok\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          });\n        } else {\n          handleAddItem(item);\n          setCantDefault(1);\n        }\n      } else {\n        setShowList(true);\n      }\n    }\n  }, [list]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"btn-group text-center d-print-none\">\n      <input\n        className=\"form-control\"\n        placeholder=\"Codigo\"\n        onChange={({ target }) => handleChangeTextSearch(target)}\n        onKeyPress={({ key }) => handlePressEnter(key)}\n        value={textSearch}\n      />\n      <button\n        type=\"button\"\n        className=\"btn btn-primary\"\n        onClick={searchItem}\n        disabled={textSearch.length > 2 ? false : true}\n      >\n        <i className=\"fas fa-barcode\"></i>\n      </button>\n\n      {showList && list.length ? (\n        <ListModal\n          items={list}\n          cantDefault={cantDefault}\n          handleClose={handleCloseModal}\n          handleSelect={handleSelectItem}\n        />\n      ) : null}\n    </div>\n  );\n}\n\nexport default InputSearchItem;\n","//Context\nimport { Sale } from '../../../context/SaleContext';\n\n//Helper\nimport helper from '../helpers';\n\nexport default function DiscountBtnComponent() {\n\n  const sale = Sale();\n  const pagado = helper.getPagado(sale.payments);\n  const btnDisabled = sale.subtotal - pagado > 0 && sale.discount === 0 && pagado === 0 ? false : true;\n\n\n  //Functions\n  const handleAddDiscount = () => {\n    const discount = window.prompt(\"Agregue el descuento a aplicar\"),\n      isNumeric = /^[0-9]+$/gms,\n      isPercen = /^[0-9]{2,3}%$/gms;\n\n      if(discount === null){\n        return null;\n      }else{\n        let sum = 0;\n        sale.items.forEach((item) => (sum += item.subtotal));\n\n        if (discount.match(isNumeric)) {\n          const value = parseInt(discount);\n          \n          sale.set({\n            ...sale,\n            discount: value,\n            total: sale.subtotal - value,\n          });\n\n        } else if (discount.match(isPercen)) {\n          const percent = parseInt(discount.replace(\"%\", \"\")) / 100,\n          value = parseInt(sum * percent);          \n          sale.set({\n            ...sale,\n            discount: value,  \n            total: sale.subtotal - value,               \n          })          \n        }\n      }\n  };\n\n  return (\n    <button\n      className=\"btn btn-primary mx-1\"\n      title=\"Agregar descuento\"\n      onClick={handleAddDiscount}\n      disabled={btnDisabled}\n    >\n      <i className=\"fas fa-percent\"></i>\n    </button>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useSales(ctx) {\n  //Functions\n  const getSaleList = async (search) => {\n    const salesFilters = {\n      orderBy: \"created_at\",\n      order: \"desc\",\n      itemsPage: 100,\n    };\n    if (search) {\n      salesFilters.search = search;\n    }\n\n    const url = setUrl(\"sales\", null, salesFilters);\n    return await api(url);\n  }; \n\n  const getSaleById = async (id) => {\n    const url = setUrl(\"sales\", id);\n    return await api(url);\n  };\n\n  const saveSale = async (sale) => {\n    try {\n      const { id } = sale,\n        url = setUrl(\"sales\", id),\n        method = id ? \"PUT\" : \"POST\";\n        \n      return await api(url, method, sale);\n    } catch (e) {\n      console.error(\n        \"[Orus System] Error in saga/sales handledSaveSale\",\n        e.message\n      );\n    }\n  };\n\n  return {\n    getSaleList,\n    getSaleById,\n    saveSale,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Hooks\nimport useSales from \"../../../hooks/useSale\";\n\n//Libraries\nimport moment from \"moment\";\n\nfunction ListSalesModal({ handleClose: _close, handleSelect: _select }) {\n  const _sales = useSales();\n\n  const [search, setSearch] = useState(\"\");\n\n  const [saleList, setSaleList] = useState([]);\n\n  const sale = Sale();\n\n  const items =\n    saleList.length !== 0 ? saleList : sale.length !== 0 ? sale : [];\n\n  const handleSelectSale = (e, saleSelected) => {\n      if (e) e.preventDefault();\n\n      if (sale.items.length) {\n        window.Swal.fire({\n          title: \"Ventas\",\n          text: `Si cargas una venta, se cerrará la venta actual`,\n          icon: \"question\",\n          showCancelButton: true,\n          confirmButtonText: \"Cargar\",\n          cancelButtonText: \"Cancelar\",\n          showLoaderOnConfirm: true,\n        }).then(({ dismiss }) => {\n          if (!dismiss) {\n            _select(saleSelected);\n          } else {\n            return null;\n          }\n        });\n      } else {\n        _select(saleSelected);\n      }\n    },\n    handleChangeSearch = ({ value }) => {\n      setSearch(value);\n    };\n\n  useEffect(() => {\n    _sales\n      .getSaleList(search)\n      .then((data) => {\n        if (data) {          \n          setSaleList(data.data);\n        } else {\n          console.error(\"Error al obtener las ventas\");\n        }\n      })\n      .catch((error) => console.error(error));\n  }, [search]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione una venta</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"w-full d-block mb-4\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  placeholder=\"Buscar por folio o nombre\"\n                  onChange={({ target }) => handleChangeSearch(target)}              \n                />\n                <button\n                  type=\"button\"\n                  className=\"btn btn-default ml-1\"                  \n                >\n                  <i className=\"fas fa-search\"></i>\n                </button>\n              </div>\n            </div>\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              <table className=\"table table-sm\">\n                <tbody>\n                  {items ? (\n                    <>\n                      {items.length ? (\n                        <>\n                          {items.map((item) => (\n                            <tr key={item.id}>\n                              <td className=\"text-right\">\n                                <span className=\"badge badge-dark\">\n                                  {item.id}\n                                </span>\n                              </td>\n                              <td className=\"text-capitalize text-left\">\n                                <a\n                                  href=\"#select\"\n                                  onClick={(e) => handleSelectSale(e, item)}\n                                >\n                                  {item.customer ? item.customer.name : \"--\"}\n                                </a>\n                              </td>\n                              <td className=\"text-right\">\n                                {moment(item.created_at).fromNow()}\n                              </td>\n                            </tr>\n                          ))}\n                        </>\n                      ) : (\n                        <tr className=\"overlay dark\">\n                          <td className=\"overlay dark\">\n                            <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                            Cargando las ventas!!\n                          </td>\n                        </tr>\n                      )}\n                    </>\n                  ) : (\n                    <tr>\n                      <td>\n                        <i className=\"fas fa-info-circle mr-1\"></i> Escriba el\n                        folio o nombre para cargar una venta\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ListSalesModal;\n","import { useState } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Components\nimport ListSalesModal from \"./ListSalesModal\";\n\nexport default function ListSalesBtn() {\n  const sale = Sale();\n  const [data, setData] = useState(false);\n  const disabled = sale.items.length ? true : false;\n\n  //Functions\n  const handleShowListSales = () => {\n      setData(true);\n    },\n    handleCloseListSales = () => {\n      setData(false);\n    },\n    handleSelectSale = (saleSelected) => {\n      let pagado = 0;\n      saleSelected.payments.forEach((pay) => (pagado = pay.total));\n      setData(false);\n      \n      sale.set({\n        id: saleSelected.id,\n        contact_id: saleSelected.customer.id,\n        customer: saleSelected.customer,\n        items: saleSelected.items,\n        session: saleSelected.session,\n        discount: saleSelected.discount,\n        subtotal: saleSelected.subtotal,\n        total: saleSelected.total,\n        payments: saleSelected.payments,\n        branch_id: saleSelected.branch.id,\n        created_at: saleSelected.created_at,\n        activitys: saleSelected.activity,\n        order: saleSelected.order ?? 0,\n        thereNews: false,\n      });\n\n      return pagado;\n    };\n\n  return (\n    <>\n      <button\n        className=\"btn btn-primary mr-1\"\n        title=\"Cargar una venta\"\n        onClick={handleShowListSales}\n        disabled={disabled}\n      >\n        <i className=\"fas fa-list\"></i>\n      </button>\n\n      {data && (\n        <ListSalesModal\n          handleClose={handleCloseListSales}\n          handleSelect={handleSelectSale}\n        />\n      )}\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect } from \"react\";\nimport HTMLOrderPrint from \"./views/SaleHTML\";\nimport { Auth } from \"../../context/AuthContext\";\n\nexport default function PrintSaleComponent(props) {\n  const { auth: currentUser } = Auth();\n  const currentBranch = currentUser.branch;\n  const handleClose = () => {\n    props.setPrint();\n  };\n\n  useEffect(() => {\n    if (!props.data) {\n      console.error(\"[Orus System] Data is parameter required\");\n      return;\n    }\n\n    const popup = window.open(\n      \"\",\n      \"_blank\",\n      \"fullscreen=1,menubar=0,resizable=0,scrollbars=0,titlebar=0,toolbar=0,top=0,left=300\"\n    );\n\n    popup.document.write(getPage(props.data, currentBranch));\n    popup.window.print();\n\n    popup.onbeforeunload = function () {\n      handleClose();\n    };\n  }, []);\n\n  return <div className=\"load\" style={{\n    position:'fixed',\n    zIndex:'5',\n    width:'100%',\n    top:0,\n    left:0,\n    height:'100%',\n    display:'flex',\n    flexDirection:'column',\n    justifyContent:'center',\n    alignItems:'center',\n    backgroundColor: 'rgba(0,0,0,.5)',\n    }}>      \n      <h1 style={{color:'white', marginBottom:'5%'}}>IMPRESION EN CURSO</h1>\n      <i className=\"fas fa-print fa-6x\"></i>      \n  </div>;\n}\n\nfunction getPage(data, branch) {\n  const card = HTMLOrderPrint(data ?? {}, branch);\n  const body = `<div style=\"width:280px; padding: 0px; margin: 0px; border:1px dotted #DDD\">${card}</div>`;\n\n  return `<html>\n        <head>\n            <title>${\n              data.order_id ? \"Pedido #\" + data.order_id : \"Venta #\" + data.id\n            }</title>            \n        </head>\n        <body style=\"display:flex; justify-content: center; align-items:start\">\n            ${body}\n        </body>\n    </html>`;\n}\n","import moment from \"moment\";\nimport \"moment/locale/es\";\nimport helpers from \"../../Sales/helpers\";\nmoment.locale(\"es\");\n\nexport default function HTMLOrderPrint(sale, branch) {\n  const paid = helpers.getPagado(sale.payments);\n  let amount = sale.total - paid;\n\n  const phone = Object.values(sale.customer?.phones ?? {}).filter(\n    (phone) => phone\n  );\n\n  return `\n  <div style=\"width:100%; padding: 0px; margin: 0px;\">\n    <h6 style=\"font-size: 14; font-family:sans-serif; text-align: right; margin: 0px\">\n      ${sale.order_id ? \"Pedido\" : \"Nota\"}:\n      <strong>${sale.order_id ? sale.order_id : sale.id}</strong>\n    </h6> \n    \n    <h2 style=\"font-size: 28; font-family: sans-serif; margin: 24px 0px;\">\n      <center>\n        <strong>Óptica Madero</strong>\n      </center>\n    </h2>\n\n    <h4 style=\"font-size: 22; font-family: sans-serif; text-align: center; margin:10px 0px;\">\n      Julio Cesar Cardenas Martinez\n    </h4>\n\n    <div style=\"font-size: 14; font-family: sans-serif; width:100%; text-align: center; margin: 0px 5px\">\n      <span style=\"text-transform: uppercase;\">\n        ${branch.name}\n      </span>\n      <br />\n      <span>${branch.phone}</span>\n      <br />\n      <span>${branch.address}</span>\n      <br/>\n      <strong>${moment().format(\"LLLL\")}</strong>\n    </div>\n\n    <h4 style=\"font-size: 22; font-family: sans-serif; text-align: center; text-transform: uppercase;\">\n      ${sale.customer?.name ? sale.customer.name : \"Venta de mostrador\"}\n      <br />\n      <strong>\n        <em style=\"font-size: 18\">\n          ${phone.length ? phone : \"--\"}\n        </em>\n      </strong>\n    </h4>\n\n    <h2 style= \"font-size: 22; font-family:sans-serif\">\n      <center><strong>${sale.order_id ? \"Pedido\" : \"Nota\"}</strong></center>\n    </h2>\n\n    <table style=\"width:100%;\">\n      <thead>\n        <tr>\n          <th style=\"font-size: 12; font-family: sans-serif; text-align:left; width:24px\">\n            Cant\n          </th>\n          <th style=\"font-size: 12; font-family: sans-serif\">\n            Descripcion\n          </th>\n          <th style=\"font-size: 12; font-family: sans-serif; text-align:right; width:48px\">\n            Total\n          </th>\n        </tr>\n      </thead>\n          \n      <tbody>\n        ${sale.items.map((item, index) => {\n          return `<tr key=${index} style=\"\">\n            <td style=\"font-size: 16; font-family: sans-serif; text-align:left\">\n              ${item.cant}\n            </td>\n            <td style=\"font-size: 14; font-family: sans-serif\">\n              ${item.name ?? item.producto}\n            </td>\n            <td style=\"font-size: 16; font-family: sans-serif; text-align:right;\">                    \n              $ ${item.cant * item.price}\n            </td>\n          </tr>`;\n        })}\n      </tbody>\n\n      <tfoot>\n        <tr>\n          <td colspan=\"3\">\n            ${\n              sale.discount !== 0\n                ? `<div style = \"width:100%\">\n                  <h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px; margin-top:12px\">\n                    Subtotal: <label>$ ${sale.subtotal ?? 0}</label>\n                  </h4>\n                  <h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px;\">\n                    Descuento: <label>$ ${sale.discount}</label>\n                  </h4>\n                </div>\n                <h4 style= \"font-size:18; width:100%; font-family: sans-serif; text-align: right; margin:0px;\">\n                  Total: <label>$ ${sale.total ?? 0}</label>\n                </h4>`\n                : `<h4 style= \"font-size:18; width:100%; font-family: sans-serif; text-align: right; margin:0px; margin-top:12px\">\n                  Total: <label>$ ${sale.total ?? 0}</label>\n                </h4>`\n            }\n                      \n            <div style = \"width:100%;\">\n              <h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px;\">\n                Abonado: <label>$ ${paid}</label>\n              </h4>\n              ${\n                amount\n                  ? `<h4 style= \"font-size: 18; font-family: sans-serif; text-align: right; margin:0px;\">\n                    Saldo: <label>$ ${amount}</label>\n                    </h4>`\n                  : `<div style=\"text-align:center; width: 100%\">\n                     <h3 style=\"font-weight:bold\">\n                      ::: Cuenta Pagada :::                      \n                    </h3>\n                  </div>`\n              }\n            </div>\n          </td>\n        </tr>\n      </tfoot>\n    </table>\n      \n    <div>\n      <ul style=\"font-family:sans-serif; font-size: 12;\">\n        <li>\n          Armazones usados, viejos y/o resecos son responsabilidad del\n          cliente\n        </li>\n        <li>\n          Armazones reparados por el cliente pierden garantia de proovedor\n        </li>\n      </ul>\n    </div>\n  </div>\n  `;\n}\n","import { useState, useContext } from \"react\";\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Helpers\nimport helpers from \"../helpers\";\n\nfunction PaymentModal({ forPaid, handleClose: _close }) {\n  const config = useContext(ConfigContext);\n  const listBanks = config.data;\n\n  const sale = Sale();\n\n  //States\n  const [data, setData] = useState({\n    id: 0,\n    metodopago: 1,\n    metodoname: \"efectivo\",\n    total: 0,\n    bank_id: null,\n    details: null,\n    auth: null,\n    forPaid: forPaid,\n  });\n\n  //Functions\n  const handleChangeInput = ({ name, value, type }) => {\n      let val = value;\n      if (type === \"number\" || type === \"select-one\") val = parseFloat(value);\n      setData({\n        ...data,\n        [name]: val,\n      });\n    },\n    handleSetPayment = () => {\n      const payments = [...sale.payments];\n      let pagado = 0;\n\n      if (!data.total) {\n        window.Swal.fire({\n          icon: \"warning\",\n          title: \"El total del abono debe ser mayor a 0\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return false;\n      }\n\n      if (\n        data.metodopago !== 1 &&\n        data.metodopago !== 4 &&\n        data.metodopago !== 0\n      ) {\n        if (!data.bank_id) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Seleccione un banco\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n        if (data.auth?.length < 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique los ultimos 4 numeros de la tarjeta\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        } else if (data.auth?.length > 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique solamente 4 numeros\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      if (data.metodopago === 4) {\n        if (!data.auth) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique el numero de autorización\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      payments.push({\n        ...data,\n        id: `new${Date.now().toString()}`,\n        metodoname: helpers.getMethodName(data.metodopago),\n        total: forPaid < data.total ? forPaid : data.total,\n      });\n\n      payments.forEach((pay) => (pagado += pay.total));\n\n      _close();\n\n      sale.set({\n        ...sale,\n        payments: payments,\n        thereNews: true,\n      });\n    },\n    handleSubmitForm = (e) => {\n      e.preventDefault();\n      handleSetPayment();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Capture el pago</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <form autoComplete=\"off\" onSubmit={handleSubmitForm}>\n              <div className=\"row mb-2 bg-gray-light\">\n                <div className=\"col\">\n                  <h4 className=\"text-center\">\n                    Por pagar: <span className=\"text-success\">$ {forPaid}</span>\n                  </h4>\n                </div>\n              </div>\n              <div className=\"row my-2\">\n                <div className=\"col\">\n                  <label>Metodo de pago</label>\n                  <select\n                    name=\"metodopago\"\n                    className=\"custom-select text-uppercase\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    defaultValue={data.metodopago}\n                  >\n                    <option value=\"1\">Efectivo</option>\n                    <option value=\"2\">Tarjeta de debito</option>\n                    <option value=\"3\">Tarjeta de credito</option>\n                    <option value=\"4\">La marina</option>\n                    <option value=\"5\">Cheque</option>\n                    <option value=\"6\">Transferencia</option>\n                    <option value=\"0\">Otro</option>\n                  </select>\n                </div>\n                <div className=\"col\">\n                  <label>Cantidad</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    className=\"form-control text-right\"\n                    name=\"total\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    autoFocus={true}\n                  />\n                </div>\n              </div>\n\n              {data.metodopago !== 1 ? (\n                <div className=\"row mb-2\">\n                  <div className=\"col\">\n                    {data.metodopago !== 4 && data.metodopago !== 0 ? (\n                      <>\n                        <label>Banco</label>\n                        <select\n                          name=\"bank_id\"\n                          className=\"custom-select text-uppercase\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        >\n                          <option value=\"\">--Seleccione un banco--</option>\n                          {listBanks.map((bank) => {\n                            return bank.name === \"bank\" ? (\n                              <option key={bank.id} value={bank.id}>\n                                {bank.data}\n                              </option>\n                            ) : null;\n                          })}\n                        </select>\n                      </>\n                    ) : !data.metodopago ? (\n                      <>\n                        <label>Espesifique</label>\n                        <input\n                          type=\"text\"\n                          name=\"details\"\n                          className=\"form-control\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        />\n                      </>\n                    ) : (\n                      <h4 className=\"d-bloc text-center mt-4 text-success\">\n                        LA MARINA\n                      </h4>\n                    )}\n                  </div>\n                  <div className=\"col\">\n                    <label>\n                      {data.metodopago !== 4\n                        ? \"Ultimos 4 digitos\"\n                        : \"N. Autorización\"}\n                    </label>\n                    <input\n                      type=\"text\"\n                      name=\"auth\"\n                      className=\"form-control\"\n                      onChange={({ target }) => handleChangeInput(target)}\n                    />\n                  </div>\n                </div>\n              ) : null}\n\n              {forPaid < data.total ? (\n                <div className=\"row\">\n                  <div className=\"col\">\n                    <h4 className=\"text-center mt-4\">\n                      {data.metodopago === 1 ? (\n                        <>\n                          Cambio:\n                          <span className=\"ml-2\">$ {data.total - forPaid}</span>\n                        </>\n                      ) : (\n                        <span className=\"text-danger\">\n                          <i className=\"fas fa-info-circle mr-2\"></i>\n                          La cantidad cobrada es mayor al total\n                        </span>\n                      )}\n                    </h4>\n                  </div>\n                </div>\n              ) : null}\n            </form>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => handleSetPayment()}\n              disabled={!data.total || data.total > data.forPaid}\n            >\n              <i className=\"fas fa-money-bill mr-1\"></i>\n              Abonar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","import { useState } from \"react\";\n\n//Components\nimport PaymentModal from \"./PaymentModal\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\n//Helper\nimport helpers from '../helpers';\n\n\nexport default function PaymentBtnComponent() {\n\n  const [data, setData] = useState({\n    showPayment: false,\n  });\n\n  const sale = Sale();\n\n  const forPaid = helpers.getForPay(sale.items, sale.payments, sale.discount);\n\n  const pagado  = sale.discount === 0 ? helpers.getPagado(sale.payments) : helpers.getPagado(sale.payments) + sale.discount; \n  const paid = sale.subtotal <= pagado ? true : false;\n\n  //Functions\n  const handleShowPayment = () => {\n      setData({\n        ...data,\n        showPayment: true,\n      });\n    },\n    handleClosePayment = () => {\n      setData({\n        ...data,\n        showPayment: false,\n      });\n    };\n\n  return (\n    <>\n      <button\n        className=\"btn btn-success ml-2 d-print-none\"\n        onClick={handleShowPayment}\n        disabled={!sale.items.length || (sale.subtotal && paid)}\n      >\n        <i className=\"fas fa-money-bill-alt\"></i>\n      </button>\n      {data.showPayment && (\n        <PaymentModal\n          handleClose={handleClosePayment}\n          sale={{\n            ...sale,\n            contact_id: sale.customer.id,\n          }}\n          forPaid={forPaid}\n        />\n      )}\n    </>\n  );\n}\n","import { useContext } from 'react';\nimport helpers from \"../helpers.js\";\nimport { useHistory } from 'react-router-dom';\n\n\n//Context\nimport { AuthContext } from '../../../context/AuthContext';\nimport { Sale } from '../../../context/SaleContext';\n\nexport default function EraseSaleBtnComponent(props) {\n\n  const sale = Sale();\n  const disabled = sale.customer.id || sale.items.length ? false : true;\n  const {auth} = useContext(AuthContext);\n  const history = useHistory();\n\n  //Functions\n  const eraseSale = () => {\n      sale.set({\n        id: 0,\n        customer: {\n          id: 0,\n          name: \"venta de mostrador\",\n        },\n        contact_id: 2,\n        items: [],\n        session: helpers.getSession(),\n        discount: 0,\n        subtotal: 0,\n        total: 0,\n        payments: [],\n        branch_id: auth.branch.id,\n        isPayed: false,\n      })\n\n      if( props.match.params.id){\n        history.push('/notas');\n      }else{\n        return null\n      }\n    },\n\n    handleEraseSale = () => {\n      helpers.confirm(\"¿Desea terminar esta venta? La venta actual no se guardara\", eraseSale);\n    };\n\n  return (\n    <button\n      className=\"btn btn-warning ml-1\"\n      title=\"Nueva venta\"\n      onClick={handleEraseSale}\n      disabled={ disabled }\n    >\n      <i className=\"fas fa-window-close\"></i>\n    </button>\n  );\n}\n","import { useState, useContext } from \"react\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\nimport { AuthContext } from \"../../../context/AuthContext\";\n\n//Hooks\nimport useContact from \"../../../hooks/useContact\";\n\n//Helper\nimport saleHelper from '../helpers';\n\nfunction SearchCustomerModal({ handleClose: _close }) {\n  const [data, setData] = useState({\n    textSearch: \"\",\n  });\n\n  const [customers, setCustomers ] = useState([]);\n  const sale = Sale();\n  const { auth } = useContext(AuthContext);\n  const  _contacts  = useContact();\n\n  //Functions\n  const handleClose = () => {\n      if (_close) _close();\n    },\n    handleChangeText = ({ value }) => {\n      setData({\n        textSearch: value,\n      });\n    },\n    handleKeyPressSearch = (key) => {\n      if (key === \"Enter\") {\n        if (data.textSearch.length > 4) {\n          return SearchCustomer();\n        }\n\n        window.Swal.fire({\n          title: \"Verificacion\",\n          text: \"Escriba un nombre valido, al menos 5 caracteres\",\n          icon: \"warning\",\n        });\n      }\n    },\n    SearchCustomer = () => {\n      const filters = {\n        search: data.textSearch,\n        itemsPage: \"25\",\n        orderBy: \"id\",\n        order: \"desc\",\n      };\n\n      _contacts.getContacts(filters).then((data)=>{\n        if(data){\n          setCustomers(data.data);\n        }else{\n          console.error(\"Error al obtener usuario\");\n        }\n      })\n    },\n    handleClickCustomer = (e, customer) => {\n      e.preventDefault();\n      if (sale.customer.id !== customer.id) {\n        if (![0, 2].includes(sale.customer.id)) {\n          window.Swal.fire({  \n            title: \"Ventas\",\n            text: \"Esta accion creara una nueva venta ¿Esta seguro que desea crear una nueva venta?\",\n            icon: \"question\",\n            showCancelButton: true,\n            confirmButtonText: \"Crear\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {                         \n              sale.set({\n                id: 0,\n                customer: {\n                  id:customer.id,\n                  name: customer.name,\n                  phones: customer.phones ?? {},\n                },\n                contact_id: customer.id,\n                items: [],\n                session: saleHelper.getSession(),\n                discount: 0,\n                subtotal: 0,\n                total: 0,\n                payments: [],\n                branch_id: auth.branch.id,\n              })\n              _close();\n            }\n          });\n        } else {\n          sale.set({\n            ...sale,\n            customer:{\n              id: customer.id,\n              name: customer.name ? customer.name : \"Venta de mostrador\",\n              phones: customer.phones ?? {},\n            },\n            contact_id: customer.id\n          }).then(() =>  _close());\n        }\n      } else {\n        _close();\n      }\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Seleccione un cliente</h5>\n            <button type=\"button\" className=\"close\" onClick={handleClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"form-inline mb-3\">\n              <div className=\"form-group\">\n                <input\n                  className=\"form-control\"\n                  placeholder=\"Buscar cliente\"\n                  onChange={({ target }) => handleChangeText(target)}\n                  onKeyPress={({ key }) => handleKeyPressSearch(key)}\n                  onBlur={() => data.textSearch.length > 4 && SearchCustomer()}\n                  autoFocus={true}\n                />\n              </div>\n              <div className=\"form-group pl-2\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary btn-sm\"\n                  onClick={SearchCustomer}\n                  disabled={data.textSearch.length < 5}\n                >\n                  <i className=\"fas fa-search\"></i>\n                </button>\n              </div>\n            </div>\n            <div\n              className=\"table-responsive overflow-auto\"\n              style={{ height: \"12rem\" }}\n            >\n              <table className=\"table table-sm\">\n                <tbody>\n                  {customers.map((customer) => (\n                    <tr key={customer.id}>\n                      <td className=\"text-right\">\n                        <span className=\"badge badge-dark\">{customer.id}</span>\n                      </td>\n                      <td className=\"text-left\">\n                        <a\n                          href=\"#select\"\n                          onClick={(e) => handleClickCustomer(e, customer)}\n                          className=\"text-capitalize\"\n                        >\n                          {customer.name.toLowerCase()}\n                        </a>\n                      </td>\n                    </tr>\n                  ))}\n                  {!customers.length && (\n                    <>\n                      {[0, 2].includes(sale.customer.id) ? (\n                        <tr>\n                          <td>No existen pacientes con esta coincidencia</td>\n                        </tr>\n                      ) : (\n                        <tr>\n                          <td>\n                            <span className=\"alert alert-warning text-center\">\n                              Cambiar de usuario, provocara cerrar la{\" \"}\n                              <strong>venta</strong> actual.\n                            </span>\n                          </td>\n                        </tr>\n                      )}\n                    </>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={handleClose}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SearchCustomerModal;\n","import { useState } from \"react\";\n\n//Componentes\nimport SearchCustomerModal from \"./SearchCustomerModal\";\n\n//Context\nimport { Sale } from \"../../../context/SaleContext\";\n\nexport default function CustomerBtnComponent() {\n\n  // Modal\n  const [modal, setModal] = useState(false);\n\n  \n  const handleModal = () => {\n    setModal(!modal);\n  };\n\n  const sale = Sale();\n  \n  return (\n    <>\n      <i className=\"fas fa-user mr-1 text-indigo\"></i>\n      Cliente:\n      <label className=\"text-capitalize ml-1\">\n        {sale.customer ? sale.customer.name : \"XXX - vuelva a cargar\"}\n      </label>\n      <button\n        type=\"button\"\n        className=\"btn bg-indigo btn-sm ml-2\"\n        title=\"Buscar cliente\"\n        onClick={handleModal}\n      >\n        <i className=\"fas fa-exchange-alt\"></i>\n      </button>\n      {modal && <SearchCustomerModal handleClose={handleModal} />}\n    </>\n  );\n}\n\n","import moment from \"moment\";\n\nfunction PaymentModal({ payment = {}, handleClose: _close }) {\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Detalles del abono</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"row mb-2\">\n              <div className=\"col\">\n                <label className=\"mr-2\">Metodo de pago</label>\n                <span>{payment.metodoname}</span>\n              </div>\n              <div className=\"col\">\n                <label className=\"mr-2\">Cantidad abonada</label>\n                <span>${payment.total}</span>\n              </div>\n            </div>\n\n            {payment.banco && payment.banco.id ? (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <label className=\"mr-2\">Banco</label>\n                  <span>{payment.banco.value}</span>\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2\">Auth</label>\n                  <span>{payment.auth ?? \"--\"}</span>\n                </div>\n              </div>\n            ) : null}\n\n            {payment.id ? (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block\">Folio</label>\n                  <span>{payment.id}</span>\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block\">Fecha</label>\n                  {payment.created_at ? (\n                    <span>{moment(payment.created_at).format(\"LL\")}</span>\n                  ) : (\n                    <span>--</span>\n                  )}\n                </div>\n                <div className=\"col\">\n                  <label className=\"mr-2 d-block text-uppercase\">Recibio</label>\n                  <span>\n                    {payment.created && payment.created.name\n                      ? payment.created.name\n                      : \"--\"}\n                  </span>\n                </div>\n              </div>\n            ) : (\n              <div className=\"row mb-2\">\n                <div className=\"col\">\n                  <span className=\"alert alert-warning d-block text-bold\">\n                    <i className=\"fas fa-info-circle mr-1\"></i>\n                    Pago no acreditado!\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","import { useState } from \"react\";\n\nexport default function UpdateItemModal({\n  item,\n  close: _close,\n  handleUpdate: _update,\n}) {\n  const [data, setData] = useState({\n    cant: item.cant ?? 0,\n    price: item.price ?? 0,\n  });\n  //Functions\n  const handleChangeInput = ({ name, value }) => {      \n      setData({\n        ...data,\n        [name]: parseInt(value),\n      });\n    },\n\n    handleUpdateItem = () => {\n      _update({\n        ...item,\n        ...data,\n        subtotal: data.cant * data.price,\n      });\n    },\n\n    handleKeyPress = (key) => {\n      if (key === \"Enter\") handleUpdateItem();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">\n              <span className=\"text-capitalize text-truncate\">\n                {item.producto}\n              </span>\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <div className=\"row my-2\">\n              <div className=\"col\">\n                <label>Cantidad</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form-control text-right\"\n                  name=\"cant\"\n                  defaultValue={data.cant}\n                  onChange={({ target }) => handleChangeInput(target)}\n                />\n              </div>\n              <div className=\"col\">\n                <label>Precio</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form-control text-right\"\n                  name=\"price\"\n                  defaultValue={data.price}\n                  onChange={({ target }) => handleChangeInput(target)}\n                  onKeyPress={({ key }) => handleKeyPress(key)}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={handleUpdateItem}\n            >\n              <i className=\"fas fa-save mr-1\"></i>\n              Guardar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useContext, useState } from \"react\";\n\n//Components\nimport PaymentDetails from \"./PaymentDetails\";\nimport UpdateItemModal from \"./UpdateItemModal\";\n\n// Context\nimport { Sale } from \"../../../context/SaleContext\";\nimport { AuthContext } from \"../../../context/AuthContext\";\n\n//Helper\nimport helpers from \"../helpers\";\n\n//Libraries\nimport moment from \"moment\";\n\nexport default function SalesDetailsTableComponent() {\n  const sale = Sale();\n  const pagado = !sale.discount\n    ? helpers.getPagado(sale.payments)\n    : helpers.getPagado(sale.payments) + sale.discount;\n  const paid = sale.subtotal <= pagado ? true : false;\n  const { auth } = useContext(AuthContext);\n  const { roles } = auth;\n\n  const [data, setData] = useState({\n    showUpdateItem: false,\n    showPaymentDetails: false,\n    item: {},\n    payment: {},\n  });\n\n  //Functions\n  const handleDeleteItem = (item) => {\n      const newItems = sale.items.filter(\n        (product) => product.store_items_id !== item.store_items_id\n      );\n\n      let subtotal = helpers.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helpers.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      });\n    },\n    handleShowPaymentDetails = (e, payment) => {\n      if (e) e.preventDefault();\n\n      setData({\n        ...data,\n        showPaymentDetails: true,\n        payment,\n      });\n    },\n    handleDeleteDiscount = () => {\n      helpers.confirm(\"Realmente desea eliminar el descuento\", () => {\n        sale.set({\n          ...sale,\n          discount: 0,\n        });\n      });\n    },\n    handleDeletePayment = ({ id, total, metodoname }) => {\n      const newPayments = sale.payments.filter((payment) => payment.id !== id);\n\n      helpers.confirm(`Realmente desea eliminar el pago de  $${total}`, () => {\n        sale.set({\n          ...sale,\n          payments: newPayments,\n        });\n      });\n    },\n    handleShowUpdateItem = (e, item) => {\n      if (e) e.preventDefault();\n      setData({\n        ...data,\n        showUpdateItem: true,\n        item,\n      });\n    },\n    handleClosePaymentDetails = () => {\n      setData({\n        ...data,\n        showPaymentDetails: false,\n        payment: {},\n      });\n    },\n    handleUpdateItem = (item) => {\n      const newItems = sale.items.filter(\n        (i) => i.store_items_id !== item.store_items_id\n      );\n      newItems.push(item);\n\n      let subtotal = helpers.getSubTotal(newItems);\n\n      sale.set({\n        ...sale,\n        items: newItems,\n        total: helpers.getTotal(subtotal, sale.discount),\n        subtotal: subtotal,\n      });\n\n      handleCloseUpdateItem();\n    },\n    handleCloseUpdateItem = () => {\n      setData({\n        ...data,\n        showUpdateItem: false,\n        item: {},\n      });\n    };\n\n  return (\n    <>\n      <table className=\"table table-striped\">\n        <tbody>\n          {sale.items && sale.items.length ? (\n            <>\n              {sale.items.map((item, index) => {\n                const disabled =\n                  (sale.subtotal && paid) ||\n                  sale.payments.length ||\n                  sale.discount;\n                const diffDay = moment(Date.now()).diff(\n                  moment(sale.created_at),\n                  \"days\"\n                );\n                if (!item.store_items_id) return null;\n\n                return (\n                  <tr key={index}>\n                    {handleDeleteBtn(handleDeleteItem, item, disabled)}\n                    <td\n                      onClick={(e) => {\n                        if (roles === \"ventas\" && diffDay !== 0) {\n                          alert(\"No puedes editar esta venta!\");\n                        } else {\n                          handleShowUpdateItem(null, item);\n                        }\n                      }}\n                    >\n                      <a\n                        href=\"#details\"\n                        className=\"text-muted w-full d-block text-uppercase\"\n                        onClick={(e) => {\n                          if (roles === \"ventas\") {\n                            return null;\n                          } else {\n                            handleShowUpdateItem(e, item);\n                          }\n                        }}\n                      >\n                        {item.producto ? item.producto : item.name}\n                      </a>\n                      <label className=\"w-full d-block\">\n                        <span className=\"badge badge-dark mr-1\">\n                          {item.cant}\n                        </span>\n                        *\n                        <span\n                          className={item.price ? \"mx-1\" : \"mx-1 text-danger\"}\n                        >\n                          ${item.price}\n                        </span>\n                        =\n                        <span\n                          className={\n                            item.subtotal ? \"ml-1\" : \"ml-1 text-danger\"\n                          }\n                        >\n                          ${item.subtotal}\n                        </span>\n                      </label>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : null}\n          {sale.discount ? (\n            <tr>\n              {handleDeleteBtn(handleDeleteDiscount, null, paid)}\n              <td>\n                <span className=\"text-danger w-full d-block text-uppercase\">\n                  Descuento\n                </span>\n                <label className=\"w-full d-block\">\n                  <span className=\"ml-1 text-danger\">- ${sale.discount}</span>\n                </label>\n              </td>\n            </tr>\n          ) : null}\n          {sale.payments.length ? (\n            <>\n              {sale.payments.map((pay, index) => {\n                const disabled =\n                  sale.id && !sale.order\n                    ? true\n                    : sale.id && sale.order\n                    ? sale.isPayed\n                      ? true\n                      : false\n                    : false;\n\n                return (\n                  <tr key={index}>\n                    {handleDeleteBtn(handleDeletePayment, pay, disabled)}\n                    <td>\n                      <a\n                        href=\"#link\"\n                        className=\" w-full d-block text-uppercase\"\n                        onClick={(e) => handleShowPaymentDetails(e, pay)}\n                      >\n                        <span className=\"text-success\">Abono</span>\n                        <span className=\"ml-1 text-muted\">\n                          {pay.metodoname}\n                        </span>\n                      </a>\n                      <label className=\"w-full d-block\">\n                        <span className=\"ml-1 text-muted\">\n                          {moment(pay.created_at).format(\"LL\")},\n                        </span>\n                        <span className=\"ml-1\">${pay.total}</span>\n                      </label>\n                    </td>\n                  </tr>\n                );\n              })}\n            </>\n          ) : null}\n\n          {sale.thereNews && sale.order ? (            \n            <tr className=\"table-info\">\n              <td colSpan=\"2\">\n                <span className=\" w-full d-block text-uppercase text-center text-bold\">\n                  <i className=\"fas fa-info-circle mr-1 text-primary\"></i>\n                  Para guardar los cambios presione el boton ¡Imprimir!\n                </span>\n              </td>\n            </tr>\n          ) : (\n            Boolean(paid && sale.subtotal) && (\n              <tr className=\"table-info\">\n                <td colSpan=\"2\">\n                  <span className=\" w-full d-block text-uppercase text-center text-bold\">\n                    <i className=\"fas fa-info-circle mr-1 text-primary\"></i>\n                    Cuenta pagada!\n                  </span>\n                </td>\n              </tr>\n            )\n          )}\n        </tbody>\n      </table>\n\n      {data.showPaymentDetails && (\n        <PaymentDetails\n          handleClose={handleClosePaymentDetails}\n          payment={data.payment}\n        />\n      )}\n\n      {data.showUpdateItem && (\n        <UpdateItemModal\n          item={data.item}\n          handleUpdate={handleUpdateItem}\n          close={handleCloseUpdateItem}\n        />\n      )}\n    </>\n  );\n}\n\nfunction handleDeleteBtn(toDo, data = null, disabled = false) {\n  return (\n    <td style={{ width: 32 }}>\n      <button\n        type=\"button\"\n        className={disabled ? \"btn btn-default disabled\" : \"btn btn-default\"}\n        onClick={() => {\n          if (toDo) {\n            if (data) toDo(data);\n            else toDo();\n          }\n        }}\n        disabled={disabled}\n      >\n        <i className=\"fas fa-trash text-muted\"></i>\n      </button>\n    </td>\n  );\n}\n","import { Sale } from \"../../../context/SaleContext\";\nimport moment from \"moment\";\n\nexport default function CustomerBtnComponent() {    \n\n    const sale = Sale();\n\n    return(\n        <div>\n            <label className=\"mx-1\">Folio:</label>\n            <span className=\"mx-1\">{sale.id ? sale.id : \"Nuevo\"}</span> \n            <label className=\"mx-1\">Fecha:</label>\n            <span className=\"mx-1\">\n            {moment(sale.created_at).format(\"L\")}\n            </span>\n            {sale.order ? (\n            <>\n                <label className=\"mx-1\">Pedido:</label>\n                <span className=\"mx-1\">{sale.order}</span>             \n            </>\n            ) : null}\n        </div>\n    );\n}\n","import { Sale } from '../../../context/SaleContext';\nimport helpers from \"../helpers.js\";\n\n\nexport default function ShowToPay(){\n    const sale = Sale();\n    return(\n        <>\n            <span className=\"text-lg\">Por pagar:</span>\n            <label className=\"text-lg ml-1\">\n                ${helpers.getForPay(sale.items, sale.payments, sale.discount)}\n            </label>\n        </>\n    )\n}\n","import { Sale } from '../../../context/SaleContext';\n\nexport default function ShowTotal(){\n    const sale = Sale();\n    return(\n        <>\n            <span className=\"text-lg\">Total:</span>\n            <label className=\"text-lg ml-1\">${sale.subtotal}</label>\n        </>    \n    )\n}\n","import Activitys from \"../../Activitys\"\n\nexport default function InfoModal({handleClose:_close, data}){\n    return(\n        <div className=\"modal d-block\">      \n        <div className=\"modal-dialog modal-lg\" role=\"document\">\n\n            <div className=\"modal-content\">\n            <div className=\"modal-header\">\n                <h5 className=\"modal-title\">Actividad</h5>\n                <button type=\"button\" className=\"close\" onClick={() => _close()}>\n                <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>\n            <Activitys\n                data = {data}\n            />           \n\n            <div className=\"modal-footer\">                \n                    <button\n                    type=\"button\"\n                    className=\"btn btn-default\"\n                    onClick={() => _close()}\n                    >\n                    <i className=\"fas fa-ban mr-1\"></i>\n                        Cerrar\n                    </button>                \n\n            </div>\n            </div>\n        </div>\n    </div> \n    )\n}","import { useState,useContext } from \"react\";\nimport { SaleContext } from \"../../../context/SaleContext\"\nimport InfoModal from \"./InfoModal\";\n\nexport default function InfoButton(){\n\n    const saleContext = useContext(SaleContext);\n\n    const [showModal, setShowModal] = useState(false);\n\n    return(\n        <div>\n            <button\n                className=\"btn btn-info ml-2\"\n                title=\"Ver actividad\"\n                disabled = {saleContext.id ? false : true}\n                onClick = {()=> setShowModal(true)}                \n            >\n                <i className=\"fas fa-info\"></i>\n             </button>\n            {showModal ? (\n                <InfoModal\n                    data = {saleContext.activitys ?? []}                \n                    handleClose = {()=>{setShowModal(false)}}\n                />\n            ):null}\n        </div>\n    \n    \n\n\n    )\n};","import {useContext } from \"react\";\nimport { SaleContext } from \"../../../context/SaleContext\"\nimport { useHistory } from \"react-router-dom\";\n\nexport default function ShowPedido(){\n\n    const saleContext = useContext(SaleContext);\n\n    const history = useHistory();\n\n    const watchOrder = ()=>{        \n        history.push(`/pedidos/${saleContext.order}`)   \n    };\n\n    return(\n        <div>\n            <button\n                className=\"btn btn-info mr-2\"\n                title=\"Pedido\"\n                disabled = {saleContext.order ? false : true}     \n                onClick={watchOrder}                                     \n            >\n                <i className=\"fas fa-file-alt\"></i>\n             </button>          \n        </div>\n    \n    \n\n\n    )\n};","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState, useContext } from \"react\";\n\n//Components\nimport InputSearchItem from \"../components/Sales/views/InputSearchItem\";\nimport DiscountBtnComponent from \"../components/Sales/views/DiscountBtn\";\nimport ListSalesBtn from \"../components/Sales/views/ListSalesBtn\";\nimport PrintSaleComponent from \"../components/print/PrintSale\";\nimport PaymentBtnComponent from \"../components/Sales/views/PaymentBtn\";\nimport EraseBtn from \"../components/Sales/views/EraseSaleBtn\";\nimport CustomerBtnComponent from \"../components/Sales/views/CustomerBtn\";\nimport SalesDetailsTableComponent from \"../components/Sales/views/SalesDetailsTable\";\nimport SaleDate from \"../components/Sales/views/SaleDate\";\nimport ShowToPay from \"../components/Sales/views/ShowToPay\";\nimport ShowTotal from \"../components/Sales/views/ShowTotal\";\nimport saleHelper from \"../components/Sales/helpers\";\nimport InfoButton from \"../components/Sales/views/InfoButton\";\nimport ShowPedido from \"../components/Sales/views/ShowPedido\";\n\n//Context\nimport { SaleContext } from \"../context/SaleContext\";\nimport { AuthContext } from \"../context/AuthContext\";\n\n//Hook\nimport useSales from \"../hooks/useSale\";\n\n//Helpers\nimport helpers from \"../components/Sales/helpers\";\n\nexport default function IndexSalesComponent(props) {\n  const { auth } = useContext(AuthContext);\n  const hookSale = useSales();\n  const initialState = {\n    id: 0,\n    order: 0,\n    customer: {\n      id: 0,\n      name: \"venta de mostrador\",\n      phones: {},\n    },\n    contact_id: 2,\n    items: [],\n    session: saleHelper.getSession(),\n    discount: 0,\n    subtotal: 0,\n    total: 0,\n    payments: [],\n    branch_id: auth.branch.id,\n    activitys: [],\n    print: false,\n    isPayed: false,\n    thereNews: false,\n    loading: false,\n  };\n\n  const [state, setState] = useState(initialState);\n\n  const pagado = helpers.getPagado(state.payments) + state.discount;\n  const paid = state.total <= pagado ? true : false;\n  const disabled = state.order\n    ? false\n    : !paid || !state.items.length\n    ? true\n    : false;\n\n  const validateSale = () => {\n    if (state.id && state.order && state.thereNews) {\n      saveSale();\n    } else {\n      setState({\n        ...state,\n        print: true,\n      });\n    }\n  };\n\n  const handleSet = (obj) => {\n    return new Promise((done) => {\n      setState(obj);\n      done();\n    });\n  };\n\n  const setDataToSend = () => {\n    const data = {\n      id: state.id,\n      contact_id: state.contact_id,\n      discount: state.discount,\n      items: [],\n      payments: [],\n    };\n\n    if (!state.id) {\n      data.session = state.session;\n    }\n\n    state.items.forEach((item) =>\n      data.items.push({\n        cant: item.cant,\n        price: item.price,\n        store_items_id: item.store_items_id,\n      })\n    );\n\n    if (state.payments.length) {\n      state.payments.forEach((payment) => {\n        const pay = {\n          metodopago: payment.metodopago,\n          total: payment.total,\n        };\n\n        if (payment.metodopago !== 1) {\n          pay.auth = payment.auth;\n          if (payment.metodopago !== 4) {\n            pay.bank_id = payment.bank_id;\n          }\n        }\n\n        data.payments.push(pay);\n      });\n    }\n    return data;\n  };\n\n  const saveSale = () => {\n    window.Swal.fire({\n      title: \"Ventas\",\n      text: `¿Realmente quires guardar esta venta?`,\n      icon: \"info\",\n      showCancelButton: true,\n      confirmButtonText: \"Solo guardar\",\n      cancelButtonText: \"Imprimir y guardar\",\n      showLoaderOnConfirm: true,\n      showDenyButton: true,\n    }).then(({ dismiss }) => {\n      if (dismiss) {\n        //Guardar e imprimir los cambios\n        const returnedSale = hookSale.saveSale(setDataToSend());\n        returnedSale.then(({ data }) => {\n          if (data) {\n            if (state.id && state.order) {\n              setState({\n                ...state,\n                id: data.id,\n                thereNews: false,\n                print: true,\n              });\n            } else {\n              window.Swal.fire({\n                title: \"Venta Guardada correctamente\",\n                text: `¿Quieres imprimir el ticket de la venta?`,\n                icon: \"success\",\n                showCancelButton: true,\n                confirmButtonText: \"Imprimir\",\n                cancelButtonText: \"Cancelar\",\n                showLoaderOnConfirm: true,\n              }).then(({ dismiss }) => {\n                if (!dismiss) {\n                  setState({\n                    ...state,\n                    id: data.id,\n                    thereNews: false,\n                    print: true,\n                  });\n                } else {\n                  helpers.confirm(\"Cerrar la venta actual\", () => {\n                    setState(initialState);\n                  });\n                }\n              });\n            }\n          } else {\n            console.error(\"Error al guardar la venta\");\n          }\n        });\n      } else {\n        //Solo guardar los cambios\n        const returnedSale = hookSale.saveSale(setDataToSend());\n        returnedSale.then(({ data }) => {\n          if (data) {\n            if (state.id && state.order) {\n              setState({\n                ...state,\n                id: data.id,\n                thereNews: false,\n                //print: true,\n              });\n            } else {\n              window.Swal.fire({\n                title: \"Venta Guardada correctamente\",\n                icon: \"success\",\n                showCancelButton: false,\n                showConfirmButton: false,\n                showLoaderOnConfirm: true,\n                timer: 3000,\n              });\n            }\n          } else {\n            console.error(\"Error al guardar la venta\");\n          }\n        });\n      }\n    });\n\n    /* const returnedSale = hookSale.saveSale(setDataToSend());\n    returnedSale.then(({ data }) => {\n      if (data) {          \n        if (state.id && state.order) {          \n          setState({\n            ...state,\n            id: data.id,\n            thereNews: false,\n            print: true,\n          });\n        } else {\n          window.Swal.fire({\n            title: \"Venta Guardada correctamente\",\n            text: `¿Quieres imprimir el ticket de la venta?`,\n            icon: \"success\",\n            showCancelButton: true,\n            confirmButtonText: \"Imprimir\",\n            cancelButtonText: \"Cancelar\",\n            showLoaderOnConfirm: true,\n          }).then(({ dismiss }) => {\n            if (!dismiss) {\n              setState({\n                ...state,\n                id: data.id,\n                thereNews: false,\n                print: true,\n              });\n            } else {\n              helpers.confirm(\"Cerrar la venta actual\", () => {\n                setState(initialState);\n              });\n            }\n          });\n        }\n      } else {\n        console.error(\"Error al guardar la venta\");\n      }\n    }); */\n  };\n\n  useEffect(() => {\n    const total = state.items?.reduce(\n      (back, item) => item.cant * item.price + back,\n      0\n    );\n    const payments = state.payments?.reduce(\n      (back, item) => item.total + back,\n      0\n    );\n    let payed = Boolean(!(total - state.discount - payments));\n    let thereNews = state.id ? false : true;\n\n    if (!total && !payments) {\n      thereNews = false;\n      payed = false;\n    } else if (state.thereNews) {\n      thereNews = true;\n    }\n\n    if (state.thereNews === false && state.load === false) {\n      thereNews = true;\n    }\n\n    setState({\n      ...state,\n      isPayed: payed,\n      thereNews,\n      load: false,\n    });\n  }, [state.items, state.payments, state.discount]);\n\n  useEffect(() => {\n    if (state.isPayed) {\n      if (!state.id && !state.order) {\n        saveSale();\n      }\n    }\n  }, [state.isPayed]);\n\n  useEffect(() => {\n    if (props.match.params.id) {\n      setState({\n        ...state,\n        loading: true,\n      });\n      hookSale\n        .getSaleById(props.match.params.id)\n        .then((data) => {\n          if (data) {\n            setState({\n              ...state,\n              id: data.data.id,\n              order: data.data.order,\n              contact_id: data.data.customer.id,\n              items: data.data.items,\n              session: data.data.session,\n              discount: data.data.discount,\n              subtotal: data.data.subtotal,\n              total: data.data.total,\n              payments: data.data.payments,\n              branch_id: data.data.branch.id,\n              created_at: data.data.created_at,\n              activitys: data.data.activity,\n              customer: data.data.customer,\n              thereNews: false,\n              loading: false,\n            });\n          }\n        })\n        .catch(() => {\n          setState({\n            ...state,\n            loading: false,\n          });\n        });\n    }\n  }, []);\n\n  return (\n    <SaleContext.Provider value={{ ...state, set: handleSet }}>\n      <div className=\"card border border-gray\">\n        <div className=\"card-body pb-2 d-print-none\">\n          <nav className=\"row\">\n            <div className=\"col\">\n              <CustomerBtnComponent />\n            </div>\n\n            <div className=\"col\">\n              <SaleDate></SaleDate>\n            </div>\n\n            <div className=\"col-3\">\n              <div className=\"card-tools d-flex justify-content-end mb-3\">\n                <ShowPedido />\n\n                <ListSalesBtn />\n\n                <DiscountBtnComponent />\n\n                <EraseBtn {...props} />\n\n                <InfoButton />\n              </div>\n            </div>\n          </nav>\n          <div\n            className=\"overflow-auto text-right p-0 border border-gray\"\n            style={{ minHeight: \"65vh\" }}\n          >\n            {state.loading ? (\n              <div className=\"d-flex flex-column justify-content-center align-items-center  mt-5\">\n                <h1>Cargando informacion</h1>\n                <div\n                  className=\"spinner-border text-primary\"\n                  role=\"status\"\n                ></div>\n              </div>\n            ) : (\n              <SalesDetailsTableComponent />\n            )}\n          </div>\n        </div>\n\n        <div className=\"card-footer\">\n          <div className=\"row\">\n            <div className=\"col d-print-none\">\n              <ShowTotal />\n            </div>\n\n            <div className=\"col d-print-none\">\n              <ShowToPay />\n            </div>\n\n            <div className=\"col-6 text-right\">\n              <InputSearchItem />\n\n              <PaymentBtnComponent />\n\n              <button\n                className=\"btn btn-primary ml-3\"\n                onClick={() => validateSale()}\n                disabled={disabled}\n              >\n                <i className=\"fas fa-print mr-2\"></i>\n                Imprimir\n              </button>\n\n              {state.print && (\n                <PrintSaleComponent\n                  data={{ ...state, order_id: state.order }}\n                  setPrint={() => setState({ ...state, print: false })}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </SaleContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api, setUrl } from \"../../../utils/url\";\n\nexport default function ReportPaymentsDetails({ filters }) {\n  const [state, setState] = useState({\n    payments: [],\n    meta: {},\n    page: 1,\n    load: false,\n  });\n\n  const getSaleDay = async () => {\n    const paymentsFilters = {\n      ...filters,\n      itemsPage: 12,\n      page: state.page,\n    };\n    setState({\n      ...state,\n      load: true,\n    });\n\n    const paymentsUrl = setUrl(\"payments\", null, paymentsFilters);\n    const { data, message, meta } = await api(paymentsUrl);\n\n    if (data) {\n      setState({\n        ...state,\n        payments: data,\n        meta: meta,\n        load: false,\n      });\n    } else if (message) {\n      setState({\n        ...state,\n        load: false,\n      });\n\n      console.error(\"[Orus system] Error in report payments details:\", message);\n      window.Swal.fire(\"Fallo de conexion\", message, \"error\");\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [\n    filters.user_id,\n    filters.date_start,\n    filters.date_end,\n    filters.branch_id,\n    state.page,\n  ]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">Detallado</h3>\n      </div>\n      <div className=\"card-body\">\n        <table className=\"table table-sm\">\n          <thead>\n            <tr>\n              <th>Metodo</th>\n              <th>Cliente</th>\n              <th>Pedido</th>\n              <th>Total</th>\n            </tr>\n          </thead>\n          <tbody>\n            {state.payments.length ? (\n              state.payments.map((pay) => {\n                return (\n                  <tr\n                    key={pay.id}\n                    className={pay.metodo === 1 ? \"text-success\" : \"\"}\n                  >\n                    <th className=\"text-uppercase\">{pay.metodoname}</th>\n                    <td className=\"text-capitalize\">\n                      {pay.sale && pay.sale.customer\n                        ? pay.sale.customer.name\n                        : \"--\"}\n                    </td>\n                    <td>\n                      <span\n                        className=\"badge badge-primary\"\n                        alt={\"Cobrado por: \" + pay.created_user}\n                        title={\"Cobrado por: \" + pay.created_user}\n                      >\n                        {pay.sale && pay.sale.pedido ? pay.sale.pedido : \"--\"}\n                      </span>\n                    </td>\n                    <td className=\"text-right\">{dollarUS.format(pay.total)}</td>\n                  </tr>\n                );\n              })\n            ) : (\n              <tr>\n                <th colSpan=\"4\" className=\"text-center\">\n                  <h6 className=\"text-warning\">\n                    <i className=\"fas fa-info mr-2\"></i>\n                    No hay datos para este dia\n                  </h6>\n                </th>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      {Boolean(state.meta.total) && (\n        <div className=\"card-footer\">\n          {state.meta.current_page === 1 ? (\n            <a href=\"#next\" onClick={(e) => e.preventDefault()}>\n              <i className=\"fas fa-step-backward text-dark\"></i>\n            </a>\n          ) : (\n            <a\n              href=\"#next\"\n              onClick={(e) => {\n                e.preventDefault();\n                setState({\n                  ...state,\n                  page: state.page - 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-step-backward\"></i>\n            </a>\n          )}\n          {\" \" + state.page + \" / \" + state.meta.last_page + \" \"}\n          {state.meta.current_page === state.meta.last_page ? (\n            <a href=\"#next\" onClick={(e) => e.preventDefault()}>\n              <i className=\"fas fa-step-forward text-dark\"></i>\n            </a>\n          ) : (\n            <a\n              href=\"#next\"\n              onClick={(e) => {\n                e.preventDefault();\n                setState({\n                  ...state,\n                  page: state.page + 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-step-forward\"></i>\n            </a>\n          )}\n        </div>\n      )}\n\n      {state.load && (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api, setUrl } from \"../../../utils/url\";\n\nexport default function ReportPays({ filters, changeState, auth }) {\n  const [state, setState] = useState({\n    rol: auth.roles,\n    total: 0,\n    efectivo: 0,\n    char: null,\n    load: false,\n  });\n\n  const getSaleDay = async () => {\n    setState({\n      ...state,\n      load: true,\n    });\n\n    const newFiltersPays = {\n      ...filters,\n      itemsPage: 20,\n      type: \"methods\",\n    };\n\n    const url = setUrl(\"payments\", null, newFiltersPays);\n    const { data, message } = await api(url);\n\n    console.log(\"[Orus System] Creating char\");\n    if (data) {\n      var donutChartCanvas = window.$(\"#donutChart\").get(0).getContext(\"2d\"),\n        donutOptions = {\n          maintainAspectRatio: true,\n          responsive: true,\n        },\n        labels = [],\n        values = [],\n        total = 0,\n        efectivo = 0,\n        donutData = {};\n\n      if (state.char) state.char.destroy();\n\n      if (!data.message) {\n        if (data && data.length) {\n          await data.map((mp) => {\n            labels.push(mp.method);\n            values.push(mp.total.toFixed(2));\n            if (mp.method === \"efectivo\") {\n              efectivo = mp.total;\n            }\n            total += mp.total;\n            return null;\n          });\n        } else {\n          labels = [\"No hay datos\"];\n          values = [0];\n        }\n\n        setState({\n          ...state,\n          total,\n          efectivo,\n          load: false,\n        });\n      } else {\n        console.error(\"[ORUS] Error al cargar la venta del dia\", data.message);\n        labels = [\"No hay datos\"];\n        values = [100];\n        setState({\n          ...state,\n          load: false,\n        });\n      }\n      donutData = {\n        labels: labels,\n        datasets: [\n          {\n            data: values,\n            backgroundColor: [\n              \"#f56954\",\n              \"#00a65a\",\n              \"#f39c12\",\n              \"#00c0ef\",\n              \"#3c8dbc\",\n              \"#d2d6de\",\n              \"#000\",\n            ],\n          },\n        ],\n      };\n      state.char = new window.Chart(donutChartCanvas, {\n        type: \"pie\",\n        data: donutData,\n        options: donutOptions,\n      });\n    } else {\n      window.Swal.fire({\n        title: \"Error!\",\n        text: \"Ups!\\n Hubo un error al descargar las ventas\",\n        icon: \"error\",\n        confirmButtonText: \"Ok\",\n      });\n      setState({\n        ...state,\n        load: false,\n      });\n\n      return message;\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [\n    filters.user_id,\n    filters.date_start,\n    filters.date_end,\n    filters.branch_id,\n  ]);\n\n  useEffect(() => {\n    changeState({ ventas: state.efectivo });\n  }, [state.efectivo]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">\n          Ventas del dia por metodo de pago\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        <canvas id=\"donutChart\"></canvas>\n        <p>          \n          Venta total: <strong>{dollarUS.format(state.total)}</strong>\n          <br/>\n          Efectivo: <strong>{dollarUS.format(state.efectivo)}</strong>\n        </p>\n      </div>\n      {state.load && (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\nimport { dollarUS } from \"../../../utils/current\";\nimport { api, setUrl } from \"../../../utils/url\";\n\nexport default function ReportBank({ filters }) {\n  const [state, setState] = useState({\n    listBank: [],\n    page: 1,\n    data: [],\n    load: false,\n  });\n\n  const getSaleDay = async () => {\n    const bankFilters = {\n      ...filters,\n      itemsPage: 12,\n      type: \"banks\",\n    };\n    setState({\n      ...state,\n      load: true,\n    });\n\n    const bankUrls = setUrl(\"payments\", null, bankFilters);\n    const { data, message } = await api(bankUrls);\n\n    if (data) {\n      setState({\n        ...state,\n        data: data,\n        load: false,\n      });\n    } else if (message) {\n      setState({\n        ...state,\n        load: false,\n      });\n      console.error(\"[Orus system] Error in report payments details:\", message);\n      window.Swal.fire(\"Fallo de conexion\", message, \"error\");\n    }\n  };\n\n  useEffect(() => {\n    getSaleDay();\n  }, [\n    filters.user_id,\n    filters.date_start,\n    filters.date_end,\n    filters.branch_id,\n  ]);\n\n  return (\n    <div className=\"card card-success card-outline\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title text-success\">\n          Detallado de pagos bancarios\n        </h3>\n      </div>\n      <div className=\"card-body\">\n        <ul className=\"list-group\">\n          {state.data.length ? (\n            state.data.map((bank, i) => {\n              return (\n                <li\n                  className=\"list-group-item d-flex justify-content-between align-items-center\"\n                  key={i}\n                >\n                  <label className=\"text-uppercase\">{bank.name}</label>\n                  <span className=\"badge badge-primary\">\n                    {dollarUS.format(bank.total)}\n                  </span>\n                </li>\n              );\n            })\n          ) : (\n            <li className=\"list-group-item d-flex justify-content-between align-items-center\">\n              <h6 className=\"text-warning\">\n                <i className=\"fas fa-info mr-2\"></i>\n                No hay datos para este dia\n              </h6>\n            </li>\n          )}\n        </ul>\n      </div>\n      {state.load && (\n        <div className=\"overlay dark\">\n          <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n        </div>\n      )}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useContext, useState, useEffect } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport moment from \"moment\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n//Context\nimport { ConfigContext } from \"../../context/ConfigContext\";\n//Hooks\nimport useUsers from \"../../hooks/useUsers\";\n\nexport default function Filters({ filters, changeState }) {\n\n  const { user_id, branch_id, date_end, date_start } = filters;\n  const [state, setState] = useState({\n    branch_id,\n    user_id,\n    date_start,\n    date_end,\n\n    userData: [],\n    load: false,\n  });\n\n\n  const usersHook = useUsers();\n  const config = useContext(ConfigContext);\n  const branches = config.data.filter((c) => c.name === \"branches\");\n\n  // Functions\n  const sendDataFilter = () => {\n    const { user_id, branch_id, date_end, date_start } = state;\n\n    changeState({\n      branch_id,\n      user_id,\n      date_start,\n      date_end,\n    });\n    getDataApi();\n  };\n  const handleChangeDate = (field, date) => {    \n    setState({\n      ...state,      \n      [field]: moment(date).format(\"YYYY-MM-DD\"),\n    });\n  };\n  const getDataApi = () => {\n    setState({\n      ...state,\n      load: true,\n    });\n    usersHook.getListUsers({ branch_id: state.branch_id }).then(({ data }) => {\n      if (data) {\n        const users = data.filter((u) => !u.roles.includes(\"doctor\"));\n        setState({\n          ...state,\n          userData: users,\n          load: false,\n        });\n      } else {\n        console.error(\"[Orus System] Error al obtener la lista de usuarios\");\n        setState({\n          ...state,\n          load: false,\n        });\n      }\n    });\n  };\n\n\n  useEffect(() => {\n    getDataApi();            \n  }, []);\n\n\n\n  \n\n  return (\n    <div className=\"border-bottom pb-3 mb-4\">\n      <div className=\"card-body p-0 bg-light\">\n        <div className=\"form-group row col-lg-12 m-0\">\n          <div className=\"col-lg-1 mt-sm-3 ml-sm-3\">\n            <p className=\"mt-2 font-weight-bold text-secondary h5\">Filtros</p>\n          </div>\n\n          <div className=\"col-lg-2 mt-sm-3\">\n            <div className=\"col-lg-12\">\n              <select\n                className=\"form-control text-capitalize\"\n                value={state.branch_id}\n                onChange={({ target }) =>\n                  setState({ ...state, branch_id: target.value })\n                }\n              >\n                <option value=\"\">\n                  {state.load && !branches.length ? \"Cargando...\" : \"Todas\"}\n                </option>\n                {branches.map((branch) => {\n                  return (\n                    <option key={branch.id} value={branch.id}>\n                      {branch.data.name}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"col-lg-2 mt-sm-3\">\n            <div className=\"col-lg-12\">\n              <select\n                className=\"form-control text-capitalize\"\n                defaultValue={state.user_id}\n                onChange={({ target }) =>\n                  setState({ ...state, user_id: target.value })\n                }\n              >\n                <option value=\"\">{state.load ? \"Cargando...\" : \"Todos\"}</option>\n                {state.userData.map((user) => {\n                  return (\n                    <option key={user.id} value={user.id}>\n                      {user.name}\n                    </option>\n                  );\n                })}\n              </select>\n            </div>\n          </div>\n\n          <div className=\"row mt-sm-3 m-0 ml-sm-2\">\n            <label className=\"col-lg-1 col-form-label p-0 ml-5 mt-2 ml-sm-3\">\n              De:\n            </label>\n            <div className=\"col-lg-10\">\n             <DatePicker\n                className=\"form-control\"                  \n                selected={                                                        \n                  new Date(moment(state.date_start).format(\"\"))\n                }\n                onSelect={(date) => handleChangeDate(\"date_start\", date)}\n                onChange={(date) => handleChangeDate(\"date_start\", date)}\n              />\n            </div>\n          </div>\n\n          <div className=\"row mt-sm-3 m-0\">\n            <label className=\"col-lg-1 col-form-label p-0 mt-2 ml-sm-3\">\n              a:\n            </label>\n            <div className=\"col-lg-10\">\n              <DatePicker\n                className=\"form-control\"\n                selected={                  \n                  new Date(moment(state.date_end).format(\"\"))\n                }\n                onSelect={(date) => handleChangeDate(\"date_end\", date)}\n                onChange={(date) => handleChangeDate(\"date_end\", date)}\n              />\n            </div>\n          </div>\n\n          <div className=\"col-lg-2 row mt-sm-3 d-flex justify-content-center m-0 h-50\">\n            <button\n              type=\"button\"\n              className=\"btn w-50 btn-success font-weight-bold\"\n              onClick={sendDataFilter}\n            >\n              Filtrar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { Component } from \"react\";\n\n//Componentes\nimport { dollarUS } from \"../../utils/current\";\n\nexport default class BoxCut extends Component {\n  render() {\n    const { ventas } = this.props;\n\n    return (\n      <div className=\"card border border-info rounded\">\n        <div className=\"card-body bg-light\">\n          <h2 className=\"card-title text-secondary\">Efectivo de caja</h2>\n          <br />\n          <div className=\"row\">\n            <div className=\"col\">\n              <h5 className=\"text-success\">{dollarUS.format(ventas)}</h5>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import { useState, useContext } from \"react\";\nimport moment from \"moment\";\n\nimport PaymentsDetails from \"../components/Sales/views/reportPaymentsDetails\";\nimport ReportPays from \"../components/Sales/views/reportPays\";\nimport ReportBank from \"../components/Sales/views/reportBank\";\nimport Filters from \"../components/dashboard/Filters\";\nimport BoxCut from \"../components/dashboard/boxCut\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Dashboard() {\n  const { auth } = useContext(AuthContext);\n  const [state, setState] = useState({\n    user_id: 0,\n    date_start: moment().startOf(\"week\").format(\"YYYY-MM-DD\"),\n    date_end: moment().format(\"YYYY-MM-DD\"),\n    branch_id: auth.branch.id,\n    ventas: 0,\n  });\n  // Function\n  const changeAllState = (obj) => {\n    if (typeof obj !== \"object\") {\n      console.log(\"[Orus system] The filters data not is a object:\", obj);\n      return;\n    }\n\n    setState({\n      ...state,\n      ...obj,\n    });\n  };\n\n  return (\n    <div className=\"content\" style={{ minHeight: \"100vh\" }}>\n      <p className=\"h4 border-bottom mb-4\">\n        Bienvenido\n        <span className=\"font-weight-bold mx-2 text-capitalize\">\n          {auth.name.toLowerCase()}\n        </span>\n        este es el resumen.\n      </p>\n\n      <div className=\"row\">\n        <div className=\"col col-md-12 col-lg-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <Filters filters={state} changeState={changeAllState} />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col-lg-4 col-md-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <BoxCut ventas={state.ventas} />\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <ReportPays\n                filters={state}\n                changeState={changeAllState}\n                auth={auth}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"col-lg-8 col-md-12\">\n          <div className=\"row\">\n            <div className=\"col-lg-4 col-md-12\">\n              <ReportBank filters={state} changeState={changeAllState} />\n            </div>\n            <div className=\"col-lg-8 col-md-12\">\n              <PaymentsDetails filters={state} changeState={changeAllState} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { createContext, useContext } from \"react\";\n\nexport const UserContext = createContext(null);\nexport const Users = ()=> useContext(UserContext);","import { useContext } from \"react\";\nimport { UserContext } from \"../../../context/UserContext\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function FiltersToolbar({handleNewOrEdit: _handleNewOrEdit, newOrEdit: _newOrEdit}){\n\n    const _userContext = useContext(UserContext)\n    const history = useHistory();\n    \n    return (\n          <div className=\"col-lg-12\">\n\n\n            <button \n\n              className={\n                _userContext.panel !== \"inbox\"\n                  ? \"disabled mb-3 btn btn-secondary btn-block\"\n                  : \"mb-3 btn btn-primary btn-block\"\n              }\n\n              onClick={(e) => {\n                e.preventDefault();\n                _handleNewOrEdit()\n              }}\n\n              disabled={ _newOrEdit}\n              >\n                <i className=\"mr-2 fas fa-plus\"></i>\n                Usuario nuevo\n            </button>\n    \n            {!_newOrEdit ? (\n              <div className=\"card\">\n                <div className=\"card-header\">\n                  <h5 className=\"card-title text-dark\">\n                    <i className=\"mr-2 fas fa-ellipsis-v\"></i>Filtros\n                  </h5>\n                </div>\n                <div className=\"p-0 card-body\">\n                  <ul className=\"nav nav-pills flex-column\">\n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"orderby\">Ordenar por</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"orderby\"\n                        id=\"orderby\"\n                        value={_userContext.options.orderby}\n                        onChange={({ target }) => {\n\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"created_at\">Fecha de registro</option>\n                        <option value=\"updated_at\">Fecha de modificacion</option>\n                      </select>\n                    </li>\n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"order\">Mostrar por</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"order\"\n                        id=\"order\"\n                        value={_userContext.options.order}\n                        onChange={({ target }) => {\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"asc\">Antiguos</option>\n                        <option value=\"desc\">Recientes</option>\n                      </select>\n                    </li>\n    \n                    <li className=\"nav-item p-2\">\n                      <label htmlFor=\"itemsPage\">Numero de usuarios</label>\n                      <select\n                        className=\"form-control \"\n                        name=\"itemsPage\"\n                        id=\"itemsPage\"\n                        value={_userContext.options.itemsPage}\n                        onChange={({ target }) =>{\n                            let {name, value} = target;\n                            _userContext.set({\n                                ..._userContext,\n                                options:{\n                                    ..._userContext.options,\n                                    [name]: value,                                    \n                                }\n                            })\n                        }}\n                      >\n                        <option value=\"25\">ver 25</option>\n                        <option value=\"50\">ver 50</option>\n                        <option value=\"75\">ver 75</option>\n                        <option value=\"100\">ver 100</option>\n                      </select>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            ) : (\n              <div>\n                <li className=\"list-group-item\">\n              <a\n                href=\"#back\"\n                className=\"d-flex justify-content-between align-items-center\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  _handleNewOrEdit();\n                  history.push('/usuarios');\n                }}\n              >\n                Ver listado\n                <span className=\"badge badge-primary badge-pill\">\n                  <i className=\"fas fa-chevron-left\"></i>\n                </span>\n              </a>\n            </li>\n              </div>\n            )}\n          </div>\n    )\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { useEffect, useState, useContext } from \"react\";\nimport useUsers from \"../../../hooks/useUsers\";\nimport { UserContext } from \"../../../context/UserContext\";\nimport ListInbox from \"../../../layouts/list_inbox\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function InboxComponent() {\n  const history = useHistory();\n  const _users = useUsers();\n  const _userContext = useContext(UserContext);\n  const [userSelected, setUserSelected] = useState(\"\");\n\n  const [data, setData] = useState({\n    users: [],\n    meta: {},\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  const { users, meta } = data;\n\n  const handleChangeOptions = (key, value) => {\n    _userContext.set({\n      ..._userContext,\n      options: {\n        ..._userContext.options,\n        [key]: value,\n      },\n    });\n  };\n\n  const deleteItem = () => {\n    setLoading(true);\n    _users\n      .deleteUser(userSelected)\n      .then((data) => {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Usuario eliminado correctamente\",\n          showConfirmButton: false,\n          timer: 2500,\n        });\n\n        setUserSelected({ id: 0 });\n\n        _users.getListUsers(_userContext.options).then((data) => {\n          if (data) {\n            setData({\n              ...data,\n              users: data.data,\n              meta: data.meta,\n            });\n            setLoading(false);\n          }\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  const handleSelectUser = (e, order = { id: 0 }) => {\n    if (userSelected) {\n      history.push(`usuarios/${userSelected}`);\n    } else {\n      window.Swal.fire({\n        title: \"Error\",\n        text: \"Lo sentimos no existe un contacto seleccionado\",\n        icon: \"error\",\n      });\n    }\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    _users.getListUsers(_userContext.options).then((data) => {\n      if (data) {\n        setData({\n          ...data,\n          users: data.data,\n          meta: data.meta,\n        });\n        setLoading(false);\n      } else {\n        console.error(\"Error al obtener los datos\");\n      }\n    });\n  }, [_userContext.options]);\n\n  return (\n    <ListInbox\n      title=\"Lista de productos\"\n      icon=\"id-badge\"\n      color=\"primary\"\n      loading={loading}\n      meta={meta}\n      itemSelected={userSelected}\n      defaultSearch={_userContext.options.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleDeleteItem={deleteItem}\n      handleEditItem={handleSelectUser}\n      handleSync={() => {\n        _userContext.set({\n          ..._userContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n          },\n        });\n      }}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Nombre</th>\n            <th>Email/Usuario</th>\n            <th>Rol</th>\n            <th>Sucursal</th>\n            {_userContext.options.orderby === \"created_at\" ? (\n              <th>Creado</th>\n            ) : (\n              <th>Modificado</th>\n            )}\n          </tr>\n        </thead>\n        <tbody>\n          {users.length ? (\n            <>\n              {users.map((user) => {\n                return (\n                  <tr key={user.id}>\n                    <td className=\"icheck-primary pl-2\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={user.id}\n                        id={\"item_\" + user.id}\n                        checked={userSelected === user.id ? true : false}\n                        onChange={({ target }) => {\n                          const { value, checked } = target;\n                          setUserSelected(checked ? parseInt(value) : \"\");\n                          //handleUserSelect(target);\n                        }}\n                      />\n                      <label\n                        htmlFor={\"item_\" + user.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </td>\n                    <td\n                      className=\"mailbox-name text-capitalize text-truncate text-bold text-primary\"\n                      style={{ cursor: \"pointer\", maxWidth: 180 }}\n                      onClick={(e) => {\n                        //handleSelectUser(e, user)\n                        history.push(`usuarios/${user.id}`);\n                      }}\n                    >\n                      {user.name}\n                    </td>\n                    <td className=\"mailbox-name text-muted text-truncate\">\n                      <span>{user.email}</span>\n                    </td>\n                    <td className=\"mailbox-name \">\n                      <span className={getClassByRole(user.roles[0])}>\n                        {user.roles[0]}\n                      </span>\n                    </td>\n                    <td className=\"text-truncate\">\n                      <span className=\"text-capitalize\">\n                        {user.branch.data.name}\n                      </span>\n                    </td>\n                    {_userContext.options.orderby === \"created_at\" ? (\n                      <td className=\"mailbox-date text-muted text-truncate\">\n                        <span>{moment(user.created_at).format(\"LL\")}</span>\n                      </td>\n                    ) : (\n                      <td className=\"mailbox-date text-muted text-truncate\">\n                        <span>{moment(user.updated_at).fromNow()}</span>\n                      </td>\n                    )}\n                  </tr>\n                );\n              })}\n            </>\n          ) : (\n            <tr>\n              <th className=\"text-center text-muted\" colSpan=\"6\">\n                No hay usuarios registrados\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </ListInbox>\n  );\n}\n\nfunction getClassByRole(role) {\n  switch (role) {\n    case \"admin\":\n      return \"text-capitalize badge badge-pill badge-dark\";\n    case \"ventas\":\n      return \"text-capitalize badge badge-pill badge-success\";\n    default:\n      return \"text-capitalize badge badge-pill badge-primary\";\n  }\n}\n","import { useEffect, useState } from \"react\";\n\n//Context\nimport { UserContext } from \"../context/UserContext\";\n\n//Components\nimport FiltersToolbar from \"../components/Users/views/FiltersToolbar\";\nimport Inbox from \"../components/Users/views/Inbox\";\nimport Add from \"../components/Users/add\";\n\nconst optionsDefault = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n  search: \"\",\n};\n\nexport default function UsersComponent(props) {\n  const [state, setState] = useState({\n    options: optionsDefault,\n    panel: null,\n    newOrEdit: null,\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      newOrEdit: id ? true : false,\n    });\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <UserContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{minHeight: '100vh'}}>\n        <div className=\"col-lg-2\">\n          <FiltersToolbar\n            newOrEdit={state.newOrEdit}\n            handleNewOrEdit={() =>  \n              setState({\n                ...state,\n                newOrEdit: !state.newOrEdit,\n              })\n            }\n          />\n        </div>\n\n        <div className=\"col-lg-10\">\n          {typeof state.newOrEdit === \"boolean\" ? (\n            <div className=\"col-sm-10 col-md-12 col-lg-12\">\n              {state.newOrEdit === true ? (\n                <Add\n                  {...props}\n                  handleNewOrEdit={() =>\n                    setState({\n                      ...state,\n                      newOrEdit: !state.newOrEdit,\n                    })\n                  }\n                />\n              ) : state.newOrEdit === false ? (\n                <Inbox />\n              ) : null}\n            </div>\n          ) : (\n            <p>Loading component</p>\n          )}\n        </div>\n      </div>\n    </UserContext.Provider>\n  );\n}\n\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext } from \"react\";\n\nexport const OrderContext = createContext(null);\nexport const Order = () => useContext(OrderContext);\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useOrder(){\n\n    const getListOrders = async (options)=> {\n        const url = setUrl('orders', null, options);\n        return await api(url);\n    }\n\n    const getOrder = async (orderID)=>{\n        const url = setUrl('orders', orderID.id);\n        return await api(url);\n    }\n\n    const saveOrder = async (data)=>{\n        const method = data.id ? 'PUT' : 'POST';\n        if(data.status === 2 && !data.bi_details.length){\n            delete data.bi_details;\n        }    \n        const url = setUrl('orders', data.id);\n        delete data.id;\n        return await api(url, method, data);\n    }\n    \n    const deleteOrder = async (id)=>{\n        const method = \"DELETE\";\n        const url = setUrl('orders', id);\n        return await api(url, method);\n    }\n    \n    return{\n        getListOrders,\n        getOrder,\n        deleteOrder,\n        saveOrder,\n    }\n\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Main from \"../../../layouts/list_inbox\";\nimport helper from \"../helpers\";\nimport useOrder from \"../../../hooks/useOrder\";\nimport { Order } from \"../../../context/OderContext\";\n\nconst InboxOrderComponent = (props) => {\n  const orderContext = Order();\n  const orderHook = useOrder();\n  const options = orderContext?.options;\n\n  const [pedidos, setPedidos] = useState({\n    data: [],\n    meta: {},\n    loading: false,\n  });\n\n  const { _saveOrder } = props;\n\n  const history = useHistory();\n\n  const [orderSelected, setOrderSelected] = useState({ id: 0 });\n\n  const getList = () => {\n    if (!options) return null;\n\n    setPedidos({\n      ...pedidos,\n      loading: true,\n    });\n\n    orderHook.getListOrders(options).then((data) => {\n      if (data) {\n        setPedidos({\n          data: data.data,\n          meta: data.meta,\n        });\n      } else {\n        console.error(\"Error al obtener la lista de pedidos\");\n      }\n    });\n  };\n\n  const handleChangeOptions = (key, value) => {\n    orderContext?.set({\n      ...orderContext,\n      options: {\n        ...options,\n        [key]: value,\n      },\n    });\n  };\n\n  const handleSelectOrder = (e, order = { id: 0 }) => {\n    if (e) e.preventDefault();\n    if (order.id !== 0) {\n      history.push(`/pedidos/${order.id}`);\n    } else {\n      history.push(`pedidos/${orderSelected.id}`);\n    }\n  };\n\n  const handleOrderSelect = ({ checked }, pedido) => {\n    if (!checked) pedido = { id: 0 };\n    setOrderSelected(pedido);\n  };\n\n  const deleteOrder = () => {\n    window.Swal.fire({\n      title: \"¿Estás seguro de eliminar la orden?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        orderHook.deleteOrder(orderSelected.id);\n\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Orden eliminada correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n\n        orderContext.set({\n          ...orderContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n            status: 0,\n            search: \"\",\n          },\n        });\n      }\n    });\n  };\n\n  const handleStatus = () => {\n    if (orderSelected.id && orderSelected.estado < 3) {\n      helper.handleSaveOrder(\n        orderSelected.id,\n        { status: 3 },\n        options,\n        _saveOrder\n      );\n    }\n    setOrderSelected({ id: 0 });\n  };\n\n  useEffect(() => {\n    getList();\n    // eslint-disable-next-line\n  }, [options]);\n\n  return (\n    <Main\n      title=\"Listado de pedidos\"\n      icon=\"clipboard-list\"\n      color=\"warning\"\n      meta={pedidos.meta}\n      itemSelected={orderSelected.id}\n      loading={pedidos.loading}\n      defaultSearch={options?.search}\n      handlePagination={(page) => handleChangeOptions(\"page\", page)}\n      handleSearch={(search) => handleChangeOptions(\"search\", search)}\n      handleEditItem={handleSelectOrder}\n      handleDeleteItem={deleteOrder}\n      handleSync={() => {\n        orderContext.set({\n          ...orderContext,\n          options: {\n            page: 1,\n            orderby: \"created_at\",\n            order: \"desc\",\n            itemsPage: 10,\n            status: 0,\n            search: \"\",\n          },\n        });\n      }}\n      handleStatus={handleStatus}\n    >\n      <table className=\"table table-hover table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Folio</th>\n            <th>Cliente</th>\n            <th>Estado</th>\n            <th>Nota</th>\n            <th>\n              {options?.orderby === \"created_at\" ? \"Registrado\" : \"Modificado\"}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {pedidos.data.length ? (\n            pedidos.data.map((pedido, i) => {\n              return (\n                <tr key={pedido.id}>\n                  <td>\n                    <div className=\"icheck-primary\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"form-check-input mt-4\"\n                        value={pedido.id}\n                        id={\"order_\" + pedido.id}\n                        checked={orderSelected.id === pedido.id ? true : false}\n                        disabled={pedido.status > 2}\n                        onChange={({ target }) =>\n                          handleOrderSelect(target, pedido)\n                        }\n                      />\n                      <label\n                        htmlFor={\"order_\" + pedido.id}\n                        className=\"sr-only\"\n                      ></label>\n                    </div>\n                  </td>\n                  <td>#{pedido.id}</td>\n                  <td\n                    className=\"mailbox-name text-truncate text-capitalize text-bold\"\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    <a\n                      href=\"#edit\"\n                      onClick={(e) => handleSelectOrder(e, pedido)}\n                    >\n                      <span\n                        className={\n                          pedido.status > 2\n                            ? \"text-muted\"\n                            : \"text-dark text-bold\"\n                        }\n                      >\n                        <i className=\"fas fa-user text-sm mr-2\"></i>\n                        {pedido.paciente.name}\n                      </span>\n                    </a>\n                  </td>\n                  <td className=\"mailbox-subject\">\n                    {helper.getBadgeStatus(pedido.status)}\n                    {pedido.status === 1 ? (\n                      <div>\n                        <span className=\"mr-1 text-dark\">\n                          {pedido.lab ? pedido.lab.nombre : \"Sin asignar\"}\n                        </span>\n                        {pedido.lab ? \"/ \" + pedido.npedidolab : \"\"}\n                      </div>\n                    ) : pedido.status === 2 ? (\n                      <small>\n                        {pedido.ncaja\n                          ? \"CAJA: \" + pedido.ncaja\n                          : \"Caja no asignada\"}\n                      </small>\n                    ) : !pedido.status ? (\n                      <small>\n                        {pedido.exam\n                          ? pedido.exam.status === 1\n                            ? \"Examen completado\"\n                            : \"Examen no realizado\"\n                          : \"Examen no asignado\"}\n                      </small>\n                    ) : pedido.status === 3 ? (\n                      <small className=\"text-dark\">Sin entregar</small>\n                    ) : null}\n                  </td>\n                  <td className=\"mailbox-attachment\">\n                    {pedido.sale ? (\n                      <Link to={\"/notas/registro/\" + pedido.sale.id}>\n                        <span className=\"badge badge-success\">\n                          {pedido.sale.id}\n                        </span>\n                      </Link>\n                    ) : (\n                      \"--\"\n                    )}\n                  </td>\n                  <td className=\"mailbox-date\">\n                    {options.orderby === \"created_at\"\n                      ? moment(pedido.created_at).format(\"ll\")\n                      : moment(pedido.updated_at).fromNow()}\n                  </td>\n                </tr>\n              );\n            })\n          ) : (\n            <tr>\n              <th colSpan=\"10\" className=\"text-center\">\n                No hay datos para mostrar\n              </th>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Main>\n  );\n};\n\nexport default InboxOrderComponent;\n","const getSession = () => {\n    return (\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(36).substring(2, 16) +\n      Math.random().toString(10)\n    );\n  };\n\n\n  const toExport = {\n      getSession\n  }\n\n\n  export default toExport;","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, useEffect } from \"react\";\n\n//Hooks\nimport useProducts from \"../../../hooks/useProducts\";\n\nfunction SearchItemsComponent(props) {\n  const hookProducts = useProducts();\n\n  // Props and vars\n  const {\n    item = { name: \"\" },\n    handleItemSelect: _handleItemSelect,\n  } = props;\n\n  // States\n  const [search, setSearch] = useState(item.name),\n  [timer, setTimer] = useState(\"\"),\n  [load, setLoad] = useState(false),\n  [items, setItems] = useState([]);\n\n  // Functions\n  const handleChangeSearch = ({ target }) => {\n    const { value } = target;\n    setSearch(value.toLowerCase());\n    setLoad(true);\n  };\n\n  const handleSelect = (item) => {\n    _handleItemSelect(item);\n    setSearch(item.name.toUpperCase());\n    setItems([]);\n  };\n\n  useEffect(() => {\n    let toTimer = null;\n    if (search.length > 2 && !item.store_items_id) {\n      if (timer) clearTimeout(timer);\n      toTimer = setTimeout(() => {\n        hookProducts.getProducts(search).then((data) => {\n          if (data) {\n            setItems(data.data);\n          } else {\n            console.error(\"Error al obtener la lista de productos\");\n          }\n        });\n        setTimer(\"\");\n        setLoad(false);\n      }, 1000);\n      setTimer(toTimer);\n    }\n\n    if (!search.length && items.length) {\n      if (timer) clearTimeout(timer);\n      setLoad(false);\n    }\n\n    if(!search){\n      setItems([]);\n    }\n  }, [search]);\n\n  return (\n    <>\n      <label>\n        Producto\n        {load ? (\n          <span\n            className=\"position-absolute text-primary ml-2\"\n            style={{ zIndex: \"101\", top: \"0\" }}\n          >\n            Buscando...\n          </span>\n        ) : null}\n      </label>\n      <input\n        className=\"form-control text-uppercase text-truncate\"\n        type=\"text\"\n        placeholder=\"Buscar producto\"\n        autoComplete=\"off\"\n        value={search}\n        onChange={handleChangeSearch}\n      />\n      {items.length && search.length > 2 ? (\n        <div\n          className=\"position-absolute shadow p-0 pt-2 pl-1 bg-white rounded w-100 mh-50 overflow-auto\"\n          style={{ maxHeight: \"18rem\", zIndex: \"100\" }}\n        >\n          <div className=\"list-group m-0 list-group-flush\">\n            {items\n              .sort((a, b) => {\n                if (a.cant > b.cant) {\n                  return -1;\n                }\n                if (a.cant < b.cant) {\n                  return 1;\n                }\n                return 0;\n              })\n              .map((product) => {\n                return getItemToShow(product, handleSelect);\n              })}\n            {/* {meta.total > perPage && (\n              <a\n                href=\"#more\"\n                className=\"list-group-item text-center text-dark text-bold\"\n                onClick={(e) => e.preventDefault()}\n              >\n                <i className=\"fas fa-info-circle mr-1\"></i>\n                Existen mas registros, sea más espesifico\n              </a>\n            )} */}\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n}\n\n/* const mapStateToProps = ({ storeItem }) => {\n    return {\n      items: storeItem.list,\n      meta: storeItem.metaList,\n      loading: storeItem.loading,\n    };\n  },\n  mapActionsToProps = {\n    _getList: storeActions.getListStore,\n    _setList: storeActions.setListStore,\n  }; */\n\n/* export default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(SearchItemsComponent); */\n\nexport default SearchItemsComponent;\n\nfunction getItemToShow(i, handleSelect) {\n  if (i.cant !== i.cant_total) {\n    if (!i.cant && i.cant_total) {\n      return (\n        <a\n          key={i.id}\n          className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n          href=\"#l\"\n          onClick={(e) => {\n            e.preventDefault();\n            handleSelect(i);\n          }}\n        >\n          <span className=\"text-truncate text-uppercase text-muted\">\n            [S]-{i.name}\n          </span>\n          <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n        </a>\n      );\n    }\n    return (\n      <a\n        key={i.id}\n        className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n        href=\"#l\"\n        onClick={(e) => {\n          e.preventDefault();\n          handleSelect(i);\n        }}\n      >\n        <span className=\"text-truncate text-uppercase text-primary\">\n          {i.name}\n        </span>\n        <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n      </a>\n    );\n  } else if (!i.cant_total && !i.cant) {\n    return (\n      <a\n        key={i.id}\n        className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n        href=\"#l\"\n        onClick={(e) => {\n          e.preventDefault();\n          handleSelect(i);\n        }}\n      >\n        <span className=\"text-truncate text-uppercase text-danger\">\n          [X]-{i.name}\n        </span>\n        <span className=\"badge badge-dark badge-pill\">{i.cant_total}</span>\n      </a>\n    );\n  }\n\n  return (\n    <a\n      key={i.id}\n      className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n      href=\"#l\"\n      onClick={(e) => {\n        e.preventDefault();\n        handleSelect(i);\n      }}\n    >\n      <span className=\"text-truncate text-uppercase text-primary\">\n        {i.name}\n      </span>\n      <span className=\"badge badge-dark badge-pill\">{i.cant}</span>\n    </a>\n  );\n}\n","import React, { useState, useContext } from \"react\";\n//Components\nimport Search from \"../data/searchStore\";\n//Actions\nimport helper from \"../helpers\";\n\n//Context\nimport { AuthContext } from \"../../../context/AuthContext\";\n\nfunction AddItemModalComponent(props) {\n  const authContex = useContext(AuthContext);\n  const currentUser = authContex.auth;\n\n  //Props and vars\n  const {\n    codeDefault = \"\",\n    cantDefault = 1,\n    handleAddItem: _handleAddItem,\n    handleCloseModal: _handleCloseModal,\n  } = props;\n\n  //States\n  const [item, setItem] = useState({\n      id: 0,\n      name: codeDefault,\n      cant: cantDefault,\n      price: 0,\n      out: 0,\n      inStorage: 0,\n      subtotal: 0,\n      store_items_id: 0,\n      descripcion: \"\",\n      category: 0,\n    }),\n    [showDesc, setShowDesc] = useState(false);\n\n  //Functions\n  const _reset = () => {\n      setItem({\n        id: 0,\n        name: \"\",\n        price: 0,\n        out: 0,\n        cant: 1,\n        inStorage: 0,\n        subtotal: 0,\n        store_items_id: 0,\n        descripcion: \"\",\n        category: {},\n      });\n    },\n    close = () => {\n      _reset();\n      _handleCloseModal();\n    },\n    hanleChangeDataItem = (data) => {\n      setItem({\n        ...item,\n        store_items_id: data.id,\n        id: 0,\n        name: data.name.toLowerCase(),\n        price: parseFloat(data.price),\n        out: data.cant_total,\n        cant: 1,\n        inStorage: 0,\n        subtotal: data.price,\n        descripcion: \"\",\n        category: data.category,\n      });\n    },\n    handleChangeItem = (key, value) => {\n      setItem({\n        ...item,\n        [key]: key === \"descripcion\" ? value : parseInt(value),\n      });\n    },\n    hanldeSendBack = () => {\n      const verify = helper.verifyItem(item);\n\n      if (!verify) return false;\n\n      item.inStorage = item.out >= item.cant ? true : false;\n      item.out = item.out >= item.cant ? 0 : item.cant - item.out;\n      item.subtotal = parseFloat(item.cant * item.price);\n      item.branch_id = currentUser.branch.id;\n      _handleAddItem(item);\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title text-primary text-bold\">\n              <i className=\"fas fa-plus mr-1\"></i>\n              Agregar producto\n            </h5>\n            <button type=\"button\" className=\"close\" onClick={() => close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            <div className=\"row\">\n              <div className=\"col position-relative\">\n                <Search item={item} handleItemSelect={hanleChangeDataItem} />\n              </div>\n              {item.store_items_id ? (\n                <>\n                  <div className=\"col-2\">\n                    <label>Cantidad</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control\"\n                      placeholder=\"Cantidad\"\n                      defaultValue={item.cant}\n                      min=\"0\"\n                      max=\"100\"\n                      onChange={({ target }) =>\n                        handleChangeItem(\"cant\", target.value)\n                      }\n                    />\n                  </div>\n                  <div className=\"col-3\">\n                    <label>Precio</label>\n                    <input\n                      type=\"number\"\n                      className=\"form-control text-right\"\n                      placeholder=\"Precio\"\n                      min=\"0\"\n                      value={item.price ?? \"\"}\n                      onChange={({ target }) =>\n                        handleChangeItem(\"price\", target.value)\n                      }\n                    />\n                  </div>\n                  {showDesc ? (\n                    <div className=\"col-12 mt-2\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Agregue una descripcion\"\n                        value={item.descripcion}\n                        onChange={({ target }) =>\n                          handleChangeItem(\"descripcion\", target.value)\n                        }\n                      />\n                    </div>\n                  ) : null}\n                </>\n              ) : null}\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <div className=\"btn-group\">\n              <button\n                type=\"button\"\n                className=\"btn btn-default btn-sm\"\n                onClick={() => close()}\n              >\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-default btn-sm\"\n                onClick={() => setShowDesc(!showDesc)}\n                disabled={!item.store_items_id}\n              >\n                <i className=\"fas fa-sticky-note mr-1\"></i>\n                {showDesc ? \"Cerrar nota\" : \"Abrir nota\"}\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary btn-sm text-bold\"\n                disabled={\n                  item.store_items_id && item.cant && item.price ? false : true\n                }\n                onClick={() => hanldeSendBack()}\n              >\n                <i className=\"fas fa-save mr-1\"></i>\n                Agregar\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AddItemModalComponent;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport AddModal from \"../../Store/views/searchItemModal\";\n\nexport default function ListItemComponent(props) {\n  const [state, setState] = useState({\n    itemNew: false,\n    code: \"\",\n    cant: 1,\n    validItems: true,\n    showDetails: true,\n    disabled: false,\n    total: 0,\n  });\n\n  const handleSetCantItem = (id, cant) => {\n    const items_rest = props.items.map((item) => {\n        if (item.store_items_id === id) {\n          item.cant = item.cant + cant;\n          item.subtotal = item.cant * item.price;\n        }\n        return item;\n      }),\n      itemsToSave = items_rest.filter((item) => item.cant > 0);\n    props.changeInput(\"items\", itemsToSave);\n  };\n  const deleteItem = (id) => {\n    const itemsToSave = props.items.filter((e) => e.store_items_id !== id);\n    props.changeInput(\"items\", itemsToSave);\n  };\n  const handleAddItem = (item) => {\n    if (!item || typeof item !== \"object\") {\n      console.error(\"[Orus System] The item is corrupt:\", item);\n      return;\n    }\n    const items = [...props.items];\n    const itemFound = props.items.findIndex(\n      (e) => e.store_items_id === item.store_items_id\n    );\n\n    if (itemFound !== -1) {\n      const subtotal = items[itemFound].price * state.cant;\n\n      if (items[itemFound].price === item.price) {\n        items[itemFound].cant = state.cant;\n        items[itemFound].subtotal = subtotal;\n      } else {\n        items.push(item);\n      }\n    } else {\n      items.push(item);\n    }\n\n    props.changeInput(\"items\", items);\n    setState({\n      ...state,\n      itemNew: false,\n    });\n  };\n\n  useEffect(() => {    \n    const items = props.items.filter((item) =>\n      [\"lentes\", \"armazones\", \"lentes de contacto\"].includes(item.category?.code?.codeNameCategory[0])\n    );\n    const total = props.items.reduce(\n      (sub, item) => item.cant * item.price + sub,\n      0\n    );\n    let validItems = Boolean(items.length);\n    let disabled = state.disabled;\n    let showDetails = state.showDetails;\n\n    if (props.hasOwnProperty(\"showDetails\")) {\n      showDetails = props.showDetails;\n    }\n    if (props.hasOwnProperty(\"disabled\")) {\n      disabled = props.disabled;\n    }\n\n    if (total && props.changeInput) {\n      props.changeInput(\"validItems\", validItems);\n    } else if (!props.changeInput) {\n      disabled = true;\n      validItems = true;\n    }\n\n    setState({\n      ...state,\n      validItems,\n      showDetails,\n      disabled,\n      total,\n    });\n  }, [props.items, props.disabled]);\n\n  return (\n    <div\n      className={\n        props.hasOwnProperty(\"className\") ? props.className : \"card m-0 p-0\"\n      }\n    >\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-shopping-cart\"></i> Lista de Productos\n        </h3>\n        <div className=\"card-tools\">\n          {Boolean(props.session) && (\n            <button\n              className=\"btn btn-too btn-primary text-bold\"\n              disabled={state.disabled}\n              onClick={(e) => {\n                setState({\n                  ...state,\n                  itemNew: !state.itemNew,\n                  code: \"\",\n                  cant: 1,\n                });\n              }}\n            >\n              <i className=\"fas fa-plus mr-1\"></i> Agregar\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"card-body table-responsive p-0\">\n        <table className=\"table table-sm m-0\">\n          <thead>\n            <tr>\n              {state.showDetails && <th style={{ width: 80 }}>&nbsp;</th>}\n\n              <th scope=\"col\" style={{ width: 32 }}>\n                cant\n              </th>\n              <th scope=\"col\">Descripcion</th>\n\n              {state.showDetails && (\n                <>\n                  <th scope=\"col\" className=\"text-right\" style={{ width: 120 }}>\n                    Precio\n                  </th>\n                  <th scope=\"col\" className=\"text-right\" style={{ width: 120 }}>\n                    Subtotal\n                  </th>\n                  <th\n                    scope=\"col\"\n                    style={{ minWidth: \"4rem\", maxWidth: \"8rem\" }}\n                  >\n                    <span className=\"sr-only\">acciones</span>\n                  </th>\n                </>\n              )}\n            </tr>\n          </thead>\n\n          <tbody>\n            {props.items.map((item) => {\n              return (\n                <tr key={item.store_items_id}>\n                  {state.showDetails && (\n                    <td>\n                      {item.cant === 0 || state.disabled ? (\n                        <i className=\"fas fa-minus mr-2 text-muted mr-1\"></i>\n                      ) : (\n                        <i\n                          className=\"fas fa-minus mr-2 text-primary mr-1\"\n                          title=\"Quitar\"\n                          style={{ cursor: \"pointer\" }}\n                          onClick={() =>\n                            handleSetCantItem(item.store_items_id, -1)\n                          }\n                        ></i>\n                      )}\n                      {state.disabled ? (\n                        <i className=\"fas fa-plus mr-2 text-muted mr-1\"></i>\n                      ) : (\n                        <i\n                          className=\"fas fa-plus mr-2 text-primary mr-1\"\n                          title=\"Agregar\"\n                          style={{ cursor: \"pointer\" }}\n                          disabled={state.disabled}\n                          onClick={() =>\n                            handleSetCantItem(item.store_items_id, 1)\n                          }\n                        ></i>\n                      )}\n                    </td>\n                  )}\n\n                  <th scope=\"row\" className=\"text-right\">\n                    {item.cant}\n                  </th>\n                  <td>\n                    <span className=\"text-capitalize\">{item.name}</span>\n                    {item.descripcion && (\n                      <span className=\"text-muted ml-2\">\n                        ({item.descripcion})\n                      </span>\n                    )}\n                  </td>\n\n                  {state.showDetails && (\n                    <>\n                      <td className=\"text-right\">\n                        $ {parseFloat(item.price).toFixed(2)}\n                      </td>\n                      <td className=\"text-right\">\n                        $ {item.subtotal.toFixed(2)}\n                      </td>\n                      <td className=\"d-print-none text-right\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-sm btn-muted\"\n                          onClick={() => deleteItem(item.store_items_id)}\n                          disabled={state.disabled}\n                        >\n                          <i className=\"fas fa-trash\"></i>\n                        </button>\n                      </td>\n                    </>\n                  )}\n                </tr>\n              );\n            })}\n\n            {!props.items.length && (\n              <tr className=\"\">\n                <td className=\"text-center py-2\" colSpan=\"6\">\n                  <h5>No hay articulos seleccionados</h5>\n                </td>\n              </tr>\n            )}\n          </tbody>\n\n          {Boolean(props.items.length && state.showDetails) && (\n            <tfoot>\n              <tr>\n                <td className=\"text-right text-lg\" colSpan=\"5\">\n                  <span className=\" mr-2\">Total:</span>\n                  <label>$ {state.total.toFixed(2)}</label>\n                </td>\n                <td>&nbsp;</td>\n              </tr>\n            </tfoot>\n          )}\n        </table>\n\n        {!state.validItems && (\n          <div className=\"d-flex justify-content-center\">\n            <p className=\"bg-warning w-75 text-center text-md p-2\">\n              <i className=\"fas fa-info mr-2\"></i>\n              Debe agregar al menos <strong>1</strong> producto a la lista con\n              categoria <strong>lentes</strong> o <strong>armazones</strong>.\n            </p>\n          </div>\n        )}\n      </div>\n      {state.itemNew ? (\n        <AddModal\n          codeDefault={state.code}\n          cantDefault={state.cant}\n          handleAddItem={handleAddItem}\n          handleCloseModal={() =>\n            setState({\n              ...state,\n              itemNew: false,\n            })\n          }\n        />\n      ) : null}\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function UserEmailInputComponent(props) {\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"No tiene el formato de un email\",\n    searchEmail: false,\n  });\n\n  const { col, email, handleValidData: _handleValidData } = props;\n  const { bgColor, validate, text, searchEmail } = state;\n\n  const contactHook = useContact();\n\n  const handleSearchUser = (email) => {\n    contactHook.getContacts({ email }).then((data) => {\n      if (data) {\n        if (data.data.length) {\n          setState({\n            ...state,\n            bgColor: \"bg-warning\",\n            validate: \"border border-warning\",\n            text: `El email ${email} ya está registrado`,\n          });\n\n          _handleValidData(\"email\", false, email);\n        } else {\n          _handleValidData(\"email\", true, email);\n        }\n      } else {\n        console.error(\"[Orus System] When get data from users:\", data);\n      }\n    });\n  };\n\n  const validEmail = (target) => {\n    const regex =\n      /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n    const emailSearch = target.value.replace(/\\s/g, \"\");\n\n    if (regex.test(emailSearch)) {\n      setState({\n        ...state,\n        bgColor: \"bg-primary\",\n        validate: \" border border-primary\",\n        text: \"\",\n      });\n\n      handleSearchUser(emailSearch);\n    } else {\n      setState({\n        ...state,\n        bgColor: \"bg-red\",\n        validate: \" border border-danger\",\n        text: \"No tiene el formato de un email valido\",\n      });\n      _handleValidData(\"email\", false);\n    }\n  };\n\n  return (\n    <div className={\"col-\" + col}>\n      {email.length ? (\n        <small>\n          <label>Email</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + bgColor}>\n            {searchEmail ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-at\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"email\"\n          className={\"form-control\" + validate}\n          placeholder=\"email\"\n          name=\"email\"\n          autoComplete=\"off\"\n          value={email}\n          onChange={({ target }) => props.onChange(target.value)}\n          onBlur={({ target }) => validEmail(target)}\n          onKeyPress={({ key, target }) => {\n            if (key === \"Enter\") {\n              validEmail(target);\n            }\n          }}\n          required=\"required\"\n        />\n      </div>\n      {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n    </div>\n  );\n}\n","import { useState } from \"react\";\n\nexport default function UserPhoneInputComponent(props) {\n  const [state, setState] = useState({\n    bgColor: \"bg-blue\",\n    validate: \"\",\n    text: \"No tiene el formato de un teléfono\",\n  });\n\n  const { col, phone, handleValidData: _handleValidData } = props;\n  const { bgColor, validate, text, searchEmail } = state;\n\n  const validPhone = (phone) => {\n    const regex = /^\\d{10}$/gim;\n\n    if (regex.test(phone)) {\n      setState({\n        ...state,\n        bgColor: \"bg-primary\",\n        validate: \" border border-primary\",\n        text: \"\",\n      });\n      _handleValidData(\"phone\", true, phone);\n    } else {\n      //User no valid\n      if (phone.length !== 10) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"No tiene el formato de un email valido\",\n        });\n        _handleValidData(\"phone\", false);\n      } else if (!phone.length) {\n        setState({\n          ...state,\n          bgColor: \"bg-red\",\n          validate: \" border border-danger\",\n          text: \"Escriba un telefono valido\",\n        });\n        _handleValidData(\"phone\", false);\n      }\n    }\n  };\n\n  return (\n    <div className={\"col-\" + col}>\n      {phone.length ? (\n        <small>\n          <label>Telefono</label>\n        </small>\n      ) : (\n        <br />\n      )}\n      <div className=\"input-group\">\n        <div className=\"input-group-prepend\">\n          <span className={\"input-group-text \" + bgColor}>\n            {searchEmail ? (\n              <i className=\"fas fa-spinner\"></i>\n            ) : (\n              <i className=\"fas fa-phone\"></i>\n            )}\n          </span>\n        </div>\n        <input\n          type=\"text\"\n          className={\"form-control\" + validate}\n          placeholder=\"Teléfono\"\n          name=\"phone\"\n          autoComplete=\"off\"\n          value={props.phone}\n          maxLength=\"10\"\n          onChange={({ target }) => {\n            const parse = parseInt(target.value);\n\n            if (!isNaN(parse)) {\n              props.onChange(parse.toString());\n            } else if (!target.value.length) {\n              props.onChange(\"\");\n            }\n          }}\n          onBlur={({ target }) => validPhone(target.value)}\n          onKeyPress={({ key, target }) => {\n            if (key === \"Enter\") {\n              validPhone(target.value);\n            }\n          }}\n        />\n      </div>\n      {validate ? <small className=\"text-muted\">{text}</small> : \"\"}\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport UserEmailInputComponent from \"./userEmailInput\";\nimport UserPhoneInputComponent from \"./userPhoneInput\";\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function CardCustomer({\n  data = {},\n  disabled,\n  handleRemoveCustomer: _handleRemoveCustomer,\n  handleUpdateContact: _handleUpdateContact,\n  handleEditor: _handleEditor,\n}) {\n  const contactHook = useContact();\n  const [state, setState] = useState({\n    edit: false,\n    phone: \"\",\n    email: \"\",\n    validToSave: false,\n  });\n\n  const save = () => {\n    if (!state.phone) {\n      console.error(\"[Orus System] Fatal error - phone not stablish\");\n      return;\n    }\n\n    if (!state.email) {\n      console.error(\"[Orus System] Fatal error - email not stablish\");\n      return;\n    }\n\n    const contactData = {\n      id: data.id,\n      phones: {\n        ...data.phones,\n        cell: state.phone,\n      },\n      email: state.email,\n    };\n\n    contactHook.saveContact(contactData).then((contact) => {\n      if (contact) {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Paciente actualizado\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n        _handleUpdateContact(contact);\n        setState({\n          ...state,\n          edit: false,\n          validToSave: true,\n        });\n      } else {\n        console.error(\n          \"[Orus System] Server error - when save contact data:\",\n          data.id,\n          contactData\n        );\n        window.Swal.fire({\n          icon: \"error\",\n          title: \"Error al almacenar cambios del paciente\",\n          showConfirmButton: true,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    const phonesArray = Object.values(data.phones ?? {});\n    const phones = phonesArray.filter((ph) => ph);\n\n    if (!phones || !phones.length || !data.email) {\n      setState({\n        ...state,\n        edit: true,\n        phone: phones[0],\n        email: data.email,\n        validToSave: false,\n      });\n    } else {\n      setState({\n        ...state,\n        edit: false,\n        phone: phones[0],\n        email: data.email,\n        validToSave: true,\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    _handleEditor(state.edit);\n  }, [state.edit]);\n\n  return (\n    <div className=\"card col-lg-5 mr-5 border border-success\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-user-alt mr-1\"></i>\n          Cliente seleccionado\n          <i className=\"ml-5 fas fa-check mr-1\"></i>\n        </h3>\n      </div>\n      <div className=\"card-body text-lg\">\n        <p className=\"badge badge-success\">{`# ID ${data.id}`}</p>\n        <p className=\"card-text\">\n          <i className=\"fas fa-user-circle mr-1\"></i>\n          {data.name.toUpperCase()}\n        </p>\n\n        {state.edit ? (\n          <div>\n            <div>\n              <UserPhoneInputComponent\n                phone={state.phone ?? \"\"}\n                col={12}\n                onChange={(value) => {\n                  setState({\n                    ...state,\n                    phone: value,\n                  });\n                }}\n                handleValidData={(...dto) => {\n                  let valid = dto[1];\n                  if (!state.email) valid = false;\n\n                  setState({\n                    ...state,\n                    validToSave: valid,\n                  });\n                }}\n              />\n              <UserEmailInputComponent\n                email={state.email ?? \"\"}\n                userId={data.id}\n                col={12}\n                onChange={(value) => {\n                  setState({\n                    ...state,\n                    email: value,\n                  });\n                }}\n                handleValidData={(...dto) => {                  \n                  let valid = dto[1];\n                  if (!state.phone) valid = false;\n\n                  setState({\n                    ...state,\n                    validToSave: valid,\n                  });\n                }}\n              />\n            </div>\n            <div className=\"d-flex justify-content-end mt-3\">\n              {!state.validToSave && (\n                <button\n                  className=\"btn btn-dark mr-1\"\n                  disabled={state.exam_id ? true : false}\n                  onClick={_handleRemoveCustomer}\n                >\n                  <i className=\"fas fa-arrow-left mr-2\"></i>\n                  Cambiar\n                </button>\n              )}\n\n              <button\n                className=\"btn btn-secondary mr-1\"\n                onClick={() => {\n                  const phonesArray = Object.values(data.phones ?? {});\n                  const phones = phonesArray.filter((ph) => ph);\n\n                  setState({\n                    ...state,\n                    edit: false,\n                    phone: phones[0],\n                    email: data.email,\n                  });\n                }}\n                disabled={(() => {\n                  const phonesArray = Object.values(data.phones ?? {});\n                  const phones = phonesArray.filter((ph) => ph);\n\n                  if (!phones.length) return true;\n                  if (!data.email) return true;\n                  if (!state.validToSave) return true;\n\n                  return false;\n                })()}\n              >\n                <i className=\"fas fa-ban mr-2\"></i>\n                Cancelar\n              </button>\n              <button\n                className=\"btn btn-warning\"\n                onClick={save}\n                disabled={!state.validToSave}\n              >\n                <i className=\"fas fa-save mr-2\"></i>\n                Guardar\n              </button>\n            </div>\n          </div>\n        ) : (\n          <div className=\"mb-3\">\n            <p className=\"card-text text-truncate\">\n              <i className=\"fas fa-at mr-1\"></i>\n              {state.email ?? \"Email no registrado\"}\n            </p>\n\n            <p className=\"card-text\">\n              <i className=\"fas fa-phone-alt mr-1\"></i>\n              {state.phone ? state.phone : `Telefono no registrado`}\n              {/* {Object.values(data.phones ?? {}).filter((ph) => ph)[0] ?? \"--\"} */}\n            </p>\n          </div>\n        )}\n\n        <div>\n          {!state.edit && (\n            <>\n              <button\n                className=\"btn btn-secondary\"\n                disabled={disabled}\n                onClick={_handleRemoveCustomer}\n              >\n                <i className=\"fas fa-arrow-left mr-2\"></i>\n                Cambiar\n              </button>\n              <button\n                className=\"btn btn-info ml-1\"\n                disabled={disabled}\n                onClick={() =>\n                  setState({\n                    ...state,\n                    edit: true,\n                  })\n                }\n              >\n                <i className=\"fas fa-edit mr-1\"></i>\n                Editar\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\n\nexport default function CardShowExam({\n  data,\n  disabled,\n  handleRemove: _handleRemove,\n  handleEdit: _handleEdit,\n}) {\n\n \n  return (\n    <>\n      <p className=\"card-text\">\n        <span className=\"badge badge-success mr-3 mb-2\">{`# ${data.id}`}</span>\n      </p>\n      <p className=\"font-weight-bold\">\n        Creado:{\" \"}\n        <span className=\"font-weight-normal\">\n          {moment(data.created_at).fromNow()}\n        </span>\n      </p>\n      <p className=\"font-weight-bold\">\n        Fecha:{\" \"}\n        <span className=\"font-weight-normal\">\n          {moment(data.created_at).format(\"LL\")}\n        </span>\n      </p>\n      <p className=\"font-weight-bold\">\n        Estatus:{\" \"}\n        <span className=\"font-weight-normal\">\n          {data.status ? \"Completo\" : \"En proceso\"}\n        </span>\n      </p>\n\n      <div>\n        <button\n          className=\"btn btn-secondary mr-1\"\n          disabled={disabled}\n          onClick={() => {\n            window.Swal.fire({\n              icon: \"question\",\n              title: \"¿Realmente desea cambiar el examen?\",\n              showConfirmButton: true,\n              confirmButtonText: \"Sí\",\n              showCancelButton: true,\n              cancelButttonText: \"Cancelar\",\n            }).then(({ dismiss }) => {\n              if (!dismiss) {\n                _handleRemove();\n              }\n            });\n          }}\n        >\n          <i className=\"fas fa-arrow-left mr-2\"></i>\n          Cambiar\n        </button>\n        <button\n          className=\"btn btn-info\"\n          disabled={disabled}\n          onClick={_handleEdit}\n        >\n          <i className=\"fas fa-edit mr-2\"></i>\n          Editar\n        </button>\n      </div>\n    </>\n  );\n}\n","import moment from \"moment\";\n\nimport useExam from \"../../../hooks/useExam\";\n\nexport default function CardExamByUser({\n  exams,\n  customer_id,\n  handleClick: _handleClick,\n}) {\n  const examHook = useExam();\n  const handleCreateNewExam = () => {\n    let dataNewExam = {\n      contact_id: customer_id,\n    };\n\n    examHook.saveExam(dataNewExam).then((exam) => {\n      if (exam) {\n        _handleClick(exam);\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Examen Creado correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n      } else {\n        window.Swal.fire({\n          icon: \"error\",\n          title: \"Error al crear el examen\",\n          showConfirmButton: true,\n        });\n      }\n    });\n  };\n\n  return (\n    <>\n      <p className=\"text-secondary text-md\">\n        *Seleciona un examen o crea uno nuevo para continuar\n      </p>\n      {exams.map((exam) => (\n        <div\n          className=\"border-bottom mb-1 cursor-pointer text-lg\"\n          key={exam.id}\n          onClick={() => _handleClick(exam)}\n        >\n          <p className=\"card-text\">\n            <span className=\"badge badge-warning mr-3 mb-2\">{`# ${exam.id}`}</span>\n            {moment(exam.created_at).fromNow()}\n            <span className=\"badge badge-dark ml-3\">\n              {exam.status ? \"Completo\" : \"En proceso\"}\n            </span>\n          </p>\n        </div>\n      ))}\n      <button\n        className=\"btn btn-primary mt-2 float-right\"\n        onClick={handleCreateNewExam}\n      >\n        <i className=\"fas fa-plus mr-2\"></i>\n        Nuevo\n      </button>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nexport default function FormExamSmall({ data, handleEdit: _handleEdit }) {\n  const [state, setState] = useState({\n    adicion_media_od: 0,\n    adicion_media_oi: 0,\n    dpod: 0,\n    dpoi: 0,\n  });\n  const handleOnChange = ({ value, name }) => {\n    setState({\n      ...state,\n      [name]: parseInt(value),\n    });\n  };\n\n  useEffect(() => {\n    setState({\n      ...state,\n      adicion_media_od: data.adicion_media_od,\n      adicion_media_oi: data.adicion_media_od,\n      dpod: data.adicion_media_od,\n      dpoi: data.adicion_media_od,\n    });\n  }, []);\n  return (\n    <>\n      <div className=\"row text-sm\">\n        <div className=\"col-md-6 col-sm-12\">\n          <i className=\"fas fa-eye mr-1\" /> Derecho\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          <i className=\"fas fa-eye mr-1\" /> Izquierdo\n        </div>\n      </div>\n\n      <div className=\"row mt-2 text-sm\">\n        <div className=\"col-12 text-center\">\n          <label>Adicion media</label>\n        </div>\n      </div>\n      <div className=\"row mt-2 text-sm\">\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.adicion_media_od}\n            name=\"adicion_media_od\"\n            onChange={handleOnChange}\n          />\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.adicion_media_oi}\n            name=\"adicion_media_oi\"\n            onChange={handleOnChange}\n          />\n        </div>\n      </div>\n\n      <div className=\"row mt-2 text-sm\">\n        <div className=\"col-12 text-center\">\n          <label>Distancia pupilar</label>\n        </div>\n      </div>\n      <div className=\"row mt-2\">\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.dpod}\n            name=\"dpod\"\n            onChange={handleOnChange}\n          />\n        </div>\n        <div className=\"col-md-6 col-sm-12\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={state.dpoi}\n            name=\"dpoi\"\n            onChange={handleOnChange}\n          />\n        </div>\n      </div>\n\n      <div className=\"row mt-2\">\n        <div className=\"col-12 text-right\">\n          <button className=\"btn btn-secondary mr-1\" onClick={_handleEdit}>\n            <i className=\"fas fa-ban mr-2\"></i>\n            Cancelar\n          </button>\n          <button\n            className=\"btn btn-warning\"\n            disabled={true}\n          >\n            <i className=\"fas fa-save mr-2\"></i>\n            Guardar\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\nimport CardShowExam from \"../../Exam/views/CardExam\";\nimport CardExamByUser from \"../../Exam/views/CardExamsByUser\";\nimport FormExamSmall from \"../../Exam/views/FormExamSmall\";\n\nexport default function CardExam({\n  data,\n  customer,\n  editCustomer,\n  disabled,\n  handleSelect: _handleSelect,\n  hanldeRemove: _hanldeRemove,\n}) {\n  const [state, setState] = useState({\n    exams: [],\n    edit: false,\n  });\n\n  useEffect(() => {\n    setState({\n      ...state,\n      exams: customer.exams,\n    });\n  }, []);\n\n  return (\n    <div className=\"card col-lg-5 border border-success\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-notes-medical mr-1\"></i>\n          Examen\n          {Boolean(Object.keys(data).length) && (\n            <>\n              Seleccionado <i className=\"ml-5 fas fa-check mr-1\"></i>\n            </>\n          )}\n        </h3>\n      </div>\n      <div className=\"card-body text-lg\">\n        {editCustomer ? (\n          <p className=\"alert alert-warning\">\n            <i className=\"fas fa-info mr-2\"></i>\n            Es necesario completar los datos del paciente para continuar.\n          </p>\n        ) : state.edit ? (\n          <FormExamSmall\n            data={data}\n            handleEdit={() => setState({ ...state, edit: !state.edit })}\n          />\n        ) : (\n          <>\n            {Object.keys(data).length ? (\n              <CardShowExam\n                data={data}\n                disabled={disabled}\n                handleRemove={_hanldeRemove}\n                handleEdit={() => setState({ ...state, edit: !state.edit })}\n              />\n            ) : (\n              <>\n                <CardExamByUser\n                  exams={state.exams}\n                  customer_id={customer.id}\n                  handleClick={_handleSelect}\n                />\n              </>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState } from \"react\";\n\nexport default function CardDiscount({\n  data,\n  disabled,\n  handleSetDiscount: _handleSetDiscount,\n}) {\n  const [state, setState] = useState({\n    showForm: false,\n    discount: null,\n    toPaid: 0,\n  });\n\n  const setDiscount = () => {\n    const isNumeric = /^[0-9]+$/gms;\n    const isPercen = /^[0-9]{1,3}%$/gms;\n    let value = 0;\n\n    if (!state.discount) {\n      setState({\n        ...state,\n        showForm: false,\n      });\n      return;\n    }\n\n    if (state.discount.match(isNumeric)) {\n      value = parseInt(state.discount);\n      value = value > data.total ? data.total : parseInt(state.discount);\n    } else if (state.discount.match(isPercen)) {\n      const percent = parseInt(state.discount.replace(\"%\", \"\")) / 100;\n      value = percent >= 1 ? data.total : parseInt(data.total * percent);\n    }\n\n    _handleSetDiscount(\"sale\", {\n      ...data,\n      discount: value,\n    });\n    setState({\n      ...state,\n      showForm: false,\n    });\n  };\n\n  return (\n    <>\n      <div className=\"card col-lg-4\">\n        <div className=\"card-header border-primary\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-percent mr-1\"></i>\n            Descuento\n          </h3>\n        </div>\n        <div className=\"card-body\">\n          {state.showForm ? (\n            <>\n              <p className=\"ml-1 text-dark my-2\">\n                *Escribe la cantidad o el porcentaje con un \"%\" al final\n              </p>\n              <div className=\"form-row\">\n                <div className=\"col-8\">\n                  <input\n                    value={state.discount ?? \"\"}\n                    className=\"form-control\"\n                    type=\"text\"\n                    onChange={({ target }) =>\n                      setState({ ...state, discount: target.value })\n                    }\n                    onKeyPress={({ key }) => key === \"Enter\" && setDiscount()}\n                  />\n                </div>\n                <div className=\"col\">\n                  <button className=\"btn btn-primary\" onClick={setDiscount}>\n                    {state.discount ? (\n                      <>\n                        <i className=\"fas fa-save mr-1\"></i> Guardar\n                      </>\n                    ) : (\n                      <>\n                        <i className=\"fas fa-ban mr-1\"></i> Cancelar\n                      </>\n                    )}\n                  </button>\n                </div>\n              </div>\n            </>\n          ) : (\n            <>\n              <h5 className=\"font-weight-bold\">\n                {disabled && !state.discount ? (\n                  <span className=\"text-danger text-sm\">\n                    <i className=\"fas fa-info-circle mr-2\"></i>\n                    Para aplicar un <strong>descuento</strong>, elimine primero\n                    los abonos.\n                  </span>\n                ) : (\n                  <>\n                    Descuento:\n                    <span className=\"font-weight-normal ml-2\">\n                      $ {data.discount?.toFixed(2)}\n                    </span>\n                  </>\n                )}\n              </h5>\n\n              <div className=\"btn-group\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-sm btn-secondary\"\n                  disabled={!Boolean(data.discount)}\n                  onClick={() => {\n                    _handleSetDiscount(\"sale\", {\n                      ...data,\n                      discount: 0,\n                    });\n                    setState({\n                      ...state,\n                      discount: 0,\n                    });\n                  }}\n                >\n                  <i className=\"fas fa-window-close mr-1\"></i>\n                  Eliminar\n                </button>\n                <button\n                  className=\"btn btn-warning mr-4\"\n                  disabled={disabled}\n                  onClick={() => {\n                    setState({\n                      ...state,\n                      showForm: true,\n                    });\n                  }}\n                >\n                  <i className=\"fas fa-edit mr-1\"></i>\n                  Editar\n                </button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n","import { useState, useContext } from \"react\";\n\n//Context\nimport { ConfigContext } from \"../../../context/ConfigContext\";\n\n//Helpers\nimport helpers from \"../../Sales/helpers\";\n\nfunction PaymentModal({\n  forPaid,\n  handleClose: _close,\n  sale,\n  handleSetPayments: _handleSetPayments,\n}) {\n  const config = useContext(ConfigContext);\n  const listBanks = config.data;\n\n  //States\n  const [data, setData] = useState({\n    id: 0,\n    metodopago: 1,\n    metodoname: \"efectivo\",\n    total: 0,\n    bank_id: null,\n    details: null,\n    auth: \"\",\n  });\n\n  //Functions\n  const handleChangeInput = ({ name, value, type }) => {\n      let val = value;\n\n      if (type === \"number\" || type === \"select-one\") val = parseFloat(value);\n\n      setData({\n        ...data,\n        [name]: val,\n      });\n    },\n    handleSetPayment = () => {\n      if (!data.total) {\n        window.Swal.fire({\n          icon: \"warning\",\n          title: \"El total del abono debe ser mayor a 0\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return false;\n      }\n\n      if (\n        data.metodopago !== 1 &&\n        data.metodopago !== 4 &&\n        data.metodopago !== 0\n      ) {\n        if (!data.bank_id) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Seleccione un banco\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n          return false;\n        }\n\n        if (data.auth?.length < 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique los ultimos 4 numeros de la tarjeta\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n          return false;\n        } else if (data.auth?.length > 4) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique solamente 4 numeros\",\n            showConfirmButton: false,\n            timer: 3000,\n          });\n          return false;\n        }\n      }\n\n      if (data.metodopago === 4) {\n        if (!data.auth) {\n          window.Swal.fire({\n            icon: \"warning\",\n            title: \"Espesifique el numero de autorización\",\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          return false;\n        }\n      }\n\n      _handleSetPayments({\n        ...data,\n        id: `new${Date.now().toString()}`,\n        metodoname: helpers.getMethodName(data.metodopago),\n        total: forPaid < data.total ? forPaid : data.total,\n      });\n    },\n    handleSubmitForm = (e) => {\n      e.preventDefault();\n      handleSetPayment();\n    };\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Capture el pago</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body p-2\">\n            <form autoComplete=\"off\" onSubmit={handleSubmitForm}>\n              <div className=\"row mb-2 bg-gray-light\">\n                <div className=\"col\">\n                  <h4 className=\"text-center\">\n                    Por pagar: <span className=\"text-success\">$ {forPaid}</span>\n                  </h4>\n                </div>\n              </div>\n              <div className=\"row my-2\">\n                <div className=\"col\">\n                  <label>Metodo de pago</label>\n                  <select\n                    name=\"metodopago\"\n                    className=\"custom-select text-uppercase\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    defaultValue={data.metodopago}\n                  >\n                    <option value=\"1\">Efectivo</option>\n                    <option value=\"2\">Tarjeta de debito</option>\n                    <option value=\"3\">Tarjeta de credito</option>\n                    <option value=\"4\">La marina</option>\n                    <option value=\"5\">Cheque</option>\n                    <option value=\"6\">Transferencia</option>\n                    <option value=\"0\">Otro</option>\n                  </select>\n                </div>\n                <div className=\"col\">\n                  <label>Cantidad</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    className=\"form-control text-right\"\n                    name=\"total\"\n                    onChange={({ target }) => handleChangeInput(target)}\n                    autoFocus={true}\n                  />\n                </div>\n              </div>\n\n              {data.metodopago !== 1 ? (\n                <div className=\"row mb-2\">\n                  <div className=\"col\">\n                    {data.metodopago !== 4 && data.metodopago !== 0 ? (\n                      <>\n                        <label>Banco</label>\n                        <select\n                          name=\"bank_id\"\n                          className=\"custom-select text-uppercase\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        >\n                          <option value=\"\">--Seleccione un banco--</option>\n                          {listBanks.map((bank) => {\n                            return bank.name === \"bank\" ? (\n                              <option key={bank.id} value={bank.id}>\n                                {bank.data}\n                              </option>\n                            ) : null;\n                          })}\n                        </select>\n                      </>\n                    ) : !data.metodopago ? (\n                      <>\n                        <label>Espesifique</label>\n                        <input\n                          type=\"text\"\n                          name=\"details\"\n                          className=\"form-control\"\n                          onChange={({ target }) => handleChangeInput(target)}\n                        />\n                      </>\n                    ) : (\n                      <h4 className=\"d-bloc text-center mt-4 text-success\">\n                        LA MARINA\n                      </h4>\n                    )}\n                  </div>\n                  <div className=\"col\">\n                    <label>\n                      {data.metodopago !== 4\n                        ? \"Ultimos 4 digitos\"\n                        : \"N. Autorización\"}\n                    </label>\n                    <input\n                      name=\"auth\"\n                      className=\"form-control\"\n                      onChange={({ target }) => handleChangeInput(target)}\n                    />\n                  </div>\n                </div>\n              ) : null}\n\n              {forPaid < data.total ? (\n                <div className=\"row\">\n                  <div className=\"col\">\n                    <h4 className=\"text-center mt-4\">\n                      {data.metodopago === 1 ? (\n                        <>\n                          Cambio:\n                          <span className=\"ml-2\">$ {data.total - forPaid}</span>\n                        </>\n                      ) : (\n                        <span className=\"text-danger\">\n                          <i className=\"fas fa-info-circle mr-2\"></i>\n                          La cantidad cobrada es mayor al total\n                        </span>\n                      )}\n                    </h4>\n                  </div>\n                </div>\n              ) : null}\n            </form>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => handleSetPayment()}\n              disabled={!data.total}\n            >\n              <i className=\"fas fa-money-bill mr-1\"></i>\n              Abonar\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PaymentModal;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from \"react\";\n\nimport PaymentModal from \"./PaymentModal\";\n\nexport default function CardOrderPayments({\n  data = {},\n  disabled,\n  handleSetPayments: _handleSetPayments,\n}) {\n  const [state, setState] = useState({\n    showModal: false,\n    amount: 0,\n    toPaid: 0,\n  });\n\n  const handleToPaid = () => {\n    const amount = data.payments?.reduce((back, pay) => pay.total + back, 0);\n    const toPaid = (data.subtotal ? data.subtotal: data.total) - (amount ?? 0) - data.discount;\n\n    setState({\n      ...state,\n      toPaid,\n      amount: amount ?? 0,\n    });\n  };\n\n  useEffect(() => {\n    handleToPaid();\n  }, [data.total, data.discount, data.payments, state.showModal]);\n\n  return (\n    <>\n      <div className=\"card col-lg-8 ml-2\">\n        <div className=\"card-header border-primary\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-money-bill-alt mr-1\"></i>\n            Lista de abonos\n          </h3>\n        </div>\n\n        <div className=\"card-body\">\n          {data.payments?.length ? (\n            <div className=\"col-lg-12\">\n              {data.payments.map((payment, index) => (\n                <div className=\"row\" id={payment.id} key={index}>\n                  <div className=\"col-1\">{index + 1}</div>\n                  <div className=\"col-6 text-uppercase font-weight-bold\">\n                    <h6\n                      className={\n                        payment.metodoname === \"efectivo\"\n                          ? \"text-success\"\n                          : \"text-dark\"\n                      }\n                    >\n                      <span className=\"text-dark mr-2\">\n                        {payment.metodoname}\n                      </span>\n                      {payment.auth && (\n                        <span className=\"text-muted\">- {payment.auth}</span>\n                      )}\n                    </h6>\n                  </div>\n                  <div className=\"col-3 text-right\">\n                    <h6>${payment.total}</h6>\n                  </div>\n                  <div className=\"col-2 text-right\">\n                    <button\n                      className=\"btn btn-sm btn-muted\"\n                      id={payment.id}\n                      onClick={() => {\n                        const payments = data.payments.filter(\n                          (pay) => pay.id !== payment.id\n                        );\n\n                        _handleSetPayments(\"sale\", {\n                          ...data,\n                          payments,\n                        });\n                      }}\n                      disabled={!Boolean(state.toPaid) || disabled}\n                    >\n                      <i className=\"fas fa-trash\"></i>\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <h5 className=\"text-center bg-warning\">\n              <i className=\"fas fa-info-circle p-2\"></i>\n              No tiene abonos en este pedido\n            </h5>\n          )}\n\n          <div className=\"card-footer text-right d-flex justify-content-end\">\n            <div className=\"mr-4\">\n              <button\n                className=\"btn btn-success ml-3\"\n                onClick={() => {\n                  setState({\n                    ...state,\n                    showModal: true,\n                  });\n                }}\n                disabled={!Boolean(state.toPaid) || disabled}\n              >\n                <i className=\"fas fa-money-bill-alt mr-2\"></i>\n                Abonar\n              </button>\n            </div>\n            <h4 className=\"mr-4 text-success\">\n              <span className=\"font-weight-bold text-dark mr-2\">\n                Abono total:\n              </span>{\" \"}\n              $ {state.amount}\n            </h4>\n            <h4 className=\"text-danger\">\n              <span className=\"font-weight-bold text-dark mr-2\">\n                Por pagar:\n              </span>\n              $ {state.toPaid}\n            </h4>\n          </div>\n        </div>\n      </div>\n\n      {state.showModal ? (\n        <PaymentModal\n          handleClose={() => {\n            setState({\n              ...state,\n              showModal: false,\n            });\n          }}\n          sale={data}\n          forPaid={state.toPaid}\n          handleSetPayments={(pay) => {\n            const payments = data.payments;\n            const index = payments.findIndex(\n              (p) => p.metodopago === pay.metodopago\n            );\n\n            if (index < 0) {\n              payments.push(pay);\n            } else {\n              payments[index].total += pay.total;\n            }\n\n            _handleSetPayments(\"sale\", {\n              ...data,\n              payments,\n            });\n            setState({\n              ...state,\n              showModal: false,\n            });\n          }}\n        />\n      ) : null}\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-lone-blocks */\nimport React, { useState, useContext } from \"react\";\n//Context\nimport { OrderContext } from \"../../context/OderContext\";\n//Hooks\nimport useOrder from \"../../hooks/useOrder\";\n//Helpers\nimport generalHelper from \"../../utils/helpers\";\n\n//Components\nimport SearchContact from \"../Contacts/views/ShowCard\";\nimport Items from \"./views/ItemsOrder\";\nimport PrintSaleComponent from \"../print/PrintSale\";\nimport CardCustomer from \"./views/Asistent_card_customer\";\nimport CardExam from \"./views/Asistent_card_exam\";\nimport CardDiscount from \"./views/Asistent_card_discount\";\nimport CardOrderPayments from \"./views/Asistent_card_payments\";\n\nexport default function AsistentComponent(props) {\n  const [state, setState] = useState({\n    id: 0,\n    contact_id: 0,\n    contact: {},\n    exam_id: 0,\n    exam: {},\n    examsList: [],\n    items: [],\n    session: generalHelper.getSession(),\n    sale: {\n      total: 0,\n      discount: 0,\n      payments: [],\n    },\n    print: false,\n    editCustomer: false,\n    validItems: false,\n  });\n  const orderContext = useContext(OrderContext);\n  const orderHook = useOrder();\n\n  const handleSave = (e) => {\n    let categories_wrong = 0;\n\n    const { items: items_state, exam_id, session, contact_id, sale } = state;\n\n    const items = items_state.map((item) => {\n      if (item.category === 4) categories_wrong++;\n\n      return {\n        cant: item.cant,\n        price: item.price,\n        subtotal: item.subtotal,\n        inStorage: item.inStorage,\n        session: session,\n        out: item.out,\n        descripcion: item.descripcion,\n        store_items_id: item.store_items_id,\n      };\n    });\n\n    if (items.length === categories_wrong) {\n      window.Swal.fire({\n        title: \"Verificacion\",\n        text: \"No hay productos para procesar en un pedido\",\n        icon: \"warning\",\n        timer: 3000,\n      });\n      return false;\n    }\n\n    let data = {\n      session: session,\n      contact_id: contact_id,\n      items: items,\n      sale: {\n        discount: sale.discount,\n      },\n    };\n\n    if (sale.payments.length) {\n      let finalPayments = sale.payments;\n      finalPayments.forEach((payment) => {\n        delete payment.id;\n        delete payment.metodoname;\n      });\n      data.sale.payments = finalPayments;\n    }\n\n    if (exam_id) data.exam_id = parseInt(exam_id);\n\n    if (!data.sale.payments?.length) {\n      window.Swal.fire({\n        icon: \"question\",\n        title: \"¿Desea GUARDAR el pedido sin ningun abono?\",\n        showConfirmButton: true,\n        confirmButtonText: \"Si\",\n        showCancelButton: true,\n        denyButtonText: \"No\",\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          executeHook(data);\n        }\n      });\n    } else {\n      window.Swal.fire({\n        icon: \"question\",\n        title: \"Esta seguro que desea GUARDAR el pedido?\",\n        showConfirmButton: true,\n        confirmButtonText: \"Si\",\n        showCancelButton: true,\n        denyButtonText: \"No\",\n      }).then(({ dismiss }) => {\n        if (!dismiss) {\n          executeHook(data);\n        }\n      });\n    }\n  };\n  const handleChangeInput = (key, value) => {\n    if (key === \"exam\") {\n      if (value.category_id) {\n        handleGetCategories(value.category_id);\n      }\n\n      if (!value.id) {\n        setState({\n          ...state,\n          exam_id: 0,\n          exam: {},\n        });\n      } else {\n        setState({\n          ...state,\n          exam_id: value.id,\n          exam: value,\n        });\n      }\n\n      return;\n    }\n\n    if (key === \"items\") {\n      const total = value.reduce(\n        (sub, item) => item.cant * item.price + sub,\n        0\n      );\n\n      setState({\n        ...state,\n        items: value,\n        sale: {\n          ...state.sale,\n          total: total,\n        },\n      });\n      return;\n    }\n\n    setState({\n      ...state,\n      [key]: value,\n    });\n  };\n  const handleGetCategories = (cat_id) => {\n    const { _getCategory } = this.props;\n    _getCategory({ id: cat_id });\n  };\n\n  const executeHook = (data) => {\n    orderHook.saveOrder(data).then(({ data }) => {\n      if (data) {\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Pedido guardado correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        }).then(({ dismiss }) => {\n          if (dismiss) {\n            setState({\n              ...state,\n              id: data.id,\n              sale: {           \n                id: data.sale.id,                \n                total: data.sale.total,\n                subtotal: data.sale.subtotal,\n                discount: data.sale.descuento,\n                payments: data.sale.payments,\n                paid: data.sale.paid,\n                customer: data.paciente,\n              },\n              print: true,\n            });\n          }\n        });\n      } else {\n        window.Swal.fire({\n          icon: \"danger\",\n          title: \"Error al guardar el pedido\",\n          showConfirmButton: true,\n        });\n      }\n    });\n  };\n  const handleCloseAssitent = () => {\n    orderContext.set({\n      ...orderContext,\n      panel: \"inbox\",\n    });\n  };\n  \n  return (\n    <div className=\"mainAssitentComponent \">\n      <div className=\"card card-warning card-outline col-lg-12\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">\n            <i className=\"fas fa-clipboard-list mr-1\"></i>\n            Nuevo Pedido\n          </h3>\n        </div>\n\n        <div className=\"card-body d-flex justify-content-center col-lg-12\">\n          {/* Validacion 1 --- Seleccion de cliente */}\n          {!state.contact_id ? (\n            <div className=\"form-group col-lg-6\">\n              <SearchContact\n                title=\"Paciente\"\n                legend={\n                  !state.contact_id\n                    ? \"Busque el paciente por nombre para crearun nuevo pedido\"\n                    : null\n                }\n                handleContactSelect={(contact) => {\n                  if (contact.id) {\n                    setState({\n                      ...state,\n                      contact_id: contact.id ?? 0,\n                      examsList: contact.exams.length ? contact.exams : [],\n                      contact,\n                    });\n                  }\n                }}\n                data={state.contact}\n              />\n            </div>\n          ) : (\n            <CardCustomer\n              data={state.contact}\n              handleRemoveCustomer={() => {\n                setState({\n                  session: generalHelper.getSession(),\n                  contact_id: 0,\n                  contact: {},\n                  items: [],\n                  exam_id: 0,\n                  exam: {},\n                });\n              }}\n              handleUpdateContact={(contact) =>\n                setState({ ...state, contact, editCustomer: false })\n              }\n              handleEditor={(status) =>\n                setState({ ...state, editCustomer: status })\n              }\n              disabled={Boolean(state.exam_id)}\n            />\n          )}\n\n          {/* Validacion 2 --- Seleccion de examen o creacion de uno nuevo */}\n          {Boolean(state.contact_id) && (\n            <CardExam\n              data={state.exam}\n              customer={state.contact}\n              editCustomer={state.editCustomer}\n              disabled={Boolean(state.items.length)}\n              handleSelect={(exam) =>\n                setState({ ...state, exam_id: exam.id, exam })\n              }\n              hanldeRemove={() => setState({ ...state, exam_id: 0, exam: {} })}\n            />\n          )}\n        </div>\n\n        {/* Validacion 3 --- Seleccion de productos una vez seleccionado el examen */}\n        {Boolean(state.exam_id) && (\n          <div className=\"col-lg-10 d-flex align-self-center justify-content-center p-0\">\n            <Items\n              items={state.items ?? []}\n              session={state.session}\n              disabled={Boolean(state.sale?.payments?.length)}\n              changeInput={handleChangeInput}\n              className={\n                state.items.length\n                  ? \"card border border-success col-lg-12\"\n                  : \"card border border-warning col-lg-12\"\n              }\n            />\n          </div>\n        )}\n\n        {/* Validación 4 --- lista de abonos al pago */}\n        {Boolean(state.items.length) && state.validItems && (\n          <div className=\"col-lg-10 d-flex align-self-center p-0 mt-2\">\n            <CardDiscount\n              data={state.sale ?? {}}\n              handleSetDiscount={handleChangeInput}\n              disabled={(() => {\n                const amount = state.sale.payments?.reduce(\n                  (back, pay) => pay.total + back,\n                  0\n                );\n\n                if (state.id) return true;\n                if (amount) return true;\n\n                return !Boolean(\n                  state.sale.total - state.sale.discount - amount\n                );\n              })()}\n            />\n\n            <CardOrderPayments\n              data={state.sale ?? {}}\n              handleSetPayments={handleChangeInput}\n              disabled={Boolean(state.id)}\n            />\n          </div>\n        )}\n\n        {state.print && (\n          <PrintSaleComponent\n            data={{\n              ...state.sale,\n              items: state.items,\n              order_id: state.id,\n            }}\n            setPrint={() => setState({ ...state, print: false })}\n          />\n        )}\n\n        <div className=\"card col-lg-10 d-flex align-self-center border border-bottom-primary\">\n          <div className=\"card-body text-right\">\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => {\n                if (state.contact_id && !state.id) {\n                  window.Swal.fire({\n                    icon: \"question\",\n                    title: \"¿Realmente desea cerrar esta venta sin GUARDAR?\",\n                    showConfirmButton: true,\n                    confirmButtonText: \"Sí\",\n                    showCancelButton: true,\n                    cancelButttonText: \"Cancelar\",\n                  }).then(({ dismiss }) => {\n                    if (!dismiss) {\n                      handleCloseAssitent();\n                    }\n                  });\n                } else {\n                  handleCloseAssitent();\n                }\n              }}\n            >\n              <i\n                className={\n                  state.id ? \"fas fa-door-open mr-2\" : \"fas fa-ban mr-2\"\n                }\n              ></i>\n              {state.id ? \"Cerrar\" : \"Cancelar\"}\n            </button>\n\n            {state.id ? (\n              <button\n                className=\"btn btn-primary ml-3\"\n                onClick={() => setState({ ...state, print: !state.print })}\n              >\n                <i className=\"fas fa-print mr-2\"></i>\n                Imprimir\n              </button>\n            ) : (\n              <button\n                className=\"btn btn-warning ml-3\"\n                disabled={\n                  !state.items.length || state.id || !state.validItems\n                    ? true\n                    : false\n                }\n                onClick={handleSave}\n              >\n                <i className=\"fas fa-save mr-2\"></i>\n                Guardar\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState,useEffect } from \"react\";\nimport useContact from \"../../../hooks/useContact\";\n\nexport default function LabOrderComponent({\n  status = false,\n  lab_id = \"\",\n  lab_order = \"\",\n  handleChange: _handleChange,\n}) {\n\n  const optionsDefault = {\n    page: 1,\n    orderby: \"created_at\",\n    order: \"desc\",\n    itemsPage: 100,\n    type:1,\n    business:1\n  };\n\n  const [suppliers, setSuppliers] = useState([]);\n  const [supDefault, setSupDefault] = useState('');\n  const hookContacts =  useContact();\n\n  const getSuppliers = ()=>{\n    hookContacts.getContacts(optionsDefault).then((data)=>{\n      if(data){\n        setSuppliers(data.data);\n        const supDefault = data.data.filter((supplier)=> supplier.id === lab_id);\n        if(!supDefault.length){ \n          return null\n        }else{\n          setSupDefault(supDefault[0].name);\n        }        \n      }\n    })\n  }\n  \n  //Functions\n  const changeInput = (e) => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let val = value;\n\n    if (name === \"lab_id\") val = parseInt(value);\n\n    if (_handleChange) _handleChange(name, val);\n  };\n\n  useEffect(() => {\n    getSuppliers();\n    //dispatch(contactActions.getListSuppliers(1));\n    //eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"row m-2\">\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Laboratorio</label>\n\n          <select\n            className={status > 1 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 1 ? true : false}\n            name=\"lab_id\"\n            defaultValue={lab_id}\n            onChange={changeInput}\n          >            \n            <option value=\"0\">\n              {lab_id === 0 ? \"Seleccione un proveedor\" : supDefault}\n            </option>   \n            {suppliers.map((s) => {                                                                     \n                  return (\n                    <option key={s.id} value={s.id}>                      \n                      {s.name}\n                    </option>\n                  );\n                })}\n          </select>\n\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Folio</label>\n          <input\n            type=\"text\"\n            className={status > 1 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 1 ? true : false}\n            name=\"lab_order\"\n            maxLength=\"50\"\n            defaultValue={lab_order}\n            onChange={changeInput}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","\n\nexport default function BicelacionOrderComponent({\n  status = false,\n  bi_box = \"\",\n  bi_details = \"\",\n  handleChange: _handleChange,\n}) {\n  const changeInput = (e) => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let val = value;\n\n    if (name === \"caja\") val = parseInt(value);\n\n    if (_handleChange) _handleChange(name, val);\n  };\n\n  return (\n    <div className=\"row m-2\">\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label htmlFor=\"lab\">Caja</label>\n          <input\n            type=\"number\"\n            className={status > 2 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 2 ? true : false}\n            name=\"bi_box\"\n            min=\"1\"\n            defaultValue={bi_box}\n            onChange={changeInput}\n          />\n        </div>\n      </div>\n      <div className=\"col\">\n        <div className=\"border border-warning rounded p-2\">\n          <label>Observaciones</label>\n          <textarea\n            name=\"bi_details\"\n            className={status > 2 ? \"form-control disabled\" : \"form-control\"}\n            disabled={status > 2 ? true : false}\n            defaultValue={bi_details}\n            onChange={changeInput}\n          ></textarea>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport moment from \"moment\";\n//Views and actions\nimport Graduacion from \"./graduacionExam\";\n\nconst ExamCustomerComponent = (props) => {\n  const {\n    exam = {},\n    examEdit = false,\n    ChangeInput: _ChangeInput,\n    _saveExam,\n  } = props;\n\n  const [newExam, setNewExam] = useState({\n    esferaod: exam.esferaod,\n    esferaoi: exam.esferaoi,\n    cilindrod: exam.cilindrod,\n    cilindroi: exam.cilindroi,\n    ejeod: exam.ejeod,\n    ejeoi: exam.ejeoi,\n    adiciond: exam.adiciond,\n    adicioni: exam.adicioni,\n    adicion_media_od: exam.adicion_media_od,\n    adicion_media_oi: exam.adicion_media_oi,\n    dpod: exam.dpod,\n    dpoi: exam.dpoi,\n    alturaod: exam.alturaod,\n    alturaoi: exam.alturaoi,\n    lcmarca: exam.lcmarca,\n    lcgod: exam.lcgod,\n    lcgoi: exam.lcgoi,\n  });\n\n  const handleDataExam = (key, val) => {\n    const data = {\n      ...newExam,\n      [key]: parseFloat(val),\n    };\n    setNewExam(data);\n    _ChangeInput(\"codes\", {});\n  };\n\n  const handelChangeExam = () => {\n    _ChangeInput(\"examEdit\", false);\n  };\n\n  const handleSaveExam = () => {\n    window.Swal.fire({\n      title: \"Almacenamiento\",\n      text: \"¿Esta seguro de actualizar el examen?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Actualizar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then((result) => {\n      if (!result.dismiss) {\n        _saveExam({\n          id: exam.id,\n          data: newExam,\n        });\n        handelChangeExam();\n      }\n    });\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col\">\n          <b>\n            Folio <br />#{exam.id}\n          </b>\n        </div>\n        <div className=\"col\">\n          <b>Fecha:</b>\n          <br />\n          <i className=\"fas fa-calendar mr-2\"></i>\n          {moment(exam.created_at).format(\"L\")}\n        </div>\n        <div className=\"col\">\n          <b>Estado:</b>\n          <br />\n          {exam.estado ? (\n            <span className=\"badge badge-success\">\n              <i className=\"fas fa-check\"></i> Terminado\n            </span>\n          ) : (\n            <span className=\"badge badge-secondary\">\n              <i className=\"fas fa-hourglass\"></i> Activo\n            </span>\n          )}\n        </div>\n      </div>\n\n      {exam.observaciones ? (\n        <div className=\"form-group mt-2\">\n          <div className=\"callout callout-info\">\n            <h5 className=\"text-info text-bold\">\n              <i className=\"fas fa-info\"></i> Observaciones:\n            </h5>\n            {exam.observaciones}\n          </div>\n        </div>\n      ) : null}\n\n      <div className=\"row mt-2\">\n        <div className=\"col\">\n          <Graduacion\n            esferaod={newExam.esferaod ?? 0}\n            esferaoi={newExam.esferaoi ?? 0}\n            cilindrod={newExam.cilindrod ?? 0}\n            cilindroi={newExam.cilindroi ?? 0}\n            ejeod={newExam.ejeod ?? 0}\n            ejeoi={newExam.ejeoi ?? 0}\n            adiciond={newExam.adiciond ?? 0}\n            adicioni={newExam.adicioni ?? 0}\n            adicion_media_od={newExam.adicion_media_od}\n            adicion_media_oi={newExam.adicion_media_oi}\n            dpod={newExam.dpod ?? 0}\n            dpoi={newExam.dpoi ?? 0}\n            alturaod={newExam.alturaod ?? 0}\n            alturaoi={newExam.alturaoi ?? 0}\n            lcmarca={newExam.lcmarca ?? 0}\n            lcgod={newExam.lcgod ?? 0}\n            lcgoi={newExam.lcgoi ?? 0}\n            readOnly={!examEdit}\n            onChangeInput={handleDataExam}\n          />\n        </div>\n      </div>\n      {examEdit ? (\n        <div className=\"text-right mt-2\">\n          <div className=\"btn-group\">\n            <button className=\"btn btn-default\" onClick={handelChangeExam}>\n              <i className=\"fas fa-times mr-1\"></i> Cerrar\n            </button>\n            <button className=\"btn btn-info\" onClick={handleSaveExam}>\n              <i className=\"fas fa-save mr-1\"></i> Guardar\n            </button>\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n};\n\n\nexport default ExamCustomerComponent;\n","//Components\nimport Exam from '../Exam/views/examShort';\n\nexport default function ExamModal({ handleClose: _close, exam }) {\n  return (\n    <div className=\"modal d-block\">\n      <div className=\"modal-dialog modal-lg\" style={{maxWidth:'80%'}} role=\"document\">\n\n        <div className=\"modal-content\">\n          \n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Examen</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n          <div className=\"modal-body p-2\">\n            <div className=\"row mt-4 d-print-none\">\n            {exam && exam.id ? (\n              <div className=\"col pt-6\">                \n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <div className=\"p-0 mailbox-read-message\">\n                      <Exam id={exam.id} examEdit={false} exam={exam} />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ) : null}            \n            </div>\n          </div>\n\n          <div className=\"modal-footer\">\n            <button\n              type=\"button\"\n              className=\"btn btn-default\"\n              onClick={() => _close()}\n            >\n              <i className=\"fas fa-ban mr-1\"></i>\n              Cancelar\n            </button>\n          </div>\n\n        </div>\n      </div>\n    </div> \n  );\n};\n","import { useHistory } from \"react-router-dom\";\nimport saleHelper from '../Sales/helpers';\n\n\nexport default function ModalNota({ handleClose: _close, sale}) {\n\n\n  const history =  useHistory();\n\n  const penddingToPay = () => {\n    let pendding = saleHelper.getTotal(sale.subtotal, sale.discount) - saleHelper.getPagado(sale.payments);\n    return pendding;\n  }\n\n  const getPagado = ()=>{\n    return saleHelper.getPagado(sale.payments);\n  }\n\n  \n  return (\n      <div className=\"modal d-block\">\n      <div className=\"modal-dialog\" role=\"document\">\n\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Nota</h5>\n            <button type=\"button\" className=\"close\" onClick={() => _close()}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n\n          <div className=\"modal-body p-2\">\n          {sale.id ? (                 \n                 <div>\n                     <div className='ml-3 font-weight-bold'>\n                         <h5 className='border-bottom pb-1 mb-2'>Resumen de la venta <span className='badge badge-success'>#{sale.id}</span></h5>\n                     </div>\n                     <div className=\"d-flex pl-2\">                     \n                        <div className='col-lg-7'>                                        \n                            <h6>Descuento:<span className='text-secondary ml-2 font-weight-normal'>${sale.discount}</span></h6>\n                            <h6>Subtotal:<span className=\"text-secondary mb-3 ml-2 font-weight-normal\">${sale.subtotal}</span></h6>\n                            <h5 className=\"font-weight-bold\">Total:<span className=\"text-info ml-2 font-weight-normal\">${sale.total}</span></h5>  \n                        </div>\n                                                            \n                        <div className='col-lg-6 d-flex flex-column justify-content-center align-items-center pt-4'>\n                            <h6 className='font-weight-bold'>Abonado:<span className='text-success ml-2 font-weight-normal'>${getPagado()}</span></h6>                          \n                            <h6 className='font-weight-bold'>Por pagar:<span className='text-danger ml-2 font-weight-normal'>${penddingToPay()}</span></h6>\n                        </div>\n                     </div>\n                     {penddingToPay() === 0 ? <h5 className=\"text-center bg-success p-1\">$ Cuenta pagada</h5> : null}                     \n                 </div>                \n             ):(\n                 <p>No hay un nota para mostrar!!</p>\n             )}           \n          </div>\n\n          <div className=\"modal-footer\">                \n                <button\n                type=\"button\"\n                className=\"btn btn-default\"\n                onClick={() => _close()}\n                >\n                <i className=\"fas fa-ban mr-1\"></i>\n                Cancelar\n                </button>\n\n                <button className=\"btn btn-info\" onClick={()=>history.push(`/notas/${sale.id}`)}>\n                  <i className=\"fas fa-money-bill-alt mr-2\"></i>\n                  Editar nota\n                </button>\n\n          </div>\n        </div>\n      </div>\n    </div> \n  );\n};\n","import { useState, useEffect, useContext } from \"react\";\nimport { useHistory} from \"react-router-dom\";\nimport moment from \"moment\";\n\n//Context\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { OrderContext } from \"../../context/OderContext\";\n\n//Hooks\nimport useOrder from \"../../hooks/useOrder\";\n\n//Components\nimport LabOrder from \"./views/labOrder\";\nimport Bicelacion from \"./views/bicelacionOrder\";\nimport Items from \"./views/ItemsOrder\";\nimport ExamModal from \"./ExamModal\";\nimport ModalNota from \"./ModalNota\";\nimport Activitys from \"../Activitys\";\nimport PrintSaleComponent from \"../print/PrintSale\";\n\n//Helper\nimport helper from \"./helpers\";\n\nexport default function EditOrderComponent(props) {\n  const [state, setState] = useState({\n    id: 0,\n    paciente: {},\n    session: null,\n    lab_id: 0,\n    lab_order: \"\",\n    bi_details: \"\",\n    bi_box: 0,\n    items: [],\n    sale: {},\n    exam: {},\n    codes: {},\n    status: 0,\n    created: {},\n    created_at: null,\n    updated: {},\n    updated_at: null,\n    print: false,\n    statusInitial: 0,\n  });\n\n  const [showModal, setShowModal] = useState(false);\n  const [showModalNota, setShowModalNota] = useState(false);\n\n  const {\n    id,\n    paciente,\n    lab_id,\n    lab_order,\n    bi_box,\n    bi_details,\n    items,\n    exam = {},\n    status,\n    created_at,\n  } = state;\n\n  const idurl = props.match.params;\n  const hookOrder = useOrder();\n  const authContext = useContext(AuthContext);\n  const role = authContext.auth.roles;\n  const history = useHistory();\n  const orderContext = useContext(OrderContext);\n\n  const { loading: LOADING } = props;\n\n  const fNacimiento =\n    new Date(paciente.birthday ?? \"\") < new Date()\n      ? moment(paciente.birthday)\n      : null;\n\n  const telefonos = Object.values(paciente.phones ?? {}).filter((tel) => tel);\n\n  const handleClose = (e) => {\n    orderContext.set({\n      ...orderContext,\n      panel: \"inbox\",\n    });\n\n    history.push(\"/pedidos\");\n  };\n\n  const handleSave = () => {\n    const { id, lab_order, bi_box, status, lab_id, bi_details } = state;\n    if (status === 0) {\n      return null;\n    }\n\n    if (status === 1 && !lab_id && toString(lab_order).length) {\n      window.Swal.fire(\n        \"Verificación\",\n        \"Verifique los campos de laboratorio\",\n        \"error\"\n      );\n      return false;\n    } else if (status === 1) {\n      saveFinalOrder({\n        id,\n        status,\n        lab_id,\n        lab_order,\n      });\n    }\n\n    if (status === 2 && !bi_box) {\n      window.Swal.fire(\"Verificación\", \"El numero de caja esta vacio\", \"error\");\n      return false;\n    } else if (status === 2) {\n      saveFinalOrder({\n        id,\n        status,\n        bi_box,\n        bi_details,\n      });\n    }\n\n    if (status >= 3) {\n      saveFinalOrder({\n        id,\n        status,\n      });\n    }\n  };\n\n  const saveFinalOrder = (data) => {\n    hookOrder.saveOrder(data).then((data) => {\n      if (data) {\n        window.Swal.fire({\n          title: \"Estado guardado correctamente\",\n          icon: \"success\",\n          showCancelButton: false,\n          showConfirmButton: false,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"Eliminar\",\n          timer: 3000,\n        });\n        orderContext.set({\n          ...orderContext,\n          panel: \"inbox\",\n        });\n        history.push(\"/pedidos\");\n      } else {\n        window.Swal.fire({\n          title: \"Error al actualizar el estado\",\n          icon: \"error\",\n          showCancelButton: false,\n          confirmButtonColor: \"#3085d6\",\n          cancelButtonColor: \"#d33\",\n          confirmButtonText: \"Eliminar\",\n        });\n      }\n    });\n  };\n\n  const handleDeleteOrder = () => {\n    window.Swal.fire({\n      title: \"¿Estás seguro de eliminar la orden?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Eliminar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        hookOrder.deleteOrder(id);\n        window.Swal.fire({\n          icon: \"success\",\n          title: \"Orden eliminada correctamente\",\n          showConfirmButton: false,\n          timer: 3000,\n        });\n\n        orderContext.set({\n          ...orderContext,\n          panel: \"inbox\",\n        });\n      }\n    });\n  };\n\n  const handleChangeInput = (key, value) => {\n    setState({\n      ...state,\n      [key]: value,\n    });\n  };\n\n  useEffect(() => {\n    hookOrder.getOrder(idurl).then(({ data }) => {\n      if (data) {\n        setState({\n          id: data.id ?? 0,\n          paciente: data.paciente ?? {},\n          session: data.session ?? null,\n          lab_id: data.lab ? data.lab.id : 0,\n          lab_order: data.lab_order ?? \"\",\n          bi_details: data.bi_details ?? \"\",\n          bi_box: data.bi_box ?? 0,\n          items: data.items ?? [],\n          exam: data.exam ?? {},\n          codes: data.codes ?? {},\n          status: data.status ?? 0,\n          created: data.created ?? {},\n          created_at: data.created_at ?? null,\n          updated: data.updated ?? {},\n          updated_at: data.updated_at ?? null,\n          sale: {\n            id: data.sale.id,\n            total: data.sale.total,\n            subtotal: data.sale.subtotal,\n            session: data.sale.session,\n            payments: data.sale.payments,\n            paid: data.sale.paid,\n            discount: data.sale.descuento,            \n            customer: data.paciente,\n            //...(data.sale ?? {}),            \n          },\n          contact_id: data.paciente.id,\n          activitys: data.activity ?? [],\n          statusInitial: data.status ?? 0,\n        });\n      } else {\n        console.error(\"Error al obtener los datos\");\n      }\n    });\n  }, [id]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      {state ? (\n        <>\n          <div className=\"card card-warning card-outline d-print-none\">\n            <div className=\"card-header\">\n              <h3 className=\"card-title w-100\">\n                <i className=\"mr-1 fas fa-clipboard-list\"></i>\n                Pedido\n                <span className=\"ml-1 badge badge-pill badge-warning\">\n                  #{id}\n                </span>\n                <span className=\"float-right mailbox-read-time mt-1 text-dark\">\n                  Pedido registrado {moment(created_at).fromNow()}\n                </span>\n              </h3>\n            </div>\n\n            <div className=\"p-0 card-body d-flex p-3\">\n              <div className=\"pl-3 col-lg-6\">\n                {/* Nombre del paciente */}\n                <h6 className=\"d-flex mb-2\">\n                  <i className=\"mr-2 fas fa-user\"></i>\n                  <span className=\"text-capitalize m-0 text-secondary\">\n                    {paciente.name}\n                  </span>\n                </h6>\n                {/* Email del paciente */}\n                {paciente.email ? (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-2 fas fa-envelope\"></i>\n                    <span className=\"text-muted\">{paciente.email}</span>\n                  </h6>\n                ) : (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-2 fas fa-envelope\"></i>\n                    <span className=\"text-muted\">Email no registrado</span>\n                  </h6>\n                )}\n                {/* Teléfono del paciente */}\n                {telefonos.length ? (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-1 fas fa-phone\"></i>\n                    <span className=\"mx-1 text-muted\">\n                      {telefonos.join(\" \")}\n                    </span>\n                  </h6>\n                ) : (\n                  <h6 className=\"mb-2\">\n                    <i className=\"mr-1 fas fa-phone\"></i>\n                    <span className=\"text-muted\">Telefonos no registrado</span>\n                  </h6>\n                )}\n\n                {/*Fecha de nacimiento del paciente*/}\n                {role === \"admin\" ? (\n                  <span className=\"mailbox-read-time\">\n                    Fecha de nacimiento:{\" \"}\n                    {fNacimiento ? (\n                      <>\n                        {fNacimiento.format(\"LL\")}\n                        <label className=\"ml-1\">\n                          ({moment().diff(fNacimiento, \"years\")} años)\n                        </label>\n                      </>\n                    ) : (\n                      \"NO REGISTRADO\"\n                    )}\n                  </span>\n                ) : null}\n              </div>\n\n              <div className=\"col-lg-6 d-flex flex-column justify-content-center align-items-center\">\n                <div className=\"w-75 d-flex flex-column justify-content-center align-items-center\">\n                  <div className=\"btn-group\">\n                    {state.nota && !state.nota.id ? (\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-default btn-sm\"\n                        title=\"Eliminar\"\n                        onClick={handleDeleteOrder}\n                      >\n                        <i className=\"far fa-trash-alt\"></i>\n                      </button>\n                    ) : null}\n                  </div>\n                </div>\n\n                <div className=\"w-75 d-flex flex-column justify-content-center align-items-center\">\n                  <div className=\"mt-3 \">\n                    <button\n                      className=\"btn btn-info mr-1\"\n                      onClick={() => setShowModal(true)}\n                      disabled={Object.keys(exam).length ? false : true}\n                    >\n                      {Object.keys(exam).length\n                        ? \"Ver examen\"\n                        : \"Sin examen asignado\"}\n                      <i className=\"fas fa-eye ml-1\"></i>\n                    </button>\n\n                    <button\n                      className=\"btn btn-primary mr-1\"\n                      onClick={() => setShowModalNota(true)}\n                    >\n                      Ver Nota\n                      <i className=\"fas fa-money-bill ml-1\"></i>\n                    </button>\n\n                    <button\n                      className=\"btn btn-secondary\"\n                      onClick={() => setState({ ...state, print: true })}\n                    >\n                      Imprimir\n                      <i className=\"fas fa-print ml-1\"></i>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"row mt-4 mb-4\">\n            <div className=\"col-lg-4 col-md-6 col-sm-12 d-print-none\">\n              {/* ------------------SELECCION DE ESTATUS ------------------ */}\n              <h6 className=\"w-100 d-block font-weight-bold\">Estado</h6>\n              <div className=\"card mt-2\">\n                <div className=\"btn-group-vertical\">\n                  {helper.getStatusType.map((type, index) => (\n                    <button\n                      key={index}\n                      type=\"button\"\n                      className={\n                        status === index\n                          ? \"btn btn-primary btn-sm text-capitalize text-bold\"\n                          : \"btn btn-default btn-sm text-capitalize\"\n                      }\n                      onClick={(e) => {\n                        setState({\n                          ...state,\n                          status: index,\n                        });\n                      }}\n                    >\n                      {type}\n                    </button>\n                  ))}\n                </div>\n                {LOADING ? (\n                  <div className=\"overlay dark\">\n                    <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                  </div>\n                ) : null}\n              </div>\n\n              <div className=\"mt-3 d-flex justify-content-center\">\n                <button\n                  className=\"btn btn-secondary mr-2\"\n                  onClick={(e) => handleClose(e)}\n                >\n                  Cerrar\n                  <i className=\"mr-1 fas fa-door-open ml-2\"></i>\n                </button>\n\n                <button\n                  className=\"btn btn-warning\"\n                  /* disabled={Boolean(state.status === state.statusInitial)} */\n                  onClick={handleSave}\n                >\n                  Guardar\n                  <i className=\"mr-1 fas fa-save ml-2\"></i>\n                </button>\n              </div>\n            </div>\n\n            {/*------------------ COMPONENTE DE PEDIDO ------------------*/}\n            <div className=\"col\">\n              {\n                <div className=\"card h-100 m-0\">\n                  <div className=\"card-header d-print-none\">\n                    <h5 className=\"card-title w-100 d-block mb-2 text-capitalize text-bold\">\n                      <i className=\"fas fa-shield-alt mr-1\"></i>\n                      {helper.handleStatusString(status)}\n                    </h5>\n                  </div>\n\n                  <div className=\"card-body p-0\">\n                    <div className=\"p-0 mailbox-read-message m-0\">\n                      {!Boolean(status) && <Items items={items} />}\n\n                      {status === 1 ? (\n                        <LabOrder\n                          lab_id={lab_id}\n                          lab_order={lab_order}\n                          status={status}\n                          handleChange={handleChangeInput}\n                        />\n                      ) : null}\n\n                      {status === 2 ? (\n                        <Bicelacion\n                          bi_box={bi_box}\n                          bi_details={bi_details}\n                          status={status}\n                          handleChange={handleChangeInput}\n                        />\n                      ) : null}\n\n                      {status >= 3 ? (\n                        <div className=\"px-2\">\n                          <div className=\"my-2 border rounded card border-warning d-print-none\">\n                            <div className=\"card-body\">\n                              <h5 className=\"card-title\">\n                                Estado de la entrega\n                              </h5>\n                              <div className=\"ml-1 icheck-success d-inline\">\n                                <input\n                                  type=\"checkbox\"\n                                  checked={status === 3 ? false : true}\n                                  id=\"checkboxSuccess1\"\n                                  onChange={(e) =>\n                                    handleChangeInput(\n                                      \"status\",\n                                      status === 3 ? 4 : 3\n                                    )\n                                  }\n                                />\n                                <label htmlFor=\"checkboxSuccess1\"></label>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      ) : null}\n                    </div>\n                  </div>\n\n                  {LOADING ? (\n                    <div className=\"overlay dark d-print-none\">\n                      <i className=\"fas fa-2x fa-sync-alt fa-spin\"></i>\n                    </div>\n                  ) : null}\n                </div>\n              }\n            </div>\n          </div>\n\n          {/* MODAL VALIDATION EXAM */}\n          {showModal ? (\n            <ExamModal\n              handleClose={() => setShowModal(false)}\n              exam={state.exam}\n            />\n          ) : null}\n\n          {/* MODAL VALIDATION NOTA*/}\n          {showModalNota ? (\n            <ModalNota\n              handleClose={() => setShowModalNota(false)}\n              sale={state.sale}\n            />\n          ) : null}\n        </>\n      ) : null}\n\n      {state.print && (\n        <PrintSaleComponent\n          data={{\n            ...state.sale,\n            items: state.items,\n            order_id: state.id,\n          }}\n          setPrint={() => setState({ ...state, print: false })}\n        />\n      )}\n\n      <Activitys data={state.activitys ?? []} />\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport moment from \"moment\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useEffect, useState, useContext } from \"react\";\nimport useMessenger from \"../../hooks/useMessenger\";\n\nexport default function Messenger({ table, idRow }) {\n  const hookMessenger = useMessenger();\n  const authContext = useContext(AuthContext);\n  const { idUser } = authContext;\n\n  const [state, setState] = useState({\n    messages: [],\n    user: \"\",\n    load: true,\n    message: \"\",\n  });\n\n  const getMessenger = () => {\n    const options = {\n      table,\n      idRow,\n    };\n    hookMessenger.getMessages(options).then((data) => {\n      if (data.data) {\n        setState({\n          ...state,\n          messages: data.data,\n          user: idUser,\n          load: false,\n        });\n      }\n    });\n  };\n\n  const handleMessege = (e) => {\n    setState({\n      ...state,\n      message: e.target.value,\n    });\n  };\n\n  const sendMessenger = () => {\n    const message = state.message;\n    const bodyRequest = {\n      table: table,\n      idRow: idRow,\n      message: message,\n    };\n\n    setState({\n      ...state,\n      load: true,\n      message: \"\",\n    });\n\n    hookMessenger\n      .sendMessenger(bodyRequest)\n      .then((data) => {\n        if (data) {\n          setState({\n            ...state,\n            messages: [data.data, ...state.messages],\n            message: \"\",\n            load: false,\n          });\n        } else {\n          setState({\n            ...state,\n            load: false,\n            message,\n          });\n        }\n      })\n      .catch((error) => {\n        setState({\n          ...state,\n          load: false,\n          message,\n        });\n      });\n  };\n\n  useEffect(() => {\n    getMessenger();\n  }, []);\n\n  return (\n    <div className=\"card direct-chat direct-chat-primary d-print-none\">\n      <div className=\"card-header\">\n        <h3 className=\"card-title\">\n          <i className=\"fas fa-comments mr-1\"></i>\n          Chat\n          <span className=\"badge badge-pill badge-secondary ml-1\">{idRow}</span>\n        </h3>\n      </div>\n\n      {state.load ? (\n        <div className=\"card-body\">\n          <div className=\"card-text text-center p-4\">\n            <div className=\"spinner-border text-primary\" role=\"status\">\n              <span className=\"sr-only\">Loading...</span>\n            </div>\n          </div>\n        </div>\n      ) : state.messages.length ? (\n        <>\n          <div className=\"card-body\">\n            <div className=\"direct-chat-messages\" id=\"boxchat\">\n              {state.messages.map((message) => {\n                let avatar = \"/img/avatars/avatar5.png\";\n                // eslint-disable-next-line\n                if (message.created_user.rol === 1)\n                  avatar = \"/img/avatars/avatar2.png\";\n                if (!message.created_user.rol)\n                  avatar = \"/img/avatars/avatar3.png\";\n                if (message.created_user.id === 2)\n                  avatar = \"/img/avatars/avatar4.png\";\n                return (\n                  <div\n                    className={\n                      message.created_user.id === state.user\n                        ? \"direct-chat-msg right\"\n                        : \"direct-chat-msg\"\n                    }\n                    key={message.id}\n                  >\n                    <div className=\"direct-chat-infos clearfix\">\n                      <span\n                        className={\n                          message.created_user.id === state.user\n                            ? \"direct-chat-name float-right\"\n                            : \"direct-chat-name float-left\"\n                        }\n                      >\n                        {message.created_user.name}\n                      </span>\n                      <span\n                        className={\n                          message.created_user.id === state.user\n                            ? \"direct-chat-timestamp float-left\"\n                            : \"direct-chat-timestamp float-right\"\n                        }\n                      >\n                        {moment(message.updated_at).format(\"lll\")}\n                      </span>\n                    </div>\n                    <img\n                      className=\"direct-chat-img\"\n                      src={\n                        message.created_user.id === 1\n                          ? \"/img/avatars/OrusBot.png\"\n                          : avatar\n                      }\n                      alt=\"message user image1\"\n                    />\n                    <div className=\"direct-chat-text\">{message.mensaje}</div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </>\n      ) : (\n        <div className=\"card-body\">\n          <div className=\"card-text text-center p-4\">\n            <h5>\n              <i className=\"fas fa-comment-slash mr-1\"></i>\n              No hay mensajes aun\n            </h5>\n          </div>\n        </div>\n      )}\n\n      <div className=\"card-footer\">\n        <div className=\"input-group\">\n          <input\n            type=\"text\"\n            name=\"message\"\n            placeholder=\"Escriba un mensaje ...\"\n            className=\"form-control\"\n            value={state.message}\n            onChange={handleMessege}\n            onKeyPress={({ key }) => {\n              if (key === \"Enter\") {\n                sendMessenger();\n              }\n            }}\n          />\n          <span className=\"input-group-append\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={sendMessenger}\n              disabled={state.message.length > 1 ? false : true}\n            >\n              Enviar\n            </button>\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { api, setUrl } from \"../utils/url\";\n\nexport default function useMessenger() {\n  const getMessages = async (options) => {\n    const url = setUrl(\"messengers\", null, options);\n\n    return await api(url);\n  };\n\n  const sendMessenger = async (bodyRequest) => {\n    if (bodyRequest) {\n      const url = setUrl(\"messengers\");\n      return await api(url, \"POST\", bodyRequest);\n    }\n  };\n\n  return {\n    getMessages,\n    sendMessenger,\n  };\n}\n","import { useContext } from \"react\";\n//Context\nimport { OrderContext } from \"../../context/OderContext\";\nimport SideBar from \"../../pages/partials/SideBar\";\nimport Messenger from \"../Layouts/Messenger\";\nimport { useParams } from \"react-router-dom\";\n\nexport default function Toolbar() {\n  const orderContext = useContext(OrderContext);\n  const options = orderContext.options;\n\n  const { id } = useParams();\n\n  const handleSetSelectOptions = ({ target }) => {\n    const { value, name } = target;\n    //if(name === 'status' || name === 'itemsPage'){}\n    orderContext.set({\n      ...orderContext,\n      options: {\n        ...options,\n        [name]: value,\n      },\n    });\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-md-12 col-sm-12 d-print-none\">\n        <a\n          href=\"#new\"\n          className={\n            [\"edit\", \"newOrder\"].includes(orderContext.panel)\n              ? \"disabled mb-3 btn btn-secondary btn-block\"\n              : \"mb-3 btn btn-warning btn-block\"\n          }\n          onClick={(e) => {\n            e.preventDefault();\n            orderContext.set({\n              ...orderContext,\n              panel: \"newOrder\",\n            });\n          }}\n          disabled={\n            [\"edit\", \"newOrder\"].includes(orderContext.panel) ? true : false\n          }\n        >\n          <i className=\"mr-2 fas fa-plus\"></i>\n          Pedido nuevo\n        </a>\n\n        {orderContext.panel === \"inbox\" && (\n          <SideBar title=\"Filtros\">\n            {orderContext.panel === \"inbox\" ? (\n              <>\n                <li className=\"nav-item\">&nbsp;</li>\n                <li className=\"p-2 nav-item\">\n                  <label htmlFor=\"status\">Estado del pedido</label>\n                  <select\n                    className=\"form-control\"\n                    name=\"status\"\n                    id=\"status\"\n                    value={options.status}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"\">-- Todos --</option>\n                    <option value=\"0\">En proceso</option>\n                    <option value=\"1\">Laboratorio</option>\n                    <option value=\"2\">Bicelación</option>\n                    <option value=\"3\">Terminado</option>\n                    <option value=\"4\">Entregado</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"orderby\">Ordenar por</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"orderby\"\n                    id=\"orderby\"\n                    value={options.orderby}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"created_at\">Fecha de registro</option>\n                    <option value=\"updated_at\">Fecha de modificacion</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"order\">Mostrar por</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"order\"\n                    id=\"order\"\n                    value={options.order}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"asc\">Antiguos</option>\n                    <option value=\"desc\">Recientes</option>\n                  </select>\n                </li>\n                <li className=\"nav-item p-2\">\n                  <label htmlFor=\"itemsPage\">Numero de pedidos</label>\n                  <select\n                    className=\"form-control \"\n                    name=\"itemsPage\"\n                    id=\"itemsPage\"\n                    value={options.itemsPage}\n                    onChange={handleSetSelectOptions}\n                  >\n                    <option value=\"25\">ver 25</option>\n                    <option value=\"50\">ver 50</option>\n                    <option value=\"75\">ver 75</option>\n                    <option value=\"100\">ver 100</option>\n                  </select>\n                </li>\n              </>\n            ) : null}\n          </SideBar>\n        )}\n\n        {orderContext.panel === \"edit\" && (\n          <Messenger table=\"orders\" idRow={id} />\n        )}\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport { OrderContext } from \"../context/OderContext\";\n\n//Components\nimport Inbox from \"../components/Order/views/inbox\";\nimport Asistent from \"../components/Order/Asistent\";\nimport AddOrder from \"../components/Order/editOrder\";\nimport Toolbar from \"../components//Order/Toolbar.jsx\";\n\nconst initialOptions = {\n  page: 1,\n  orderby: \"created_at\",\n  order: \"desc\",\n  itemsPage: 25,\n  status: \"\",\n  search: \"\",\n};\n\nexport default function IndexOrderComponent(props) {\n  const [state, setState] = useState({\n    panel: null,\n    options: initialOptions,\n    order: {},\n  });\n\n  const { id } = props.match.params;\n\n  useEffect(() => {\n    setState({\n      ...state,\n      panel: id ? \"edit\" : \"inbox\",\n    });\n  }, [id]); \n\n  return (\n    <OrderContext.Provider value={{ ...state, set: setState }}>\n      <div className=\"row\" style={{ minHeight: \"100vh\" }}>\n        <div className=\"col-sm-12 col-md-2\">\n          <Toolbar/>\n        </div>\n        <div className=\"col-sm-12 col-md-10\">\n          {state.panel === \"inbox\" && <Inbox />}\n          {state.panel === \"newOrder\" && <Asistent {...props} />}\n          {state.panel === \"edit\" && <AddOrder {...props} />}\n        </div>\n      </div>\n    </OrderContext.Provider>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useState, Fragment, useContext, useEffect } from \"react\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function NotifyComponent() {\n  const { auth, getNotifications, setNotifications } = useContext(AuthContext);\n  const [state, setState] = useState({\n    notifications: [],\n    loading: true,\n    mainRole: auth.roles,\n  });\n  const { notifications, loading, mainRole } = state,\n    countNotify = notifications ? notifications.length : 0,\n    showNotifications = notifications.slice(0, 10);\n  let timerNotify;\n\n  // Functions\n  const handleNotifications = () => {\n      getNotifications()\n        .then((notifications) => {\n          setState({\n            ...state,\n            notifications,\n            loading: false,\n          });\n        })\n        .catch(() => {\n          setState({\n            ...state,\n            loading: false,\n          });\n        });\n    },\n    handleClickRead = (e, id) => {\n      if (id === -1) e.preventDefault();\n      setNotifications({ id });\n    };\n\n  useEffect(() => {\n    handleNotifications();\n\n    timerNotify = setInterval(() => {\n      console.log(\"[Orus system] check notifications\");\n      setState({\n        ...state,\n        loading: true,\n      });\n      handleNotifications();\n    }, 60000);\n\n    return () => {\n      clearInterval(timerNotify);\n    };\n  }, []);\n\n  return (\n    <li className=\"nav-item dropdown\">\n      <a className=\"nav-link\" data-toggle=\"dropdown\" href=\"#end\">\n        {loading ? (\n          <i className=\"fas fa-spinner fa-spin\"></i>\n        ) : (\n          <>\n            <i className=\"far fa-bell\"></i>\n            {countNotify ? (\n              <span className=\"badge badge-warning navbar-badge\">\n                {countNotify}\n              </span>\n            ) : null}\n          </>\n        )}\n      </a>\n\n      <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n        <span className=\"dropdown-header\">{countNotify} Notificaciones</span>\n        <div className=\"dropdown-divider\"></div>\n        {showNotifications.map((notify) => {\n          const notiFyType = notify.type.split(\"\\\\\", 3);\n          let title = \"general\",\n            icon = \"fa-file\",\n            time = moment(notify.created_at).fromNow(),\n            url = \"#end\";\n\n          if (notiFyType[2] === \"ExamNotification\") {\n            if (mainRole === \"doctor\") {\n              title = \"Examen creado\";\n              url = \"/consultorio/registro/\" + notify.data.id;\n            } else {\n              title = \"Examen actualizado\";\n              url = \"/pedidos/registro\";\n            }\n            icon = \"fa-file-alt\";\n          }\n\n          return (\n            <Link\n              to={url}\n              className=\"dropdown-item\"\n              key={notify.id}\n              onClick={(e) => {\n                handleClickRead(e, notify.id);\n              }}\n            >\n              <i className={\"fas \" + icon + \" mr-1\"}></i> {title}\n              <span className=\"float-right text-sm text-muted\">{time}</span>\n            </Link>\n          );\n        })}\n        {countNotify ? (\n          <Fragment>\n            <div className=\"dropdown-divider\"></div>\n            <a\n              href=\"#end\"\n              className=\"dropdown-item dropdown-footer\"\n              onClick={(e) => {\n                e.preventDefault();\n                handleClickRead(e, -1);\n              }}\n            >\n              Marcar todas.\n            </a>\n          </Fragment>\n        ) : null}\n        {/* <Link\n            to=\"/notificaciones\"\n            className=\"dropdown-item dropdown-footer\"\n            onClick={(e) => {\n              //this.props.page(\"/notificaciones\");\n            }}\n          >\n            Ver todas\n          </Link> */}\n      </div>\n    </li>\n  );\n}\n","import Notify from \"./notify\";\n\nexport default function NavtopComponent() {\n  return (\n    <nav className=\"main-header navbar navbar-expand navbar-dark navbar-lightblue\">\n      <ul className=\"navbar-nav\">\n        <li className=\"nav-item\">\n          <a\n            className=\"nav-link\"\n            data-widget=\"pushmenu\"\n            href=\"#navbar\"\n            role=\"button\"\n            onClick={(e) => {\n              e.preventDefault();\n              window.$(\"#body\").toggleClass(\"sidebar-open\");\n              window.$(\"#body\").toggleClass(\"sidebar-collapse\");\n            }}\n          >\n            <i className=\"fas fa-bars\"></i>\n          </a>\n        </li>\n      </ul>\n      <ul className=\"navbar-nav ml-auto\">\n        <li className=\"nav-item dropdown\">\n          <a href=\"#end\" className=\"nav-link\" data-toggle=\"dropdown\">\n            <i className=\"far fa-comments\"></i>\n          </a>\n          <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\">\n            <span className=\"dropdown-header\">Sin comentarios</span>\n            <div className=\"dropdown-divider\"></div>\n          </div>\n        </li>\n        <Notify />\n      </ul>\n    </nav>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useLocation } from \"react-router-dom\";\nimport { useContext, useState } from \"react\";\nimport moment from \"moment\";\nimport Modal from \"../../layouts/modal\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { ConfigContext } from \"../../context/ConfigContext\";\n\nexport default function BreadcrumbComponent() {\n  const { auth, setBranch } = useContext(AuthContext);\n  const config = useContext(ConfigContext);\n  const pathName = useLocation().pathname.split(\"/\");\n  const pathArray = pathName && pathName.length ? pathName : [\"dashboard\"];\n  const pathFilter = pathArray.filter((path) => ![\"\"].includes(path));\n  const namePage = pathFilter[0];\n  const currentBranch = auth.branch;\n  const [state, setState] = useState({\n    showChangeBranchs: false,\n    date: moment().format(\"LLLL\"),\n    branchSelect: currentBranch.id,\n  });\n\n  const branches = config.data?.filter((c) => c.name === \"branches\") ?? [];\n\n  // functions\n  const handleChangeBranch = (e) => {\n    e.preventDefault();\n\n    setState({\n      ...state,\n      showChangeBranchs: true,\n    });\n  };\n  const handleCancelModal = () => {\n    setState({ ...state, showChangeBranchs: false });\n  };\n  const handleClickChangeBranch = () => {\n    const { branchSelect: branch_id } = state;\n\n    handleCancelModal();\n\n    if (!branch_id) {\n      console.error(\"[Orus System][ERROR] branch id is empty\");\n      window.location.reload();\n      return;\n    }\n\n    window.Swal.fire({\n      text: \"¿Realmente desea cambiarse de sucursal?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      confirmButtonText: \"Confirmar\",\n      cancelButtonText: \"Cancelar\",\n      showLoaderOnConfirm: true,\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        setBranch(branch_id)\n          .then((res) => {\n            if (res) {\n              window.location.reload();\n            } else {\n              window.Swal.fire({\n                icon: \"error\",\n                text: \"Lo sentimos, hay un problema de comunicacion con el servidor. Comfirme el IP.\",\n                showConfirmButton: false,\n                timer: 3000,\n                position: \"top center\",\n              });\n            }\n          })\n\n          .catch((error) => {\n            if (error) {\n              console.error(\"[Orus System] When change branch:\", error.message);\n            }\n          });\n      }\n    });\n  };\n  const getHtmlBody = () => {\n    const { branchSelect } = state;\n\n    return (\n      <div className=\"form-group\">\n        <label>Seleccione la sucursal</label>\n        <select\n          className=\"form-control text-capitalize\"\n          onChange={({ target }) =>\n            setState({ ...state, branchSelect: parseInt(target.value) })\n          }\n          defaultValue={currentBranch?.id}\n        >\n          {branches.map((branch) => (\n            <option key={branch.id} value={branch.id}>\n              {branch.data.name}\n            </option>\n          ))}\n        </select>\n        <div className=\"mt-2 text-right\">\n          <button\n            className=\"btn btn-default\"\n            type=\"button\"\n            onClick={handleClickChangeBranch}\n            disabled={branchSelect === currentBranch?.id ? true : false}\n          >\n            Cambiar\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"content-header\">\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <h1 className=\"m-0 text-dark text-capitalize\">\n              <i className=\"mr-1 fas fa-file\"></i> {namePage}\n            </h1>\n          </div>\n          <div className=\"text-center col\">\n            <small\n              className=\"p-2 badge badge-secondary text-capitalize\"\n              alt=\"conectado a\"\n              title=\"conectado a\"\n            >\n              <i className=\"mr-1 fas fa-wifi text-success\"></i>\n              {config.server?.host}\n              {config.server?.port && config.server?.port !== \"80\"\n                ? `:${config.server?.port}`\n                : null}\n            </small>\n            <small\n              className=\"p-2 mt-1 ml-1 badge badge-secondary text-capitalize\"\n              alt=\"Almacenando en\"\n              title=\"Almacenando en\"\n            >\n              <i className=\"mr-1 fas fa-server text-success\"></i>\n              {auth.permissions?.includes(\"auth.changeBranch\") ? (\n                <a\n                  href=\"#link\"\n                  className=\"text-white\"\n                  onClick={handleChangeBranch}\n                >\n                  {currentBranch.name}\n                </a>\n              ) : (\n                currentBranch.name\n              )}\n            </small>\n            <small\n              className=\"p-2 mt-1 ml-2 badge badge-secondary text-capitalize\"\n              alt=\"Usuario conectado\"\n              title=\"Usuario conectado\"\n            >\n              <i className=\"mr-1 fas fa-user text-info\"></i> {auth.username}\n            </small>\n            {state.showChangeBranchs ? (\n              <Modal\n                title=\"Cambiar de sucursal\"\n                body={getHtmlBody()}\n                handleCancel={handleCancelModal}\n              />\n            ) : null}\n          </div>\n          <div className=\"col\">\n            <h6 className=\"text-right text-muted\">\n              <i className=\"mr-1 fas fa-calendar\"></i> {state.date}\n            </h6>\n          </div>\n        </div>\n      </div>\n      <hr />\n    </div>\n  );\n}\n","import { useContext } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function MenuComponent() {\n  const { auth, outSession } = useContext(AuthContext);\n  const handleLogOut = (e) => {\n    e.preventDefault();\n\n    window.Swal.fire({\n      title: \"Session\",\n      text: \"¿Esta seguro de cerrar la sesion?\",\n      icon: \"question\",\n      showCancelButton: true,\n      confirmButtonColor: \"#007bff\",\n      confirmButtonText: \"Si\",\n      cancelButtonText: \"Cancelar\",\n    }).then(({ dismiss }) => {\n      if (!dismiss) {\n        outSession();\n\n        setTimeout(() => {\n          window.location.reload();\n        }, 2000);\n      }\n    });\n  };\n\n  // TODO: import auth context\n  const companyName = \"Optica Madero\",\n    active = useLocation().pathname.replace(\"/\", \"\");\n\n  let avatar = \"/img/avatars/avatar5.png\";\n  if (auth.roles === \"ventas\") avatar = \"/img/avatars/avatar2.png\";\n  if (auth.roles === \"admin\") avatar = \"/img/avatars/avatar3.png\";\n  if (auth.idUser === 2) avatar = \"/img/avatars/avatar4.png\";\n\n  return (\n    <aside className=\"main-sidebar sidebar-dark-primary\">\n      <Link to=\"/\" className=\"brand-link\">\n        <img\n          src=\"/img/logo.png\"\n          alt={companyName + \" logo \"}\n          className=\"brand-image img-circle elevation-2\"\n          style={{ opacity: 0.8, maxHeight: 16 }}\n        />\n        <span className=\"brand-text font-weight-light text-uppercase\">\n          {companyName}\n        </span>\n      </Link>\n      <div className=\"sidebar\">\n        <div className=\"pb-3 mt-3 mb-3 user-panel d-flex\">\n          <div className=\"image\">\n            <img\n              src={avatar}\n              className=\"img-circle elevation-2\"\n              alt={auth.name}\n            />\n          </div>\n          <div className=\"info\">\n            <a href=\"#end\" className=\"d-block text-capitalize\">\n              {auth.name}\n              <small className=\"text-lowercase\">({auth.username})</small>\n              <br />\n              <span className=\"badge badge-light\">\n                {auth.roles !== \"admin\"\n                  ? auth.roles === \"ventas\"\n                    ? \"Ventas\"\n                    : \"Optometrista\"\n                  : \"Administrador\"}\n              </span>\n            </a>\n          </div>\n        </div>\n        <nav className=\"mt-2\">\n          <ul\n            className=\"nav nav-pills nav-sidebar flex-column\"\n            data-widget=\"treeview\"\n            role=\"menu\"\n            data-accordion=\"false\"\n          >\n            {auth.roles === \"admin\" ? (\n              <li className=\"nav-item\">\n                <Link\n                  to=\"/\"\n                  className={active === \"\" ? \"nav-link active\" : \"nav-link\"}\n                >\n                  <i className=\"nav-icon fas fa-tachometer-alt\"></i>\n                  <p>\n                    Dashboard\n                    <i className=\"right fas fa-angle-left\"></i>\n                  </p>\n                </Link>\n              </li>\n            ) : null}\n\n            <li className=\"nav-item\">\n              <Link\n                to=\"/contactos\"\n                className={\n                  active === \"contactos\" ? \"nav-link active\" : \"nav-link\"\n                }\n              >\n                <i className=\"nav-icon fas fa-address-book\"></i>\n                <p>\n                  Contactos\n                  <i className=\"right fas fa-angle-left\"></i>\n                </p>\n              </Link>\n            </li>\n\n            <li className=\"nav-item\">\n              <Link\n                to=\"/consultorio\"\n                className={\n                  active === \"consultorio\" ||\n                  (active === \"\" && auth.roles === \"doctor\")\n                    ? \"nav-link active\"\n                    : \"nav-link\"\n                }\n              >\n                <i className=\"nav-icon fas fa-notes-medical\"></i>\n                <p>\n                  Examenes\n                  <i className=\"right fas fa-angle-left\"></i>\n                </p>\n              </Link>\n            </li>\n\n            {auth.roles !== \"doctor\" ? (\n              <>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/pedidos\"\n                    className={\n                      active === \"pedidos\" ||\n                      (active === \"\" && auth.roles === \"ventas\")\n                        ? \"nav-link active\"\n                        : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-clipboard-list\"></i>\n                    <p>\n                      Pedidos\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/notas\"\n                    className={\n                      active === \"notas\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-cash-register\"></i>\n                    <p>\n                      Ventas\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n              </>\n            ) : null}\n\n            {auth.roles === \"admin\" ? (\n              <>\n                <li\n                  className={\n                    active === \"almacen\"\n                      ? \"nav-item has-treeview menu-open\"\n                      : \"nav-item has-treeview \"\n                  }\n                >\n                  <Link\n                    to=\"/almacen\"\n                    className={\n                      active === \"almacen\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-database\"></i>\n                    <p>\n                      Almacen\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/usuarios\"\n                    className={\n                      active === \"usuarios\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-user\"></i>\n                    <p>\n                      Usuarios\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link\n                    to=\"/configuraciones\"\n                    className={\n                      active === \"configuraciones\"\n                        ? \"nav-link active\"\n                        : \"nav-link\"\n                    }\n                  >\n                    <i className=\"nav-icon fas fa-tools\"></i>\n                    <p>\n                      Configuraciones\n                      <i className=\"right fas fa-angle-left\"></i>\n                    </p>\n                  </Link>\n                </li>\n              </>\n            ) : null}\n\n            <li className=\"nav-item\">\n              <Link to=\"/\" className=\"nav-link\" onClick={handleLogOut}>\n                <i className=\"nav-icon fas fa-sign-out-alt\"></i>\n                <p>Cerrar sesion</p>\n              </Link>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </aside>\n  );\n}\n","import Navtop from \"../components/Layouts/navtop\";\nimport Breadcrumb from \"../components/Layouts/breadcrumb\";\nimport Menu from \"../components/Layouts/menu\";\n\nexport default function Main({ children }) {\n  const data = {};\n\n  return (\n    <div className=\"wrapper\" >\n      <Navtop logOut={() => {}} data={data} page={() => {}} />\n      \n      <Menu\n        companyName={\"company\"}\n        user={data}\n        page={() => {}}\n        logOut={() => {}}\n        active={\"active\"}\n      />\n\n      <div className=\"content-wrapper\">\n        <Breadcrumb />\n        <div className=\"content\">\n          <div className=\"container-fluid\">\n            <div className=\"row\" style={{minHeight:'100vh'}}>\n              <div className=\"col-lg-12\">{children}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","import { Route } from \"react-router-dom\";\nimport UserAdd from \"../components/Users/add\";\nimport Store from \"../pages/Store\";\nimport Contacts from \"../pages/Contacts\";\nimport Tools from '../pages/Tools';\nimport Exams from \"../pages/Exams\";\nimport Sales from \"../pages/Sales\";\nimport Dashboard from \"../pages/AuthDashboard\";\nimport Users from \"../pages/Users\";\nimport Orders from \"../pages/Orders\";\n\nimport ConfigProvider from \"../context/ConfigContext\";\nimport Main from \"../layouts/Main\";\n\nexport default function Routers({ auth }) {\n  return (\n    <ConfigProvider>\n      <Main>\n        <Route\n          exact\n          path=\"/\"\n          render={(props) => {\n            switch (auth.roles) {\n              case \"doctor\":\n                return <Exams {...props} />;\n\n              case \"ventas\":\n                return <Orders {...props} />;\n\n              default:\n                return <Dashboard {...props} />;\n            }\n          }}\n        />\n\n        <Route\n          path=\"/usuarios/registro/:id?\"\n          render={(props) => <UserAdd {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/usuarios/:id?\"\n          render={(props) => <Users {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/almacen/:id?\"\n          render={(props) => <Store {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/contactos/:id?\"\n          render={(props) => <Contacts {...props} page={() => {}} />}\n        />\n\n        <Route\n          path=\"/consultorio/:id?\"\n          render={(props) => <Exams {...props} />}\n        />\n\n        <Route\n          path=\"/configuraciones\"\n          render={(props) => <Tools {...props} page={() => {}} />}\n        />\n\n        <Route path=\"/pedidos/:id?\" render={(props) => <Orders {...props} />} />\n\n        <Route\n          path=\"/notas/:id?\"\n          render={(props) => <Sales {...props} page={() => {}} />}\n        />\n\n        {/* <Route\n              path=\"/notificaciones\"\n              render={(props) => (\n                <NotifyAllShow {...props} data={data} page={this.handlePage} />\n              )}\n            /> */}\n      </Main>\n    </ConfigProvider>\n  );\n}\n","export default function Dashboard() {\n  return (\n    <div className=\"mx-auto p-4 mt-5 w-50\">\n      <h1>Portal Optica Madero</h1>\n      <p>Para accesar al portal inicia session aqui: </p>\n      <button\n        onClick={() => {\n          window.location.href = \"/login\";\n        }}\n        type=\"button\"\n      >\n        Acceder\n      </button>\n    </div>\n  );\n}\n","import { Route } from \"react-router-dom\";\nimport Dashboard from \"../pages/Dashboard\";\n\nexport default function RouterPortal() {\n  return (\n    <>\n      <Route exact path=\"/\" render={(props) => <Dashboard />} />\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nexport default function NotFoundComponent() {\n  return (\n    <div className=\"container text-center font-weight-bold d-flex justify-content-center mt-5\">\n      <h1>404 Not Found</h1>\n    </div>\n  );\n}\n","/* eslint-disable no-useless-escape */\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { useContext, useEffect, useState, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport default function Login() {\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n  const LS = localStorage.getItem(\"OrusSystem\");\n  const defaultStorage = {\n    protocol: window.location.protocol.replace(\":\", \"\"),\n    host: window.location.hostname,\n    port: window.location.port,\n  };\n  const storage = LS ? JSON.parse(LS) : defaultStorage;\n  const server = `${storage.protocol + \"://\" ?? \"\"}${storage.host ?? \"\"}${\n    \":\" + storage.port ?? \"\"\n  }`;\n  const [state, setState] = useState({\n    load: false,\n    email: \"\",\n    password: \"\",\n    txtHost: server,\n    hostShow: server ? false : true,\n  });\n  const COMPANY = \"Optica Madero\";\n  const inputEmail = useRef();\n  const inputPassword = useRef();\n\n  // Functions\n  const handleLogin = () => {\n    const patterEmail = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if (!state.email) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de correo electronico es requerido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputEmail.current.focus();\n      });\n    }\n\n    if (/^@./.test(state.email)) {\n      const user = state.email.replace(\"@\", \"\");\n\n      state.email = `${user}@domain.com`;\n    } else if (!patterEmail.test(state.email)) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El usuario debe de ser un correo valido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputEmail.current.focus();\n      });\n    }\n\n    if (\n      ![\"domain.com\", \"opticamadero.com\"].includes(state.email.split(\"@\")[1])\n    ) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El dominio de este correo no es aceptado\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        setState({\n          ...state,\n          email: \"\",\n        });\n      });\n    }\n\n    if (!state.password) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de constraseña es requerido\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputPassword.current.focus();\n      });\n    }\n\n    if (state.password.length < 8) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El password debe de tener al menos 8 caracteres\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      }).then(() => {\n        inputPassword.current.focus();\n      });\n    }\n\n    setState({\n      ...state,\n      load: true,\n    });\n\n    auth\n      .setSession({ email: state.email, password: state.password })\n      .then((res) => {        \n        setState({\n          ...state,\n          load: false,\n        });\n\n        if (!res.status) {\n          let message = res.message;\n\n          if (res.data?.errors) {\n            message = res.data?.errors[Object.keys(res.data.errors)[0]][0];\n          }\n\n          if (!message && res.data) message = res.data.message;\n\n          return window.Swal.fire({\n            icon: \"error\",\n            text: message,\n            showConfirmButton: false,\n            timer: 2500,\n            position: \"top center\",\n          });\n        }\n\n        history.push(\"/\");\n      });\n  };\n  const handleKeyEnter = (key, fn) => {\n    if (key === \"Enter\") {\n      fn();\n    }\n  };\n  const handleChangeServer = () => {\n    const { txtHost } = state;\n\n    if (!txtHost) {\n      return window.Swal.fire({\n        icon: \"error\",\n        text: \"El campo de servidor no puede estar vacio\",\n        showConfirmButton: false,\n        timer: 2500,\n        position: \"top center\",\n      });\n    }\n\n    const server = txtHost.split(\":\");\n    let host, port, protocol;\n\n    if (server.length === 2) {\n      protocol = window.location.protocol.replace(\":\", \"\");\n      host = server[0].replace(\"//\", \"\");\n      port = server[1];\n    } else if (server.length === 3) {\n      protocol = server[0];\n      host = server[1].replace(\"//\", \"\");\n      port = server[2];\n    } else {\n      protocol = window.location.protocol.replace(\":\", \"\");\n      host = window.location.hostname;\n      port = window.location.port;\n    }\n\n    localStorage.setItem(\n      \"OrusSystem\",\n      JSON.stringify({\n        ...storage,\n        protocol,\n        host,\n        port,\n        token: \"\",\n      })\n    );\n\n    setState({\n      ...state,\n      hostShow: false,\n    });\n\n    window.Swal.fire({\n      icon: \"success\",\n      text: \"Cambio de servidor exitoso\",\n      showConfirmButton: false,\n      timer: 2500,\n      position: \"top center\",\n    });\n  };\n  const handleEmailEnter = () => {\n    if (state.email) inputPassword.current.focus();\n  };\n\n  useEffect(() => {\n    if (auth.auth?.isLogged) {\n      history.push(\"/\");\n    }\n  }, []);\n\n  return (\n    <div className=\"login-page\">\n      <div className=\"login-box\">\n        <div className=\"login-logo\">\n          <a href=\"#logo\" onClick={(e) => e.preventDefault()}>\n            <b className=\"text-primary\">Orus</b> LTE\n          </a>\n        </div>\n\n        <div className=\"rounded shadow-lg card\">\n          <div className=\"card-body login-card-body\">\n            <p className=\"login-box-msg text-uppercase\">\n              <span className=\"p-2 badge badge-secondary\">{COMPANY}</span>\n              <br />\n              <small className=\"text-muted text-lowercase\">{`<${state.txtHost}>`}</small>\n            </p>\n            <form autoComplete=\"off\">\n              <div className=\"mb-0 input-group\">\n                <input\n                  type=\"email\"\n                  className=\"form-control text-lowercase\"\n                  placeholder=\"Correo electonico\"\n                  onChange={({ target }) =>\n                    setState({ ...state, email: target.value.toLowerCase() })\n                  }\n                  onKeyPress={({ key }) =>\n                    handleKeyEnter(key, handleEmailEnter)\n                  }\n                  defaultValue={state.email}\n                  autoComplete=\"false\"\n                  ref={inputEmail}\n                  autoFocus={state.email ? false : true}\n                />\n                <div className=\"input-group-append\">\n                  <div className=\"input-group-text\">\n                    <span className=\"fas fa-user\"></span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"mt-3 input-group\">\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Contraseña\"\n                  onChange={({ target }) =>\n                    setState({ ...state, password: target.value })\n                  }\n                  onKeyPress={({ key }) => handleKeyEnter(key, handleLogin)}\n                  defaultValue={state.password}\n                  autoComplete=\"false\"\n                  ref={inputPassword}\n                  autoFocus={\n                    state.email ? (state.password ? false : true) : false\n                  }\n                />\n                <div className=\"input-group-append\">\n                  <div className=\"input-group-text\">\n                    <span className=\"fas fa-lock\"></span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"row\">\n                <div className=\"my-3 col-12\">\n                  <a\n                    href=\"#tools\"\n                    onClick={(e) => {\n                      e.preventDefault();\n                      setState({ ...state, hostShow: !state.hostShow });\n                    }}\n                    className=\"text-muted\"\n                  >\n                    <i className=\"mx-1 fas fa-wifi\"></i> Servidor\n                  </a>\n                  {state.hostShow ? (\n                    <div className=\"mb-3 input-group\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Servidor\"\n                        autoComplete=\"off\"\n                        onChange={({ target }) =>\n                          setState({\n                            ...state,\n                            txtHost: target.value.toLowerCase(),\n                          })\n                        }\n                        defaultValue={state.txtHost}\n                        onKeyPress={({ key }) =>\n                          handleKeyEnter(key, handleChangeServer)\n                        }\n                      />\n                      <div className=\"input-group-append\">\n                        <div className=\"input-group-text\">\n                          <span className=\"fas fa-server\"></span>\n                        </div>\n                      </div>\n                    </div>\n                  ) : null}\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"text-center col-12\">\n                  <button\n                    type=\"button\"\n                    className={\n                      state.load\n                        ? \"btn btn-outline-secondary btn-block\"\n                        : \"btn btn-primary btn-block\"\n                    }\n                    onClick={handleLogin}\n                    disabled={state.load ? true : false}\n                  >\n                    {state.load ? (\n                      <div className=\"spinner-border text-secondary\">\n                        <span className=\"sr-only\">Loading...</span>\n                      </div>\n                    ) : (\n                      \"Iniciar session\"\n                    )}\n                  </button>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useContext } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/AuthContext\";\nimport RouterAuth from \"./RouterAuth\";\nimport RouterPortal from \"./RouterPortal\";\nimport NotFound from \"../components/404NotFound\";\nimport Login from \"../pages/Login\";\n\nexport default function Router() {\n  const { auth } = useContext(AuthContext);  \n  \n  return (\n    <Switch>\n      <Route path=\"/login\" render={() => <Login />} />\n      {auth?.isLogged ? <RouterAuth auth={auth} /> : <RouterPortal />}\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { BrowserRouter } from \"react-router-dom\";\n//import { Provider } from \"react-redux\";\n\n//import store from \"./redux/store\";\nimport AuthProvider from \"./context/AuthContext\";\nimport Router from \"./routers/Router\";\nimport { useEffect } from \"react\";\n\nexport default function App() {\n  const LS = localStorage.getItem(\"OrusSystem\");\n  const defaultStorage = {\n    protocol: window.location.protocol.replace(\":\", \"\"),\n    host: window.location.hostname,\n    port: window.location.port,\n  };\n  const storage = LS ? JSON.parse(LS) : defaultStorage;\n\n  useEffect(() => {\n    localStorage.setItem(\"OrusSystem\", JSON.stringify(storage));\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>       \n        <Router />\n      </AuthProvider>\n    </BrowserRouter>\n  );\n\n  /* return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Provider store={store}>\n          <Router />\n        </Provider>\n      </AuthProvider>\n    </BrowserRouter>\n  ); */\n}\n","import { render } from \"react-dom\";\nimport App from \"./App\";\n\nrender(<App />, document.getElementById(\"root\"));\n","module.exports = {\n  dollarUS: Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  }),\n};\n"],"sourceRoot":""}